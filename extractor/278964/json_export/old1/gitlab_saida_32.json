[{"id":102878257,"iid":353486,"project_id":278964,"title":"Bump kubesec's packaged helm version to latest","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nOur kubesec analyzer currently ships with helm in order to compile user's k8s manifests easily for ~\"Category:SAST\" scanning.\n\nThe current helm version is listed as 3.4.2. This is quite old as the latest version is 3.8.0 (as of this writing). We should bump to the latest.\n\nI'm unsure how stable helm minor releases are, so in this process we should ensure we are not introducing an significant breaking changes or regressions in doing so.","state":"closed","created_at":"2022-02-22T17:11:41.759Z","updated_at":"2022-08-04T13:34:00.266Z","closed_at":"2022-06-28T15:41:04.124Z","closed_by":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"labels":["Category:SAST","Deliverable","customer","devops::secure","group::static analysis","section::sec","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"}],"author":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"type":"ISSUE","assignee":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353486","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353486","notes":"https://gitlab.com/api/v4/projects/278964/issues/353486/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353486/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353486","relative":"#353486","full":"gitlab-org/gitlab#353486"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102878071,"iid":353485,"project_id":278964,"title":"Allow WorkItem Global ID to receive Issue Global ID as input","description":"During the transition from Issues into WorkItems, most of the GraphQL API exposes Issue Global IDs and not WorkItem Global IDs.\n\nNew Work Items API expects work item global IDs, but internally both IDs are the same (Issue and work items). `gid://gitlab/Issue/100` == `gid/gitlab/WorkItem/100` at the DB level. It would be useful that GraphQL input type `WorkItemID` also works with input like `gid://gitlab/Issue/100` or `gid://gitlab/WorkItem/100`\n\nReference discussion in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80758#note_848378610","state":"closed","created_at":"2022-02-22T17:07:22.508Z","updated_at":"2022-03-15T20:47:17.078Z","closed_at":"2022-03-15T20:47:17.057Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["auto updated","devops::plan","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353485","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353485","notes":"https://gitlab.com/api/v4/projects/278964/issues/353485/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353485/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353485","relative":"#353485","full":"gitlab-org/gitlab#353485"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7110,"epic":{"id":382837,"iid":7110,"title":"ðŸš€ Create a new Task work item from Markdown Task","url":"/groups/gitlab-org/-/epics/7110","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102865147,"iid":353474,"project_id":278964,"title":"Add support for removing related epics","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/351597.\n\nAdd required service and controller to destroy related epic links using an internal endpoint.\n\nThe new service should inherit from [`IssuableLinks::DestroyService`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/issuable_links/destroy_service.rb) and match the functionality of [`IssueLinks::DestroyService`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/issue_links/destroy_service.rb).\n\nSimilarly to [`IssueLinksController`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/projects/issue_links_controller.rb), the new controller should include the functionality of [`IssuableLinks`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/concerns/issuable_links.rb).\n\nWe should create system notes when destroying these links. See [`SystemNoteService#unrelate_issue`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/system_note_service.rb#L52).\n\nThis feature would be developed behind a ~\"feature flag\" and needs to perform license checks (implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/352439).\n\n#### Existing functionality for removing related issues:\n\n`DELETE /*namespace_id/:project_id/-/issues/:issue_id/links/:id`\n\n**Example Response body**\n```json\n{\"issuables\":[{\"id\":1554,\"confidential\":false,\"title\":\"New Issue Title 972\",\"assignees\":[],\"state\":\"opened\",\"milestone\":null,\"weight\":null,\"reference\":\"#1008\",\"path\":\"/gitlab-org/gitlab-test/-/issues/1008\",\"due_date\":null,\"created_at\":\"2021-03-11T10:49:42.297Z\",\"closed_at\":null,\"relation_path\":\"/gitlab-org/gitlab-test/-/issues/1037/links/10\",\"link_type\":\"blocks\"}]}\n``` \n\nGiven that a similar endpoint exists already for epics `DELETE /groups/*group_id/-/epics/:epic_id/links/:id`, we have to consider an alternative name.\n\nFor example, `DELETE /groups/*group_id/-/epics/:epic_id/related_epic_links/:id`\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-22T14:00:21.561Z","updated_at":"2022-03-18T07:00:45.740Z","closed_at":"2022-03-09T12:25:41.795Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Deliverable","Next Up","backend","devops::plan","direction","feature flag","frontend","group::product planning","section::dev","type::feature","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353474","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353474","notes":"https://gitlab.com/api/v4/projects/278964/issues/353474/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353474/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353474","relative":"#353474","full":"gitlab-org/gitlab#353474"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102864830,"iid":353473,"project_id":278964,"title":"Add support for relating epics","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/351597.\n\nAdd required service and controller to be able to relate epics using an internal endpoint.\n\nThe new service should inherit from [`IssuableLinks::CreateService`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/issuable_links/create_service.rb) and match the functionality of [`IssueLinks::CreateService`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/issue_links/create_service.rb).\n\nSimilarly to [`IssueLinksController`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/projects/issue_links_controller.rb), the new controller should include the functionality of [`IssuableLinks`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/concerns/issuable_links.rb).\n\nWe should create system notes when relating epics. See [`SystemNoteService#relate_issue`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/system_note_service.rb#L48).\n\nThis feature would be developed behind a ~\"feature flag\" and needs to perform license checks (implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/352439).\n\n#### Existing functionality for relating issues:\n\n`POST /*namespace_id/:project_id/-/issues/:issue_id/links`\n\n**Example Request Payload**\n```json\n{\"issuable_references\":[\"#1008\"],\"link_type\":\"blocks\"}\n```\n\n**Example Response Body**\n```json\n[{\"id\":1549,\"confidential\":false,\"title\":\"New Issue Title 967\",\"assignees\":[],\"state\":\"opened\",\"milestone\":null,\"weight\":null,\"reference\":\"#1003\",\"path\":\"/gitlab-org/gitlab-test/-/issues/1003\",\"due_date\":null,\"created_at\":\"2021-03-11T10:49:42.124Z\",\"closed_at\":null,\"relation_path\":\"/gitlab-org/gitlab-test/-/issues/1037/links/9\",\"link_type\":\"relates_to\"}]\n```\n\nGiven that a similar endpoint alreayd exists for epics `POST /groups/*group_id/-/epics/:epic_id/links(.:format)`, we have to consider a different name. \n\nFor example `POST /groups/*group_id/-/epics/:epic_id/related_epic_links(.:format)`\n\n### Additional notes\n\n- [x] Also add (if needed) `relation_path` to `ee/app/serializers/epics/related_epic_entity.rb` (this couldn't be added as part of https://gitlab.com/gitlab-org/gitlab/-/issues/353472 because this route was not defined yet, but it will be probably needed by FE for sending create/destroy requests\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-22T13:56:32.207Z","updated_at":"2022-03-18T07:00:45.937Z","closed_at":"2022-03-16T12:01:48.844Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Deliverable","Next Up","backend","devops::plan","direction","feature flag","frontend","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353473","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353473","notes":"https://gitlab.com/api/v4/projects/278964/issues/353473/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353473/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353473","relative":"#353473","full":"gitlab-org/gitlab#353473"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102864548,"iid":353472,"project_id":278964,"title":"Add support for listing related epics","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/351597.\n\nAdd required service and controller to list related epics using an internal endpoint.\n\nThe new service should inherit from [`IssuableLinks::ListService`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/issuable_links/list_service.rb) and match the functionality of [`IssueLinks::ListService`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/issue_links/list_service.rb).\n\nSimilarly to [`IssueLinksController`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/projects/issue_links_controller.rb), the new controller should include the functionality of [`IssuableLinks`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/concerns/issuable_links.rb).\n\nThis feature would be developed behind a ~\"feature flag\" and needs to perform license checks (implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/352439).\n\n#### Existing functionality for listing related issues:\n\n`GET /*namespace_id/:project_id/-/issues/:issue_id/links`\n\n**Example Response Body**\n```json\n[{\"id\":1549,\"confidential\":false,\"title\":\"New Issue Title 967\",\"assignees\":[],\"state\":\"opened\",\"milestone\":null,\"weight\":null,\"reference\":\"#1003\",\"path\":\"/gitlab-org/gitlab-test/-/issues/1003\",\"due_date\":null,\"created_at\":\"2021-03-11T10:49:42.124Z\",\"closed_at\":null,\"relation_path\":\"/gitlab-org/gitlab-test/-/issues/1037/links/9\",\"link_type\":\"relates_to\"}]\n```\n\nGiven that a similar endpoint exists already for epics `GET /groups/*group_id/-/epics/:epic_id/links`, we have to consider an alternative name. \n\nFor example, `GET /groups/*group_id/-/epics/:epic_id/related_epic_links`\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-22T13:52:27.188Z","updated_at":"2022-03-18T07:00:46.117Z","closed_at":"2022-03-08T13:00:58.795Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Deliverable","Next Up","backend","devops::plan","direction","feature flag","frontend","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353472","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353472","notes":"https://gitlab.com/api/v4/projects/278964/issues/353472/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353472/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353472","relative":"#353472","full":"gitlab-org/gitlab#353472"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102859653,"iid":353461,"project_id":278964,"title":"Investigate performance degradation of GroupsController due to ban_user_feature_flag on large environments like 50k","description":"The TTFB (Time to First Byte) of several `GroupsController` web endpoints in performance tests have degraded significantly on our largest 50k environment:\n\n```\n* Environment:                50k\n* Environment Version:        14.8.0-pre `ffc662fac2b`\n* Option:                     60s_1000rps\n* Date:                       2022-02-21\n* Run Time:                   1h 30m 48.38s (Start: 04:39:10 UTC, End: 06:09:59 UTC)\n* GPT Version:                v2.10.0\n\nNAME                                                     | RPS    | RPS RESULT           | TTFB AVG   | TTFB P90              | REQ STATUS     | RESULT  \n---------------------------------------------------------|--------|----------------------|------------|-----------------------|----------------|---------\nweb_group                                                | 100/s  | 64.17/s (\u003e80.00/s)   | 1542.31ms  | 3730.82ms (\u003c400ms)    | 100.00% (\u003e99%) | FAILEDÂ¹Â²\nweb_group_issues                                         | 100/s  | 6.13/s (\u003e80.00/s)    | 12958.83ms | 22459.75ms (\u003c500ms)   | 100.00% (\u003e99%) | FAILEDÂ¹Â²\nweb_group_merge_requests                                 | 100/s  | 29.39/s (\u003e80.00/s)   | 3025.91ms  | 5091.28ms (\u003c500ms)    | 100.00% (\u003e99%) | FAILEDÂ¹Â²\n```\n\n- Metrics: http://50k.testbed.gitlab.net/-/grafana/d/J0ysCtCWz/gpt-test-results?orgId=1\u0026var-test_name=web_group\u0026var-test_name=web_group_issues\u0026var-test_name=web_group_merge_requests\u0026from=now-30d\u0026to=now\n- GitLab changes between 2022-01-31 (latest successful test run) and 2022-02-14 results https://gitlab.com/gitlab-org/gitlab/-/compare/b09a2f0281e...cfe9ec8eb6d \n\n![Screenshot_2022-02-23_at_16.49.14](/uploads/30bd0627d4af1ffde5be79b09e760315/Screenshot_2022-02-23_at_16.49.14.png)\n\nLooking at the [server metrics during the test](http://50k.testbed.gitlab.net/-/grafana/d/tVdO8YIWz/server-performance?orgId=1\u0026from=1645465361135\u0026to=1645465738727), all PG nodes goes up to 100% in CPU utilization:\n\n![Screenshot_2022-02-21_at_20.49.28](/uploads/289920dfa6e02e33075e6d3f47edb7f9/Screenshot_2022-02-21_at_20.49.28.png)\n\n\u003e :construction:  Worth mentioning that on 10k environments these tests all pass - http://10k.testbed.gitlab.net/-/grafana/d/J0ysCtCWz/gpt-test-results?orgId=1\u0026from=now-30d\u0026to=now\u0026var-test_name=web_group_issues\u0026var-test_name=web_group\u0026var-test_name=web_group_merge_requests\n\n\u003e :construction:  `web_group`, `web_group_issues` and `web_group_merge_requests` tests started to fail at the same time on 2022-02-14, see also https://gitlab.com/gitlab-org/gitlab/-/issues/334439\n\n[After some investigation this looks to be due to the `ban_user_feature_flag` being enabled by default](https://gitlab.com/gitlab-org/gitlab/-/issues/353461#note_852878800).\n\n### Test Details\n\nTesting was done on our [50k Reference Architecture](https://docs.gitlab.com/ee/administration/reference_architectures/50k_users.html) environment with [our lab condition GitLab Performance Tool pipeline](https://gitlab.com/gitlab-org/quality/performance). The [group](https://gitlab.com/gitlab-org/quality/performance/-/blob/main/docs/environment_prep.md#setting-up-test-data-with-the-gpt-data-generator) being tested has 1000 subgroups with 10 projects each and also has a copy of [gitlabhq](https://staging.gitlab.com/gpt/large_projects/gitlabhq1/) (tarball can be found [here](https://gitlab.com/gitlab-org/quality/performance-data/-/blob/master/projects_export/gitlabhq_export_13.0.0.tar.gz)). GitLab Performance Tool tests information is listed at [Current test details](https://gitlab.com/gitlab-org/quality/performance/-/wikis/current-test-details) page.\n\nThe latest GitLab Performance pipeline results can always be found [here](https://gitlab.com/gitlab-org/quality/performance/-/wikis/Benchmarks/Latest/50k). Through this page full Server Metrics can be found via the `Metrics Dashboard` link on that page.\n\nAs per our [performance targets](https://about.gitlab.com/handbook/engineering/quality/issue-triage/#severity) this endpoint's TTFB metric is above the target of 9000 ms which is ~\"severity::1\". Task is to investigate why performance has degraded and improve it.","state":"closed","created_at":"2022-02-22T12:27:29.649Z","updated_at":"2022-05-24T12:01:04.570Z","closed_at":"2022-05-02T17:41:29.115Z","closed_by":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"labels":["Category:Team Planning","Deliverable","Quality:performance-issues","approaching-SLO","backend","bug::performance","devops::manage","group::organization","missed-SLO","missed-deliverable","performance-refinement","priority::1","section::dev","severity::1","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"}],"author":{"id":4477602,"username":"niskhakova","name":"Nailia Iskhakova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477602/avatar.png","web_url":"https://gitlab.com/niskhakova"},"type":"ISSUE","assignee":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"user_notes_count":56,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353461","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353461","notes":"https://gitlab.com/api/v4/projects/278964/issues/353461/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353461/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353461","relative":"#353461","full":"gitlab-org/gitlab#353461"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102854148,"iid":353457,"project_id":278964,"title":"[SaaS] Only show the overage modal to groups enrolled in quarterly reconciliation","description":"Show overage modal only when adding members/group to a group enrolled in quarterly reconciliation.\n\nProposal: for a root subscription of the group pass `eligible_for_seat_usage_alerts` to frontend and based on define if the overage check should be initiated or not.","state":"closed","created_at":"2022-02-22T10:56:42.626Z","updated_at":"2022-10-13T07:08:01.827Z","closed_at":"2022-05-25T09:37:26.939Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","[deprecated] Category:Billing and Subscription Management","auto updated","backend","devops::fulfillment","frontend","group::billing and subscription management","missed:14.10","missed:14.9","missed:15.0","section::fulfillment","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353457","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353457","notes":"https://gitlab.com/api/v4/projects/278964/issues/353457/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353457/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353457","relative":"#353457","full":"gitlab-org/gitlab#353457"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7804,"epic":{"id":485458,"iid":7804,"title":"[SaaS] Modal that informs users of additional charges before adding a member","url":"/groups/gitlab-org/-/epics/7804","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102853989,"iid":353456,"project_id":278964,"title":"Backend: Pre-filled variables do not work correctly for branches for external custom CI config file paths","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n#336184 solved the problem of loading pre-filled variables for projects using custom CI config file paths. However, the solution does not handle branches correctly: when running a pipeline manually selecting non-default branch results in no variable being picked up. Pre-filled variables are loaded from external project using selected branch instead of using default branch name\n\n**Explaination from customer:**\n\nThis was initially reported by [Customer](https://gitlab.my.salesforce.com/0016100001Eo9Ah). This is their explanation:\n\nWe have a problem, when we try using Predefined global variables in custom CI/CD configuration file.\nWe have special project, which contain only `.gitlab-ci.yml` files for other projects.\nFor example:\n   We have `.gitlab-ci.yml` file stored in project **group1/project1** (in this project we have only one branch, with name \"master\"). In this file we have strings:\n\n```yaml\nvariables:\n  GIT_STRATEGY: none\n \n  DEPLOY_TO_TEST:\n    value: 0\n    description: \"Change this variable to '1' if needed deploy to test\"\n\n  DEPLOY_TO_STAGE:\n    value: 0\n    description: \"Change this variable to '1' if needed deploy to stage\"\n\n  SKIP_TEST:\n    value: 0\n    description: \"Skip maven tests\"\n```\n\nIn project **group1/project2**, menu \"Settings\" - \"CI/CD\" - \"General pipelines\" - string \"CI/CD configuration file\", we specify: `.gitlab-ci.yml@group1/project1`\n\nAfter that we try run new pipeline manually, in menu \"CI/CD\" - \"Pipelines\" - press button \"Run pipeline\".\nIf we specify branch master in field \"Run for branch name or tag\", predefined variables specified in `.gitlab-ci.yml` file in project group1/project1 displayed in web page. If we specify another branch in field \"Run for branch name or tag\" (for example branch \"develop\"), predefined variables not displayed in web page.\n\nWe create new branch \"develop\" in project **group1/project1**, and after few moments later (we don't know how long it took) we choose \"develop\" branch, when try run pipeline manually in project group1/project2, and predefined variables display in web page.\n\nI think this is wrong behavior. Maybe we're missing something when using custom CI/CD configuration file?\n\n### Steps to reproduce\n\n1. Create project X\n1. In project X create a `.gitlab-ci.yml`\n1. In the above file, add pre-defined variables\n1. Try to run manual pipeline on project X\n1. Pre-filled variables are shown in UI as expected\n1. Create project Y\n1. Use settings of project Y to point its CI config path to project X: `.gitlab-ci.yml@X`\n1. Try to run a manual pipeline on project Y\n1. Pre-filled variables are shown in UI as expected\n1. Create branch `develop` in Project X\n1. Try to run a manual pipeline on project Y, branch `develop`\n1. Pre-filled variables are not shown on the UI\n\n### Example project\n\nhttps://gitlab.com/dzalbo-group/sandbox/external-pipeline-config/application (happy to give access on request)\n\n### Considered workaround\n\nI have considered a workaround of setting Custom CI/CD configuration file on Project Y to `.gitlab-ci.yml@X:main` (adding a reference name), but in this case pre-filled variables don't load at all. This also looks like undesirable behaviour as [our documentation clearly allows](https://docs.gitlab.com/ee/ci/pipelines/settings.html#custom-cicd-configuration-file-examples) `my/path/.my-custom-file.yml@mygroup/another-project:refname` format\n\nThe only way to load pre-filled variables on non-default branch is to create a branch on Project X with the same name, but that's not a real workaround\n\n### What is the current *bug* behavior?\n\nPre-filled variables defined in custom CI config path outside of repository does not render when selecting a branch\n\n### What is the expected *correct* behavior?\n\nPre-filled variables defined in custom CI config path outside of repository render in run pipeline form independently of selected branch","state":"closed","created_at":"2022-02-22T10:53:46.359Z","updated_at":"2022-11-04T14:16:24.288Z","closed_at":"2022-11-02T20:37:25.467Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["CI variables","Category:Pipeline Authoring","approaching-SLO","backend","customer","devops::verify","group::pipeline authoring","missed-SLO","priority::3","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":5208632,"username":"kdemircan","name":"Kaan Demircan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5208632/avatar.png","web_url":"https://gitlab.com/kdemircan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353456","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353456","notes":"https://gitlab.com/api/v4/projects/278964/issues/353456/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353456/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353456","relative":"#353456","full":"gitlab-org/gitlab#353456"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5764,"epic":{"id":250141,"iid":5764,"title":"Bugs: Variables","url":"/groups/gitlab-org/-/epics/5764","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":74860,"iid":115,"sequence":28,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-08-08T00:05:02.221Z","updated_at":"2022-11-14T00:05:02.449Z","start_date":"2022-10-31","due_date":"2022-11-13","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/74860"},"health_status":"on_track"},{"id":102853056,"iid":353455,"project_id":278964,"title":"[SaaS] Exclude guests from overage calculation checks","description":"When calculating overage on adding a user or a group to an existing group using Ultimate subscription, we should exclude guests from the calculation.\n\nProposal:\nFor the existing [check_overage](https://gitlab.com/gitlab-org/gitlab/blob/122528344eba2ab72d97ccf1635a6bc771ec9885/ee/app/assets/javascripts/invite_members/check_overage.js) pass a role (`Guest/Developer/Reporter etc`) of the group to be added and the plan type. If a role is `Guest` and the plan type is `Ultimate` - return no overage","state":"closed","created_at":"2022-02-22T10:44:11.505Z","updated_at":"2022-06-01T11:59:53.032Z","closed_at":"2022-04-13T13:06:11.571Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","backend","devops::fulfillment","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353455","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353455","notes":"https://gitlab.com/api/v4/projects/278964/issues/353455/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353455/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353455","relative":"#353455","full":"gitlab-org/gitlab#353455"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7804,"epic":{"id":485458,"iid":7804,"title":"[SaaS] Modal that informs users of additional charges before adding a member","url":"/groups/gitlab-org/-/epics/7804","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102836184,"iid":353432,"project_id":278964,"title":"Remove reliance on Flash styling within ee/app/views/trials/_errors.html.haml","description":"The following HAML template relies on \"Flash\" styles for an alert-like banner:\n\n- `ee/app/views/trials/_errors.html.haml`\n\nSince Flash is intended to be [refactored to utilize `GlAlert`](https://gitlab.com/gitlab-org/gitlab/-/issues/227846), the other bits of code which rely on its styles will need to be refactored as well, either employing `GlAlert` or its `gl-alert` CSS classes and DOM structure.","state":"closed","created_at":"2022-02-22T05:53:15.245Z","updated_at":"2022-03-22T13:48:13.872Z","closed_at":"2022-03-22T13:48:13.853Z","closed_by":{"id":4018056,"username":"alexbuijs","name":"Alex Buijs","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4018056/avatar.png","web_url":"https://gitlab.com/alexbuijs"},"labels":["OKR","SUS::Impacting","auto updated","automation:ml","component:alert","devops::manage","frontend","group::foundations","pajamas::integrate","quad-planning::complete-no-action","section::dev","severity::4","type::maintenance"],"milestone":null,"assignees":[{"id":4018056,"username":"alexbuijs","name":"Alex Buijs","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4018056/avatar.png","web_url":"https://gitlab.com/alexbuijs"}],"author":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"type":"ISSUE","assignee":{"id":4018056,"username":"alexbuijs","name":"Alex Buijs","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4018056/avatar.png","web_url":"https://gitlab.com/alexbuijs"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353432","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353432","notes":"https://gitlab.com/api/v4/projects/278964/issues/353432/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353432/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353432","relative":"#353432","full":"gitlab-org/gitlab#353432"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7596,"epic":{"id":449057,"iid":7596,"title":"Remove outside reliance on Flash styling prior to refactoring Flash itself","url":"/groups/gitlab-org/-/epics/7596","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102832816,"iid":353424,"project_id":278964,"title":"Replace GroupsFinder all_objects call with linear version","description":"Model `ObjectHierarchy` allows you to provide some groups to get the ancestors from and others to get the descendants from. This situation doesn't align very well with the new linear strategy.\n\nReplace GroupsFinder all_objects call with linear version.","state":"closed","created_at":"2022-02-22T03:38:38.845Z","updated_at":"2022-07-14T05:36:14.503Z","closed_at":"2022-07-14T05:36:14.479Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["auto updated","backend","bug::performance","devops::manage","group::organization","missed:14.9","missed:15.1","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"}],"author":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"type":"ISSUE","assignee":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353424","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353424","notes":"https://gitlab.com/api/v4/projects/278964/issues/353424/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353424/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353424","relative":"#353424","full":"gitlab-org/gitlab#353424"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5296,"epic":{"id":190836,"iid":5296,"title":"Linear namespace queries","url":"/groups/gitlab-org/-/epics/5296","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102828462,"iid":353420,"project_id":278964,"title":"Replace VSA duration scatter plot with line chart","description":"### Problem to solve\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80255#note_844337572 we have visually converted the duration scatterplot to mimic the look of a [line chart with points,](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/charts-line-chart--default), the implementation takes advantage of the `median line` property of the scatterplot with a fixed colour. \n\n### Proposal\n\nIn preparation for https://gitlab.com/gitlab-org/gitlab/-/issues/322135 we should replace the scatter plot with a line chart, this will better reflect the shape and type of data we are trying to display. This is a ~\"type::maintenance\" issue with no user facing changes.\n\n### TODO\n* [x] Replace scatter plot with line chart\n* [x] Update related tests\n* [x] Verify the chart visually looks the same\n\nRelated to #322135.","state":"closed","created_at":"2022-02-21T23:59:55.623Z","updated_at":"2022-06-21T12:02:48.437Z","closed_at":"2022-05-25T04:44:33.471Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","Deliverable","devops::manage","frontend","group::optimize","maintenance::refactor","missed-deliverable","missed:15.0","priority::4","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353420","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353420","notes":"https://gitlab.com/api/v4/projects/278964/issues/353420/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353420/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353420","relative":"#353420","full":"gitlab-org/gitlab#353420"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102822995,"iid":353415,"project_id":278964,"title":"Add usage of the certificate_based_clusters FF to Service Ping","description":"We need to track usage of the `certificate_based_clusters` FF to support our decisions before removal.","state":"closed","created_at":"2022-02-21T21:58:08.912Z","updated_at":"2022-04-06T08:56:09.882Z","closed_at":"2022-03-10T21:41:23.067Z","closed_by":{"id":683729,"username":"Alexand","name":"JoÃ£o Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"labels":["Stretch","auto updated","devops::configure","group::configure","section::ops","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":683729,"username":"Alexand","name":"JoÃ£o Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"}],"author":{"id":683729,"username":"Alexand","name":"JoÃ£o Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"type":"ISSUE","assignee":{"id":683729,"username":"Alexand","name":"JoÃ£o Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353415","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353415","notes":"https://gitlab.com/api/v4/projects/278964/issues/353415/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353415/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353415","relative":"#353415","full":"gitlab-org/gitlab#353415"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102815695,"iid":353406,"project_id":278964,"title":"Extract MergeRequest#mergeable_discussions_state? to new mergeability framework","description":"Identified by @patrickbajao in https://gitlab.com/gitlab-org/gitlab/-/issues/332431#note_849361983 as an outstanding target for migration to the new mergeability framework.\n\n@marc_shaw has done the heavy lifting on building out the framework, including an initial spike on migrating a check into the framework: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68312\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-21T18:05:40.225Z","updated_at":"2022-08-10T16:17:28.727Z","closed_at":"2022-03-09T04:31:55.389Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","backend","devops::create","direction","group::code review","merge requests","section::dev","type::feature"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353406","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353406","notes":"https://gitlab.com/api/v4/projects/278964/issues/353406/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353406/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353406","relative":"#353406","full":"gitlab-org/gitlab#353406"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5598,"epic":{"id":226017,"iid":5598,"title":"ðŸ§˜  Better defined mergeability","url":"/groups/gitlab-org/-/epics/5598","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102815678,"iid":353405,"project_id":278964,"title":"Extract MergeRequest#broken? to new mergeability framework","description":"Identified by @patrickbajao in https://gitlab.com/gitlab-org/gitlab/-/issues/332431#note_849361983 as an outstanding target for migration to the new mergeability framework.\n\n@marc_shaw has done the heavy lifting on building out the framework, including an initial spike on migrating a check into the framework: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68312\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-21T18:05:03.551Z","updated_at":"2022-08-10T16:17:28.625Z","closed_at":"2022-03-09T04:32:09.678Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","backend","devops::create","direction","group::code review","merge requests","section::dev","type::feature"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353405","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353405","notes":"https://gitlab.com/api/v4/projects/278964/issues/353405/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353405/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353405","relative":"#353405","full":"gitlab-org/gitlab#353405"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5598,"epic":{"id":226017,"iid":5598,"title":"ðŸ§˜  Better defined mergeability","url":"/groups/gitlab-org/-/epics/5598","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102815670,"iid":353404,"project_id":278964,"title":"Extract MergeRequest#work_in_progress? to new mergeability framework","description":"Identified by @patrickbajao in https://gitlab.com/gitlab-org/gitlab/-/issues/332431#note_849361983 as an outstanding target for migration to the new mergeability framework.\n\n@marc_shaw has done the heavy lifting on building out the framework, including an initial spike on migrating a check into the framework: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68312\n\nNote: We should probably write this check using `draft` instead of `work_in_progress` to remain consistent with updated terminology.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-21T18:04:38.397Z","updated_at":"2022-08-10T16:17:28.409Z","closed_at":"2022-03-15T05:36:33.232Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","backend","devops::create","direction","group::code review","merge requests","section::dev","type::feature"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353404","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353404","notes":"https://gitlab.com/api/v4/projects/278964/issues/353404/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353404/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353404","relative":"#353404","full":"gitlab-org/gitlab#353404"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5598,"epic":{"id":226017,"iid":5598,"title":"ðŸ§˜  Better defined mergeability","url":"/groups/gitlab-org/-/epics/5598","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102815590,"iid":353403,"project_id":278964,"title":"Extract MergeRequest#open?  to new mergeability framework","description":"Identified by @patrickbajao in https://gitlab.com/gitlab-org/gitlab/-/issues/332431#note_849361983 as an outstanding target for migration to the new mergeability framework.\n\n@marc_shaw has done the heavy lifting on building out the framework, including an initial spike on migrating a check into the framework: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68312\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-21T18:02:24.257Z","updated_at":"2022-08-10T16:17:28.229Z","closed_at":"2022-03-17T02:09:43.367Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","backend","devops::create","direction","group::code review","merge requests","section::dev","type::feature"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353403","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353403","notes":"https://gitlab.com/api/v4/projects/278964/issues/353403/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353403/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353403","relative":"#353403","full":"gitlab-org/gitlab#353403"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5598,"epic":{"id":226017,"iid":5598,"title":"ðŸ§˜  Better defined mergeability","url":"/groups/gitlab-org/-/epics/5598","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102815570,"iid":353402,"project_id":278964,"title":"Extract MergeRequest#merge_blocked_by_other_mrs?  to new mergeability framework","description":"Identified by @patrickbajao in https://gitlab.com/gitlab-org/gitlab/-/issues/332431#note_849361983 as an outstanding target for migration to the new mergeability framework.\n\n@marc_shaw has done the heavy lifting on building out the framework, including an initial spike on migrating a check into the framework: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68312\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-21T18:01:24.489Z","updated_at":"2022-08-10T16:17:28.032Z","closed_at":"2022-07-18T15:53:49.271Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Deliverable","auto updated","backend","devops::create","direction","group::code review","merge requests","missed-deliverable","missed:15.1","section::dev","type::feature"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353402","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353402","notes":"https://gitlab.com/api/v4/projects/278964/issues/353402/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353402/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353402","relative":"#353402","full":"gitlab-org/gitlab#353402"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5598,"epic":{"id":226017,"iid":5598,"title":"ðŸ§˜  Better defined mergeability","url":"/groups/gitlab-org/-/epics/5598","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102815496,"iid":353400,"project_id":278964,"title":"Extract MergeRequest#has_denied_policies? to new mergeability framework","description":"Identified by @patrickbajao in https://gitlab.com/gitlab-org/gitlab/-/issues/332431#note_849361983 as an outstanding target for migration to the new mergeability framework.\n\n@marc_shaw has done the heavy lifting on building out the framework, including an initial spike on migrating a check into the framework: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68312\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-21T17:59:43.400Z","updated_at":"2022-08-10T16:17:27.909Z","closed_at":"2022-06-17T12:58:42.362Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Deliverable","backend","devops::create","direction","group::code review","merge requests","section::dev","type::feature"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353400","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353400","notes":"https://gitlab.com/api/v4/projects/278964/issues/353400/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353400/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353400","relative":"#353400","full":"gitlab-org/gitlab#353400"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5598,"epic":{"id":226017,"iid":5598,"title":"ðŸ§˜  Better defined mergeability","url":"/groups/gitlab-org/-/epics/5598","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102815445,"iid":353399,"project_id":278964,"title":"Extract MergeRequest#approved?  to new mergeability framework","description":"Identified by @patrickbajao in https://gitlab.com/gitlab-org/gitlab/-/issues/332431#note_849361983 as an outstanding target for migration to the new mergeability framework.\n\n@marc_shaw has done the heavy lifting on building out the framework, including an initial spike on migrating a check into the framework: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68312\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-21T17:57:58.468Z","updated_at":"2022-08-10T16:17:27.803Z","closed_at":"2022-07-14T13:17:17.673Z","closed_by":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"labels":["Deliverable","backend","devops::create","direction","group::code review","merge requests","missed-deliverable","missed:15.1","section::dev","type::feature"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353399","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353399","notes":"https://gitlab.com/api/v4/projects/278964/issues/353399/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353399/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353399","relative":"#353399","full":"gitlab-org/gitlab#353399"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5598,"epic":{"id":226017,"iid":5598,"title":"ðŸ§˜  Better defined mergeability","url":"/groups/gitlab-org/-/epics/5598","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102811261,"iid":353394,"project_id":278964,"title":"Dependency scanning for Python v3.9 failing on dictalchemy","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nHi,\n\nwe recently found out that the dependency scanning (Gemnasium) job started failing for a projects where we use `Python v3.9` image and `dictalchemy==0.1.2.7` package.\n\nThis is because right now the `gemnasium:2-python-3.9` Docker image comes with setuptools 58.1.0, and this version of setuptools doesn't provide 2to3 anymore. See https://github.com/pypa/setuptools/issues/2769. However, 2to3 is needed to install `dictalchemy==0.1.2.7` and other Python packages.\n\n**Workaround**: Downgrade to an earlier version of setuptools, like 58.0.1.\n\nCurrently this does NOT affect `gemnasium:2` (Python 3.6) because it uses setuptools 57.5.0 by default. \n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\nAdd `.gitlab-ci.yml`:\n```\nstages:\n  - test\n\ninclude:\n  - template: Security/Dependency-Scanning.gitlab-ci.yml\n\ngemnasium-python-dependency_scanning:\n  image: registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python:2-python-3.9\n  variables:\n    SECURE_LOG_LEVEL: debug\n```\n\nAdd `requirements.txt`:\n```\ndictalchemy==0.1.2.7\n```\n\n### Example Project\n\nhttps://gitlab.com/vavkamil/depscan-bug-dictalchemy\n\n### What is the current *bug* behavior?\n\nIt's failing because of:\n```\n[DEBU] [gemnasium-python] [2022-02-21T16:33:40Z] â–¶ /usr/local/bin/pip download --disable-pip-version-check --dest ./dist -r requirements.txt\nCollecting dictalchemy==0.1.2.7\n  Downloading dictalchemy-0.1.2.7.tar.gz (11 kB)\n    ERROR: Command errored out with exit status 1:\n     command: /usr/local/bin/python -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-download-l9v0jchm/dictalchemy_f1b8f72c2e454be387e6ef956d864114/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-download-l9v0jchm/dictalchemy_f1b8f72c2e454be387e6ef956d864114/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-pip-egg-info-5qugknlw\n         cwd: /tmp/pip-download-l9v0jchm/dictalchemy_f1b8f72c2e454be387e6ef956d864114/\n    Complete output (1 lines):\n    error in dictalchemy setup command: use_2to3 is invalid.\n    ----------------------------------------\nWARNING: Discarding https://files.pythonhosted.org/packages/29/31/9451637075e9061c4dcf651199b8666bdee68630160c51e3d82598aac041/dictalchemy-0.1.2.7.tar.gz#sha256=a08b1463b5cd849158c77701da67be4fbb3080de3ad08abb165710aa63987809 (from https://pypi.org/simple/dictalchemy/). Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\nERROR: Could not find a version that satisfies the requirement dictalchemy==0.1.2.7 (from versions: 0.1a1, 0.1a2, 0.1a3, 0.1a4, 0.1b1, 0.1b2, 0.1, 0.1.1, 0.1.2b1, 0.1.2b2, 0.1.2b3, 0.1.2, 0.1.2.1, 0.1.2.2, 0.1.2.3, 0.1.2.4, 0.1.2.5, 0.1.2.6, 0.1.2.7)\nERROR: No matching distribution found for dictalchemy==0.1.2.7\nexit status 1\n```\n\n### What is the expected *correct* behavior?\n\nThe Gemnasium job shouldn't fail, when using `registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python:2-python-3.9` image.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Implementation plan\n\n- [ ] test workaround using `before_script` by installing an earlier version of setuptools (see [thread](https://gitlab.com/gitlab-org/gitlab/-/issues/353394#note_868434411))\n- [ ] document workaround in official documentation troubleshooting section https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#troubleshooting\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-02-21T16:39:09.085Z","updated_at":"2022-04-18T07:03:11.097Z","closed_at":"2022-04-13T18:05:37.683Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:Dependency Scanning","Deliverable","backend","customer","devops::secure","group::composition analysis","priority::2","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":4266240,"username":"vavkamil","name":"vavkamil","state":"active","avatar_url":"https://secure.gravatar.com/avatar/efec0ee63b0d602f43a7b9e276139c13?s=80\u0026d=identicon","web_url":"https://gitlab.com/vavkamil"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353394","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353394","notes":"https://gitlab.com/api/v4/projects/278964/issues/353394/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353394/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353394","relative":"#353394","full":"gitlab-org/gitlab#353394"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":102807074,"iid":353387,"project_id":278964,"title":"Mentioning a MR adds the author of that comment to the \"Commented by\" section in MR approvers","description":"### Summary\n\n`@samdbeckham` mentioned https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80648 in another commit, leading to him being added to the `Commented by` column in the approvers overview of that merge request.\n\n![image](/uploads/f1e42f90486ff3060ac94c6ba848b71b/image.png)\n\nThis was the only interaction he had with that MR, no actual comments were written by him, so he shouldn't be added to this section.","state":"closed","created_at":"2022-02-21T15:30:10.604Z","updated_at":"2022-03-13T14:04:03.571Z","closed_at":"2022-03-01T20:02:51.808Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["SUS::Impacting","UX","approvals","devops::create","group::code review","section::dev","severity::3","type::bug"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":3688647,"username":"mvanremmerden","name":"Marcel van Remmerden","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4f46ed49b87eab9e74f20e0e25b36d0f?s=80\u0026d=identicon","web_url":"https://gitlab.com/mvanremmerden"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353387","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353387","notes":"https://gitlab.com/api/v4/projects/278964/issues/353387/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353387/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353387","relative":"#353387","full":"gitlab-org/gitlab#353387"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102801552,"iid":353379,"project_id":278964,"title":"Rename custom integration templates in app/views/projects/services","description":"## Background\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nAs part of https://gitlab.com/groups/gitlab-org/-/epics/2504 we're renaming \"services\" to \"integrations\".\n\n## Improvements\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n\nSome integrations provide custom templates in `app/views/projects/services`:\n\n```\nmattermost_slash_commands/\nâ”œâ”€â”€ _detailed_help.html.haml\nâ”œâ”€â”€ _help.html.haml\nâ””â”€â”€ _installation_info.html.haml\nprometheus/\nâ”œâ”€â”€ _configuration_banner.html.haml\nâ”œâ”€â”€ _custom_metrics.html.haml\nâ”œâ”€â”€ _external_alerts.html.haml\nâ”œâ”€â”€ _help.html.haml\nâ”œâ”€â”€ _metrics.html.haml\nâ”œâ”€â”€ _show.html.haml\nâ””â”€â”€ _top.html.haml\nslack\nâ””â”€â”€ _help.haml\nslack_slash_commands/\nâ””â”€â”€ _help.html.haml\n```\n\nAnd also `ee/app/views/projects/services`:\n\n```\ngitlab_slack_application/\nâ”œâ”€â”€ _help.html.haml\nâ”œâ”€â”€ _slack_button.html.haml\nâ”œâ”€â”€ _slack_integration_form.html.haml\nâ””â”€â”€ _top.html.haml\n```\n\nThese should be moved into `(ee/)app/views/shared/integrations`, and all references updated accordingly:\n\n- https://gitlab.com/gitlab-org/gitlab/blob/803ae1dda8b91e78df519280156a09eeb289977f/app/views/shared/_integration_settings.html.haml#L9-10\n- https://gitlab.com/gitlab-org/gitlab/blob/803ae1dda8b91e78df519280156a09eeb289977f/app/views/projects/services/_form.html.haml#L1-2\n- https://gitlab.com/gitlab-org/gitlab/blob/803ae1dda8b91e78df519280156a09eeb289977f/app/views/projects/services/_form.html.haml#L10-12\n- References to other partials in the custom templates themselves.\n\nNote that the other views in `app/views/projects/services` are still project-specific, and can be renamed as part of https://gitlab.com/gitlab-org/gitlab/-/issues/334846:\n\n- `edit.html.haml`\n- `_form.html.haml`\n\n\u003c!--\nPlease select the appropriate label from the following:\n    ~\"feature::addition\"\n    ~\"type::maintenance\"\n    ~\"tooling::pipelines\"\n    ~\"tooling::workflow\"\n--\u003e","state":"closed","created_at":"2022-02-21T14:02:07.448Z","updated_at":"2022-11-22T19:00:02.895Z","closed_at":"2022-05-18T02:43:05.598Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Category:Integrations","Deliverable","devops::manage","frontend","group::integrations","maintenance::refactor","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353379","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353379","notes":"https://gitlab.com/api/v4/projects/278964/issues/353379/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353379/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353379","relative":"#353379","full":"gitlab-org/gitlab#353379"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2504,"epic":{"id":18352,"iid":2504,"title":"Rename \"Services\" to \"Integrations\"","url":"/groups/gitlab-org/-/epics/2504","group_id":9970},"iteration":null,"health_status":null},{"id":102801183,"iid":353378,"project_id":278964,"title":"Refactor Admin/Application frontend into Vue","description":"The following discussion from !80799 should be addressed:\n\n- [ ] @rob.hunt started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80799#note_849741305):  (+1 comment)\n\n    \u003e **issue (non-blocking):** This will create one modal per button (`O(n)`). I can see that this modal is being added to a HAML table which is why this approach was used. However, we would usually try to avoid creating multiple of the same modal within an app due to performance and memory concerns.\n    \u003e \n    \u003e This isn't blocking because the only way I can see getting around this would be to wrap the HTML in Vue or convert it fully to Vue which is out-of-scope of this MR and probably not necessary. But I did want to make sure that this was noted.\n\n\n### Implementation guide\n\nTo be confirmed","state":"closed","created_at":"2022-02-21T13:57:08.596Z","updated_at":"2022-07-19T00:14:05.980Z","closed_at":"2022-07-18T13:04:49.519Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["[deprecated] Accepting merge requests","auto updated","devops::manage","frontend","group::compliance","section::dev","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353378","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353378","notes":"https://gitlab.com/api/v4/projects/278964/issues/353378/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353378/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353378","relative":"#353378","full":"gitlab-org/gitlab#353378"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102792669,"iid":353370,"project_id":278964,"title":"Stored XSS in Notes (with CSP bypass for gitlab.com)","description":"**[HackerOne report #1481207](https://hackerone.com/reports/1481207)** by `joaxcar` on 2022-02-14, assigned to @ngeorge1:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n####  Summary  \nI read the issue [345657](https://gitlab.com/gitlab-org/gitlab/-/issues/345657) which handles the XSS in notes reported in Hackerone report [1398305](https://hackerone.com/reports/1398305). This issue fixes the reported XSS but leaves the HTML injection that was also mentioned. I don't know how you deal with these situations, but I thought I report this, and you can decide :)\n\nThe issue linked above shows how a user can inject HTML in any Note (actually any Markdown it seems. For example wiki pages and issue descriptions) by abusing [syntax_highlight_filter.rb](https://gitlab.com/gitlab-org/gitlab/-/blob/c2e5d7b89b84cc5b44575592bb706ef75c3d1bbb/lib/banzai/filter/syntax_highlight_filter.rb).\n\nThere are more ways to take this injection and weaponize it than the patched Emoji tag. I have a list of additional vectors but though that I would report the worst one (proper full stored XSS) and explain more if you decide to accept the report. To not waste our time.\n\nI have multiple ways to inject `script` tags, but it looks like you have hardened your CSP? None of the old bypasses worked for me. But it still seems that you have not blocked the `base` tag. And fortunately for me, the injection let me pass in `base` tags. So by entering this into an issue description or wiki page\n\n```  \n\u003cpre data-sourcepos=\"\u0026#34;%22 href=\u0026#34;x\u0026#34;\u003e\u003c/pre\u003e  \n\u003cbase href=https://joaxcar.com\u003e  \n\u003cpre x=\u0026#34;\"\u003e  \n\u003ccode\u003e\u003c/code\u003e\u003c/pre\u003e  \n```  \nAll relative links in the page will try to load their data from my site \"joaxar.com\". If we then open DevTools and reload the page, we will see the name of all files that failed to load. In the case of an issue page, we have this script  \n```  \nhttp://joaxcar.com/assets/webpack/hello.4948f350.chunk.js  \n```  \nand for a wiki page we have  \n```  \nhttps://joaxcar.com/assets/webpack/top_nav.c9763726.chunk.js  \n```  \n![after.png](https://h1.sec.gitlab.net/a/c911617f-d58d-4f14-8bf9-163c916887f5/after.png)\n\nNow I just have to create these files on my domain, and they will load and bypass CSP (as these script tags will have nonce in place and can thus load anything)\n\n![payload.jpg](https://h1.sec.gitlab.net/a/4e02554e-e32c-4af6-b89c-1df90f831358/payload.jpg)\n\n####  Steps to reproduce  \n1. log in as a user on Gitlab.com  \n2. go to any project (or create one), and add a new issue  \n3. enter this as the description (replace with your own server if you need to generate new scripts on your own domain)  \n```  \n\u003cpre data-sourcepos=\"\u0026#34;%22 href=\u0026#34;x\u0026#34;\u003e\u003c/pre\u003e  \n\u003cbase href=https://joaxcar.com\u003e  \n\u003cpre x=\u0026#34;\"\u003e  \n\u003ccode\u003e\u003c/code\u003e\u003c/pre\u003e  \n```  \n4. save the issue  \n5. open DevTools (f12) and look for failing script imports  \n6. create the missing script on your domain containing  \n```  \nalert(document.domain)  \n```  \n7. reload the page and the popup should pop\n\n![xssbase.jpg](https://h1.sec.gitlab.net/a/1d88bdd8-a729-43e2-9c2f-0a669ca32de1/xssbase.jpg)\n\n\n#####  Impact\n\nStored XSS in gitlab.com\n\nThere are more that can be added to the report but I am sending this in first and will add information later. The XSS can as you know create tokens (and as I have shown before take over SSO accounts)\n\n#####  What is the current *bug* behavior?\n\nHTML injection in Markdown\n\n#####  What is the expected *correct* behavior?\n\nShould not be possible\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n####  Impact\n\nStored XSS in gitlab.com\n\nThere are more that can be added to the report but I am sending this in first and will add information later. The XSS can as you know create tokens (and as I have shown before take over SSO accounts)\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [payload.jpg](https://h1.sec.gitlab.net/a/4e02554e-e32c-4af6-b89c-1df90f831358/payload.jpg)\n* [xssbase.jpg](https://h1.sec.gitlab.net/a/1d88bdd8-a729-43e2-9c2f-0a669ca32de1/xssbase.jpg)\n* [after.png](https://h1.sec.gitlab.net/a/c911617f-d58d-4f14-8bf9-163c916887f5/after.png)\n\n### Implementation Plan\n\n| Issue | Description | Department |\n| ------ | ------ | ------ |\n| # | Add strict validation allowing only number range for [`data-sourcepos` attribute](https://gitlab.com/gitlab-org/gitlab/blob/7a6fb02d8c4c6a9755dcc849913813b9c57cf35c/lib/banzai/filter/syntax_highlight_filter.rb#L31)  | ~backend  |\n| # |  Escape user input [when generating highlight html](https://gitlab.com/gitlab-org/gitlab/blob/7a6fb02d8c4c6a9755dcc849913813b9c57cf35c/lib/banzai/filter/syntax_highlight_filter.rb#L59) | ~backend |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/241857 | Add `v-safe-html` for rendering markdown | ~frontend |\n| # | Avoid generating html strings in [gl_field_error.js](https://gitlab.com/gitlab-org/gitlab/blob/79ed530ac23b053e3905950b8c0e64063284dab6/app/assets/javascripts/gl_field_error.js#L66) | ~frontend  |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/338075 | Add `base-uri` directive in the CSP of GitLab.com | ~security   |","state":"closed","created_at":"2022-02-21T11:52:49.310Z","updated_at":"2022-06-08T13:59:05.105Z","closed_at":"2022-04-01T00:22:51.238Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Deliverable","HackerOne","Weakness::CWE-79","backend","bug::vulnerability","devops::create","group::code review","priority::2","section::dev","security","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":55,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-03-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353370","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353370","notes":"https://gitlab.com/api/v4/projects/278964/issues/353370/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353370/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353370","relative":"#353370","full":"gitlab-org/gitlab#353370"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102777145,"iid":353355,"project_id":278964,"title":"Update the container registry gitlab api import request parameters","description":"From https://gitlab.com/gitlab-org/container-registry/-/merge_requests/896, we will need to update the `pre` parameter from:\n\n* `pre=true`\n* `pre=false`\n\nto\n\n* `import_type=pre`\n* `import_type=final`\n\nChange location:\n* https://gitlab.com/gitlab-org/gitlab/-/blob/7638f46c427f5fe88d629eddd3ed4105b06151e2/lib/container_registry/gitlab_api_client.rb#L78\n* The related spec.","state":"closed","created_at":"2022-02-21T09:11:33.953Z","updated_at":"2022-03-03T17:02:38.699Z","closed_at":"2022-03-03T17:02:38.665Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration::Phase 2","auto updated","devops::package","group::package registry","maintenance::refactor","package:active","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353355","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353355","notes":"https://gitlab.com/api/v4/projects/278964/issues/353355/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353355/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353355","relative":"#353355","full":"gitlab-org/gitlab#353355"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102773991,"iid":353353,"project_id":278964,"title":"Hide non-default cadences when iteration_cadence FF is disabled for root group","description":"1. The feature flag `iteration_cadences` needs to be turned on and off on a per root group basis https://gitlab.com/groups/gitlab-org/-/epics/7567#note_864986261.\n\n2. The iterations from non-default iteration cadences should be made unavailable for interaction through the UI and APIs.\n\n    When `iteration_cadences` FF is enabled, multiple cadences can be created per group and each cadence can contain multiple iterations. When the FF is disabled, we will only display the iterations from the first iteration cadence for each group.","state":"closed","created_at":"2022-02-21T08:32:02.568Z","updated_at":"2022-03-16T05:00:56.987Z","closed_at":"2022-03-16T05:00:54.639Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["backend","devops::plan","documentation","group::project management","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353353","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353353","notes":"https://gitlab.com/api/v4/projects/278964/issues/353353/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353353/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353353","relative":"#353353","full":"gitlab-org/gitlab#353353"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7567,"epic":{"id":444020,"iid":7567,"title":"Iteration Cadence GA tasks","url":"/groups/gitlab-org/-/epics/7567","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102773919,"iid":353352,"project_id":278964,"title":"Disallow deleting past iterations via API for automatic cadences","description":"","state":"closed","created_at":"2022-02-21T08:30:43.273Z","updated_at":"2022-04-25T18:43:44.093Z","closed_at":"2022-04-07T21:55:34.130Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["Stretch","auto updated","backend","devops::plan","group::project management","section::dev","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353352","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353352","notes":"https://gitlab.com/api/v4/projects/278964/issues/353352/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353352/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353352","relative":"#353352","full":"gitlab-org/gitlab#353352"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7567,"epic":{"id":444020,"iid":7567,"title":"Iteration Cadence GA tasks","url":"/groups/gitlab-org/-/epics/7567","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102773837,"iid":353351,"project_id":278964,"title":"Hide delete option for past iterations","description":"","state":"closed","created_at":"2022-02-21T08:29:38.907Z","updated_at":"2022-03-11T14:46:28.697Z","closed_at":"2022-03-11T14:46:28.682Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["auto updated","devops::plan","frontend","group::project management","section::dev","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353351","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353351","notes":"https://gitlab.com/api/v4/projects/278964/issues/353351/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353351/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353351","relative":"#353351","full":"gitlab-org/gitlab#353351"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7567,"epic":{"id":444020,"iid":7567,"title":"Iteration Cadence GA tasks","url":"/groups/gitlab-org/-/epics/7567","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102773767,"iid":353350,"project_id":278964,"title":"Deprecate manual cadence creation and conversion","description":"\n- [x] Allow cadences to be created only in \"automatic\" mode - !82352\n- [x] Allow cadences to be converted only from \"manual\" to \"automatic\" mode - !82352","state":"closed","created_at":"2022-02-21T08:28:24.891Z","updated_at":"2022-08-17T02:42:43.597Z","closed_at":"2022-03-30T18:15:50.192Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["Deliverable","auto updated","backend","devops::plan","group::project management","missed-deliverable","missed:14.9","section::dev","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353350","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353350","notes":"https://gitlab.com/api/v4/projects/278964/issues/353350/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353350/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353350","relative":"#353350","full":"gitlab-org/gitlab#353350"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7567,"epic":{"id":444020,"iid":7567,"title":"Iteration Cadence GA tasks","url":"/groups/gitlab-org/-/epics/7567","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":45530,"iid":57,"sequence":12,"group_id":9970,"title":"Iteration 12","description":null,"state":3,"created_at":"2022-01-18T00:05:01.890Z","updated_at":"2022-04-13T00:05:02.156Z","start_date":"2022-03-30","due_date":"2022-04-12","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/45530"},"health_status":null},{"id":102773664,"iid":353349,"project_id":278964,"title":"Prepare Iteration components for manual mode deprecation","description":"\n**Update the Cadence create/edit forms**\n\n- [ ] Display a warning that manual cadences need to be converted to \"automatic mode\" with an explanation.\n- [ ] Remove \"automatic\" fields from the iteration cadence create/update form.\n- [ ] Deprecate the ability to manually add/remove iterations for automatic iteration cadences.\n\n\n**Update the Iteration edit forms**\n\n- [ ] Only allow the description field to be editable for iterations in automatic cadences.","state":"closed","created_at":"2022-02-21T08:26:15.206Z","updated_at":"2022-04-18T07:00:48.459Z","closed_at":"2022-04-06T02:14:51.575Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["Deliverable","UX","devops::plan","documentation","frontend","group::project management","missed-deliverable","missed:14.9","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353349","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353349","notes":"https://gitlab.com/api/v4/projects/278964/issues/353349/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353349/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353349","relative":"#353349","full":"gitlab-org/gitlab#353349"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7567,"epic":{"id":444020,"iid":7567,"title":"Iteration Cadence GA tasks","url":"/groups/gitlab-org/-/epics/7567","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":45530,"iid":57,"sequence":12,"group_id":9970,"title":"Iteration 12","description":null,"state":3,"created_at":"2022-01-18T00:05:01.890Z","updated_at":"2022-04-13T00:05:02.156Z","start_date":"2022-03-30","due_date":"2022-04-12","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/45530"},"health_status":null},{"id":102756770,"iid":353328,"project_id":278964,"title":"Expose Jira connect OAuth application ID","description":"We are currently working on using [OAuth for the GitLab for Jira app](https://gitlab.com/gitlab-org/gitlab/-/issues/284211). After this is done, we want to make the app available for self-managed instances. Users will be asked to sign in to the self-managed instance in order to use the app, but the frontend will be delivered from gitlab.com (see https://gitlab.com/groups/gitlab-org/-/epics/5650#note_846494074) so self-managed needs to expose the application ID to .com.\n\nThis can be done by adding an internal API endpoint like this:\n\n```ruby\nclass JiraConnect::OauthController \u003c ApplicationController\n  def client_id\n    ENV['JIRA_CONNECT_OAUTH_CLIENT_ID']\n  end\nend\n```","state":"closed","created_at":"2022-02-20T19:59:45.040Z","updated_at":"2022-11-22T19:00:12.586Z","closed_at":"2022-06-03T16:27:58.724Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["Deliverable","Integration::Jira","backend","devops::manage","group::integrations","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"}],"author":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353328","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353328","notes":"https://gitlab.com/api/v4/projects/278964/issues/353328/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353328/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353328","relative":"#353328","full":"gitlab-org/gitlab#353328"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":"on_track"},{"id":102753258,"iid":353323,"project_id":278964,"title":"Pass metric identifier for training link clicked on vulnerability modal","description":"This issue is a follow-up of this \u003e https://gitlab.com/gitlab-org/gitlab/-/issues/352679, please read it first.\n\nThese metrics were captured in this MR \u003e tbd\n\n  * The URL of the training link\n  * The GitLab page/context from which it was clicked (e.g. MR, pipeline, vulnerability details page)\n  \nIn this issue, let's capture:\n\n* **Not required but very nice to have** Identifier(s) of the finding/vulnerability\n\n![2021-12-15_at_5.55_PM](/uploads/57156fed00871371c3b679999885c8d4/2021-12-15_at_5.55_PM.png)","state":"closed","created_at":"2022-02-20T16:44:31.135Z","updated_at":"2022-04-25T03:22:31.567Z","closed_at":"2022-04-22T13:44:18.048Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["devops::secure","frontend","group::threat insights","section::sec","type::feature","workflow::in review"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353323","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353323","notes":"https://gitlab.com/api/v4/projects/278964/issues/353323/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353323/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353323","relative":"#353323","full":"gitlab-org/gitlab#353323"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7805,"epic":{"id":485503,"iid":7805,"title":"Security Training 2.0","url":"/groups/gitlab-org/-/epics/7805","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102753165,"iid":353322,"project_id":278964,"title":"Pass metric identifier for training link clicked on vulnerability details page","description":"This issue is a follow-up of this \u003e https://gitlab.com/gitlab-org/gitlab/-/issues/348589, please read it first.\n\nThese metrics were captured in this MR \u003e https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80643 \n\n  * The URL of the training link\n  * The GitLab page/context from which it was clicked (e.g. MR, pipeline, vulnerability details page)\n  \nIn this issue, let's capture this:\n\n* **Not required but very nice to have**: Identifier(s) of the finding/vulnerability\n\n![2021-12-15_at_5.55_PM](/uploads/beb400e249ed9b9556623571e7b9f38e/2021-12-15_at_5.55_PM.png)","state":"closed","created_at":"2022-02-20T16:36:59.383Z","updated_at":"2022-04-25T03:22:31.640Z","closed_at":"2022-04-22T13:44:14.220Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["devops::secure","frontend","group::threat insights","missed:14.10","section::sec","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353322","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353322","notes":"https://gitlab.com/api/v4/projects/278964/issues/353322/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353322/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353322","relative":"#353322","full":"gitlab-org/gitlab#353322"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7805,"epic":{"id":485503,"iid":7805,"title":"Security Training 2.0","url":"/groups/gitlab-org/-/epics/7805","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102737912,"iid":353309,"project_id":278964,"title":"Allow Group-level protected environments to take inherited membership into account","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nGroups added as allowed to deploy to protected environments only allow direct members to deploy. Inherited members are not allowed to deploy to a protected environment.\n\n### Current behavior\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Configure the following group/project structure, where `UserA` is added as a `Maintainer` of `Parent_Group` and `UserB` is added directly to `Deploy_Group` as a `Maintainer` as well.\n\n```\nParent_Group:\n  - Deploy_Group\n  - Project\n```\n1. Add `Deploy_Group` as a group allowed to deploy into `Project' protected environment.\n1. As `UserB`, try to deploy to the protected environment on `Project`. This operation succeeds.\n1. As `UserA`, try to deploy to the same protected environment. This operation fails because `UserA` doesn't have the necessary privileges for deployment.\n\n`UserA` should be able to deploy because by being a `Maintainer` on `Parent_Group`, they receive `Maintainer` privileges on `Deploy_Group` as well via inheritance, but inheritance is currently not taken into account for protected environments.\n\n## Proposal\n\n- Add an option to [Protected Environment](https://docs.gitlab.com/ee/ci/environments/protected_environments.html) to change the group-base access check behavior.\n- There are two types for group-base access:\n  - `direct` ... Only direct members can deploy.\n  - `all` ... All members can deploy, including inherited members.\n- Add `group_inheritance_type` column to `protected_environment_deploy_access_levels` table.\n  - `{ direct: 0, all: 1 }`. \n  - The default is `direct`.\n- Extend API to allow users to set the value.","state":"closed","created_at":"2022-02-19T22:42:19.142Z","updated_at":"2022-05-24T12:02:32.584Z","closed_at":"2022-05-18T18:02:40.481Z","closed_by":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"labels":["Category:Environment Management","Deliverable","Next Up","Release::P1","backend","customer","devops::release","feature::addition","group::release","missed-deliverable","missed:14.9","section::ops","type::feature"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"}],"author":{"id":8110473,"username":"alejguer","name":"Alejandro Guerrero","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cfb1bb9f79fd8dfe46b684abf95657cf?s=80\u0026d=identicon","web_url":"https://gitlab.com/alejguer"},"type":"ISSUE","assignee":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":1,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353309","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353309","notes":"https://gitlab.com/api/v4/projects/278964/issues/353309/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353309/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353309","relative":"#353309","full":"gitlab-org/gitlab#353309"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102737199,"iid":353306,"project_id":278964,"title":"Create a UBI 8.2 based container","description":"### Problem\n\nAs part of creating a FIPS compliant API Security container, a new container based on UBI is needed.\n\n### Proposal\n\nCreate an additional container based on UBI base image that is shipped along side our existing container.\nBased on our UBI8 investigation a custom language image will be created using `ubi-minimal`.\n\n#### UBI8 Investigation\n\n- UBI 8.2 is the version we must use. The latest version that is FIPS certified\n- Default language images use `ubi` (140MB), not `ubi-minimal` (94MB)\n- Base images are out of date and require a `yum update` or `microdnf update`\n- Even with full update, container scanning finds numerous MEDIUM and LOW findings\n  - A custom policy for the fips image will be needed\n- Language images install extra unneeded packages, have UBI specific image layout\n- Specific repos must be used to ship containers that don't require a RHEL license\n  - `--disablerepo=* --enablerepo=ubi-8-appstream --enablerepo=ubi-8-baseos`\n- For FIPS, a special mount command must be run by the entrypoint script\n  - `mount --bind /usr/share/crypto-policies/back-ends/FIPS /etc/crypto-policies/back-ends`\n  - https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening#enabling_fips_mode_in_a_container_in_rhel_8_1_and_earlier\n\n### Implementation Tasks\n\n1. [x] Create language base image from `ubi-minimal`\n1. [x] Create a base image from the language base\n1. [x] Create an application container from the base image\n1. [x] Enable FIPS mode for UBI in our entrypoint scripts\n1. [x] Update the build pipeline to build and test two containers\n   1. [x] Identify what tests will be duplicated for UBI (perhaps just e2e?)\n      1. [x] End-to-end tests\n   1. [x] Container scanning for UBI base-image\n   1. [x] Only fail container scanning for HIGH,CRITITAL issues\n   1. [x] Add to production publish scripts","state":"closed","created_at":"2022-02-19T21:37:39.162Z","updated_at":"2022-04-07T17:58:56.205Z","closed_at":"2022-03-09T22:22:29.095Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","FIPS","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":10},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353306","notes":"https://gitlab.com/api/v4/projects/278964/issues/353306/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353306/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353306","relative":"#353306","full":"gitlab-org/gitlab#353306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7588,"epic":{"id":447743,"iid":7588,"title":"FIPS compliant API Security container","url":"/groups/gitlab-org/-/epics/7588","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102713048,"iid":353293,"project_id":278964,"title":"Speed: Create WebCheckStrategy specific for use with WebRunnerMachine","description":"### Problem\n\nWebCheckStrategy was designed for use with the proxy code. This design is not optimal for use with the runner the code and places limitations on threading work.\n\n### Proposal\n\nCreate a new WebRunnerCheckStrategy class refactored to work better with WebRunnerMachine and is ready for threading work.\n\nGoals:\n\n- Simplify interface\n- Eye towards concurrent usage\n  - Don't use global state\n  - Remove global Lists\n\nStrategy was originally written to contain a hidden for loop that would work using the proxy code. _mutationsPending contained an the unrolled for loop with each MutationContext instances holding an index value. \n\nIn the new version, Strategy will produce work items that can be used to parallelize the work. Each work item will be one of the following:\n\n- Active check\n- Parameter + Mutation check\n\nThese will by scheduled by the WebCheckRunner.\n\n### Types of Work Items\n\n- Parameter + mutation check\n- Active check\n\n### TODO\n\n1. [x] Verify Active checks are working as work items\n1. [x] EvaluateScope section of Record is not reentrant. Needs a lock or redesign.\n1. [x] _mutationEnumerator should be passed in instead of class variable\n1. [x] _mutationsPending\n1. [x] _shouldContinue\n1. [ ] ~~What about _logsink? Threading will cause logs to be seen across mutations giving false positives.~~\n1. [x] _testCaseName\n1. [x] SavingJob -- Move this to a timer event instead of checking time on each iteration\n   1. [x] System.Timers.Timer\n1. ~~[ ] HttpConnectionSettings - This can change with the route!~~\n   1. Moved to threading issue.\n1. [x] How do we know when to print Finished testing operation message?\n1. [x] Verify stats are working\n1. [x] Verify tests are passing/update tests - Outstanding as of 5/16\n   1. [x] `Peach.Web.Test.Integration.Runner.IntegrationTests.TestMissingClientSideCerts`\n   2. [x] `Peach.Web.Test.Integration.Runner.IntegrationTests.TestErrorTimeout`\n   3. [x] `test_large_har_report_with_assets`\n   4. ~[ ] `test_with_openapi_tls_url_over_https`~ false positive, test is flaky\n   5. [x] `tests_int_config_fuzzing-quick` - Partially identified but not resolved\n1. [x] Investigate why check counts are wrong in \"Finished Testing\" section of console output\n1. [x] Console output re-Testing/Finished testing message.\n   1. [x] Too many `Finished testing operation` messages\n   1. [x] Output improvements:\n      1. [x] Change operations with no work items to say `Operation skipped`.\n      1. [x] Mention it is likely a duplicate.\n      1. [x] Put duplicates last.\n   1. [x] Why are operations with no work items not showing up first?\n   1. [x] Compare console output with master to confirm\n1. [x] Stats console output -- Performed N requests are wrong. They always get bigger.\n1. ~[ ] Restore `InnermostException()` handling~ We decided the code it was wrapping was not complex enough to need this special handling.\n1. [x] Verify that e2e tests pass in feature branch before merging","state":"closed","created_at":"2022-02-18T22:49:37.586Z","updated_at":"2022-08-17T01:50:20.409Z","closed_at":"2022-06-13T18:42:52.630Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","milestone::p1","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"},{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"},"user_notes_count":41,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353293","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":26},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"26 of 27 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353293","notes":"https://gitlab.com/api/v4/projects/278964/issues/353293/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353293/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353293","relative":"#353293","full":"gitlab-org/gitlab#353293"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6502,"epic":{"id":317541,"iid":6502,"title":"API Security scanner speed improvements","url":"/groups/gitlab-org/-/epics/6502","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102712102,"iid":353291,"project_id":278964,"title":"[Feature flag] Enable container_registry_follow_redirects_middleware","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/353244) on production,\nthat is currently behind the `container_registry_follow_redirects_middleware` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Package\n- Most appropriate slack channel to reach out to: `#s_package`\n- Best individual to reach out to: @10io \n- PM: `@trizzi`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nThe `created_at` field from container repositories are properly returned in the:\n* Rest [API](https://docs.gitlab.com/ee/api/container_registry.html#get-details-of-a-single-repository)\n* ~GraphQL [query](https://docs.gitlab.com/ee/api/graphql/reference/#querycontainerrepository)\n\nSince the ~frontend is powered by the API, we should see the proper `Published X days/weeks/months ago` sentence in the Container Repository details page.\n\n### When is the feature viable?\n\nn / a\n\n### What might happen if this goes wrong?\n\nThe `created_at` is set to:\n* `nil` _or_\n* `now`\n\nThe ~frontend displays `Published now` in the container repository details page.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status 09628af722624d491bf66dd7d54a31af70823843`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set container_registry_follow_redirects_middleware true --dev`\n    - [x] `/chatops run feature set container_registry_follow_redirects_middleware true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status 09628af722624d491bf66dd7d54a31af70823843`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab container_registry_follow_redirects_middleware true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss container_registry_follow_redirects_middleware true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com container_registry_follow_redirects_middleware true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org container_registry_follow_redirects_middleware true`\n    - [ ] `/chatops run feature set --group=gitlab-com container_registry_follow_redirects_middleware true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e container_registry_follow_redirects_middleware true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/353244) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set container_registry_follow_redirects_middleware \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set container_registry_follow_redirects_middleware \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set container_registry_follow_redirects_middleware true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/353244) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/353244) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `container_registry_follow_redirects_middleware`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `container_registry_follow_redirects_middleware` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/353244) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete container_registry_follow_redirects_middleware --dev`\n    - [x] `/chatops run feature delete container_registry_follow_redirects_middleware --staging`\n    - [x] `/chatops run feature delete container_registry_follow_redirects_middleware`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set container_registry_follow_redirects_middleware false\n```","state":"closed","created_at":"2022-02-18T22:02:06.535Z","updated_at":"2022-04-27T13:08:08.585Z","closed_at":"2022-04-27T13:08:08.563Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","backend","devops::package","feature flag","feature::addition","group::package registry","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},{"id":6742251,"username":"feistel","name":"feistel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/40569112d16323eb878ebdead2117943?s=80\u0026d=identicon","web_url":"https://gitlab.com/feistel"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353291","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":29},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"29 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353291","notes":"https://gitlab.com/api/v4/projects/278964/issues/353291/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353291/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353291","relative":"#353291","full":"gitlab-org/gitlab#353291"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102695511,"iid":353234,"project_id":278964,"title":"Add EE scope to IssuableLink concern","description":"The following discussion from !80499 should be addressed:\n\n- [ ] @felipe_artur started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80499#note_848185468):  (+6 comments)\n\n    \u003e The code above looks right. I think you should test using `IssueLink.inverse_link_type('blocks')` instead of `IssuableLink.inverse_link_type('blocks')`\n\n    \u003e If you test using `FOSS_ONLY` console you will get the correct results:\n\n    \u003e ```shell\n    \u003e $ FOSS_ONLY=1 rails c\n    \u003e Loading development environment (Rails 6.1.4.4)\n    \u003e [1] pry(main)\u003e IssueLink.inverse_link_type('blocks')\n    \u003e =\u003e \"blocks\"\n    \u003e ```\n\n    \u003e ```shell\n    \u003e $ rails c\n    \u003e Loading development environment (Rails 6.1.4.4)\n    \u003e [1] pry(main)\u003e IssueLink.inverse_link_type('blocks')\n    \u003e \u003e =\u003e \"is_blocked_by\"\n    \u003e ```\n\n    \u003e We will need an `ee` version of `inverse_link_type` for `Epic::RelatedEpicLink` too but maybe we can attempt in a follow-up.\n\n    \u003e I don't think we need to unless `blocked` and `blocked_by` relationship changes for epic links. I suppose this won't happen right? In this case we can keep that method only on concerns.\n\n    \u003e I am ok if you think it is better to do these changes in a follow-up and keep this MR more related to database changes.\n\n    \u003e Also, there is another follow-up I think we will need. It is about moving other methods from `EE::IssueLink` to `EE::IssuableLink`. For example, `refresh_blocking_issue_cache` which caches blocking issues, I believe we will have the same performance issue for epic links when sorting epics by count of blocking epics. Maybe we can keep this out of the MVC, but would be nice to have it on an issue so we can remember to get it scheduled.","state":"closed","created_at":"2022-02-18T15:44:41.088Z","updated_at":"2022-03-02T18:20:48.218Z","closed_at":"2022-03-02T18:20:48.193Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["backend","devops::plan","epics","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353234","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353234","notes":"https://gitlab.com/api/v4/projects/278964/issues/353234/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353234/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353234","relative":"#353234","full":"gitlab-org/gitlab#353234"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102691635,"iid":353228,"project_id":278964,"title":"Backend: Retry a failed job in single-stage pipeline causes remaining skipped jobs","description":"### Summary\n\nAfter introducing single-stage pipelines (#30632), we can create pipelines without any stage and connect jobs by `needs`. However, when you have a pipeline like this: `A -\u003e B -\u003e C` and if A fails, then B and C are skipped. If you retry A, then B is retried but C stays skipped.\n\n### Steps to reproduce\n\n1. Have this CI Config file:\n\n```yaml\nbuild:\n  script: exit $(($RANDOM % 2))\n\ntest:\n  script: exit 0\n  needs: [build]\n\ndeploy:\n  script: exit 0\n  needs: [test]\n```\n\n2. Create a pipeline and randomly you'll get a failed `build`.\n![Screen_Shot_2022-02-18_at_17.24.31](/uploads/52a04e549d9540bfc721386074b828dd/Screen_Shot_2022-02-18_at_17.24.31.png)\n3. Retry the failed job `build`.\n![Screen_Shot_2022-02-18_at_17.24.38](/uploads/a5a948bbd8d6c090909b42528520e489/Screen_Shot_2022-02-18_at_17.24.38.png)\nSee that B is ready to retry but `deploy` is still \"skipped\".\n4. After `build` and `test` succeed, `deploy` is still \"skipped\".\n![Screen_Shot_2022-02-18_at_17.39.56](/uploads/23cdca60a1dfa7e9fdceda4469c25743/Screen_Shot_2022-02-18_at_17.39.56.png)\n\n### Example Project\n\n- Config: https://gitlab.com/furkanayhan/test-project/-/blob/20a992e325a3def6b04d5566a1dc019b272317bd/.gitlab-ci.yml\n- Pipeline: https://gitlab.com/furkanayhan/test-project/-/pipelines/474406883\n\n### What is the current *bug* behavior?\n\n`deploy` stays as \"skipped\".\n\n### What is the expected *correct* behavior?\n\n`deploy` should be transitioned to \"created\" then \"pending\".\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n### User impact\n\nUser does not have the ability to manually play a job like `C` and there is no workaround to being stuck in skipped status.","state":"closed","created_at":"2022-02-18T14:43:24.291Z","updated_at":"2022-09-06T14:50:16.218Z","closed_at":"2022-09-05T15:41:04.056Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["CI jobs","Category:Pipeline Authoring","[deprecated] Accepting merge requests","approaching-SLO","backend","candidate::15.6","customer","devops::verify","group::pipeline authoring","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353228","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353228","notes":"https://gitlab.com/api/v4/projects/278964/issues/353228/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353228/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/358110"},"references":{"short":"#353228","relative":"#353228","full":"gitlab-org/gitlab#353228"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":102677312,"iid":353209,"project_id":278964,"title":"Fix N+1 problems on Environment Serializer","description":"## Description\n\nWe realized [this problem](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80440#note_846399024) when we were working on [internal API extension](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80440).\n\nIt seems there are bunch of N+1 problems on the [Environment Serializer](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/serializers/environment_serializer.rb). After we fixed [the false-positive test](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80901/diffs#0c44eaecf55e1f6ac10459073609ddbca8c400dd_39_39), we confirmed that the test is failing by N+1.\n\nIn terms of GitLab availability, we should fix this problem as soon as possible.\n\n## Proposal\n\nFix the N+1 issues on `EnvironmentSerializer`\n\n## Steps\n\n- [x] Fix false-positive N+1 tests - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81338\n- [x] Fix preloading of Deployments - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81328\n- [x] Implement `ProtectedEnvironmentPreloader` (see https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80901 for an example) - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82746","state":"closed","created_at":"2022-02-18T10:39:19.667Z","updated_at":"2022-04-12T20:47:30.984Z","closed_at":"2022-04-12T20:47:30.961Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Category:Environment Management","Release::P1","bug::performance","devops::release","group::release","missed:14.9","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353209","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353209","notes":"https://gitlab.com/api/v4/projects/278964/issues/353209/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353209/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353209","relative":"#353209","full":"gitlab-org/gitlab#353209"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102652547,"iid":353176,"project_id":278964,"title":"Vulnerabilities created via GraphQL mutation are not visible in Vulnerability Report","description":"## Why are we doing this work\n\nAs outlined in #351055 â€“ Vulnerabilities created using `Submit vulnerability form` do not show up in the Vulnerability Report section for some reason\n\n## Implementation plan\n\n- [x] ~backend include the `GENERIC` report type when querying for vulnerabilities for the vulnerability report\n  - See https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/helpers/ee/projects_helper.rb#L210 for more info. The same applies for `user` and `group` level dashboards.\n- [x] ~frontend include the `GENERIC` report type in the graphql call","state":"closed","created_at":"2022-02-17T23:13:32.053Z","updated_at":"2022-09-13T23:29:05.514Z","closed_at":"2022-03-29T20:09:47.599Z","closed_by":{"id":5412787,"username":"nmccorrison","name":"Neil McCorrison","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5412787/avatar.png","web_url":"https://gitlab.com/nmccorrison"},"labels":["Category:Vulnerability Management","backend","backend complete","devops::secure","feature::addition","group::threat insights","missed:14.9","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5412787,"username":"nmccorrison","name":"Neil McCorrison","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5412787/avatar.png","web_url":"https://gitlab.com/nmccorrison"}],"author":{"id":487608,"username":"Quintasan","name":"MichaÅ‚ ZajÄ…c","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":5412787,"username":"nmccorrison","name":"Neil McCorrison","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5412787/avatar.png","web_url":"https://gitlab.com/nmccorrison"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353176","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353176","notes":"https://gitlab.com/api/v4/projects/278964/issues/353176/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353176/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353176","relative":"#353176","full":"gitlab-org/gitlab#353176"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102651448,"iid":353170,"project_id":278964,"title":"Add related epics UI to epic detail page","description":"Add the related issues widget to the epic detail page. Should be placed below the epic tree widget, and behind a feature flag.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-17T22:17:36.821Z","updated_at":"2022-07-11T15:48:38.985Z","closed_at":"2022-03-16T08:06:33.941Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Deliverable","devops::plan","direction","feature::addition","frontend","group::product planning","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353170","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353170","notes":"https://gitlab.com/api/v4/projects/278964/issues/353170/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353170/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353170","relative":"#353170","full":"gitlab-org/gitlab#353170"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":43346,"iid":53,"sequence":10,"group_id":9970,"title":"Iteration 10","description":null,"state":3,"created_at":"2021-12-21T00:05:01.995Z","updated_at":"2022-03-16T00:05:05.304Z","start_date":"2022-03-02","due_date":"2022-03-15","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/43346"},"health_status":null},{"id":102650238,"iid":353169,"project_id":278964,"title":"Improve debuggability of worker-entry tests","description":"### Problem\n\nQuickly identifying why a worker-entry test has failed needs improvements.\n\n- Console output not useful, could be improved\n- Test and test failures not populated in `Test` tab\n\n### Proposal\n\n#### Console job output\n\nThe part that is interesting to see here is the pytest output. The pytest output will show each failing test with the failure output. This can then be used to look at the individual test artifacts that are part of the job.\n\n#### Populating the Test tab of Pipeline output\n\nPytest can generate junit xml reports which can then be picked up by GitLab using the `report` keyword in the ci/cd configuration. This provides another way to view which tests failed. It's unlikely this output will be enough to resolve a test failure on it's own. However, it does provide the test names allowing local reproduction and also indicating which artifacts can be viewed to further investigate the issue.\n\n### Implementation plan\n\n1. [x] Send docker logs to /dev/null. They are not useful.\n1. [x] Display the pytest log to console at end of test regardless of success or failure.\n1. [x] Display a notice on how to use the worker-entry job.\n   1. Review pytest log output to get test failure name\n   1. Use test failure name to see specific log files for that test.\n1. [x] Have pytest generate a junitxml report that is captured via the `report` keyword. This will populate the `Test` tab of the pipeline.\n   1. Add `--junit-xml=junit_worker-entry_tests-integration.xml` to pytest command line\n   1. Add `report` keyword to job definition\n   1. Verify test and test failures correctly collected","state":"closed","created_at":"2022-02-17T21:42:07.486Z","updated_at":"2022-03-16T11:24:22.320Z","closed_at":"2022-02-24T17:24:30.334Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","maintenance::pipelines","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353169","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353169","notes":"https://gitlab.com/api/v4/projects/278964/issues/353169/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353169/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353169","relative":"#353169","full":"gitlab-org/gitlab#353169"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102641223,"iid":353157,"project_id":278964,"title":"[Meta] Migrate 2 components to Pajamas","description":"This is a meta issue to track the development of ~\"group::source code\" ~frontend for migrating components to Pajamas.\n\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/353726\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/353724\n\nRelates https://gitlab.com/gitlab-org/ecosystem-stage/team-tasks/-/issues/110","state":"closed","created_at":"2022-02-17T19:03:17.504Z","updated_at":"2022-03-18T07:00:57.643Z","closed_at":"2022-03-08T08:43:08.443Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","Pajamas","SUS::Impacting","automation:ux-missing-labels","devops::create","frontend","group::source code","pajamas::integrate","section::dev","type::maintenance"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353157","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353157","notes":"https://gitlab.com/api/v4/projects/278964/issues/353157/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353157/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353157","relative":"#353157","full":"gitlab-org/gitlab#353157"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102632499,"iid":353128,"project_id":278964,"title":"Clean up old expired artifacts for self-managed instances","description":"Related to #322817, but this is specifically for completing the migrations for both gitlab.com and self-managed instances, and subsequently enabling the feature flag that would automatically remove expired artifacts.","state":"closed","created_at":"2022-02-17T15:54:24.442Z","updated_at":"2022-08-26T09:34:27.791Z","closed_at":"2022-03-17T08:50:44.516Z","closed_by":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"labels":["Category:Build Artifacts","Verify::P2","backend","devops::verify","group::pipeline insights","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"}],"author":{"id":5709468,"username":"cheryl.li","name":"Cheryl Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709468/avatar.png","web_url":"https://gitlab.com/cheryl.li"},"type":"ISSUE","assignee":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"user_notes_count":48,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353128","notes":"https://gitlab.com/api/v4/projects/278964/issues/353128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353128","relative":"#353128","full":"gitlab-org/gitlab#353128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7097,"epic":{"id":381726,"iid":7097,"title":"Improve expire_at behavior for self hosted GitLab instances so wanted artifacts are not deleted","url":"/groups/gitlab-org/-/epics/7097","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102631820,"iid":353126,"project_id":278964,"title":"Surface validation errors as warnings","description":"## Why are we doing this work\n\nCurrently, when users [opt-in to schema validation](https://docs.gitlab.com/ee/development/integrations/secure.html) we DO NOT ingest reports that do not pass schema validation.\n\nHowever, in %\"15.0\" we want to enforce the schema validation. As such, in \"%\"14.10\" we would like soft-enforce schema validation and surface the validation errors as warnings in the Security tab of the Pipeline status page.\n\n## Implementation plan\n\n* [ ] ~\"backend\" Extend `lib/gitlab/ci/reports/security/report.rb` with `warnings` attribute\n* [ ] ~\"backend\" Extend `ee/app/models/security/scan.rb` with warnings getter and setter so the warnings get stored to `Security::Scan#info` table\n* [ ] ~\"backend\" Extend `ee/app/presenters/security/scan_presenter.rb` to present `warnings`\n* [ ] ~\"backend\" Expose `warnings` in `ee/app/graphql/types/scan_type.rb`\n* [ ] ~\"backend\" Adjust `lib/gitlab/ci/parsers/security/common.rb` so that it always performs schema validation but treats the errors are warnings unless `VALIDATE_SCHEMA` is `true`","state":"closed","created_at":"2022-02-17T15:50:51.408Z","updated_at":"2022-03-07T03:20:27.487Z","closed_at":"2022-03-03T19:57:07.811Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago FigueirÃ³","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["backend","devops::secure","feature::enhancement","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[],"author":{"id":487608,"username":"Quintasan","name":"MichaÅ‚ ZajÄ…c","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353126","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353126","notes":"https://gitlab.com/api/v4/projects/278964/issues/353126/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353126/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353126","relative":"#353126","full":"gitlab-org/gitlab#353126"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6968,"epic":{"id":374803,"iid":6968,"title":"Enforce validation of security reports","url":"/groups/gitlab-org/-/epics/6968","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102631410,"iid":353125,"project_id":278964,"title":"[Feature flag] Enable display of security report validation warnings","description":"## Summary\n\nThis issue is to rollout ingestion of reports that do not pass schema validation but surface those errors as warnings. \n\nIn case our warnings are incorrect, or cause confusion to user, we want to be able to turn them off. This is what the feature flag achieves. In the backend, validation and enforcement are still happening, regardless of the setting.\n\nWhen `[show_report_validation_warnings]` is true, any warnings produced by the schema report validation will not be displayed to users. Errors are not affected.\n\nfeature flag and is part of [validation enforcement of security reports](https://gitlab.com/groups/gitlab-org/-/epics/6968)\n\n## Owners\n\n- Team: Secure â€“ Threat Insights\n- Most appropriate slack channel to reach out to: `#g_secure_threat_insights`\n- Best individual to reach out to: `MichaÅ‚ ZajÄ…c (DRI)` (@Quintasan) or `@gitlab-org/secure/threat-insights-backend-team`\n- PM: @matt_wilson \n\n## Stakeholders\n\n~\"group::threat insights\" is responsible for monitoring this globally and raising problems with the appropriate analyzer group(s). \n\nIf this happens, the Engineering Manager for the corresponding group is responsible for addressing the validation problems by %15.0. If a validation issue can't be resolved by then, the EM must notify this Epic's DRI @Quintasan or the Threat Insights EM, @thiagocsf.\n\nPlease check the box next to your name to confirm you read the above and are aware of your responsibilities (feel free to edit this to delegate as needed).\n\n- [ ] ~\"group::composition analysis\" @gonzoyumo \n- [x] ~\"group::container security\" @thiagocsf \n- [ ] ~\"group::dynamic analysis\" @twoodham (covering for @sethgitlab until 2022-03-18)\n- [x] ~\"group::static analysis\" @dsearles \n\n## Expectations\n\n### What are we expecting to happen?\n\n1. Reports that do not pass schema validation will show up in the database\n1. Some Threat Insights features might not work correctly when invalid reports get ingested\n1. Users will see warnings in their pipelines Security tab\n\n### When is the feature viable?\n\n### What might happen if this goes wrong?\n\n1. New pipelines will not create vulnerabilities if the report doesn't pass the validation, since the artifacts remain for some time there should be no data loss if we quickly disable the feature flag\n\n### What can we monitor to detect problems with this?\n\n### What can we check for monitoring production after rollouts?\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set show_report_validation_warnings true --dev`\n    - [x] `/chatops run feature set show_report_validation_warnings true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab show_report_validation_warnings true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss show_report_validation_warnings true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com show_report_validation_warnings true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org show_report_validation_warnings true`\n    - [ ] `/chatops run feature set --group=gitlab-com show_report_validation_warnings true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e show_report_validation_warnings true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set show_report_validation_warnings \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set show_report_validation_warnings \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set show_report_validation_warnings true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `show_report_validation_warnings`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `show_report_validation_warnings` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete show_report_validation_warnings --dev`\n    - [ ] `/chatops run feature delete show_report_validation_warnings --staging`\n    - [ ] `/chatops run feature delete show_report_validation_warnings`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set show_report_validation_warnings false\n```","state":"closed","created_at":"2022-02-17T15:48:37.514Z","updated_at":"2022-03-18T14:11:25.709Z","closed_at":"2022-03-11T15:49:22.946Z","closed_by":{"id":487608,"username":"Quintasan","name":"MichaÅ‚ ZajÄ…c","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["feature flag","feature::addition","type::feature","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":487608,"username":"Quintasan","name":"MichaÅ‚ ZajÄ…c","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"}],"author":{"id":487608,"username":"Quintasan","name":"MichaÅ‚ ZajÄ…c","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":487608,"username":"Quintasan","name":"MichaÅ‚ ZajÄ…c","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353125","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":53,"completed_count":25},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"25 of 53 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353125","notes":"https://gitlab.com/api/v4/projects/278964/issues/353125/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353125/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353125","relative":"#353125","full":"gitlab-org/gitlab#353125"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6968,"epic":{"id":374803,"iid":6968,"title":"Enforce validation of security reports","url":"/groups/gitlab-org/-/epics/6968","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":102627761,"iid":353117,"project_id":278964,"title":"ChatOps Feature command doesn't work with Namespace objects","description":"## Problem\n\nThe ChatOps command to set a feature flag for a specific actor [doesn't work](https://gitlab.slack.com/archives/C02PF508L/p1643624950207339) (internal link) if the target is the full path of a user namespace. It works as expected when a group full path is passed in as option:\n\n* `/chatops run feature set --group=fabiopitino \u003cfeature_flag\u003e true` does not update anything.\n* `/chatops run feature set --group=gitlab-org \u003cfeature_flag\u003e true` update the FF correctly for the target group.\n\nWhile it seems to work as expected, because a `UserNamespace` is not a `Group`, we allow a namespace to be used as actor in the code, [as per our documentation](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process).\n\n```ruby\n# This is accepted\nFeature.enabled?(:my_feature_flag, namespace, default_enabled: :yaml)\n```\n\n## Solution\n\n1. [x] Allow the features API to take in input a `namespace` actor which is more generic than `group` and can cover both `UserNamespace` and `Group` - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79555\n1. [x] Allow ChatOps to [support `--namespace=`](https://gitlab.com/gitlab-com/chatops/-/blob/master/lib/chatops/commands/feature.rb) option when setting the actor. - https://gitlab.com/gitlab-com/chatops/-/merge_requests/289\n1. [x] Document the changes for the API and ChatOps https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88443","state":"closed","created_at":"2022-02-17T15:01:45.220Z","updated_at":"2022-05-31T18:14:08.621Z","closed_at":"2022-05-25T09:51:54.974Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:ChatOps","Category:Continuous Integration","backend","devops::verify","feature flag","feature::addition","group::pipeline execution","missed:14.10","missed:14.9","missed:15.0","section::ops","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353117","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353117","notes":"https://gitlab.com/api/v4/projects/278964/issues/353117/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353117/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353117","relative":"#353117","full":"gitlab-org/gitlab#353117"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102627285,"iid":353116,"project_id":278964,"title":"Migrate 2 components to Pajamas","description":"This is a meta issue to track the development of ~\"group::code review\" ~frontend for migrating components to Pajamas.\n\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/353744\n    - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82755\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/361141\n\nPrevious; too big to get done now: \n- https://gitlab.com/gitlab-org/gitlab/-/issues/230769\n    - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81502\n    - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81499\n- https://gitlab.com/gitlab-org/gitlab/-/issues/361142\n\nRelates https://gitlab.com/gitlab-org/ecosystem-stage/team-tasks/-/issues/110","state":"closed","created_at":"2022-02-17T14:54:54.792Z","updated_at":"2022-05-31T19:04:21.248Z","closed_at":"2022-03-16T09:15:16.497Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Deliverable","Pajamas","SUS::Non-impacting","devops::create","frontend","group::code review","pajamas::integrate","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353116","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353116","notes":"https://gitlab.com/api/v4/projects/278964/issues/353116/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353116/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353116","relative":"#353116","full":"gitlab-org/gitlab#353116"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102627181,"iid":353115,"project_id":278964,"title":"Migrate 2 components to Pajamas","description":"This is a meta issue to track the development of ~\"group::code review\" ~frontend for migrating components to Pajamas.\n\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/325374\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/354586\n\nRelates https://gitlab.com/gitlab-org/ecosystem-stage/team-tasks/-/issues/110","state":"closed","created_at":"2022-02-17T14:54:35.049Z","updated_at":"2022-03-18T07:01:06.393Z","closed_at":"2022-03-16T11:47:10.171Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Pajamas","SUS::Impacting","devops::create","frontend","group::code review","pajamas::integrate","quad-planning::complete-no-action","section::dev","severity::4","type::maintenance","workflow::in dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353115","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353115","notes":"https://gitlab.com/api/v4/projects/278964/issues/353115/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353115/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353115","relative":"#353115","full":"gitlab-org/gitlab#353115"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102627161,"iid":353114,"project_id":278964,"title":"Migrate 2 components to Pajamas","description":"This is a meta issue to track the development of ~\"group::code review\" ~frontend for migrating components to Pajamas.\n\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/241570\n- [x] https://gitlab.com/gitlab-org/gitlab/-/issues/241595\n\nRelates https://gitlab.com/gitlab-org/ecosystem-stage/team-tasks/-/issues/110","state":"closed","created_at":"2022-02-17T14:54:06.965Z","updated_at":"2022-03-18T07:01:06.439Z","closed_at":"2022-03-14T07:42:58.162Z","closed_by":{"id":3457201,"username":"viktomas","name":"Tomas Vik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"labels":["Deliverable","Pajamas","SUS::Impacting","devops::create","frontend","group::code review","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3457201,"username":"viktomas","name":"Tomas Vik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"}],"author":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"type":"ISSUE","assignee":{"id":3457201,"username":"viktomas","name":"Tomas Vik","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3457201/avatar.png","web_url":"https://gitlab.com/viktomas"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353114","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353114","notes":"https://gitlab.com/api/v4/projects/278964/issues/353114/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353114/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353114","relative":"#353114","full":"gitlab-org/gitlab#353114"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102625340,"iid":353113,"project_id":278964,"title":"[Meta] Migrate 2 components to Pajamas in 14.10","description":"This is a meta issue to track the development of ~\"group::code review\" ~frontend for migrating components to Pajamas.\n\n- [ ] [`Migrate to shared alert HAML partial in app/views/admin/broadcast_messages/_form.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/issues/325352)\n- [x] [`Migrate to shared alert HAML partial in app/views/projects/pages_domains/_form.html.haml`](https://gitlab.com/gitlab-org/gitlab/-/issues/325378)\n\nRelates https://gitlab.com/gitlab-org/ecosystem-stage/team-tasks/-/issues/110","state":"closed","created_at":"2022-02-17T14:40:11.353Z","updated_at":"2022-04-18T13:01:21.007Z","closed_at":"2022-04-18T13:01:20.945Z","closed_by":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Deliverable","Pajamas","SUS::Non-impacting","devops::create","frontend","group::code review","pajamas::integrate","section::dev","type::maintenance"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353113","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353113","notes":"https://gitlab.com/api/v4/projects/278964/issues/353113/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353113/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353113","relative":"#353113","full":"gitlab-org/gitlab#353113"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102618485,"iid":353101,"project_id":278964,"title":"Support sticking to a specifc commit","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\nAs a Release Manager, I want to release changes sequentially to clusters/environments/users in order to minimize the risks of a bogus release.\n\nAs an SRE, I want to have tight controls around infrastructure changes to minimize unexpected downtime.\n\nAs a Release Manager, i want to promote a given deployment to higher environments.\n\n### Proposal\n\nSee Proposal in the parent epic: https://gitlab.com/groups/gitlab-org/-/epics/4516#proposal.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-17T13:16:44.996Z","updated_at":"2022-11-28T14:50:03.981Z","closed_at":"2022-11-28T14:50:03.915Z","closed_by":{"id":12689435,"username":"timofurrer","name":"Timo Furrer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12689435/avatar.png","web_url":"https://gitlab.com/timofurrer"},"labels":["GitLab Premium","devops::configure","direction","documentation","feature::addition","group::configure","section::ops","type::feature","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":12689435,"username":"timofurrer","name":"Timo Furrer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12689435/avatar.png","web_url":"https://gitlab.com/timofurrer"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":12689435,"username":"timofurrer","name":"Timo Furrer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12689435/avatar.png","web_url":"https://gitlab.com/timofurrer"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353101","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353101","notes":"https://gitlab.com/api/v4/projects/278964/issues/353101/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353101/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353101","relative":"#353101","full":"gitlab-org/gitlab#353101"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4516,"epic":{"id":118984,"iid":4516,"title":"Support GitOps deployments from outside the default branch","url":"/groups/gitlab-org/-/epics/4516","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102610063,"iid":353088,"project_id":278964,"title":"Fix the month view on the 'CI usage by minutes' bar chart","description":"### Summary\n\nCurrently, on the \"CI usage by minutes\" bar chart, we show two Februarys in the dropdown and only display usage daya for the first one.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/335968+\n\n### Steps to reproduce\n\nHave a look on https://gitlab.com/-/profile/usage_quotas#pipelines-quota-tab you'll likely have the issue in the video below.\n\n### Example Project\n\nThis happens at the user level on GitLab.com\n\n### What is the current *bug* behavior?\nWe don't differentiate between months so \"February\" usage will forever be February 2021.\n\n### What is the expected *correct* behavior?\nYears are taken into account and we can filter by both February 2021 and February 2022.\n\n### Relevant logs and/or screenshots\n\n![ci-minutes.mov](/uploads/ff288f42974195ff0877cd63ec4f536a/ci-minutes.mov.mp4)\n\n### Possible fixes\nIt may just be that the dropdown is broken. There's currently two februarys in there which is causing a reference error. If we fix that, the whole thing may work. We should also append the year to the month so it's clear what we're looking at.","state":"closed","created_at":"2022-02-17T11:55:52.129Z","updated_at":"2022-03-11T15:59:17.487Z","closed_at":"2022-03-04T06:16:45.921Z","closed_by":{"id":6115425,"username":"v_mishra","name":"Veethika M","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f09a3a0badac17a57e28b4e18a45c1c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/v_mishra"},"labels":["Category:Continuous Integration","GitLab Free","GitLab Premium","GitLab Ultimate","SUS::Impacting","UX","devops::verify","frontend","group::pipeline execution","internal customer","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353088","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353088","notes":"https://gitlab.com/api/v4/projects/278964/issues/353088/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353088/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353088","relative":"#353088","full":"gitlab-org/gitlab#353088"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7561,"epic":{"id":442014,"iid":7561,"title":"CI minutes and Runner Duration Visibility Charts MVC","url":"/groups/gitlab-org/-/epics/7561","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102608767,"iid":353087,"project_id":278964,"title":"Suggested reviewers dropdown","description":"Change the reviewers dropdown in merge request to include a `Suggestions` section to include suggested reviewers.\n\nDesign is at https://gitlab.com/gitlab-org/gitlab/-/issues/341873/designs/Suggestions_dropdown.png Note with the design though we do not need to change it to have the checkboxes, we can keep the current dropdown design and just add a new section.\n\n\u003cimg src=\"/uploads/31542ae5b0ecd1e2b9101e107f954b1b/create-code-review-suggested-reviewers.png\" width=\"200px\"\u003e","state":"closed","created_at":"2022-02-17T11:38:50.511Z","updated_at":"2022-11-04T03:22:39.231Z","closed_at":"2022-09-27T09:33:06.851Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::create","frontend","group::code review","section::dev","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":39,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353087","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353087","notes":"https://gitlab.com/api/v4/projects/278964/issues/353087/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353087/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353087","relative":"#353087","full":"gitlab-org/gitlab#353087"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6113,"epic":{"id":282909,"iid":6113,"title":"Applied ML customer facing MVC of integration of unreview","url":"/groups/gitlab-org/-/epics/6113","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102608617,"iid":353085,"project_id":278964,"title":"Suggested reviewers collapsible component","description":"For suggested reviewers (https://gitlab.com/groups/gitlab-org/-/epics/6113) the frontend will need to create a component that will display the suggested reviewers for a merge request. This component needs to be visible in the merge request sidebar and the merge request form. See https://gitlab.com/gitlab-org/gitlab/-/issues/341873 for the designs.\n\nFor this we can use https://gitlab-org.gitlab.io/gitlab-ui/?path=/docs/base-accordion--default from GitLab UI. \n\nIt will need to send an API request to get the suggested reviewers. This API does not exist yet so we can just mock this for now.","state":"closed","created_at":"2022-02-17T11:35:17.787Z","updated_at":"2022-06-28T18:27:28.799Z","closed_at":"2022-06-28T18:27:28.787Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["[deprecated] Accepting merge requests","devops::create","frontend","group::code review","missed-deliverable","missed:14.9","section::dev","type::feature"],"milestone":null,"assignees":[],"author":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353085","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353085","notes":"https://gitlab.com/api/v4/projects/278964/issues/353085/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353085/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353085","relative":"#353085","full":"gitlab-org/gitlab#353085"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6113,"epic":{"id":282909,"iid":6113,"title":"Applied ML customer facing MVC of integration of unreview","url":"/groups/gitlab-org/-/epics/6113","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102604613,"iid":353078,"project_id":278964,"title":"Document the strategy of using the Generic packages feature to store Workhorse binaries","description":"Document what was implemented in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79766.\n\nTo be added to https://docs.gitlab.com/ee/development/pipelines.html#performance.","state":"closed","created_at":"2022-02-17T10:41:51.501Z","updated_at":"2022-03-16T11:24:26.531Z","closed_at":"2022-02-28T14:26:15.796Z","closed_by":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","documentation","maintenance::pipelines","type::maintenance","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353078","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353078","notes":"https://gitlab.com/api/v4/projects/278964/issues/353078/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353078/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353078","relative":"#353078","full":"gitlab-org/gitlab#353078"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102603781,"iid":353077,"project_id":278964,"title":"[Feature Flag] Cleanup api_kaminari_count_with_limit","description":"\u003c!-- Title suggestion: [Feature flag] Cleanup \u003cfeature-flag-name\u003e --\u003e\n\n## Summary\n\nThis issue is to cleanup the `api_kaminari_count_with_limit` feature flag, after the feature flag has been enabled by default for an appropriate amount of time in production.\n\nThe feature flag is enabled globally as we can see running: `/chatops run feature get api_kaminari_count_with_limit`.\n\nThis is an old feature flag, introduced in 11.8 with https://gitlab.com/gitlab-org/gitlab-foss/-/merge_requests/23931 and the last time someone looked at was https://gitlab.com/gitlab-org/gitlab/-/merge_requests/43428.\n\n- [x] Default enabled. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82003 (%\"14.9\")\n- [x] Cleanup feature flag. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81084 (\u003e= %\"14.10\")\n\nRelated discussion https://gitlab.com/gitlab-org/gitlab/-/issues/352597#note_840133891.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::integrations\" \n- Most appropriate slack channel to reach out to: `#g_ecosystem_integrations`\n- Best individual to reach out to: @rymai + @gitlab-org/ecosystem-stage/integrations \n- PM: @g.hickman \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What might happen if this goes wrong?\n\n\u003c!-- Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### Cleaning up the feature flag\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `api_kaminari_count_with_limit` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete api_kaminari_count_with_limit --dev`\n    - [x] `/chatops run feature delete api_kaminari_count_with_limit --staging`\n    - [x] `/chatops run feature delete api_kaminari_count_with_limit`\n- [x] Close this rollout issue.","state":"closed","created_at":"2022-02-17T10:36:25.502Z","updated_at":"2022-11-22T19:00:25.236Z","closed_at":"2022-03-29T11:52:25.826Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["Community contribution","backend","coach will finish","devops::manage","feature flag","group::integrations","maintenance::refactor","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},{"id":4121022,"username":"jaspreet-3911","name":"Jaspreet Singh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4121022/avatar.png","web_url":"https://gitlab.com/jaspreet-3911"}],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353077","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":14},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"14 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353077","notes":"https://gitlab.com/api/v4/projects/278964/issues/353077/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353077/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353077","relative":"#353077","full":"gitlab-org/gitlab#353077"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102597419,"iid":353062,"project_id":278964,"title":"Add Shared Runner Duration to Usage Quotas page","description":"## Release notes\n\nGitLab previously [announced](https://about.gitlab.com/blog/2021/11/11/public-project-minute-limits/) usage quotas for public projects but users did not have an easy way to see how many shared runner minutes their pipelines were using.\n\nNow you can see your shared runner usage in your Usage Quota screen.\n\n## Problem\n\nUsers [are reporting](https://gitlab.com/gitlab-org/gitlab/-/issues/243722#note_845366769) that they cannot access `Analytics \u003e Shared runners duration` page on a group on Free plan. The whole `Analytics` menu item on the left side-bar is hidden.\n\n![image](/uploads/54408363515e905365cac365deb4a180/image.png)\n\nThis could be because the `Analytics` is a paid feature and we placed this information in there.\n\n## Solution\n\n* Add the `Shared runners duration` under `Usage Quotas` page.","state":"closed","created_at":"2022-02-17T09:26:57.406Z","updated_at":"2022-03-16T18:05:56.608Z","closed_at":"2022-03-10T15:33:22.296Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","SUS::Impacting","UX","Verify::P1","devops::verify","frontend","group::pipeline execution","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":38,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353062","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353062","notes":"https://gitlab.com/api/v4/projects/278964/issues/353062/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353062/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353062","relative":"#353062","full":"gitlab-org/gitlab#353062"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7561,"epic":{"id":442014,"iid":7561,"title":"CI minutes and Runner Duration Visibility Charts MVC","url":"/groups/gitlab-org/-/epics/7561","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102589933,"iid":353054,"project_id":278964,"title":"[Feature flag] Rollout of `restrict_special_characters_in_project_path`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/349047) on production,\nthat is currently behind the `restrict_special_characters_in_project_path` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/80055 will restrict the usage of consecutive special characters and special characters at the start and end of the project path.\n\nThe validation only runs when the project path is created or updated.\n## Owners\n\n- Team: Manage:Workspace\n- Most appropriate slack channel to reach out to: `#g_manage_workspace`\n- Best individual to reach out to: @abdwdd\n- PM: @ogolowinski\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\nThe active record validation in the linked MR only runs when a new project is added or the path of an existing project is changed. We will see some 400 errors because of this validation, but there might be 5xx errors if something goes wrong.\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\nIf there's any place where we are creating projects in an automated fashion with paths violating the added validation then we will see some 5xx errors. If there are any 5xx errors related to this change on Sentry, we just need to turn off the feature flag. See the **Rollback Steps** section below for the command.\n\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n[Rails Error Rates (accumulated by components)](https://dashboards.gitlab.net/d/stage-groups-workspace/stage-groups-workspace-group-dashboard?orgId=1) gives accumulated error rates so Sentry and Kibana will be better for monitoring.\n\n### What can we check for monitoring production after rollouts?\n\n* [Sentry dashboard link](https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+Path+must+not+start+or+end+with+a+special+character+and+must+not+contain+consecutive+special+characters.) - for any 5xx errors\n* [400 errors on Kibana](https://log.gprd.gitlab.net/app/dashboards#/view/73827030-93d8-11ec-a649-b7cbb8e4f62e?_g=(filters%3A!()%2CrefreshInterval%3A(pause%3A!t%2Cvalue%3A0)%2Ctime%3A(from%3Anow-1w%2Cto%3Anow)))\n* [Validation errors on Kibana](https://log.gprd.gitlab.net/app/discover#/?_g=()\u0026_a=(columns:!(),filters:!(),index:'7092c4e2-4eb5-46f2-8305-a7da2edad090',interval:auto,query:(language:kuery,query:'json.message:%20%22Path%20must%20not%20start%20or%20end%20with%20a%20special%20character%20and%20must%20not%20contain%20consecutive%20special%20characters.%22'),sort:!(!(json.time,desc))))\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set restrict_special_characters_in_project_path true --dev`\n    - [x] `/chatops run feature set restrict_special_characters_in_project_path true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab restrict_special_characters_in_project_path true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss restrict_special_characters_in_project_path true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com restrict_special_characters_in_project_path true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/349047) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_manage_workspace`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set restrict_special_characters_in_project_path \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set restrict_special_characters_in_project_path \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set restrict_special_characters_in_project_path true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/349047) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `restrict_special_characters_in_project_path` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/349047) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete restrict_special_characters_in_project_path --dev`\n    - [x] `/chatops run feature delete restrict_special_characters_in_project_path --staging`\n    - [x] `/chatops run feature delete restrict_special_characters_in_project_path`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set restrict_special_characters_in_project_path false\n```","state":"closed","created_at":"2022-02-17T07:16:32.123Z","updated_at":"2022-06-23T13:50:55.994Z","closed_at":"2022-03-21T12:04:29.834Z","closed_by":{"id":10327656,"username":"abdwdd","name":"Abdul Wadood","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10327656/avatar.png","web_url":"https://gitlab.com/abdwdd"},"labels":["devops::manage","feature flag","feature::addition","group::organization","missed:14.9","section::dev","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10327656,"username":"abdwdd","name":"Abdul Wadood","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10327656/avatar.png","web_url":"https://gitlab.com/abdwdd"}],"author":{"id":10327656,"username":"abdwdd","name":"Abdul Wadood","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10327656/avatar.png","web_url":"https://gitlab.com/abdwdd"},"type":"ISSUE","assignee":{"id":10327656,"username":"abdwdd","name":"Abdul Wadood","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10327656/avatar.png","web_url":"https://gitlab.com/abdwdd"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353054","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":34,"completed_count":19},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"19 of 34 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353054","notes":"https://gitlab.com/api/v4/projects/278964/issues/353054/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353054/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353054","relative":"#353054","full":"gitlab-org/gitlab#353054"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102589339,"iid":353052,"project_id":278964,"title":"Users count info text is not properly aligned","description":"### Problem\n\nThe Plan Purchase flow shows an info text for Users numbers that is not correctly aligned. See screenshot:\n\n|Current|Expected|\n|-|-|\n|![Screenshot_2022-02-17_at_08.37.22](/uploads/7bacf1c39d5142f7c5849716009e7db5/Screenshot_2022-02-17_at_08.37.22.png)|![](https://gitlab.com/gitlab-org/gitlab/uploads/f7b4147b7ffff5b1943ba0d65243a701/Screen_Shot_2021-12-01_at_3.00.19_PM.png)\n\n### Solution\n\nCheck the suggestion [here](https://gitlab.com/gitlab-org/gitlab/-/issues/353052#note_845881406).\n\n### How to reproduce\n\nThe best way to reproduce this locally, without too many jumps is:\n\n1. on your `gdk`, visit the address: `-/subscriptions/new?plan_id=2c92c0f876e0f4cc0176e176a08f1b70`\n1. apply this patch\n```\nIndex: ee/app/assets/javascripts/subscriptions/new/components/checkout/subscription_details.vue\n===================================================================\ndiff --git a/ee/app/assets/javascripts/subscriptions/new/components/checkout/subscription_details.vue b/ee/app/assets/javascripts/subscriptions/new/components/checkout/subscription_details.vue\n--- a/ee/app/assets/javascripts/subscriptions/new/components/checkout/subscription_details.vue\t(revision e589b66c19a996aa24f811a1f0094be5273a8ecc)\n+++ b/ee/app/assets/javascripts/subscriptions/new/components/checkout/subscription_details.vue\t(date 1645083049050)\n@@ -236,7 +236,7 @@\n           /\u003e\n         \u003c/gl-form-group\u003e\n         \u003cgl-form-group\n-          v-if=\"shouldDisableNumberOfUsers\"\n+          v-if=\"true\"\n           ref=\"company-link\"\n           class=\"label ml-3 align-self-end\"\n         \u003e\n```\n\n(Remember to remove the patch :sweat_smile:)","state":"closed","created_at":"2022-02-17T07:02:21.114Z","updated_at":"2022-03-10T07:29:07.618Z","closed_at":"2022-03-10T07:29:07.559Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","onboarding","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353052","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353052","notes":"https://gitlab.com/api/v4/projects/278964/issues/353052/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353052/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353052","relative":"#353052","full":"gitlab-org/gitlab#353052"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102577385,"iid":353030,"project_id":278964,"title":"Domain Verification MVC using Domain(s) verified via GitLab Pages","description":"## Goal\nEnterprise customers want complete control over their users. \"Their users\" are defined as anyone with an \"@enterprise.com\" email address.\n\nAs an enterprise administrator, I want to be able to claim existing GitLab users that belong to my domain(s) and have control over them.  I want to legally own all of the IP that exists under this account.\n\nIn order to achieve this, we need to have a manual process where a human can verify that the domain verification is legit. If it is, the `provisioned_by_group_id` can be set, making the user an Enterprise User.\n\n## Background\n\nExisting solution for this is in the `provisioned_by_group_id` flag. This gets set when users are provisioned via SCIM.\n\n## MVC Definition\n##### [âœï¸ Figma work file](https://www.figma.com/file/noMqTrsYki1tVuYcbPA9xK/%23353030-Domain-verification?node-id=0%3A1)\n\n##### ðŸ§™â€â™€ï¸ Wizard text\n---\n\n### Get started with GitLab Pages\n\nGitLab Pages lets you deploy a static website in minutes. You can:\n\n* Follow the steps below to create pipeline configuration using a wizard.\n* Skip these steps to configure GitLab Pages manually, including domain verification.\n\n---\n\n##### âš™ï¸ Group Settings Proposal:\n![02-Group_Setting_Overview](https://gitlab.com/gitlab-org/gitlab/uploads/d7759b5d2ecde3ec150611df04b2985f/02-Group_Setting_Overview.png)\n\nNote: This needs to work on GitLab.com and should be behind a feature flag that is disabled by default.\n\n1. Domain verification already exists in GitLab Pages. Let's take advantage of these domains that are already verified.\n2. Any domain that is verified via Pages is considered verified for the purpose of turning users into Enterprise users.\n3. This feature lives behind a feature flag\n4. Group owner navigates to Group Settings and sees a list of all domains verified with Pages\n5. Presence of a button with \"Claim Users\"\n6. A warning message appears when user clicks \"Claim Users\".\n    - This will claim any users that have a primary email address matching the domains X, Y, and Z (exact text TBD). This change is not reversible, are you sure you want to proceed?\n7. User clicks yes, window disappears and progress bar is displayed \"XX of YY users claimed\" status until the process is complete\n8. List of users claimed (username, email address). This list is historically visable.\n9. User clicks no, exit out of process\n10. This button updates `provisioned_by_group_id` to match the group ID of the verified domain\n11. Open Question: Should we create another field behind the scenes to mark this as a \"claimed user\" via this process? Would be helpful to know who was provisioned vs who was claimed.\n\n### Legal Question:\n\n1. Q: Can we automatically take an account and, as long as it has an `___@enterprise-name.com` email address, have it be claimed by the organization without notifying the user? The thought was that due to the MVC, the organization would notify its users of the claim process if they wanted to.\n\nA: This is technically included in our EULA and would be allowed, but we need to consider customer experience.\n\n### User Experience\n\n- There is concern that having your account suddenly claimed by your company with no warning is not a good user experience. Do we need to provide some kind of notification to users before they are claimed?\n- I have done some customer discovery around this and they are not empathetic to these concerns, they believe that their users should realize if they are using their work e-mail as a primary account e-mail address, it is owned by the company\n\n### Tier\n\n~\"GitLab Premium\" ~\"GitLab Ultimate\" \n\n\n\nFeature flag?\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-16T22:54:25.382Z","updated_at":"2022-12-06T23:10:27.182Z","closed_at":"2022-09-14T15:46:19.062Z","closed_by":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"labels":["Category:Authentication and Authorization","Deliverable","GitLab Premium","GitLab.com Priority","auto updated","backend","devops::manage","direction","group::authentication and authorization","missed-deliverable","missed:15.3","priority::4","quad-planning::complete-no-action","section::dev","severity::4","type::feature"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},{"id":4584545,"username":"dmoraBerlin","name":"Daniel Mora","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0604ecfb7035e409af09d4a3b6d7dcb2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmoraBerlin"}],"author":{"id":9425173,"username":"hsutor","name":"Hannah Sutor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9425173/avatar.png","web_url":"https://gitlab.com/hsutor"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":78,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353030","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353030","notes":"https://gitlab.com/api/v4/projects/278964/issues/353030/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353030/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353030","relative":"#353030","full":"gitlab-org/gitlab#353030"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5299,"epic":{"id":191439,"iid":5299,"title":"Group domain verification","url":"/groups/gitlab-org/-/epics/5299","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":102577072,"iid":353029,"project_id":278964,"title":"Global Search - New Header Search doesn't support Non-JS searches","description":"## What/Why\n\nWith the new Header Search we no longer support non-js related searches.  This causes problems in the follow scenarios:\n\n1. Non-JS specs trying to use the header search without running a headless chrome instance (quite a lot of specs do this)\n2. A user searches faster than the JS loads\n  - User knows they want to search and doesn't wait for the DOM to finish loading\n  - User is searching while on a slow network\n\n## Video Example\n\n| Current (Broken) | Legacy (Expected) |\n| ------ | ------ |\n| ![HTML_Search_-_Broken_w__FF](/uploads/34ba774cb3723a5e2693409103694436/HTML_Search_-_Broken_w__FF.mov) | ![HTML_Search_-_Expected_w_o_FF](/uploads/ad380210b5d8f19118ec11ca06fdb7a9/HTML_Search_-_Expected_w_o_FF.mov) |\n\n## Proposal\n\nMimic what we are doing the legacy HAML file with hidden field tags: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/layouts/_search.html.haml.  \n\nExpanding on this example we can nest it inside of the Vue target element so that once Vue bootstraps it will remove the HTML form and replace it with the JS one.  I have a working example of how we can do this on this MR: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79993/diffs#62e8e643749bb96169a0239af18fe980e0a8cc04\n\n**BONUS POINTS:** If the JS mounts while the user is in the middle of typing it wipes away their search.  We should add some logic at the mount point and preserve the search.  We already sort of do this by \"re-focusing\" the input when it mounts so we can expand on that.\n\ncc/ @nickbrandt @changzhengliu @JohnMcGuire @tbulva","state":"closed","created_at":"2022-02-16T22:48:24.203Z","updated_at":"2022-05-30T15:59:11.613Z","closed_at":"2022-03-14T09:27:50.958Z","closed_by":{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"},"labels":["Category:Global Search","devops::data_stores","feature flag","feature::enhancement","found:gitlab.com","frontend","global nav","group::global search","section::enablement","type::feature"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353029","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353029","notes":"https://gitlab.com/api/v4/projects/278964/issues/353029/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353029/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353029","relative":"#353029","full":"gitlab-org/gitlab#353029"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102576522,"iid":353027,"project_id":278964,"title":"Package Manager PyPI instructions should link to personal token instructions","description":"I have a project whose CI/CD pipeline builds Python wheels and uploads them to the Package Registry every night.  The Package Registry page (URL looks like `https://gitlab.my.org/mygroup/myproject/-/packages/1097`) includes an Installation section that talks about a Pip command and registry setup.\n\nBoth of these refer to a personal access token.  It would be great if there were a link right there to the documentation page that talks specifically about creating personal access tokens.","state":"closed","created_at":"2022-02-16T22:35:48.737Z","updated_at":"2022-08-15T05:48:18.508Z","closed_at":"2022-08-15T05:48:18.490Z","closed_by":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"labels":["Category:Package Registry","Community contribution","PyPI Repository","SUS::Non-impacting","UI text","devops::package","frontend","good for new contributors","group::package registry","package-review-weight::1","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1895043,"username":"brianjaustin","name":"Brian Austin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e2bcd543e2ced64cbe5b63c43af61731?s=80\u0026d=identicon","web_url":"https://gitlab.com/brianjaustin"}],"author":{"id":1809109,"username":"Spacefolder","name":"Andy Wilson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f8fe496cd53ad1e78ea0bc470d68ec3e?s=80\u0026d=identicon","web_url":"https://gitlab.com/Spacefolder"},"type":"ISSUE","assignee":{"id":1895043,"username":"brianjaustin","name":"Brian Austin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e2bcd543e2ced64cbe5b63c43af61731?s=80\u0026d=identicon","web_url":"https://gitlab.com/brianjaustin"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353027","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353027","notes":"https://gitlab.com/api/v4/projects/278964/issues/353027/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353027/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353027","relative":"#353027","full":"gitlab-org/gitlab#353027"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102576444,"iid":353026,"project_id":278964,"title":"Global Search - New Header Search doesn't support branch refs","description":"## What/Why\n\nWith the new Header Search branches are no longer passed along to the code search.  This is done via the `search_code` and `repository_ref` query param from the SearchContext.\n\n## Video Example\n\n| Current (Broken) | Legacy (Expected) |\n| ------ | ------ |\n| ![Branch_-_Broken_w__FF](/uploads/9c9ead94685791cc23a2f10149a7469b/Branch_-_Broken_w__FF.mov) | ![Branch_-_Expected_w_o_FF](/uploads/166f5d661bf609af8ca4910697a73201/Branch_-_Expected_w_o_FF.mov) |\n\n## Proposal\n\nUpdate the query builders in the `header_search/store/getters.js` to support the `code_search` and `ref` boolean parameters.\n\ncc/ @nickbrandt @changzhengliu @JohnMcGuire @tbulva","state":"closed","created_at":"2022-02-16T22:34:00.317Z","updated_at":"2022-05-30T15:59:12.158Z","closed_at":"2022-03-18T21:43:04.198Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","devops::data_stores","feature flag","found:gitlab.com","frontend","global nav","group::global search","priority::4","section::enablement","severity::4","type::bug","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353026","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353026","notes":"https://gitlab.com/api/v4/projects/278964/issues/353026/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353026/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353026","relative":"#353026","full":"gitlab-org/gitlab#353026"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102573332,"iid":353020,"project_id":278964,"title":"Global Search - New Header Search doesn't support snippets","description":"## What/Why\n\nWith the new Header Search snippet searches are no longer supported and the `snippets` query parameter is ignored from the SearchContext.\n\n## Video Example\n\n| Current (Broken) | Legacy (Expected) |\n| ------ | ------ |\n| ![Snippets_-_Broken_w__FF](/uploads/3b86543da359b00d7d3adf68e30ec169/Snippets_-_Broken_w__FF.mov) | ![Snippets_-_Expected_w_o_FF](/uploads/69734853ac5eb4aa694233f6843fd7a3/Snippets_-_Expected_w_o_FF.mov) |\n\n## Proposal\n\nUpdate the query builders in the [`header_search/store/getters.js`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/header_search/store/getters.js) to support this snippets boolean parameter.\n\ncc/ @nickbrandt @changzhengliu @JohnMcGuire @tbulva","state":"closed","created_at":"2022-02-16T21:05:32.837Z","updated_at":"2022-05-30T15:59:12.829Z","closed_at":"2022-03-09T15:24:47.997Z","closed_by":{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"},"labels":["Category:Global Search","devops::data_stores","feature flag","found:gitlab.com","frontend","global nav","group::global search","priority::4","section::enablement","severity::4","type::bug"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353020","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353020","notes":"https://gitlab.com/api/v4/projects/278964/issues/353020/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353020/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353020","relative":"#353020","full":"gitlab-org/gitlab#353020"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102572515,"iid":353016,"project_id":278964,"title":"Add banner to Project Quality Summary for feedback","description":"### Overview\n\nWe introduced the MVC for the Project Quality Summary in https://gitlab.com/groups/gitlab-org/-/epics/5430, we want to be able to collect feedback from users to link the feedback issue (https://gitlab.com/gitlab-org/gitlab/-/issues/342634) to that Summary page.  \n\n### Proposal \n\nAdd a dismissable banner with the text \"We are looking for feedback on this Project Quality Summary page. Leave comments and suggestions in this [issue](https://gitlab.com/gitlab-org/gitlab/-/issues/342634).\" \n\nWe will remove this banner at a later date in another issue\n\n\n#### Technical proposal for this:\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/issues/353016#note_884745882:\n\n- Use the GitLab UI banner component with the promotion variant\n- Use the chat bubble illustration SVG\n- Add a user callout feature by editing this ruby file. I believe we'll have to update the GraphQL docs by running this rake task afterwards.\n- Use the user_callout_dismisser component to handle permanent dismissal per user. See this terraform_notifaction.vue file for an example.\n- Add the banner to the project quality summary app\n- Add tests to the spec file for dismissing the banner","state":"closed","created_at":"2022-02-16T20:37:47.975Z","updated_at":"2022-11-07T14:18:54.311Z","closed_at":"2022-08-08T09:56:15.862Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["Category:Code Testing and Coverage","Technical Writing","UX","Verify::P1","auto updated","component:banner","frontend","group::pipeline insights","missed:15.2","section::ops","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":19,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353016","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353016","notes":"https://gitlab.com/api/v4/projects/278964/issues/353016/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353016/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353016","relative":"#353016","full":"gitlab-org/gitlab#353016"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102571070,"iid":353010,"project_id":278964,"title":"Workhorse: Support listening on TLS for incoming requests","description":"Currently Workhorse listens on an unencrypted HTTP port or UNIX socket from NGINX:\n\n\n```plantuml\n@startuml\ninterface \"Web client\" as WebClient\nnode \"NGINX\"\nnode \"Workhorse\"\n\nWebClient --\u003e NGINX: HTTPS\nNGINX --\u003e Workhorse: HTTP\n@enduml\n```\n\nWe'll want to be able to support TLS here: https://gitlab.com/gitlab-org/gitlab/blob/c82a66e14df6a61d7a72a5c91e63ec3829f9f1f2/workhorse/main.go#L182-186","state":"closed","created_at":"2022-02-16T19:54:49.184Z","updated_at":"2022-05-24T18:02:26.858Z","closed_at":"2022-04-27T10:34:18.446Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","Deliverable","FIPS","auto updated","backend","devops::create","group::source code","missed-deliverable","missed:14.9","section::dev","type::feature","workflow::in review","workhorse"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353010","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353010","notes":"https://gitlab.com/api/v4/projects/278964/issues/353010/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353010/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353010","relative":"#353010","full":"gitlab-org/gitlab#353010"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6476,"epic":{"id":316337,"iid":6476,"title":"Source Code BE FIPS Compliance","url":"/groups/gitlab-org/-/epics/6476","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102565767,"iid":352993,"project_id":278964,"title":"Historical CICD Minute usage not showing up in usage charts","description":"### Problem to solve\n\nUsers have flagged that they are not seeing any CI minute usage \n\nAdditionally, the graph does not work properly, it contains no data. Only the total used minutes in the user settings work\n| Personal namespace | Group namespace |\n|--------------------|-----------------|\n| ![image](https://gitlab.com/gitlab-org/gitlab/uploads/ace63e6674f52e788db7daf5a1287efd/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab/uploads/e4c2633af4610c5656b2ef90467e37f2/image.png) |\n| ![image](https://gitlab.com/gitlab-org/gitlab/uploads/98b7081de7e451bbd5d55b8cfb0871e0/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab/uploads/afd9fc9670e0b5d173407c61cd0f163e/image.png) |\n\nThey use gitlab.com runners and they have a GitLab fork there which runs pipelines for Merge Requests and mirror updates. \n\n### Proposal \n\nEnsure historical data is being populated in charts","state":"closed","created_at":"2022-02-16T18:10:40.677Z","updated_at":"2022-03-16T21:41:17.606Z","closed_at":"2022-03-16T18:55:45.571Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["CI minutes","Category:Continuous Integration","Verify::P2","devops::verify","frontend","group::pipeline execution","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352993","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352993","notes":"https://gitlab.com/api/v4/projects/278964/issues/352993/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352993/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352993","relative":"#352993","full":"gitlab-org/gitlab#352993"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102562421,"iid":352987,"project_id":278964,"title":"SPIKE: How can we use Clickhouse in the Product Intelligence infrastructure","description":"## Summary\n\nThere are teams in GitLab exploring the use of [Clickhouse](https://clickhouse.com/) in the GitLab product. This spike is examine whether the Product Intelligence (and laterally the data team) can utilize Clickhouse in our infrastructure.\n\n## Ideas to explore\n\nBelow are some ideas which we can explore, but please do not limit this reasearch task to these ideas alone:\n\n1. Can we implement Clickhouse in self-managed instances for recording of snowplow events?\n1. Should we use Clickhouse in SaaS to create counter-based metrics (like Redis)?\n1. Pros and Cons of replacing snowplow collector with Clickhouse.","state":"closed","created_at":"2022-02-16T17:00:31.432Z","updated_at":"2022-08-02T18:38:43.117Z","closed_at":"2022-08-02T18:38:43.093Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Service Ping","[deprecated] Accepting merge requests","auto updated","backend","devops::analytics","group::product intelligence","section::analytics","spike","type::maintenance","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352987","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352987","notes":"https://gitlab.com/api/v4/projects/278964/issues/352987/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352987/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352987","relative":"#352987","full":"gitlab-org/gitlab#352987"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102562336,"iid":352985,"project_id":278964,"title":"GitLab Migration: Add cron job to mark imports as failed after a certain amount of time","description":"Add a safeguard mechanism to GitLab Migration to clean up any of the 'in progress' / stuck imports in order to mark them as failed after a certain amount of time.\n\nWe have something similar for file-based Import/Export `Gitlab::Import::StuckImportJob` https://gitlab.com/gitlab-org/gitlab/blob/62deba86fd7822d070300d6bea27a48162aecaab/app/workers/gitlab/import/stuck_import_job.rb#L5-L5\n\nRelated to the discussion in https://gitlab.com/gitlab-org/manage/import/support/-/issues/8\n\n## Implementation Proposal\n\n* Create new scope `stale` on `BulkImport` and `BulkImports::Entity` models.\n  * This should return records that are over 1 day(?) old and are either `created` or started.\n* Create new worker that scans for all stale records and marks them are failed `.fail_op`.\n* Assign worker to cron and run once per day.","state":"closed","created_at":"2022-02-16T16:58:58.091Z","updated_at":"2022-03-25T07:45:00.319Z","closed_at":"2022-03-25T07:45:00.297Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Importer:GitLab Migration","auto updated","devops::manage","group::import","section::dev","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352985","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352985","notes":"https://gitlab.com/api/v4/projects/278964/issues/352985/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352985/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352985","relative":"#352985","full":"gitlab-org/gitlab#352985"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4931,"epic":{"id":145558,"iid":4931,"title":"GitLab Migration - Technical Improvements","url":"/groups/gitlab-org/-/epics/4931","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102562115,"iid":352984,"project_id":278964,"title":"GitLab Migration: Pipelines::EntityFinisher sometimes does not run to mark entity as finished","description":"It appears that we have a bug where `BulkImports::Common::Pipelines::EntityFinisher` does not run and hence does not mark group entity migration as finished. Because of that, the import is stuck in 'started' state. We need to investigate why that is and fix it. \n\nFor instance,\n\n```\nimport.entities.where(status: 1).map(\u0026:trackers).flatten.select { |i| i.status == 0}.pluck(:relation, :jid)\n\n=\u003e [[\"BulkImports::Common::Pipelines::EntityFinisher\", nil], [\"BulkImports::Common::Pipelines::EntityFinisher\", nil], [\"BulkImports::Common::Pipelines::EntityFinisher\", nil]]\n```\n\nSome details can be seen in https://gitlab.com/gitlab-org/manage/import/support/-/issues/8","state":"closed","created_at":"2022-02-16T16:54:46.265Z","updated_at":"2022-04-01T19:57:43.234Z","closed_at":"2022-03-30T06:32:09.960Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Importer:GitLab Migration","devops::manage","group::import","section::dev","severity::3","type::bug","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352984","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352984","notes":"https://gitlab.com/api/v4/projects/278964/issues/352984/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352984/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352984","relative":"#352984","full":"gitlab-org/gitlab#352984"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6629,"epic":{"id":335099,"iid":6629,"title":"ðŸž GitLab Migration bugs","url":"/groups/gitlab-org/-/epics/6629","group_id":9970},"iteration":null,"health_status":null},{"id":102561611,"iid":352983,"project_id":278964,"title":"Investigation: Gitlab CI/CD artifacts uploads fails","description":"## Problem\n\nThis is an investigation issue to find the reason why some artifact uploads are failing in the pipeline. The initial bug issue is #323197, which is currently ~\"bug::transient\".\n\n## Goal\n\nOur goal here is to provide reproducible steps to see the above bug so that we can properly determine why this is happening. Once we have reproducible steps, we can close this issue and return to the initial bug issue for planning breakdown.","state":"closed","created_at":"2022-02-16T16:45:32.517Z","updated_at":"2022-06-15T21:42:09.710Z","closed_at":"2022-06-13T17:38:13.645Z","closed_by":{"id":11226654,"username":"jocelynjane","name":"Jocelyn Eillis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11226654/avatar.png","web_url":"https://gitlab.com/jocelynjane"},"labels":["Category:Build Artifacts","Seeking community contributions","Verify::P1","[deprecated] Accepting merge requests","backend","devops::verify","documentation","group::pipeline insights","meta","missed:14.9","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[],"author":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"type":"ISSUE","assignee":null,"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352983","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352983","notes":"https://gitlab.com/api/v4/projects/278964/issues/352983/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352983/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352983","relative":"#352983","full":"gitlab-org/gitlab#352983"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5755,"epic":{"id":249399,"iid":5755,"title":"Download/Upload Artifacts Via API","url":"/groups/gitlab-org/-/epics/5755","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":102554935,"iid":352970,"project_id":278964,"title":"Move state changes of InviteModal to a parent component","description":"### Issue summary\n\nWe should refactor `invite_modal_base.vue` and its ee version so the component's data is not changed from the outside (see `@submit`).\n\n#### Tech proposal\n\nRight now the loading and error state of the [invite_modal_base.vue](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/invite_members/components/invite_modal_base.vue) and it's CE version is changed in the `onSuccess` and `onError` callbacks of the parent components ([invite_groups_modal.vue](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/invite_members/components/invite_groups_modal.vue) and [invite_members_modal.vue](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/invite_members/components/invite_members_modal.vue)).\n\nWe should pass `isLoading` and `invalidFeedbackError` as props from the parent component. We could keep the calculation inside `sendInvite` method. The child modal would simply accept these two values.\n\nThis change requires to have this logic written twice but would keep the data flow one directional.\n\nWhen working with parent component please don't forget that we would need to set `isLoading` to false no matter if the submit was successful or not (consider using `finally()`)\n\n#### Context\n\nThe following discussion from !79644 should be addressed:\n\n- [ ] @ntepluhina started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79644#note_844473654):  (+4 comments)\n\n    \u003e @dzubova uhm, I can see that we're calling `onSuccess` from the parent component and with this call, we change `loading` in the `invite_modal_base` component. This still qualifies as updating component data from outside the component itself, so my concern is still valid. To me, it looks like `loading` state logically belongs to the parent component and should be handled there instead of modifying it with passing callbacks to `emit`.\nAlternatively, we could expose these methods via scoped slot and trigger them in the parent context maybe?","state":"closed","created_at":"2022-02-16T15:13:04.587Z","updated_at":"2022-03-23T07:51:50.390Z","closed_at":"2022-03-09T16:22:28.858Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Category:Purchase","auto updated","devops::fulfillment","frontend","group::purchase","maintenance::refactor","onboarding","section::fulfillment","type::maintenance","workflow::ready for development"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352970","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352970","notes":"https://gitlab.com/api/v4/projects/278964/issues/352970/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352970/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352970","relative":"#352970","full":"gitlab-org/gitlab#352970"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102551914,"iid":352968,"project_id":278964,"title":"Guard worker: improve long running migrations handling","description":"This is the rails changes needed for https://gitlab.com/gitlab-org/container-registry/-/issues/514.\n\nThe [Guard job](https://gitlab.com/gitlab-org/gitlab/-/blob/6dfa934b23ffe2d5720133c71c9db433a7d3962e/app/workers/container_registry/migration/guard_worker.rb) has currently a way to detect long running migrations (long running as in 30min+ of run time). For now, it only logs those cases.\n\nWith https://gitlab.com/gitlab-org/container-registry/-/issues/514, the job needs to be updated so that:\n* A `DELETE` request is triggered on the container registry gitlab v1 api\n   * This will need an updated on the `gitlab_api_client.rb` file\n* The long running migration is aborted.\n   * So that, it's retried again by the Enqueuer.\n\nAPI endpoint doc: https://gitlab.com/gitlab-org/container-registry/-/blob/master/docs-gitlab/api.md#cancel-repository-import","state":"closed","created_at":"2022-02-16T14:47:45.207Z","updated_at":"2022-04-18T07:02:25.601Z","closed_at":"2022-03-21T19:35:42.843Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","Deliverable","OpsSection::needs-justification","Package:P1","auto updated","backend","devops::package","group::package registry","maintenance::refactor","missed-deliverable","ruby","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352968","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352968","notes":"https://gitlab.com/api/v4/projects/278964/issues/352968/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352968/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352968","relative":"#352968","full":"gitlab-org/gitlab#352968"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102548887,"iid":352964,"project_id":278964,"title":"[Feature flag] Enable feature  merge_service_ping_instrumented_metrics","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\nRelated #346640\n\n## Summary\n\nThis issue is to rollout [Add new service to use instrumentation classes](https://gitlab.com/gitlab-org/gitlab/-/issues/346640) on production,\nthat is currently behind the `merge_service_ping_instrumented_metrics` feature flag. \n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Product Intelligence\n- Most appropriate slack channel to reach out to: `#g_product_intelligence`\n- Best individual to reach out to: @alinamihaila \n- PM: @amandarueda \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nService Ping should work as before.\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\nService Ping breaking\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-02-16T14:29:12.186Z","updated_at":"2022-03-30T12:32:01.513Z","closed_at":"2022-03-30T12:32:01.494Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Category:Service Ping","backend","devops::growth","feature flag","feature::addition","group::product intelligence","section::growth","type::feature","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352964","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":25},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"25 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352964","notes":"https://gitlab.com/api/v4/projects/278964/issues/352964/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352964/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352964","relative":"#352964","full":"gitlab-org/gitlab#352964"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5281,"epic":{"id":189695,"iid":5281,"title":"Generate Usage Ping from Metrics YML","url":"/groups/gitlab-org/-/epics/5281","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102546239,"iid":352961,"project_id":278964,"title":"Revamp group deletion protection settings","description":"## Problem to solve\n\nAs part of https://gitlab.com/groups/gitlab-org/-/epics/7568 we want to make the group deletion protection setting easier to understand.\n\n## Proposal\n\n**Group settings**\n\n- Move setting outside of **Permissions** into its own group {+Deletion protection+}\n- Change the description based on who is allowed to delete projects\n- Use radio buttons to change selection rather than a checkbox\n  - ðŸ”˜ Keep project for X days\n  - âšªï¸ None, delete immediately\n- When enforcement is â˜‘ï¸ for subgroups, disable the radio buttons and show a locked setting. \n\n## Design\n\n| Before | After |\n| ------ | ------ |\n| ![image](/uploads/fbd219704c2500f716e19c10420555bf/image.png) | ![image](/uploads/2880cf282b08abeeecba7060b2531248/image.png) |\n\n| Enforced by group | Set to none in Admin Area |\n|-------------------|---------------------------|\n| ![Enforced_deletion](https://gitlab.com/groups/gitlab-org/-/uploads/1f5a3b72d1356600b52da0e189d49968/Enforced_deletion.png) | ![None_delete_immediately](https://gitlab.com/groups/gitlab-org/-/uploads/b4ef352d6bb38d6a5297206d51d8bfa1/None_delete_immediately.png) |\n\n[Open Figma â†’](https://www.figma.com/file/6rqigCtnDjiWFGFeahDuJO/%23348332-Revamp-project-deletion-setting-options-for-clearer-interpretation?node-id=1%3A51)\n\n## Implementation plan\n\n~frontend estimated weight of :three: \n\n1. [x] gitlab~3412464 Update `_delayed_project_removal.html.haml` to match the designs:\n   1. Add the subheading `Deletion protection`\n   1. When the settings are locked, render a lock icon with a popover next to the subheading.\n      1. When locked by an admin, show the admin message.\n      1. When locked by a group owner, show the group message.\n   1. Add the help text `Owners and administrators can delete projects.`\n      1. When locked by admin set the text to `Only administrators can delete projects.`. And when set to delete immediately, add `All projects are deleted immediately.` to the help text.\n      1. Add a `Learn more.` link to the help path.\n   1. When deletion is not limited to just administrators:\n      1. Render the `delayed_project_removal` setting with radio buttons.\n      1. Render the `enforcement_checkbox` and when the setting is locked disable the checkbox instead.\n\n1. [x] Update docs.\n\n1. [x] Update specs.\n\n**Note:** Here is a rough patch with the interface changes. [group_settings.patch](/uploads/e8c227028732f4f5c719ca7cf877d264/group_settings.patch)\n\n\u003cdetails\u003e\u003csummary\u003ePatch contents\u003c/summary\u003e\n\n```patch\ndiff --git a/app/views/shared/namespaces/cascading_settings/_enforcement_checkbox.html.haml b/app/views/shared/namespaces/cascading_settings/_enforcement_checkbox.html.haml\nindex cfa87351689..bbcb4f3a3cd 100644\n--- a/app/views/shared/namespaces/cascading_settings/_enforcement_checkbox.html.haml\n+++ b/app/views/shared/namespaces/cascading_settings/_enforcement_checkbox.html.haml\n@@ -2,7 +2,7 @@\n - group = local_assigns.fetch(:group, nil)\n - form = local_assigns.fetch(:form, nil)\n - setting_locked = local_assigns.fetch(:setting_locked, false)\n-- help_text = local_assigns.fetch(:help_text, s_('CascadingSettings|Subgroups cannot change this setting.'))\n+- disabled = local_assigns.fetch(:disabled, false)\n \n - return unless attribute \u0026\u0026 group \u0026\u0026 form\n - return if setting_locked\n@@ -10,9 +10,7 @@\n - lock_attribute = \"lock_#{attribute}\"\n \n .gl-form-checkbox.custom-control.custom-checkbox\n-  = form.check_box lock_attribute, checked: group.namespace_settings.public_send(lock_attribute), class: 'custom-control-input', data: { testid: 'enforce-for-all-subgroups-checkbox' }\n-  = form.label lock_attribute, class: 'custom-control-label' do\n+  = form.check_box lock_attribute, checked: group.namespace_settings.public_send(lock_attribute), class: 'custom-control-input', data: { testid: 'enforce-for-all-subgroups-checkbox' }, disabled: disabled\n+  = form.label lock_attribute, class: 'custom-control-label', aria: { disabled: disabled } do\n     %span\n-      = yield.presence || s_('CascadingSettings|Enforce for all subgroups')\n-    %p.help-text\n-      = help_text\n+      = yield.presence || s_('CascadingSettings|Enforce deletion protection for all subgroups')\ndiff --git a/ee/app/views/groups/settings/_delayed_project_removal.html.haml b/ee/app/views/groups/settings/_delayed_project_removal.html.haml\nindex e6b625a6a51..4e8948f5c56 100644\n--- a/ee/app/views/groups/settings/_delayed_project_removal.html.haml\n+++ b/ee/app/views/groups/settings/_delayed_project_removal.html.haml\n@@ -2,18 +2,29 @@\n \n - setting_locked = cascading_namespace_setting_locked?(:delayed_project_removal, group)\n \n+%h5.gl-mb-2.gl-display-flex\n+  = _('Deletion protection')\n+  - if setting_locked\n+    %span.gl-outline-0.gl-ml-3{ tabindex: \"0\", data: { container: \"body\",\n+      toggle: \"popover\",\n+      placement: \"top\",\n+      html: \"true\",\n+      trigger: \"focus\",\n+      title: _('Setting enforced'),\n+      content: _('This setting has been enforced by an instance administrator.')\n+    } }\n+      = sprite_icon('lock', size: 16)\n+%p.form-text.text-muted{ class: 'gl-mb-4!' }\n+  = delayed_project_removal_help_text\n+  = link_to _('Learn more.'), '#', target: '_blank', rel: 'noopener noreferrer'\n .form-group{ data: { testid: 'delayed-project-removal-form-group' } }\n-  .gl-form-checkbox.custom-control.custom-checkbox\n-    = f.check_box :delayed_project_removal, checked: group.namespace_settings.delayed_project_removal?, disabled: setting_locked, class: 'custom-control-input', data: { testid: 'delayed-project-removal-checkbox' }\n-    = render 'shared/namespaces/cascading_settings/setting_label_checkbox', attribute: :delayed_project_removal,\n-        group: group,\n-        form: f,\n-        setting_locked: setting_locked,\n-        settings_path_helper: -\u003e (locked_ancestor) { edit_group_path(locked_ancestor, anchor: 'js-permissions-settings') },\n-        help_text: delayed_project_removal_help_text do\n-      = s_('GroupSettings|Enable delayed project deletion')\n-    = render 'shared/namespaces/cascading_settings/enforcement_checkbox',\n-        attribute: :delayed_project_removal,\n-        group: group,\n-        form: f,\n-        setting_locked: setting_locked\n+  = render 'shared/namespaces/cascading_settings/deletion_protection',\n+    attribute: :delayed_project_removal,\n+    group: group,\n+    form: f,\n+    setting_locked: setting_locked\n+  = render 'shared/namespaces/cascading_settings/enforcement_checkbox',\n+      attribute: :delayed_project_removal,\n+      group: group,\n+      form: f,\n+      disabled: setting_locked\n\n```\n\n\u003c/details\u003e","state":"closed","created_at":"2022-02-16T13:58:11.280Z","updated_at":"2022-06-16T08:31:17.091Z","closed_at":"2022-06-16T08:13:22.913Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["SUS Survey","SUS::Impacting","UI polish","auto updated","devops::manage","documentation","feature::enhancement","frontend","group::compliance","missed:15.0","priority::3","section::dev","severity::3","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352961","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352961","notes":"https://gitlab.com/api/v4/projects/278964/issues/352961/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352961/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352961","relative":"#352961","full":"gitlab-org/gitlab#352961"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7568,"epic":{"id":444363,"iid":7568,"title":"Revamp project deletion setting options for clearer interpretation","url":"/groups/gitlab-org/-/epics/7568","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":102546198,"iid":352960,"project_id":278964,"title":"Revamp admin area deletion protection settings","description":"## Problem to solve\n\nAs part of https://gitlab.com/groups/gitlab-org/-/epics/7568 we want to make the admin deletion protection setting easier to understand.\n\n## Proposal\n\n**Admin Area**\n\n- Rename field {-Default project deletion protection-} to {+Allowed to delete projects+}\n  - Use radio buttons instead of checkbox\n- Combine {-Default delayed project deletion-} and {-Default deletion delay-} into {+Deletion protection+}\n  - Use radio buttons to change state \n  - Use a dropdown button to change selection \n     - âœ”ï¸ groups and projects\n     - groups only\n  - Use an input counter that can't be set to â‰¤ `0`\n- When set to **none, delete immediately**, hide the radio buttons from groups and adjust the help text\n\n## Design\n\n| Before | After |\n| ------ | ------ |\n| ![image](/uploads/b69cc6a30382362ad63aecea4fcd9cc9/image.png) | ![image](/uploads/98275a81cdcad69187f53eb494dae313/image.png) |\n\n[Open Figma â†’](https://www.figma.com/file/6rqigCtnDjiWFGFeahDuJO/%23348332-Revamp-project-deletion-setting-options-for-clearer-interpretation?node-id=1%3A51)\n\n## Implementation plan\n\n~frontend estimated weight :two: \n\n1. [x] gitlab~3412464 Update `_default_project_deletion_protection_setting.html.haml`:\n   1. Use `gitlab_ui_radio_component` instead of `check_box`\n   1. Update strings\n\n1. [x] gitlab~3412464 Update `_default_delayed_project_deletion_setting.html.haml`:\n   1. Update strings\n   1. Add help text under form group label\n   1. Use `gitlab_ui_radio_component` instead of `check_box` for the setting `delayed_group_delection`\n      - `Keep deleted` = `true`\n      - `None, delete immediately` = `false`\n   1. Add a `select` component with the options `[['groups only', false], ['groups and projects', true]]` to toggle the `delayed_project_deletion` setting.\n   1. Move the `deletion_adjourned_period` to be inline with the `delayed_project_deletion` option.\n   1. Delete the `_default_project_deletion_adjourned_period_setting.html.haml` partial.\n\n1. [x] Update docs.\n\n1. [x] Update specs.\n\n**Note:** Here is a rough patch to update the settings HAML. [admin_settings.patch](/uploads/86306e3a1ffca5c8da90b64bb2738235/admin_settings.patch)\n\n\u003cdetails\u003e\u003csummary\u003ePatch contents\u003c/summary\u003e\n\n```patch\ndiff --git a/app/views/admin/application_settings/_visibility_and_access.html.haml b/app/views/admin/application_settings/_visibility_and_access.html.haml\nindex e56c898b236..2f1003b1f80 100644\n--- a/app/views/admin/application_settings/_visibility_and_access.html.haml\n+++ b/app/views/admin/application_settings/_visibility_and_access.html.haml\n@@ -7,8 +7,7 @@\n \n     = render 'shared/project_creation_levels', f: f, method: :default_project_creation, legend: s_('ProjectCreationLevel|Default project creation protection')\n     = render_if_exists 'admin/application_settings/default_project_deletion_protection_setting', form: f\n-    = render_if_exists 'admin/application_settings/default_delayed_project_deletion_setting', form: f\n-    = render_if_exists 'admin/application_settings/default_project_deletion_adjourned_period_setting', form: f\n+    = render_if_exists 'admin/application_settings/deletion_protection_setting', form: f\n     .form-group.visibility-level-setting\n       = f.label :default_project_visibility, class: 'label-bold'\n       = render('shared/visibility_radios', model_method: :default_project_visibility, form: f, selected_level: @application_setting.default_project_visibility, form_model: Project.new)\ndiff --git a/ee/app/views/admin/application_settings/_default_delayed_project_deletion_setting.html.haml b/ee/app/views/admin/application_settings/_default_delayed_project_deletion_setting.html.haml\ndeleted file mode 100644\nindex 31b4c75d584..00000000000\n--- a/ee/app/views/admin/application_settings/_default_delayed_project_deletion_setting.html.haml\n+++ /dev/null\n@@ -1,11 +0,0 @@\n-- return unless License.feature_available?(:adjourned_deletion_for_projects_and_groups)\n-\n-- f = local_assigns.fetch(:form)\n-\n-.form-group\n-  = f.label _('Default delayed project deletion'), class: 'label-bold'\n-  .form-check\n-    = f.check_box :delayed_project_deletion, class: 'form-check-input'\n-    = f.label :delayed_project_deletion, class: 'form-check-label' do\n-      = _('Enable delayed project deletion by default for newly-created groups.')\n-      = _('Does not apply to projects in personal namespaces, which are deleted immediately on request.')\ndiff --git a/ee/app/views/admin/application_settings/_default_project_deletion_adjourned_period_setting.html.haml b/ee/app/views/admin/application_settings/_default_project_deletion_adjourned_period_setting.html.haml\ndeleted file mode 100644\nindex 75fe0e9f2f5..00000000000\n--- a/ee/app/views/admin/application_settings/_default_project_deletion_adjourned_period_setting.html.haml\n+++ /dev/null\n@@ -1,9 +0,0 @@\n-- return unless License.feature_available?(:adjourned_deletion_for_projects_and_groups)\n-\n-- f = local_assigns.fetch(:form)\n-\n-.form-group\n-  = f.label _('Default deletion delay'), class: 'label-bold'\n-  = f.select :deletion_adjourned_period, options_for_select(0..90, @application_setting.deletion_adjourned_period), {}, class: 'form-control gl-form-input'\n-  = f.label :deletion_adjourned_period, class: 'form-check-label' do\n-    = _('How many days need to pass between marking entity for deletion and actual removing it.')\ndiff --git a/ee/app/views/admin/application_settings/_default_project_deletion_protection_setting.html.haml b/ee/app/views/admin/application_settings/_default_project_deletion_protection_setting.html.haml\nindex 44c066335f8..5baf5178375 100644\n--- a/ee/app/views/admin/application_settings/_default_project_deletion_protection_setting.html.haml\n+++ b/ee/app/views/admin/application_settings/_default_project_deletion_protection_setting.html.haml\n@@ -3,8 +3,6 @@\n - f = local_assigns.fetch(:form)\n \n .form-group\n-  = f.label _('Default project deletion protection'), class: 'label-bold'\n-  .form-check\n-    = f.check_box :default_project_deletion_protection, class: 'form-check-input'\n-    = f.label :default_project_deletion_protection, class: 'form-check-label' do\n-      = _('Only admins can delete project')\n+  = f.label _('Allowed to delete projects'), class: 'label-bold'\n+  = f.gitlab_ui_radio_component :default_project_deletion_protection, :false, _('Owners and administrators')\n+  = f.gitlab_ui_radio_component :default_project_deletion_protection, :true, _('Administrators')\ndiff --git a/ee/app/views/admin/application_settings/_deletion_protection_setting.html.haml b/ee/app/views/admin/application_settings/_deletion_protection_setting.html.haml\nnew file mode 100644\nindex 00000000000..ab92f033e9f\n--- /dev/null\n+++ b/ee/app/views/admin/application_settings/_deletion_protection_setting.html.haml\n@@ -0,0 +1,24 @@\n+- return unless License.feature_available?(:adjourned_deletion_for_projects_and_groups)\n+- deletion_choices = [[_('groups and projects'), :true], [_('only groups'), :false]]\n+\n+- f = local_assigns.fetch(:form)\n+\n+.form-group\n+  = f.label _('Deletion protection'), class: 'label-bold gl-mb-2'\n+  %p.form-text.text-muted\n+    = _('Retention period that deleted groups and projects will remain restorable. Personal projects are always deleted immediately. Some groups can opt-out their projects.')\n+    = link_to _('Learn more.'), help_page_path('user/admin_area/settings/visibility_and_access_controls', anchor: 'default-delayed-project-deletion'), target: '_blank', rel: 'noopener noreferrer'\n+  .gl-mt-4\n+    .gl-display-flex.gl-flex-direction-row.gl-align-items-baseline.gl-mb-3\n+      -# TODO: Change this to delayed_group_delection true\n+      = f.gitlab_ui_radio_component :delayed_project_deletion, :true, _('Keep deleted'), label_options: { class: 'gl-white-space-nowrap gl-mr-3' }\n+      = f.select :delayed_project_deletion, deletion_choices, {}, { disabled: false, class: 'form-control gl-mr-3 gl-w-auto gl-p-0 gl-h-6!' }\n+      %span.gl-mr-3=_('for')\n+      .input-group.gl-w-auto.input-group-sm\n+        = f.number_field :deletion_adjourned_period, min: 1, class: 'form-control gl-form-input gl-py-2 gl-px-3 gl-w-11! gl-h-6!'\n+        .input-group-append\n+          .input-group-text{ class: 'gl-h-6!' }\n+            %span.gl-line-height-normal=_('days')\n+    -# TODO: Change this to delayed_group_delection false\n+    = f.gitlab_ui_radio_component :delayed_project_deletion, :false, _('None, delete immediately')\n+\n\n```\n\n\u003c/details\u003e","state":"closed","created_at":"2022-02-16T13:57:47.140Z","updated_at":"2022-06-23T15:16:49.769Z","closed_at":"2022-06-14T12:37:34.405Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["SUS Survey","SUS::Impacting","UI polish","auto updated","devops::manage","feature::enhancement","frontend","group::compliance","missed:15.0","priority::3","section::dev","severity::3","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352960","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352960","notes":"https://gitlab.com/api/v4/projects/278964/issues/352960/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352960/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352960","relative":"#352960","full":"gitlab-org/gitlab#352960"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7568,"epic":{"id":444363,"iid":7568,"title":"Revamp project deletion setting options for clearer interpretation","url":"/groups/gitlab-org/-/epics/7568","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":102546033,"iid":352959,"project_id":278964,"title":"Add a new `delayed_group_deletion` application setting","description":"## Problem to solve\n\nAs part of https://gitlab.com/groups/gitlab-org/-/epics/7568 we want to enable `administrators` to disable group \u0026 project delayed deletion without setting `deletion_adjourned_period` to `0` and thus overriding the user's choice. Currently the only way to disabled delayed deletion.\n\nFor additional context please view the ~frontend issue https://gitlab.com/gitlab-org/gitlab/-/issues/352960.\n\n## Proposal\n\nAdd a new application / instance setting to enable / disable group delayed deletion.\n\n## Implementation plan\n\n~backend estimated weight of :two: / :three: \n\n1. [ ] Add a new instance setting for `delayed_group_deletion` (default `true`) that is seperate from `delayed_project_deletion`. This is needed because `deletion_adjourned_period` should only be greater than `1` and thus no longer be used to check if delayed group deletion should be enabled / disabled. We also don't want to override the user specified `deletion_adjourned_period` even when the user opted to `None, delete immediately`. Additional context https://gitlab.com/gitlab-org/gitlab/-/issues/348332#note_840063606.\n1. [ ] Add a migration plan to set the value of `delayed_group_deletion` to `deletion_adjourned_period \u003e 0`.\n1. [ ] When `deletion_adjourned_period` is set, also set the `delayed_group_deletion` to `deletion_adjourned_period \u003e 0`.\n1. [ ] Update the **Remove group** button under **Group \u003e Advanced Settings** to only show the delayed deletion message and modal when both `delayed_group_deletion` is `true` **and** `deletion_adjourned_period` is `\u003e0`. Currently group delayed deletion only depends on `deletion_adjourned_period \u003e 0`.\n1. [ ] Update the [applications settings API doc](https://docs.gitlab.com/ee/api/settings.html#application-settings-api) to add `delayed_group_deletion` setting.","state":"closed","created_at":"2022-02-16T13:56:58.127Z","updated_at":"2022-05-12T13:40:24.493Z","closed_at":"2022-05-02T08:12:16.276Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["SUS::Impacting","auto updated","backend","devops::manage","feature::enhancement","group::compliance","priority::3","section::dev","severity::3","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352959","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352959","notes":"https://gitlab.com/api/v4/projects/278964/issues/352959/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352959/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352959","relative":"#352959","full":"gitlab-org/gitlab#352959"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7568,"epic":{"id":444363,"iid":7568,"title":"Revamp project deletion setting options for clearer interpretation","url":"/groups/gitlab-org/-/epics/7568","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102536865,"iid":352939,"project_id":278964,"title":"Frontend: Rename pipeline type labels for `merge train` and `detached`","description":"Related to #217718.\n\n### Problem\n\nThere are two main problems with how we identify and differentiate between the merge request, merge result and the merge train pipelines in GitLab. \n\nThe \"detached\" label for the merge request pipelines is confusing. This label is not understood by many users, and it's been surfaced in UX research. See [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/217718#note_352745052) for the UX research insights. \n\nAddressing the bug alone won't solve the problem of confusion caused by the \"detached\" label. We need to introduce human-readable labels for the different pipeline types and provide additional information about each type so users can learn about them from the UI.\n\n### Proposal\n\nWe will introduce new labels for the pipeline types and rename the `detached` label.\nEach label will show a tooltip on hover with the appropriate description.\nNote: Some of these may need ~backend work.\n\n* `detached` label -\u003e Change to `merge request` label\n    * `merge request`: `This pipeline ran on the contents of this merge request's branch, not the target branch.`\n* Unlabeled merge train pipelines -\u003e Add `merge train` label\n    * `merge train`: `This pipeline ran on the contents of this merge request combined with the contents of all other merge requests queued for merging into the target branch.`\n\n### Further details\nThis is linked to #217718+ Please check there as the main source of truth and related ~backend work.\nThis is just an implementation issue for the frontend.\nThere's additional work to be carried out in https://gitlab.com/gitlab-org/gitlab/-/issues/353090+ but this is blocked by backend data.\n\n### Available Tier\n* Free\n* Premium/Silver\n* Ultimate/Gold\n\n### Links / references\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-16T11:17:26.156Z","updated_at":"2022-09-02T14:11:50.569Z","closed_at":"2022-02-28T16:57:48.729Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Merge Trains","FY23::Q1","GitLab Free","GitLab Premium","GitLab Ultimate","OKR","SUS::Impacting","Stretch","Verify::P2","devops::verify","feature::enhancement","frontend","group::pipeline execution","merge requests","priority::1","section::ops","severity::2","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352939","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352939","notes":"https://gitlab.com/api/v4/projects/278964/issues/352939/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352939/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352939","relative":"#352939","full":"gitlab-org/gitlab#352939"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102532847,"iid":352938,"project_id":278964,"title":"Saved Replies MVC","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nFrom https://gitlab.com/groups/gitlab-org/-/epics/7565:\n\n\u003e For every GitLab users, there will be a situation where they want to reply with similar messages or when they want to apply quick actions for newly created issues or merge requests. We want to be able to quickly reply with a predefined message, speed up repetitive tasks, save time and focus on more important tasks.\n\nWith this issue we want to prepare basic functionality for Saved Replies:\n* storing Saved Replies for single user in ~database,\n* managing Saved Replies for single user with ~GraphQL,\n* ~~applying Saved Reply by using `/reply SAVED_REPLY_NAME` quick action~~\n\n\n## Relevant links\n\n[Epic](https://gitlab.com/groups/gitlab-org/-/epics/7565)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [-] Documentation: information about Saved Replies should be available in https://docs.gitlab.com/ee/user/project/quick_actions.html\n- [x] Feature flag: feature should be hidden behind feature flag `saved_replies` (https://gitlab.com/gitlab-org/gitlab/-/issues/352956+)\n- [ ] Performance:\n- [x] Testing:\n   - [ ] ~~when applying `/reply SAVED_REPLY_NAME` there is no saved reply with given name,~~\n   - [x] uniqueness of the name in scope of the user,\n\n\n## Implementation plan\n\n- [x] ~database add migration and new model `SavedReply` (`belongs_to: :user`) with 2 fields: name (limit 255), content (limit: 4096),\n- [x] ~backend ~GraphQL Add new type `SavedReplyType` and use it in `app/graphql/types/user_interface.rb` as new field: `saved_replies`,\n- [x] ~backend ~GraphQL Add new mutations to Create, Update and Destroy `SavedReply`,\n- [ ] ~backend ~~Extend `app/services/quick_actions/interpret_service.rb` to support new quick action `/reply`~~","state":"closed","created_at":"2022-02-16T10:48:23.147Z","updated_at":"2022-04-15T20:34:22.477Z","closed_at":"2022-04-15T20:34:22.456Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["auto updated","backend","devops::plan","group::security policies","missed:14.9","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352938","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352938","notes":"https://gitlab.com/api/v4/projects/278964/issues/352938/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352938/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352938","relative":"#352938","full":"gitlab-org/gitlab#352938"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7565,"epic":{"id":443898,"iid":7565,"title":"Saved Replies","url":"/groups/gitlab-org/-/epics/7565","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102517731,"iid":352923,"project_id":278964,"title":"Backend: Existing users/groups on old pricing model/tier do not get the new dotenv variable limits","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWith https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73855, we increased the dotenv variable limit from `20` to:\n\n* 50 for FREE\n* 100 for Premium\n* 150 for Ultimate\n\nHowever, this only applies to new users or groups that are on the new pricing model of free, premium or ultimate. \n\nExisting users or groups that are on silver or gold plan still get a limit of `20`.\n\nFor example:\n\n@sliaquat is on Gold plan and is unable to add more that 20 variables: https://gitlab.com/sliaquat/test-dot-env-var-limits-1/-/jobs/2098591896\n\n@sanadhussain.backup is a newly created user on Free plan is able to add more than 20 variables: https://gitlab.com/sanadhussain.backup/test-dot-env-var-limits-new-user/-/jobs/2098603257\n\nThis also happens to old/existing groups that are on Ultimate such as the `gitlab.com/gitlab-org/gitlab-qa` group:\n\nhttps://gitlab.com/gitlab-org/gitlab-qa/-/jobs/2096216743\n\n### Steps to reproduce\n\n1. Use an existing user that is on an old pricing tier model other than Free, such as silver or gold. \n1. Try to create a pipeline that saves more than 20 variables in dotenv file such as this: https://gitlab.com/sliaquat/test-dot-env-var-limits-1/-/blob/main/.gitlab-ci.yml\n1. Run the pipeline\n\n### Example Project\n\n* New user on Free plan: https://gitlab.com/sanadhussain.backup/test-dot-env-var-limits-new-user\n* Existing user on Gold plan: https://gitlab.com/sliaquat/test-dot-env-var-limits-1\n* Existing group on Ultimate: https://gitlab.com/gitlab-org/gitlab-qa\n\n### What is the current *bug* behavior?\n\nExisting users on old pricing model/tier do not get the updated dotenv variable limit set in application limits  \n\n### What is the expected *correct* behavior?\n\nExisting users on old pricing model/tier should get the updated dotenv variable limit set in application limits  \n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2022-02-16T05:53:59.459Z","updated_at":"2022-04-26T13:00:42.708Z","closed_at":"2022-04-24T08:47:01.826Z","closed_by":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"labels":["Category:Pipeline Authoring","[deprecated] Accepting merge requests","approaching-SLO","backend","candidate::15.1","devops::verify","group::pipeline authoring","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2632430,"username":"sliaquat","name":"Sanad Liaquat","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2632430/avatar.png","web_url":"https://gitlab.com/sliaquat"},"type":"ISSUE","assignee":null,"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352923","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352923","notes":"https://gitlab.com/api/v4/projects/278964/issues/352923/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352923/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/357447"},"references":{"short":"#352923","relative":"#352923","full":"gitlab-org/gitlab#352923"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102514013,"iid":352917,"project_id":278964,"title":"UX: Enable Invite modal to handle multiple errors at once","description":"## Context \n\nAs a follow-on to the [release of the invite modal to SaaS and SM in 14.8](https://gitlab.com/gitlab-org/gitlab/-/issues/247208#note_826827946), we have a series of UX-related updates pertaining to how the modal handles error messaging and in particular, multiple error messages at once. This UX issue is intended to solve for the design needs of those error messages. \n\n## Problems \n\n1) The current invite modal can't handle multiple error messages at once. Single or multiple emails added may trigger multiple errors and we need to clearly communicate what infractions are causing each error for each email. \n2) The current error message to inform the inviter that the member has already been added needs improvement. See https://gitlab.com/gitlab-org/gitlab/-/issues/334280#note_706373370 for context\n\n\n## Proposed Solution\n\nWe need to find a way to enable the invite modal to manage and display multiple errors at once.\n\nNeeds to include:\n- Multiple error handling - clear communication of what problems each email added is causing\n- Improved error messaging for emails that have already been invited (see https://gitlab.com/gitlab-org/gitlab/-/issues/334280#note_842074541)\n\n## Design\n\n- Add in an alert that explains what went wrong with the errored emails, as well as change the colours of the user pills to show which succeeded and which did not. \n- This alert supersedes all other alerts.\n\n| Error Message | Error Message Expanded |\n| ------ | ------ |\n| ![Screen_Shot_2022-04-13_at_2.06.56_PM](/uploads/455b23e7b217c24548c84dfa4d4b49f4/Screen_Shot_2022-04-13_at_2.06.56_PM.png) | ![Screen_Shot_2022-04-13_at_2.07.07_PM](/uploads/1b2bab183679d4addb84e233c83b1fd6/Screen_Shot_2022-04-13_at_2.07.07_PM.png) |\n\n#### [Design File](https://www.figma.com/file/9i4TvqFygXOBJf8QGOBaoN/UX%3A-Enable-Invite-modal-to-handle-multiple-errors-at-once?node-id=14%3A14729)","state":"closed","created_at":"2022-02-16T03:07:07.177Z","updated_at":"2022-06-16T13:40:02.665Z","closed_at":"2022-04-20T22:54:16.132Z","closed_by":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"labels":["Technical Writing","UX","auto updated","devops::growth","group::acquisition","section::growth","type::feature","workflow::ready for development"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"type":"ISSUE","assignee":null,"user_notes_count":51,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352917","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352917","notes":"https://gitlab.com/api/v4/projects/278964/issues/352917/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352917/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352917","relative":"#352917","full":"gitlab-org/gitlab#352917"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3502,"epic":{"id":62876,"iid":3502,"title":"Move the \"invite members\" form into a modal","url":"/groups/gitlab-org/-/epics/3502","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102512057,"iid":352913,"project_id":278964,"title":"Add CAPTCHA support to REST API","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nThis issue represents the work to support solving CAPTCHAS via the REST API, as we already support it via the GraphQL API.\n\nThis is important to enable third-party tools to integrate with GitLab installations which have CAPTCHA enabled.\n\nSee [Consistently support CAPTCHA via GraphQL and REST API](https://gitlab.com/groups/gitlab-org/-/epics/5527#consistently-support-captcha-via-graphql-and-rest-api) for details.\n\n## Improvements\n\nCAPTCHAs can now be solved via the REST API, allowing third-party integrations which use the REST API to support CAPTCHA for GitLab installations which have CAPTCHA enabled (including gitlab.com SaaS)\n\n## Risks\n\nThere is some risk because the API is being changed, but existing and new test coverage should mitigate that risk.\n\n## Involved components\n\nThe following REST API endpoints:\n\n1. Issue create\n1. Issue update\n1. Snippet create (personal and project)\n1. Snippet update (personal and project) \n\n## Testing\n\nSee the [Testing Notes Section in the CAPTCHA epic](https://gitlab.com/groups/gitlab-org/-/epics/5527#testing-notes) for examples and detailed instructions on how to do manual exploratory testing of spam and CAPTCHA via the web UI, REST API, and GraphQL API.","state":"closed","created_at":"2022-02-16T01:38:47.147Z","updated_at":"2022-03-15T04:45:22.805Z","closed_at":"2022-03-15T04:45:22.790Z","closed_by":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"labels":["api","api:consistency","devops::create","feature::enhancement","group::editor","section::dev","security","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"}],"author":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"type":"ISSUE","assignee":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352913","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352913","notes":"https://gitlab.com/api/v4/projects/278964/issues/352913/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352913/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352913","relative":"#352913","full":"gitlab-org/gitlab#352913"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102507543,"iid":352906,"project_id":278964,"title":"Signed in to GitLab confirmation should have UI polish","description":"### Problem\nThe current \"[Signed in to GitLab](https://gitlab.com/gitlab-org/gitlab/-/issues/352906/designs/current.png)\" confirmation screen is lacking some standards in spacing and type styles.  \n\n### Proposal \nUpdate spacing and type styles to match [latest design mockup](https://gitlab.com/gitlab-org/gitlab/-/issues/352906/designs/sign-in-confirmation.png).\n\n### Design source\n:pencil2: [Figma project](https://www.figma.com/file/FiMwdMsOL4UCtUzIGPrXXD/Create-proxy-for-self-managed-GitLab-%265650?node-id=1009%3A75)","state":"closed","created_at":"2022-02-15T22:31:13.139Z","updated_at":"2022-11-22T19:00:29.599Z","closed_at":"2022-04-07T03:49:51.773Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Deliverable","Jira::ConnectApp","SUS::Impacting","UI polish","devops::manage","feature::enhancement","frontend","group::integrations","priority::2","quad-planning::complete-no-action","section::dev","severity::4","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":5022246,"username":"lvanc","name":"Libor Vanc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5022246/avatar.png","web_url":"https://gitlab.com/lvanc"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352906","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352906","notes":"https://gitlab.com/api/v4/projects/278964/issues/352906/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352906/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352906","relative":"#352906","full":"gitlab-org/gitlab#352906"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":102500382,"iid":352891,"project_id":278964,"title":"Technical Discovery for Custom Permissions MVC","description":"## Purpose\n\nThe purpose of this issue is to try to eliminate unknowns about technical constraints that may exist when we go to tackle our MVC for customizable roles and permissions.\n\n## MVC Definition\n\nThe MVC has 2 parts:\n\n1. Existing Permissions table is currently static. This will be updated to be dynamically generated by code, leaving the code as the SSOT for Permissions.\n\n2. Users can create a *new* role that uses `Guest` as a template. The only customizable permission is `download source code`(enabled or not). Ideally, this would be `view source code` only, but we are reliant on ~\"group::source code\" splitting view and download into 2 permissions first. Depending on LoE, we can make this API only to start with.\n\n#### Designs: https://gitlab.com/gitlab-org/gitlab/-/issues/350192\n\n## Deliverable For This Issue\n\n- Technical task breakdown, complete with weight, to complete the MVC above.\n- Any areas where we could compromise on the MVC definition to deliver more quickly\n- Any areas we absolutely cannot/should not compromise \n- Technical constraints - an understanding of if entire underlying permissions architecture will need to be changed, and timeline for how this wilneed to be done (ex: will all architecture need to be done before we can start delivering user value?","state":"closed","created_at":"2022-02-15T19:07:49.541Z","updated_at":"2022-12-06T11:46:43.473Z","closed_at":"2022-06-29T22:34:18.982Z","closed_by":{"id":9425173,"username":"hsutor","name":"Hannah Sutor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9425173/avatar.png","web_url":"https://gitlab.com/hsutor"},"labels":["Category:Permissions","Deliverable","auto updated","backend","devops::manage","group::authentication and authorization","missed-deliverable","quad-planning::complete-no-action","section::dev","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"}],"author":{"id":9425173,"username":"hsutor","name":"Hannah Sutor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9425173/avatar.png","web_url":"https://gitlab.com/hsutor"},"type":"ISSUE","assignee":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"user_notes_count":39,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352891","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352891","notes":"https://gitlab.com/api/v4/projects/278964/issues/352891/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352891/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352891","relative":"#352891","full":"gitlab-org/gitlab#352891"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4035,"epic":{"id":85932,"iid":4035,"title":"Customizable Roles and Permissions","url":"/groups/gitlab-org/-/epics/4035","group_id":9970},"iteration":null,"health_status":null},{"id":102489673,"iid":352875,"project_id":278964,"title":"Add metric availability to instrumentation classes","description":"Related [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/77629#note_842842031)\n\nWe could have cases where we have a condition to add or not a metric to Service Ping. For example, we might not want to add a specific metric when a Feature on instance is not activated due to license (or even feature flags).\n\nThis can be handled in instrumentation classes","state":"closed","created_at":"2022-02-15T15:40:24.013Z","updated_at":"2022-07-06T08:31:49.895Z","closed_at":"2022-04-22T17:09:29.713Z","closed_by":{"id":1863977,"username":"michold","name":"MichaÅ‚ Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"labels":["Category:Service Ping","backend","devops::growth","feature::addition","group::product intelligence","priority::3","product intelligence::onboarding issue","section::growth","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1863977,"username":"michold","name":"MichaÅ‚ Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":1863977,"username":"michold","name":"MichaÅ‚ Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352875","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352875","notes":"https://gitlab.com/api/v4/projects/278964/issues/352875/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352875/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352875","relative":"#352875","full":"gitlab-org/gitlab#352875"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6118,"epic":{"id":283588,"iid":6118,"title":"Add additional support to instrumentation classes","url":"/groups/gitlab-org/-/epics/6118","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102487016,"iid":352854,"project_id":278964,"title":"Missing generated queries for approval_project_rules_* metrics","description":"We add values instead of generated queries for the folwing metrics\n\n```\n :approval_project_rules_with_target_branch=\u003e0,\n :approval_project_rules_with_more_approvers_than_required=\u003e0,\n :approval_project_rules_with_less_approvers_than_required=\u003e0,\n :approval_project_rules_with_exact_required_approvers=\u003e0}\n```\n\nExample\n\n```\n      \"approval_project_rules\": \"SELECT COUNT(\\\"approval_project_rules\\\".\\\"id\\\") FROM \\\"approval_project_rules\\\"\",\n      \"approval_project_rules_with_target_branch\": \"SELECT COUNT(\\\"approval_project_rules_protected_branches\\\".\\\"approval_project_rule_id\\\") FROM \\\"approval_project_rules_protected_branches\\\"\",\n      \"approval_project_rules_with_more_approvers_than_required\": 350,\n      \"approval_project_rules_with_less_approvers_than_required\": 350,\n      \"approval_project_rules_with_exact_required_approvers\": 350\n```\n\nWe should add the generated queries for DWH","state":"closed","created_at":"2022-02-15T14:53:31.777Z","updated_at":"2022-03-17T17:15:25.751Z","closed_at":"2022-03-17T16:29:44.054Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["auto updated","backend","devops::growth","group::product intelligence","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352854","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352854","notes":"https://gitlab.com/api/v4/projects/278964/issues/352854/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352854/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352854","relative":"#352854","full":"gitlab-org/gitlab#352854"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7451,"epic":{"id":428291,"iid":7451,"title":"Fix broken queries for Service Ping Automation in DWH","url":"/groups/gitlab-org/-/epics/7451","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102475037,"iid":352840,"project_id":278964,"title":"Add REST API endpoints to create and delete related epics","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/351597.\n\nWe need REST endpoints (similar to the ones used by [Issue Links API](https://docs.gitlab.com/ee/api/issue_links.html#issue-links-api)) to create and delete related epics. \n\nExample endpoints \n```ruby\nPOST /api/:version/groups/:id/epics/:epic_iid/related_epics\nDELETE /api/:version/groups/:id/epics/:epic_iid/related_epics/:related_epic_id\n```\n\nThis feature would be developed behind a ~\"feature flag\" and needs to perform license checks (implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/352439)","state":"closed","created_at":"2022-02-15T11:44:01.867Z","updated_at":"2022-04-18T07:00:48.513Z","closed_at":"2022-04-06T06:56:19.840Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Category:API","Deliverable","Next Up","backend","devops::plan","documentation","feature flag","group::product planning","section::dev","type::feature","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352840","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352840","notes":"https://gitlab.com/api/v4/projects/278964/issues/352840/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352840/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352840","relative":"#352840","full":"gitlab-org/gitlab#352840"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7736,"epic":{"id":470053,"iid":7736,"title":"Epic to epic linking - Enhancements","url":"/groups/gitlab-org/-/epics/7736","group_id":9970,"human_readable_end_date":"Mar 31, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":102469703,"iid":352835,"project_id":278964,"title":"Remove CSS variable --black-normal from dark mode style","description":"### Problem to solve\n\nThe color variable `--black-normal` is defined in `_dark.scss` but it's not being used.\n\nOriginally raised by @psimyn in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79232#note_842650443.\n\n### Proposal\n\n1. Remove the CSS variable  `--black-normal`.\n1. Use an existing color for black-normal by redefining the SCSS variable as `$black-normal: var(--gl-text-color);`.\n1. Update the startup CSS.\n\n### How to validate the changes\n\nTo validate in Value Stream analytics do the following:\n\n1. Create a branch with your changes that removes this variable.\n1. Seed data `VSA_SEED_PROJECT_ID=2 VSA_ISSUE_COUNT=10 SEED_VSA=true FILTER=cycle_analytics rake db:seed_fu`\n1. View the dashboard at `[GDK_HOST]/gitlab-org/gitlab-shell/-/value_stream_analytics`\n1. Checkout `master` branch and validate that there is no visual changes in the dashboard.\n\n**Note:** If you're not testing on `gitlab-org/gitlab-shell` then you need to replace the `VSA_SEED_PROJECT_ID` in the first step.","state":"closed","created_at":"2022-02-15T10:22:15.693Z","updated_at":"2022-02-28T07:50:39.777Z","closed_at":"2022-02-28T07:50:39.759Z","closed_by":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"labels":["CSS cleanup","frontend","type::maintenance"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":536474,"username":"parkourkarthik","name":"Karthik (PK)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/536474/avatar.png","web_url":"https://gitlab.com/parkourkarthik"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":536474,"username":"parkourkarthik","name":"Karthik (PK)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/536474/avatar.png","web_url":"https://gitlab.com/parkourkarthik"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352835","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352835","notes":"https://gitlab.com/api/v4/projects/278964/issues/352835/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352835/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352835","relative":"#352835","full":"gitlab-org/gitlab#352835"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102468111,"iid":352833,"project_id":278964,"title":"Add internal API endpoints to list, create and delete related epic","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/351597.\n\nWe need internal endpoints to manage related epics, similar to existing ones for related issues. See [`IssueLinksController`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/projects/issue_links_controller.rb).\n\nThe request should be able to accept a collection of issuables, because we need to allow bulk-add in the UI. The response should return a collection as well. See comments in https://gitlab.com/gitlab-org/gitlab/-/issues/351597#note_832411238 for more details.\n\n**Example internal API Request Body**\n\n```json\n{\"issuable_references\":[\"#34\"],\"link_type\":\"relates_to\"}\n```\n\n**Example internal API Response Body**\n\n```json\n{\n   \"message\":null,\n   \"issuables\":[\n      {\n         \"id\":476,\n         \"confidential\":false,\n         \"title\":\"Dismiss Cipher with no integrity\",\n         \"assignees\":[\n            \n         ],\n         \"state\":\"opened\",\n         \"milestone\":null,\n         \"weight\":null,\n         \"reference\":\"#34\",\n         \"path\":\"/flightjs/Flight/-/issues/34\",\n         \"due_date\":null,\n         \"created_at\":\"2022-01-17T12:56:57.954Z\",\n         \"closed_at\":null,\n         \"relation_path\":\"/flightjs/Flight/-/issues/37/links/3\",\n         \"link_type\":\"relates_to\"\n      }\n   ]\n}\n```\n\nThis feature would be developed behind a ~\"feature flag\" and needs to perform license checks (implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/352439).","state":"closed","created_at":"2022-02-15T09:58:37.921Z","updated_at":"2022-03-18T07:00:46.288Z","closed_at":"2022-02-22T15:06:25.592Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Deliverable","Next Up","[deprecated] Accepting merge requests","backend","devops::plan","feature flag","frontend","group::product planning","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352833","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352833","notes":"https://gitlab.com/api/v4/projects/278964/issues/352833/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352833/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352833","relative":"#352833","full":"gitlab-org/gitlab#352833"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102466051,"iid":352830,"project_id":278964,"title":"Backend: Use a reduced cost factor for contributions to OSS plan projects","description":"## Problem\n\nAfter https://gitlab.com/gitlab-org/gitlab/-/issues/346400 we would like to enforce CI minutes limits more by reducing the scope of projects that is eligible for the reduced cost factor.\n\n## Proposal\n\nin `Ci::Minutes::CostFactor` class:\n\n- Narrow the definition of OSS contribution as: `a pipeline running for a public fork of a public upstream project in the OSS plan`.\n  - For any jobs classified as OSS contributions, use a cost factor `0.008` which was introduced/separated-out in https://gitlab.com/gitlab-org/gitlab/-/issues/346399\n  - This ensures that the users can contribute up to 50,000 minutes (duration) on OSS plan projects (`400 CI minutes limit for Free plan / cost factor 0.008 = 50,000`).","state":"closed","created_at":"2022-02-15T09:32:48.712Z","updated_at":"2022-09-21T12:03:41.933Z","closed_at":"2022-09-15T14:17:22.911Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["CI minutes","Category:Continuous Integration","Deliverable","OKR","Verify::P2","backend","devops::verify","documentation","feature::addition","group::pipeline execution","missed-deliverable","missed:15.2","missed:15.3","pipeline abuse prevention","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352830","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352830","notes":"https://gitlab.com/api/v4/projects/278964/issues/352830/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352830/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352830","relative":"#352830","full":"gitlab-org/gitlab#352830"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5653,"epic":{"id":231355,"iid":5653,"title":"CI minutes limits for public projects on GitLab.com","url":"/groups/gitlab-org/-/epics/5653","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":102460147,"iid":352827,"project_id":278964,"title":"[Feature flag] Rollout of `integration_form_sections`","description":"## Summary\n\nThis issue is to rollout [Improve integrations settings template for Jira](https://gitlab.com/gitlab-org/gitlab/-/issues/332280) on production,\nthat is currently behind the `integration_form_sections` feature flag.\n\nImplement redesign of integration settings page for Jira to be split into multiple sections.\n\n## Owners\n\n- Team: Ecosystem::Integrations\n- Most appropriate slack channel to reach out to: `#g_ecosystem_integrations`\n- Best individual to reach out to: @justin_ho @tomquirk\n- PM: `@g.hickman`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set integration_form_sections true --dev`\n    - [x] `/chatops run feature set integration_form_sections true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab integration_form_sections true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss integration_form_sections true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com integration_form_sections true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org integration_form_sections true`\n    - [ ] `/chatops run feature set --group=gitlab-com integration_form_sections true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e integration_form_sections true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set integration_form_sections \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set integration_form_sections \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set integration_form_sections true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `integration_form_sections`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `integration_form_sections` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete integration_form_sections --dev`\n    - [x] `/chatops run feature delete integration_form_sections --staging`\n    - [x] `/chatops run feature delete integration_form_sections`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set integration_form_sections false\n```","state":"closed","created_at":"2022-02-15T08:46:21.692Z","updated_at":"2022-11-22T19:00:31.317Z","closed_at":"2022-04-03T14:55:00.559Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Category:Integrations","devops::manage","feature flag","feature::addition","group::integrations","section::dev","type::feature","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352827","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":12},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352827","notes":"https://gitlab.com/api/v4/projects/278964/issues/352827/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352827/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352827","relative":"#352827","full":"gitlab-org/gitlab#352827"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102447347,"iid":352805,"project_id":278964,"title":"Clean up unused `affix` styles","description":"From a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80612#note_842689585): \n\nwe can probably delete our CSS rules for `.affix`, since it looks like we only add `js-tabs-affix` class now.\n\nCheck when/if `affix` classes were removed from HAML/JS, confirm the rules are not needed. Or just delete them and check nothing breaks","state":"closed","created_at":"2022-02-15T02:38:15.934Z","updated_at":"2022-05-23T12:58:40.352Z","closed_at":"2022-05-23T12:58:39.052Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["CSS cleanup","Community contribution","Engineering Productivity","[deprecated] Accepting merge requests","automation:ml","frontend","maintenance::refactor","type::maintenance"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":6742251,"username":"feistel","name":"feistel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/40569112d16323eb878ebdead2117943?s=80\u0026d=identicon","web_url":"https://gitlab.com/feistel"}],"author":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"type":"ISSUE","assignee":{"id":6742251,"username":"feistel","name":"feistel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/40569112d16323eb878ebdead2117943?s=80\u0026d=identicon","web_url":"https://gitlab.com/feistel"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352805","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352805","notes":"https://gitlab.com/api/v4/projects/278964/issues/352805/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352805/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352805","relative":"#352805","full":"gitlab-org/gitlab#352805"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102442919,"iid":352796,"project_id":278964,"title":"Group Import Error: NoMethodError: undefined method `[]' for nil:NilClass","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/3097832/?referrer=gitlab_plugin\n\n```\nNoMethodError: undefined method `[]' for nil:NilClass\n  app/models/bulk_imports/export_status.rb:20:in `failed?'\n    export_status['status'] == Export::FAILED\n  app/workers/bulk_imports/pipeline_worker.rb:50:in `run'\n    raise(Pipeline::FailedError, status.error) if status.failed?\n  app/workers/bulk_imports/pipeline_worker.rb:29:in `perform'\n    run(pipeline_tracker)\n  lib/gitlab/database/load_balancing/sidekiq_server_middleware.rb:26:in `call'\n    yield\n  lib/gitlab/sidekiq_middleware/duplicate_jobs/strategies/until_executing.rb:16:in `perform'\n    yield\n...\n(87 additional frame(s) were not displayed)\n```\n\nCurrent version: GitLab.com, GitLab Enterprise Edition 14.8.0-pre ba4c9478e63","state":"closed","created_at":"2022-02-14T23:09:17.238Z","updated_at":"2022-05-19T15:01:42.764Z","closed_at":"2022-03-15T10:41:18.028Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Importer:GitLab Migration","Next Up","backend","customer","devops::manage","estimation::completed","gitlab.com","group::import","milestone::p2","priority::2","section::dev","severity::2","type::bug","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352796","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352796","notes":"https://gitlab.com/api/v4/projects/278964/issues/352796/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352796/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352796","relative":"#352796","full":"gitlab-org/gitlab#352796"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6629,"epic":{"id":335099,"iid":6629,"title":"ðŸž GitLab Migration bugs","url":"/groups/gitlab-org/-/epics/6629","group_id":9970},"iteration":null,"health_status":null},{"id":102441312,"iid":352791,"project_id":278964,"title":"Instrumentation for Deployment Approvals","description":"### Problem\nWe would like to add instrumentation for the deployment approval [feature](https://gitlab.com/groups/gitlab-org/-/epics/6832) so we can track adoption.\n\n### Proposal\nAdd instrumentation for these events:\n- Count of protected environments requiring approval\n- ~~Count of approvals~~ Implemented in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88183\n- ~~Count of unique users that performed approvals~~ Implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/355689\n- Average number of approvals required\n\nUseful metadata for each event (user id, timestamp, API vs UI, approve or reject, which deployment)\n\n## Implementation plan\n\nUse DB [batch counters](https://docs.gitlab.com/ee/development/service_ping/usage_data.html#ordinary-batch-counters) to implement the metrics in Service Ping.","state":"closed","created_at":"2022-02-14T21:57:38.877Z","updated_at":"2022-06-01T19:43:44.238Z","closed_at":"2022-06-01T19:43:44.222Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Environment Management","Next Up","[deprecated] Accepting merge requests","auto updated","devops::release","group::release","instrumentation","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":9677998,"username":"cbalane","name":"Chris Balane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9677998/avatar.png","web_url":"https://gitlab.com/cbalane"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352791","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352791","notes":"https://gitlab.com/api/v4/projects/278964/issues/352791/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352791/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352791","relative":"#352791","full":"gitlab-org/gitlab#352791"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7818,"epic":{"id":486644,"iid":7818,"title":"(Minimal maturity) Deployment Approvals","url":"/groups/gitlab-org/-/epics/7818","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":102438359,"iid":352782,"project_id":278964,"title":"Add clarification that you need an environment for a review app","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nIn the [review app scorecard](https://gitlab.com/gitlab-org/ux-research/-/issues/1630), when configuring a review app, there was a helpful modal when selecting Enable review app on the environments page, but there was no step saying an environment needed to be created to deploy the review app.\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### User experience goal\n\nAdd clarification that an environment is a necessary prereq before enabling a review app.\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\n\n### Proposal\n\nAdd a step or other indication within the Enable Review app modal that an environment is necessary as a prereq. It would be even better if we could detect that (although I don't think that's possible).\n\n### Technical Proposal\n\n- in [`enable_review_app_modal.vue`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/environments/components/enable_review_app_modal.vue):\n  - change text/structure to match design, add static site explanation popover\n  - add links ([`Learn more`](https://docs.gitlab.com/ee/ci/review_apps/#configuring-review-apps), links to specific example projects, [`View more example projects`](https://docs.gitlab.com/ee/ci/review_apps/#review-apps-examples))\n    - documentation links can use `helpPagePath` helper like the existing links\n    - specific example project URLs can probably just be constants?\n- do a bit of investigation to figure out a way to detect if a review app is configured - if there's a decent way, implement it; if there's no decent way, document findings in this issue\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\nPlease consider performing a threat model for the code changes that are introduced as part of this feature. To get started, refer to our Threat Modeling handbook page https://about.gitlab.com/handbook/security/threat_modeling/#threat-modeling. \n\nDon't hesitate to reach out to the Application Security Team (`@gitlab-com/gl-security/appsec`) to discuss any security concerns.\n--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n### Feature Usage Metrics \n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-14T20:23:50.835Z","updated_at":"2022-10-31T14:50:11.013Z","closed_at":"2022-10-18T22:13:55.489Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["Actionable Insight::Product change","Category:Review Apps","FY23::Q2","GitLab Free","SUS::Impacting","UX","UX scorecard-rec","Verify::P3","closed::complete","design-weight::1","devops::verify","direction","documentation","frontend","group::pipeline insights","missed:15.3","missed:15.4","section::ops","severity::3","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":9302527,"username":"gdoyle","name":"Gina Doyle","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9302527/avatar.png","web_url":"https://gitlab.com/gdoyle"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352782","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352782","notes":"https://gitlab.com/api/v4/projects/278964/issues/352782/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352782/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352782","relative":"#352782","full":"gitlab-org/gitlab#352782"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6943,"epic":{"id":372743,"iid":6943,"title":"Review Apps to Lovable","url":"/groups/gitlab-org/-/epics/6943","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102438191,"iid":352780,"project_id":278964,"title":"GraphQL Schema support","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\nWe currently support scanning GraphQL endpoints, but need a HAR file or Postman collection in order to scan it. In order to expand our support for GraphQL, we need to be able to support defining GraphQL endpoints through a GraphQL schema. We should support defining the endpoints via the GraphQL SDL, by allowing them to provide the path to a schema file.\n\n### Proposal\n\nOpen Questions:\n- Can we implement this w/o some form of parameter dependency resolution.\n- Should we create multiple exchanges per item? For example if their are optional inputs.\n\nThe GraphQL endpoint can also provide the full schema. This schema defines all of the things API Security will want to test, both for DAST and API Fuzzing. The proposed method of supporting the GraphQL schema for automatic testing is the following:\n\n1. Add a new variable `_GRAPHQL`, allowing the user to provide a GraphQL endpoint address or schema file\n1. Refactor the IReader readers to produce Operation+Request instead of just Request.\n1. Create a new IReader for GraphQL that provides each query/mutation as an `Operation`\n\n#### Refactor Readers to produce Operations and Request pairs\n\nThe current reader implementation produces `Request` instances which are then converted into `Operation` instances by the `RunnerService`. Unfortunately that causes information loss for API specifications that include information about the parameters such as type or constraints.\n\nThis work will be required prior to creating the `GraphQlSchemaReader`.\n\nProposed new `IReader` interface:\n\n```csharp\nnamespace Peach.Web.Runner.Interfaces\n{\n    public interface IReader\n    {\n        IEnumerable\u003c(Operation Operation, Request Request)\u003e GetOperations(IRunnerOptions runnerOptions);\n    }\n}\n```\n\nQuestions:\n1. For existing readers, do they use `WebApiService.OperationFromRequest` to create the Operation to pair with the Request they are already returning?\n\n#### GraphQlSChemaReader (Peach.Web.Runner.Services.Readers)\n\nImplement a new reader that creates a series of exchanges that provide coverage of all parameterized queries and mutations.\n\n1. Use our existing GraphQL.NET dependency to parse schema\n   1. When schema is provided as a file, read file parse schema\n   1. When schema is provided as a url:\n      1. Get schema by running the query provided below\n         1. Make sure to use overrides when making this request so it's authenticated\n         1. The example query assumes max 10 levels of nested types. What do we do if the target schema is deeper? Should we pick a limit and say anything beyond that is not supported? Can we detect if there are more types that we didn't receive and issue a new query to get them?\n      1. Extract schema from query result\n1. Iterate over the `Queries` and `Mutations` section of the `Schema` instance, generating (Operation, Request) pairs\n   1. Generate an `Operation` with a `GraphQLBody`\n      1. Option: Create a GraphQL AST doc directly, or create a GraphQL query and parse it.\n         1. We have some concern that building the AST may be complex or fiddly, but initial investigation suggests it won't be too bad. It would be nice to have a library that was specifically designed to dynamically build GraphQL queries, but the only ones we can find assume that there is a statically-typed model.\n         1. If we end up parsing a request, we need to ensure that we still end up with the correct type information\n   1. Convert the `Operation` into a `Request`\n      1. Is `WebApiService.OperationIntoRequest` sufficient for this?\n\n##### Interpreting the schema response\n\n- Interesting part is `data`, `__schema`, `types` object\n  - Query root name is `__schema`[`queryType`][`name`]\n  - Mutation root name is `__schema`[`mutationType`][`name`]\n  - Queries are listed as `types`[query root][`fields`]\n  - Mutations as `types`[mutation root][`fields`]\n- So far unable to find a way to read json response into the `Schema` instance\n  - might need to construct by hand\n\n#### Testing\n\n[API Security GraphQL Target](https://gitlab.com/gitlab-org/security-products/tests/api-fuzzing-e2e/image-target-graphql)  \n\n#### Implementation Checklist\n\n1. [x] Mike: Review Herb's feedback\n1. [x] David: Get `GraphQlIntegrationTests.GraphQlPathOfSlash` test to pass\n1. [x] Complete work on `GraphqlController.Validate` \n   1. [x] Mike: Hook up the `GraphqlController.Validate` method to call the `GraphQlReader` and return a correct validation response.\n   1. [ ] ~~Do we need to hook up GraphQlOptionValidationErrorCode.ErrorOnValidation to workerentry?~~\n   1. [x] Update worker-entry and add test to support GraphQL validation\n   1. [x] Need tests, especially for unexpected exceptions which are not well handled yet.\n1. ~[ ] David: Do we need to perform overrides on the GraphQL introspection query (yes probably)?~\n   1. Yes, but we will do this along with other readers during https://gitlab.com/gitlab-org/gitlab/-/issues/357052\n1. [x] David: Add good error message when we are unable to run an introspection query on the target\n1. [x] David: Add proper error handling to the introspection query run\n1. [x] Mike: Add ReaderErrorContext to GraphQlReader\n   1. [x] GetOperations\n   1. [x] GetGraphQlOperations\n   1. [ ] ~~Rest of in scope methods~~ (moved to non-essentials)\n1. [x] David: Implement unsupported types in `GraphQlValueElement.cs`\n   1. [x] `ListValue`\n   1. [x] `ObjectValue`\n   1. [x] `GuidValue`\n1. [x] Mike: Verify new worker-entry tests for GraphQL are passing\n1. [x] Mike: Add variable prefix to exception messages in GraphQlReader.GetOperations\n1. [ ] Non-essentials (can push this week w/o)\n   1. [x] Do we need additional error handling around LoadJsonDocument in GraphQlReader.GetOperations\n   1. [x] Should we mark subscriptions as excluded? (perhaps this is a follow on issue)\n   1. [x] Mike: Investigate all of the network errors from the Python GraphQL example\n   1. [x] Add ReaderErrorContext to rest of in scope GraphQlReader methods\n   1. [ ] Investigate if we need to support [other types from this list of GraphQL.NET types](https://graphql-dotnet.github.io/docs/getting-started/schema-types/). We probably do not need too.\n   1. [ ] Investigate why the ReaderException exception message is not being displayed in the worker-entry console output\n1. [x] Documentation\n   1. [x] Document usage of new variables and graphql schema support\n   1. [ ] ~~Add section on getting a copy of the GraphQL Schema in JSON format~~\n      1. [x] Move this to it's own issue\n   1. [x] Update documentation with new variable `_SCHEMA`\n   1. [x] Mike: Update [Example GraphQL project](https://gitlab.com/gitlab-org/security-products/demos/api-dast/graphql-example)\n\n#### Appendix\n\n##### Utilities\n\n[GitLab GraphQL Explorer](https://gitlab.com/-/graphql-explorer)  \n[Example of variables separate from query inputs](https://dgraph.io/docs/query-language/graphql-variables/#)  \n\n##### Schema Query\n\nThis is the query used by the interactive GraphQL web thing:\n\n\u003cdetails\u003e\n\u003csummary\u003eClick this to show/hide query.\u003c/summary\u003e\n\n```graphql\nquery IntrospectionQuery {\n  __schema {\n    queryType {\n      name\n    }\n    mutationType {\n      name\n    }\n    subscriptionType {\n      name\n    }\n    types {\n      ...FullType\n    }\n    directives {\n      name\n      description\n      locations\n      args {\n        ...InputValue\n      }\n    }\n  }\n}\n\nfragment FullType on __Type {\n  kind\n  name\n  description\n  fields(includeDeprecated: true) {\n    name\n    description\n    args {\n      ...InputValue\n    }\n    type {\n      ...TypeRef\n    }\n    isDeprecated\n    deprecationReason\n  }\n  inputFields {\n    ...InputValue\n  }\n  interfaces {\n    ...TypeRef\n  }\n  enumValues(includeDeprecated: true) {\n    name\n    description\n    isDeprecated\n    deprecationReason\n  }\n  possibleTypes {\n    ...TypeRef\n  }\n}\n\nfragment InputValue on __InputValue {\n  name\n  description\n  type {\n    ...TypeRef\n  }\n  defaultValue\n}\n\nfragment TypeRef on __Type {\n  kind\n  name\n  ofType {\n    kind\n    name\n    ofType {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n\u003c/details\u003e","state":"closed","created_at":"2022-02-14T20:19:53.213Z","updated_at":"2022-10-11T01:59:24.101Z","closed_at":"2022-09-20T16:46:03.704Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","direction","documentation","group::dynamic analysis","milestone::p2","release post item","section::sec","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"},{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":4985194,"username":"derekferguson","name":"Derek Ferguson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4985194/avatar.png","web_url":"https://gitlab.com/derekferguson"},"type":"ISSUE","assignee":{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352780","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":32,"completed_count":26},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"26 of 32 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352780","notes":"https://gitlab.com/api/v4/projects/278964/issues/352780/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352780/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352780","relative":"#352780","full":"gitlab-org/gitlab#352780"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8355,"epic":{"id":564285,"iid":8355,"title":"API Security - Viable to Complete","url":"/groups/gitlab-org/-/epics/8355","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":102425327,"iid":352761,"project_id":278964,"title":"Fix feature flag for merge request widget extensions","description":"To help us roll out the new merge request widget extensions we need to change the feature flag check to hide the old merge request widget extensions.\n\n/cc @andr3","state":"closed","created_at":"2022-02-14T16:13:01.221Z","updated_at":"2022-03-18T07:01:06.479Z","closed_at":"2022-02-23T16:56:49.675Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","WorkingGroup::MergeRequestReportWidgets","auto updated","devops::create","frontend","group::code review","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/352761","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/352761","notes":"https://gitlab.com/api/v4/projects/278964/issues/352761/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/352761/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#352761","relative":"#352761","full":"gitlab-org/gitlab#352761"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6647,"epic":{"id":337766,"iid":6647,"title":"[MR Widget Eng] Update core MR Widget extension component to fully support the design guidelines","url":"/groups/gitlab-org/-/epics/6647","group_id":9970,"human_readable_end_date":"Jan 29, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]