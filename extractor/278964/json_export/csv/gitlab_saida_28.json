[{"id":105304093,"iid":356595,"project_id":278964,"title":"Implement partially-complete VS Code behind a feature flag","description":"## Problem to solve\n\nGetting the right people access to the early builds of the new Web IDE would be a lot easier if it was in production. \n\n## Proposal\n\n1. Put the new `gitlab-web-ide` behind a feature flag\n2. Map the `Web IDE` buttons to open the new Web IDE \n3. Introduce a simple user preference that switches the behavior of the edit button to use the old (editable) Web IDE and the new (incomplete) Web IDE\n\n## Details\n\nThe VS Code Web IDE will be incomplete. Most likely you won't be able to make commits. You may not be able to edit a file at all. Whatever state we can get it in where we can at least open the Web IDE in-product, let's get that out as soon as possible. We can iterate on the features faster from there.","state":"closed","created_at":"2022-03-22T19:27:04.579Z","updated_at":"2022-09-21T12:02:03.086Z","closed_at":"2022-08-26T04:26:00.672Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Category:Web IDE","Deliverable","GitLab Free","auto updated","devops::create","group::editor","missed-deliverable","missed:14.10","missed:15.0","section::dev","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356595","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356595","notes":"https://gitlab.com/api/v4/projects/278964/issues/356595/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356595/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356595","relative":"#356595","full":"gitlab-org/gitlab#356595"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7776,"epic":{"id":478072,"iid":7776,"title":"Set up a WIP instance of VS Code in gitlab-org","url":"/groups/gitlab-org/-/epics/7776","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105291083,"iid":356584,"project_id":278964,"title":"Kubernetes Agent Registration dialog reloads the page when Enter is pressed","description":"Many engineers favour using their keyboards over clicking buttons with a mouse. \n\nWhen doing this, it's expected that the Enter key performs the default action.\n\nIn the KAS Agent registration dialog, this is not the case. Pressing Enter reloads the page. \n\n![screenshot_andrewn_20220322T164344Z](/uploads/6858488cb47eba290f6a9f0dcd5a5bdf/screenshot_andrewn_20220322T164344Z.mp4)\n\ncc @nicholasklick","state":"closed","created_at":"2022-03-22T16:49:16.444Z","updated_at":"2022-04-14T12:48:49.260Z","closed_at":"2022-04-14T12:48:49.243Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["Category:Kubernetes Management","SUS::Impacting","Stretch","UX","devops::configure","frontend","group::configure","section::ops","severity::4","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":895869,"username":"andrewn","name":"Andrew Newdigate","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/895869/avatar.png","web_url":"https://gitlab.com/andrewn"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356584","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356584","notes":"https://gitlab.com/api/v4/projects/278964/issues/356584/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356584/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356584","relative":"#356584","full":"gitlab-org/gitlab#356584"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3329,"epic":{"id":54574,"iid":3329,"title":"GitLab Agent for Kubernetes","url":"/groups/gitlab-org/-/epics/3329","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":105287064,"iid":356576,"project_id":278964,"title":"Add end-to-end test for trace archival","description":"In [an incident](https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6664) a bug caused the job trace disappear after a couple minutes. This was an issue with trace archival because the live trace is shown until the trace is archived(which can take almost 2 minutes). Then the live trace is deleted.\n\nWe should add an end to end test that confirms that archival is working properly when the trace changes from [live](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/trace.rb#L84) to [archived](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/trace.rb#L80).\n\nThis could be a UI spec that asserts that the trace is still on the page after the trace becomes archived (which is approximately 2 minutes after the trace appears).\n\nToday this is difficult to test manually because it requires triggering a pipeline and waiting 2 minutes for every development change. \n\nToday tests(qa included) will NOT fail if the trace no longer appears in the UI once the worker sets the trace to 'archived' instead of 'live'. This was also an issue during the development of https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66203.\n\nIn the case of [the incident](https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6664) geo was what caused the trace not to show up, so we should ensure geo is enabled in the spec.","state":"closed","created_at":"2022-03-22T15:56:14.079Z","updated_at":"2022-06-06T18:51:59.633Z","closed_at":"2022-04-28T02:50:11.175Z","closed_by":{"id":9097212,"username":"richard.chong","name":"Richard Chong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9097212/avatar.png","web_url":"https://gitlab.com/richard.chong"},"labels":["Category:Continuous Integration","QA","Verify::P1","corrective action","devops::verify","group::pipeline execution","missed:14.10","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":9097212,"username":"richard.chong","name":"Richard Chong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9097212/avatar.png","web_url":"https://gitlab.com/richard.chong"}],"author":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"type":"ISSUE","assignee":{"id":9097212,"username":"richard.chong","name":"Richard Chong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9097212/avatar.png","web_url":"https://gitlab.com/richard.chong"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356576","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356576","notes":"https://gitlab.com/api/v4/projects/278964/issues/356576/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356576/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356576","relative":"#356576","full":"gitlab-org/gitlab#356576"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105281538,"iid":356570,"project_id":278964,"title":"Backend: Add additional logging in Kibana for tracking limits usage","description":"## Problem 1 -\u003e [MR merged](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/103404)\n\nOn GitLab SaaS we have set the [following limits](https://gitlab.com/gitlab-com/gl-infra/reliability/-/issues/15476#note_937219939) for `ci_active_jobs`. Those were safe high limits per plan. We need to be able to tighten those limits as much as possible without causing disruption to existing customer's usage, while being able to block pipelines that represent abuses or exceptionally high values.\n\nWe should be able to provide SREs the right metrics so they can make an informed decision in how to lower the limits per plan.\n\n#### Details\n\nUsing [this Prometheus query](https://thanos.gitlab.net/graph?g0.expr=max(gitlab_ci_active_jobs_count)%20by%20(plan)\u0026g0.tab=0\u0026g0.stacked=0\u0026g0.range_input=4w\u0026g0.max_source_resolution=0s\u0026g0.deduplicate=1\u0026g0.partial_response=0\u0026g0.store_matches=%5B%5D) we can see the breakdown of the highest values of `gitlab_ci_active_jobs_count by plan`.\n\n#### Proposal\n\nWe may be able to pass this query to SREs. However, we need to investigate why the Prometheus query above shows values of active jobs count higher than the limit for Free plan (currently set to 400).\n\nAdding Logging the same job counts in Kibana, along side with `project_path`, `namespace_path`, `plan_name` would allow us to investigate on specific spikes.\n\n## Problem 2 -\u003e [MR merged](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/103491)\n\nSimilarly to **Problem 1** we need to be able to do the same for `ci_pipeline_size` limit. \n\n#### Details\n\nFor this limit, we don't have a breakdown `by plan` [for this Prometheus counter](https://gitlab.com/gitlab-org/gitlab/-/blob/d4ba95e9dfc4d87a6080ca82844da1880e765ad5/lib/gitlab/ci/pipeline/chain/command.rb#L120).\n\n#### Proposal\n\n- Record `plan:` value when logging the [Prometheus counter](https://gitlab.com/gitlab-org/gitlab/-/blob/d4ba95e9dfc4d87a6080ca82844da1880e765ad5/lib/gitlab/ci/pipeline/chain/command.rb#L120), as we do for [active jobs](https://gitlab.com/gitlab-org/gitlab/-/blob/d4ba95e9dfc4d87a6080ca82844da1880e765ad5/lib/gitlab/ci/pipeline/chain/command.rb#L127).\n- After that, check if the query of [pipeline size counts by plan](https://thanos.gitlab.net/graph?g0.expr=max(gitlab_ci_pipeline_size_builds_count)%20by%20(plan)\u0026g0.tab=0\u0026g0.stacked=0\u0026g0.range_input=4w\u0026g0.max_source_resolution=0s\u0026g0.deduplicate=1\u0026g0.partial_response=0\u0026g0.store_matches=%5B%5D) shows correct results. -\u003e Created [an issue](https://gitlab.com/gitlab-org/gitlab/-/issues/382502) for verification\n\nIf this is not sufficient for SREs to use in order to set accurate limits per plan we may need to log additional details in Kibana like described for **problem 1**.\n\n## Other details\n\nwe could have the [`@command.observe_jobs_count_in_alive_pipelines`](https://gitlab.com/gitlab-org/gitlab/-/blob/47b9390ac318542fb48caf0967fb678f1eff643c/lib/gitlab/ci/pipeline/chain/sequence.rb#L32) and `observe_pipeline_size` returning the count and we log it in Kibana at that point together with extra information.","state":"closed","created_at":"2022-03-22T14:55:10.893Z","updated_at":"2022-11-21T12:03:56.362Z","closed_at":"2022-11-15T08:33:04.736Z","closed_by":{"id":12517745,"username":"Kasia_Misirli","name":"Kasia Misirli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517745/avatar.png","web_url":"https://gitlab.com/Kasia_Misirli"},"labels":["Application Limits","Category:Continuous Integration","Deliverable","Eng-Inter-Dept::Rate Limits","Track Health Status","availability::limit","backend","devops::verify","group::pipeline execution","maintenance::refactor","pipeline processing","section::ops","severity::4","type::maintenance","workflow::in dev"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":12517745,"username":"Kasia_Misirli","name":"Kasia Misirli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517745/avatar.png","web_url":"https://gitlab.com/Kasia_Misirli"}],"author":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"type":"ISSUE","assignee":{"id":12517745,"username":"Kasia_Misirli","name":"Kasia Misirli","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12517745/avatar.png","web_url":"https://gitlab.com/Kasia_Misirli"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-11-11","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356570","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356570","notes":"https://gitlab.com/api/v4/projects/278964/issues/356570/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356570/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356570","relative":"#356570","full":"gitlab-org/gitlab#356570"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2037,"epic":{"id":13522,"iid":2037,"title":"Verify - application limits","url":"/groups/gitlab-org/-/epics/2037","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":105281058,"iid":356568,"project_id":278964,"title":"Remove Running and Pending tabs jobs table view","description":"### What\n\nOnce filtered search is showed to the users for the jobs view https://gitlab.com/gitlab-org/gitlab/-/issues/356007 remove the `Running` and `Pending` tabs from that view.\n\n\n### Why\n\nWe will have the ability to filter these scopes via the new filtered search feature. Having the tabs there and using filtered search can create some UX confusion due to combining of the tab scope and filtered scope.\n\n\n### Technical details\n\n- Clean up `app/assets/javascripts/jobs/components/table/jobs_table_tabs.vue`.","state":"closed","created_at":"2022-03-22T14:50:00.427Z","updated_at":"2022-04-07T14:37:20.801Z","closed_at":"2022-04-07T14:37:20.784Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["CI jobs","Category:Continuous Integration","devops::verify","frontend","group::pipeline execution","section::ops","type::feature","ux-foundations-needs-fe","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356568","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356568","notes":"https://gitlab.com/api/v4/projects/278964/issues/356568/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356568/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356568","relative":"#356568","full":"gitlab-org/gitlab#356568"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105275922,"iid":356562,"project_id":278964,"title":"Properly handle native imports","description":"## :fire: Problem\n\nIn [`ContainerRepository#reconcile_import_status`](https://gitlab.com/gitlab-org/gitlab/-/blob/a4332ceb24eb89291822a279a312c0425648d8e1/app/models/container_repository.rb#L288), we need to properly handle native imports.\n\n## :fire_engine: Solution\n\n* Don't raise an error\n* Mark the repository as done instead with:\n   * `migration_status: 'import_done'`\n   * 'migration_skip_reason: :native_import'","state":"closed","created_at":"2022-03-22T13:37:59.225Z","updated_at":"2022-04-08T11:44:41.591Z","closed_at":"2022-03-24T17:03:30.166Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Blocker","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356562","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356562","notes":"https://gitlab.com/api/v4/projects/278964/issues/356562/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356562/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356562","relative":"#356562","full":"gitlab-org/gitlab#356562"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105273062,"iid":356559,"project_id":278964,"title":"Release milestones dropdown improvements","description":"#### Problem\n\nThis is a follow up on #356410 \n\n#### Solution\nReplace `checkmark.png` with the corresponding icon from GitLab SVG Library.\n\n| Before | After |\n| ------ | ------ |\n| ![before](/uploads/a3b83b6e2fb1f36b439b489001f93a04/before.png) | ![after](/uploads/230894430286fa55715d4e352458861d/after.png) |","state":"closed","created_at":"2022-03-22T13:14:44.309Z","updated_at":"2022-03-28T11:43:25.811Z","closed_at":"2022-03-28T11:43:25.788Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["SUS::Impacting","UI polish","darkmode","devops::manage","frontend","group::compliance","maintenance::usability","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"}],"author":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"type":"ISSUE","assignee":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356559","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356559","notes":"https://gitlab.com/api/v4/projects/278964/issues/356559/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356559/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356559","relative":"#356559","full":"gitlab-org/gitlab#356559"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105264781,"iid":356509,"project_id":278964,"title":"Remove temporary index for backfilling PROJECT membership namespace IDs","description":"Related to !79204. We added a temporary index for batched background migration, we can remove this index when migration is done.","state":"closed","created_at":"2022-03-22T10:52:02.341Z","updated_at":"2022-08-21T12:02:06.957Z","closed_at":"2022-08-16T07:26:14.596Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Deliverable","auto updated","backend","devops::manage","group::organization","namespace","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356509","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356509","notes":"https://gitlab.com/api/v4/projects/278964/issues/356509/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356509/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356509","relative":"#356509","full":"gitlab-org/gitlab#356509"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7054,"epic":{"id":379658,"iid":7054,"title":"Consolidate Group and Project member management","url":"/groups/gitlab-org/-/epics/7054","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105256176,"iid":356500,"project_id":278964,"title":"GraphQL - Update DAST target profile mutations to return payload","description":"### Proposal\n\nThe ~GraphQL mutations for DAST Target Profiles need to return the complete `payload` in the response. This is to facilitate the auto-update of apollo cache used in the frontend.\n\nWith the redesign, the profile gets updated in the right panel (within drawer) and the left panel (On-demand scan) form should display the updated profile information.\n\n### Implementation\n\n- Update `ee/app/graphql/mutations/dast_site_profiles/update.rb` to return updated fields\n- Update `ee/app/graphql/mutations/dast_site_profiles/create.rb` to return updated fields","state":"closed","created_at":"2022-03-22T08:43:02.352Z","updated_at":"2022-04-11T03:34:19.458Z","closed_at":"2022-04-06T02:18:20.343Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356500","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356500","notes":"https://gitlab.com/api/v4/projects/278964/issues/356500/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356500/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356500","relative":"#356500","full":"gitlab-org/gitlab#356500"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7631,"epic":{"id":451408,"iid":7631,"title":"On-demand DAST configuration improvements","url":"/groups/gitlab-org/-/epics/7631","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105256104,"iid":356499,"project_id":278964,"title":"GraphQL - Update DAST scanner profile mutations to return payload","description":"### Proposal\n\nThe ~GraphQL mutations for DAST Scanner Profiles need to return the complete `payload` in the response. This is to facilitate the auto-update of apollo cache used in the frontend.\n\nWith the redesign, the profile gets updated in the right panel (within drawer) and the left panel (On-demand scan) form should display the updated profile information.\n\n### Implementation\n\n- Update `ee/app/graphql/mutations/dast_scanner_profiles/update.rb` to return updated fields\n- Update `ee/app/graphql/mutations/dast_scanner_profiles/create.rb` to return updated fields","state":"closed","created_at":"2022-03-22T08:42:04.526Z","updated_at":"2022-04-11T03:34:19.499Z","closed_at":"2022-04-05T10:17:03.073Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356499","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356499","notes":"https://gitlab.com/api/v4/projects/278964/issues/356499/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356499/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356499","relative":"#356499","full":"gitlab-org/gitlab#356499"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7631,"epic":{"id":451408,"iid":7631,"title":"On-demand DAST configuration improvements","url":"/groups/gitlab-org/-/epics/7631","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105245868,"iid":356486,"project_id":278964,"title":"License Compliance rework 'license approvals are active` into warning alert","description":"### Description\n\nNew issue created to discuss UX problems mentioned in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74143#note_734021746. \n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/fa38f841acb8f3640754a0a24f8458dd/image.png)\n\n## Change\n\n1. Move the text `License approvals are active` into a warning alert \n\n* The [docs](https://docs.gitlab.com/ee/user/compliance/license_compliance/index.html#enabling-license-approvals-within-a-project) this links to refers to the License-Check MR approval rule, which requires a merge request approval when the license compliance report contains a denied license. The way this is currently styled looks like a permanent part of the UI, rather than one that calls attention to a specific feature enabled in the project. This is important to call out in a warning alert because any changed or added policies will affect this MR approval.\n\n# Notes\n\n1. Approval component lives here: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/approvals/components/license_compliance/index.vue\n\n1. Approval component used within license compliance here: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_shared/license_compliance/license_management.vue#L100\n\n## Implementation Plan\n\n1. Extract out `license approvals are active` part of the vue component into a new `approvals_status.vue` component.\n\n1. Re-purpose gl-alert and insert via slot new `approvals_stus.vue` component. Here: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/license_compliance/components/app.vue#L106\n\n1. Update unit tests\n\n1. Manual Regression testing","state":"closed","created_at":"2022-03-22T04:25:56.982Z","updated_at":"2022-05-23T11:42:17.135Z","closed_at":"2022-05-18T07:14:47.150Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Enterprise Edition","GitLab Ultimate","UX","devops::secure","feature::enhancement","frontend","group::composition analysis","section::sec","type::feature","won't do","workflow::refinement"],"milestone":null,"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356486","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356486","notes":"https://gitlab.com/api/v4/projects/278964/issues/356486/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356486/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356486","relative":"#356486","full":"gitlab-org/gitlab#356486"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7773,"epic":{"id":477375,"iid":7773,"title":"UX improvements: License Compliance page","url":"/groups/gitlab-org/-/epics/7773","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105245110,"iid":356485,"project_id":278964,"title":"License Compliance page: Remove policy violation banner, add pill, and update description","description":"### Description\n\nNew issue created to discuss UX problems mentioned in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74143#note_734021746. \n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/fa38f841acb8f3640754a0a24f8458dd/image.png)\n\nIs this alert needed? I'm guessing this is to explain the violation shown in the table below it?:\n\n![Screen_Shot_2021-12-30_at_6.03.15_PM](https://gitlab.com/gitlab-org/gitlab/uploads/7320be983f5d733b66df98c99bcf6b20/Screen_Shot_2021-12-30_at_6.03.15_PM.png)\n\n## Changes\n\n**1. Remove the warning alert at the top of the page**\n\n**2. Change the page description when default tab is shown**\n\nfrom:\n\n\u003e Displays licenses detected in the project, based on the latest successful scan • 3 months ago \n\nto:\n\n\u003e Displays licenses detected in the project that are out of compliance with the project's policies, based on the latest successful scan • 3 months ago \n\n**3. Add a pill/ badge counter to the default tab**\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/b91798bb8b9a4ebb3b36fa7ad3939b78/Screen_Shot_2022-01-19_at_11.33.57_AM.png)\n\n## Implementation Plan for Second Proposal\n\n1. Remove `gl-alert` component from https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/license_compliance/components/app.vue#L106\n\n1. In https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/license_compliance/components/app.vue#L134 re-use `hasViolations` mappedGetter to conditionally provide `warning` badge variant prop. \n\n1. Update text copy in https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/license_compliance/components/pipeline_info.vue#L29\n\nSee:\n\nhttps://gitlab.com/gitlab-org/gitlab-ui/-/blob/main/src/utils/constants.js#L33\n\nhttps://gitlab.com/gitlab-org/gitlab-ui/-/blob/main/src/components/base/badge/badge.vue#L27\n\n1. Update unit tests","state":"closed","created_at":"2022-03-22T04:02:09.532Z","updated_at":"2022-04-18T07:03:10.506Z","closed_at":"2022-04-09T02:22:39.513Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Deliverable","UX","auto updated","automation:ml","devops::secure","feature::enhancement","frontend","group::composition analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356485","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356485","notes":"https://gitlab.com/api/v4/projects/278964/issues/356485/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356485/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356485","relative":"#356485","full":"gitlab-org/gitlab#356485"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7773,"epic":{"id":477375,"iid":7773,"title":"UX improvements: License Compliance page","url":"/groups/gitlab-org/-/epics/7773","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":105245097,"iid":356484,"project_id":278964,"title":"License Compliance text copy tweaks and icon styling","description":"### Description\n\nNew issue created to discuss UX text copy and styling problems mentioned in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74143#note_734021746. \n\n![image](https://gitlab.com/groups/gitlab-org/-/uploads/4d8cfa8ee9f70ab51f82e4e760457f8b/image.png)\n\n## Proposals\n\n**1. Change the `License Approvals` button copy to `Update approvers`**\n\nThe copy on the button `License Approvals` is too generic. Clicking it opens up a modal titled \"Update approvers\", so the button copy should match to set those expectations.\n\n**2. Change the solid blue question mark to an outlined icon**\n\nAccording to https://design.gitlab.com/usability/helping-users#formatting-help-content, we shouldn't be using the solid blue question mark icon anymore. This should change to the outlined question-o.svg icon in $blue-600 (#1068bf). Note: This needs to be changed on the Dependencies and Threat Monitoring pages as well.\n\n\n## Implementation Plan\n\n1. Change https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/approvals/components/license_compliance/index.vue#L59 to `Update approvers`\n\n1. Change https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/approvals/components/license_compliance/index.vue#L69 to `information-o`\n\n1. Change https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/dependencies/components/app.vue#L140 to `question-o`\n\n1. Change https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/threat_monitoring/components/app.vue#L57 to `question-o`\n\n1. Update unit tests\n\n1. Re-genearte i18n files\n\nSee: https://gitlab-org.gitlab.io/gitlab-svgs/?q=info","state":"closed","created_at":"2022-03-22T04:01:15.210Z","updated_at":"2022-04-18T07:03:10.716Z","closed_at":"2022-03-29T02:55:55.644Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Deliverable","UX","devops::secure","feature::enhancement","frontend","group::composition analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356484","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356484","notes":"https://gitlab.com/api/v4/projects/278964/issues/356484/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356484/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356484","relative":"#356484","full":"gitlab-org/gitlab#356484"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7773,"epic":{"id":477375,"iid":7773,"title":"UX improvements: License Compliance page","url":"/groups/gitlab-org/-/epics/7773","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":105238457,"iid":356468,"project_id":278964,"title":"[Feature flag] Rollout of `deployment_hooks_skip_worker`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/355903) on production,\nthat is currently behind the `deployment_hooks_skip_worker` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::integrations\" \n- Most appropriate slack channel to reach out to: `#g_ecosystem_integrations`\n- Best individual to reach out to: `@.luke`\n- PM: `@g.hickman` \n\n## Stakeholders\n\n- Name of a PM \n- The Support Team\n- The Delivery Team\n\n## Expectations\n\n### What are we expecting to happen?\n\nHopefully, to clarify somewhat where the cause of a customers problems are happening https://gitlab.com/gitlab-org/gitlab/-/issues/355903#note_882916767.\n\n### When is the feature viable?\n\nImmediately.\n\n### What might happen if this goes wrong?\n\nErrors in deployment webhooks.\n\n### What can we monitor to detect problems with this?\n\n- Sentry for `Deployments::HooksWorker`, and any errors related to deployments after the feature is enabled.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set deployment_hooks_skip_worker true --dev`\n    - [x] `/chatops run feature set deployment_hooks_skip_worker true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=\u003cCUSTOMER_PROJECT\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\nThis flag is for debugging and will not be rolled out globally.\n\n### Global rollout on production\n\nThis flag is for debugging and will not be rolled out globally.\n\n### (Optional) Release the feature with the feature flag\n\nThis flag is for debugging and will not be released.\n\n### Release the feature\n\nThis flag is for debugging and will not be released.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set deployment_hooks_skip_worker false\n```","state":"closed","created_at":"2022-03-21T23:08:09.584Z","updated_at":"2022-11-22T18:56:13.634Z","closed_at":"2022-06-21T02:26:11.286Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["backend","bug::transient","devops::manage","feature flag","group::integrations","missed:14.10","section::dev","type::bug","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356468","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":5},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356468","notes":"https://gitlab.com/api/v4/projects/278964/issues/356468/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356468/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356468","relative":"#356468","full":"gitlab-org/gitlab#356468"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105237455,"iid":356465,"project_id":278964,"title":"Remove support for the cluster image scanning analyzer","description":"### Proposal\n\n- [x] Ensure that users can scan container images running in production through the agent prior to starting this proposal.\n- [x] Remove official support for the cluster image scanner analyzer by removing mention of it from GitLab's documentation.\n- [x] Make https://gitlab.com/gitlab-org/security-products/analyzers/cluster-image-scanning read only by archiving it.\n- [x] Remove any other cluster analyzer scanning code in the main GitLab product.\n\n## Implementation plan\n\n- [x] ~backend Delete `lib/gitlab/ci/templates/Security/Cluster-Image-Scanning.gitlab-ci.yml` \n- [x] ~backend Remove `Security/Cluster-Image-Scanning.gitlab-ci.yml` from `lib/gitlab/ci/templates/Auto-DevOps.gitlab-ci.yml`\n- [x] ~backend Delete `ee/app/services/security/security_orchestration_policies/cluster_image_scanning_ci_variables_service.rb` and its consumers\n- [x] ~backend Remove `Security/Cluster-Image-Scanning` from `ee/app/services/security/security_orchestration_policies/ci_configuration_service.rb`\n- [x] ~documentation Update `doc/user/application_security/cluster_image_scanning/index.md` to remove analyzer specific content and update agent method of scanning production container images to be a general availability feature.\n- [x] Remove the project from [Engineering Projects](https://about.gitlab.com/handbook/engineering/projects/)","state":"closed","created_at":"2022-03-21T22:23:18.519Z","updated_at":"2022-12-29T03:08:59.014Z","closed_at":"2022-05-19T02:48:01.043Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Container Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::govern","group::security policies","maintenance::removal","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"},"user_notes_count":20,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356465","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":10},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356465","notes":"https://gitlab.com/api/v4/projects/278964/issues/356465/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356465/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356465","relative":"#356465","full":"gitlab-org/gitlab#356465"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6771,"epic":{"id":351102,"iid":6771,"title":"Simplify Cluster Image Scanning Setup","url":"/groups/gitlab-org/-/epics/6771","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105236734,"iid":356464,"project_id":278964,"title":"[Feature flag] purge_stale_security_findings","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [retention period for Security::Finding records](https://gitlab.com/gitlab-org/gitlab/-/issues/351524) on production,\nthat is currently behind the `purge_stale_security_findings` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::threat insights\" \n- Most appropriate slack channel to reach out to: `#g_secure_threat_insights`\n- Best individual to reach out to: @minac \n- PM: @matt_wilson \n- EM: @thiagocsf \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set purge_stale_security_findings true --dev`\n    - [x] `/chatops run feature set purge_stale_security_findings true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab purge_stale_security_findings true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss purge_stale_security_findings true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com purge_stale_security_findings true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org purge_stale_security_findings true`\n    - [ ] `/chatops run feature set --group=gitlab-com purge_stale_security_findings true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e purge_stale_security_findings true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set purge_stale_security_findings \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set purge_stale_security_findings \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set purge_stale_security_findings true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `purge_stale_security_findings`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `purge_stale_security_findings` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete purge_stale_security_findings --dev`\n    - [x] `/chatops run feature delete purge_stale_security_findings --staging`\n    - [x] `/chatops run feature delete purge_stale_security_findings`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set purge_stale_security_findings false\n```","state":"closed","created_at":"2022-03-21T21:51:08.391Z","updated_at":"2022-12-12T03:18:47.508Z","closed_at":"2022-12-08T08:00:28.202Z","closed_by":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"labels":["backend","devops::govern","feature flag","feature::addition","group::threat insights","missed:15.2","missed:15.3","missed:15.4","missed:15.5","missed:15.6","section::sec","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356464","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":14},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"14 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356464","notes":"https://gitlab.com/api/v4/projects/278964/issues/356464/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356464/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356464","relative":"#356464","full":"gitlab-org/gitlab#356464"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105235334,"iid":356457,"project_id":278964,"title":"Update DAST API/API Fuzzing templates to select FIPS container","description":"### Problem\n\nGitLab is moving quickly to become FIPS certified. As part of that, API Security is shipping a FIPS version of it's container image. The corresponding DAST API and API Fuzzing CI templates must be updated to correctly select a container image.","state":"closed","created_at":"2022-03-21T21:01:32.181Z","updated_at":"2022-04-07T18:00:51.487Z","closed_at":"2022-03-21T21:03:09.783Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","type::feature","workflow::scheduling"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356457","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356457","notes":"https://gitlab.com/api/v4/projects/278964/issues/356457/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356457/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356457","relative":"#356457","full":"gitlab-org/gitlab#356457"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105233937,"iid":356453,"project_id":278964,"title":"Check that `\u003cuser-avatar-list /\u003e` in `app/assets/javascripts/vue_merge_request_widget/components/approvals/approvals_summary.vue`  works properly with `GlAvatar`","description":"Check that `\u003cuser-avatar-list/\u003e` in `app/assets/javascripts/vue_merge_request_widget/components/approvals/approvals_summary.vue`  works properly with `GlAvatar`. The up-to-date migration strategy can be found in [the parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7767).","state":"closed","created_at":"2022-03-21T20:24:28.194Z","updated_at":"2022-11-22T18:56:14.890Z","closed_at":"2022-04-05T08:48:48.052Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["OKR","SUS::Impacting","component:avatar","devops::manage","frontend","group::compliance","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356453","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356453","notes":"https://gitlab.com/api/v4/projects/278964/issues/356453/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356453/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356453","relative":"#356453","full":"gitlab-org/gitlab#356453"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7767,"epic":{"id":477153,"iid":7767,"title":"Avatars \u003e Vue \u003e Use `GlAvatar` in `UserAvatarList` implementation","url":"/groups/gitlab-org/-/epics/7767","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105233935,"iid":356451,"project_id":278964,"title":"Check that `\u003cuser-avatar-list /\u003e` in `ee/app/assets/javascripts/approvals/components/mr_edit/mr_rules.vue`  works properly with `GlAvatar`","description":"Check that `\u003cuser-avatar-list/\u003e` in `ee/app/assets/javascripts/approvals/components/mr_edit/mr_rules.vue`  works properly with `GlAvatar`. The up-to-date migration strategy can be found in [the parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7767).","state":"closed","created_at":"2022-03-21T20:24:28.058Z","updated_at":"2022-11-22T18:56:15.588Z","closed_at":"2022-03-28T12:47:12.153Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["OKR","SUS::Impacting","component:avatar","devops::manage","frontend","group::compliance","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356451","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356451","notes":"https://gitlab.com/api/v4/projects/278964/issues/356451/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356451/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356451","relative":"#356451","full":"gitlab-org/gitlab#356451"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7767,"epic":{"id":477153,"iid":7767,"title":"Avatars \u003e Vue \u003e Use `GlAvatar` in `UserAvatarList` implementation","url":"/groups/gitlab-org/-/epics/7767","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105233936,"iid":356452,"project_id":278964,"title":"Check that `\u003cuser-avatar-list/\u003e` in `ee/app/assets/javascripts/vue_merge_request_widget/components/approvals/approvals_footer.vue`  works properly with `GlAvatar`","description":"Check that `\u003cuser-avatar-list/\u003e` in `ee/app/assets/javascripts/vue_merge_request_widget/components/approvals/approvals_footer.vue`  works properly with `GlAvatar`. The up-to-date migration strategy can be found in [the parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7767).","state":"closed","created_at":"2022-03-21T20:24:28.052Z","updated_at":"2022-11-22T18:56:16.163Z","closed_at":"2022-04-04T13:49:29.098Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["OKR","SUS::Impacting","component:avatar","devops::manage","frontend","group::compliance","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356452","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356452","notes":"https://gitlab.com/api/v4/projects/278964/issues/356452/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356452/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356452","relative":"#356452","full":"gitlab-org/gitlab#356452"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7767,"epic":{"id":477153,"iid":7767,"title":"Avatars \u003e Vue \u003e Use `GlAvatar` in `UserAvatarList` implementation","url":"/groups/gitlab-org/-/epics/7767","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105233933,"iid":356450,"project_id":278964,"title":"Check that `\u003cuser-avatar-list/\u003e` in `ee/app/assets/javascripts/approvals/components/project_settings/project_rules.vue`  works properly with `GlAvatar`","description":"Check that `\u003cuser-avatar-list/\u003e` in `ee/app/assets/javascripts/approvals/components/project_settings/project_rules.vue`  works properly with `GlAvatar`. The up-to-date migration strategy can be found in [the parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7767).","state":"closed","created_at":"2022-03-21T20:24:28.011Z","updated_at":"2022-11-22T18:56:16.958Z","closed_at":"2022-03-29T10:07:59.453Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["OKR","SUS::Impacting","component:avatar","devops::manage","frontend","group::compliance","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356450","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356450","notes":"https://gitlab.com/api/v4/projects/278964/issues/356450/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356450/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356450","relative":"#356450","full":"gitlab-org/gitlab#356450"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7767,"epic":{"id":477153,"iid":7767,"title":"Avatars \u003e Vue \u003e Use `GlAvatar` in `UserAvatarList` implementation","url":"/groups/gitlab-org/-/epics/7767","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105233932,"iid":356449,"project_id":278964,"title":"Check that `\u003cuser-avatar-list /\u003e` in `ee/app/assets/javascripts/vue_merge_request_widget/components/approvals/approvals_list.vue`  works properly with `GlAvatar`","description":"Check that `\u003cuser-avatar-list/\u003e` in `ee/app/assets/javascripts/vue_merge_request_widget/components/approvals/approvals_list.vue`  works properly with `GlAvatar`. The up-to-date migration strategy can be found in [the parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7767).","state":"closed","created_at":"2022-03-21T20:24:27.967Z","updated_at":"2022-11-22T18:56:17.697Z","closed_at":"2022-03-29T10:15:49.138Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["OKR","SUS::Impacting","component:avatar","devops::manage","frontend","group::compliance","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":4339707,"username":"ohoral","name":"Olena Horal-Koretska","state":"active","avatar_url":"https://secure.gravatar.com/avatar/42796a7332b4608eb9785986719e7215?s=80\u0026d=identicon","web_url":"https://gitlab.com/ohoral"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356449","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356449","notes":"https://gitlab.com/api/v4/projects/278964/issues/356449/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356449/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356449","relative":"#356449","full":"gitlab-org/gitlab#356449"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7767,"epic":{"id":477153,"iid":7767,"title":"Avatars \u003e Vue \u003e Use `GlAvatar` in `UserAvatarList` implementation","url":"/groups/gitlab-org/-/epics/7767","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105223943,"iid":356433,"project_id":278964,"title":"Fix Enqueuer capacity conflict with deduplication","description":"## Problem\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83091, we updated the Enqueuer from `deduplicate :until_executing` to `deduplicate :until_executed`. \n\nThe `EnqueuerWorker` does not take any args, so with this new deduplication setting, we have in essence nullified our ability to have more than one import happening at a time. Our feature flags controlling capacity no longer have an affect, and anytime the Enqueuer re-enqueues to reach capacity, those jobs are instantly deduplicated\n\nWe can see this [happening in the logs](https://nonprod-log.gitlab.net/goto/1dace040-a941-11ec-b3a6-472d0398dd6e). \n\n## Solution\n\nWe need a way to have multiple jobs in the queue but ensure that the same container repository does not get queued twice. We don't know which container repository we will be using until the worker starts, so we need an alternative method to make the jobs not look like duplicates.\n\n[A few ideas are raised](https://gitlab.com/gitlab-org/gitlab/-/issues/356433#note_883362909):\n\n1. Use an exclusive lease on the `#perform` method\n2. Pass a random unique arg to the worker (perhaps a UUID?) so that they are not deduplicated. This essentially overrides the deduplication, but that is what we want here. We want to control the capacity within the worker itself.","state":"closed","created_at":"2022-03-21T18:05:48.059Z","updated_at":"2022-04-08T11:44:14.881Z","closed_at":"2022-03-29T16:00:20.384Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Blocker","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","auto updated","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356433","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356433","notes":"https://gitlab.com/api/v4/projects/278964/issues/356433/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356433/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356433","relative":"#356433","full":"gitlab-org/gitlab#356433"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105223747,"iid":356432,"project_id":278964,"title":"Popover info showing for blocked users","description":"## Description\n\nNoticed on `.com` https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/18894#note_874794480 when looking at the @rkuba user.\n\nIs this expected behavior?\n\n| Popover | Profile |\n|------|-----|\n| ![popover](https://gitlab.com/gitlab-com/www-gitlab-com/uploads/77e573b345035a4ff7fb19d8290586f4/Bildschirmfoto_von_2022-03-15_09-36-47.png) | ![profile](https://gitlab.com/gitlab-com/www-gitlab-com/uploads/384c6bf18c36d53566946b462cfaab5d/grafik.png) |\n\ncc @winniehell\n\n### Proposal\nShow the `Blocked` status instead of all the normal data points.\n\n| live | update |\n| ------ | ------ |\n| ![Bildschirmfoto_von_2022-03-15_09-36-47](/uploads/270bf9d6c127b127b327f032d2fd1b74/Bildschirmfoto_von_2022-03-15_09-36-47.png) | ![Frame_1](/uploads/e10e184829343b76ccdb7df34750c55b/Frame_1.png) |","state":"closed","created_at":"2022-03-21T18:01:08.808Z","updated_at":"2022-09-21T12:02:18.598Z","closed_at":"2022-09-16T07:15:09.860Z","closed_by":{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz García","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"},"labels":["Category:Authentication and Authorization","Category:User Management","Deliverable","devops::manage","frontend","group::authentication and authorization","missed-SLO","missed-deliverable","missed:15.3","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz García","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":11004366,"username":"eduardosanz","name":"Eduardo Sanz García","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11004366/avatar.png","web_url":"https://gitlab.com/eduardosanz"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356432","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356432","notes":"https://gitlab.com/api/v4/projects/278964/issues/356432/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356432/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356432","relative":"#356432","full":"gitlab-org/gitlab#356432"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105223567,"iid":356431,"project_id":278964,"title":"ContainerRepositories are not reconciling from aborted to completed","description":"## Problem\n\nWe have a container repository in an `import_aborted` `migration_state`. It was aborted from the `default` state.\n\nThe Enqueuer is finding it as the [`next_aborted_repository`](https://gitlab.com/gitlab-org/gitlab/-/blob/f802d400feda59392e0638373273aad16590cca3/app/workers/container_registry/migration/enqueuer_worker.rb#L35) and retrying the migration. When the migration is retried, we [fetch the true import state](https://gitlab.com/gitlab-org/gitlab/-/blob/f802d400feda59392e0638373273aad16590cca3/app/models/container_repository.rb#L282) from the registry and [reconcile the rails state](https://gitlab.com/gitlab-org/gitlab/-/blob/f802d400feda59392e0638373273aad16590cca3/app/models/container_repository.rb#L288). \n\nFor this repository, we are [making this request](https://nonprod-log.gitlab.net/app/discover#/view/2ef6e7e0-a925-11ec-b3a6-472d0398dd6e?_g=(filters:!(('$state':(store:globalState),meta:(alias:!n,disabled:!t,index:pubsub-registry-inf-gstg,key:json.uri,negate:!f,params:(query:pslaughter%2Florem-ipsum-express%2Fdev),type:phrase),query:(match_phrase:(json.uri:pslaughter%2Florem-ipsum-express%2Fdev))),('$state':(store:globalState),meta:(alias:!n,disabled:!f,index:pubsub-registry-inf-gstg,key:json.uri,negate:!f,params:(query:%2Fgitlab%2Fv1%2Fimport%2Fpslaughter%2Florem-ipsum-express%2Fdev),type:phrase),query:(match_phrase:(json.uri:%2Fgitlab%2Fv1%2Fimport%2Fpslaughter%2Florem-ipsum-express%2Fdev)))),refreshInterval:(pause:!t,value:0),time:(from:now-7d%2Fd,to:now))\u0026_a=(columns:!(json.correlation_id,json.method,json.uri,json.status,json.msg,json.repository,json.pre_import,json.size,json.digest,json.media_type,json.level,json.error,json.duration_s),filters:!(('$state':(store:globalState),meta:(alias:!n,disabled:!t,index:pubsub-registry-inf-gstg,key:json.uri,negate:!f,params:(query:pslaughter%2Florem-ipsum-express%2Fdev),type:phrase),query:(match_phrase:(json.uri:pslaughter%2Florem-ipsum-express%2Fdev))),('$state':(store:globalState),meta:(alias:!n,disabled:!t,index:pubsub-registry-inf-gstg,key:json.uri,negate:!f,params:(query:%2Fgitlab%2Fv1%2Fimport%2Fbikebilly%2Fsimple-maven-dep%2Fmaster),type:phrase),query:(match_phrase:(json.uri:%2Fgitlab%2Fv1%2Fimport%2Fbikebilly%2Fsimple-maven-dep%2Fmaster))),('$state':(store:appState),meta:(alias:!n,disabled:!t,index:pubsub-registry-inf-gstg,key:json.correlation_id,negate:!f,params:(query:'01FY9JYFV7JT2PXB263PEATHAP'),type:phrase),query:(match_phrase:(json.correlation_id:'01FY9JYFV7JT2PXB263PEATHAP'))),('$state':(store:appState),meta:(alias:!n,disabled:!t,index:pubsub-registry-inf-gstg,key:json.uri,negate:!f,params:(query:%2Fgitlab%2Fv1%2Fimport%2F),type:phrase),query:(match_phrase:(json.uri:%2Fgitlab%2Fv1%2Fimport%2F))),('$state':(store:appState),meta:(alias:!n,disabled:!t,index:pubsub-registry-inf-gstg,key:json.correlation_id,negate:!f,params:(query:'01FYP4PYNNW933DDS2A24THAAT'),type:phrase),query:(match_phrase:(json.correlation_id:'01FYP4PYNNW933DDS2A24THAAT'))),('$state':(store:appState),meta:(alias:!n,disabled:!f,index:pubsub-registry-inf-gstg,key:json.correlation_id,negate:!f,params:(query:'01FYPBJNTZJ9HK3WBV7X2M3DMK'),type:phrase),query:(match_phrase:(json.correlation_id:'01FYPBJNTZJ9HK3WBV7X2M3DMK')))),grid:(),hideChart:!f,index:pubsub-registry-inf-gstg,interval:auto,query:(language:kuery,query:''),sort:!(!(json.time,asc)))), and the registry is responding with a 200 and a status of `'import_complete'`. This means rails should run `#finish_import` and update the repository to `import_done` state, but for some reason this is not happening.\n\n## Solution\n\nWe need to understand why rails is not correctly reconciling the migration state and updating from `import_aborted` to `import_done` upon receiving `import_complete` from the registry.\n\nMy initial thoughts are there may be a validation in the state machine that is too strict preventing the transition between the two migration states.","state":"closed","created_at":"2022-03-21T17:57:14.133Z","updated_at":"2022-03-28T14:00:07.600Z","closed_at":"2022-03-28T14:00:07.580Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","auto updated","backend","devops::package","group::package registry","ruby","section::ops","type::bug","workflow::blocked"],"milestone":null,"assignees":[],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356431","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356431","notes":"https://gitlab.com/api/v4/projects/278964/issues/356431/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356431/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356431","relative":"#356431","full":"gitlab-org/gitlab#356431"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105220166,"iid":356422,"project_id":278964,"title":"[Bug] Compliance violations clicking prev always returns to first page","description":"### Summary\n\nClicking `prev` on the compliance violations report always returns to the first page, no matter the current page.\n\n### Steps to reproduce\n\n1. Have a ~\"GitLab Ultimate\" license.\n1. Checkout the branch from this MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82989\n1. Follow the setup steps in the MR above.\n1. View the report at `[GDK_HOST]/groups/[GROUP]/-/security/compliance_dashboard`\n1. Click `Next` at least twice.\n1. Click `Prev`.\n\n### What is the expected *correct* behavior?\n\nClicking `Prev` should show the previous page results, not the first page unless you are on page 2.\n\n### Possible fixes\n\nThis is likely because the frontend adds `first: GRAPHQL_PAGE_SIZE` to the GraphQL query, changing this to `last: GRAPHQL_PAGE_SIZE` should resolve the issue.\n\n### Implementation plan\n\n~frontend - :one:\n\n1. Update the component `compliance_dashboard/components/report.vue`.\n1. Update the query `compliance_dashboard/graphql/compliance_violations.query.graphql`.\n1. Update specs to make sure it works.","state":"closed","created_at":"2022-03-21T16:40:09.919Z","updated_at":"2022-03-24T09:50:27.981Z","closed_at":"2022-03-24T09:50:27.961Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Enterprise Edition","GitLab Ultimate","devops::manage","feature flag","frontend","group::compliance","priority::1","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356422","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356422","notes":"https://gitlab.com/api/v4/projects/278964/issues/356422/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356422/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356422","relative":"#356422","full":"gitlab-org/gitlab#356422"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5237,"epic":{"id":184672,"iid":5237,"title":"Convert compliance dashboard into an insightful report","url":"/groups/gitlab-org/-/epics/5237","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105216233,"iid":356412,"project_id":278964,"title":"Backend: Set low urgency for API endpoints","description":"### Summary\n\nThrough investigation of the current slowness to our API endpoints, it was uncovered that we have several endpoints that are currently have a `default` urgency (1 second) set to them.  This is contributing to the `slow requests` error budgets for ~\"group::pipeline authoring\".\n\n![Screen_Shot_2022-03-18_at_1.39.27_PM](/uploads/5b0752d66c4ccf1dd56257e813761739/Screen_Shot_2022-03-18_at_1.39.27_PM.png)\n\n### Proposal\n\nSetting the below API endpoints' urgency to `low` (5 seconds) and evaluate how the error budget apdex looks like for slow requests.\n\n- [x] `POST /api/:version/ci/lint`  \n- [x] `GET /api/:version/projects/:id/pipelines/:pipeline_id/bridges`  \n- [x] `GET /api/:version/projects/:id/variables`","state":"closed","created_at":"2022-03-21T15:34:26.120Z","updated_at":"2022-04-15T13:55:13.917Z","closed_at":"2022-03-23T13:17:55.562Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Category:Error Budgets","Category:Pipeline Authoring","Error Budget Improvement","auto updated","backend","devops::verify","group::pipeline authoring","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356412","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356412","notes":"https://gitlab.com/api/v4/projects/278964/issues/356412/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356412/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356412","relative":"#356412","full":"gitlab-org/gitlab#356412"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7360,"epic":{"id":418350,"iid":7360,"title":"Investigate PA error budget","url":"/groups/gitlab-org/-/epics/7360","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":44760,"iid":55,"sequence":12,"group_id":9970,"title":"Pipeline Authoring: March 21, 2022 - April 3, 2022","description":"Target milestone `14.10`","state":3,"created_at":"2022-01-09T00:05:02.621Z","updated_at":"2022-04-04T00:05:02.153Z","start_date":"2022-03-21","due_date":"2022-04-03","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/44760"},"health_status":null},{"id":105214128,"iid":356410,"project_id":278964,"title":"Fix labels selection darkmode","description":"#### Problem\n\nContrast is too low for the checkmark icon in darkmode for selected labels in dropdown.\n\n### Solution\nUpadting the [check icon](https://gitlab-org.gitlab.io/gitlab-svgs/?q=check) from the SVG Library and making sure that it is readable in darkmode.\n\n| Mode | Before | After |\n| ------ | ------ | ------ |\n| Darkmode | ![before](/uploads/424d262a256bf5c7d124bbc5d5e4b454/before.png) | ![after](/uploads/71f16d39366918a94742367c83459f30/after.png) |\n| Lightmode | ![lightmode_before](/uploads/3bc2628e914372df351e531be792ce2d/lightmode_before.png) | ![lightmode_after](/uploads/287ef97a0210f2e945e46afe8b508015/lightmode_after.png) |","state":"closed","created_at":"2022-03-21T15:04:03.637Z","updated_at":"2022-03-28T09:51:38.544Z","closed_at":"2022-03-28T09:50:08.124Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["SUS::Impacting","UI polish","UX","darkmode","devops::manage","frontend","group::compliance","labels","maintenance::usability","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"}],"author":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"type":"ISSUE","assignee":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356410","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356410","notes":"https://gitlab.com/api/v4/projects/278964/issues/356410/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356410/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356410","relative":"#356410","full":"gitlab-org/gitlab#356410"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105213561,"iid":356408,"project_id":278964,"title":"[Bug] Compliance violations pagination doesn't show expected results","description":"### Summary\n\nWhen sorting on the compliance violations report the pagination results aren't as expected. For example `MERGED_AT_ASC` returns results in the order of `1 day ago`, `2 weeks ago` and then `1 week ago` on the next page.\n\n### Steps to reproduce\n\n1. Have a ~\"GitLab Ultimate\" license.\n1. Checkout the branch from this MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82989\n1. Follow the setup steps in the MR above.\n1. View the report at `[GDK_HOST]/groups/[GROUP]/-/security/compliance_dashboard`\n1. Sort by `Merged at` and go to the next page and observe the results.\n1. Repeat the last step.\n\n### What is the expected *correct* behavior?\n\nThe results should be ordered as expected. For example `1 day ago`, `1 week ago` and `2 weeks ago`.\n\n### Possible fixes\n\nDue to how our [keyset pagination works](https://docs.gitlab.com/ee/development/graphql_guide/pagination.html#gotchas) we need to update the resolver to use offset pagination for merge request title and merged at sorting.\n\n### Implementation plan\n\n~backend - :two: \n\n1. Update http://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/graphql/resolvers/compliance_management/merge_requests/compliance_violation_resolver.rb to fallback to offset pagination for certain sort options just like http://gitlab.com/gitlab-org/gitlab/blob/8b37e5107af85fc234ab8644bc98587b1cd94ef3/app/graphql/resolvers/base_issues_resolver.rb#L25-25.\n2. Update specs to make sure it works.","state":"closed","created_at":"2022-03-21T14:55:07.875Z","updated_at":"2022-03-24T13:15:18.504Z","closed_at":"2022-03-24T13:15:18.483Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["backend","devops::manage","group::compliance","priority::1","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356408","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356408","notes":"https://gitlab.com/api/v4/projects/278964/issues/356408/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356408/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356408","relative":"#356408","full":"gitlab-org/gitlab#356408"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5237,"epic":{"id":184672,"iid":5237,"title":"Convert compliance dashboard into an insightful report","url":"/groups/gitlab-org/-/epics/5237","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105212952,"iid":356405,"project_id":278964,"title":"Spike: Top non performing queries in VersionApp","description":"Related issue https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6660\n\nInvestigate and list top non-performing SQL queries in VersionApp\n\nLogs: https://console.cloud.google.com/logs/query;cursorTimestamp=2022-03-21T14:50:09.925165314Z?project=gs-production-efd5e8\u0026query=%0A\n\nIf you don't have access to logs, please open an AR for the Google console. Example https://gitlab.com/gitlab-com/team-member-epics/access-requests/-/issues/11896\n\n## Outcome\n\nInvestigation completed and created a new [epic](https://gitlab.com/groups/gitlab-org/-/epics/7962) to optimize the non performing queries","state":"closed","created_at":"2022-03-21T14:47:14.018Z","updated_at":"2022-07-05T11:58:13.805Z","closed_at":"2022-05-02T11:08:48.136Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["PI System Reliability and Monitoring","auto updated","backend","corrective action","devops::growth","group::product intelligence","quad-planning::complete-no-action","section::growth","spike","type::maintenance","workflow::ready for development"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356405","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356405","notes":"https://gitlab.com/api/v4/projects/278964/issues/356405/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356405/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356405","relative":"#356405","full":"gitlab-org/gitlab#356405"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105211366,"iid":356404,"project_id":278964,"title":"Fix the unique index constraint index_hosts_on_url_unique in hosts table in VersionApp","description":"Related https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6660\n\n`index_hosts_on_url_unique ` index was invalid.\n\nWe tried to recreated but we get an error\n\n```\ndefault=\u003e CREATE UNIQUE INDEX CONCURRENTLY index_hosts_on_url_unique ON hosts (url);\nERROR:  could not create unique index \"index_hosts_on_url_unique\"\nDETAIL:  Key (url)=(10.10.20.78) is duplicated.\nCONTEXT:  parallel worker\n```\n\nFix the broken unique constraint.\n\n## Issue Status\n\nNoting that this issue is currently blocked by feedback requested [here](https://gitlab.com/gitlab-org/gitlab/-/issues/356404#note_1067115260), more information in [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/356404#note_1067122941).","state":"closed","created_at":"2022-03-21T14:26:21.715Z","updated_at":"2022-08-18T14:33:15.812Z","closed_at":"2022-08-18T10:11:44.939Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["Category:Service Ping","PI System Reliability and Monitoring","auto updated","backend","corrective action","devops::analytics","group::product intelligence","missed:15.2","priority::2","section::analytics","severity::3","type::bug","wontfix","workflow::blocked"],"milestone":null,"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356404","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356404","notes":"https://gitlab.com/api/v4/projects/278964/issues/356404/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356404/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356404","relative":"#356404","full":"gitlab-org/gitlab#356404"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105208681,"iid":356401,"project_id":278964,"title":"Container Registry Migration: Update the `abort_migration` event","description":"## :fire: Problem\n\nCurrently, when a image repository migration is aborted, its `migration_retries_count` is bumped as expected.\n\nThe problem is that aborted repository migrations should be retried by the Enqueuer to a certain count (`ContainerRegistry::Migration.max_retries`).\n\n## :fire_engine: Solution\n\nUpdate the `abort_import` event so that:\n* The image repository goes to a aborted migration state.\n* If `migration_retries_count` \u003e `ContainerRegistry::Migration.max_retries`, skip the migration with `skip_reason: :too_many_retries`","state":"closed","created_at":"2022-03-21T13:44:45.530Z","updated_at":"2022-04-08T11:45:42.865Z","closed_at":"2022-03-25T16:09:30.283Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Blocker","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356401","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356401","notes":"https://gitlab.com/api/v4/projects/278964/issues/356401/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356401/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356401","relative":"#356401","full":"gitlab-org/gitlab#356401"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105207639,"iid":356400,"project_id":278964,"title":"Create migration for index added directly in VersionApp production database for code parity","description":"Related issue https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6660#note_881813669\n\nCreate a (CREATE IF NOT EXISTS) migration for this index, for code parity with the production schema.\n\nThis index was created in the production database\n\n```\nCREATE INDEX CONCURRENTLY index_hosts_on_url ON hosts (url);\n```","state":"closed","created_at":"2022-03-21T13:29:36.257Z","updated_at":"2022-04-04T08:07:40.316Z","closed_at":"2022-03-31T09:15:13.248Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["Category:Service Ping","Unplanned","auto updated","backend","corrective action","devops::growth","group::product intelligence","priority::1","section::growth","severity::2","type::maintenance","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356400","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356400","notes":"https://gitlab.com/api/v4/projects/278964/issues/356400/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356400/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356400","relative":"#356400","full":"gitlab-org/gitlab#356400"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105202054,"iid":356389,"project_id":278964,"title":"[Bug] Compliance violations merged_before/merged_after filters excluding the filter dates","description":"## Problem to solve\n\nThe current implementation of the compliance violations GraphQL endpoint has filters to filter before or after a specific merged date. This should include the date being filtered but does not.\n\n## Solution\n\nThe finder is doing a `\u003c=` or `\u003e=` comparison but it is comparing a date string against a datetime column `merged_at`. This means that the date string is converted to `YYYY-MM-DD 00:00:00` which will exclude most of the same-date violations. We should update the queries so they compare the date string against a true date.\n\n## Implementation plan\n\n1. Update http://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/models/merge_requests/compliance_violation.rb#L21-22 to use `DATE()`\n2. Update specs","state":"closed","created_at":"2022-03-21T12:01:49.038Z","updated_at":"2022-03-30T09:27:49.371Z","closed_at":"2022-03-30T09:27:49.355Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Enterprise Edition","GitLab Ultimate","GraphQL","backend","devops::manage","group::compliance","priority::1","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356389","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356389","notes":"https://gitlab.com/api/v4/projects/278964/issues/356389/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356389/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356389","relative":"#356389","full":"gitlab-org/gitlab#356389"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5237,"epic":{"id":184672,"iid":5237,"title":"Convert compliance dashboard into an insightful report","url":"/groups/gitlab-org/-/epics/5237","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105195062,"iid":356377,"project_id":278964,"title":"Backfill data for the new DORA Time to restore service metric","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\nData backfill is needed for the new [project-level DORA key metric API](https://docs.gitlab.com/ee/api/dora/metrics.html) to improve the quality of answers and insights users receive from GitLab Analytics.\n\nThis relates to https://gitlab.com/gitlab-org/gitlab/-/issues/299096#note_875564943\n\n\n### Problem to solve\n\n\n1. If we add a new tile with no data, users may be confused. \n2. Users can't identify trends / anomalies without historical data. \n\n\n### Proposal\n\n1. Adding Backfill for [time_to_restore_service](https://gitlab.com/gitlab-org/gitlab/-/issues/299096). \n2. Backfill can start from beginning of 2022. \n1. ~\"GitLab Ultimate\" only projects.\n2. Consider performance vs data to ensure smooth page usability. \n\n### Intended users\n\n* [Dakota - Application development director](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director) \n* [Parker - Product Manager](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney - Development Team Lead](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Rachel - Release Manager](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-03-21T10:10:04.746Z","updated_at":"2022-08-25T23:27:01.867Z","closed_at":"2022-05-11T11:44:08.209Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Deliverable","GitLab Ultimate","backend","devops::manage","direction","group::optimize","priority::3","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":10879254,"username":"hsnir1","name":"Haim Snir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10879254/avatar.png","web_url":"https://gitlab.com/hsnir1"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356377","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356377","notes":"https://gitlab.com/api/v4/projects/278964/issues/356377/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356377/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356377","relative":"#356377","full":"gitlab-org/gitlab#356377"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105189871,"iid":356371,"project_id":278964,"title":"Handle 404 on pre-import API calls","description":"## :fire: Problem\n\nWhen we call the Container Registry API to start the pre-import, we could end up in a situation where the image repository exists on the rails backend but not on the container registry. There are a few reasons why a repository may exist on Rails but not on the registry:\n\n1. A user requested an auth token for the repository (which is when records are created on the Rails side) but never pushed anything to it (so it wasn't created on the registry side);\n1. All repository data has been deleted on the registry (without using the \"delete repository\" operation on the Rails side).\n\nIn those cases, a `404` will be raised.\n\nCurrently, in rails, a `404` will not be [handled](https://gitlab.com/gitlab-org/gitlab/-/blob/98537f1b5502d2d7e6b821db81df6c7b899262de/app/models/container_repository.rb#L313) properly: the related migration will get aborted.\n\n## :fire_engine: Solution\n\n* Handle the possible `404` from the pre-import API call\n   * Bonus: handle it for the import API call too. Although, this case should not happen (the pre-import call went well but the import call is `404`)\n* Skip the migration with `skip_reason: :not_found`","state":"closed","created_at":"2022-03-21T08:48:47.497Z","updated_at":"2022-04-08T11:46:32.783Z","closed_at":"2022-03-25T16:08:48.552Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Blocker","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":8,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356371","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356371","notes":"https://gitlab.com/api/v4/projects/278964/issues/356371/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356371/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356371","relative":"#356371","full":"gitlab-org/gitlab#356371"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105187021,"iid":356368,"project_id":278964,"title":"[Engineering] Add integrate GitLab with Test Flight to email campaigns (when is_creating_ios_app is true)","description":"# Problem\nWhen we know a project is building an iOS application, we should inform them of the best ways that they can get value from the GitLab platform.\n\n# Proposal\nWhen we know that a user is building an IOS application we should update the first time experience to guide them through set up for what is needed in order to deploy onto IOS. As soon as we know that `is_creating_ios_app = true` we should send an email suggesting that the user follow these instructions: https://about.gitlab.com/blog/2019/03/06/ios-publishing-with-gitlab-and-fastlane/\n\nPotentially we could like directly to this video to show the benefits: https://www.youtube.com/watch?v=325FyJt7ZG8\n\n# Test\n\nGroup: 50% of projects with `is_creating_ios_app = true`\nMetrics:\n\n1. Verify usage rate\n2. Conversion rate\n3. User invitation rate\n\n\n# Proposed Email\n\n**Header:** Building for iOS? We’ve got you covered.\n\n**Body Copy:** Want to get your iOS app up and running, including publishing all the way to TestFlight? Follow our guide to set up GitLab and fastlane to publish iOS apps to the App Store.\n\n**Main CTA:** [Learn how to build for iOS](https://about.gitlab.com/blog/2019/03/06/ios-publishing-with-gitlab-and-fastlane/)\n\n**Secondary CTA:** [Watch iOS building in action](https://www.youtube.com/watch?v=325FyJt7ZG8).\n\n![Screen_Shot_2022-01-27_at_9.07.55_AM](/uploads/cfca623b486f6d1df0c7871092575f5b/Screen_Shot_2022-01-27_at_9.07.55_AM.png)\n\n#### [Design File](https://www.figma.com/file/7ympN5LNlFuh26TURhkXzh/Add-is_creating_ios_app-to-project-profile?node-id=2%3A50)","state":"closed","created_at":"2022-03-21T07:56:26.096Z","updated_at":"2022-06-08T23:17:16.911Z","closed_at":"2022-06-08T23:17:16.883Z","closed_by":{"id":9670031,"username":"eugielimpin","name":"Eugie Limpin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9670031/avatar.png","web_url":"https://gitlab.com/eugielimpin"},"labels":["auto updated","devops::growth","group::activation","missed:14.10","missed:15.0","section::growth","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9670031,"username":"eugielimpin","name":"Eugie Limpin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9670031/avatar.png","web_url":"https://gitlab.com/eugielimpin"}],"author":{"id":9670031,"username":"eugielimpin","name":"Eugie Limpin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9670031/avatar.png","web_url":"https://gitlab.com/eugielimpin"},"type":"ISSUE","assignee":{"id":9670031,"username":"eugielimpin","name":"Eugie Limpin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9670031/avatar.png","web_url":"https://gitlab.com/eugielimpin"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356368","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356368","notes":"https://gitlab.com/api/v4/projects/278964/issues/356368/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356368/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356368","relative":"#356368","full":"gitlab-org/gitlab#356368"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105183965,"iid":356366,"project_id":278964,"title":"Rename policies for security orchestration policies","description":"The following discussion from !83191 should be addressed:\n\n- [ ] @bwill started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83191#note_880439577):  (+1 comment)\n\n    \u003e I see that we are copying the policy naming for the project policy here, but can we create an issue to re-name this? Since it's a permission check, I think it really needs to have a verb in order to make it clear what kind of actions it is allowing:\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e         enable :read_security_orchestration_policies\n    \u003e ```\n\n## Implementation plan\n\n1. Rename `:security_orchestration_policies` to `:read_security_orchestration_policies` in `ee/app/policies/ee/project_policy.rb`\n1. Rename `:security_orchestration_policies` to `:read_security_orchestration_policies` in `ee/app/policies/ee/group_policy.rb`\n1. Update all references to use the new name (`can?`, `Ability.allowed?`, `authorize`)","state":"closed","created_at":"2022-03-21T07:02:39.491Z","updated_at":"2022-03-28T17:39:19.859Z","closed_at":"2022-03-28T17:39:19.837Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Security Policy Management","backend","devops::govern","feature::addition","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356366","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356366","notes":"https://gitlab.com/api/v4/projects/278964/issues/356366/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356366/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356366","relative":"#356366","full":"gitlab-org/gitlab#356366"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4425,"epic":{"id":114110,"iid":4425,"title":"Group Level Policy Management","url":"/groups/gitlab-org/-/epics/4425","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105182696,"iid":356364,"project_id":278964,"title":"Restore lost GL for Jira app data from incident","description":"This is a follow-up to https://gitlab.com/gitlab-org/gitlab/-/issues/344936 and https://gitlab.com/gitlab-org/gitlab/-/issues/355806 where we fixed a problem that rendered the GitLab for Jira app unusable for some users. The issue started on 2022-03-10 and was resolved on 2022-03-19. During this time, data could not be sent to Jira.\n\n## Idea to restore the data\n\n1. Find all `Invalid JWT` logs from `json.integration: JiraConnect`: https://log.gprd.gitlab.net/goto/c59efda0-a8de-11ec-bd7b-c108343628c3\n1. Fetch `json.correlation_id`.\n1. Find the related Sidekiq worker job ([example](https://log.gprd.gitlab.net/goto/e31e1b90-a8de-11ec-bcd1-aba7259b6bf1)).\n1. Fetch `json.args`.\n1. Run the job again with same arguments.\n\n### Open questions\n\n- Logs can be downloaded as CSV. This can help in 2. to fetch the correlation ids, but how can we automate finding the related sidekq jobs?\n- Once we have the worker arguments, do we need to update `sequence_id` (the second argument) in order to have Jira pick up the data? The attribute is described like this:\n\n  ![Screenshot_2022-03-21_at_07.32.10](/uploads/b65c653215ee65ef81ec4715cd467f66/Screenshot_2022-03-21_at_07.32.10.png)\n- How can we trigger the workers again?","state":"closed","created_at":"2022-03-21T06:34:27.186Z","updated_at":"2022-11-22T18:56:19.039Z","closed_at":"2022-08-09T05:13:59.439Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["Deliverable","Integration::Jira","Jira::ConnectApp","backend","devops::manage","group::integrations","missed-deliverable","missed:15.0","missed:15.1","section::dev","type::bug","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"}],"author":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":14,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356364","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356364","notes":"https://gitlab.com/api/v4/projects/278964/issues/356364/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356364/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356364","relative":"#356364","full":"gitlab-org/gitlab#356364"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105179551,"iid":356361,"project_id":278964,"title":"GitLab for Jira app: add ability for self-managed users to configure their GitLab instance URL","description":"Originally discussed in the parent epic, particularly https://gitlab.com/groups/gitlab-org/-/epics/5650#note_847058069.\n\n### Set up steps for self-managed users\n\n1. User chooses GitLab version (`.com` vs. `self-managed`)\n1. User chooses `self-managed` (*At this point, should we provide additional information around how to create the System OAuth application?*)\n1. User is prompted to input `self-managed` instance URL\n1. User is prompted to sign in to GitLab (would this be `.com` or `self-managed` or `both`?)\n\n| step 1 | step 4 |\n| --- | --- |\n| ![](https://gitlab.com/groups/gitlab-org/-/uploads/3f27be58287a7dea62cca35e3a608662/choose-version-self-managed-2.png) | ![](https://gitlab.com/groups/gitlab-org/-/uploads/66e0bf675e3d16cefb6047950e7ba8cd/self-managed-not-signed-in.png) |\n\n### Remaining effort\n\nRemaining effort for %\"15.1\": ~\"frontend-weight::1\"","state":"closed","created_at":"2022-03-21T04:58:43.100Z","updated_at":"2022-11-22T18:56:20.100Z","closed_at":"2022-09-15T08:51:22.517Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Deliverable","Integration::Jira","devops::manage","feature flag","feature::addition","frontend","group::integrations","missed-deliverable","missed:15.2","missed:15.3","section::dev","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":50,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356361","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356361","notes":"https://gitlab.com/api/v4/projects/278964/issues/356361/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356361/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356361","relative":"#356361","full":"gitlab-org/gitlab#356361"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":105176763,"iid":356357,"project_id":278964,"title":"Minimal Access role missing from Invite Members dialogue box","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe Minimal Access role is missing from the modal dialogue box that appears when you click Invite Users from the Group Members page.\n\nThis is a change from before the recent redesign. Before the redesign (when Invite Users was embedded on the Group Members page) you could choose Minimal Access as one of the roles, but this option is not available in the new dialogue box.\n\nNote that you can still change someone's access to Minimal Access on the Group Members page after the user has been invited. This has been my workaround.\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. As Owner of a group, navigate to the group page\n2. Project Information \u003e Members (gets you to the Group Members page)\n3. Click Invite Members (brings up the Invite Members modal dialogue box)\n4. Try to find Minimal Access in the drop down list beneath the label \"select a role\"\n\n### What is the current *bug* behavior?\n\nMinimal Access is not in the \"select a role\" drop-down list.\n\n### What is the expected *correct* behavior?\n\nMinimal Access should be an option in the \"select a role\" drop-down list.\n\n### Output of checks\n\nThis bug happens on GitLab.com.","state":"closed","created_at":"2022-03-21T02:47:15.131Z","updated_at":"2022-07-19T14:09:39.398Z","closed_at":"2022-07-19T14:09:20.782Z","closed_by":{"id":9425173,"username":"hsutor","name":"Hannah Sutor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9425173/avatar.png","web_url":"https://gitlab.com/hsutor"},"labels":["Category:Authentication and Authorization","Stretch","[deprecated] Accepting merge requests","approaching-SLO","automation:ml","candidate::15.2","devops::manage","frontend","group::authentication and authorization","priority::4","section::dev","severity::4","type::bug","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":6569024,"username":"bamoh","name":"Ben Arnold","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2baa672ff5beb2857ba98c1de4f1ea66?s=80\u0026d=identicon","web_url":"https://gitlab.com/bamoh"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356357","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356357","notes":"https://gitlab.com/api/v4/projects/278964/issues/356357/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356357/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356357","relative":"#356357","full":"gitlab-org/gitlab#356357"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105167656,"iid":356347,"project_id":278964,"title":"[License Compliance MR Widget Extension] - Frontend - Specify `for the source branch only` header messaging","description":"## Description\n\nConditionally add text `for source branch only` if existing licenses are detected in the base branch\n\n## Current iteration of License MR widget extension\n![Screen_Shot_2022-03-16_at_12.01.40_AM](/uploads/b3f4493d45ba6faa99dc56e74bac1ab9/Screen_Shot_2022-03-16_at_12.01.40_AM.png)\n\n## What we need to add to the current iteration from the legacy component\n\n![license_compliance_v13_0_base_branch](/uploads/f7abe613307c280b514747b35a13cca6/license_compliance_v13_0_base_branch.png)\n\n## Implementation Plan\n\n- In `ee/app/assets/javascripts/vue_merge_request_widget/extensions/license_compliance/index.js` update the `summary` logic to show the `for source branch only` text.\n\n- Update unit tests\n\n## Testing\n\nFrontend engineer will update the unit tests to check for this text. In accordance with shift left, no E2E/system test update https://docs.gitlab.com/ee/development/testing_guide/testing_levels.html#consider-not-writing-a-system-test","state":"closed","created_at":"2022-03-20T21:14:27.214Z","updated_at":"2022-05-24T12:04:34.910Z","closed_at":"2022-05-10T06:47:31.902Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","UX","auto updated","devops::secure","frontend","group::composition analysis","merge request widget","quad-planning::complete-no-action","section::sec","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356347","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356347","notes":"https://gitlab.com/api/v4/projects/278964/issues/356347/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356347/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356347","relative":"#356347","full":"gitlab-org/gitlab#356347"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7763,"epic":{"id":476528,"iid":7763,"title":"[MR Widget Eng] - License Compliance MR widget extension migration feature parity with legacy widget","url":"/groups/gitlab-org/-/epics/7763","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":105165524,"iid":356341,"project_id":278964,"title":"[License Compliance MR Widget Extension] - Frontend - Implement missing MR widget link buttons to reports and manage licenses page by consuming MR widget extension API","description":"## Description\n\nThe current MR Widget extension spec does not support adding buttons in the header. Adding support to the core extension framework will be tracked in a separate issue and will be marked as blocking this issue.\n\nThis issue covers the work to consume the the MR Widget Extension API and add the needed buttons. \n\n## Note\nWe may end up closing this issue if the ~\"WorkingGroup::MergeRequestReportWidgets\" decides not to support additional buttons in the Widget header\n\n## Implementation Plan\n\n- Blocked, and TBD based on IF and HOW the API is implemented in the core widget extension\n\n## What we have\n![Screen_Shot_2022-03-16_at_12.01.40_AM](/uploads/8ccba661b77cddcf56c770d752502d1a/Screen_Shot_2022-03-16_at_12.01.40_AM.png)\n\n## What we would implement\n![license_compliance_v13_0_buttons](/uploads/3cd443b836af9badfd71ce8178b11d15/license_compliance_v13_0_buttons.png)\n\n## Implementation Plan\n\n\n\n\nWe need to pass the report paths down from the ~backend. \n\n- [ ] In https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/stores/mr_widget_store.js#L35 add `this.manageLicensesPath` and `this.licensesFullReportPath`\n\n- [ ] Add paths as props to https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_merge_request_widget/extensions/license_compliance/index.js#L23\n\n\n- [ ] In `ee/app/assets/javascripts/vue_merge_request_widget/extensions/license_compliance/index.js` update the config to add buttons. Something like:\n\n```\n    tertiaryButtons() {\n      return [{\n        text: 'Manage Licenses',\n        href: this.manageLicensePath,\n        target: '_blank', // Optional\n      },{\n        text: 'Full Report',\n        href: this.licensesFullReportPath,\n        target: '_blank', // Optional\n      }]\n    }\n```\n-  [ ] In ~backend add to https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/serializers/ee/merge_request_poll_cached_widget_entity.rb#L16\n\n```\n  expose :manage_liceses_path do |merge_request|\n    if merge_request.has_license_scanning_reports?\n      \u003cmanage_licenses_path\u003e(merge_request.project, merge_request, format: :json)\n    end\n  end\n\n  expose :licenses_full_report_path do |merge_request|\n    if merge_request.has_license_scanning_reports??\n      \u003clicenses_full_report_path\u003e(merge_request.project, merge_request, format: :json)\n    end\n  end\n```\n\n## Testing\n\nSET to update License Compliance MR Widget E2E UI test","state":"closed","created_at":"2022-03-20T19:53:47.621Z","updated_at":"2022-05-18T22:17:45.836Z","closed_at":"2022-05-18T22:17:45.819Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Enterprise Edition","GitLab Ultimate","Stretch","UX","auto updated","backend","devops::secure","frontend","group::composition analysis","merge request widget","quad-planning::complete-action","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356341","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356341","notes":"https://gitlab.com/api/v4/projects/278964/issues/356341/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356341/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356341","relative":"#356341","full":"gitlab-org/gitlab#356341"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7763,"epic":{"id":476528,"iid":7763,"title":"[MR Widget Eng] - License Compliance MR widget extension migration feature parity with legacy widget","url":"/groups/gitlab-org/-/epics/7763","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105165432,"iid":356337,"project_id":278964,"title":"[License Compliance Widget Extension] - Frontend - Implement uncollapsable state by consuming MR widget extension API","description":"Implement for License Compliance MR widget extension the ability to show an uncollapsible state\n\n## Current Implementation\n![Screen_Shot_2022-03-14_at_6.24.01_PM](/uploads/bd050e43c12bd2fbeeb5add65502b113/Screen_Shot_2022-03-14_at_6.24.01_PM.png)\n\n## Desired\nSame design without the chevron when we have no new licenses.\n\n## Implementation Plan\n\nBased off the implementation in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83205\n\nImplement a function like:\n\n1. In: ee/app/assets/javascripts/vue_merge_request_widget/extensions/metrics/index.js\n\n```\nshouldCollapse(){\n return this.newLicenses() \u003e 0\n}\n```\n\n1. Update unit tests","state":"closed","created_at":"2022-03-20T19:49:13.182Z","updated_at":"2022-06-21T12:06:43.215Z","closed_at":"2022-06-06T20:35:59.328Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Deliverable","GitLab Ultimate","UX","auto updated","devops::secure","frontend","group::composition analysis","merge request widget","section::sec","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356337","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356337","notes":"https://gitlab.com/api/v4/projects/278964/issues/356337/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356337/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356337","relative":"#356337","full":"gitlab-org/gitlab#356337"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7763,"epic":{"id":476528,"iid":7763,"title":"[MR Widget Eng] - License Compliance MR widget extension migration feature parity with legacy widget","url":"/groups/gitlab-org/-/epics/7763","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":105165345,"iid":356336,"project_id":278964,"title":"[License Compliance Widget Extension] - Backend - Add approval required field to Licenses API endpoint","description":"## Description\n\nAdd field to indicate if `approval` is required. We should build on the summary endpoint that will be added in https://gitlab.com/gitlab-org/gitlab/-/issues/350333\n\n\n## Current iteration of License MR widget extension\n![Screen_Shot_2022-03-16_at_12.01.40_AM](/uploads/b3f4493d45ba6faa99dc56e74bac1ab9/Screen_Shot_2022-03-16_at_12.01.40_AM.png)\n\n\n## Why we need this field\n\nSo the UI can know when to indicate `approval_required`\n\n![license_compliance_v13_0](/uploads/1a24040199252dbc9a29b8b1f93c9ee7/license_compliance_v13_0.png)\n\n\n## Implementation plan\n\n1. Enhance `LicenseCompliance::CollapsedComparerEntity` and `LicenseCompliance::ComparerEntity` with `approval_required` field.\n2. This field should get information from `merge_request.has_denied_policies?`. We need to propagate this value to the serializer\n3. Update tests.","state":"closed","created_at":"2022-03-20T19:47:28.385Z","updated_at":"2022-06-21T12:06:43.339Z","closed_at":"2022-06-16T12:11:16.286Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","auto updated","backend","devops::secure","feature::enhancement","group::composition analysis","merge request widget","missed-deliverable","missed:15.0","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356336","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356336","notes":"https://gitlab.com/api/v4/projects/278964/issues/356336/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356336/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356336","relative":"#356336","full":"gitlab-org/gitlab#356336"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7763,"epic":{"id":476528,"iid":7763,"title":"[MR Widget Eng] - License Compliance MR widget extension migration feature parity with legacy widget","url":"/groups/gitlab-org/-/epics/7763","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":105165314,"iid":356335,"project_id":278964,"title":"[License Compliance Widget Extension - Frontend - Implement `License-Check` approval required messaging","description":"## Description\n\nAdd text to indicate if `approval` is required. \n\n## Current iteration of License MR widget extension\n![Screen_Shot_2022-03-16_at_12.01.40_AM](/uploads/b3f4493d45ba6faa99dc56e74bac1ab9/Screen_Shot_2022-03-16_at_12.01.40_AM.png)\n\n## What we need to add to the current iteration from the legacy component\n\n![license_compliance_v13_0](/uploads/1a24040199252dbc9a29b8b1f93c9ee7/license_compliance_v13_0.png)\n\n## Implementation Plan\n\n- In `ee/app/assets/javascripts/vue_merge_request_widget/extensions/license_compliance/index.js` update the `summary` logic to show the `approval required` text.\n\n- Update unit tests\n\n## Testing\n\nFrontend engineer to update frontend unit tests","state":"closed","created_at":"2022-03-20T19:46:37.257Z","updated_at":"2022-06-01T06:24:27.506Z","closed_at":"2022-06-01T06:24:16.345Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Enterprise Edition","GitLab Ultimate","Stretch","UX","devops::secure","frontend","group::composition analysis","merge request widget","missed:15.0","quad-planning::complete-action","section::sec","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356335","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356335","notes":"https://gitlab.com/api/v4/projects/278964/issues/356335/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356335/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356335","relative":"#356335","full":"gitlab-org/gitlab#356335"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7763,"epic":{"id":476528,"iid":7763,"title":"[MR Widget Eng] - License Compliance MR widget extension migration feature parity with legacy widget","url":"/groups/gitlab-org/-/epics/7763","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":105165298,"iid":356334,"project_id":278964,"title":"[License Compliance Widget Extension ] - Frontend - Show all dependencies for denied licenses, but link to full report for allowed , and uncategorized licenses","description":"## Description\n\nThe current MR Widget extension spec does not support adjusting collapsible `supportingText`. Adding support to the core extension framework will be tracked in a separate issue and will be marked as blocking this issue.\n\nThe original MR license compliance widget had the ability to collapse and expand the very long list of dependencies and allowed customizing the max count/number of dependencies before the collapsible logic took affect.\n\n\n## Note\nWe may end up closing this issue if the ~\"WorkingGroup::MergeRequestReportWidgets\" decides not to support collapsible/expandable text.\n\nThis issue covers the work to consume the the MR Widget Extension API and implement the collapsible/expand text.\n\n\n\n- Blocked, and TBD based on IF and HOW the API is implemented in the core widget extension\n\n## What we have in the current iteration of the MR widget extension for License Compliance\n![Screen_Shot_2022-03-16_at_12.01.40_AM](/uploads/8ccba661b77cddcf56c770d752502d1a/Screen_Shot_2022-03-16_at_12.01.40_AM.png)\n\n## What we would implement from the legacy component\n\nFor uncategorized or allowed licenses we would link to the full report.\n\n![](https://gitlab.com/gitlab-org/gitlab/uploads/fdbbeda2e934d676eac507e2c0c24601/Screen_Shot_2022-03-30_at_10.57.47_PM.png)\n\nFor denied licenses we would show the full list of dependencies no matter how many.\n\n![](https://gitlab.com/gitlab-org/gitlab/uploads/12a58829cdfb2d49d4ea52118f6b0e68/Screen_Shot_2022-03-30_at_10.31.01_PM.png)\n\n## Implementation Plan\n\nIn ee/app/assets/javascripts/vue_merge_request_widget/extensions/license_compliance/index.js\n\n1. Update parsing function\nFrom:\n```\n        newLicenses = newLicenses.map((e) =\u003e ({\n          status: e.classification.approval_status,\n          icon: {\n            name: APPROVAL_STATUS_TO_ICON[e.classification.approval_status],\n          },\n          link: {\n            href: e.url,\n            text: e.name,\n          },\n          supportingText: `${s__('License Compliance| Used by')} ${parseDependencies(\n            e.dependencies,\n          )}`,\n        }));\n```\n\nto something like\n\n```\n        newLicenses = newLicenses.map((e) =\u003e (\n        let supportingText, text;\n        if(e.classification.approval_status===\u003cALLOWED\u003e || \u003cUNCATEGORIZED\u003e{\n          supportingText = {\n           text: `${s__('License Compliance| Used by')} ${parseDependencies(e.dependencies,)}`\n           href: this.licenseCompliance.license_scanning.full_report_path\n          }\n        }else{\n         text = e.dependencies\n        }\n\n        {\n          status: e.classification.approval_status,\n          icon: {\n            name: APPROVAL_STATUS_TO_ICON[e.classification.approval_status],\n          },\n          text,\n          link: {\n            href: e.url,\n            text: e.name,\n          },\n          supportingText,\n        }\n));\n```\n\n1. Update unit tests\n\n## Testing\n\nFrontend engineer to update unit tests. SET to update/add frontend browser/E2E tests depending on Frontend unit test coverage (always shift left).","state":"closed","created_at":"2022-03-20T19:45:18.761Z","updated_at":"2022-08-07T03:31:00.070Z","closed_at":"2022-07-19T18:07:59.876Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","GitLab Ultimate","Stretch","UX","auto updated","devops::secure","feature::enhancement","frontend","group::composition analysis","merge request widget","quad-planning::complete-action","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356334","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356334","notes":"https://gitlab.com/api/v4/projects/278964/issues/356334/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356334/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356334","relative":"#356334","full":"gitlab-org/gitlab#356334"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7763,"epic":{"id":476528,"iid":7763,"title":"[MR Widget Eng] - License Compliance MR widget extension migration feature parity with legacy widget","url":"/groups/gitlab-org/-/epics/7763","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":105158955,"iid":356330,"project_id":278964,"title":"Frontend: Differentiate trigger jobs from regular jobs in the pipeline graph","description":"\u003c!--\n## Implementation Issue To-Do list \n(_NOTE: This section can be removed when the issue is ready for creation_)\n- [ ] Ensure that issue title is concise yet descriptive\n- [ ] Add `Frontend :` or `Backend: ` per group [naming conventions](https://about.gitlab.com/handbook/engineering/development/ops/verify/pipeline-authoring/#splitting-issues)\n- [ ] Ensure the issue containing the feature or change proposal and related discussions is linked as related to this implementation issue.\n- [ ] Aside from default labeling, please make sure to include relevant labels for `type::`, `workflow::`, and `~frontend`/`~backend` labeling.\n- [ ] Issues with user-facing changes should include the `~UX` label.\n--\u003e\n\n## Problem\n\nDetails of the main problem are noted in the design [issue](https://gitlab.com/gitlab-org/gitlab/-/issues/340194#-problem)\n\nTrigger jobs are special jobs that trigger downstream pipelines. They serve a special function but look the same in the UI. For example, there's no way to tell which job triggers a downstream pipeline by looking at the pipeline graph.\n\nThis makes it difficult to troubleshoot problems with downstream pipelines.\n\n## Proposal\n\n#### Pipeline page pipeline graph :point_right: [See design](https://gitlab.com/gitlab-org/gitlab/-/issues/340194/designs/Pipeline_graph.png)\n\n* Add a `Trigger job` badge to the trigger job pill. It should match the styling of the labels we use on multi-project and child pipelines.\n* The label will appear underneath the job status and name, with 8px vertical padding between the pipeline status icon and the label.\n* Give the trigger job pill a square shape with rounded corners (8px radius).\n* Apply an 8px border radius to the downstream pipeline card to match the trigger job.\n\n\n### Implementation plan\n|Iteration| Description | Link |\n|--| ------ | ------ |\n|1|DESIGN/DISCUSSION | https://gitlab.com/gitlab-org/ci-cd/pipeline-authoring/-/issues/53 |\n|2|Frontend: Add a retry button to a downstream pipeline on the pipeline graph|https://gitlab.com/gitlab-org/gitlab/-/issues/354974|\n|3|Backend: Differentiate trigger jobs from regular jobs in the UI|https://gitlab.com/gitlab-org/gitlab/-/issues/355751 |\n|4 |Design: Differentiate trigger jobs in the UI|https://gitlab.com/gitlab-org/gitlab/-/issues/340194|\n|5|Frontend: Differentiate trigger jobs from regular jobs in the pipeline graph |https://gitlab.com/gitlab-org/gitlab/-/issues/356330 :point_left: you are here|\n|6|[Frontend: Differentiate trigger jobs from regular jobs in the mini pipeline](https://gitlab.com/gitlab-org/gitlab/-/issues/356331) | https://gitlab.com/gitlab-org/gitlab/-/issues/356331|\n|7|Technical spike - expose unexpected behavior when recreating a downstream pipeline|https://gitlab.com/gitlab-org/gitlab/-/issues/355508|\n|8| Backend issue to recreate downstream pipeline|\n|9| Frontend issue to recreate downstream pipeline|\n\n\u003c!--\n## Documentation \n\n_NOTE: This section is optional, but can be used for easy access to any relevant documentation URLs._\n--\u003e\n\n## Links/References","state":"closed","created_at":"2022-03-20T15:46:20.770Z","updated_at":"2022-07-21T14:25:35.259Z","closed_at":"2022-05-17T17:38:39.475Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","auto updated","devops::verify","frontend","group::pipeline authoring","section::ops","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356330","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356330","notes":"https://gitlab.com/api/v4/projects/278964/issues/356330/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356330/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356330","relative":"#356330","full":"gitlab-org/gitlab#356330"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":51126,"iid":64,"sequence":15,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-03-15T00:05:02.134Z","updated_at":"2022-05-25T00:05:02.157Z","start_date":"2022-05-11","due_date":"2022-05-24","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/51126"},"health_status":null},{"id":105127808,"iid":356323,"project_id":278964,"title":"Geo GUI show replication slot WAL \"Unknown\"","description":"Hi team,\n\nMy Geo's primary node show replication slot WAL \"Unknown\" as below, but replications are OK.\n\nAny suggestion about how to find the \"Unknown\" reason ? My GitLab version: 14.7.0\n\n![geo-rs-unknown](/uploads/b7cefcb25fab55c7700c46a67318140b/geo-rs-unknown.png)","state":"closed","created_at":"2022-03-19T12:32:00.943Z","updated_at":"2022-05-31T15:36:39.063Z","closed_at":"2022-05-23T14:27:17.583Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Geo Administration","SUS::Impacting","UX","customer","devops::systems","frontend","group::geo","priority::3","section::enablement","severity::4","type::bug","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":8617499,"username":"alexju88","name":"Alex Ju","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8617499/avatar.png","web_url":"https://gitlab.com/alexju88"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356323","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356323","notes":"https://gitlab.com/api/v4/projects/278964/issues/356323/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356323/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356323","relative":"#356323","full":"gitlab-org/gitlab#356323"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105112505,"iid":356312,"project_id":278964,"title":"Allow API Fuzzing or DAST API to provide variables value using Postman environment file.","description":"### Problem\n\nPostman GUI allows users to export a given environment to a JSON file. The Postman environment file contains a list of well-known variables defined by the user. On the other hand, a user of API security (DAST API or API Fuzzing) can provide values for the variables by using a JSON document, which is not compatible with the Postman environment file.\n\nThe problem is that the customer has to translate the Postman environment file to a JSON document compatible with API Security (DAST API or API Fuzzing), or manually provide the JSON file format when with a few clicks they can get an updated file from the Postman GUI.\n\n### Possible solution\n\nAllow API Fuzzing or DAST API to consume the Postman environment file to provide variable values. \n\n### Remarks\n\n- Postman GUI allows the user to export different files, all of them may contain variables. \n    - [`Postman data`](https://learning.postman.com/docs/getting-started/importing-and-exporting-data/#exporting-postman-data) file, \n    - [`Postman environment`](https://learning.postman.com/docs/getting-started/importing-and-exporting-data/#exporting-environments) file, this file can be created by selecting `Environments`, in the left tab, then selecting a previously created environment. Last, in the right side use the dots menu (`...`) and select `Export`. Notice that there is also a special environment called: `Global` is a fixed environment, which [can be exported](https://learning.postman.com/docs/sending-requests/variables/#downloading-global-environments) in a separate file.\n    - [`Postman data dumps`](https://learning.postman.com/docs/getting-started/importing-and-exporting-data/#exporting-data-dumps)\n- Exported Postman file may not contain values for all variables:\n    - For example, [Dynamic variables](https://learning.postman.com/docs/writing-scripts/script-references/variables-list/) are not provided in exported environments. \n    - Another case is when a [variable is set programmatically](https://learning.postman.com/docs/sending-requests/variables/#defining-variables-in-scripts). The GUI or runners (e.g. Newman) creates the variable during collection execution.\n    - [Variables have different scopes](https://learning.postman.com/docs/sending-requests/variables/#variable-scopes), and some of the variables are set as global (exported only in workspace) while other are exported in the environment.\n    - Data variables are not included in the `Postman environment` file.\n- There is not much documentation about formats other than [`Postman data Schema`](https://schema.postman.com/)\n\n### Proposal\n\n1. [x] ~~Enable FeatureFlag~~\n    1. [x] ~~Add FeatureFlag service~~\n    1. [x] ~~Add FlagName to this feature~~\n1. [X] **Add support to new file format `postman environmental file`.**\n    1. [X] Detect and load postman environmental file.\n        - a postman environmental file, where the JSON document is an object featuring properties:\n          - `_postman_variable_scope` set to `environment` or `global`. (Required)\n          - `values` are set to an array. Each entry of the array is a JSON object, with at least the following properties: `key`, `value`, `type`, and `enabled`. \n    1. [x] Update/Add tests\n        1. [x] Add unit test using postman environmental file.\n1. [x] **Support multiple files in `_POSTMAN_COLLECTION_VARIABLES`**\n    1. [x] Allow accepting multiple files in `_POSTMAN_COLLECTION_VARIABLES`, file paths are comma-separated. Each file in `_POSTMAN_COLLECTION_VARIABLES` can be:\n        - a postman environmental file\n        - a flat JSON object, using key-value pairs. (This is the current implementation)\n    1. [x] Update runner options\n        1. [x] to accept a list of files.\n        1. [x] to validate file is accessible \n        1. [x] to validate file format is correct (file can be either postman environmental file or flat JSON object)\n    1. [x] Update postman reader to detect and load postman environmental files, otherwise treat file a flat JSON object.  \n    1. [x] Update documentation in API Fuzzing and DAST API to: \n        1. [x] mention that `_POSTMAN_COLLECTION_VARIABLES` supports multiple files. \n        1. [x] mention that a given entry in `_POSTMAN_COLLECTION_VARIABLES` can be either a postman environmental file or a JSON flat object.\n        1. [x] mention that environmental files may or may not provide all variables, and \n environmental variable `_POSTMAN_COLLECTION_VARIABLES_GENERATION` may produce values for non-user-defined variables.\n        1. [x] ~~Remove the warning about using only flat JSON objects.~~ Add note that after 15.0 there is support for Postman Environment format.\n    1. [x] Add tests\n        1. [x] Add/Update Unit test providing none, a single, and multiple files. Mixing up two formats.\n        1. [x] Add unit test for new runner option validations: files exist, the file does not exist, the file has valid content, file has invalid content (empty, non-valid JSON, incomplete JSON). \n1. [x] **Add support to scope variables**\n    1. [x] Load and unload [variables from each scope](https://learning.postman.com/docs/sending-requests/variables/#variable-scopes)\n        1. [x] `Global`: Values can be set thru GUI in environment tab, and they cab be **Loaded** from files provided in `_POSTMAN_COLLECTION_VARIABLES`. The file must be a JSON document with a JSON object with a property `_postman_variable_scope` set to `globals`\n        1. [x] `Collection`: Values can be set thru GUI in Collection details, and they cab be **Loaded**  from the file provided in `_POSTMAN_COLLECTION`. Variables are taken from array node at `$.variable`.\n        1. [x] `Environment`: Values can be set thru GUI in environment tab, and they cab be **Loaded** from files provided in `_POSTMAN_COLLECTION_VARIABLES`. The file must be a JSON document with a JSON object with a property `_postman_variable_scope` set to `environment`\n        1. [x] `Json`: Values loaded from KeyValur Pairs from JSON document. **NOTE** This is not a postman scope, but it is defined to support the old variable file format.\n        1. [-] ~~`Data`: This will not be implemented.~~\n        1. [-] ~~`Local`: Value seem to be set only in scripts in GUI. [Postman schema](https://schema.postman.com/collection/json/v2.1.0/draft-07/docs/index.html) defines variables for folders and items (requests). It seems UI does not provide a mechanism to edit them, and documentation does not specify their scope either. **TDB** Since they are in a hierarchy structure, they can be treat as `Local` and  loaded and unloaded based on the hierarchy.~~\n            1. [-] ~~**Load** from the file provided in `_POSTMAN_COLLECTION`. Variables are taken from array node at `$.item[*].variable`.~~\n                1. [-] ~~From folder(s)~~\n                1. [-] ~~From item(s)~~\n            1. [-] ~~**Unload** after the request has been created.~~\n      1. [x] Provide a mechanism to resolve variable by name. Resolution should respect hierarchy: `Global`\u003c`Collection`\u003c`Environment`\u003c`Json`\u003c`Data`\u003c`Local`. For example, if a given variable is defined in `Global` and `Local`, `Local` value should be used.\n         1. [x] Resolution should unfold variables until no matches are found. `globalBaseUrl={{globalScheme}}://{{globalHost}}{{globalBasePath}}` thus in order to get value for `globalBaseUrl`, the value for `globalScheme`, `globalHost` and `globalBasePath`  should also be resolved.\n         1. [x] Prevent circular reference when unfolding variables\n      1. [x] Add tests\n         1. [x] Check hierarchy resolution \n         1. [x] Check variable unfolding\n         1. [x] Check circular reference prevention, e.g.: `var1=\"{{var2}}\"` and `var2={{var1}}` in `http://foo?q={{var1}}`\n         1. [x] Check indirect variable reference, e.g.: `var1=\"var2\"` and `var2={{var1}}` in `http://foo?q={{{{var1}}}}`\n1. [x] **Introduce a new environmental variable `_POSTMAN_COLLECTION_VARIABLES_GENERATION`.** Instruct the request generator how to deal with undefined variables. There are three possible behaviors, represented by an enum:\n    - Enum value\n        - `NONE`: Do not remove text of the unknown variable. Keep it as it is.\n        - `DYNAMIC`: Replace only [dynamic variables](https://learning.postman.com/docs/writing-scripts/script-references/variables-list/), other unknown variables will not be replaced.\n        - `ALL`:  Replace any unknown variable with a text value.\n    - Default to: `DYNAMIC` (in order to mimic postman runner behavior)\n    - A unknown variable may fall into one of two categories:\n        - `Dynamic variable`: Any variable prefixed with `$`. For these variables, a sample value can be formatted based on the [list of postman dynamic variables](https://learning.postman.com/docs/writing-scripts/script-references/variables-list/). For instance `$guid` can return `611c2e81-2ccb-42d8-9ddc-2d0bfa65c1b4` instead of a generic fixed text.\n        - `Any other unknown variables`: Since there is no hint about their expected type or format, we can set a fixed text such as: `unknown-value` or a formatted text such as: `unset-var-\u003cvarname\u003e`.\n        - The scanner may produce a warning log when variables for all unknown variables. This is because unknown variables can be part of any part of the request, and could lead to producing invalid content for the request generation.\n    1. [x] Update `worker-entry` to accept new environmental variable\n       1. [x] Add validation to accept only supported values\n    1. [x] Update runner options \n    1. [x] Update postman reader to check `_POSTMAN_COLLECTION_VARIABLES_GENERATION` and generate values for:\n        1. [x] Dynamic variables  (on `DYNAMIC` or `ALL`)\n        1. [x] Any other unknown variables (only when `ALL`)\n    1. In the scanner, log a list of the auto generated variables:\n       1. [x] Collect name of the unknown variables while generating requests\n       1. [x] After generating request log the unknown variables .\n    1. [x] Add test\n        1. [x] Add unit test with and without variable set.\n        1. [x] Add test to check generated values for `dynamic variables`\n    1. [x] Add documentation for `_POSTMAN_COLLECTION_VARIABLES_GENERATION` in API Fuzzing and DAST API\n        1. [x] Explain when it is expected to be used. \n        1. [x] Point out that generated value may not fit the expected value, and suggest providing environmental files.\n1. [x] ~~Remove feature flag~~","state":"closed","created_at":"2022-03-18T21:20:39.640Z","updated_at":"2022-09-19T03:28:00.466Z","closed_at":"2022-09-13T12:07:41.469Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:API Security","GitLab Ultimate","auto updated","backend","devops::secure","group::dynamic analysis","milestone::p1","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356312","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":52,"completed_count":52},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"52 of 52 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356312","notes":"https://gitlab.com/api/v4/projects/278964/issues/356312/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356312/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356312","relative":"#356312","full":"gitlab-org/gitlab#356312"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105096366,"iid":356288,"project_id":278964,"title":"Add permalinks to entries","description":"Besides bookmarking filters (#353563), having a link to the event definition is a useful next iteration.\n\n### Proposal\n\n- Show a single metric/event by going to `https://metrics.gitlab.com/[metrics|events]/filename`\n- Show multiple metrics/events by going to `https://metrics.gitlab.com/[metrics|events]/filename[,filename...]`\n- Transpose table rows into a column for this view.\n\n### Testing\n\n- [x] Check relevant unit tests and make sure QA pipelines are passing with these changes\n\n~\"feature::addition\" ~frontend","state":"closed","created_at":"2022-03-18T16:25:28.262Z","updated_at":"2022-07-11T15:08:03.906Z","closed_at":"2022-07-11T15:08:03.649Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["Category:Service Ping","devops::analytics","frontend","group::product intelligence","missed:15.1","quad-planning::complete-action","section::analytics","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356288","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356288","notes":"https://gitlab.com/api/v4/projects/278964/issues/356288/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356288/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356288","relative":"#356288","full":"gitlab-org/gitlab#356288"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6522,"epic":{"id":321040,"iid":6522,"title":"Scalable Metrics Dictionary","url":"/groups/gitlab-org/-/epics/6522","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105095567,"iid":356287,"project_id":278964,"title":"Support `OWASP` - Update to support other mapping key","description":"Once the backend issue has been resolved \u003e https://gitlab.com/gitlab-org/gitlab/-/issues/349606 where other mapping keys are supported. We will need to update the frontend to ensure we are passing the proper identifiers to make the request and handle the updated response accordingly.\n\n\n| Changes | Issue |\n| ------ | ------ |\n| Vulnerability Details  | _use this issue to track this_ |\n| Pipeline and MR modal | https://gitlab.com/gitlab-org/gitlab/-/issues/360718 |","state":"closed","created_at":"2022-03-18T16:21:40.317Z","updated_at":"2022-09-05T03:23:13.324Z","closed_at":"2022-08-30T20:10:00.648Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["[deprecated] Accepting merge requests","devops::secure","feature::addition","frontend","group::threat insights","missed:15.3","section::sec","type::feature"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356287","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356287","notes":"https://gitlab.com/api/v4/projects/278964/issues/356287/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356287/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356287","relative":"#356287","full":"gitlab-org/gitlab#356287"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7805,"epic":{"id":485503,"iid":7805,"title":"Security Training 2.0","url":"/groups/gitlab-org/-/epics/7805","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105091292,"iid":356286,"project_id":278964,"title":"Add DB row count metrics for free plan","description":"In https://gitlab.com/gitlab-org/gitlab-exporter/-/merge_requests/163 we added row count queries for the Rails DB that allow us to track the progress of the [.com registry migration Phase 2](https://gitlab.com/groups/gitlab-org/-/epics/6427).\n\nWhat we're lacking now is a way to track intra-plan progress, i.e., be able to tell how many free, premium or ultimate repositories have been migrated already.\n\nThis will be possible once https://gitlab.com/gitlab-org/gitlab/-/issues/356218 is complete. As such, we should start by adding row count queries specifically for the free plan.","state":"closed","created_at":"2022-03-18T16:02:17.114Z","updated_at":"2022-04-01T10:20:19.464Z","closed_at":"2022-03-31T21:57:18.459Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","section::ops","type::maintenance"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"}],"author":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356286","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356286","notes":"https://gitlab.com/api/v4/projects/278964/issues/356286/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356286/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356286","relative":"#356286","full":"gitlab-org/gitlab#356286"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105090614,"iid":356285,"project_id":278964,"title":"Update training urls to use file type","description":"After the backend issue has been resolved \u003e https://gitlab.com/gitlab-org/gitlab/-/issues/346455, let's update the frontend to ensure we are passing the file type to the GraphQL query. The backend issue will ensure a file type is passed to our training providers so we get a more accurate training url response.\n\nPlease see this comment for more detail about the potential implementation plan \u003e https://gitlab.com/gitlab-org/gitlab/-/issues/346455#note_879260956.\n\n\u003e We can pass the `location` object that contains the `file` which we can pass as the 3rd parameter (project id, identifiers, file). From there the backend can extract the file type from the file value and send that with the request. For instance `src/js/index.js` -\u003e `js`.\n\n| MR Modal | Vulnerability Details | Pipeline Modal |\n| ------ | ------ | ------ |\n|![2022-03-17_at_5.54_PM](/uploads/fd940e92874addd677bed766287b5a05/2022-03-17_at_5.54_PM.png)|![2022-03-17_at_5.55_PM](/uploads/db6518fcc348e2c8b707456cb311b4d4/2022-03-17_at_5.55_PM.png)|![2022-03-17_at_5.58_PM](/uploads/eb3d9fb234a56516fbbb7e7bc6e8894c/2022-03-17_at_5.58_PM.png)|\n\n## Issue Breakdown\n\n| Changes | Issue |\n| ------ | ------ |\n| Vulnerability Details | This Issue |\n| MR and Pipeline Modal | gitlab-org/gitlab#360719 |","state":"closed","created_at":"2022-03-18T15:52:59.008Z","updated_at":"2022-07-04T03:36:07.740Z","closed_at":"2022-06-28T11:17:06.977Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["devops::secure","feature::addition","frontend","group::threat insights","section::sec","type::feature","workflow::in dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356285","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356285","notes":"https://gitlab.com/api/v4/projects/278964/issues/356285/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356285/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356285","relative":"#356285","full":"gitlab-org/gitlab#356285"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7805,"epic":{"id":485503,"iid":7805,"title":"Security Training 2.0","url":"/groups/gitlab-org/-/epics/7805","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105081196,"iid":356278,"project_id":278964,"title":"Update job tab counts from table","description":"In MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82539 we introduced jobs filtered search. \n\nWhen new filtered search values are returned the tab count does not update. This is because this data comes from rails `job_counts.to_json`. The feature uses Vue/GraphQL.\n\nWe should utilize the `count` field from the query to update the tab count data accordingly. \n\n![count](/uploads/56cde72aed61fe90ed1218c23cbdd2fa/count.png)","state":"closed","created_at":"2022-03-18T14:46:33.277Z","updated_at":"2022-04-07T14:37:01.876Z","closed_at":"2022-04-07T14:37:01.828Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","UX","devops::verify","frontend","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356278","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356278","notes":"https://gitlab.com/api/v4/projects/278964/issues/356278/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356278/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356278","relative":"#356278","full":"gitlab-org/gitlab#356278"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105068188,"iid":356267,"project_id":278964,"title":"UX: Display group storage usage for the Dependency Proxy","description":"UX issue for https://gitlab.com/gitlab-org/gitlab/-/issues/338164","state":"closed","created_at":"2022-03-18T12:19:46.810Z","updated_at":"2022-05-02T15:16:45.349Z","closed_at":"2022-04-29T20:32:18.382Z","closed_by":{"id":5058729,"username":"mnearents","name":"Matthew Nearents","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5058729/avatar.png","web_url":"https://gitlab.com/mnearents"},"labels":["UX","[deprecated] Category:Utilization","auto updated","devops::fulfillment","group::utilization","section::fulfillment","type::feature"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5058729,"username":"mnearents","name":"Matthew Nearents","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5058729/avatar.png","web_url":"https://gitlab.com/mnearents"}],"author":{"id":4665308,"username":"doniquesmit","name":"Donique Smit","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c5737881c65a3063443d7692dfe04f4a?s=80\u0026d=identicon","web_url":"https://gitlab.com/doniquesmit"},"type":"ISSUE","assignee":{"id":5058729,"username":"mnearents","name":"Matthew Nearents","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5058729/avatar.png","web_url":"https://gitlab.com/mnearents"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356267","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356267","notes":"https://gitlab.com/api/v4/projects/278964/issues/356267/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356267/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356267","relative":"#356267","full":"gitlab-org/gitlab#356267"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105065608,"iid":356266,"project_id":278964,"title":"Anchors in links to markdown file doesn't scroll anymore","description":"### Summary\n\nLinks to markdown file with an anchor in the URL doesn't work anymore.\n\n~~I believe it's a regression. I have the issue only on gitlab.com. We have a self-managed installation running version 14.8.4-ee.0 where we don't have the issue yet.~~\n\nOn closer inspection, this bug is only present when the `:refactor_blob_viewer` feature flag is enabled.\n\n### Steps to reproduce\n\n(On self-managed installation, `Feature.enable(:refactor_blob_viewer)`)\n\n1. Go to https://gitlab.com/gitlab-org/gitlab/-/blob/master/README.md\n2. On the left of any title, click on the link icon. The scroll will be adjusted and the url will be updated (eg. https://gitlab.com/gitlab-org/gitlab/-/blob/master/README.md#getting-help)\n3. Refresh the page. It does not scroll to the title.\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/README.md#getting-help\n\nHowever, for the README.md page, the default project view works: https://gitlab.com/gitlab-org/gitlab#getting-help\n\n### What is the current *bug* behavior?\n\nIt does not scroll to the title in the anchor.\n\n### What is the expected *correct* behavior?\n\nIt should scroll to the correct title.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-03-18T11:36:00.714Z","updated_at":"2022-05-16T12:38:44.892Z","closed_at":"2022-05-16T07:02:33.459Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","SUS::Impacting","UX","devops::create","frontend","group::source code","priority::3","regression","regression:14.9","section::dev","severity::4","type::bug"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":4224771,"username":"tchandelle","name":"Thomas Chandelle","state":"active","avatar_url":"https://secure.gravatar.com/avatar/71f83f314c08c222636a3a836a8fd636?s=80\u0026d=identicon","web_url":"https://gitlab.com/tchandelle"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":19,"merge_requests_count":0,"upvotes":10,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356266","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356266","notes":"https://gitlab.com/api/v4/projects/278964/issues/356266/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356266/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356266","relative":"#356266","full":"gitlab-org/gitlab#356266"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105055170,"iid":356259,"project_id":278964,"title":"Schema validation warnings from Dependency Scanning reports of gitlab-depscan","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nDependency Scanning reports created by [gitlab-depscan](https://gitlab.com/gitlab-org/security-products/gitlab-depscan) do not pass JSON schema validation. As a result, warnings show up in pipelines where the `gitlab-depscan` analyzer has been executed.\n\nThe vulnerabilities are still ingested even thought the JSON report doesn't pass schema validation, but this is planned to change in the %15.0 milestone. See https://gitlab.com/groups/gitlab-org/-/epics/6968+\n\nSchema validation errors are:\n- `root is missing required keys: dependency_files`. This is similar to https://gitlab.com/gitlab-org/gitlab/-/issues/300877+.\n- `property '/version' does not match pattern: ^[0-9]+\\.[0-9]+\\.[0-9]+$` because `version` is `2.4`, and does not follow SchemaVer (X.Y.Z).\n\n### Steps to reproduce\n\nSet up [gitlab-depscan](https://gitlab.com/gitlab-org/security-products/gitlab-depscan), run a CI pipeline, go to the pipeline page, and see schema validation warnings on that page.\n\n### Example Project\n\n### What is the current *bug* behavior?\n\nSchema validation warnings\n\n### What is the expected *correct* behavior?\n\nNo warnings\n\n### Relevant logs and/or screenshots\n\n```\nWarning parsing security reports\nCheck the messages generated while parsing the following security reports, as they may prevent the results from being ingested by GitLab. Ensure the security report conforms to a supported \n.\n\n[Schema] root is missing required keys: dependency_files\n[Schema] property '/version' does not match pattern: ^[0-9]+\\.[0-9]+\\.[0-9]+$\n```\n\n![Screenshot_2022-03-18_at_09.25.42](/uploads/36d65f78f30a76485c3e88bbd3c15d96/Screenshot_2022-03-18_at_09.25.42.png)\n\n### Possible fixes\n\nUpdate `gitlab-depscan` so that its reports validate [the latest JSON schema of the Dependency Scanning report](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/raw/v14.1.0/dist/dependency-scanning-report-format.json).\n\n### Implementation plan\n\n- [x] Change the `version` field to a recent JSON schema, like `14.1.0`. See [releases](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/releases).\n- [x] Add an empty `dependency_files` JSON array.\n- [x] Make sure that generated reports validate the corresponding JSON schema, like [dependency-scanning-report-format.json\n](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/raw/v14.1.0/dist/dependency-scanning-report-format.json).\n\n/cc @balasankarc @NicoleSchwartz @gonzoyumo","state":"closed","created_at":"2022-03-18T08:41:21.073Z","updated_at":"2022-04-13T14:05:34.079Z","closed_at":"2022-03-30T18:19:23.022Z","closed_by":{"id":3558825,"username":"julianthome","name":"Julian Thome","state":"active","avatar_url":"https://secure.gravatar.com/avatar/430b3beed4f9690ad2344180202ad27b?s=80\u0026d=identicon","web_url":"https://gitlab.com/julianthome"},"labels":["Category:Dependency Scanning","Dogfooding","Stretch","automation:ml","backend","devops::secure","group::vulnerability research","priority::2","section::sec","severity::3","type::bug","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3558825,"username":"julianthome","name":"Julian Thome","state":"active","avatar_url":"https://secure.gravatar.com/avatar/430b3beed4f9690ad2344180202ad27b?s=80\u0026d=identicon","web_url":"https://gitlab.com/julianthome"}],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":{"id":3558825,"username":"julianthome","name":"Julian Thome","state":"active","avatar_url":"https://secure.gravatar.com/avatar/430b3beed4f9690ad2344180202ad27b?s=80\u0026d=identicon","web_url":"https://gitlab.com/julianthome"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356259","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356259","notes":"https://gitlab.com/api/v4/projects/278964/issues/356259/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356259/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356259","relative":"#356259","full":"gitlab-org/gitlab#356259"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105038522,"iid":356241,"project_id":278964,"title":"Follow-up: CWE-598.1 amendments","description":"[From @cam_swords:](https://gitlab.com/gitlab-org/security-products/dast/-/merge_requests/585#note_878457810)\n\n* We shouldn't ever have to check if `request == nil` in a matcher, we should always have one. Response may be `nil` (from `HasAuthorizationHeaderMatcher`).\n* I wonder about `request.GetHeader(\"Authorization\")` and whether it will bite us later. Headers can be either `string` or `[]string`, yet we have helper methods that just return a `string`.\n* `598.1` has an `OR`, `OrMatcher(authorizationHeaderMatcher, sessionMatcher)`. I wonder if this should be two separate checks. For example, the description of `598.1` makes no sense because there may not actually be a session cookie at all.\n\n## Solutions\n\n- [x] Remove `nil` check\n- [ ] ~Remove `request.GetHeader` useage~ [not necessary](https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/blob/7e016a1b9525f03653810dfd610cacce2eaf2991/browserk/http_request.go#L240)\n- [X] Consider separating `598` into separate checks","state":"closed","created_at":"2022-03-18T02:00:42.347Z","updated_at":"2022-03-27T22:09:39.291Z","closed_at":"2022-03-27T22:09:39.272Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","backend","dast::browserker","devops::secure","group::dynamic analysis","maintenance::refactor","section::sec","type::maintenance"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356241","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356241","notes":"https://gitlab.com/api/v4/projects/278964/issues/356241/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356241/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356241","relative":"#356241","full":"gitlab-org/gitlab#356241"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105036345,"iid":356235,"project_id":278964,"title":"Put sub-items in the Settings menu in the same order in project and group","description":"## Problem\nSome sub-nav items live both at the group and project level. However, the sub-nav item order is inconsistent in where `Webhooks` is placed.\n\n\u003cdetails\u003e\u003csummary\u003eScreenshots\u003c/summary\u003e\n\n| Project | Group |\n| ------ | ------ |\n|![Screen_Shot_2022-03-18_at_12.44.11](/uploads/131192d7c1a2f0635507c9cdd13bfab2/Screen_Shot_2022-03-18_at_12.44.11.png) |![Screen_Shot_2022-03-18_at_12.44.16](/uploads/331eaa2f9e9928e94589e950d8bfa5bf/Screen_Shot_2022-03-18_at_12.44.16.png) |\n\n\u003c/details\u003e\n\n\n## Proposal\n\nMatch the project settings order wherever possible for groups, by moving **Webhooks** in groups.\n\n| Project | Group |\n| ------ | ------ |\n| General | General |\n| Integration | Integrations |\n| Webhooks | {+Webhooks+} |\n| Access Tokens | Access Tokens |\n|  | Projects |\n| Repository | Repository |\n| CI/CD | CI/CD |\n| | Applications |\n| | {-Packages \u0026 Registries-} |\n| | {-Webhooks-} |\n| Monitor | \n| Pages |\n| Packages \u0026 Registries | {+Packages \u0026 Registries+} |\n| Usage Quotas | Usage Quotas |\n| | Billing |","state":"closed","created_at":"2022-03-17T23:58:00.516Z","updated_at":"2022-11-22T18:56:30.327Z","closed_at":"2022-06-08T10:45:32.285Z","closed_by":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"labels":["Category:Navigation \u0026 Settings","SUS::Impacting","UX","auto updated","devops::manage","group::foundations","navigation","region::settings","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"}],"author":{"id":9608331,"username":"katiemacoy","name":"Katie Macoy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9608331/avatar.png","web_url":"https://gitlab.com/katiemacoy"},"type":"ISSUE","assignee":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356235","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356235","notes":"https://gitlab.com/api/v4/projects/278964/issues/356235/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356235/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356235","relative":"#356235","full":"gitlab-org/gitlab#356235"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105034467,"iid":356231,"project_id":278964,"title":"Many errors from JiraConnect::SyncProjectWorker - ArgumentError: Invalid arguments","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/3224650/?referrer=gitlab_plugin\n\n```\nArgumentError: Invalid arguments\n  lib/atlassian/jira_connect/client.rb:28:in `send_info'\n    raise ArgumentError, 'Invalid arguments' if responses.empty?\n  app/services/jira_connect/sync_service.rb:15:in `block in execute'\n    responses = client.send_info(project: project, **args)\n  app/services/jira_connect/sync_service.rb:12:in `flat_map'\n    JiraConnectInstallation.for_project(project).flat_map do |installation|\n  app/services/jira_connect/sync_service.rb:12:in `execute'\n    JiraConnectInstallation.for_project(project).flat_map do |installation|\n  app/workers/jira_connect/sync_project_worker.rb:22:in `perform'\n    JiraConnect::SyncService.new(project).execute(merge_requests: merge_requests_to_sync(project), update_sequence_id: update_sequence_id)\n...\n(93 additional frame(s) were not displayed)\n\nInvalid arguments\n```","state":"closed","created_at":"2022-03-17T22:22:04.178Z","updated_at":"2022-11-22T18:56:31.245Z","closed_at":"2022-03-20T21:16:21.264Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["backend","devops::manage","group::integrations","priority::1","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356231","notes":"https://gitlab.com/api/v4/projects/278964/issues/356231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356231","relative":"#356231","full":"gitlab-org/gitlab#356231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6913,"epic":{"id":370101,"iid":6913,"title":"Integrations Error Budgets","url":"/groups/gitlab-org/-/epics/6913","group_id":9970},"iteration":null,"health_status":null},{"id":105026582,"iid":356220,"project_id":278964,"title":"Cleanup draft column data polluted by leaky regex","description":"In a prior, now reverted migration (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67687#note_649843625), we attempted to populate the draft\ncolumn based on the \"draft\" or \"WIP\" nature of the title, mirroring what\nis used in `MergeRequest#draft?`. However, an error in the SQL regexp\ncaused us to grab an additional number of MRs and label them as \"draft\".\n\nWe need to introduce a migration that finds all MRs that \n\n1. are `draft: true`\n1. match the original \"leaky\" regexp\n1. do NOT match the new, \"corrected\" regexp\n\nThis should give us the set of MRs that were incorrectly modified. We then update them to `draft: false`","state":"closed","created_at":"2022-03-17T20:52:00.990Z","updated_at":"2022-04-18T07:01:12.717Z","closed_at":"2022-03-21T20:21:07.640Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Deliverable","backend","database","devops::create","group::code review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356220","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356220","notes":"https://gitlab.com/api/v4/projects/278964/issues/356220/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356220/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356220","relative":"#356220","full":"gitlab-org/gitlab#356220"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3879,"epic":{"id":80141,"iid":3879,"title":"Rename WIP merge requests to Draft","url":"/groups/gitlab-org/-/epics/3879","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105025878,"iid":356216,"project_id":278964,"title":"Update Enqueuer to use `migration_plan` and group related plans","description":"## Problem\n\nThere are namespaces still associated with deprecated tiers (gold, silver, bronze). We do not want to set the target plan application setting for each of these.\n\nWe also are adding the plan to the `container_repositories` table as a new column `migration_plan` in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83061.\n\n## Solution\n\n1. Update the Enqueuer query (`ContainerRepository#ready_for_import`) to group the plans as follows:\n   - free = free + NULL\n   - premium = premium + bronze + silver + premium_trial\n   - ultimate = ultimate + gold + ultimate_trial\n\n1. Update the Enqueuer query to use `migration_plan` rather than JOINing from `container_repositories` to `plans`. This will require adding a new index on `migration_plan`.\n\n### Notes\n\n- We should add a comment near any new scopes on `migration_plan` explaining that the plan can be `nil`.\n\nThis is blocked until https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83061 is complete.","state":"closed","created_at":"2022-03-17T20:39:31.870Z","updated_at":"2022-03-28T13:37:09.753Z","closed_at":"2022-03-28T13:37:09.706Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Blocker","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","ruby","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356216","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356216","notes":"https://gitlab.com/api/v4/projects/278964/issues/356216/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356216/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356216","relative":"#356216","full":"gitlab-org/gitlab#356216"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105023389,"iid":356206,"project_id":278964,"title":"[MR Widget Eng] Remove License Compliance MR widget references to old approval_status codes","description":"Once https://gitlab.com/gitlab-org/gitlab/-/issues/335868 lands we need to then go back and update work done in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75341 for the MR widget extensions.\n\nChange:\n\n```\nconst APPROVAL_STATUS_TO_ICON = {\n  allowed: EXTENSION_ICONS.success,\n  approved: EXTENSION_ICONS.success,\n  denied: EXTENSION_ICONS.failed,\n  blacklisted: EXTENSION_ICONS.failed,\n  unclassified: EXTENSION_ICONS.notice,\n};\n```\n\n\n```\n        const licenseSections = [\n          ...(groupedLicenses.denied?.length \u003e 0 || groupedLicenses.blacklisted?.length  \u003e 0 ? [{\n            header: s__('LicenseCompliance|Denied'),\n            text: s__(\n              \"LicenseCompliance|Out-of-compliance with the project's policies and should be removed\",\n            ),\n            children: groupedLicenses.denied || groupedLicenses.blacklisted,\n          }] : []),\n          ...(groupedLicenses.unclassified?.length \u003e 0 ? [{\n            header: s__('LicenseCompliance|Uncategorized'),\n            text: s__('LicenseCompliance|No policy matches this license'),\n            children: groupedLicenses.unclassified,\n          }] : []),\n          ...(groupedLicenses.allowed?.length \u003e 0 || groupedLicenses.approved?.length \u003e 0 ? [{\n            header: s__('LicenseCompliance|Allowed'),\n            text: s__('LicenseCompliance|Acceptable for use in this project'),\n\n            children: groupedLicenses.allowed || groupedLicenses.approved,\n          }] : []),\n        ];\n```\nto\n\n```\n        const licenseSections = [\n          ...(groupedLicenses.denied?.length \u003e 0 ? [{\n            header: s__('LicenseCompliance|Denied'),\n            text: s__(\n              \"LicenseCompliance|Out-of-compliance with the project's policies and should be removed\",\n            ),\n            children: groupedLicenses.denied,\n          }] : []),\n          ...(groupedLicenses.unclassified?.length \u003e 0 ? [{\n            header: s__('LicenseCompliance|Uncategorized'),\n            text: s__('LicenseCompliance|No policy matches this license'),\n            children: groupedLicenses.unclassified,\n          }] : []),\n          ...(groupedLicenses.allowed?.length \u003e 0 ? [{\n            header: s__('LicenseCompliance|Allowed'),\n            text: s__('LicenseCompliance|Acceptable for use in this project'),\n            \n            children: groupedLicenses.allowed,\n          }] : []),\n        ];\n```\n\n```\nconst APPROVAL_STATUS_TO_ICON = {\n  allowed: EXTENSION_ICONS.success,\n  denied: EXTENSION_ICONS.failed,\n  unclassified: EXTENSION_ICONS.notice,\n};\n```\n\n### Testing\n\nSET will update E2E/browser tests where needed to support changes to approval status codes.","state":"closed","created_at":"2022-03-17T19:33:09.987Z","updated_at":"2022-12-29T03:08:59.609Z","closed_at":"2022-06-14T16:53:57.760Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","devops::secure","frontend","group::composition analysis","maintenance::removal","quad-planning::complete-action","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356206","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356206","notes":"https://gitlab.com/api/v4/projects/278964/issues/356206/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356206/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356206","relative":"#356206","full":"gitlab-org/gitlab#356206"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7749,"epic":{"id":473859,"iid":7749,"title":"[15.0 Feature flag] Rollout of legacy approval_status removal for License Compliance","url":"/groups/gitlab-org/-/epics/7749","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":105022939,"iid":356204,"project_id":278964,"title":"Fix broken column customization","description":"A bug was introduced that makes it incompatible to customize columns in both the Service Ping and Snowplow pages. This is likely related to the removal of the `namespace` prop.","state":"closed","created_at":"2022-03-17T19:22:12.653Z","updated_at":"2022-03-18T12:53:03.952Z","closed_at":"2022-03-18T12:53:03.919Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["devops::growth","frontend","group::product intelligence","section::growth","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356204","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356204","notes":"https://gitlab.com/api/v4/projects/278964/issues/356204/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356204/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356204","relative":"#356204","full":"gitlab-org/gitlab#356204"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6522,"epic":{"id":321040,"iid":6522,"title":"Scalable Metrics Dictionary","url":"/groups/gitlab-org/-/epics/6522","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105021968,"iid":356201,"project_id":278964,"title":"Add 'pronouns' user attribute to the API model for users","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\nIn September of 2021 GitLab released more [personal and inclusive user profile features](https://about.gitlab.com/blog/2021/09/30/personal-profile/), in particular, the pronouns field. Many organizations have external user accounts that are in some way linked to their GitLab accounts, and it would be useful to be able to synchronize profile data such as pronouns between these accounts.\n\nIn the Drupal community we have our contributors Drupal.org profiles, which include pronouns, and we have our self-hosted instance of GitLab - and we would like to use the API to update the GitLab user profile pronouns attribute with a PUT request. \n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nThe problem to solve is providing access to CRUD operations for the 'pronouns' attribute of user profiles. \n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nThe proposal is to add the pronouns attribute (and perhaps the other recently added attributes such as pronunciation and local time) to the user api: https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/api/users.rb \n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\nThe primary persona that needs to use the User API to synchronize 'pronouns' data is actually the administrator who integrates GitLab into the business processes of the organization. \n\nThat might most closely map to: \n * [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\nFrequence of requests for this attribute in the API would be a good way to track usage of this feature. \n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-03-17T18:57:20.640Z","updated_at":"2022-09-28T17:05:36.245Z","closed_at":"2022-09-28T17:05:36.221Z","closed_by":{"id":5560202,"username":"hestenet-drupal","name":"Tim Lehnen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d1c886695cf25b52cb38601610838410?s=80\u0026d=identicon","web_url":"https://gitlab.com/hestenet-drupal"},"labels":["Category:Authentication and Authorization","[deprecated] Accepting merge requests","api","backend","candidate::15.0","devops::manage","group::authentication and authorization","section::dev","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5560202,"username":"hestenet-drupal","name":"Tim Lehnen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d1c886695cf25b52cb38601610838410?s=80\u0026d=identicon","web_url":"https://gitlab.com/hestenet-drupal"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356201","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356201","notes":"https://gitlab.com/api/v4/projects/278964/issues/356201/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356201/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356201","relative":"#356201","full":"gitlab-org/gitlab#356201"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105020819,"iid":356198,"project_id":278964,"title":"Pipeline tabs Vue migration - Migrate Pipeline and Needs tab","description":"## Steps\n\n\n| Step  | Issue Link | MR link\n| ------ | ------ | ------ |\n| Introduce the base tab layout in Vue behind a disabled feature flag | https://gitlab.com/gitlab-org/gitlab/-/issues/230749 | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/80401 |\n| Support tab redirection  | None | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85183 |\n| Add the Pipeline and Dag tabs content  |:point_left_tone1: you are here | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83418 |\n| Add the Jobs and Failed Jobs tab content  | | cell |\n| Add the Tests tab content |  |cell |\n| Add the the Security tab content  | | cell |\n| Add the the License tab content  | | cell |\n| Add the the Code Quality tab content  | | cell |\n| Feature flag rollout  | | https://gitlab.com/gitlab-org/gitlab/-/issues/353118 |\n\n## Description of the Vue app logic\n\nBehind the disabled feature flag `pipeline_tabs_vue`, we now have Vue tabs in the pipeline page instead of Haml. However given how big the work is, we have divided each tab content into its own issue and MR. This specific issue is to migrate **the pipeline and needs tab content** to Vue. To do so, here are some steps to consider:\n\n1. When the feature is turned on, in `app/views/projects/pipelines/show.html.haml` we now have the `js-pipeline-tabs` element which uses a helper to pass down all the dataset we might need to our single Vue app.\n1. We now have 2 helpers: one for CE (`app/helpers/projects/pipeline_helper.rb`) and one for EE (`ee/app/helpers/ee/projects/pipeline_helper.rb`). Each of them is passing data down to the Vue app through the dataset. If your tab is both in CE and EE, then your data should live in the CE helper. If your tab is unique to EE, then you can pass it down trough the EE helper.\n1. We then have the pipeline init bundle (`app/assets/javascripts/pipelines/pipeline_details_bundle.js`) which will check if the flag is on. If it is, then we only create one app instead of one per tab\n1. Then the data is passed down through the app init function in `app/assets/javascripts/pipelines/pipeline_tabs.js`. Make sure to pass your new dataset here to the app. We conditionally render with `ee_else_ce` the right Vue tabs component. The CE component has a slot in which the EE component can pass all the additional tabs. This mean that the EE component always has the CE tab and logic for free :raised_hands_tone1: \n1. Then in the CE tabs component (`app/assets/javascripts/pipelines/components/pipeline_tabs.vue`) all tabs are rendered except the `failed jobs` component which will need to change the in failed jobs MR (we only show it if there are failed jobs!)\n1. In the EE tab component (`ee/app/assets/javascripts/pipelines/components/pipeline_tabs.vue`) we have conditional on each tab which comes from the API permissions. Permissions should already work as is for all tabs\n\n## Work required\n\n1. Check the previous haml that we were using for the tab. What data are we passing down to the app? Add the same data to the right `pipeline_helper.rb` (CE or EE)\n1. After adding the right data, we also need to update the helper specs (CE: `spec/helpers/projects/pipeline_helper_spec.rb`, EE: `ee/spec/helpers/ee/projects/pipeline_helper_spec.rb`)\n1. In `app/assets/javascripts/pipelines/pipeline_tabs.js`, pass your dataset to the Vue App. \n1. **TAB SPECIFIC INSTRUCTION** The tests and licenses tabs used to get their data from the pipeline controller (`app/controllers/projects/pipelines_controller.rb` or `ee/app/controllers/ee/projects/pipelines_controller.rb`) but now we are deprecating the routes in favour of query params. Either move the \n1. **TAB SPECIFIC INSTRUCTION** Add a badge to the tab if it applies (Failed jobs count, Tests count, etc)\n1. If the tab renders as expected, now it the time for specs!\n1. In `spec/frontend/pipelines/components/pipeline_tabs_spec.js` or/and `ee/spec/frontend/pipelines/components/pipeline_tabs_spec.js`, remove the stub for the tab content as it should no longer be necessary.\n1. **TAB SPECIFIC INSTRUCTION** If you have a count badge, add specs for it as needed\n1. **TAB SPECIFIC INSTRUCTION** If it's the failed jobs tab, make sure to test the tab renders only conditionally\n1. Lookout in the table below for the tab you are working on. For all the ones that are listed, create a duplicated spec file if applicable (someone might already have done this!). Rename the old one with a prefix `legacy_` and the new one should have the name of the original.\n\n| Spec Name | Line number | Tab content required |\n| ------ | ------ | ------ |\n| ee/spec/features/projects/pipelines/pipeline_spec.rb | 18 | Pipeline |\n| spec/features/projects/pipelines/pipeline_spec.rb | 18 | Pipeline |\n| spec/features/projects/pipelines/pipeline_spec.rb | 1158 | Needs |\n| spec/features/projects/pipelines/pipelines_spec.rb | 626 | Pipelines |\n\n1. In the new file (which has the old name!) remove the stubs at the appropriate line\n1. Repeat for all applicable spec file\n1. Now, we should have one spec running the old tab content, and one with the new! :tada:\n1. Once you have an MR, please add the link to the table here: https://gitlab.com/gitlab-org/gitlab/-/issues/230749","state":"closed","created_at":"2022-03-17T18:40:17.566Z","updated_at":"2022-05-17T17:24:25.660Z","closed_at":"2022-05-17T17:24:25.643Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","devops::verify","frontend","group::pipeline authoring","maintenance::refactor","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356198","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356198","notes":"https://gitlab.com/api/v4/projects/278964/issues/356198/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356198/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356198","relative":"#356198","full":"gitlab-org/gitlab#356198"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":50314,"iid":63,"sequence":16,"group_id":9970,"title":"Iteration 16","description":"Target milestone `15.1`","state":3,"created_at":"2022-03-06T00:05:02.043Z","updated_at":"2022-05-30T00:05:02.370Z","start_date":"2022-05-16","due_date":"2022-05-29","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/50314"},"health_status":null},{"id":105020404,"iid":356197,"project_id":278964,"title":"Continuous Verification CMAU Instrumentation MVC","description":"\u003c!--\nPerformance Indicator Metric issues are used for adding, updating, or removing performance indicator type in Service Ping metrics.\n\nPlease title your issue with the following format: \"{action}(Add|Update|Remove) Metric name as performance indicator\"\n\nExample of title: \"Add static_site_editor_views as gmau\"\n\n--\u003e\n\n## What do we want to start measuring?\n\n`Continuous Verification MAU` - Count of users performing an action that involves continuous verification which includes:\n1. For MVC - # of jobs that have action: verify or active users triggering action:verify pipelines\n\n## Proposal\n\nCreate 1 new counter for the number of unique users that run a pipeline/job that use the `environment: action: verify` keyword\n\n## Tasks\n\n- [ ] [Link to metric definition]()\n- [ ] Create issue in GitLab Data Team project using [Product Performance Indicator template](https://gitlab.com/gitlab-data/analytics/-/issues/new?issuable_template=Product%20Performance%20Indicator%20Template)\n\nSee [Product Intelligence Guide](https://docs.gitlab.com/ee/development/service_ping/performance_indicator_metrics.html) for details\n\n## Implementation plan\n\nWe can use a [Redis HLL](https://docs.gitlab.com/ee/development/service_ping/implement.html#redis-hll-counters) counter to track this metric. To check if a build should be counted, we can run `build.has_environment? \u0026\u0026 build.environment_action == 'verify'`. User IDs can be added to the counter from the [BuildFinishedWorker](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/workers/ci/build_finished_worker.rb#L43). Implementation will be similar to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79272.","state":"closed","created_at":"2022-03-17T18:30:57.376Z","updated_at":"2022-07-29T16:30:43.943Z","closed_at":"2022-07-12T18:13:08.106Z","closed_by":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"labels":["Category:Continuous Verification","Data Warehouse::Impact Check","Deliverable","Next Up","Release::P1","auto updated","backend","devops::release","group::release","product intelligence","section::ops","type::maintenance"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"}],"author":{"id":9304687,"username":"abellucci","name":"Alana Bellucci","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9304687/avatar.png","web_url":"https://gitlab.com/abellucci"},"type":"ISSUE","assignee":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356197","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356197","notes":"https://gitlab.com/api/v4/projects/278964/issues/356197/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356197/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356197","relative":"#356197","full":"gitlab-org/gitlab#356197"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6839,"epic":{"id":360029,"iid":6839,"title":"Continuous Verification: Viable Maturity Plan","url":"/groups/gitlab-org/-/epics/6839","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105017797,"iid":356187,"project_id":278964,"title":"FE: Add Container Registry storage to Usage Quotas","description":"### Context\n\nThe GitLab Container Registry is used to publish, download and share container images in your project. These images are often published with GitLab CI and can range from a few megabytes to several gigabytes. \n\n### Problem to solve\n\nThe problem is that, until recently, container registry storage usage was not calculated for projects, groups, and namespaces. This means that GitLab has not accurately been reporting storage consumption. \n\nHowever, https://gitlab.com/gitlab-org/gitlab/-/issues/347351 added support for obtaining the size of grouped image repositories to the Rails container registry client class. And https://gitlab.com/gitlab-org/gitlab/-/issues/354480 added a new `registry_size` method on the `Project` model. \n\nThe next step is to ensure that this data is populated on the front end.\n\n### Proposal\n\nPopulate container registry storage usage in the usage quotas page so that GitLab customers can better understand how much storage they are consuming and purchase more storage as needed.\n\n### Design\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/360371","state":"closed","created_at":"2022-03-17T17:25:01.735Z","updated_at":"2022-06-07T12:01:26.652Z","closed_at":"2022-06-07T12:01:26.227Z","closed_by":{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"},"labels":["Category:Container Registry","Fulfillment::Storage","[deprecated] Category:Utilization","auto updated","devops::package","frontend","group::utilization","missed:15.0","ruby","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":10373497,"username":"kpalchyk","name":"Kos Palchyk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10373497/avatar.png","web_url":"https://gitlab.com/kpalchyk"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356187","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356187","notes":"https://gitlab.com/api/v4/projects/278964/issues/356187/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356187/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356187","relative":"#356187","full":"gitlab-org/gitlab#356187"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7228,"epic":{"id":401185,"iid":7228,"title":"Project-level storage usage visibility for the Container Registry","url":"/groups/gitlab-org/-/epics/7228","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":105014542,"iid":356182,"project_id":278964,"title":"Remove feature flag logic from backend","description":"Original Issues that added feature flag logic:\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/333578\n\nOriginal MRs that added feature flag logic:\n\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79266\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82932\n\nImplementation Plan:\n\n- [ ] remove feature flag branch in `ee/app/models/software_license_policy.rb`\n- [ ] remove feature flag branch in `ee/app/models/ee/merge_request.rb`\n- [ ] update tests to remove feature flag branches and controls\n\n**Note**: This issue can only be done at least in %\"15.1\"\n\n### Testing\n\nSET to update tests to remove the feature flag logic ( https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84599/diffs )","state":"closed","created_at":"2022-03-17T16:21:28.715Z","updated_at":"2022-12-29T03:09:00.461Z","closed_at":"2022-06-14T16:52:37.582Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","feature flag","group::composition analysis","maintenance::removal","quad-planning::complete-action","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356182","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356182","notes":"https://gitlab.com/api/v4/projects/278964/issues/356182/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356182/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356182","relative":"#356182","full":"gitlab-org/gitlab#356182"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7749,"epic":{"id":473859,"iid":7749,"title":"[15.0 Feature flag] Rollout of legacy approval_status removal for License Compliance","url":"/groups/gitlab-org/-/epics/7749","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":105014496,"iid":356180,"project_id":278964,"title":"Enable lc_remove_legacy_approval_status feature flag in YML file","description":"This issue describes enabling the `:lc_remove_legacy_approval_status` feature flag in the feature_flags configuration. This is done so that instances running the targeted milestone can have this flag enabled.\n\nImplementation Plan:\n- [ ] update configuration file to set `default_enabled` to `true`: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/config/feature_flags/development/lc_remove_legacy_approval_status.yml#L8\n\n**Note**: This issue can only be done in %\"15.0\"\n\n### Testing\n\nSET to update tests where needed, logic to switch button type based on FF is present.","state":"closed","created_at":"2022-03-17T16:20:48.052Z","updated_at":"2022-05-24T12:04:35.183Z","closed_at":"2022-05-02T13:24:26.542Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","backend","devops::secure","feature flag","feature::addition","frontend","group::composition analysis","quad-planning::complete-action","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356180","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356180","notes":"https://gitlab.com/api/v4/projects/278964/issues/356180/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356180/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356180","relative":"#356180","full":"gitlab-org/gitlab#356180"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7749,"epic":{"id":473859,"iid":7749,"title":"[15.0 Feature flag] Rollout of legacy approval_status removal for License Compliance","url":"/groups/gitlab-org/-/epics/7749","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":105010686,"iid":356166,"project_id":278964,"title":"Registry phase 2: support 404 on pre import API calls","description":"### :apple: Context\n\nRight now, the Enqueuer can pick the next eligible image repository and start the migration by calling the `pre_import` API endpoint on the registry side.\n\nThat endpoint can reply `404` if the repository doesn't exist. This is an very edge case but it could happen.\n\nThe Enqueuer is currently simply [abort migrations](https://gitlab.com/gitlab-org/gitlab/-/blob/881dadc0b23ccf6e4724a9542498a92b4d34280f/app/models/container_repository.rb#L306-308) for non successful response codes on the `pre_import` endpoint. The migration will then be retried at a later time which is not useful because we received `404`.\n\n### :knife: Solution\n\nHandle the `404` and skip the migration (skip reason: not found) so that it's not retried.","state":"closed","created_at":"2022-03-17T15:33:18.486Z","updated_at":"2022-03-22T15:11:34.752Z","closed_at":"2022-03-22T15:11:34.169Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration Blocker","Container Registry Migration::Phase 2","[deprecated] Accepting merge requests","backend","devops::package","group::package registry","ruby","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356166","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356166","notes":"https://gitlab.com/api/v4/projects/278964/issues/356166/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356166/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/356371"},"references":{"short":"#356166","relative":"#356166","full":"gitlab-org/gitlab#356166"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105002447,"iid":356152,"project_id":278964,"title":"New Audit Event: Changes in group-level MR settings","description":"\u003c!-- Audit Event documentation: See https://docs.gitlab.com/ee/administration/audit_events.html --\u003e\n\n## Audit need\n\n\u003c!-- Describe the real-world use case for the audit event you want to introduce, and explain the closest thing that GitLab already captures. --\u003e\n\nWe currently track MR approval setting changes for projects but not for groups. Because group-level MR settings are cascaded to projects to enforce behavior, this is a critical area users need to be able to audit.\n\n## Proposal\n\n\u003c!-- Describe the audit event you are proposing should be added, including any details of what should be captured, how, and why. --\u003e\n\nAdd audit events for all the checkboxes in the group-level MR approval settings section. Consider copying from the project-level equivalent to maintain as much consistency as possible.\n\n![image](/uploads/cc1137a06ec0514746c20632ba41113e/image.png)","state":"closed","created_at":"2022-03-17T13:40:46.788Z","updated_at":"2022-06-22T12:25:42.538Z","closed_at":"2022-06-21T07:48:38.942Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["Category:Audit Events","Next Up","audit_events::settings_configuration","devops::manage","group::compliance","priority::2","section::dev","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356152","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356152","notes":"https://gitlab.com/api/v4/projects/278964/issues/356152/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356152/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356152","relative":"#356152","full":"gitlab-org/gitlab#356152"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":105001657,"iid":356149,"project_id":278964,"title":"Rate limit the integration testing endpoint","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nSimilar to the rate limit we introduced for webhook testing in https://gitlab.com/gitlab-org/gitlab/-/issues/223681 / https://gitlab.com/gitlab-org/security/gitlab/-/merge_requests/826, we should do the same for the `Test settings` button on integration forms.\n\nCurrently only the general rate limit for authenticated web requests applies.\n\n## Improvements\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n\nAdd a rate limit around the `Projects::ServicesController#test` action at https://gitlab.com/gitlab-org/gitlab/blob/1f9cea0234129104ab502e8a2d1b75b73601eb27/app/controllers/projects/services_controller.rb#L62.\n\nMaybe we can use the same threshold/interval as for the webhook testing at https://gitlab.com/gitlab-org/gitlab/blob/1f9cea0234129104ab502e8a2d1b75b73601eb27/lib/gitlab/application_rate_limiter.rb#L26.\n\nThe test action is currently only available at the project level, so we don't need to worry about the admin and group controllers (see https://gitlab.com/gitlab-org/gitlab/blob/1f9cea0234129104ab502e8a2d1b75b73601eb27/app/controllers/concerns/integrations/actions.rb#L40).\n\n\u003c!--\nPlease select the appropriate label from the following:\n    ~\"feature::addition\"\n    ~\"type::maintenance\"\n    ~\"maintenance::refactor\"\n    ~\"maintenance::pipelines\"\n    ~\"maintenance::workflow\"\n--\u003e","state":"closed","created_at":"2022-03-17T13:29:08.794Z","updated_at":"2022-11-22T18:56:36.750Z","closed_at":"2022-07-12T22:52:01.623Z","closed_by":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"labels":["Category:Integrations","Deliverable","availability::limit","backend","devops::manage","group::integrations","reliability","section::dev","severity::3","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-08-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356149","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356149","notes":"https://gitlab.com/api/v4/projects/278964/issues/356149/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356149/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356149","relative":"#356149","full":"gitlab-org/gitlab#356149"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5033,"epic":{"id":160034,"iid":5033,"title":"Improve test functionality of the integrations","url":"/groups/gitlab-org/-/epics/5033","group_id":9970},"iteration":null,"health_status":null},{"id":105000768,"iid":356148,"project_id":278964,"title":"Service ping data for streaming audit events UI","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nWe need visibility on how many users interact with the new UI page for streaming audit events.\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nAdd service ping data for the new UI page for streaming audit events.\n- Record the number of unique users that visit this page over the time period\n- Record the total number of visits to this page over the time period\n\n### Implementation plan\n\n~frontend - :two: \n\n1. Add https://docs.gitlab.com/ee/development/snowplow/implementation.html#data-track-attributes to https://gitlab.com/gitlab-org/gitlab/blob/262abea6ad0809bdbbf47465ba465ccecbdddf26/ee/app/assets/javascripts/audit_events/components/audit_events_app.vue#L29\n2. Add spec to check that the values are set\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-03-17T13:12:35.006Z","updated_at":"2022-05-13T06:04:00.231Z","closed_at":"2022-05-13T06:04:00.211Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Audit Events","GitLab Premium","GitLab Ultimate","Next Up","devops::manage","frontend","group::compliance","section::dev","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356148","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356148","notes":"https://gitlab.com/api/v4/projects/278964/issues/356148/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356148/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356148","relative":"#356148","full":"gitlab-org/gitlab#356148"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6291,"epic":{"id":302029,"iid":6291,"title":"Screen-based approach for streaming audit events","url":"/groups/gitlab-org/-/epics/6291","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104995268,"iid":356140,"project_id":278964,"title":"Update copy for the remove topic avatar modal","description":"The following discussion from !82894 should be addressed:\n\n- [ ] @blabuschagne started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82894#note_877170644):  (+4 comments)\n\n    \u003e @danmh could you please ~UX review this PJs migration? :bow:","state":"closed","created_at":"2022-03-17T11:32:01.554Z","updated_at":"2022-03-24T10:46:36.898Z","closed_at":"2022-03-24T10:46:36.878Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["devops::manage","frontend","group::optimize","priority::4","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356140","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356140","notes":"https://gitlab.com/api/v4/projects/278964/issues/356140/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356140/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356140","relative":"#356140","full":"gitlab-org/gitlab#356140"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":104993215,"iid":356137,"project_id":278964,"title":"[Bug] Selecting a compliance violation with the same MR should keep the drawer open","description":"## Problem to solve\n\nSelecting a compliance violation with the same MR should keep the drawer open instead of toggling the drawer to close.\n\n## Recording\n\n![Screen_Recording_2022-03-17_at_11.52.26](/uploads/c70c1e1c065a8be0d097fb36adc15078/Screen_Recording_2022-03-17_at_11.52.26.mov)\n\n## Suggested solution\n\nWhen the drawer is open, and the user clicks on a different row that has the same MR ID, keep the drawer open.\n\n## Implementation\n\nUpdate `report.vue`'s toggle drawer logic to keep the drawer open in the above scenario.","state":"closed","created_at":"2022-03-17T10:55:14.813Z","updated_at":"2022-03-21T09:57:13.845Z","closed_at":"2022-03-21T09:57:13.827Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["devops::manage","feature flag","frontend","group::compliance","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356137","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356137","notes":"https://gitlab.com/api/v4/projects/278964/issues/356137/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356137/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356137","relative":"#356137","full":"gitlab-org/gitlab#356137"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6870,"epic":{"id":364935,"iid":6870,"title":"Compliance report merge request violations frontend MVP","url":"/groups/gitlab-org/-/epics/6870","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104989606,"iid":356130,"project_id":278964,"title":"Enqueuer job executions can be done in parallel","description":"## :fire: Problem\n\nThe [Enqueuer job](https://gitlab.com/gitlab-org/gitlab/-/blob/257d55987d92980c085c76a8d2a75cd4c2d05ec0/app/workers/container_registry/migration/enqueuer_worker.rb) used for the registry [phase 2](https://gitlab.com/groups/gitlab-org/-/epics/7316) can be enqueued by many sources (re_enqueuing and cron schedule).\n\nWe have deduplication in place but it doesn't protect us from parallel executions as shown in these logs:\n\n![Screenshot_2022-03-17_at_10.53.41](/uploads/51e5cc8747d051b2d9902677f0e76300/Screenshot_2022-03-17_at_10.53.41.png)\n\nWhat we see above is: start1 -\u003e start2 -\u003e end1 -\u003e end2.\n\n## :fire_engine: Solution\n\nUse [`until_executed`](https://docs.gitlab.com/ee/development/sidekiq/idempotent_jobs.html#until-executed).","state":"closed","created_at":"2022-03-17T09:59:00.301Z","updated_at":"2022-03-23T15:40:30.610Z","closed_at":"2022-03-21T19:27:19.126Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration Blocker","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356130","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356130","notes":"https://gitlab.com/api/v4/projects/278964/issues/356130/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356130/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356130","relative":"#356130","full":"gitlab-org/gitlab#356130"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104976957,"iid":356108,"project_id":278964,"title":"Show custom message when image repository deletion fails due to import","description":"## :fire: Problem\n\nSimilar to https://gitlab.com/gitlab-org/gitlab/-/issues/352079.\n\nWe should not accept image repository destruction if the image repository is importing.\n\n![Screenshot_2022-03-17_at_08.15.14](/uploads/f0d8fa70b7c1cdeaf9571e60fd56ada9/Screenshot_2022-03-17_at_08.15.14.png)\n\n## :fire_engine: Solution\n\nDon't allow the operation and display the same error as in https://gitlab.com/gitlab-org/gitlab/-/issues/352079:\n\n\u003e Image repository temporarily cannot be marked for deletion. Please try again in a few minutes. \\[More details\\](https://docs.gitlab.com/ee/user/packages/container_registry/#tags-temporarily-cannot-be-marked-for-deletion).","state":"closed","created_at":"2022-03-17T07:18:57.143Z","updated_at":"2022-04-20T12:31:10.765Z","closed_at":"2022-04-20T12:31:10.747Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","SUS::Impacting","UX","[deprecated] 🍎","auto updated","backend","devops::package","frontend","group::package registry","package:active","section::ops","severity::4","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356108","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356108","notes":"https://gitlab.com/api/v4/projects/278964/issues/356108/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356108/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356108","relative":"#356108","full":"gitlab-org/gitlab#356108"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":104957279,"iid":356085,"project_id":278964,"title":"Fix registry client to allow for 404s and Enqueuer to not abort on all errors","description":"## Problem\n\n### The error\n\nIn testing the phase 2 container registry migration on staging, we started an import that resulted in an aborted migration:\n\n```ruby\ngitlabhq_production=\u003e select id, updated_at, migration_state, migration_aborted_in_state, migration_retries_count from container_repositories where migration_state \u003c\u003e 'default' order by updated_at desc;\n  id   |         updated_at         | migration_state | migration_aborted_in_state | migration_retries_count\n-------+----------------------------+-----------------+----------------------------+-------------------------\n 35796 | 2022-03-16 20:45:08.650119 | import_aborted  | default                    |                       1\n 35791 | 2022-03-16 14:45:02.717885 | import_aborted  | default                    |                       1\n 48115 | 2022-03-16 03:50:24.267328 | import_aborted  | importing                  |                       2\n 28273 | 2022-03-02 15:45:02.880413 | import_aborted  | default                    |                       1\n 42704 | 2022-02-11 10:01:06.334941 | import_aborted  | importing                  |                       1\n 77881 | 2022-02-11 10:01:06.321232 | import_aborted  | importing                  |                       1\n 77891 | 2022-02-11 10:01:06.30645  | import_aborted  | pre_importing              |                       1\n 77898 | 2022-02-11 10:01:06.290414 | import_aborted  | pre_import_done            |                       1\n(8 rows)\n```\n\nRepository ID 35796 was the one that failed. Looking through the code, we see that the only obvious reason something would go from `default` to `import_aborted` state is due to an exception: https://gitlab.com/gitlab-org/gitlab/-/blob/72e85657fb606f1c53e0b357cade2211aecdad47/app/workers/container_registry/migration/enqueuer_worker.rb#L29\n\nThe error can be found in the logs by searching `json.extra.next_repository_id: 35796`: https://nonprod-log.gitlab.net/goto/23b5efe0-a577-11ec-b3a6-472d0398dd6e\n\nThe error is:\n\n```sh\nNoMethodError\nundefined method `[]' for nil:NilClass\n\n\nlib/container_registry/gitlab_api_client.rb:57:in `block in import_status', \nlib/container_registry/gitlab_api_client.rb:88:in `with_import_token_faraday', \nlib/container_registry/gitlab_api_client.rb:55:in `import_status', \napp/models/container_repository.rb:327:in `block in external_import_status', \nlib/gitlab/utils/strong_memoize.rb:30:in `strong_memoize', \napp/models/container_repository.rb:326:in `external_import_status', \napp/models/container_repository.rb:279:in `retry_aborted_migration', \napp/workers/container_registry/migration/enqueuer_worker.rb:35:in `handle_aborted_migration', \napp/workers/container_registry/migration/enqueuer_worker.rb:21:in `perform', \n...\n```\n\nLooking at the list of container_repositories above and at the log output, we see there is a value `json.extra.next_aborted_repository_id: 28273`. \n\nBefore starting the next import, the Enqueuer first tries any previously aborted imports, so it found `28273`, and then requested the [import status from the registry](https://gitlab.com/gitlab-org/gitlab/-/blob/f0af40a89beb0f820f1c9c4dc3e6a848d65140ef/lib/container_registry/gitlab_api_client.rb#L54). The response did not include a body, so `body_hash['status']` threw the error.\n\nLooking at the registry side of things, we can see the log shows it received this request and returned a `404`: https://nonprod-log.gitlab.net/app/discover#/doc/pubsub-registry-inf-gstg/pubsub-registry-inf-gstg-000154?id=r1cwk38BIz3g9xmlwhJD\n\nIf the import has not yet started, the import status endpoint returns a 404 with no body, rails did not know how to handle this response.\n\n### The additional aborted imports\n\nThe error was thrown while handling an aborted repository, but you can see in the rescue clause, regardless of what error is thrown, we [automatically abort the next qualified repository](https://gitlab.com/gitlab-org/gitlab/-/blob/6b02a49422145199ca53821acab0ffcb872b9275/app/workers/container_registry/migration/enqueuer_worker.rb#L29). This means that if we continued to let this run, every hour, another new repository would be aborted, further contributing to the problem.\n\n## Solutions\n\n**Proposed solution for the error:**\n\nAdd a guard to `GitlabApiClient#import_status` to handle the 404 error: https://gitlab.com/gitlab-org/gitlab/-/blob/6b02a49422145199ca53821acab0ffcb872b9275/lib/container_registry/gitlab_api_client.rb#L57\n\nWhen a 404 is received, return 'pre_import_failed' which will [trigger a pre-import retry](https://gitlab.com/gitlab-org/gitlab/-/blob/6b02a49422145199ca53821acab0ffcb872b9275/app/models/container_repository.rb#L292). \n\nThis will resolve the problem, but hardcoding the response is not necessarily the best long term solution. \n\n**Alternative solution for the error:**\n\nUpdate the registry endpoint to respond when queried about a repository that has not yet started importing.\n\n**Proposed solution for the rescue:**\n\nRemove [`next_repository\u0026.abort_import`](https://gitlab.com/gitlab-org/gitlab/-/blob/6b02a49422145199ca53821acab0ffcb872b9275/app/workers/container_registry/migration/enqueuer_worker.rb#L29) from the `rescue` in `EnqueuerWorker`.\n\n** Alternative solution for the rescue:**\n\nUpdate the logic in the rescue to abort the `next_repository` conditionally.","state":"closed","created_at":"2022-03-16T22:34:39.527Z","updated_at":"2022-04-08T11:47:03.755Z","closed_at":"2022-03-25T08:16:11.310Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Blocker","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::feature","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},{"id":4082686,"username":"jaime","name":"Jaime Martinez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4082686/avatar.png","web_url":"https://gitlab.com/jaime"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356085","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356085","notes":"https://gitlab.com/api/v4/projects/278964/issues/356085/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356085/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356085","relative":"#356085","full":"gitlab-org/gitlab#356085"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104955762,"iid":356083,"project_id":278964,"title":"[Feature flag] Rollout of `jira_connect_installation_update`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/344936) on production,\nthat is currently behind the `jira_connect_installation_update` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::integrations\" \n- Most appropriate slack channel to reach out to: `#g_ecosystem_integrations`\n- Best individual to reach out to: `@Andysoiron` (European TZ) or `@.luke` (APAC TZ).\n- PM: `@g.hickman` \n\n## Expectations\n\n### What are we expecting to happen?\n\nWhen a Jira instance updates the authentication mechanism for a GitLab Jira integration, the GitLab Jira integration continues to work https://gitlab.com/gitlab-org/gitlab/-/issues/344936.\n\n### When is the feature viable?\n\nImmediately.\n\n### What might happen if this goes wrong?\n\nThe creation of new Jira integrations might break.\n\n### What can we monitor to detect problems with this?\n\n- Kibana [logs for the endpoint](https://log.gprd.gitlab.net/app/discover#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-1d,to:now))\u0026_a=(columns:!(json.status),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'7092c4e2-4eb5-46f2-8305-a7da2edad090',key:json.meta.caller_id,negate:!f,params:(query:'JiraConnect::EventsController%23installed'),type:phrase),query:(match_phrase:(json.meta.caller_id:'JiraConnect::EventsController%23installed')))),index:'7092c4e2-4eb5-46f2-8305-a7da2edad090',interval:auto,query:(language:kuery,query:''),sort:!(!(json.time,desc))))\n- Sentry [events for the controller](https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+%22JiraConnect%3A%3AEventsController%22).\n\n### What can we check for monitoring production after rollouts?\n\nSee above.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set jira_connect_installation_update true --dev`\n    - [x] `/chatops run feature set jira_connect_installation_update true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [-] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/344936) an estimated time this will be enabled on GitLab.com. \n- [-] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\n**Note the flag has no actor https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83038#note_877724838.**\n\n**Note we will not do an incremental rollout but instead globally enable and try to have Atlassian trigger the secret rotation for select customers**\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [-] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [-] ~~`/chatops run feature set jira_connect_installation_update \u003crollout-percentage\u003e --random`~~ See note above\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set jira_connect_installation_update true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/344936) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `jira_connect_installation_update` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/344936) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete jira_connect_installation_update --dev`\n    - [x] `/chatops run feature delete jira_connect_installation_update --staging`\n    - [x] `/chatops run feature delete jira_connect_installation_update`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set jira_connect_installation_update false\n```","state":"closed","created_at":"2022-03-16T21:59:23.172Z","updated_at":"2022-11-22T18:56:40.030Z","closed_at":"2022-03-31T03:05:20.794Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["devops::manage","feature flag","feature::addition","group::integrations","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356083","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":25,"completed_count":24},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"24 of 25 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356083","notes":"https://gitlab.com/api/v4/projects/278964/issues/356083/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356083/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356083","relative":"#356083","full":"gitlab-org/gitlab#356083"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":104952121,"iid":356074,"project_id":278964,"title":"Improve error message handling in subscription_details.vue","description":"## Proposal\n\nInstead of showing error alert with a _technical_ message show `An unexpected error occurred` on API failures in subscription details.\n\n## Context \n\nThe following discussion from !82480 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82480#note_877652915): \n\n    \u003e ![Screenshot_from_2022-03-16_15-56-25](/uploads/761df8367c4adcf60eff27e6f353db09/Screenshot_from_2022-03-16_15-56-25.png)\n    \u003e \n    \u003e **issue (ux, non-blocking):** We want to avoid showing **technical** errors in the UI. Instead we should show a non-technical error message and log the technical error using the [client-side logging modules](https://docs.gitlab.com/ee/development/fe_guide/logging.html).\n    \u003e \n    \u003e This isn't a blocking issue, so I'll create a follow-up for this :eyes:","state":"closed","created_at":"2022-03-16T20:59:35.669Z","updated_at":"2022-09-05T12:37:58.952Z","closed_at":"2022-09-05T12:37:58.574Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","SUS::Impacting","devops::fulfillment","frontend","group::purchase","maintenance::usability","missed:15.1","missed:15.3","section::fulfillment","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356074","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356074","notes":"https://gitlab.com/api/v4/projects/278964/issues/356074/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356074/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356074","relative":"#356074","full":"gitlab-org/gitlab#356074"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":104950668,"iid":356071,"project_id":278964,"title":"Backend: Add field to JobType for differentiating between a Ci::Bridge and a Ci::Build","description":"\u003c!--\n## Implementation Issue To-Do list \n(_NOTE: This section can be removed when the issue is ready for creation_)\n- [ ] Ensure that issue title is concise yet descriptive\n- [ ] Add `Frontend :` or `Backend: ` per group [naming conventions](https://about.gitlab.com/handbook/engineering/development/ops/verify/pipeline-authoring/#splitting-issues)\n- [ ] Ensure the issue containing the feature or change proposal and related discussions is linked as related to this implementation issue.\n- [ ] Aside from default labeling, please make sure to include relevant labels for `type::`, `workflow::`, and `~frontend`/`~backend` labeling.\n- [ ] Issues with user-facing changes should include the `~UX` label.\n--\u003e\n\n## Problem\n\nDetails of the main problem are noted in the design [issue](https://gitlab.com/gitlab-org/gitlab/-/issues/340194#-problem)\n\nThere needs to be a distinction made coming from the ~backend to know whether a job is a build or a bridge type as this will help when troubleshooting a pipeline that triggers a downstream to determine which jobs trigger pipelines to decrease the time it takes to get to problem resolution.\n\n## Proposal\n\nFrom a ~backend perspective, we will add an enum `Type` to `JobType` that returns if a job is a `Ci::Build` or a `Ci::Bridge`.\n\n## Implementation Table\n\n| Issue | Issue Link |\n| ------ | ------ |\n| Design: Differentiate trigger jobs from regular jobs in the pipeline graph and mini pipeline graph  |   https://gitlab.com/gitlab-org/gitlab/-/issues/340194 |\n| Backend: Differentiate trigger jobs from regular jobs in the UI | :point_left: You are here |\n| Frontend: Differentiate trigger jobs from regular jobs in the pipeline graph |  https://gitlab.com/gitlab-org/gitlab/-/issues/356330 |\n[Frontend: Differentiate trigger jobs from regular jobs in the mini- pipeline](https://gitlab.com/gitlab-org/gitlab/-/issues/356331) | https://gitlab.com/gitlab-org/gitlab/-/issues/356331|\n\n\u003c!--\n## Documentation \n\n_NOTE: This section is optional, but can be used for easy access to any relevant documentation URLs._\n--\u003e\n\n## Links/References","state":"closed","created_at":"2022-03-16T20:38:34.014Z","updated_at":"2022-04-05T09:51:01.943Z","closed_at":"2022-04-05T09:51:01.926Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Category:Pipeline Authoring","GitLab Free","GitLab Premium","GitLab Ultimate","GraphQL","backend","backend-weight::1","devops::verify","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356071","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356071","notes":"https://gitlab.com/api/v4/projects/278964/issues/356071/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356071/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356071","relative":"#356071","full":"gitlab-org/gitlab#356071"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6947,"epic":{"id":373378,"iid":6947,"title":"Triggering and retrying trigger jobs and downstream pipelines","url":"/groups/gitlab-org/-/epics/6947","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":47580,"iid":58,"sequence":13,"group_id":9970,"title":"Pipeline Authoring: April 4, 2022 - April 17, 2022","description":"Target milestone `14.10`","state":3,"created_at":"2022-02-06T00:05:01.691Z","updated_at":"2022-04-18T00:05:02.477Z","start_date":"2022-04-04","due_date":"2022-04-17","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/47580"},"health_status":null},{"id":104945885,"iid":356059,"project_id":278964,"title":"About your company page should have different copy depending on where a user entered from","description":"If a user comes in from the trial flow, the content should read:\n\n* `To activate your trial, we need a few additional details from you.`\n\nIf a user comes in from the standard registration flow, the content should read:\n\n* `To complete registration, we need a few additional details from you.`\n\nDesign:\n![Screen_Shot_2022-03-16_at_12.41.57_PM](/uploads/b1e8aace9b24ceb7b485bc916867bc95/Screen_Shot_2022-03-16_at_12.41.57_PM.png)","state":"closed","created_at":"2022-03-16T18:46:32.136Z","updated_at":"2022-04-12T15:30:46.312Z","closed_at":"2022-04-12T15:30:46.296Z","closed_by":{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"},"labels":["auto updated","devops::growth","free user priority","group::adoption DEPRECATED","section::growth","workflow::ready for development"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"}],"author":{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},"type":"ISSUE","assignee":{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356059","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356059","notes":"https://gitlab.com/api/v4/projects/278964/issues/356059/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356059/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356059","relative":"#356059","full":"gitlab-org/gitlab#356059"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":104944576,"iid":356053,"project_id":278964,"title":"Enterprise filter token label says `true`/`false` instead of `Yes`/`No`","description":"### Summary\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/349887 we added an `Enterprise` filter to the members page. There is a minor visual bug where after submitting the filter the token label says `true` or `false` instead of `Yes` or `No`.\n\n### Steps to reproduce\n\n1. Navigate to https://gitlab.com/groups/gitlab-silver/-/group_members?enterprise=false as an Owner of the group\n\n### What is the current *bug* behavior?\n\n`Enterprise` label token label says `true` or `false`\n\n### What is the expected *correct* behavior?\n\n`Enterprise` label token label should say  `Yes` or `No`\n\n### Relevant logs and/or screenshots\n\n### Incorrect\n\n![Screen_Shot_2022-03-16_at_11.12.06_AM](/uploads/d55b8fd577720cb9ca45e566368ae8af/Screen_Shot_2022-03-16_at_11.12.06_AM.png)\n\n### Correct\n\n![Screen_Shot_2022-03-16_at_11.10.33_AM](/uploads/291d1af53cd5a936b3d07a0607df72bc/Screen_Shot_2022-03-16_at_11.10.33_AM.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nChange `true` and `false` in [ee/app/assets/javascripts/members/constants.js#L20](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/members/constants.js#L20) to strings.","state":"closed","created_at":"2022-03-16T18:18:37.047Z","updated_at":"2022-03-17T15:16:51.050Z","closed_at":"2022-03-17T15:16:51.028Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["devops::manage","frontend","group::organization","section::dev","severity::4","type::bug","workflow::canary"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356053","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356053","notes":"https://gitlab.com/api/v4/projects/278964/issues/356053/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356053/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356053","relative":"#356053","full":"gitlab-org/gitlab#356053"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":104941050,"iid":356042,"project_id":278964,"title":"Add additional logging to the phase 2 enqueuer","description":"## Proposal\n\nFollowing up the observation made in https://gitlab.com/groups/gitlab-org/-/epics/7528#note_877380989, we should add logging to the Enqueuer so that every job logs something useful about what happened during the job.\n\nLooking at the `#perform method`:\n\n```ruby\n      def perform\n        return unless migration.enabled?\n        return unless below_capacity?\n        return unless waiting_time_passed?\n\n        re_enqueue_if_capacity if handle_aborted_migration || handle_next_migration\n      rescue StandardError =\u003e e\n        ...\n      end\n```\n\nCurrently we log only on events in the last line of the method and in the rescue:\n\n- When handling an aborted migration\n   - container_repository_id\n   - import type: 'retry'\n- When handling the next migration\n   - container_repository_id\n   - import type: 'next'\n- When an error occurs\n   - the container repository id (could be the aborted or next id depending on when the error occurred).\n\nWe should add logging for all of the `return` guards. These would only log if we reach these sections of code:\n\n- `migration_enabled` (true/false)\n- `below_capacity` (true/false)\n- `current_capacity_setting` (25, 10, 1, 0)\n- `waiting_time_passed` (true/false)\n- `current_waiting_time_setting` (0, 1 hour, 6 hours)\n- `tag_count_too_high` (true/false)\n- `max_tag_count_setting`","state":"closed","created_at":"2022-03-16T17:23:26.870Z","updated_at":"2022-03-25T08:14:54.870Z","closed_at":"2022-03-25T08:14:54.839Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration Blocker","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356042","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356042","notes":"https://gitlab.com/api/v4/projects/278964/issues/356042/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356042/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356042","relative":"#356042","full":"gitlab-org/gitlab#356042"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104938901,"iid":356036,"project_id":278964,"title":"Introduce ServiceResponse#reason to distinguish between errors","description":"## Problem\n\nThe `ServiceResponse#http_status` is a violation of a good [Hexagonal architecture](https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)) because it ties the result of a domain service (business logic) to how it should be rendered to the client. It should be the adapter’s responsibility (for example the REST/GraphQL/Controller endpoint) to decide what HTTP status to use. \n\nMaybe we could use `reason` or `resolution` which we can set to a symbol that the caller can parse and decide how to react.\n\nThis can be a problem if we want to reuse a service object across 2 endpoints that return different HTTP statuses on error. Also having a way to choose how to react to a response error based on the reason (for example: a symbol) would be better than switching based on the `http_status` or `message`.\n\n## Proposal\n\n- Introduce a `reason:` option in the `ServiceResponse` object.\n- Add static analyzer to block new usages of `http_status`.\n- Create issues to retire use of `http_status` in favour of `reason`.\n\n```ruby\nclass MyService\n  def execute\n    # do some work\n  rescue Gitlab::Access::AccessDeniedError =\u003e e\n    ServiceResponse.error(message: e.message, reason: :access_denied)\n  end\nend\n\n# how to use it?\nresponse = MyService.new(...).execute\n\nif response.success?\n  head :ok  \nelsif response.reason == :access_denied\n  head :forbidden\nelse\n  head :bad_request\nend\n```","state":"closed","created_at":"2022-03-16T16:48:19.121Z","updated_at":"2022-10-21T12:03:09.622Z","closed_at":"2022-10-13T13:17:21.344Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Deliverable","auto updated","backend","development guidelines","devops::verify","group::pipeline execution","maintenance::refactor","missed-deliverable","missed:15.4","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":8,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356036","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356036","notes":"https://gitlab.com/api/v4/projects/278964/issues/356036/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356036/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356036","relative":"#356036","full":"gitlab-org/gitlab#356036"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":104931288,"iid":356026,"project_id":278964,"title":"Fail pages job if there is no public directory uploaded to artifacts","description":"## Summary\n\nA while back we stored pages content on disk, and were unpacking zip archive content there.\nAnd there was a check for the `public` directory there: https://gitlab.com/gitlab-org/gitlab/-/blob/9428adf9d8bee4bf22daac1a7df58985ad2cf038/app/services/projects/update_pages_service.rb#L38.\n\nOnce we've migrated to the new architecture we stopped extracting files and stopped checking for the `public` directory,\n[which confuses users](https://gitlab.com/gitlab-org/gitlab/-/issues/340682#note_876004478).\n\nWe should consider adding this check back.\n\n### Implementation guide\n\nBefore creating pages deployment in https://gitlab.com/gitlab-org/gitlab/blob/7866162f277c3093ca6ce93ac02534d7cb4dfc20/app/services/projects/update_pages_service.rb#L36-L36 add something like:\n\n```diff\ndiff --git a/app/services/projects/update_pages_service.rb b/app/services/projects/update_pages_service.rb\nindex 2ec965fe2f46..36cc32605044 100644\n--- a/app/services/projects/update_pages_service.rb\n+++ b/app/services/projects/update_pages_service.rb\n@@ -33,6 +33,7 @@ def execute\n       validate_max_entries!\n \n       build.artifacts_file.use_file do |artifacts_path|\n+        raise InvalidStateError, 'pages miss the public folder' unless  # Open zip archive in artifacts_path using SafeZip, and find the `/public` entry\n         create_pages_deployment(artifacts_path, build)\n         success\n       end\n\n```\n\nAlso, add test for this.","state":"closed","created_at":"2022-03-16T14:59:18.899Z","updated_at":"2022-08-21T12:01:47.916Z","closed_at":"2022-07-31T18:05:16.071Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Category:Pages","Deliverable","[deprecated] Accepting merge requests","auto updated","backend","devops::create","group::editor","missed-deliverable","missed:15.0","missed:15.1","missed:15.2","quad-planning::complete-no-action","section::ops","type::bug","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356026","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356026","notes":"https://gitlab.com/api/v4/projects/278964/issues/356026/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356026/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356026","relative":"#356026","full":"gitlab-org/gitlab#356026"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":104931182,"iid":356025,"project_id":278964,"title":"Add support for K8s v1.23","description":"## Scope\n\nThis issue is part of a bigger development effort described in detail by its epic. The scope of this issue is to add support for Kubernetes 1.23. \n\n## Release notes\n\nIf you use Kubernetes, GitLab wants to ensure you have full functionality when upgrading your clusters to the most recent Kubernetes version. While many of you use GitLab to deploy your Kubernetes clusters, until recently, there was no official support for Kubernetes 1.23. This release fully supports all of the Kubernetes-related features from those versions.\n\n## Actions\n\n\u003c!-- Likely in the form of checkboxed elements --\u003e\n- [x] Cluster management project template: Nothing\n- [x] Auto DevOps: Update our [helper image](https://gitlab.com/gitlab-org/cluster-integration/test-utils/k3s-gitlab-ci/) and its [version in the test matrix](https://gitlab.com/gitlab-org/cluster-integration/auto-deploy-image/-/blob/cded3c1bdca3c04e4cf6fd3ad40a6b16bb6160b8/.gitlab/ci/test.gitlab-ci.yml#L12)\n- [x] Documentation: [Update supported cluster versions](https://docs.gitlab.com/ee/user/clusters/agent/#supported-cluster-versions)\n- [-] Secure: Secure K8s-related features are tested (replaced by https://gitlab.com/gitlab-org/gitlab/-/issues/365224)\n\n## References\n- https://kubernetes.io/blog/2021/12/07/kubernetes-1-23-release-announcement/","state":"closed","created_at":"2022-03-16T14:57:59.058Z","updated_at":"2022-06-28T23:01:33.449Z","closed_at":"2022-06-28T23:01:33.426Z","closed_by":{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"},"labels":["Category:Kubernetes Management","GitLab Free","candidate::15.2","devops::configure","documentation","group::configure","missed:15.1","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":3167938,"username":"tigerwnz","name":"Tiger Watson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/eb2c062f746fe8a57d693ee307942aa5?s=80\u0026d=identicon","web_url":"https://gitlab.com/tigerwnz"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356025","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356025","notes":"https://gitlab.com/api/v4/projects/278964/issues/356025/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356025/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356025","relative":"#356025","full":"gitlab-org/gitlab#356025"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7743,"epic":{"id":471118,"iid":7743,"title":"Add support for Kubernetes version 1.23","url":"/groups/gitlab-org/-/epics/7743","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104931096,"iid":356024,"project_id":278964,"title":"Add support for K8s v1.22","description":"## Release notes\n\nAs Kubernetes users regularly upgrade their clusters to the recent Kubernetes version, it is important that they can be assured, GitLab supports their cluster version. While many users used GitLab to deploy recent Kubernetes clusters until recently there was no official support for Kubernetes versions 1.21 and 1.22. This release brings support for all the Kubernetes related features to users of Kubernetes versions 1.21 and 1.22.\n\n## Scope\n\nThis issue is part of a bigger development effort described in detail by its epic. The scope of this issue is to add support for Kubernetes 1.22 \n\n## Actions\n\n- Cluster management project template: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86790\n- Auto DevOps: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87049","state":"closed","created_at":"2022-03-16T14:56:51.543Z","updated_at":"2022-06-17T15:33:07.065Z","closed_at":"2022-05-16T13:47:33.822Z","closed_by":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"labels":["Category:Auto DevOps","Category:Kubernetes Management","Stretch","candidate::15.0","customer","devops::configure","documentation","group::configure","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356024","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356024","notes":"https://gitlab.com/api/v4/projects/278964/issues/356024/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356024/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356024","relative":"#356024","full":"gitlab-org/gitlab#356024"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6710,"epic":{"id":345550,"iid":6710,"title":"Add support for Kubernetes version 1.22","url":"/groups/gitlab-org/-/epics/6710","group_id":9970,"human_readable_end_date":"Jan 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104930842,"iid":356021,"project_id":278964,"title":"Add support for Kubernetes version 1.21","description":"## Scope\n\nThis issue is part of a bigger development effort described in detail by its epic. The scope of this issue is to ...\n\n## Actions\n\n\u003c!-- Likely in the form of checkboxed elements --\u003e\n\n- [ ] TODO","state":"closed","created_at":"2022-03-16T14:53:32.272Z","updated_at":"2022-05-24T12:02:50.370Z","closed_at":"2022-04-25T13:49:20.466Z","closed_by":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"labels":["Deliverable","candidate::15.0","devops::configure","documentation","group::configure","section::ops","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356021","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356021","notes":"https://gitlab.com/api/v4/projects/278964/issues/356021/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356021/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356021","relative":"#356021","full":"gitlab-org/gitlab#356021"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7055,"epic":{"id":379751,"iid":7055,"title":"Add support for Kubernetes version 1.21","url":"/groups/gitlab-org/-/epics/7055","group_id":9970,"human_readable_end_date":"Dec 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104929435,"iid":356018,"project_id":278964,"title":"[Feature flag] Rollout of `projects_build_artifacts_size_refresh_*`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81306 on production,\nthat is currently behind the `projects_build_artifacts_size_refresh_*` feature flag.\n\nWe are currently testing which concurrency value (max running jobs for `RefreshBuildArtifactsSizeStatisticsWorker`) is best for us. We have the following feature flags:\n```\nprojects_build_artifacts_size_refresh_high - 50 max\nprojects_build_artifacts_size_refresh_medium - 20 max\nprojects_build_artifacts_size_refresh_low - 2 max\n```\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline insights\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-insights`\n- Best individual to reach out to: @iamricecake @shampton \n- PM: @jreporter \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\nEnabling the feature flag will allow `Projects::RefreshBuildArtifactsSizeStatisticsWorker` to start picking up refresh work for projects enqueued in the new table `project_build_artifacts_size_refreshes`.\n\nThis will recalculate the project statistic `build_artifacts_size` of the projects.\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\nAs long as any of the concurrency feature flags are enabled, and there are records in the `project_build_artifacts_size_refreshes` table, the worker will start picking up jobs.\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\nTBD\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\nTBD\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\nTBD\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-03-16T14:34:32.072Z","updated_at":"2022-09-16T17:00:01.099Z","closed_at":"2022-07-07T13:21:29.119Z","closed_by":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"labels":["Category:Build Artifacts","Verify::P2","devops::verify","feature flag","feature::addition","group::pipeline insights","missed:14.10","missed:15.0","missed:15.1","section::ops","type::feature","workflow::in dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":42,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356018","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356018","notes":"https://gitlab.com/api/v4/projects/278964/issues/356018/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356018/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356018","relative":"#356018","full":"gitlab-org/gitlab#356018"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":104927107,"iid":356013,"project_id":278964,"title":"Epic Linking - Bug -  # Indicator","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen linking epics, entering the `#` indicator in the text box will search for and return issues. These are not able to be linked though,\n\n### Steps to reproduce\n\n1. Turn on epic linking ff in an ultimate group\n2. Enter `#` in the text field for an epic \n\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n`#` returns issues but they cannot be linked\n\n![Screen_Shot_2022-03-16_at_9.04.18_AM](/uploads/f938cf343e4b4c0de2fec6d66518d97b/Screen_Shot_2022-03-16_at_9.04.18_AM.png)\n\n![Screen_Shot_2022-03-16_at_9.06.10_AM](/uploads/698d851f16f6423eca5f6e29ab546f85/Screen_Shot_2022-03-16_at_9.06.10_AM.png)\n\n![Screen_Shot_2022-03-16_at_9.06.24_AM](/uploads/46dbc5af06d8c28a0b903d9c3004fbc9/Screen_Shot_2022-03-16_at_9.06.24_AM.png)\n\n### What is the expected *correct* behavior?\n\n`#` should not return any search results\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-03-16T14:05:34.772Z","updated_at":"2022-03-18T14:23:25.931Z","closed_at":"2022-03-18T14:23:25.912Z","closed_by":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"labels":["Category:Portfolio Management","devops::plan","feature flag","frontend","group::product planning","section::dev","type::bug"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"}],"author":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356013","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356013","notes":"https://gitlab.com/api/v4/projects/278964/issues/356013/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356013/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356013","relative":"#356013","full":"gitlab-org/gitlab#356013"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104924858,"iid":356007,"project_id":278964,"title":"[Feature flag] Rollout of `jobs_table_vue_search`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout https://gitlab.com/gitlab-org/gitlab/-/issues/293862 on production,\nthat is currently behind the `jobs_table_vue_search` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: `@pburdette`\n- PM: `@jheimbuck_gl` \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-03-16T13:36:08.615Z","updated_at":"2022-07-18T16:29:37.608Z","closed_at":"2022-07-14T13:09:26.666Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","UX","devops::verify","feature flag","feature::addition","frontend","group::pipeline execution","section::ops","type::feature","workflow::in dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356007","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":12},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356007","notes":"https://gitlab.com/api/v4/projects/278964/issues/356007/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356007/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356007","relative":"#356007","full":"gitlab-org/gitlab#356007"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":104922398,"iid":356004,"project_id":278964,"title":"Provide more helpful error messages to the user during purchase","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003e  An error occurred in the purchase step. If the problem persists please contact support at https://support.gitlab.com.\n\nThe above generic error is displayed when there is an issue with a purchase on GitLab.com. A few of the issues that are recorded in Sentry error logs are:\n\n1. `[{\"Code\"=\u003e\"INVALID_VALUE\", \"Message\"=\u003e\"The Contract effective date should not be later than the term end date of the basic subscription.\"}]}]}\"` reported in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3117+\n1. `\"last_name\":[\"can't be blank\"]` reported in https://gitlab.com/gitlab-org/gitlab/-/issues/298721+\n1. `Transaction declined.generic_decline - Your card was declined` reported in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3811+\n1. `{\"email\"=\u003e[\"has already been taken\"]}` reported in https://gitlab.com/gitlab-org/gitlab/-/issues/330608+\n\nQuote from customer:\n\n\u003e It would be great if you be able to make your errors messages more informative\n\n### Proposal\n\n- [Solution proposals discussion](https://gitlab.com/gitlab-org/gitlab/-/issues/356004#note_1191603723)\n\nWe should improve this error message to be clearer and provide suggestions for a solution. For example:\n\n| Error (describes what happened, not user-facing) | Message to display (user-facing) |\n| ------ | ------ |\n| The Contract effective date should not be later than the term end date of the basic subscription. | An error occurred with your purchase because your group is currently linked to an expired subscription. [Open a support ticket](https://support.gitlab.com/hc/en-us/requests/new?ticket_form_id=360000071293) and our support team will assist with a workaround. |\n| \"last_name\":[\"can't be blank\"] | A full name in your profile is required to make a purchase. Check that the full name field in your [user profile](https://gitlab.com/-/profile) has both a first and last name, and retry the purchase. If the problem persists, [contact support](https://support.gitlab.com/). |\n| Transaction declined.generic_decline - Your card was declined | Your card was declined. Contact your card issuer for more information or [contact our sales team](https://about.gitlab.com/sales/) to pay with an alternative payment method. |\n| {\"email\"=\u003e[\"has already been taken\"]} | An error occurred with your purchase. We detected a [Customers Portal](https://customers.gitlab.com/customers/sign_in) account that matches your email address, but it has not been linked to your GitLab.com account. Follow the [instructions to link your Customers Portal account](https://docs.gitlab.com/ee/subscriptions/#change-the-linked-account), and retry the purchase. If the problem persists, [contact support](https://support.gitlab.com). |\n| Your card has insufficient funds. | Your card was declined due to insufficient funds. Make sure that you have sufficient funds, and retry the purchase. If the problem persists, [contact support](https://support.gitlab.com). |\n\n### Result\n\nLess confusion and frustration on the customer's side and reduced ticket load.\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n@jameslopez @tgolubeva @gitlab-com/support/licensing-subscription What do you think?","state":"closed","created_at":"2022-03-16T12:58:20.240Z","updated_at":"2023-01-13T18:06:51.538Z","closed_at":"2022-12-27T08:40:12.994Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","Support Priority","Support::Interest","customer","devops::fulfillment","frontend","group::purchase","section::fulfillment","type::maintenance","workflow::solution validation"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[],"author":{"id":9767370,"username":"ffarukh","name":"Firdaws Farukh","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f9ffec1ae6c28212690c41044f1d9c17?s=80\u0026d=identicon","web_url":"https://gitlab.com/ffarukh"},"type":"ISSUE","assignee":null,"user_notes_count":39,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356004","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356004","notes":"https://gitlab.com/api/v4/projects/278964/issues/356004/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356004/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356004","relative":"#356004","full":"gitlab-org/gitlab#356004"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":104922042,"iid":356001,"project_id":278964,"title":"Roll out the new Slack GBP app to all gitlab.com users","description":"## Background\n\nInitial notes from https://gitlab.com/groups/gitlab-org/-/epics/7729#note_875803434:\n\n\u003e Roll out the GBP app to all gitlab.com users.\n\u003e \n\u003e * Announce the update, including the needed steps for workspace admins based on what we learned so far.\n\u003e * Get the updated app published in the marketplace.\n\u003e * We probably also want to track this in our usage data, so we can see how many users have updated.\n\n## Proposal\n\nThis will involve a few steps:\n\n- Announce the update to our Slack app (maybe in a release post), including a link to the documentation we created as part of https://gitlab.com/gitlab-org/gitlab/-/issues/355999.\n- Test the [GitLab (dev)](https://api.slack.com/apps/A039N0NBYFL) Slack app against staging.\n- Submit the updated production app to the marketplace, maybe coordinate with Slack to get a timeline for this.\n- Be ready for possible support requests, documentation tweaks, bug fixes.","state":"closed","created_at":"2022-03-16T12:53:07.372Z","updated_at":"2022-11-22T18:56:42.705Z","closed_at":"2022-06-03T04:36:18.843Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Deliverable","Integration::Slack","backend","devops::manage","feature::enhancement","group::integrations","quad-planning::complete-no-action","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356001","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356001","notes":"https://gitlab.com/api/v4/projects/278964/issues/356001/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356001/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356001","relative":"#356001","full":"gitlab-org/gitlab#356001"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7729,"epic":{"id":469302,"iid":7729,"title":"Migrate Slack App from Classic App to Granular Bot Permissions App","url":"/groups/gitlab-org/-/epics/7729","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104921890,"iid":356000,"project_id":278964,"title":"Extend usage data tracking for Slack app GBP migration","description":"## Background\n\nWe're migrating the Slack app from Classic to GBP, and will probably deprecate the Classic app / supporting code at some point: https://gitlab.com/groups/gitlab-org/-/epics/7729\n\nWe want to track the rollout of the updated GBP app, and see how many are still using the Classic app so we can decide when to remove any legacy code.\n\n## Proposal\n\nWe could store the \"version\" (Classic/GBP) in the DB similar to how we do this with Jira (Cloud/Server). Based on the number of GBP installs we can deduce the number of Classic installs (which have already happened in the past, so we don't get a chance to store the version for them).\n\nIt probably makes sense to store this in the `SlackIntegration` record, which is different from `Integrations::GitlabSlackApplication` and more like `JiraConnectInstallation` :sweat_smile:\n\n### Availability \u0026 Testing\n\nSuggestion: \n* add unit tests around the usage data counting\n* `package-and-qa` on the MR.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2022-03-16T12:50:38.044Z","updated_at":"2022-11-22T18:56:43.343Z","closed_at":"2022-06-20T14:02:03.049Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Integrations","Deliverable","Integration::Slack","backend","devops::manage","feature::enhancement","group::integrations","quad-planning::complete-action","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/356000","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/356000","notes":"https://gitlab.com/api/v4/projects/278964/issues/356000/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/356000/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#356000","relative":"#356000","full":"gitlab-org/gitlab#356000"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7729,"epic":{"id":469302,"iid":7729,"title":"Migrate Slack App from Classic App to Granular Bot Permissions App","url":"/groups/gitlab-org/-/epics/7729","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104921519,"iid":355999,"project_id":278964,"title":"Roll out the new Slack GBP app in the internal GitLab workspace","description":"## Background\n\nInitial notes from https://gitlab.com/groups/gitlab-org/-/epics/7729#note_875803434:\n\n\u003e Roll out the GBP app in the GitLab workspace.\n\u003e \n\u003e * Announce this to our own team members, in case they encounter any breakage.\n\u003e * This would mean updating the Classic app in our workspace to GBP, and at this point any needed changes in GitLab should already be tested and deployed.\n\u003e * As part of this step we'd also test the slash commands functionality again, and see if we need any further changes.\n\u003e * We'll also see what exactly each workspace needs to do once we rollout the GBP app to all gitlab.com users, so we'll probably document this for later use.\n\n## Proposal\n\nUpdate the Slack app in the GitLab workspace to GBP. This will only affect our own workspace, i.e. the \"development\" version of this app and not the marketplace listing.\n\nWe should announce to team members that we're doing this and let them know to contact us if they encounter any breakage.\n\nThe process for the update should be the same as when we updated one of the Classic testing apps to GBP in https://gitlab.com/gitlab-org/gitlab/-/issues/355994, but now we'll be doing it with the production app https://api.slack.com/apps/A676ADMV5. See notes at https://gitlab.com/gitlab-org/gitlab/-/issues/355994#note_921061361.\n\nThe slash command should continue working, both after updating the settings and reinstalling the app.\n\nTo reinstall the app in the Slack workspace we might need the help of Slack admin at GitLab.\n\n### Availability \u0026 Testing\n\nSuggestion: Regression against the GitLab ecosystem workspace.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2022-03-16T12:44:18.953Z","updated_at":"2022-11-22T18:56:43.966Z","closed_at":"2022-05-17T22:41:45.052Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Integration::Slack","Stretch","backend","devops::manage","documentation","feature::enhancement","group::integrations","quad-planning::complete-action","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/355999","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/355999","notes":"https://gitlab.com/api/v4/projects/278964/issues/355999/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/355999/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#355999","relative":"#355999","full":"gitlab-org/gitlab#355999"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7729,"epic":{"id":469302,"iid":7729,"title":"Migrate Slack App from Classic App to Granular Bot Permissions App","url":"/groups/gitlab-org/-/epics/7729","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104921017,"iid":355998,"project_id":278964,"title":"Spike: Investigate other needed code changes when upgrading the Slack app to GBP","description":"## Background\n\nInitial notes from https://gitlab.com/groups/gitlab-org/-/epics/7729#note_875803434:\n\n\u003e Spike: Check for any other breakage with the GBP app.\n\u003e \n\u003e * Test the slash commands functionality, see if everything still works correctly.\n\u003e * This might result in more follow-up issues, which we probably need to address before moving on.\n\n## Proposal\n\nThis is a placeholder issue to check for any breakage after upgrading the Slack app to GBP, and investigate if further code changes are needed beyond the known ones in https://gitlab.com/gitlab-org/gitlab/-/issues/355997\n\nWe should test all user interactions with the app:\n\n- Installing the app.\n- Reinstalling the app.\n- Uninstalling the app.\n- Test the `help` command (no authorization needed).\n- Test a different command like `issue show \u003cid\u003e` which triggers the authorization flow.\n  - All the commands except `help` go through the same general code path, so we don't necessarily need to test every one of them.\n- Test the authorization flow.\n\nFor any problems that we encounter we should create follow-up issues, and depending on severity they should be blocking the rollout of the upgraded app in https://gitlab.com/gitlab-org/gitlab/-/issues/355999.\n\n## Available commands\n\n```\nThe following commands are available for this chatops integration:\n\n/gitlab [project name or alias] issue show \u003cid\u003e\n/gitlab [project name or alias] issue new \u003ctitle\u003e ⇧ Shift+↵ Enter \u003cdescription\u003e\n/gitlab [project name or alias] issue search \u003cyour query\u003e\n/gitlab [project name or alias] issue move \u003cissue_id\u003e (to)? \u003cproject_path\u003e\n/gitlab [project name or alias] issue close \u003cid\u003e\n/gitlab [project name or alias] issue comment \u003cid\u003e ⇧ Shift+↵ Enter \u003ccomment\u003e\n/gitlab [project name or alias] deploy \u003cenvironment\u003e to \u003ctarget-environment\u003e\n/gitlab [project name or alias] run \u003ccommand\u003e \u003carguments\u003e\n\nIf available, the run command is used for running GitLab CI jobs\ndefined in this project's .gitlab-ci.yml file. For example, if a\njob called \"help\" is defined you can run it like so:\n\n/gitlab [project name or alias] run help\n```","state":"closed","created_at":"2022-03-16T12:37:16.344Z","updated_at":"2022-11-22T18:56:44.642Z","closed_at":"2022-04-27T13:47:55.448Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Integrations","Deliverable","Integration::Slack","backend","devops::manage","feature::enhancement","group::integrations","section::dev","spike","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/355998","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/355998","notes":"https://gitlab.com/api/v4/projects/278964/issues/355998/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/355998/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#355998","relative":"#355998","full":"gitlab-org/gitlab#355998"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7729,"epic":{"id":469302,"iid":7729,"title":"Migrate Slack App from Classic App to Granular Bot Permissions App","url":"/groups/gitlab-org/-/epics/7729","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":104920863,"iid":355997,"project_id":278964,"title":"Update Slack app installation flow to work with GBP","description":"## Background\n\nInitial notes from https://gitlab.com/groups/gitlab-org/-/epics/7729#note_875803434:\n\n\u003e Update our installation flow to work with the new GBP app.\n\u003e \n\u003e * This includes the OAuth changes mentioned in the migration guide, and also probably removing the `ChatName` creation during installation that I mentioned in https://gitlab.com/gitlab-org/gitlab/-/issues/351384#note_875622222.\n\u003e * We probably also need to detect which version of the app is used, and gate these changes behind this check (and maybe also a FF).\n\n## Proposal\n\nUpdate the OAuth flow in our code by following the migration guide at https://api.slack.com/authentication/migration#update_oauth.\n\nThe main changes seem to be:\n\n- Switch to the `oauth.v2.access` endpoint at https://gitlab.com/gitlab-org/gitlab/blob/0d9b1b4a06ea8f207a2dd72336dea682b42e19de/ee/app/services/projects/slack_application_install_service.rb#L59\n- Accommodate changes in the payload returned from this endpoint, compared to the previous `oauth.access` endpoint.\n\nWe'll also need:\n\n- Some way to detect if we're dealing with a Classic or GBP app, we'll probably get some indication in the payload we receive on the `#slack_auth` endpoint at https://gitlab.com/gitlab-org/gitlab/blob/0d9b1b4a06ea8f207a2dd72336dea682b42e19de/ee/app/controllers/projects/settings/slacks_controller.rb#L16\n- Skip the `ChatName` creation at https://gitlab.com/gitlab-org/gitlab/blob/0d9b1b4a06ea8f207a2dd72336dea682b42e19de/ee/app/services/projects/slack_application_install_service.rb#L28, since we now receive the user ID of a bot rather than the installing Slack user. This means that the installing GitLab user will have to authorize manually through the slash command like other users, which is *probably* acceptable.\n\nThis code is mainly in:\n\n- `ee/app/controllers/projects/settings/slacks_controller.rb`\n- `ee/app/services/projects/slack_application_install_service.rb`\n\n\u003cdetails\u003e\n\u003csummary\u003eClick to see original \"storing bot tokens?\" question\u003c/summary\u003e\n\n## Open question: Storing bot tokens?\n\nAs @.luke pointed out in https://gitlab.com/gitlab-org/gitlab/-/issues/351384#note_876263044 we might also receive a bot token from the `oauth.v2.access` endpoint. We probably won't need this yet for the slash commands functionality, but if we can easily store this (in e.g. a new encrypted column on `SlackIntegration`) we could consider doing that now already.\n\nIt doesn't seem strictly necessary though, since users will have to reauthorize once we add more scopes to the app, and we'll get another opportunity to store the bot tokens at that point.\n\n\u003e We might be receiving a [bot token](https://api.slack.com/authentication/oauth-v2#exchanging) to use as a [Bearer token](https://api.slack.com/authentication/oauth-v2#using) when we want to interact with the Slack workspace later on, but we can hash this out as part of https://gitlab.com/groups/gitlab-org/-/epics/7729 and work out where to store it if we do :slight_smile:.\n\n\u003e In future (I think) the bot token will be used to post back to the Slack API for `Gitlab event -\u003e Slack` notifications (when we absorb the [notifications integration](https://docs.gitlab.com/ee/user/project/integrations/slack.html) into the main Slack integration), and also if we process events asynchronously.\n\n\u003e ~~So I think we should save the bot token somewhere from the beginning, even if we're not going to use it straight away, so we can use it in future without needing the app to be reinstalled.~~ Edit: Hmm, the mention of [progressive permissions](https://api.slack.com/authentication/oauth-v2#asking) sounds like if we later require more permission scopes like `links.read` and `links.write` for link unfurls, when the Slack admin updates the app, they might need to reauthorize, which might mean we don't need to save bot tokens immediately if we don't want to, so long as we add extra permission scopes later when the time comes.\n\u003c/details\u003e","state":"closed","created_at":"2022-03-16T12:33:35.047Z","updated_at":"2022-11-22T18:56:45.275Z","closed_at":"2022-05-05T11:52:52.003Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Integrations","Deliverable","Integration::Slack","backend","devops::manage","feature::enhancement","group::integrations","section::dev","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/355997","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/355997","notes":"https://gitlab.com/api/v4/projects/278964/issues/355997/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/355997/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#355997","relative":"#355997","full":"gitlab-org/gitlab#355997"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7729,"epic":{"id":469302,"iid":7729,"title":"Migrate Slack App from Classic App to Granular Bot Permissions App","url":"/groups/gitlab-org/-/epics/7729","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]