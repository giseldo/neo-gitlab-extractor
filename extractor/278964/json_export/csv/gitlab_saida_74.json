[{"id":85096683,"iid":327585,"project_id":278964,"title":"Extend documentation for Security Orchestration Policy with Schedule Rules","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nTo support scheduled scans configured in Security Orchestration Policies we need to update the documentation.\n\n\n## Relevant links\n\n- [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5360)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [x] Documentation\n- [-] Feature flag:\n- [-] Performance:\n- [-] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [x] ~documentation extend `doc/user/application_security/policies/index.md` documentation with **`schedule` rule type** schema and example that explains how to use it,\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-04-13T08:32:39.246Z","updated_at":"2021-05-13T13:58:36.996Z","closed_at":"2021-05-13T13:58:36.861Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["#field-fyi","backend","devops::govern","feature::addition","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327585","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327585","notes":"https://gitlab.com/api/v4/projects/278964/issues/327585/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327585/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327585","relative":"#327585","full":"gitlab-org/gitlab#327585"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5360,"epic":{"id":198758,"iid":5360,"title":"Project-level DAST Scan Execution Policies (scheduled scans)","url":"/groups/gitlab-org/-/epics/5360","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85096519,"iid":327584,"project_id":278964,"title":"Add new table and models to store Security Orchestration Policy Schedules","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nTo support scheduled scans configured in Security Orchestration Policies we need to add new table to database to store them and we need to extend current table with Security Orchestration Policy Configuration with new field that will indicate when given we have updated background jobs configuration for given Policy Project.\n\n\n## Relevant links\n\n- [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5360)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [-] Documentation:\n- [-] Feature flag:\n- [-] Performance:\n- [-] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [x] ~database create new table `security_orchestration_policy_rule_schedules` with fields:\n  - [x] `security_orchestration_policy_configuration_id bigint NOT NULL`\n  - [x] `policy_index integer NOT NULL` - to store the index of the policy to properly configure scheduled scan,\n  - [x] `cron text ((char_length(cron) \u003c= 255))` - to store cron extension\n  - [x] `next_run_at timestamp with time zone` - to store when we should start next scheduled scan,\n  - [x] `updated_at timestamp with time zone NOT NULL`\n  - [x] `created_at timestamp with time zone NOT NULL`\n- [x] ~database set owner of the table to ~\"group::container security\" and provide the description to table comment,\n- [x] ~database extend `security_orchestration_policy_configurations` with new field `configured_at` `timestamp with time zone` to store when we background jobs for given Security Orchestration Policy Configuration were configured\n- [x] ~backend extend `ee/app/models/security/orchestration_policy_configuration.rb` with association `has_many :rule_schedules `,\n- [x] ~backend create new model `ee/app/models/security/orchestration_policy_rule_schedule.rb` with `Schedulable` concern, with associations `belongs_to :security_orchestration_policy_configuration` and presence validation for `cron` and `policy_index` fields\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-04-13T08:31:12.261Z","updated_at":"2021-05-10T21:41:27.301Z","closed_at":"2021-05-10T21:41:27.232Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["backend","database","devops::govern","feature::addition","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327584","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":11},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327584","notes":"https://gitlab.com/api/v4/projects/278964/issues/327584/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327584/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327584","relative":"#327584","full":"gitlab-org/gitlab#327584"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5360,"epic":{"id":198758,"iid":5360,"title":"Project-level DAST Scan Execution Policies (scheduled scans)","url":"/groups/gitlab-org/-/epics/5360","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85092969,"iid":327576,"project_id":278964,"title":"Get ancestors of an Epic using GraphQL","description":"For Epic Board sidebar, we'd need a GraphQL endpoint to fetch an epic's ancestors.","state":"closed","created_at":"2021-04-13T07:39:46.480Z","updated_at":"2021-06-18T07:06:42.913Z","closed_at":"2021-06-14T17:32:43.419Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Deliverable","Next Up","backend","devops::plan","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327576","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327576","notes":"https://gitlab.com/api/v4/projects/278964/issues/327576/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327576/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327576","relative":"#327576","full":"gitlab-org/gitlab#327576"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5079,"epic":{"id":163903,"iid":5079,"title":"🏗  Epic Boards - MVC 3 - Final polish and parity for final release","url":"/groups/gitlab-org/-/epics/5079","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85086678,"iid":327570,"project_id":278964,"title":"[VSA][BE] Update project-level metrics","description":"As we aim for feature parity, we need to display the same metrics on project-level VSA as on group-level:\n\n| project level metrics | group level metrics |\n| --- | --- |\n| ![Screen_Shot_2021-04-09_at_6.05.44_pm](/uploads/16981ffcb7801b27dd4282b1a15b3c44/Screen_Shot_2021-04-09_at_6.05.44_pm.png)|![Screen_Shot_2021-04-09_at_6.07.42_pm](/uploads/23f22a1d71b40f45aa8edddb1dea38ad/Screen_Shot_2021-04-09_at_6.07.42_pm.png)|\n\nWe need to extend the current project level metrics API to have the same structure as the group level. Also, at project level we'll need to do a license check to expose cycle time and lead time.","state":"closed","created_at":"2021-04-13T05:26:22.075Z","updated_at":"2021-07-01T03:54:01.491Z","closed_at":"2021-06-18T14:06:36.279Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["backend","devops::manage","group::optimize","missed:13.12","priority::3","section::dev","type::feature","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327570","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327570","notes":"https://gitlab.com/api/v4/projects/278964/issues/327570/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327570/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327570","relative":"#327570","full":"gitlab-org/gitlab#327570"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5194,"epic":{"id":180134,"iid":5194,"title":"[VSA] Refactor project-level feature to use group-level code","url":"/groups/gitlab-org/-/epics/5194","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85082262,"iid":327564,"project_id":278964,"title":"Browserker should advertise itself when scanning an application","description":"\n### Problem to solve \n\nAuthors of web applications sometimes need to understand what program is generating traffic to a website. This could help them enable/disable features or enable/disable program access.\n\nFor example, recently in GitLab, a security incident was raised by a user sending many requests to GitLab. This was resolved once it was understood the traffic was generated from a DAST tool.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Proposal\n\nA header should be added to all requests advertising that the scan is a Browserker scan. For example,\n\n`crawler: gitlab.com/dast:browserker`\n\nOne option is to use the `User agent` header. I recommend against this as some old sites try to detect the version of the browser using the user agent.\n\n### What is the type of buyer?\n\n[Ultimate](https://about.gitlab.com/handbook/product/pricing/#three-tiers)\n\n### Implementation plan\n\n- [x] Add the header `GitLab DAST/Crawler [version]` where `version` is the version of Browserker\n- [x] The version of Browserker should be read from the first entry in the CHANGELOG and baked into the Browserker image\n- [x] The header should be sent with every request using `Network.SetExtraHTTPHeaders`\n- [ ] ~~One test should verify that the header is present in a vulnerability evidence~~ This will have to be tested in DAST for now as the Browserker output does not contain header values\n- [x] DAST/ZAP should be updated to send a Via header, `GitLab DAST/ZAP [version]` where `version` is the version of DAST. Limitations of the ZAP replacer means that this will overwrite the `GitLab DAST/Crawler [version]` `Via` header sent by Browserker.\n- [x] Add a `Via-Scanner` header with value `Browserker` to DAST to indicate that the request was initiated by Browserker. This will help to determine if Browserker or ZAP created a vulnerability.\n\nSetting weight of `2`.","state":"closed","created_at":"2021-04-13T02:33:17.776Z","updated_at":"2021-07-01T01:52:49.164Z","closed_at":"2021-05-12T22:56:31.557Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["GitLab Ultimate","dast::browserker","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327564","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327564","notes":"https://gitlab.com/api/v4/projects/278964/issues/327564/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327564/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327564","relative":"#327564","full":"gitlab-org/gitlab#327564"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85077868,"iid":327554,"project_id":278964,"title":"Implement token search in epic boards","description":"### What should be searchable on epic boards\n\n\n### Current\n\n- Author\n- Label\n- Search\n\n### Next\n\n- Emojis\n\n### Behind FF :boards_filtered_search scoped to the group level","state":"closed","created_at":"2021-04-12T23:29:09.060Z","updated_at":"2021-04-30T17:25:21.261Z","closed_at":"2021-04-30T17:25:21.195Z","closed_by":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"labels":["devops::plan","frontend","group::project management","missed:13.11","section::dev","workflow::in dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327554","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327554","notes":"https://gitlab.com/api/v4/projects/278964/issues/327554/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327554/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327554","relative":"#327554","full":"gitlab-org/gitlab#327554"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85077458,"iid":327552,"project_id":278964,"title":"Ending a project's title with a period breaks Web IDE","description":"### Summary\n\nWhen you create a project whose title ends with a period and then try to edit a file within that project using the Web IDE, you get a 404.\n\n\n### Steps to reproduce\n\n1. Create a project whose title ends with a period.\n1. Go to the project's repository page\n1. Click `Web IDE`\n1. Behold the 404!\n\n### Example Project\n\nhttps://gitlab-core.us.gitlabdemo.cloud/ccowell1/borkedproject.\n\n### What is the current *bug* behavior?\n\nWhen you click `Web IDE` you get a 404 page\n\n### What is the expected *correct* behavior?\n\nWhen you click `Web IDE` you go to the Web IDE page\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/45985ef2cc7e03dce85e16411bf9b74a/image.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n#### Results of GitLab application Check\n\n### Possible fixes","state":"closed","created_at":"2021-04-12T23:18:20.972Z","updated_at":"2022-06-07T18:05:46.497Z","closed_at":"2022-05-23T03:03:30.919Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Web IDE","[deprecated] Accepting merge requests","auto closed","devops::create","group::editor","section::dev","stale","type::bug","vintage"],"milestone":{"id":610592,"iid":24,"group_id":9970,"title":"Awaiting further demand","description":"Indicates that an issue has been triaged, but is not yet on the backlog because it is awaiting further demand from customers.","state":"active","created_at":"2018-08-01T12:23:44.946Z","updated_at":"2018-08-01T12:23:44.946Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/24"},"assignees":[],"author":{"id":8246539,"username":"ccowell1","name":"Christopher Cowell","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8246539/avatar.png","web_url":"https://gitlab.com/ccowell1"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327552","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327552","notes":"https://gitlab.com/api/v4/projects/278964/issues/327552/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327552/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327552","relative":"#327552","full":"gitlab-org/gitlab#327552"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85075333,"iid":327535,"project_id":278964,"title":"Container repository details page has high LCP","description":"## Problem\n\nThe largest contentful paint (LCP) of the container repository details page is high.\n\nExample: https://gitlab.com/gitlab-org/gitlab/container_registry/1041238 took over 13s. Although the initial page load is ~1s, the API call to fetch the tags in this case took 12s.\n\n## Cause\n\nThe tags are fetched using a graphql request `api/graphql` using the [`getContainerRespositoryDetails` query](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/registry/explorer/graphql/queries/get_container_repository_details.query.graphql). \n\nFetching the tags involves making several requests to the container registry, returning the tags which are not paginated (pagination is not yet supported). \n\n## Proposal\n\nA few possible ways to improve the LCP:\n\n1. Add bootstrap-graphql to kick off the first query ASAP\n1. Implement: https://gitlab.com/gitlab-org/gitlab/-/issues/296962\n1. Do some more ~frontend optimizations.\n\n## Related issues\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/327311, https://gitlab.com/gitlab-org/gitlab/-/issues/207368","state":"closed","created_at":"2021-04-12T22:06:42.619Z","updated_at":"2021-05-12T16:04:32.917Z","closed_at":"2021-05-12T13:35:42.195Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Container Registry","Package:P1","[deprecated] Accepting merge requests","bug::performance","devops::package","group::package registry","section::ops"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327535","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327535","notes":"https://gitlab.com/api/v4/projects/278964/issues/327535/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327535/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327535","relative":"#327535","full":"gitlab-org/gitlab#327535"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85075007,"iid":327533,"project_id":278964,"title":"[Value stream analytics] Clarify how date range selector is applied","description":"### Summary\nThere is a date range selector in group-level VSA. The UI and documentation does not clearly explain how selecting a date range affects the stage values and issues/MRs that are included in calculations. [This issue](https://gitlab.com/gitlab-com/account-management/commercial/sweetwater/-/issues/4) highlights a lack of clarity about how date ranges affect VSA data. \n\n### Proposal\n\nPer [Adam's comment](https://gitlab.com/gitlab-com/account-management/commercial/sweetwater/-/issues/4#note_542962179), the date range selector applies to the issue/MR creation date. Stage values are shown for any issues/MRs created within the date range, regardless of whether the issue/MR is still open. \n\n1. Add clarification to the documentation.\n1. The UI already has a tooltip stating the maximum period that can be specified. Add the following text to the beginning of the tooltip. \"Data is shown for workflow items created during the selected date range.\"\n\n![Screen_Shot_2021-04-12_at_1.20.20_PM](/uploads/f5662b03e3ee9f136792daaf49838d81/Screen_Shot_2021-04-12_at_1.20.20_PM.png).","state":"closed","created_at":"2021-04-12T21:53:03.008Z","updated_at":"2021-06-07T11:24:55.931Z","closed_at":"2021-06-07T11:24:55.910Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["devops::manage","documentation","frontend","group::optimize","priority::2","section::dev","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":4447217,"username":"ljlane","name":"Larissa Lane","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/ac4027d3a4e3bd62740ea1443a42f6c5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ljlane"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327533","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327533","notes":"https://gitlab.com/api/v4/projects/278964/issues/327533/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327533/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327533","relative":"#327533","full":"gitlab-org/gitlab#327533"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6046,"epic":{"id":274497,"iid":6046,"title":"[VSA] Date range filter should apply to end events","url":"/groups/gitlab-org/-/epics/6046","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85060801,"iid":327510,"project_id":278964,"title":"Pin stable CI template to v1.6 of API Security container","description":"### Problem\n\nThe CI template for API Fuzzing has the version set to `latest`. In the future when breaking changes happen to the container image, offline users on v13 will be broken.\n\n### Proposal\n\nAllow for future breaking changes by pinning the container version in the stable CI template.\n\nTasks\n1. [x] Update API Fuzzing container to pin version `1.6`","state":"closed","created_at":"2021-04-12T17:17:50.642Z","updated_at":"2021-10-13T14:48:24.004Z","closed_at":"2021-04-16T18:00:59.821Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","GitLab Ultimate","devops::secure","group::dynamic analysis","section::sec","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327510","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327510","notes":"https://gitlab.com/api/v4/projects/278964/issues/327510/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327510/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327510","relative":"#327510","full":"gitlab-org/gitlab#327510"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85060625,"iid":327508,"project_id":278964,"title":"Minimize API Fuzzing CI template","description":"### Problem\n\nThe API Fuzzing template defined jobs are hard for users to customize and contain too much logic.\n\n### Proposal\n\nMinimize the jobs as much as possible by moving defaults into the `script` section and the `script` section into a shell script that ships with the container. Also remove the deprecated and not documented docker-in-docker support.\n\n1. [x] Use `SECURE_ANALYZERS_PREFIX` in `FUZZAPI_IMAGE`. This allows users of offline GitLab instances to quickly change where all security analyzers pull container images.\n1. [x] Use new analyzer container image name (removed `-engine` suffix)\n1. [x] Remove unlicensed job. Instead check in the script.\n1. [x] Remove the `apifuzzer_fuzz_dnd` job. Docker-in-docker is depricated.\n1. [x] Remove `entrypoint` setting for `image`. Update dockerfile to use this entrypoint by default.\n1. [x] Move defaults into script. Instead of using a global variables definition and also a job `variables` section, move all defaults into the script.\n1. [x] Pin version of template to major version `1`\n1. [x] Deprecate the following variables:\n   1. FUZZAPI_REPORT_ASSET_PATH\n   1. FUZZAPI_REPORT\n   1. FUZZAPI_LOG_SCANNER\n   1. FUZZAPI_API\n   1. FUZZAPI_NEW_REPORT\n   1. FUZZAPI_D_*","state":"closed","created_at":"2021-04-12T17:14:31.004Z","updated_at":"2021-10-13T14:48:24.549Z","closed_at":"2021-04-26T17:25:57.305Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","section::sec","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327508","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327508","notes":"https://gitlab.com/api/v4/projects/278964/issues/327508/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327508/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327508","relative":"#327508","full":"gitlab-org/gitlab#327508"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85058638,"iid":327505,"project_id":278964,"title":"Fix create/edit/delete release permissions to match tag creation permissions","description":"### Release notes\n\nTBD\n\n### Problem to solve \n\nTags and releases are very related concepts, but their permissions are very different:\n\n- Tag permissions are highly configurable through [protected tags](https://docs.gitlab.com/ee/user/project/protected_tags.html#overview)\n- Release permissions [are instead based on user role](https://docs.gitlab.com/ee/user/permissions.html#project-members-permissions) (with no customization):\n   - All Developers can create and edit releases\n   - All Maintainers can delete releases\n\nBecause of this permission model mismatch, we're receiving a number of bug reports:\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/220863\n- https://gitlab.com/gitlab-org/gitlab/-/issues/329247\n- https://gitlab.com/gitlab-org/gitlab/-/issues/332149\n\n### User experience goal/proposal\n\nAlign release creation/updating/deletion with protected tag permissions.\n\nIf a user can create or edit a particular tag, they should be able to create, edit, and delete a release based on the tag.\n\nConversely, if the users **cannot** create or edit a particular tag, they should **not** be able to create, edit, or delete a release based the tag.\n\n### Benefits\n\n- Unifies tag and release permission systems\n- Much simpler to reason about and explain in documentation\n- Releases get a mature, configurable permission system ([protected tags](https://docs.gitlab.com/ee/user/project/protected_tags.html#overview)) for free\n\n### Further details\n\nThe current system allows for a number of strange edge-cases:\n\n- A Developer can't create a new release based on a **new** protected tag, but can create a new release based on an **existing** protected tag\n  - This distinction isn't obvious to the user - in the first scenario, page errors with a generic error message\n- Any Developer can edit a release based on a protected tag, even though they couldn't have created the release in the first place\n- Developers can create a release they can't delete\n\nNone of these are very obvious behaviors; users have to have a deep understanding of release and tag permissions in order to understand these seemingly inconsistent behaviors.\n\n### Context\n\nOriginally, we had proposed a simpler change: https://gitlab.com/gitlab-org/gitlab/-/issues/323948. While discussing this, @shinya.maeda came up with the idea of basing release permission on protected tag: https://gitlab.com/gitlab-org/gitlab/-/issues/323948#note_532036321\n\n### UI text\n\n```\nReleases targeting a protected tag share the same permissions as that tag.\n```\n\nThis text should be added on:\n\n- Protected tags settings\n- New tag creation\n- New release creation\n- Release editing page (to make it clear to a user why they _can't_ edit that release)","state":"closed","created_at":"2021-04-12T16:37:14.953Z","updated_at":"2022-12-14T13:10:43.256Z","closed_at":"2021-07-15T10:34:19.070Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Release Orchestration","GitLab Free","Release::P1","Technical Writing","backend","backend-weight::3","candidate::14.2","cicd::active","devops::release","direction","frontend-weight::1","group::release","release post item::in review","section::ops","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":43,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327505","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327505","notes":"https://gitlab.com/api/v4/projects/278964/issues/327505/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327505/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327505","relative":"#327505","full":"gitlab-org/gitlab#327505"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85056773,"iid":327501,"project_id":278964,"title":"Consider getting rid of Bundler's cache before saving the gems to the CI cache","description":"Thanks to a RailsConf talk, I discovered that Bundler is having its own cache under `vendor/ruby/2.7.0/cache` (when gems are installed under `vendor` as we do).\n\nWe probably don't need this Bundler cache as we refresh our own cache of gems every two hours.\n\nFrom a quick check, it seems this cache accounts for 91MB: https://gitlab.com/gitlab-org/gitlab/-/jobs/1172621220#L65.","state":"closed","created_at":"2021-04-12T16:05:04.388Z","updated_at":"2022-03-16T11:43:56.125Z","closed_at":"2021-05-06T10:29:39.731Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","ep::pipeline","maintenance::pipelines","type::maintenance","workflow::in review"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327501","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327501","notes":"https://gitlab.com/api/v4/projects/278964/issues/327501/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327501/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327501","relative":"#327501","full":"gitlab-org/gitlab#327501"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85055747,"iid":327500,"project_id":278964,"title":"[jobs_table_vue] Rollout Plan","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout `jobs_table_vue` feature flag. `CI/CD \u003e Jobs` refactor to Vue/Graphql\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: `@pburdette`\n- PM: `@jheimbuck_gl` \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-04-12T15:48:08.416Z","updated_at":"2022-07-15T16:45:13.709Z","closed_at":"2022-07-14T13:09:37.469Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","devops::verify","feature flag","frontend","group::pipeline execution","section::ops","type::maintenance","workflow::in dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327500","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":12},"weight":2,"blocking_issues_count":2,"has_tasks":true,"task_status":"12 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327500","notes":"https://gitlab.com/api/v4/projects/278964/issues/327500/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327500/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327500","relative":"#327500","full":"gitlab-org/gitlab#327500"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5604,"epic":{"id":226144,"iid":5604,"title":"Refactor jobs view to Vue/GraphQL","url":"/groups/gitlab-org/-/epics/5604","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":85046549,"iid":327486,"project_id":278964,"title":"API Fuzzing configuration UI \u003e Update labels for HAR and Postman scan modes","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/323847 we've updated a few labels for when `OpenAPI` is selected as the scan mode in API Fuzzing's configuration screen.\n\nWith those changes, the labels for `HAR` and `Postman collection` scan modes are somewhat inconsitent.\n\nLet's update them to align the help texts and placeholders with `OpenAPI`.\n\n| Scan mode | Current                                                                                                                     | Help update text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Suggested placeholder                                                                      |\n| --------- | --------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------ |\n| HAR       | ![Screen_Shot_2021-04-12_at_9.33.01_AM](/uploads/dbed6c1689e3156dd87835b067060a9a/Screen_Shot_2021-04-12_at_9.33.01_AM.png) | {- HAR files may contain sensitive information such as authentication tokens, API keys, and session cookies. We recommend that you review the HAR files' contents before adding them to a repository. -} {+ File path containing APIs to be tested. For example, /folder/example_file.har. HAR files may contain sensitive information such as authentication tokens, API keys, and session cookies. We recommend that you review the HAR files' contents before adding them to a repository. +} | {- Ex: Project_Test/File/example_fuzz.har -} {+ /folder/example_file.har +}                |\n| Postman   | ![Screen_Shot_2021-04-12_at_9.33.12_AM](/uploads/91182ababa74b31e85c7fa90ab4d1053/Screen_Shot_2021-04-12_at_9.33.12_AM.png) | {- Postman collections are a group of saved requests you can organize into folders. -} {+ File path containing requests to be tested. For example, /folder/example_file.postman_collection.json. +}                                                                                                                                                                                                                                                                                               | {- Ex: Project_Test/File/example_fuzz -}{+ /folder/example_file.postman_collection.json +} |","state":"closed","created_at":"2021-04-12T13:40:24.182Z","updated_at":"2021-05-18T07:08:34.881Z","closed_at":"2021-05-17T04:06:29.938Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:Fuzz Testing","Deliverable","Technical Writing","UI text","UX","devops::secure","feature::enhancement","frontend","group::dynamic analysis","section::sec","tw::finished","type::feature","workflow::in dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327486","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327486","notes":"https://gitlab.com/api/v4/projects/278964/issues/327486/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327486/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327486","relative":"#327486","full":"gitlab-org/gitlab#327486"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85041086,"iid":327473,"project_id":278964,"title":"JIRA DVCS Connector timeouts and performance issues","description":"Over the past 24 hours, the JIRA DVCS Connector endpoint, `GET /api/:version/repos/:namespace/:project/commits/:sha`, has had some of the worst latency scores in the application.\n\nMany of the requests are timing out after ~50s, with a 500 response. \n\n- `GET /api/:version/repos/:namespace/:project/commits/:sha`\n- p95: `29.854s`, max: `46.476s`, samples 25570\n- Feature Category: `integrations`\n- https://gitlab.slack.com/archives/CM5EQH125/p1618194146018800 \n\n* :elasticsearch: [Kibana search](https://log.gprd.gitlab.net/app/kibana#/discover?_a=(columns:!(json.method,json.status,json.controller,json.action,json.path,json.duration_s),filters:!((query:(match:(json.meta.caller_id.keyword:(query:'GET+%2Fapi%2F%3Aversion%2Frepos%2F%3Anamespace%2F%3Aproject%2Fcommits%2F%3Asha',type:phrase)))),(query:(range:(json.duration_s:(gte:1))))),index:'7092c4e2-4eb5-46f2-8305-a7da2edad090',sort:!(!(json.duration_s,desc)))\u0026_g=(time:(from:'now-24h',to:'now')))\n* :chart_with_upwards_trend: [Rails Endpoint Dashboard](https://log.gprd.gitlab.net/app/dashboards#/view/db37b560-9793-11eb-a990-d72c312ff8e9?_g=(filters:!((query:(match_phrase:(json.meta.caller_id.keyword:'GET+%2Fapi%2F%3Aversion%2Frepos%2F%3Anamespace%2F%3Aproject%2Fcommits%2F%3Asha')))),time:(from:'now-24',to:now)))\n\nMany of the worst requests appear to be for a single repository (see Kibana search for details). We should try and understand why this is happening for this silver plan customer. \n\ncc @deuley @mnohr","state":"closed","created_at":"2021-04-12T12:21:25.910Z","updated_at":"2022-11-22T19:44:32.023Z","closed_at":"2021-08-03T02:10:02.821Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Integration::Jira","Mechanical Sympathy","Stretch","[deprecated] Accepting merge requests","backend","bug::performance","devops::manage","group::ecosystem [DEPRECATED]","missed:14.1","priority::4","section::dev","severity::4","workflow::scheduling"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[],"author":{"id":895869,"username":"andrewn","name":"Andrew Newdigate","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/895869/avatar.png","web_url":"https://gitlab.com/andrewn"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327473","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327473","notes":"https://gitlab.com/api/v4/projects/278964/issues/327473/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327473/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/331326"},"references":{"short":"#327473","relative":"#327473","full":"gitlab-org/gitlab#327473"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85040999,"iid":327472,"project_id":278964,"title":"Solution Validation for Manual approval action on the pipeline","description":"Placeholder issue to draft the solution validation script for https://gitlab.com/gitlab-org/gitlab/-/issues/35412/","state":"closed","created_at":"2021-04-12T12:20:10.944Z","updated_at":"2021-05-04T08:14:51.226Z","closed_at":"2021-04-23T17:01:33.719Z","closed_by":{"id":8059235,"username":"dfosco","name":"Daniel Fosco","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8059235/avatar.png","web_url":"https://gitlab.com/dfosco"},"labels":["Category:Release Orchestration","UX","devops::release","group::release","section::ops","workflow::solution validation"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":8059235,"username":"dfosco","name":"Daniel Fosco","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8059235/avatar.png","web_url":"https://gitlab.com/dfosco"}],"author":{"id":8059235,"username":"dfosco","name":"Daniel Fosco","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8059235/avatar.png","web_url":"https://gitlab.com/dfosco"},"type":"ISSUE","assignee":{"id":8059235,"username":"dfosco","name":"Daniel Fosco","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8059235/avatar.png","web_url":"https://gitlab.com/dfosco"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327472","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327472","notes":"https://gitlab.com/api/v4/projects/278964/issues/327472/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327472/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327472","relative":"#327472","full":"gitlab-org/gitlab#327472"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85025491,"iid":327457,"project_id":278964,"title":"[VSA][FE] Deep link the url query parameters","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/326701 we introduced filter capabilities for project-level VSA. Let's implement deep linking for the following URL parameters:\n- author\n- milestone\n- labels\n- assignee\n- date range\n- stage\n- sorting\n- pagination","state":"closed","created_at":"2021-04-12T08:43:30.538Z","updated_at":"2021-11-16T09:03:48.221Z","closed_at":"2021-11-16T09:03:48.197Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","GitLab Free","devops::manage","frontend","group::optimize","missed:14.3","priority::1","release post item::in review","section::dev","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327457","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327457","notes":"https://gitlab.com/api/v4/projects/278964/issues/327457/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327457/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327457","relative":"#327457","full":"gitlab-org/gitlab#327457"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5194,"epic":{"id":180134,"iid":5194,"title":"[VSA] Refactor project-level feature to use group-level code","url":"/groups/gitlab-org/-/epics/5194","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85024673,"iid":327456,"project_id":278964,"title":"Consider getting rid of the brakeman gem","description":"It seems we don't use Brakeman except for the `brakeman` rake task (`lib/tasks/brakeman.rake:  if system(*%w(brakeman --no-progress --skip-files lib/backup/repository.rb -w3 -z))`), which I think no one is actually using since we have a `brakeman-sast` job in our pipelines: `.gitlab/ci/reports.gitlab-ci.yml:brakeman-sast`.\n\nHere is the result of `git grep brakeman -- :^doc`:\n\n```\n.gitlab/ci/reports.gitlab-ci.yml:brakeman-sast:\n.gitlab/ci/reports.gitlab-ci.yml:    name: \"$SAST_ANALYZER_IMAGE_PREFIX/brakeman:$SAST_ANALYZER_IMAGE_TAG\"\nCHANGELOG.md:- Bring SAST to Core - brakeman. !34217\nCHANGELOG.md:- Bring SAST to Core - brakeman. !34217\nGemfile:  gem 'brakeman', '~\u003e 4.10.0', require: false\nGemfile.lock:    brakeman (4.10.1)\nGemfile.lock:  brakeman (~\u003e 4.10.0)\napp/validators/json_schemas/security_ci_configuration_schemas/sast_ui_schema.json:            \"name\": \"brakeman\",\nchangelogs/archive-10.md:- Update brakeman 3.6.1 to 4.2.1. !18122 (Takuya Noguchi)\nchangelogs/archive.md:- Add brakeman (security scanner for Ruby on Rails)\nee/spec/frontend/security_configuration/sast/mock_data.js:              name: 'brakeman',\nee/spec/lib/ee/gitlab/background_migration/populate_vulnerability_feedback_pipeline_id_spec.rb:      build = builds.create!(project_id: project_id, name: 'brakeman', retried: false, commit_id: pipeline.id, type: 'Ci::Build')\nee/spec/lib/gitlab/ci/reports/security/identifier_spec.rb:        external_type: 'brakeman_warning_code',\nee/spec/lib/gitlab/ci/reports/security/identifier_spec.rb:        url: 'https://brakemanscanner.org/docs/warning_types/cross_site_scripting/'\nee/spec/lib/gitlab/ci/reports/security/identifier_spec.rb:          external_type: 'brakeman_warning_code',\nee/spec/lib/gitlab/ci/reports/security/identifier_spec.rb:          url: 'https://brakemanscanner.org/docs/warning_types/cross_site_scripting/'\nee/spec/lib/gitlab/ci/reports/security/identifier_spec.rb:      'CVE' | '2018-1234' | 'brakeman_code' | '2018-1234' | false | 'when external_type is different'\nee/spec/lib/gitlab/ci/reports/security/scanner_spec.rb:        external_id: 'brakeman',\nee/spec/lib/gitlab/ci/reports/security/scanner_spec.rb:          external_id: 'brakeman',\nee/spec/lib/gitlab/ci/reports/security/scanner_spec.rb:      'brakeman' | 'brakeman' | true  | 'when external_id is equal'\nee/spec/lib/gitlab/ci/reports/security/scanner_spec.rb:      'brakeman' | 'bandit'   | false | 'when external_id is different'\nee/spec/lib/gitlab/ci/templates/sast_gitlab_ci_yaml_spec.rb:            'Ruby'                 | { 'config/routes.rb' =\u003e '' }                    | {}                                         | %w(brakeman-sast)\nlib/gitlab/ci/templates/Security/SAST.gitlab-ci.yml:  SAST_DEFAULT_ANALYZERS: \"bandit, brakeman, gosec, spotbugs, flawfinder, phpcs-security-audit, security-code-scan, nodejs-scan, eslint, sobelow, pmd-apex, kubesec, mobsf, semgrep\"\nlib/gitlab/ci/templates/Security/SAST.gitlab-ci.yml:brakeman-sast:\nlib/gitlab/ci/templates/Security/SAST.gitlab-ci.yml:    SAST_ANALYZER_IMAGE: \"$SECURE_ANALYZERS_PREFIX/brakeman:$SAST_ANALYZER_IMAGE_TAG\"\nlib/gitlab/ci/templates/Security/SAST.gitlab-ci.yml:    - if: $SAST_EXCLUDED_ANALYZERS =~ /brakeman/\nlib/gitlab/ci/templates/Security/SAST.gitlab-ci.yml:          $SAST_DEFAULT_ANALYZERS =~ /brakeman/\nlib/gitlab/ci/templates/Security/Secure-Binaries.gitlab-ci.yml:    bandit, brakeman, gosec, spotbugs, flawfinder, phpcs-security-audit, security-code-scan, nodejs-scan, eslint, secrets, sobelow, pmd-apex, kubesec,\nlib/gitlab/ci/templates/Security/Secure-Binaries.gitlab-ci.yml:brakeman:\nlib/gitlab/ci/templates/Security/Secure-Binaries.gitlab-ci.yml:          $SECURE_BINARIES_ANALYZERS =~ /\\bbrakeman\\b/\nlib/security/ci_configuration/sast_build_actions.rb:      SAST_DEFAULT_ANALYZERS = 'bandit, brakeman, eslint, flawfinder, gosec, kubesec, nodejs-scan, phpcs-security-audit, pmd-apex, security-code-scan, sobelow, spotbugs'\nlib/tasks/brakeman.rake:desc 'Security check via brakeman'\nlib/tasks/brakeman.rake:task :brakeman do\nlib/tasks/brakeman.rake:  if system(*%w(brakeman --no-progress --skip-files lib/backup/repository.rb -w3 -z))\nlib/tasks/gitlab/test.rake:      %w(rake brakeman),\nqa/qa/specs/features/ee/browser_ui/secure/enable_sast_from_configuration_spec.rb:          expect(pipeline).to have_no_job('brakeman-sast')\nqa/qa/specs/features/ee/browser_ui/secure/enable_sast_from_configuration_spec.rb:          expect(pipeline).to have_job('brakeman-sast')\nspec/graphql/types/project_type_spec.rb:      expect(analyzer['name']).to eq('brakeman')\nspec/lib/security/ci_configuration/sast_build_actions_spec.rb:                        'name' =\u003e  \"brakeman\",\nspec/lib/security/ci_configuration/sast_build_actions_spec.rb:                        'name' =\u003e  \"brakeman\",\nspec/lib/security/ci_configuration/sast_build_actions_spec.rb:            stub_const('Security::CiConfiguration::SastBuildActions::SAST_DEFAULT_ANALYZERS', 'bandit, brakeman, flawfinder')\nspec/lib/security/ci_configuration/sast_build_actions_spec.rb:            stub_const('Security::CiConfiguration::SastBuildActions::SAST_DEFAULT_ANALYZERS', 'brakeman, flawfinder')\nspec/services/ci/create_pipeline_service_spec.rb:          expect(pipeline.builds.map(\u0026:name)).to match_array(%w[brakeman-sast build code_quality eslint-sast secret_detection_default_branch test])\nspec/services/security/ci_configuration/sast_parser_service_spec.rb:    let(:brakeman) { configuration['analyzers'][0] }\nspec/services/security/ci_configuration/sast_parser_service_spec.rb:    let(:sast_brakeman_level) { brakeman['variables'][0] }\nspec/services/security/ci_configuration/sast_parser_service_spec.rb:      expect(brakeman['enabled']).to be(true)\nspec/services/security/ci_configuration/sast_parser_service_spec.rb:      expect(sast_brakeman_level['default_value']).to eql('1')\nspec/services/security/ci_configuration/sast_parser_service_spec.rb:          expect(brakeman['enabled']).to be(false)\nspec/services/security/ci_configuration/sast_parser_service_spec.rb:          expect(sast_brakeman_level['value']).to eql('2')\nspec/services/security/ci_configuration/sast_parser_service_spec.rb:            expect(brakeman['enabled']).to be(false)\nspec/services/security/ci_configuration/sast_parser_service_spec.rb:            expect(brakeman['enabled']).to be(false)\nspec/services/security/ci_configuration/sast_parser_service_spec.rb:          expect(brakeman['enabled']).to be(true)\nspec/services/security/ci_configuration/sast_parser_service_spec.rb:          expect(sast_brakeman_level['value']).to eql('1')\nspec/support/gitlab_stubs/gitlab_ci_for_sast.yml:  SAST_DEFAULT_ANALYZERS: \"bandit, brakeman\"\nspec/support/gitlab_stubs/gitlab_ci_for_sast.yml:  SAST_EXCLUDED_ANALYZERS: \"brakeman\"\nspec/support/gitlab_stubs/gitlab_ci_for_sast_excluded_analyzers.yml:  SAST_EXCLUDED_ANALYZERS: \"brakeman\"\n```\n\nWe should also take the opportunity to get rid of the `gitlab:test` rake task which runs \n\n```\n%w(rake brakeman),\n%w(rake rubocop),\n%w(rake spec),\n%w(rake karma)\n```\n\nwhich I believe no one would ever run considering the duration of these tasks (especially `rubocop` and `spec`)!","state":"closed","created_at":"2021-04-12T08:34:20.224Z","updated_at":"2021-04-19T12:09:10.061Z","closed_at":"2021-04-19T12:09:09.970Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","maintenance::dependency","maintenance::refactor","static code analysis","test","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327456","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327456","notes":"https://gitlab.com/api/v4/projects/278964/issues/327456/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327456/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327456","relative":"#327456","full":"gitlab-org/gitlab#327456"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85023533,"iid":327453,"project_id":278964,"title":"Removal: `Versions` on base PackageType","description":"In: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57719 we deprecated the `Version` type for the basic PackageType type. Moving `version` to the `PackageDetailsType` this issue should be use to track it and finally remove it later on.","state":"closed","created_at":"2021-04-12T08:19:02.899Z","updated_at":"2022-05-24T12:02:42.011Z","closed_at":"2022-05-03T17:52:09.031Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","Community contribution","Deliverable","GraphQL","Package:P1","backend","deprecation","devops::package","group::package registry","ruby","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},{"id":6742251,"username":"feistel","name":"feistel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/40569112d16323eb878ebdead2117943?s=80\u0026d=identicon","web_url":"https://gitlab.com/feistel"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327453","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327453","notes":"https://gitlab.com/api/v4/projects/278964/issues/327453/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327453/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327453","relative":"#327453","full":"gitlab-org/gitlab#327453"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6726,"epic":{"id":346406,"iid":6726,"title":"Breaking changes for the Package stage: Milestone 15.0","url":"/groups/gitlab-org/-/epics/6726","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85022141,"iid":327449,"project_id":278964,"title":"Track migration metrics to inform parameter changes","description":"In order to tune migration parameters (batch size, sub batch size, interval, sleeps, ...), we'd like to get metrics captured into prometheus to inform this process over time.\n\nExtracted from https://gitlab.com/gitlab-org/gitlab/-/issues/326988#note_545532098:\n\n* individual update query timings\n* job duration\n* tuples updated\n* batch_size\n* sub_batch_size","state":"closed","created_at":"2021-04-12T08:00:03.339Z","updated_at":"2022-05-30T15:32:46.824Z","closed_at":"2021-04-23T15:09:43.709Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","missed:13.11","section::enablement"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327449","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327449","notes":"https://gitlab.com/api/v4/projects/278964/issues/327449/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327449/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327449","relative":"#327449","full":"gitlab-org/gitlab#327449"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5654,"epic":{"id":231455,"iid":5654,"title":"Improve background migrations for primary key conversions","url":"/groups/gitlab-org/-/epics/5654","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85021281,"iid":327446,"project_id":278964,"title":"Migrate registration flow views to gitlab utility classes","description":"On top of ee/app/views/registrations/projects/new.html.haml\n\n- Migrate every view under `gitlab/ee/app/views/registrations`\n- Migrate the buttons","state":"closed","created_at":"2021-04-12T07:50:06.035Z","updated_at":"2021-10-28T13:57:39.557Z","closed_at":"2021-05-11T07:11:15.656Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["Category:Conversion Experiment","devops::growth","group::acquisition","missed:13.11","section::growth","type::maintenance"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327446","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327446","notes":"https://gitlab.com/api/v4/projects/278964/issues/327446/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327446/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327446","relative":"#327446","full":"gitlab-org/gitlab#327446"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85019517,"iid":327444,"project_id":278964,"title":"Add `Learn Gitlab` Menu","description":"The next element for the sidebar is the `Learn Gitlab` menu. This menu doesn't have any submenu.\n\n![image](/uploads/5462a5fd1552a321ae239be175969975/image.png)","state":"closed","created_at":"2021-04-12T07:27:23.157Z","updated_at":"2022-03-16T11:43:58.118Z","closed_at":"2021-04-19T16:21:17.175Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Navigation \u0026 Settings","backend","devops::create","group::editor","section::dev","type::maintenance"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327444","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327444","notes":"https://gitlab.com/api/v4/projects/278964/issues/327444/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327444/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327444","relative":"#327444","full":"gitlab-org/gitlab#327444"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5695,"epic":{"id":239682,"iid":5695,"title":"Project sidebar code refactor","url":"/groups/gitlab-org/-/epics/5695","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85013473,"iid":327435,"project_id":278964,"title":"[VSA][FE] Update project-level metrics","description":"As we aim for feature parity, we need to display the same metrics on project-level VSA as on group-level:\n\n| project level metrics | group level metrics |\n| --- | --- |\n| ![Screen_Shot_2021-04-09_at_6.05.44_pm](/uploads/16981ffcb7801b27dd4282b1a15b3c44/Screen_Shot_2021-04-09_at_6.05.44_pm.png)|![Screen_Shot_2021-04-09_at_6.07.42_pm](/uploads/23f22a1d71b40f45aa8edddb1dea38ad/Screen_Shot_2021-04-09_at_6.07.42_pm.png)|\n\n\n## Proposal:\n\n* [x] Update the metrics components to use the `GlSingleStat` component for displaying metrics.\n* [x] Update the API requests to use the [new BE endpoints](https://gitlab.com/gitlab-org/gitlab/-/issues/327570#note_605345917\n\nThe following metrics will be available on the free version:\n* `New Issues`\n* `Commits`\n* `Deploys`\n* `Deployment Frequency`\n\nIn addition, the following metrics will be available for ~\"GitLab Premium\" only:\n* `Lead Time`\n* `Cycle Time`\n\n/cc @ekigbo @npost","state":"closed","created_at":"2021-04-12T05:09:43.793Z","updated_at":"2022-01-31T13:20:37.560Z","closed_at":"2021-08-17T02:31:00.037Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["devops::manage","frontend","group::optimize","priority::3","release post item::secondary","section::dev","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327435","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327435","notes":"https://gitlab.com/api/v4/projects/278964/issues/327435/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327435/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327435","relative":"#327435","full":"gitlab-org/gitlab#327435"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5194,"epic":{"id":180134,"iid":5194,"title":"[VSA] Refactor project-level feature to use group-level code","url":"/groups/gitlab-org/-/epics/5194","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85012846,"iid":327433,"project_id":278964,"title":"Rename API::Helpers::GraphqlHelpers","description":"The following discussion from !58735 should be addressed:\n\n- [ ] @.luke started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58735#note_549212592):  (+1 comment)\n\n    \u003e **Thought**\n    \u003e \n    \u003e In some ways, it's a little unusual to include an `API` namespace helper here. \n    \u003e \n    \u003e As a follow-up, do you want to see whether the helper could be re-namespaced, as there's nothing API-specific about it.","state":"closed","created_at":"2021-04-12T04:49:20.196Z","updated_at":"2022-07-22T03:04:54.103Z","closed_at":"2022-07-22T03:04:54.088Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","maintenance::refactor","section::sec"],"milestone":{"id":427855,"iid":11,"group_id":9970,"title":"Next 4-7 releases","description":"Bigger issues we plan to ship in the next 4-7 releases, but don't have a designated release yet. \r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:55.828Z","updated_at":"2018-08-17T11:09:43.594Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/11"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327433","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327433","notes":"https://gitlab.com/api/v4/projects/278964/issues/327433/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327433/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327433","relative":"#327433","full":"gitlab-org/gitlab#327433"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85004594,"iid":327425,"project_id":278964,"title":"OmniAuth labels overflow off button","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nOn the login page, the OmniAuth labels overflow off the button if the label is too long.\n\n![Screen_Shot_2021-04-12_at_8.37.24_AM](/uploads/2364a8eeff2a785a30860d2532977b2c/Screen_Shot_2021-04-12_at_8.37.24_AM.png)\n\n### Steps to reproduce\n\nThese steps use SAML for example.\n\n1. Setup the OmniAuth SAML provider, using `Google Workspace (SAML)` as the `label` and reconfigure GitLab.\n1. Observe on the login page that the label overflows off the button.\n\n### Example Project\n\nNot reproducible on GitLab.com\n\n### What is the current *bug* behavior?\n\nOmniAuth labels overflow off the button\n\n### What is the expected *correct* behavior?\n\nOmniAuth labels should not overflow off the button\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nDepends on the approach, but some ideas:\n\n- If the label is too long, use `text-overflow` to add an ellipsis\n- Introduce a label length limit in Omnibus\n- Wrap label text (this would increase the size of the button though)\n- Make the text smaller if the label is long (and wrap as well)\n\n## Proposal\n\n![Screen_Shot_2021-07-15_at_9.46.31_AM](/uploads/60eaed822a389ecf827c799df4920082/Screen_Shot_2021-07-15_at_9.46.31_AM.png)","state":"closed","created_at":"2021-04-11T20:44:04.288Z","updated_at":"2022-11-04T15:42:28.417Z","closed_at":"2021-09-02T14:58:36.592Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Authentication and Authorization","candidate::14.3","customer","devops::manage","frontend","group::authentication and authorization","section::dev","severity::4","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":4262215,"username":"anton","name":"Anton Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262215/avatar.png","web_url":"https://gitlab.com/anton"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":12,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327425","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327425","notes":"https://gitlab.com/api/v4/projects/278964/issues/327425/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327425/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327425","relative":"#327425","full":"gitlab-org/gitlab#327425"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84989483,"iid":327422,"project_id":278964,"title":"Experiment with running Unleash Feature Flags on gitlab.com","description":"### Purpose \n\nWe have a number of concerns about using Unleash Feature Flags for gitlab.com. To test some of them we can\n\n* Create a special project on ops.gitlab.net\n* Initialize unleash client only if special env variable `ENV['ENABLE_UNLEASH_FEATURE_FLAGS']` is set\n* Ask SREs to enable this variable for a small portion of servers(1% initially)\n* maybe test some stub feature(e.g. adding something invisible to the page)\n\nThis way we can test how much load gitlab.com will produce on ops instance, and maybe identify some bottlenecks.","state":"closed","created_at":"2021-04-11T09:43:02.688Z","updated_at":"2021-04-12T13:08:09.201Z","closed_at":"2021-04-12T13:08:09.146Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["Category:Feature Flags","auto updated","devops::release","group::release"],"milestone":null,"assignees":[],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327422","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327422","notes":"https://gitlab.com/api/v4/projects/278964/issues/327422/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327422/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327422","relative":"#327422","full":"gitlab-org/gitlab#327422"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84985533,"iid":327418,"project_id":278964,"title":"Add CI predefined variable for environment:deployment_tier","description":"### Proposal \n\nIn GitLab 13.10 (https://gitlab.com/gitlab-org/gitlab/-/issues/300741), the CI keyword `environment:deployment_tier` was added. However, it is not exposed as a predefined CI variable (https://docs.gitlab.com/ee/ci/variables/predefined_variables.html)\n\nI propose that a new predefined CI variable be created called `CI_ENVIRONMENT_TIER`, and it provides the value of the `environment:deployment_tier` keyword.\n\nIf the keyword is not set, this shouldn't be a problem. According to GitLab docs (https://docs.gitlab.com/ee/ci/environments/index.html#deployment-tier-of-environments) the value will be the same as `CI_ENVIRONMENT_NAME`:\n\n\u003e By default, GitLab assumes a tier based on the environment name. Instead, you can use the deployment_tier keyword to specify a tier.","state":"closed","created_at":"2021-04-11T06:37:35.586Z","updated_at":"2021-06-22T19:36:05.041Z","closed_at":"2021-06-22T19:36:05.021Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Continuous Delivery","Category:Release Orchestration","Community contribution","[deprecated] Accepting merge requests","candidate::14.2","cicd::active","devops::release","feature::addition","group::release","section::ops","type::feature","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[],"author":{"id":1429923,"username":"boomshadow","name":"boomshadow","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b2b52c5ffe9b4bd5b93ebffc7fb6a670?s=80\u0026d=identicon","web_url":"https://gitlab.com/boomshadow"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327418","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327418","notes":"https://gitlab.com/api/v4/projects/278964/issues/327418/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327418/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327418","relative":"#327418","full":"gitlab-org/gitlab#327418"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84973231,"iid":327405,"project_id":278964,"title":"Batched Background Migration Job records not being updated","description":"We had [5 failed runs](https://log.gprd.gitlab.net/goto/3ad3db5ed5857cc92a5b47ea393be526) for the `BatchedBackgroundMigrationWorker` (out of 1080).\n\nAll of the failed runs were caused by statement timeouts on the [select query](https://log.gprd.gitlab.net/goto/98d1a42066491aff53478c07a31e8613) that finds the upper bound (stop) of the batch in `each_batch`.\n\nThose errors are very sparse and not much of a concern as they happen while the `BatchedMigrationRunner` tries to [find the next batch range](https://gitlab.com/gitlab-org/gitlab/-/blob/3c2c533b3351b480e08f5657554eedc46596d3de/lib/gitlab/database/background_migration/batched_migration_runner.rb#L61) and before it creates a `BatchedJob`, so the next execution is not affected.\n\n### Issue\n\nBut while I was checking this, I run a query over the `batched_background_migration_jobs`:\n\n```sql\ngitlabhq_production=\u003e SELECT status, COUNT(*) FROM batched_background_migration_jobs GROUP BY status;\n status | count\n--------+-------\n      1 |    11\n      3 |  4275\n\ngitlabhq_production=\u003e SELECT * FROM batched_background_migration_jobs WHERE status = 1;\n  id  |          created_at           |          updated_at           |          started_at           |          finished_at          | batched_background_migration_id | min_value | max_value | batch_size | sub_batch_size | status | attempts | metrics\n------+-------------------------------+-------------------------------+-------------------------------+-------------------------------+---------------------------------+-----------+-----------+------------+----------------+--------+----------+---------\n\n-- 10 NOT updated jobs - stuck at running\n\n  685 | 2021-04-05 09:50:02.00755+00  | 2021-04-05 09:50:35.329187+00 | 2021-04-05 09:50:02.014176+00 | 2021-04-05 09:50:35.328527+00 |                               1 | 116151373 | 116208906 |      50000 |            200 |      1 |        1 | {}\n 2223 | 2021-04-07 13:37:04.390141+00 | 2021-04-07 13:37:26.958784+00 | 2021-04-07 13:37:04.398889+00 | 2021-04-07 13:37:26.958107+00 |                               1 | 220408701 | 220630870 |     200000 |            500 |      1 |        1 | {}\n 2300 | 2021-04-07 16:57:01.971842+00 | 2021-04-07 16:57:26.540344+00 | 2021-04-07 16:57:01.981515+00 | 2021-04-07 16:57:26.539665+00 |                               1 | 237600007 | 237824454 |     200000 |            500 |      1 |        1 | {}\n 2394 | 2021-04-07 20:14:02.044816+00 | 2021-04-07 20:14:34.320387+00 | 2021-04-07 20:14:02.055119+00 | 2021-04-07 20:14:34.319405+00 |                               1 | 258675277 | 258899689 |     200000 |            500 |      1 |        1 | {}\n 2561 | 2021-04-08 01:52:02.332268+00 | 2021-04-08 01:53:09.779131+00 | 2021-04-08 01:52:02.337932+00 | 2021-04-08 01:53:09.778284+00 |                               1 | 295972238 | 296189933 |     200000 |            500 |      1 |        1 | {}\n 2772 | 2021-04-08 09:00:01.608604+00 | 2021-04-08 09:00:01.620031+00 | 2021-04-08 09:00:01.619302+00 |                               |                               1 | 342298978 | 342524610 |     200000 |            500 |      1 |        1 | {}\n 2819 | 2021-04-08 10:45:16.084115+00 | 2021-04-08 10:46:48.956071+00 | 2021-04-08 10:45:16.090629+00 | 2021-04-08 10:46:48.955465+00 |                               1 | 352591053 | 352812908 |     200000 |            500 |      1 |        1 | {}\n 2823 | 2021-04-08 10:54:01.841729+00 | 2021-04-08 10:55:22.627538+00 | 2021-04-08 10:54:01.854955+00 | 2021-04-08 10:55:22.626391+00 |                               1 | 353464105 | 353689234 |     200000 |            500 |      1 |        1 | {}\n 2877 | 2021-04-08 13:03:01.854084+00 | 2021-04-08 13:04:22.636241+00 | 2021-04-08 13:03:01.863688+00 | 2021-04-08 13:04:22.635051+00 |                               1 | 365333710 | 365565363 |     200000 |            500 |      1 |        1 | {}\n 3598 | 2021-04-09 15:11:02.064962+00 | 2021-04-09 15:11:02.308102+00 | 2021-04-09 15:11:02.307566+00 |                               |                               1 | 521395995 | 521609060 |     200000 |            500 |      1 |        1 | {}\n\n-- Current Active job\n\n 4286 | 2021-04-10 14:25:02.058946+00 | 2021-04-10 14:25:02.082803+00 | 2021-04-10 14:25:02.082081+00 |                               |                               1 | 669388657 | 669705038 |     300000 |            500 |      1 |        1 | {}\n```\n\nWe can see two problems above:\n1. 10 jobs were never updated - they all have still a [running status](https://gitlab.com/gitlab-org/gitlab/-/blob/3c2c533b3351b480e08f5657554eedc46596d3de/lib/gitlab/database/background_migration/batched_job.rb#L14) (`status == 1`)\n1. 2 out of those 10 jobs do not have a `finished_at` set, which is explicitly set in the [ensure clause](https://gitlab.com/gitlab-org/gitlab/-/blob/3c2c533b3351b480e08f5657554eedc46596d3de/lib/gitlab/database/background_migration/batched_migration_wrapper.rb#L25) of `BatchedMigrationWrapper`\n1. All of them have no metrics set, which means that they should have failed while [the job was performing the batch](https://gitlab.com/gitlab-org/gitlab/-/blob/3c2c533b3351b480e08f5657554eedc46596d3de/lib/gitlab/database/background_migration/batched_migration_wrapper.rb#L37).\n\nOne plausible explanation I can think of, is that [finish_tracking_execution](https://gitlab.com/gitlab-org/gitlab/-/blob/3c2c533b3351b480e08f5657554eedc46596d3de/lib/gitlab/database/background_migration/batched_migration_wrapper.rb#L50) failed to save the record.\n\nBut that (or any other similar error) should have resulted in an error recorded in the slow logs. Shouldn't those errors go all the way up to the cronjob? \n\nAdding screenshot for reference after 7 days pass and old logs are not available to us ([Failed jobs](https://log.gprd.gitlab.net/goto/3ad3db5ed5857cc92a5b47ea393be526)):\n\n![image](/uploads/238cb0af71dc762683a8e6c94a1170ef/image.png)","state":"closed","created_at":"2021-04-10T14:22:19.762Z","updated_at":"2022-05-30T15:32:48.226Z","closed_at":"2021-05-06T12:22:49.734Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327405","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327405","notes":"https://gitlab.com/api/v4/projects/278964/issues/327405/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327405/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327405","relative":"#327405","full":"gitlab-org/gitlab#327405"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5654,"epic":{"id":231455,"iid":5654,"title":"Improve background migrations for primary key conversions","url":"/groups/gitlab-org/-/epics/5654","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84970910,"iid":327403,"project_id":278964,"title":"\"Leave this group\" button not working","description":"### Summary\n\n\"Leave this group\" button is not working\n\n### Steps to reproduce\n\nI don't have the steps to reproduce the failing configuration.\nBut you can contact me to have a look to one of the groups where it occurs: https://gitlab.com/groups/dalenys/protected/cicd\n\nOn google chrome, when I click on \"Leave this group\" button, nothing happens, just an error in the console\nOne thing is also surprising is that I don't see my user as a direct member of the group on which the error occurs.\nBut I see my user as member of the group when I list the group-members with the cli: https://python-gitlab.readthedocs.io/en/stable/cli-objects.html?highlight=subgroup#gitlab-group-member\n```\ngitlab -o json group-member list --group-id \"${1}\" | json_pp | jq '.[] | \"\\(.username) \\(.access_level)\"'\n```\n\n### What is the current *bug* behavior?\n\nThe button is not working\n\n### What is the expected *correct* behavior?\n\nThe button should remove my user from the group\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/7b2ebbfab17859d663295e6287d42226/image.png)\n\nsame here:\n![image](/uploads/5b4fda3c0fcf6b5357e512a8450d7bcc/image.png)\n\nIn the google chrome console:\n```\ninstrument.js:109 TypeError: Cannot set property 'isBeingRemoved' of null\n    at a.leaveGroup (app.vue:192)\n    at zt (vue.esm.js:1863)\n    at a.n (vue.esm.js:2188)\n    at zt (vue.esm.js:1863)\n    at a.t.$emit (vue.esm.js:3897)\n    at a.primary (modal.js:132)\n    at zt (vue.esm.js:1863)\n    at a.n (vue.esm.js:2188)\n    at zt (vue.esm.js:1863)\n    at a.t.$emit (vue.esm.js:3897)\n    at a.hide (modal.js:526)\n    at a.onOk (modal.js:727)\n    at a.ok (modal.js:123)\n    at zt (vue.esm.js:1863)\n    at n (vue.esm.js:2188)\n    at zt (vue.esm.js:1863)\n    at HTMLButtonElement.n (vue.esm.js:2184)\n    at HTMLButtonElement.i._wrapper (vue.esm.js:7565)\n    at HTMLButtonElement.r (helpers.js:72)\n(anonymous)\t@\tinstrument.js:109\nWt\t@\tvue.esm.js:1897\nVt\t@\tvue.esm.js:1888\nqt\t@\tvue.esm.js:1848\nzt\t@\tvue.esm.js:1871\nn\t@\tvue.esm.js:2188\nzt\t@\tvue.esm.js:1863\nt.$emit\t@\tvue.esm.js:3897\nprimary\t@\tmodal.js:132\nzt\t@\tvue.esm.js:1863\nn\t@\tvue.esm.js:2188\nzt\t@\tvue.esm.js:1863\nt.$emit\t@\tvue.esm.js:3897\nhide\t@\tmodal.js:526\nonOk\t@\tmodal.js:727\nok\t@\tmodal.js:123\nzt\t@\tvue.esm.js:1863\nn\t@\tvue.esm.js:2188\nzt\t@\tvue.esm.js:1863\nn\t@\tvue.esm.js:2184\ni._wrapper\t@\tvue.esm.js:7565\nr\t@\thelpers.js:72\n```\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab application Check\n\n### Implementation plan\n\n1. Pass `action` prop to [app/assets/javascripts/groups/components/item_actions.vue#L24](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/groups/components/item_actions.vue#L24) in [app/assets/javascripts/groups/components/group_item.vue#L184](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/groups/components/group_item.vue#L184)\n1. Write unit test in [spec/frontend/groups/components/group_item_spec.js#L24](https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/frontend/groups/components/group_item_spec.js#L24) to ensure `action` prop is being passed correctly","state":"closed","created_at":"2021-04-10T12:22:04.218Z","updated_at":"2021-06-07T16:00:44.134Z","closed_at":"2021-06-07T16:00:44.115Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Subgroups","Next Up","devops::manage","estimation::completed","frontend","group::authentication and authorization","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5732572,"username":"lionel.savouillan.fintech","name":"Lionel Savouillan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5732572/avatar.png","web_url":"https://gitlab.com/lionel.savouillan.fintech"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":7,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327403","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327403","notes":"https://gitlab.com/api/v4/projects/278964/issues/327403/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327403/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327403","relative":"#327403","full":"gitlab-org/gitlab#327403"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84963008,"iid":327400,"project_id":278964,"title":"Geo: Make job artifact replication use Self-Service Framework, behind feature flag","description":"Follow the lead of https://gitlab.com/groups/gitlab-org/-/epics/3113\n\n- [x] Make sure to handle cases like https://gitlab.com/gitlab-org/gitlab/-/issues/297472 but in the SSF (**Created** https://gitlab.com/gitlab-org/gitlab/-/issues/351088)","state":"closed","created_at":"2021-04-10T06:26:08.711Z","updated_at":"2022-04-08T13:10:45.556Z","closed_at":"2022-02-22T17:05:44.761Z","closed_by":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"labels":["Category:Geo Replication","Enterprise Edition","GitLab Premium","devops::systems","group::geo","missed:14.8","section::enablement","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327400","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327400","notes":"https://gitlab.com/api/v4/projects/278964/issues/327400/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327400/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327400","relative":"#327400","full":"gitlab-org/gitlab#327400"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3114,"epic":{"id":43809,"iid":3114,"title":"Geo: Move CI Job Artifacts to Self-Service Framework","url":"/groups/gitlab-org/-/epics/3114","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84962963,"iid":327399,"project_id":278964,"title":"Geo: Modify job artifact tables to support Geo Self-Service Framework","description":"Follow the lead of https://gitlab.com/groups/gitlab-org/-/epics/3113","state":"closed","created_at":"2021-04-10T06:24:16.883Z","updated_at":"2022-01-04T11:09:16.237Z","closed_at":"2022-01-04T11:09:16.218Z","closed_by":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"labels":["Category:Geo Replication","Enterprise Edition","GitLab Premium","devops::systems","group::geo","section::enablement","workflow::in dev"],"milestone":null,"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327399","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327399","notes":"https://gitlab.com/api/v4/projects/278964/issues/327399/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327399/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327399","relative":"#327399","full":"gitlab-org/gitlab#327399"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3114,"epic":{"id":43809,"iid":3114,"title":"Geo: Move CI Job Artifacts to Self-Service Framework","url":"/groups/gitlab-org/-/epics/3114","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84955434,"iid":327391,"project_id":278964,"title":"[FE] Generic Report Schema: Render 'module-location' type on vulnerability details page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nAllows scan results to add new labels and values to a vulnerability, where the label is any string they want and the value is one of the following types: `named-list`, `list`, `table`, `url`, `int`, `text`, `diff`, `markdown` (GFM), `code`, `commit`, `file-location`, and `module-location`.\n\nThis issue is specific to the **`module-location` type**\n\n### Designs\n\n| component | design |\n| ------ | ------ |\n| **`module-location`** | ![Screen_Shot_2021-04-21_at_4.20.02_pm](/uploads/8254cbca848870d274e60e3cb597e4fe/Screen_Shot_2021-04-21_at_4.20.02_pm.png) |\n\n\n## Sample Data\n\nSchema: https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/master/src/vulnerability-details-format.json\n\n### `module-location` (based on https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/master/src/vulnerability-details-format.json#L270)\n\n```json\n{\n\"stack_trace\": {\n  \"name\": [ { \"lang\": \"en\", \"value\": \"Stack Trace\" } ],\n  \"type\": \"list\",\n  \"items\": [\n    { \"type\": \"module-location\", \"module_name\": \"compiled_binary\", \"offset\": 100 },\n    { \"type\": \"module-location\", \"module_name\": \"compiled_binary\", \"offset\": 500 },\n    { \"type\": \"module-location\", \"module_name\": \"compiled_binary\", \"offset\": 700 },\n    { \"type\": \"module-location\", \"module_name\": \"compiled_binary\", \"offset\": 1000 }\n  ]\n}}\n```\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/267193)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/267193/designs/a2-Vuln-Details-Page_generic-schema-evidence-expandable.png)\n- [POC example](https://gitlab.com/gitlab-org/gitlab/-/issues/233168)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] ~3412464 Add `module-location` component (it should render `${module_name}:${offset)`\n- [ ] Add specs","state":"closed","created_at":"2021-04-09T21:21:30.531Z","updated_at":"2021-06-18T07:09:43.971Z","closed_at":"2021-05-26T15:01:15.763Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Vulnerability Management","Deliverable","devops::secure","frontend","group::threat insights","missed-deliverable","missed:13.12","section::sec","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327391","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327391","notes":"https://gitlab.com/api/v4/projects/278964/issues/327391/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327391/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327391","relative":"#327391","full":"gitlab-org/gitlab#327391"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4466,"epic":{"id":115454,"iid":4466,"title":"Generic security report schema","url":"/groups/gitlab-org/-/epics/4466","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":84955335,"iid":327390,"project_id":278964,"title":"[FE] Generic Report Schema: Render 'file-location' type on vulnerability details page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nAllows scan results to add new labels and values to a vulnerability, where the label is any string they want and the value is one of the following types: `named-list`, `list`, `table`, `url`, `int`, `text`, `diff`, `markdown` (GFM), `code`, `commit`, `file-location`, and `module-location`.\n\nThis issue is specific to the **`file-location` type**\n\n### Designs\n\n| component | design |\n| ------ | ------ |\n| **`file-location`** | ![image](/uploads/57d6fd831322c49883d92cf273a4ed80/image.png) |\n\n\n## Sample Data\n\nSchema: https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/master/src/vulnerability-details-format.json\n\n### `file-location` (based on https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/master/src/vulnerability-details-format.json#L246)\n\n```jsonc\n{\n  \"type\": \"file_location\",\n  \"file_name\": \"index.js\",\n  \"line_start\": \"1\",\n  \"line_end: \"2\" // optional\n}\n```\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/267193)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/267193/designs/a2-Vuln-Details-Page_generic-schema-evidence-expandable.png)\n- [POC example](https://gitlab.com/gitlab-org/gitlab/-/issues/233168)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] ~3412464 Add `file-location` component\n   - [ ] Construct link - example in POC: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/41783/diffs#b2aa4b04abeb96670ed651962efbf813b8267eda_0_36\n   - [ ] Construct the rendered text:\n      - if the data contains a `line_end`: `${file_name}:${line_start}-${line_end}`\n      - else `${file_name}:${line_start}`\n- [ ] Add specs\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~3207279\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-04-09T21:16:51.898Z","updated_at":"2021-06-18T07:09:44.049Z","closed_at":"2021-06-16T06:36:18.069Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Vulnerability Management","Deliverable","devops::secure","frontend","group::threat insights","missed-deliverable","missed:13.12","section::sec","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327390","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327390","notes":"https://gitlab.com/api/v4/projects/278964/issues/327390/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327390/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327390","relative":"#327390","full":"gitlab-org/gitlab#327390"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4466,"epic":{"id":115454,"iid":4466,"title":"Generic security report schema","url":"/groups/gitlab-org/-/epics/4466","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84955212,"iid":327389,"project_id":278964,"title":"[FE] Generic Report Schema: Render 'commit' type on vulnerability details page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nAllows scan results to add new labels and values to a vulnerability, where the label is any string they want and the value is one of the following types: `named-list`, `list`, `table`, `url`, `int`, `text`, `diff`, `markdown` (GFM), `code`, `commit`, `file-location`, and `module-location`.\n\nThis issue is specific to the **`commit` type**\n\n### Designs\n\nIgnore the `?` icon for this issue.\n\n| component | design |\n| ------ | ------ |\n| **`commit`** | ![image](/uploads/4fb44191337c21e86ae80030456f610f/image.png) |\n\n\n## Sample Data\n\nSchema: https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/master/src/vulnerability-details-format.json\n\n### `commit`\n\n```json\n\"commit_1\": {\n  \"type\": \"commit\",\n  \"value\": \"ba1f5c117f8\"\n}\n```\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/267193)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/267193/designs/a2-Vuln-Details-Page_generic-schema-evidence-expandable.png)\n- [POC example](https://gitlab.com/gitlab-org/gitlab/-/issues/233168)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation: may be needed\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] ~3412464 Add `commit` component\n- [ ] Add specs\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~3207279\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-04-09T21:13:14.937Z","updated_at":"2021-06-18T07:09:44.140Z","closed_at":"2021-06-16T06:45:50.749Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","Deliverable","devops::secure","frontend","group::threat insights","section::sec","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327389","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327389","notes":"https://gitlab.com/api/v4/projects/278964/issues/327389/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327389/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327389","relative":"#327389","full":"gitlab-org/gitlab#327389"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4466,"epic":{"id":115454,"iid":4466,"title":"Generic security report schema","url":"/groups/gitlab-org/-/epics/4466","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84955135,"iid":327388,"project_id":278964,"title":"[FE] Generic Report Schema: Render 'code' type on vulnerability details page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nAllows scan results to add new labels and values to a vulnerability, where the label is any string they want and the value is one of the following types: `named-list`, `list`, `table`, `url`, `int`, `text`, `diff`, `markdown` (GFM), `code`, `commit`, `file-location`, and `module-location`.\n\nThis issue is specific to the **`code` type**\n\n### Designs\n\n| component | design |\n| ------ | ------ |\n| **`code`** | ![image](/uploads/d96794762ee6bc98c80fe7da90a99105/image.png) |\n\n\n## Sample Data\n\nSchema: https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/master/src/vulnerability-details-format.json\n\n### `code`\n\n```json\n\"code_snippet\": {\n  \"type\": \"code\",\n  \"value\": \"\u003ch1\u003eHi Daniel!\u003c/h1\u003e\",\n  \"lang\": \"HTML\"\n}\n```\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/267193)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/267193/designs/a2-Vuln-Details-Page_generic-schema-evidence-expandable.png)\n- [POC example](https://gitlab.com/gitlab-org/gitlab/-/issues/233168)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] ~3412464 Add `code` component\n  - [ ] Use the shared `app/assets/javascripts/vue_shared/components/code_block.vue` component for rendering\n- [ ] Add specs\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~3207279\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-04-09T21:11:13.398Z","updated_at":"2021-11-03T15:34:27.109Z","closed_at":"2021-06-16T06:15:11.680Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","Deliverable","devops::secure","frontend","group::threat insights","section::sec","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327388","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327388","notes":"https://gitlab.com/api/v4/projects/278964/issues/327388/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327388/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327388","relative":"#327388","full":"gitlab-org/gitlab#327388"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4466,"epic":{"id":115454,"iid":4466,"title":"Generic security report schema","url":"/groups/gitlab-org/-/epics/4466","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84954904,"iid":327386,"project_id":278964,"title":"[FE] Generic Report Schema: Render 'markdown' (GFM) type on vulnerability details page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nAllows scan results to add new labels and values to a vulnerability, where the label is any string they want and the value is one of the following types: `named-list`, `list`, `table`, `url`, `int`, `text`, `diff`, `markdown` (GFM), `code`, `commit`, `file-location`, and `module-location`.\n\nThis issue is specific to the **`markdown` (GFM) type**\n\n### Designs\n\nThere is no design mock for this since the markdown itself drives the rendering of this data type. \n\n\n## Sample Data\n\n### `markdown` (GFM) - combined details example\n\n```json\n\"details\": {\n  \"file_diff\": {\n    \"name\": \"fred.rb\",\n    \"type\": \"commit\",\n    \"value\": \"1234567\"\n  },\n  \"website\": {\n    \"name\": \"Website\",\n    \"type\": \"url\",\n    \"href\": \"http://mysite.com\"\n  },\n  \"comments\": {\n    \"name\": \"Comments\",\n    \"type\": \"named-list\",\n    \"items\": {\n      \"comment_1\": {\n        \"name\": \"Fred:\",\n        \"type\": \"text\",\n        \"value\": \"Hi Wilma\"\n      },\n      \"comment_2\": {\n        \"name\": \"Wilma:\",\n        \"type\": \"markdown\",\n        \"value\": \"Hi Fred. Checkout [GitLab](http://gitlab.com)\"\n      },\n      \"resources\": {\n        \"name\": \"resources\",\n        \"type\": \"list\",\n        \"items\": [\n          {\n            \"type\": \"value\",\n            \"value\": \"42\"\n          }\n        ]\n      }\n    }\n  }\n}\n```\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/267193)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/267193/designs/a2-Vuln-Details-Page_generic-schema-evidence-expandable.png)\n- [POC example](https://gitlab.com/gitlab-org/gitlab/-/issues/233168)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] ~3412464 Add `markdown` (GFM) component\n- [ ] Add specs\n\nThe final result should look like this: \n\n![image](/uploads/5c498255254bfd151d4b42331f455efc/image.png)\n\n## More context\n\nThe [POC](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/41783/diffs#diff-content-e87f147812045c8883ffa07d21328ca3309992db) made use of this API: https://docs.gitlab.com/ee/api/markdown.html. We can use the API inside the component to make a call and render the markdown dynamically.","state":"closed","created_at":"2021-04-09T21:02:46.324Z","updated_at":"2021-07-07T21:29:59.841Z","closed_at":"2021-06-16T06:45:27.020Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Vulnerability Management","Deliverable","devops::secure","frontend","group::threat insights","missed-deliverable","missed:13.12","section::sec","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327386","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327386","notes":"https://gitlab.com/api/v4/projects/278964/issues/327386/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327386/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327386","relative":"#327386","full":"gitlab-org/gitlab#327386"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4466,"epic":{"id":115454,"iid":4466,"title":"Generic security report schema","url":"/groups/gitlab-org/-/epics/4466","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":84954525,"iid":327384,"project_id":278964,"title":"[FE] Generic Report Schema: Render 'diff' type on vulnerability details page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n| Part  | Issue | description\n| ------ | ------ | ------|\n| 1 | https://gitlab.com/gitlab-org/gitlab/-/issues/327384 | Implements diff component only\n| 2 | https://gitlab.com/gitlab-org/gitlab/-/issues/328706 | Adds diff component to the dynamic report_item parent component.\n\n\n## Why are we doing this work\n\nAllows scan results to add new labels and values to a vulnerability, where the label is any string they want and the value is one of the following types: `named-list`, `list`, `table`, `url`, `int`, `text`, `diff`, `markdown` (GFM), `code`, `commit`, `file-location`, and `module-location`.\n\nThis issue is specific to the **`diff` type**\n\n### Designs\n\n| component | design |\n| ------ | ------ |\n| **diff** | ![image](/uploads/2fb666f5ec25faf283f141ce01b1b281/image.png) |\n\n\n## Sample Data\n\n### diff\n\n```json\n  \"details\": {\n    \"ruby_diff\": {\n      \"name\": \"my_file.rb\",\n      \"type\": \"diff\",\n      \"before\": \"before text\",\n      \"after\": \"after text\"\n    }\n  }\n```\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/267193)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/267193/designs/a2-Vuln-Details-Page_generic-schema-evidence-expandable.png)\n- [POC example](https://gitlab.com/gitlab-org/gitlab/-/issues/233168)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] Add `diff`  diff.vue component\n- [ ] Clean up css styles\n- [ ] Add unit tests for diff.vue\n- [ ] Add diff_utils.js\n- [ ] Add diff_utils unit tests\n\nPart II is https://gitlab.com/gitlab-org/gitlab/-/issues/328706\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~3207279\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-04-09T20:52:20.982Z","updated_at":"2021-05-18T07:09:06.391Z","closed_at":"2021-04-30T03:08:31.559Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Vulnerability Management","Deliverable","devops::secure","frontend","group::threat insights","section::sec","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327384","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327384","notes":"https://gitlab.com/api/v4/projects/278964/issues/327384/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327384/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327384","relative":"#327384","full":"gitlab-org/gitlab#327384"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4466,"epic":{"id":115454,"iid":4466,"title":"Generic security report schema","url":"/groups/gitlab-org/-/epics/4466","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84954328,"iid":327382,"project_id":278964,"title":"[FE] Generic Report Schema: Render 'value' type (string, int, boolean) on vulnerability details page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nAllows scan results to add new labels and values to a vulnerability, where the label is any string they want and the value is one of the following types: `named-list`, `list`, `table`, `url`, `int`, `text`, `boolean`, `diff`, `markdown` (GFM), `code`, `commit`, `file-location`, and `module-location`.\n\nThis issue is specific to the 'value' types (string, int, boolean) \n\n### Designs\n\n| component | design |\n| ------ | ------ |\n| **text** | ![image](/uploads/caa2998bf1d59d47649ab341a1de8f40/image.png) |\n\n\n## Sample Data\n\n### text (combined details example)\n\n```json\n\"details\": {\n  \"file_diff\": {\n    \"name\": \"fred.rb\",\n    \"type\": \"commit\",\n    \"value\": \"1234567\"\n  },\n  \"website\": {\n    \"name\": \"Website\",\n    \"type\": \"url\",\n    \"href\": \"http://mysite.com\"\n  },\n  \"comments\": {\n    \"name\": \"Comments\",\n    \"type\": \"named-list\",\n    \"items\": {\n      \"comment_1\": {\n        \"name\": \"Fred:\",\n        \"type\": \"text\",\n        \"value\": \"Hi Wilma\"\n      },\n      \"comment_2\": {\n        \"name\": \"Wilma:\",\n        \"type\": \"markdown\",\n        \"value\": \"Hi Fred. Checkout [GitLab](http://gitlab.com)\"\n      },\n      \"resources\": {\n        \"name\": \"resources\",\n        \"type\": \"list\",\n        \"items\": [\n          {\n            \"type\": \"value\",\n            \"value\": \"42\"\n          }\n        ]\n      }\n    }\n  }\n}\n```\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/267193)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/267193/designs/a2-Vuln-Details-Page_generic-schema-evidence-expandable.png)\n- [POC example](https://gitlab.com/gitlab-org/gitlab/-/issues/233168)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] ~3412464 Add `text` component which receives a property `value` and renders it. If it receives a boolean we should probably print `true` or `false`. \n- [ ] Add specs\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~3207279\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-04-09T20:43:36.174Z","updated_at":"2021-06-02T07:13:26.167Z","closed_at":"2021-06-02T07:13:26.138Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["Category:Vulnerability Management","Deliverable","devops::secure","frontend","group::threat insights","section::sec","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327382","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327382","notes":"https://gitlab.com/api/v4/projects/278964/issues/327382/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327382/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327382","relative":"#327382","full":"gitlab-org/gitlab#327382"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4466,"epic":{"id":115454,"iid":4466,"title":"Generic security report schema","url":"/groups/gitlab-org/-/epics/4466","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84954121,"iid":327380,"project_id":278964,"title":"[FE] Generic Report Schema: Render 'table' type on vulnerability details page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nAllows scan results to add new labels and values to a vulnerability, where the label is any string they want and the value is one of the following types: `named-list`, `list`, `table`, `url`, `int`, `text`, `diff`, `markdown` (GFM), `code`, `commit`, `file-location`, and `module-location`.\n\nThis issue is specific to the **`table` type**\n\n### Designs\n\n| component | design |\n| ------ | ------ |\n| **table** | ![image](/uploads/8e279520f79fa0021cb85898affeec98/image.png) |\n\n\n## Sample Data\n\nSchema: https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/master/src/vulnerability-details-format.json\n\n### table\n\n```json\nTBD\n```\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/267193)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/267193/designs/a2-Vuln-Details-Page_generic-schema-evidence-expandable.png)\n- [POC example](https://gitlab.com/gitlab-org/gitlab/-/issues/233168)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] ~3412464 Add `table` component. This component could be a wrapper component around the `GlTable` component.\n- [ ] Add specs\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~3207279\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-04-09T20:34:37.896Z","updated_at":"2021-06-18T07:09:44.370Z","closed_at":"2021-06-16T06:17:56.147Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","Deliverable","devops::secure","frontend","group::threat insights","missed-deliverable","missed:13.12","section::sec","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327380","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327380","notes":"https://gitlab.com/api/v4/projects/278964/issues/327380/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327380/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327380","relative":"#327380","full":"gitlab-org/gitlab#327380"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4466,"epic":{"id":115454,"iid":4466,"title":"Generic security report schema","url":"/groups/gitlab-org/-/epics/4466","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84952409,"iid":327374,"project_id":278964,"title":"Exclude trial plans on the billing page","description":"We want to add trial plans to CustomersDot but in order to do that we need to exclude any trial plan from being visible on the Billings page.\n\nParent https://gitlab.com/gitlab-org/gitlab/-/issues/322043","state":"closed","created_at":"2021-04-09T19:34:02.530Z","updated_at":"2021-05-04T17:03:09.253Z","closed_at":"2021-04-19T05:43:02.252Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["Category:Purchase","Unplanned","[deprecated] Accepting merge requests","devops::fulfillment","frontend","group::purchase","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[],"author":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327374","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327374","notes":"https://gitlab.com/api/v4/projects/278964/issues/327374/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327374/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327374","relative":"#327374","full":"gitlab-org/gitlab#327374"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5431,"epic":{"id":208354,"iid":5431,"title":"Create a diverse trial offering","url":"/groups/gitlab-org/-/epics/5431","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":84951182,"iid":327371,"project_id":278964,"title":"Monitoring Database Resource usage for PK conversion migrations","description":"In this issue we discuss the strategies to track the migrations that will perform the PK conversion for the tables at risk, especially the background migrations (\u00265654) that will backfill the new columns.\n\nThose background migrations are the ones that require the majority of time to convert an integer column to a `bigint` one, consume the most resources on the database side (as they have to touch and update all the records of the related tables) and are most at risk of failing or causing issues. \n\nAs an example during the following sections we are going to use the migration that converts the primary key of the events table (gitlab-org/gitlab#288004).\n\n## Background\n\nAll Primary Key conversion migrations make use of our newly introduced framework for performing background migrations (\u00265654), which in summary:\n1. Does not schedule pre-emptively all the jobs necessary to do the conversion \n\n   While batching through a table with a billion records, we would have to schedule hundreds of thousand of background jobs using our current approach to background migrations.\n\n   We would also need to make a prediction and set beforehand a static batch size for all jobs that would run.\n\n1. It uses sidekiq to schedule a cron job that runs every minute and, using its own scheduler, picks the next batch to process, sets the batch and sub-batch sizes dynamically and executes the processing inline, inside that job, without starting a new job.\n\n   Basically, there is one Batched Background migration job (actively) running each time, more or less in a similar way current background migration jobs are schedule, but with the core difference that there are no other jobs pending and that it can change the batch and sub-batch sizes it processes dynamically.\n\n1. The batch and sub-batch sizes are fetched at real time from the entry for that background migration in the `batched_background_migrations` table\n\nWe reference the **batch** and **sub-batch** sizes above, so at a high level, that's what they are affecting:\n- **batch** size: How many records a job will update during its lifetime (by default 2 minutes)\n- **sub-batch** size: How many records a job will update with each update query it runs?\n\nAs an example, a background migration set up with `batch_size = 200K | sub_batch_size = 500` will execute 400 (==200K/500) queries, each updating 500 records at a time. \n\nIf it uses the default `interval = 120s`, we will start a new processing cycle after 2 minutes have passed since the previous one, even if it required 40 seconds to finish. It will also sleep in between those updates for a predefined amount of time (100ms by default but we plan to make it configurable) to allow some time for other database processes to access affected records.\n\nBasically, in the example above (which is exactly how we are running the migration on `events` right now), we sleep for 40 seconds out of the 95 seconds on average that each job requires to finish and idle for an additional 25 seconds to make sure that the strain to the primary Database is as minimal as possible for such a resource intensive update.\n\nThe **sub-batch** size controls how expensive our updates are (from a resource utilization and locking perspective); increasing it directly increases the average time a query takes to run.\n\nThe **batch** size is affected by the **sub-batch** size and the total time we allow the job to run, but affects how much time we idle (no job executing) in between the updates. It is also a secondary metric that can help us predict how much time a background migration will have to run end to end.\n\nTogether they define how intensive the migration is and can be used to balance the requirement to finish the conversion as soon as possible with the requirement to not cause to much load on the primary.\n\nFinally, we have additional measures to keep jobs from overloading the database:\n1. We use an exclusive lease that blocks other jobs from starting for at least 10 minutes as long as the current one is still running.\n1. Batched background migrations can be paused through an update to the their status in the `batched_background_migrations` table\n1. All batched background migrations can be stopped by disabling the `execute_batched_migrations_on_schedule` feature flag (gitlab-org/gitlab#326241)\n\n## Monitoring batched background migrations\n\nThere are three main ways to monitor those migrations:\n1. Through the built-in mechanism that tracks how much time each job takes to run and the time each query needs to execute.\n1. Using the `pg_stat_statements` table and Prometheus metrics \n1. Through the slow logs for sidekiq jobs\n1. Database related Graphana Dashboards and metrics\n\n### Built-in metrics\n\nWe track and fine tune each batched background migration through the `batched_background_migrations` table:\n\n```\nSELECT id, min_value, max_value,  batch_size, sub_batch_size, interval, table_name, column_name, total_tuple_count\nFROM batched_background_migrations\nORDER BY id asc;\n\n id | min_value | max_value  | batch_size | sub_batch_size | interval |     table_name      | column_name | total_tuple_count\n----+-----------+------------+------------+----------------+----------+---------------------+-------------+-------------------\n  1 |         1 | 1188982711 |     200000 |            500 |      115 | events              | id          |        1053110000\n  2 |         1 | 1188982712 |      15000 |            100 |      120 | push_event_payloads | event_id    |         755177000\n```\n\nFor each batched background migration job that we run, we track in the `batched_background_migration_jobs` table the start and end timestamps, the batch and sub-batch sizes used, the id range updated and metrics with the time it took for each update query to run.\n\nThat allows us to check various stats per job, either by monitoring the latest jobs executed:\n\n```\n  id  | batch_size | sub_batch_size |       date_trunc       |    duration     |   max_query_time  |   avg_query_time\n------+------------+----------------+------------------------+-----------------+-------------------+--------------------\n 3724 |     200000 |            500 | 2021-04-09 19:35:01+00 | 00:01:13.843367 |   0.3075588978827 | 0.0767668678890914\n 3725 |     200000 |            500 | 2021-04-09 19:37:02+00 | 00:01:11.466938 | 0.385940730571747 |  0.072165274117142\n 3726 |     200000 |            500 | 2021-04-09 19:39:01+00 | 00:01:16.580616 | 0.576941221952438 | 0.0851194929424673\n 3727 |     200000 |            500 | 2021-04-09 19:41:01+00 | 00:01:32.440877 |  1.04325237497687 |  0.123736010920256\n 3728 |     200000 |            500 | 2021-04-09 19:43:01+00 | 00:01:25.785061 | 0.422720778733492 |  0.108280787011608\n 3729 |     200000 |            500 | 2021-04-09 19:45:01+00 | 00:01:24.552032 | 0.338224839419127 |  0.103057561460882\n 3730 |     200000 |            500 | 2021-04-09 19:47:01+00 | 00:01:24.29197  | 0.652756180614233 |  0.102330674566329\n```\n\nGathering aggregate performance data per day / 12 hours or other intervals:\n\n```\n      batch_start    |       batch_end     | avg_job_duration | max_job_duration | avg_query_max_time | max_query_time | avg_query_time | max_avg_query_time | total_jobs\n---------------------+---------------------+------------------+------------------+--------------------+----------------+----------------+--------------------+------------\n 2021-04-07 00:00:01 | 2021-04-07 23:59:03 | 00:01:15.718     | 00:04:21.464     |            0.84499 |       14.11189 |        0.09902 |            0.42500 |        676\n 2021-04-08 00:01:01 | 2021-04-08 23:59:01 | 00:01:34.422     | 00:04:34.946     |            0.96930 |       11.40243 |        0.12101 |            0.51123 |        658\n 2021-04-09 00:01:02 | 2021-04-09 19:51:01 | 00:01:35.594     | 00:03:44.626     |            0.98335 |       11.12618 |        0.12537 |            0.44918 |        563\n```\n\nOr monitoring the progress of each migration:\n\n```\n migration |    day     |  tuples  | cumulative_tuples | total_cardinality_estimate |  percentage_complete   \n-----------+------------+----------+-------------------+----------------------------+------------------------\n   events  | 2021-04-02 |  5005000 |           5005000 |                 1.0461e+09 | 0.47844374342797055731\n   events  | 2021-04-03 | 22850000 |          27855000 |                 1.0461e+09 |     2.6627473472899340\n   events  | 2021-04-05 | 27300000 |          55155000 |                 1.0461e+09 |     5.2724404932606825\n   events  | 2021-04-06 | 14700000 |          69855000 |                 1.0461e+09 |     6.6776598795526240\n```\n\nAll the examples above are from the `events` conversion migration running in GitLab.com production. Sample queries are provided in gitlab-org/gitlab#326988 and https://gitlab.com/gitlab-org/database-team/team-tasks/-/snippets/2099924 \n\nThe purpose of using the metrics provided in `batched_background_migration_jobs` is that they are accurate and easy to process through SQL queries and can provide us with early warnings of a batched background migration misbehaving:\n1. We want to keep the max query time from going to high\n1. We want to keep the jobs' duration on average bellow the interval set for it\n\nOur plan is to report a subset of those metrics to Prometheus as well so that they can be easily consumed through its interface, allow for alarms to be set, create Grafana graphs, etc.\n\n### Metrics based on pg_stat_statements and Prometheus\n\nAfter a migration has run for a while, we can find its update query in `pg_stat_statements` (for the primary as it is an update) and use it to perform comparative analysis of its behavior.\n\nAs an example, for the `events` conversion migration:\n\n```\n# using rails console / similar approach if direct access to the primary is provided\nr = ActiveRecord::Base.connection.execute \u003c\u003c~SQL\nSELECT queryid, calls, total_time, max_time, mean_time, rows, query FROM pg_stat_statements WHERE query like '%BatchedBackgroundMigrationWorker%events%id_convert_to_bigint%';\nSQL\n\nqueryid =\u003e -7214519988266168340\nmax_time =\u003e 2143.416502\nmean_time =\u003e 108.825109679833\nrows =\u003e 9000000\n\nquery =\u003e \"/*application:sidekiq,correlation_id:b5b7333a1998a531c359cd4f46afc9f2,jid:cc80ee65f61951075e60ca9d,endpoint_id:Database::BatchedBackgroundMigrationWorker*/ UPDATE \\\"events\\\" SET \\\"id_convert_to_bigint\\\"=\\\"id\\\" WHERE \\\"events\\\".\\\"id\\\" BETWEEN 528718327 AND 528935661 AND \\\"events\\\".\\\"id\\\" \u003e= 528718327 AND \\\"events\\\".\\\"id\\\" \u003c 528718898\"\n```\n\nUsing the `queryid`, we can perform Prometheus related analysis. A few examples follow:\n- [Number of calls per second](https://prometheus-db.gprd.gitlab.net/graph?g0.expr=sum(rate(pg_stat_statements_calls%7Bqueryid%3D~%22-7214519988266168340%22%7D%5B5m%5D))%20by%20(fqdn)\u0026g0.tab=0\u0026g0.stacked=0\u0026g0.range_input=2h) - Not really insightful - directly affected by the average time to execute each sub-batch update and the sleep time between queries\n- [Number of rows affected per second](https://prometheus-db.gprd.gitlab.net/graph?g0.expr=sum(rate(pg_stat_statements_rows%7Bqueryid%3D~%22-7214519988266168340%22%7D%5B5m%5D))%20by%20(fqdn)\u0026g0.tab=0\u0026g0.stacked=0\u0026g0.range_input=2h) - Not really insightful - directly affected by the sub-batch size, the average time to execute each sub-batch update and the sleep time between queries\n- [Total execution time per second](https://prometheus-db.gprd.gitlab.net/graph?g0.expr=sum(rate(pg_stat_statements_seconds_total%7Bqueryid%3D~%22-7214519988266168340%22%7D%5B5m%5D))%20by%20(fqdn)\u0026g0.tab=0\u0026g0.stacked=0\u0026g0.range_input=2h) \n\n  This is the important metric for this type of queries - Expected to be relative high - we should monitor that it does not get too high **during peak times** and starts affecting the performance of the database.\n\n  To that end, we can check for example the [percentage of the updates on `events` compared to all other queries running on primary](https://prometheus-db.gprd.gitlab.net/graph?g0.expr=(%0Asum(rate(pg_stat_statements_seconds_total%7Bfqdn%3D%22patroni-03-db-gprd.c.gitlab-production.internal%22%2C%20queryid%3D~%22-7214519988266168340%22%2C%20user%3D%22gitlab%22%7D%5B10m%5D))%20by%20(fqdn)%0A%2F%20%0Asum%20(rate(pg_stat_statements_seconds_total%7Bfqdn%3D%22patroni-03-db-gprd.c.gitlab-production.internal%22%7D%5B10m%5D))%20by%20(fqdn)%0A)%20*%20100\u0026g0.tab=0\u0026g0.stacked=0\u0026g0.range_input=1d). We can see how it dominates the total execution time (10-15%) during the night but going bellow 5-7% during peak times. \n\nThose metrics can be cross checked with other important server metrics, like for example the [CPU usage on the primary](https://dashboards.gitlab.net/d/bd2Kl9Imk/host-stats?viewPanel=8\u0026orgId=1\u0026from=now-6h\u0026to=now\u0026var-env=gprd\u0026var-node=patroni-03-db-gprd.c.gitlab-production.internal)\n\n### Slow logs\n\nWe can also use the slow logs to monitor the worker that executes the batched background migrations:\n- [Logs of all runs](https://log.gprd.gitlab.net/goto/0ce9b589670270c6bba98ccd89c38844) - Can be used as a starting point for further analysis \n- [Failed jobs](https://log.gprd.gitlab.net/goto/3ad3db5ed5857cc92a5b47ea393be526) - Those should be due to statement timeouts\n\n  This can expose issues not logged in our built-in tracking mechanism (jobs failing and unable to update the `batched_background_migration_jobs`)\n\n  Failed jobs are to be expected in a live production environment, what we don't want to see is a large percentage of them failing during a short time frame.\n\n  As an example, out of 3770 jobs run for the `events` conversion, 5 are reported as having failed, all due to statement timeout (query duration above 15 seconds).\n\nWe can similarly check the PostgreSQL logs for all queries above 1 second (we don't log queries bellow that threshold):\n- [All BatchedBackgroundMigrationWorker queries above 1 second](https://log.gprd.gitlab.net/goto/0b521b8bea981598e7aa2fc615332237)\n- [Failed queries](https://log.gprd.gitlab.net/goto/98d1a42066491aff53478c07a31e8613)\n\nCombined the two types of failed logs can quickly show when migration jobs fail, detailed metrics gathered for sidekiq jobs and the specific reason why the job failed. \n\nAs an example, we can quickly investigate the 5 failed event conversion jobs and understand that the select queries are the ones that caused the issues, never the update ones as we would normally expect:\n\n[Failed jobs](https://log.gprd.gitlab.net/goto/3ad3db5ed5857cc92a5b47ea393be526):\n![image](/uploads/0f8f1be57b7dad17b7671523b1c119b7/image.png)\n\n[Failed queries](https://log.gprd.gitlab.net/goto/98d1a42066491aff53478c07a31e8613):\n![image](/uploads/cfdb4f39948f844f88b04d6cfbbcb4ac/image.png)\n\n*Note that we would normally expect the update queries to be the culprit as they must wait for locks and are [80.4% of the total reported queries above 1 second](https://log.gprd.gitlab.net/goto/f1922ed2bf4adc156f7fb6a3ea4f0238)*\n\n\n### Graphana Dashboards\n\nAdditional metrics to monitor the health of the Database: \n\n- [PostgreSQL / PostgreSQL Tuple Statistics](https://dashboards.gitlab.net/d/000000167/postgresql-tuple-statistics?orgId=1\u0026refresh=1m)\n\n  High rate of updates for the tables being actively converted, or increasing percentage of dead tuples for those tables, which could indicate autovacuum cannot keep up.\n\n- [PostgreSQL /PostgreSQL Overview](https://dashboards.gitlab.net/d/000000144/postgresql-overview?orgId=1)\n\n  High system usage or tps on the primary database server.","state":"closed","created_at":"2021-04-09T18:58:12.141Z","updated_at":"2022-05-30T15:32:50.332Z","closed_at":"2021-05-11T13:33:04.571Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement"],"milestone":null,"assignees":[],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327371","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327371","notes":"https://gitlab.com/api/v4/projects/278964/issues/327371/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327371/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327371","relative":"#327371","full":"gitlab-org/gitlab#327371"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5661,"epic":{"id":231501,"iid":5661,"title":"Primary Key Overflow - Monitoring","url":"/groups/gitlab-org/-/epics/5661","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84950658,"iid":327369,"project_id":278964,"title":"Update controls in Admin -\u003e Projects or Groups -\u003e  Access requests","description":"### Background\n\nIn `Admin` -\u003e `Projects` -\u003e `Choose a project` and `Admin` -\u003e `Groups` -\u003e `Choose a group` there is a `Users requesting access to \u003cgroup/project name\u003e` section that lists out access requests. \n\n![Screen_Shot_2021-04-09_at_11.06.19_AM](/uploads/243555fc3ead57f613eb6444db65cd8d/Screen_Shot_2021-04-09_at_11.06.19_AM.png)\n\nThis is the last section that uses HAML controls [https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/members/_member.html.haml#L63](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/members/_member.html.haml#L63) so it would be nice to be able to remove this HAML and subsequent legacy jQuery and CSS. Furthermore the role dropdown and datepicker don't actually work. It appears they haven't worked for a long time. I went back to a commit over a year ago and it was still broken. My guess is it was accidentally broken when refactoring to page specific JavaScript at some point. I couldn't find an open issue for this bug which makes me think not many people use these controls.\n\n### Implementation plan\n\nRemove the controls and add `Manage access` button that links to the `Access requests` tab on the group members view.\n\n![Screen_Shot_2021-04-09_at_11.49.12_AM](/uploads/043d9bed54246575a60f540efb6899c7/Screen_Shot_2021-04-09_at_11.49.12_AM.png)\n\n1. Finish https://gitlab.com/groups/gitlab-org/-/epics/5616\n1. Add a `tab=` query string that allows deep linking into specific tabs\n   - This will use similar functionality to https://gitlab.com/gitlab-org/gitlab/-/blob/c821e3a3cd43cf146190936d44394ad20077f641/app/assets/javascripts/projects/pipelines/charts/components/app.vue#L41\n1. Add `show_controls: false` parameter to [app/views/shared/members/_requests.html.haml#L15](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/members/_requests.html.haml#L15) and add `Manage access` button to the header of that card\n1. In a follow-up MR remove all HAML below [https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/members/_member.html.haml#L65](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/members/_member.html.haml#L65) as this is the last place that uses it.","state":"closed","created_at":"2021-04-09T18:43:58.451Z","updated_at":"2021-06-28T23:09:11.748Z","closed_at":"2021-06-28T23:09:11.731Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["devops::manage","frontend","group::authentication and authorization","maintenance::refactor","section::dev","type::bug","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327369","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327369","notes":"https://gitlab.com/api/v4/projects/278964/issues/327369/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327369/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327369","relative":"#327369","full":"gitlab-org/gitlab#327369"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84945944,"iid":327360,"project_id":278964,"title":"Migrate Axios Captcha Interceptor to be globally registered and using headers as well","description":"See https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64463 for details.","state":"closed","created_at":"2021-04-09T16:53:15.168Z","updated_at":"2022-11-22T19:44:35.730Z","closed_at":"2021-07-16T01:44:16.513Z","closed_by":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"labels":["devops::manage","frontend","group::ecosystem [DEPRECATED]","missed:13.11","section::dev","spam fighting","type::maintenance"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"}],"author":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"type":"ISSUE","assignee":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327360","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327360","notes":"https://gitlab.com/api/v4/projects/278964/issues/327360/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327360/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327360","relative":"#327360","full":"gitlab-org/gitlab#327360"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84943391,"iid":327350,"project_id":278964,"title":"Update checkbox styles in \"Group\" -\u003e \"Settings\" -\u003e \"General\" -\u003e \"Permissions, LFS, 2FA\"","description":"Follow-up to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57878\n\nOnce https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58958 is merged update the checkbox styles in \"Group\" -\u003e \"Settings\" -\u003e \"General\" -\u003e \"Permissions, LFS, 2FA\" to the new [GitLab UI checkbox styles](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-form-form-checkbox--default).","state":"closed","created_at":"2021-04-09T15:55:49.962Z","updated_at":"2021-05-12T14:43:05.733Z","closed_at":"2021-05-12T14:43:05.707Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["devops::manage","frontend","group::authentication and authorization","section::dev","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327350","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327350","notes":"https://gitlab.com/api/v4/projects/278964/issues/327350/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327350/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327350","relative":"#327350","full":"gitlab-org/gitlab#327350"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84940871,"iid":327347,"project_id":278964,"title":"Original variables when running a manual job are not reused on job retry","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n## Problem\n\nImplemented in https://gitlab.com/gitlab-org/gitlab-foss/issues/24935 is the ability in the UI to specify variables/job parameters when running a manual job, however when retrying a failed manual job the previously specified parameters fail to be reused.\n\n## Proposal\n\nWhen a manual job is retried, it should inherit the variables that were specified for its run. \n\n#### Further details\n\nIn next iterations we'd like to [surface the existing manual job variables in the Job page UI and make it possible to edit them](https://gitlab.com/gitlab-org/gitlab/-/issues/32712/) to make it easier to use variables with manual jobs like deploy jobs.","state":"closed","created_at":"2021-04-09T15:08:38.405Z","updated_at":"2021-12-08T20:23:01.758Z","closed_at":"2021-12-01T11:04:28.686Z","closed_by":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"labels":["CI variables","Category:Pipeline Authoring","FY22::Q4","OKR","UX","approaching-SLO","backend","candidate::14.6","devops::verify","group::pipeline authoring","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":4828839,"username":"thaoyeager","name":"Thao Yeager","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4828839/avatar.png","web_url":"https://gitlab.com/thaoyeager"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":19,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327347","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327347","notes":"https://gitlab.com/api/v4/projects/278964/issues/327347/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327347/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327347","relative":"#327347","full":"gitlab-org/gitlab#327347"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5124,"epic":{"id":175714,"iid":5124,"title":"Bugs: Variables","url":"/groups/gitlab-org/-/epics/5124","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":36608,"iid":37,"sequence":4,"group_id":9970,"title":"Pipeline Authoring: November 29, 2021 - December 12, 2021","description":"Target milestone `14.6`","state":3,"created_at":"2021-10-05T20:42:58.379Z","updated_at":"2021-12-21T15:27:59.954Z","start_date":"2021-11-29","due_date":"2021-12-12","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36608"},"health_status":null},{"id":84939023,"iid":327344,"project_id":278964,"title":"Allow filtering of issues by confidentiality in GraphQL","description":"## Summary\n\nIt's possible to filter issues by various attributes; such as `epicId`, `milestoneTitle` and `assigneeUsername` (among others). In order to fully support issue lists in Vue we need to support filtering by confidentiality state in the GraphQL API.\n\nIt doesn't seem to make sense for the confidential attribute to have `None`/`Any` filtering or negated filtering as it is a boolean `yes`/`no` value, so we don't have to implement them.\n\n## Acceptance criteria\n\n- User can filter by confidential attribute","state":"closed","created_at":"2021-04-09T14:36:54.261Z","updated_at":"2021-10-18T07:00:44.232Z","closed_at":"2021-10-05T05:54:56.291Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["Deliverable","GraphQL","backend","devops::plan","documentation","group::product planning","issue list","section::dev","tw-weight::3","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327344","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327344","notes":"https://gitlab.com/api/v4/projects/278964/issues/327344/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327344/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327344","relative":"#327344","full":"gitlab-org/gitlab#327344"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5733,"epic":{"id":246687,"iid":5733,"title":"Missing GraphQL functionality for issues list page","url":"/groups/gitlab-org/-/epics/5733","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":84938663,"iid":327341,"project_id":278964,"title":"Allow filtering of issues by release in GraphQL","description":"## Summary\n\nIt's possible to filter issues by various attributes; such as `epicId`, `milestoneTitle` and `assigneeUsername` (among others). In order to fully support issue lists in Vue we need to support this behavior in the GraphQL API, including by `None` and `Any`.\n\n## Acceptance criteria\n\n- User can filter by Release\n- User can do `None` and `Any` filtering with Release\n- User can do negated filtering with Release","state":"closed","created_at":"2021-04-09T14:29:20.537Z","updated_at":"2021-11-18T07:00:40.021Z","closed_at":"2021-10-29T14:54:16.023Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["Deliverable","GraphQL","backend","devops::plan","documentation","group::product planning","issue list","missed-deliverable","missed:14.4","section::dev","tw-weight::3","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327341","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327341","notes":"https://gitlab.com/api/v4/projects/278964/issues/327341/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327341/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327341","relative":"#327341","full":"gitlab-org/gitlab#327341"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5733,"epic":{"id":246687,"iid":5733,"title":"Missing GraphQL functionality for issues list page","url":"/groups/gitlab-org/-/epics/5733","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":84929142,"iid":327328,"project_id":278964,"title":"Improve UI error message when SSH key is expired","description":"## Proposal\n\nThe code written in the below discussion is displaying error messages by switching on strings which is a strong code smell.\n\nWe should refactor this to make proper use of Rails validations at the model level rather than displaying errors based on the existance of other errors by comparing strings. Context is in the discussion linked below :point_down: \n\n-----\n\nThe following discussion from !57494 should be addressed:\n\n- [ ] @rob.hunt started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57494#note_543232718):  (+3 comments)\n\n    \u003e **Note:** I couldn't think of a better way to do this :thinking:. The [key model](ee/app/models/ee/key.rb#L15) currently outputs an error when we are enforcing and the key has expired. This is to show an error when a user tries to use the key itself (git operations).\n    \u003e \n    \u003e However, we want to display a different message in the UI in this instance where a key has expired, expiry is enforced and the key is valid (apart from the expiry invalidation). So I am removing the specific error message and checking to see if any others exist, if so show one message, otherwise default to the other\n    \u003e \n    \u003e /cc @mwoolf as this may be the wrong way to do this :see_no_evil:","state":"closed","created_at":"2021-04-09T12:09:29.027Z","updated_at":"2021-06-30T08:37:07.025Z","closed_at":"2021-06-30T08:37:07.003Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","devops::manage","group::compliance","maintenance::refactor","section::dev","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327328","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327328","notes":"https://gitlab.com/api/v4/projects/278964/issues/327328/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327328/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327328","relative":"#327328","full":"gitlab-org/gitlab#327328"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84925820,"iid":327323,"project_id":278964,"title":"BE: Post a comment on the Jira issue details page","description":"### Description\n\nOn the Jira issue detail page, we already have the ability to see a Jira issue with comments. This adds the ability to post a comment, basically:\n\n1. We load the Jira Issue Detail page.\n1. There is a box to add a comment.\n1. That comment is added in the frontend (in memory, modification of the DOM).\n1. The backend submits that comment to Jira using the jira-ruby gem.\n\nThe backend should be something similar to the following:\n\nhttps://github.com/sumoheavy/jira-ruby/blob/v2.1.4/http-basic-example.rb#L102-L105.\n\n```ruby\nissue = client.Issue.find('SAMPLEPROJECT-2')\ncomment = issue.comments.build\ncomment.save!(:body =\u003e \"New comment from example script\")\n```","state":"closed","created_at":"2021-04-09T11:16:30.953Z","updated_at":"2022-11-22T19:44:37.720Z","closed_at":"2021-10-22T15:44:38.762Z","closed_by":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"labels":["Integration::Jira","[deprecated] Accepting merge requests","backend","devops::manage","group::integrations","section::dev","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327323","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327323","notes":"https://gitlab.com/api/v4/projects/278964/issues/327323/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327323/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327323","relative":"#327323","full":"gitlab-org/gitlab#327323"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5736,"epic":{"id":247113,"iid":5736,"title":"Post a comment on the JIRA issue details page","url":"/groups/gitlab-org/-/epics/5736","group_id":9970},"iteration":null,"health_status":null},{"id":84921377,"iid":327315,"project_id":278964,"title":"[Feature flag] Rollout of `ci_wildcard_file_paths`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [Support wildcards when specifying include paths in .gitlab-ci.yml](https://gitlab.com/gitlab-org/gitlab/-/issues/25921) on production,\nthat is currently behind the `ci_wildcard_file_paths` feature flag.\n\n- Introduced in: !58999\n- Upgraded in: !60489\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\"\n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan\n- PM: `@dhershkovitch`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe are expecting to enable projects to use [\"`include:local` with wildcard file paths\"](https://docs.gitlab.com/ee/ci/yaml/README.html#includelocal-with-wildcard-file-paths)\n\n### What might happen if this goes wrong?\n\nA file path cannot include `*`, so any existing pipeline configs should not be affected by this.\n\n### What can we monitor to detect problems with this?\n\nAny fault in that area may raise a \"config error\". So we may see the increase of:\n- Rate of `config_error` in [`gitlab_ci_pipeline_failure_reasons`](https://thanos-query.ops.gitlab.net/new/graph?g0.expr=sum(irate(gitlab_ci_pipeline_failure_reasons%5B15m%5D))%20by%20(reason)\u0026g0.tab=0\u0026g0.stacked=0\u0026g0.range_input=1d\u0026g0.max_source_resolution=0s\u0026g0.deduplicate=1\u0026g0.partial_response=0\u0026g0.store_matches=%5B%5D).\n- Rate of general pipeline errors =\u003e\n  * We should not see a decrease of 201 response code of `Projects::PipelinesController#create` endpoint: https://log.gprd.gitlab.net/goto/7d638af810e4b002de03d9df7132175c\n  * We should not see an increase of pipeline creation errors via `PostReceive`: https://log.gprd.gitlab.net/goto/1f47665f46009eab2b3e142a251ac17c\n    * This metric is not enough itself because it is just a **number**. We should provide a metric like; errors / total number of enqueued workers `PostReceive`. Help?\n    * For now; compare it with: https://log.gprd.gitlab.net/goto/542b35f80796baf5163d870af8796391\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_wildcard_file_paths true --dev`\n    - [x] `/chatops run feature set ci_wildcard_file_paths true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e ci_wildcard_file_paths true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature. If there is no risk that the feature affects usability or server loads, skip to the global rollout.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set ci_wildcard_file_paths \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_wildcard_file_paths \u003crollout-percentage\u003e`\n- [ ] Enable the feature globally on production environment.\n  - [ ] `/chatops run feature set ci_wildcard_file_paths true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Cross-post chatops slack command to `#support_gitlab-com`.\n  ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)) and in your team channel\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_wildcard_file_paths` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the above MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete ci_wildcard_file_paths --dev`\n    - [x] `/chatops run feature delete ci_wildcard_file_paths --staging`\n    - [x] `/chatops run feature delete ci_wildcard_file_paths`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_wildcard_file_paths false\n```","state":"closed","created_at":"2021-04-09T10:10:45.584Z","updated_at":"2021-10-28T13:57:40.977Z","closed_at":"2021-08-09T11:49:21.381Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature flag","group::pipeline authoring","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327315","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":42,"completed_count":14},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"14 of 42 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327315","notes":"https://gitlab.com/api/v4/projects/278964/issues/327315/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327315/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327315","relative":"#327315","full":"gitlab-org/gitlab#327315"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":84928984,"iid":327327,"project_id":278964,"title":"Jira issue regex false positive TICKET-1234-56","description":"### Summary\n\nWith Jira integration enabled, we get false positive matches for Jira issues when we reference our companies' not-Jira customer support tickets which are in the format TICKET-[0-9]+-[0-9]+.\n\nThe currently used regex does not \n\n### Steps to reproduce\n\n1. enable jira integration\n2. commit a change with TICKET-12345-455 in the commit msg\n3. observe the result in gitlab: [TICKET-12345](https://jira.example.com/jira-issue/link)-455\n\n### Example Project\n\nI've setup an example project: https://gitlab.com/twouters/jira-tickets\n\nrelevant commit example https://gitlab.com/twouters/jira-tickets/-/commit/dfa10f1020e4798f13c6b3b8c85804bac770dde9\n\n### What is the current *bug* behavior?\n\nJira issue detection is too broad for our usecase.\n\n### What is the expected *correct* behavior?\n\nJira issue detection could be a bit stricter.\n\n### Relevant logs and/or screenshots\n\nN/A\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n- https://gitlab.com/gitlab-org/gitlab-foss/-/blob/7484851b5f762fad81ddecb4735d22828e205af1/app/models/project_services/jira_service.rb#L59\n- https://gitlab.com/gitlab-org/gitlab-foss/-/blob/7484851b5f762fad81ddecb4735d22828e205af1/lib/gitlab/regex.rb#L354\n\nThe current regex being used is `[A-Z][A-Z_0-9]+-\\d+`, so a *possible* fix *could* be to change the issue detection to `/(?\u003cissue\u003e\\b#{Gitlab::Regex.jira_issue_key_regex}(?!-)\\b)/` which requires the Jira issue to end on any word boundary except '-'.","state":"closed","created_at":"2021-04-09T09:35:50.050Z","updated_at":"2022-11-22T19:44:38.505Z","closed_at":"2022-03-04T09:46:23.565Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Community contribution","Integration::Jira","backend","devops::manage","good for new contributors","group::integrations","section::dev","severity::3","type::bug","won't do","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10687523,"username":"FacVain","name":"Furkan Taşdemir","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1cb7c585af9057aaf2d49b1440afad62?s=80\u0026d=identicon","web_url":"https://gitlab.com/FacVain"}],"author":{"id":149469,"username":"twouters","name":"Thomas Wouters","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fc0cfb89d3a6535101cdb9885ef0560b?s=80\u0026d=identicon","web_url":"https://gitlab.com/twouters"},"type":"ISSUE","assignee":{"id":10687523,"username":"FacVain","name":"Furkan Taşdemir","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1cb7c585af9057aaf2d49b1440afad62?s=80\u0026d=identicon","web_url":"https://gitlab.com/FacVain"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327327","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327327","notes":"https://gitlab.com/api/v4/projects/278964/issues/327327/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327327/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327327","relative":"#327327","full":"gitlab-org/gitlab#327327"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84917900,"iid":327311,"project_id":278964,"title":"Investigation: Consider caching the list of tags for container repositories","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Context\n\nFollowup from https://gitlab.com/gitlab-org/gitlab/-/issues/327104#note_547693348.\n\n### Details \n\n1. **Kibana Rails Dashboard** - https://log.gprd.gitlab.net/app/dashboards#/view/db37b560-9793-11eb-a990-d72c312ff8e9?_g=(filters:!((query:(match_phrase:(json.meta.caller_id.keyword:'GET+%2Fapi%2F%3Aversion%2Fgroups%2F%3Aid%2Fregistry%2Frepositories')))),time:(from:'now-24',to:now))\n1. **Kibana Search** - https://log.gprd.gitlab.net/app/kibana#/discover?_a=(columns:!(json.method,json.status,json.controller,json.action,json.path,json.duration_s),filters:!((query:(match:(json.meta.caller_id.keyword:(query:'GET+%2Fapi%2F%3Aversion%2Fgroups%2F%3Aid%2Fregistry%2Frepositories',type:phrase)))),(query:(range:(json.duration_s:(gte:1))))),index:'7092c4e2-4eb5-46f2-8305-a7da2edad090',sort:!(!(json.duration_s,desc)))\u0026_g=(time:(from:'now-24h',to:'now'))\n\n\n### Problem to solve \n\nRight now Rails has to query the container registry every time it needs to know the tags of a given container repository. This requires an HTTP request against the registry API per container repository. This incurs a significant performance penalty, especially if all we want to know from the Rails side is if the repository has any tags.\n\nPlease see the related issue/thread for additional details.\n\n### Proposal\n\nConsider caching the list of tags for each container repository in GitLab Rails and invalidate the cache whenever the repository changes.\n\nWe can assume that a repository will change when we serve a JWT token with write permissions for that repository. When this happens the tag list cache of that repository should be reset.\n\n### Needs investigation\n\n- I believe this is the case, but we need to double-check that a JWT token will be requested prior to a push for all repositories, including the public ones. The auth flow is detailed [here](https://gitlab.com/gitlab-org/container-registry/-/blob/master/docs-gitlab/push-pull-request-flow.md#push). The Rails API is the one responsible to emit the tokens, and it would be the component responsible for resetting the cache;\n\n- We need to take into account that self-managed instances may be using a third-party container registry that does not integrate with the GitLab Auth API. This feature should therefore live behind a FF/validation which only applies to GitLab.com and self-managed instances using the GitLab Container Registry;\n\n- I'm assuming that all cached data would live in Redis, outside of the Rails database. We should avoid any database write operations in the Auth API as those will prevent us from using a DB read-only replica (thus affecting availability).\n\n- We need to ensure that it is feasible to invalidate the cached list of tags for each repository by intercepting JWT token requests, when these include the `push`, `delete`, or `*` action.\n\n### What does success look like, and how can we measure that?\n\nA cache of the list of tags for each container repository is kept on the Rails side and invalidated whenever the repository changes.\n\n## Conclusions\n\nThe Package team had a sync to conduct this investigation (https://youtu.be/utrr52arzxQ), and came up with the following conclusions:\n\n- The docker client requests a JWT token before _every_ pull/push, regardless of whether the target repository is public or private.\n\n- Given 1) the self-managed install constraints (inability to accurately/reliably identify the type of container registry and the fact that we can't rely on JWT tokens if they are using a third-party registry) and 2) the fact that our topmost priority is to stabilize this endpoint's performance for GitLab.com: Caching will be restricted to GitLab.com, at least for now.\n\n- This feature will be placed behind a feature flag scoped by `Group`. Only a few groups (https://gitlab.com/gitlab-org/gitlab/-/issues/329637#note_634053259) use this API endpoint with the `tags`/`tags_count` options set to `true` (which leads to this performance problem). To minimize impact while still remediating the performance concern, we should restrict this feature to those groups. We can expand the list as necessary.\n\n- We can later extend this feature to other/all groups (with a percentage-based rollout) if it works as expected and that is desirable, or we can simply wait for the definitive solution ([API re-architecture/breaking change](https://gitlab.com/gitlab-org/gitlab/-/issues/336912)) and sunset this change. The latter is likely the best option, but this remains a two-way door decision.\n\n- There will be a cache entry with the list of tag names for each (eligible) container repository. The cache will live in Redis. No key expiry is necessary, as we will be invalidating entries manually (see below);\n\n- The cache will be invalidated in the authentication service whenever Rails serves a JWT token with `push` or `delete` permissions. We may end up invalidating the cache more often than we would need to, but this is the best we can do (assume that a tag will always be added or deleted).\n  \n  Note: This must happen both for external (requested through the API) and internal (used by e.g., cleanup policies) token requests. See https://gitlab.com/gitlab-org/gitlab/-/issues/327311#note_675863703 for details about cleanup policies.\n\n- To avoid impacting other use cases (other API endpoints, cleanup policies, UI, Geo replication, etc.), using the cache will be restricted to this API endpoint. This means that we can't manipulate the cache in the low-level registry client class, as that would apply to all registry interactions.","state":"closed","created_at":"2021-04-09T09:30:22.630Z","updated_at":"2021-10-05T22:28:35.190Z","closed_at":"2021-09-14T19:58:42.544Z","closed_by":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"labels":["Category:Container Registry","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","Mechanical Sympathy","Package:P1","Stretch","backend","bug::performance","container registry expert","customer","devops::package","feature::enhancement","group::package registry","infradev","priority::3","reliability","ruby","section::ops","severity::3","type::feature","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},{"id":4829721,"username":"hswimelar","name":"Hayley Swimelar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4829721/avatar.png","web_url":"https://gitlab.com/hswimelar"},{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"}],"author":{"id":5054840,"username":"jdrpereira","name":"João Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054840/avatar.png","web_url":"https://gitlab.com/jdrpereira"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":23,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327311","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327311","notes":"https://gitlab.com/api/v4/projects/278964/issues/327311/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327311/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327311","relative":"#327311","full":"gitlab-org/gitlab#327311"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84909527,"iid":327308,"project_id":278964,"title":"Unable to edit MR with unchecked mergeability state","description":"### Summary\n\nUnable to edit MR's target branch when mergeability state is unchecked\n\n### Steps to reproduce\n\n- Choose an old MR which status is likely to be unchecked\n- Go straight to its edit page (the mergeability check is triggered when `show` page of an MR is visited)\n- Change the target branch\n- Click save\n\n![Screenshot_2021-04-09_at_11.01.46](/uploads/1e867cb2acd3b0862687fd05d639e801/Screenshot_2021-04-09_at_11.01.46.png)\n\n### Possible fixes\n\nWhen merge status is unchecked and `mark_as_unchecked` is called, then the status isn't changed, because we don't allow transitions from `unchecked` to `unchecked`: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/merge_request.rb#L199\n\nOr do not trigger the marking on update if the status is unchecked: https://gitlab.com/gitlab-org/gitlab/-/blob/dfb9d338a4f232a9dcb383f509ffe8ce8247b521/app/services/merge_requests/update_service.rb#L64","state":"closed","created_at":"2021-04-09T08:07:20.962Z","updated_at":"2021-06-18T07:07:02.064Z","closed_at":"2021-05-27T13:57:21.100Z","closed_by":{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"},"labels":["Category:Code Review Workflow","Deliverable","backend","devops::create","group::code review","missed-deliverable","missed:13.12","quad-planning::ready","regression","regression:13.10","section::dev","type::bug","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327308","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327308","notes":"https://gitlab.com/api/v4/projects/278964/issues/327308/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327308/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327308","relative":"#327308","full":"gitlab-org/gitlab#327308"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84893872,"iid":327287,"project_id":278964,"title":"issueSetDueDate mutation should accept null as a dueDate value","description":"Follow up from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58621#note_545352955\n\nCurrently `issueSetDueDate` mutation does not accept `null` as a `dueDate` value, which is necessary to remove a due date from an issue.","state":"closed","created_at":"2021-04-08T23:45:34.663Z","updated_at":"2021-05-04T08:42:46.694Z","closed_at":"2021-05-04T08:42:46.572Z","closed_by":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"labels":["GraphQL","backend","devops::plan","group::project management","section::dev","type::feature","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327287","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327287","notes":"https://gitlab.com/api/v4/projects/278964/issues/327287/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327287/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327287","relative":"#327287","full":"gitlab-org/gitlab#327287"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84890895,"iid":327281,"project_id":278964,"title":"Stop the increase of unlocked expired artifacts waiting for removal","description":"**This is step 1 of a 2-step solution; see  https://gitlab.com/gitlab-org/gitlab/-/issues/322817 for step 2.**\n\n### Problem to solve\n\nWe have [around `800TB`](https://gitlab.com/gitlab-org/gitlab/-/issues/322817#note_527363019)([80 millions](https://gitlab.com/gitlab-org/gitlab/-/issues/322817#note_526892388) records) of removable artifacts that can't be removed because of [inefficient database queries](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/47496).\n\n[`Ci::DestroyExpiredJobArtifactsService`](https://gitlab.com/gitlab-org/gitlab/-/blob/a5f6d19bfe8011ef30b8e144306a4a0d39bfee45/app/services/ci/destroy_expired_job_artifacts_service.rb) is triggered [every 7 minutes](https://gitlab.com/gitlab-org/gitlab/-/blob/cd34f1eba9b24e03ad30bb17a875e26c6bbf4c10/config/initializers/1_settings.rb#L432-433) to remove __expired and unlocked__ artifacts. It looks at 100000 artifacts that have the `expire_at` value less than the current timestamp and it selects the ones that are `unlocked`. This is not efficient because it can't reach artifacts with an older `expire_at` value. It's not possible to add another index for this query because we need to join three large tables to gather the data.\n\n### Proposal\n\nWe need to stop the increasing number of expired artifacts waiting for removal as a first iteration before we clean up old expired artifacts (https://gitlab.com/gitlab-org/gitlab/-/issues/322817) in a background migration.\n\n\n[`Ci::UnlockArtifactsService`](https://gitlab.com/gitlab-org/gitlab/-/blob/cd34f1eba9b24e03ad30bb17a875e26c6bbf4c10/app/services/ci/unlock_artifacts_service.rb) returns the pipeline ids that it unlocks. We should use this service and the pipeline ids to update the `expire_at` timestamp for the artifacts to a more recent value. This will push the removable artifact at the top of the queue making the removal process more efficient.\n\n```diff\ndiff --git a/app/services/ci/unlock_artifacts_service.rb b/app/services/ci/unlock_artifacts_service.rb\nindex 07faf90dd6d..9f8d9416c7d 100644\n--- a/app/services/ci/unlock_artifacts_service.rb\n+++ b/app/services/ci/unlock_artifacts_service.rb\n@@ -17,7 +17,9 @@ def execute(ci_ref, before_pipeline = nil)\n       SQL\n \n       loop do\n-        break if ActiveRecord::Base.connection.exec_query(query).empty?\n+        result = ActiveRecord::Base.connection.exec_query(query)\n+        break if result.empty?\n+        refresh_expire_at_timestamp(result)\n       end\n     end\n \n@@ -29,5 +31,12 @@ def collect_pipelines(ci_ref, before_pipeline)\n \n       pipeline_scope.artifacts_locked\n     end\n+\n+    # This will be more complex in the actual implementation because a batch of 100 pipelines for the GitLab project has 32808 artifacts, so it needs some form of batching.\n+    # https://console.postgres.ai/gitlab/gitlab-production-tunnel/sessions/2706/commands/8325 \n+    def refresh_expire_at_timestamp(result)\n+      Ci::JobArtifact\n+        .expired_before(1.hour.ago)\n+        .where(job_id: Ci::Build.in_pipelines(result.rows))\n+        .update_all(expire_at: 5.seconds.ago) # keep them expired.\n+    end\n   end\n end\n```","state":"closed","created_at":"2021-04-08T21:33:28.865Z","updated_at":"2022-07-19T18:34:18.255Z","closed_at":"2021-11-20T21:58:49.372Z","closed_by":{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"},"labels":["CI artifacts","Category:Build Artifacts","Category:Continuous Integration","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","FY22::Q4","Pricing \u0026 Packaging","SaaS","Verify candidate","Verify::P1","backend","devops::verify","group::pipeline insights","infradev","maintenance::refactor","missed:14.2","missed:14.3","missed:14.4","priority::2","reliability","section::ops","severity::2","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"}],"author":{"id":4828839,"username":"thaoyeager","name":"Thao Yeager","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4828839/avatar.png","web_url":"https://gitlab.com/thaoyeager"},"type":"ISSUE","assignee":{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"},"user_notes_count":70,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":"2021-11-11","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327281","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327281","notes":"https://gitlab.com/api/v4/projects/278964/issues/327281/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327281/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327281","relative":"#327281","full":"gitlab-org/gitlab#327281"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7311,"epic":{"id":407355,"iid":7311,"title":"Artifact Expiration Merge Request and Feature Flag Rollout","url":"/groups/gitlab-org/-/epics/7311","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":84890635,"iid":327280,"project_id":278964,"title":"Vulnerability title gives the impression of a possible duplication / CVE doesn't contain URL","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nAlthough the same CVE can be referenced by different packages, the current title gives the impression that there is a duplication.\n\n![Screen_Shot_2021-04-08_at_5.17.07_PM](/uploads/475a4898d4fd2a72d6752bca53a55753/Screen_Shot_2021-04-08_at_5.17.07_PM.png)\n\nIn addition to that, the current CVE doesn't have a hyperlink to one of its related links\n![Screen_Shot_2021-04-08_at_5.18.35_PM](/uploads/1c1e3e0812470d45270a5a31434269de/Screen_Shot_2021-04-08_at_5.18.35_PM.png)\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\nThose pipelines can be contrasted for both issues described above: \n - https://gitlab.com/gitlab-org/threat-management/defend/demos/container-scanning-trivy/-/pipelines/282788447/security\n - https://gitlab.com/gitlab-com/gl-security/appsec/container-scanners/-/pipelines/282791194/security\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] ~backend Update title so that it container information related to the package and CVE in order to remove ambiguity\n- [ ] ~backend Fill the `url` field under `identifiers` so that the CVE becomes a hyperlink\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-04-08T21:23:21.377Z","updated_at":"2021-04-12T23:03:26.920Z","closed_at":"2021-04-12T19:11:11.248Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Container Scanning","backend","devops::govern","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327280","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327280","notes":"https://gitlab.com/api/v4/projects/278964/issues/327280/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327280/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327280","relative":"#327280","full":"gitlab-org/gitlab#327280"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84888894,"iid":327275,"project_id":278964,"title":"FOSS broken master: /spec/features/projects/ci/editor_spec.rb:","description":"Latest sync to FOSS is failing with https://gitlab.com/gitlab-org/gitlab-foss/-/commit/383ec6808b2e5385ccdc0ff7fef8f537635f9bff / https://gitlab.com/gitlab-org/gitlab-foss/-/jobs/1164069188\n\n```\nFailures:\n  1) Pipeline Editor user sees the Pipeline Editor page\n     Got 0 failures and 2 other errors:\n     1.1) Failure/Error: \"api-fuzzing-configuration-path\" =\u003e project_security_configuration_api_fuzzing_path(@project),\n          ActionView::Template::Error:\n            undefined method `project_security_configuration_api_fuzzing_path' for #\u003c#\u003cClass:0x00007fe9f21c4ab0\u003e:0x00007fe9edf8d5e8\u003e\n            Did you mean?  project_security_configuration_path\n          # ./app/views/projects/ci/pipeline_editor/show.html.haml:14:in `_app_views_projects_ci_pipeline_editor_show_html_haml__3673868227853686062_2721820'\n          # ./app/controllers/application_controller.rb:123:in `render'\n          # ./lib/gitlab/auth/current_user_mode.rb:56:in `with_current_admin'\n          # ./app/controllers/application_controller.rb:488:in `set_current_admin'\n          # ./lib/gitlab/session.rb:11:in `with_session'\n          # ./app/controllers/application_controller.rb:476:in `set_session_storage'\n          # ./lib/gitlab/i18n.rb:73:in `with_locale'\n          # ./lib/gitlab/i18n.rb:79:in `with_user_locale'\n          # ./app/controllers/application_controller.rb:470:in `set_locale'\n          # ./app/controllers/application_controller.rb:463:in `block in set_current_context'\n          # ./lib/gitlab/application_context.rb:70:in `block in use'\n          # ./lib/gitlab/application_context.rb:70:in `use'\n          # ./lib/gitlab/application_context.rb:27:in `with_context'\n          # ./app/controllers/application_controller.rb:454:in `set_current_context'\n          # ./lib/gitlab/request_profiler/middleware.rb:17:in `call'\n          # ./lib/gitlab/query_limiting/middleware.rb:17:in `block in call'\n          # ./lib/gitlab/query_limiting/transaction.rb:40:in `run'\n          # ./lib/gitlab/query_limiting/middleware.rb:16:in `call'\n          # ./lib/gitlab/jira/middleware.rb:19:in `call'\n          # ./lib/gitlab/middleware/go.rb:20:in `call'\n          # ./lib/gitlab/etag_caching/middleware.rb:21:in `call'\n          # ./lib/gitlab/middleware/multipart.rb:172:in `call'\n          # ./lib/gitlab/middleware/read_only/controller.rb:50:in `call'\n          # ./lib/gitlab/middleware/read_only.rb:18:in `call'\n          # ./lib/gitlab/middleware/same_site_cookies.rb:27:in `call'\n          # ./lib/gitlab/middleware/handle_malformed_strings.rb:21:in `call'\n          # ./lib/gitlab/middleware/basic_health_check.rb:25:in `call'\n          # ./lib/gitlab/middleware/handle_ip_spoof_attack_error.rb:25:in `call'\n          # ./lib/gitlab/middleware/request_context.rb:21:in `call'\n          # ./config/initializers/fix_local_cache_middleware.rb:11:in `call'\n          # ./lib/gitlab/middleware/static.rb:11:in `call'\n          # ./lib/gitlab/testing/clear_process_memory_cache_middleware.rb:13:in `call'\n          # ./lib/gitlab/testing/request_inspector_middleware.rb:33:in `call'\n          # ./lib/gitlab/testing/robots_blocker_middleware.rb:30:in `call'\n          # ./lib/gitlab/testing/request_blocker_middleware.rb:47:in `call'\n          # ./lib/gitlab/metrics/requests_rack_middleware.rb:76:in `call'\n          # ------------------\n          # --- Caused by: ---\n          # NoMethodError:\n          #   undefined method `project_security_configuration_api_fuzzing_path' for #\u003c#\u003cClass:0x00007fe9f21c4ab0\u003e:0x00007fe9edf8d5e8\u003e\n          #   Did you mean?  project_security_configuration_path\n          #   ./app/views/projects/ci/pipeline_editor/show.html.haml:14:in `_app_views_projects_ci_pipeline_editor_show_html_haml__3673868227853686062_2721820'\n     1.2) Failure/Error: raise JSConsoleError, message\n          JSConsoleError:\n            Unexpected browser console output:\n            http://127.0.0.1:36753/namespace112/project124/-/ci/editor - Failed to load resource: the server responded with a status of 500 (Internal Server Error)\n          # ./spec/support/capybara.rb:194:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:362:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n          # ./spec/spec_helper.rb:353:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./spec/spec_helper.rb:349:in `block (3 levels) in \u003ctop (required)\u003e'\n          # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n          # ./spec/spec_helper.rb:349:in `block (2 levels) in \u003ctop (required)\u003e'\nFinished in 11 minutes 28 seconds (files took 29.56 seconds to load)\n331 examples, 1 failure\nFailed examples:\nrspec ./spec/features/projects/ci/editor_spec.rb:18 # Pipeline Editor user sees the Pipeline Editor page\n```","state":"closed","created_at":"2021-04-08T20:20:43.701Z","updated_at":"2021-10-13T14:48:25.846Z","closed_at":"2021-04-09T15:18:48.823Z","closed_by":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"labels":["Engineering Productivity","backend","devops::secure","frontend","group::dynamic analysis","master:foss-broken","section::sec","workflow::in dev"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":33100,"username":"mayra-cabrera","name":"Mayra Cabrera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/33100/avatar.png","web_url":"https://gitlab.com/mayra-cabrera"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327275","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327275","notes":"https://gitlab.com/api/v4/projects/278964/issues/327275/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327275/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327275","relative":"#327275","full":"gitlab-org/gitlab#327275"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84887607,"iid":327272,"project_id":278964,"title":"Group Import Fails with \"undefined method `epics' for nil:NilClass\" Error","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/2557384/?referrer=gitlab_plugin\n\n```\nNoMethodError: undefined method `epics' for nil:NilClass\n  ee/bulk_imports/pipeline/epic_base.rb:12:in `initialize'\n    @epic_iids = context.group.epics.order(iid: :desc).pluck(:iid) # rubocop: disable CodeReuse/ActiveRecord\n  bulk_imports/importers/group_importer.rb:19:in `new'\n    pipeline.new(context).run\n  bulk_imports/importers/group_importer.rb:19:in `block in execute'\n    pipeline.new(context).run\n  bulk_imports/importers/group_importer.rb:11:in `each'\n    pipelines.each.with_index do |pipeline, stage|\n  bulk_imports/importers/group_importer.rb:11:in `with_index'\n    pipelines.each.with_index do |pipeline, stage|\n...\n(81 additional frame(s) were not displayed)\n```","state":"closed","created_at":"2021-04-08T19:42:49.452Z","updated_at":"2021-05-18T20:41:39.252Z","closed_at":"2021-04-14T13:13:25.658Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","backend","customer","devops::manage","estimation::completed","group::import","section::dev","type::bug","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327272","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327272","notes":"https://gitlab.com/api/v4/projects/278964/issues/327272/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327272/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327272","relative":"#327272","full":"gitlab-org/gitlab#327272"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4931,"epic":{"id":145558,"iid":4931,"title":"GitLab Migration - Technical Improvements","url":"/groups/gitlab-org/-/epics/4931","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84884997,"iid":327269,"project_id":278964,"title":"Fork form does not display default select namespace text in dropdown","description":"\n| Staging ❌ | Expectation |\n| ------ | ------ |\n| ![image](/uploads/db0ea3c547d1a42720e7ba57c2bb7e50/image.png) | ![image](/uploads/07a5874c510343f6d36b13cd7c8dfac9/image.png) |","state":"closed","created_at":"2021-04-08T18:22:52.422Z","updated_at":"2022-06-17T17:17:15.492Z","closed_at":"2022-06-17T17:17:15.479Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Source Code Management","[deprecated] Accepting merge requests","devops::create","frontend","group::source code","missed:14.10","missed:14.3","missed:14.4","missed:14.5","missed:14.6","missed:14.7","missed:14.8","missed:14.9","missed:15.0","priority::3","section::dev","severity::3","type::bug"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327269","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327269","notes":"https://gitlab.com/api/v4/projects/278964/issues/327269/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327269/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327269","relative":"#327269","full":"gitlab-org/gitlab#327269"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84884761,"iid":327268,"project_id":278964,"title":"Accept OpenAPI v3.1.x as input specification for DAST API fuzzing","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n## Problem\nDAST API fuzzing does not allow the usage of OpenAPI documents version 3.1 as input. \n\n## Proposal\nUpdate DAST API Fuzzing (Automation and Worker-Entry components) to accept OpenAPI documents based on new features\n\n\n1. [X] Worker-Entry\n    1. [X] Allow using Version 3.1.x \n        1. [x] Prevent validation error when using version 3.1.x\n        1. [x] Add JSON Schema validation for OpenAPI 3.1.x [schema-v3.1](https://github.com/OAI/OpenAPI-Specification/tree/main/schemas/v3.1)\n    1. [x] Add Integration tests using OpenAPI 3.1.x\n1. [X] Automation-Runner\n    1. [X] Allow using Version 3.1.x\n        1. [x] Prevent validation error when using version 3.1.x\n        1. [x] Feature Update:\n            - [X] [`JSON Schema Array of Types`](https://noti.st/lornajane/YRdDlZ/whats-new-in-openapi-specification-3-1#sys4JQl) Make sure new `null` syntax and type listing are loaded properly.\n            - [X] [`JSON Schema Examples`](https://noti.st/lornajane/YRdDlZ/whats-new-in-openapi-specification-3-1#sbBn7JA) Make sure `examples` property is also checked when producing sample data.\n            - [x] `Webhooks` show a warning indicating `webhooks` are not supported.\n            - [X] [`OpenAPI Top-Level Elements`](https://noti.st/lornajane/YRdDlZ/whats-new-in-openapi-specification-3-1#sOgjxxb) The `paths` element is optional. Double-check that is still validating that property is required and has at least 1 element.\n            - [X] [`Request Bodies for Any Method`](https://noti.st/lornajane/YRdDlZ/whats-new-in-openapi-specification-3-1#sZry0jd) Check request body is generated for \n            `HEAD` and `GET` requests.\n1. [X] Add tests\n    - [X] `JSON Schema Array of Types` (Worker-Entry: Integration) [X] (Automation: Unit) [X]\n    - [X] `JSON Schema Examples` (Worker-Entry: Integration) [X] (Automation: Unit) [X]\n    - [X] `Request Bodies for Any Method` (Worker-Entry: Integration) [X] (Automation: Integration) [X]\n1. [x] Update DAST API/ API Fuzzing documentation \n1. [x] Publish new container\n\n## Notes:\n- NSwag uses JsonSchema library, which seems to be loading the relevant new features properly.\n- Python `Draft4Validator` supports up to JsonSchema `Draft4`, but OpenAPI v3.1 uses `2020-12`. Hence, from Python listing in [json-schema.org](https://json-schema.org/implementations.html) only [jschon](https://github.com/marksparkza/jschon) supports JsonSchema 2020-12.\n\n## Links\n- [What’s New in OpenAPI Specification 3.1](https://noti.st/lornajane/YRdDlZ/slides) [Slides](https://noti.st/lornajane/YRdDlZ/whats-new-in-openapi-specification-3-1)\n- [OpenAPI Schema v3.1](https://github.com/OAI/OpenAPI-Specification/tree/main/schemas/v3.1)\n- [OpenAPI 3.1](https://spec.openapis.org/oas/v3.1.0) is \n- [JSON schema draft-2019-09](https://json-schema.org/specification.html)\n- [YAML 1.2](https://yaml.org/spec/1.2/spec.html)\n- [OpenAPI Tools](https://openapi.tools/)\n- [json-schema libs](https://json-schema.org/implementations.html)\n- [Online JSON Schema validation supports 2020-12](https://json-schema.hyperjump.io/)\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e","state":"closed","created_at":"2021-04-08T18:13:26.365Z","updated_at":"2022-06-08T13:16:20.112Z","closed_at":"2021-08-05T19:52:30.863Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:Fuzz Testing","GitLab Core","GitLab Premium","GitLab Ultimate","devops::secure","group::dynamic analysis","section::sec","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327268","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":20,"completed_count":20},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"20 of 20 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327268","notes":"https://gitlab.com/api/v4/projects/278964/issues/327268/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327268/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327268","relative":"#327268","full":"gitlab-org/gitlab#327268"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84883832,"iid":327265,"project_id":278964,"title":"[FE] Generic Report Schema: Render 'named-list' type on vulnerability details page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nAllows scan results to add new labels and values to a vulnerability, where the label is any string they want and the value is one of the following types: `named-list`, `list`, `table`, `url`, `int`, `text`, `diff`, `markdown` (GFM), `code`, `commit`, `file-location`, and `module-location`.\n\nThis issue is specific to the **`named-list` type**\n\n### Designs\n\n| component | design |\n| ------ | ------ |\n| **named list** | ![Screen_Shot_2021-03-24_at_10.08.22_am](/uploads/4f66496a85d13d7dd62c7f7e8173f675/Screen_Shot_2021-03-24_at_10.08.22_am.png) |\n\n\n### Sample Data\n\n### named list\n\n```json\n\"details\": {\n  \"comments\": {\n    \"name\": \"Comments\",\n    \"type\": \"named-list\",\n    \"items\": {\n      \"comment_1\": {\n        \"name\": \"Fred:\",\n        \"type\": \"text\",\n        \"value\": \"Hi Wilma\"\n      },\n      \"comment_2\": {\n        \"name\": \"Wilma:\",\n        \"type\": \"markdown\",\n        \"value\": \"Hi Fred. Checkout [GitLab](http://gitlab.com)\"\n      },\n      \"resources\": {\n        \"name\": \"resources\",\n        \"type\": \"list\",\n        \"items\": [\n          {\n            \"type\": \"value\",\n            \"value\": \"42\"\n          }\n        ]\n      }\n    }\n  }\n}\n```\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/267193)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/267193/designs/a2-Vuln-Details-Page_generic-schema-evidence-expandable.png)\n- [POC example](https://gitlab.com/gitlab-org/gitlab/-/issues/233168)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] ~3412464 Add `named-list` component that recursively renders the given items\n  - [ ] Add specs\n- [ ] Add filtering to utils to make sure we only render supported types within named-lists\n - [ ] Add specs\n- [ ] Add grid styling to display the column layout for nested lists (Design TBD - see question below)\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~3207279\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-04-08T17:50:30.677Z","updated_at":"2022-02-22T05:34:26.538Z","closed_at":"2021-06-16T06:19:09.987Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","Deliverable","devops::secure","frontend","group::threat insights","section::sec","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327265","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327265","notes":"https://gitlab.com/api/v4/projects/278964/issues/327265/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327265/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327265","relative":"#327265","full":"gitlab-org/gitlab#327265"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4466,"epic":{"id":115454,"iid":4466,"title":"Generic security report schema","url":"/groups/gitlab-org/-/epics/4466","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84881640,"iid":327257,"project_id":278964,"title":"`bundle exec rubocop --parallel` still takes a lot of time in `static-analysis 3/4`","description":"Rubocop takes around 1500 seconds (25 minutes!) to run, as seen in https://gitlab.com/gitlab-org/gitlab/-/jobs/1163764745#L72.","state":"closed","created_at":"2021-04-08T17:00:57.890Z","updated_at":"2022-03-16T11:44:01.297Z","closed_at":"2021-06-11T11:03:19.147Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","ep::pipeline","maintenance::pipelines","priority::2","type::maintenance","workflow::in dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327257","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327257","notes":"https://gitlab.com/api/v4/projects/278964/issues/327257/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327257/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327257","relative":"#327257","full":"gitlab-org/gitlab#327257"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84876573,"iid":327241,"project_id":278964,"title":"On-demand scans - saved scan should navigate to Manage scans page","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhile creating a new on-demand scan, clicking `Save scan` doesn't provide the user with any sort of conformation. After a brief loading indicatory, it leaves them on the same form filled out.  Should it instead direct them to `/security/configuration/dast_scans` ?\n\n### Steps to reproduce\n\n1. Navigate to /on_demand_scans/new on any project\n1. Fill out the scan details and click `Save scan`\n\n### Example Project\n\nAny project\n\n### What is the current *bug* behavior?\n\nUser remains on the form\n\n### What is the expected *correct* behavior?\n\nA save confirmation or navigate to the saved scans page\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2021-04-08_at_9.06.55_AM](/uploads/7a2d132b66f501a7473debd1226925ea/Screen_Shot_2021-04-08_at_9.06.55_AM.png)\n\nShould navigate back to this page upon saving:\n\n/security/configuration/dast_scans\n\n![image](/uploads/98c2e389444047285b19a4d93db9aaf5/image.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Implementation Plan\n\n- [x] Update redirection logic in `ee/app/assets/javascripts/on_demand_scans/components/on_demand_scans_form.vue`\n  - [x] Redirect to `profilesLibraryPath` upon save\n- [x] Update specs","state":"closed","created_at":"2021-04-08T15:16:19.359Z","updated_at":"2021-04-12T09:01:12.784Z","closed_at":"2021-04-12T09:01:12.699Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["devops::secure","frontend","group::dynamic analysis","priority::3","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":5412787,"username":"nmccorrison","name":"Neil McCorrison","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5412787/avatar.png","web_url":"https://gitlab.com/nmccorrison"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327241","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327241","notes":"https://gitlab.com/api/v4/projects/278964/issues/327241/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327241/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327241","relative":"#327241","full":"gitlab-org/gitlab#327241"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84875445,"iid":327238,"project_id":278964,"title":"Do not try to ingest reports if the schema validation fails","description":"## Why are we doing this work\n\nAs we've introduced the schema validation logic by #321918, we can ignore the errored security report artifacts while ingesting the reports for the `default_branch`. Currently, the ingestion process for the default branch runs on parallel to schema validation logic therefore there is no guarantee that the validation will be finished before we try to ingest the reports, therefore, we need to change the place where we schedule the `StoreSecurityReportsWorker` to guarantee that the validation results will be ready before we start ingesting the reports for the default branch.\n\n## Relevant links\n\n- The validation logic issue: https://gitlab.com/gitlab-org/gitlab/-/issues/321918\n\n\n## Implementation plan\n\n- [ ] ~backend Change the place where we schedule the `StoreSecurityReportsWorker` from `EE::Ci::Pipeline` to `Security::StoreScansWorker` and make sure it runs after the `Security::StoreScansService` succeeds.","state":"closed","created_at":"2021-04-08T14:53:31.477Z","updated_at":"2021-11-08T03:21:27.835Z","closed_at":"2021-11-02T15:26:42.550Z","closed_by":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"labels":["Category:Vulnerability Management","backend","devops::secure","feature::enhancement","group::threat insights","section::sec","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327238","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327238","notes":"https://gitlab.com/api/v4/projects/278964/issues/327238/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327238/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327238","relative":"#327238","full":"gitlab-org/gitlab#327238"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6968,"epic":{"id":374803,"iid":6968,"title":"Enforce validation of security reports","url":"/groups/gitlab-org/-/epics/6968","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84872123,"iid":327231,"project_id":278964,"title":"Update Subscriptions that were created as Gold/Silver past EoA","description":"### Summary\n\nThis is a follow up of [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/321364): now that Gitlab Subscriptions are created with actual `ultimate`/`premium` plan codes (and not `silver`/`gold` codes any longer).\n\nWe now need to update the existing subscriptions which were created post EoA date with one of the two deprecated plan codes, this is what [this migration in this MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55625) will do. But before we do so, we need to make sure that not a single new subscription is created with a deprecated plan:\n- the license support team [already adjusted the plan codes](https://gitlab.com/gitlab-com/support/toolbox/console-training-wheels/-/issues/3) on their side.\n- [the team providing Education licenses](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55625#note_547271424) needs to do the same on their side, as at least one recent Education license was granted to a `Gold` subscription.","state":"closed","created_at":"2021-04-08T14:00:32.296Z","updated_at":"2021-05-10T15:51:39.103Z","closed_at":"2021-05-10T15:51:38.963Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","maintenance::refactor","section::fulfillment","workflow::in dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327231","notes":"https://gitlab.com/api/v4/projects/278964/issues/327231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327231","relative":"#327231","full":"gitlab-org/gitlab#327231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84862764,"iid":327223,"project_id":278964,"title":"Follow-up: Remove SSH key title input description","description":"## Problem to solve\n\nThe help text is adding unnecessary cognitive load.\n\n\u003cdetails\u003e\u003csummary\u003eBackground for context\u003c/summary\u003e\n\nThe following discussion from !57494 should be addressed:\n\n- [ ] @mjang1 started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57494#note_543447742):  (+1 comment)\n\n    \u003e I think this explanation is not required -- and in some cases can confuse users. IMO \"Title\" (and the placeholder) is more than enough.\n    \u003e \n    \u003e I therefore suggest:\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e       expect(rendered).to have_text('Give your individual key a title.')\n    \u003e ```\n\n    \u003e @mjang1 WDYT about keeping the description and changing it to something like `This is to help you identify your key.`? The reason is extremely minor and really not much of an concern, but without the description the form inputs spacing don't match. :see_no_evil:\n\n\u003c/details\u003e\n\n## Proposal \n\nRemove the help text from the Title input field.","state":"closed","created_at":"2021-04-08T12:17:55.480Z","updated_at":"2022-04-01T04:16:01.163Z","closed_at":"2022-04-01T04:16:01.138Z","closed_by":{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"},"labels":["Category:Compliance Management","SUS::Impacting","Technical Writing","UI text","UX","devops::manage","frontend","group::compliance","section::dev","severity::4","workflow::problem validation"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327223","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327223","notes":"https://gitlab.com/api/v4/projects/278964/issues/327223/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327223/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327223","relative":"#327223","full":"gitlab-org/gitlab#327223"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3084,"epic":{"id":42150,"iid":3084,"title":"Improve PAT \u0026 SSH credential inventory \u0026 management","url":"/groups/gitlab-org/-/epics/3084","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":84853951,"iid":327211,"project_id":278964,"title":"Redesign and implement UsagePing classes and modules","description":"Discussion from sync meeting (April 6, 2021) for https://gitlab.com/gitlab-org/gitlab/-/issues/270966\n\n1. Should not raise the exceptions for the users and instance and tracking and counting errors for usage data. \\[Important\\]\n1. Not infecting codebase with fallback values. Keep fallback logic to usage data. Design standard lib with exceptions and not fallback logic.\n1. Redesign HLL Class, should have non-client-like calls. (Move only fallback logic back to usage data)\n\n   \\-\u003e Split apart and implement unique events HLL class.\n1. Raise errors for test and development and not in production for tracking individual events.\n1. Ensure aggregate and merge Redis HLL keys, a single key failing should not taint other metrics. Be mindful about implementing this to avoid wrong computation for UsagePing.\n\nWe need to add some details about the required changes, iterate on the implementation, and groom this issue to break it into smaller deployable issues.\n\n/cc - @alinamihaila @mikolaj_wawrzyniak @a_akgun @jeromezng","state":"closed","created_at":"2021-04-08T10:27:39.807Z","updated_at":"2021-12-07T09:19:37.362Z","closed_at":"2021-12-07T09:19:36.951Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["[deprecated] Accepting merge requests","devops::growth","group::product intelligence","section::growth","wontfix"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327211","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":13,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327211","notes":"https://gitlab.com/api/v4/projects/278964/issues/327211/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327211/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327211","relative":"#327211","full":"gitlab-org/gitlab#327211"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84851964,"iid":327207,"project_id":278964,"title":"Follow-up from \"BulkImports: Add PipelineWorker\"","description":"The following discussion from !57153 should be addressed:\n\n- [ ] @alberts-gitlab started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57153#note_544618671):  (+3 comments)\n\n    \u003e This should be tested in `ee/spec/models/ee/bulk_imports/stage_spec.rb`. https://docs.gitlab.com/ee/development/ee_features.html#testing-ee-features-based-on-ce-features.\n    \u003e \n    \u003e As it is, this test is always testing the `ee` behaviour because the `Gitlab.ee?` is always true in `gitlab-org/gitlab`, with the exception of `[RUN AS-IF-FOSS]` MRs.","state":"closed","created_at":"2021-04-08T10:01:00.886Z","updated_at":"2021-05-18T20:41:39.097Z","closed_at":"2021-05-17T17:57:02.972Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Importer:GitLab Migration","Next Up","backend","devops::manage","group::import","section::dev","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327207","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327207","notes":"https://gitlab.com/api/v4/projects/278964/issues/327207/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327207/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327207","relative":"#327207","full":"gitlab-org/gitlab#327207"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4931,"epic":{"id":145558,"iid":4931,"title":"GitLab Migration - Technical Improvements","url":"/groups/gitlab-org/-/epics/4931","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84846253,"iid":327200,"project_id":278964,"title":"Follow-up: Update Api.getRawFile to make ref param optional","description":"## Problem to solve\n\nWith https://gitlab.com/gitlab-org/gitlab/-/issues/323450 the `ref` param will become optional and default to the default branch in the ~backend, this means that the `getRawFile` method in [`api.js`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/api.js#L799) should no longer default `ref` to any value to make it an optional parameter.\n\n## Proposed solution\n\nRemove `{ ref: 'master' }` from `getRawFile` and update all of the method's usage where ref isn't defined and the master branch is expected.","state":"closed","created_at":"2021-04-08T08:40:29.487Z","updated_at":"2021-10-28T13:57:50.968Z","closed_at":"2021-04-15T08:46:31.268Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["devops::manage","frontend","group::compliance","section::dev","type::maintenance"],"milestone":null,"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327200","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327200","notes":"https://gitlab.com/api/v4/projects/278964/issues/327200/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327200/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327200","relative":"#327200","full":"gitlab-org/gitlab#327200"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84842922,"iid":327196,"project_id":278964,"title":"Add a commit name and a tooltip to the pipeline status section in Pipeline Editor","description":"## Problem\n\nThe commit number itself doesn't provide me easily identifiable information about that commit. \n\n## Proposal\n\n| Append the commit name to the commit SHA, and show a \"View commit\" tooltip on hover |\n| ------ | \n| ![image](/uploads/d13fdd200aa68a79fae15b7ab297e750/image.png)|","state":"closed","created_at":"2021-04-08T07:51:44.287Z","updated_at":"2021-11-11T07:19:18.863Z","closed_at":"2021-11-11T07:19:18.847Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","Hacktoberfest","Low SUS Score","UI polish","UX","candidate::14.4","devops::verify","feature::enhancement","frontend","group::pipeline authoring","inclusive design","missed:14.3","missed:14.4","section::ops","type::feature","usability","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327196","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327196","notes":"https://gitlab.com/api/v4/projects/278964/issues/327196/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327196/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327196","relative":"#327196","full":"gitlab-org/gitlab#327196"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":36606,"iid":35,"sequence":2,"group_id":9970,"title":"Pipeline Authoring: November 01, 2021 - November 14, 2021","description":"Target milestone `14.5`","state":3,"created_at":"2021-10-05T20:42:58.372Z","updated_at":"2021-12-21T15:27:22.624Z","start_date":"2021-11-01","due_date":"2021-11-14","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36606"},"health_status":null},{"id":84842277,"iid":327195,"project_id":278964,"title":"Design - Add pipeline mini graph and a \"View pipeline\" button to the Pipeline Editor pipeline status section","description":"## Problem\n\nCurrent pipeline status indicator doesn't quite give you enough information about the status of your jobs or how the pipeline is doing. All you know is if the pipeline as a whole is running, failed or passed. What you really want to know once you commit the configuration is how the pipeline is progressing.\n\nThis current implementation is a great MVC, but we should build upon it to reduce context switching for the Pipeline Editor users and make it easier to jump back-and-forth between the job logs, the pipeline page and the editor.\n\n| Current pipeline status indicator |\n| ------ | \n| ![image](/uploads/bff1601c8a6fd8e6c50a7ab42e9f59a3/image.png) |\n\n## Proposal\n\n- Add the mini pipeline graph to the status section, just the way it is in MRs.\n- Add a \"View pipeline\" button which is an easy to see CTA to view this pipeline (the pipeline number link isn't easily discoverable).\n\n| | \n| ------ | \n| ![image](/uploads/0862d491e8f50d3746bf024d42ca3747/image.png) |\n\n#### MVC\n\nAs an MVC we can start with adding the \"View pipeline\" button as it's the easiest step.\n\n![image](/uploads/06940bab06834f95e7e2146b11c173af/image.png)","state":"closed","created_at":"2021-04-08T07:39:13.426Z","updated_at":"2021-10-03T09:25:06.231Z","closed_at":"2021-10-03T09:25:06.214Z","closed_by":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"labels":["Category:Pipeline Authoring","Low SUS Score","UI polish","UX","candidate::14.1","devops::verify","group::pipeline authoring","section::ops","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":null,"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327195","notes":"https://gitlab.com/api/v4/projects/278964/issues/327195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327195","relative":"#327195","full":"gitlab-org/gitlab#327195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5529,"epic":{"id":217386,"iid":5529,"title":"Visibility of System Status - Pipeline Authoring","url":"/groups/gitlab-org/-/epics/5529","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84840912,"iid":327193,"project_id":278964,"title":"Follow-up: evaluate the 'out of storage' banner text","description":"In #323968 we updated the `out of storage` banner text, however we need to evaluate the text if it needs any update.\n\nIf it's good as it's we should evaluate adding a link to the docs where the text says: \n\n\u003e To learn more about reducing storage capacity please visit our docs\n\nThe link could be pointing to: https://docs.gitlab.com/ee/user/usage_quotas.html","state":"closed","created_at":"2021-04-08T07:19:32.190Z","updated_at":"2021-11-04T13:07:01.210Z","closed_at":"2021-11-04T13:07:01.194Z","closed_by":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"labels":["[deprecated] Category:Utilization","devops::fulfillment","frontend","group::utilization","section::fulfillment","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327193","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327193","notes":"https://gitlab.com/api/v4/projects/278964/issues/327193/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327193/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327193","relative":"#327193","full":"gitlab-org/gitlab#327193"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84830402,"iid":327184,"project_id":278964,"title":"Disable specific DAST plugins by default","description":"### Problem\nZAPs plugins require time to run, may generate false positives, excessive noise, or have a very low probably of finding a vulnerability because the vulnerability rarely exists in the wild anymore. Accordingly, ZAP plugins should regularly be reviewed for their efficacy. Accordingly, [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/233079) identified vulnerabilities that should be disabled. the following list of plugins should be disabled. \n\n### Proposal\nDisable the following plugins:\n\n```\nPluginID,Title,Default Enabled\n10015,Incomplete or No Cache-control and Pragma HTTP Header Set,false\n10020,X-Frame-Options Header,false\n10026,HTTP Parameter Override,false\n10027,Information Disclosure - Suspicious Comments,false\n10044,Big Redirect Detected (Potential Sensitive Information Leak),false\n10050,Retrieved from Cache,false\n10052,X-ChromeLogger-Data (XCOLD) Header Information Leak,false\n10053,Apache Range Header DoS (CVE-2011-3192),false\n10096,Timestamp Disclosure,false\n10104,User Agent Fuzzer,false\n10109,Modern Web Application,false\n20017,Source Code Disclosure - CVE-2012-1823,false\n20018,Remote Code Execution - CVE-2012-1823,false\n30001,Buffer Overflow,false\n30002,Format String Error,false\n30003,Integer Overflow Error,false\n40009,Server Side Include,false\n40023,Possible Username Enumeration,false\n40028,ELMAH Information Leak,false\n40029,Trace.axd Information Leak,false\n40034,.env Information Leak,false\n43,Source Code Disclosure - File Inclusion,false\n90024,Generic Padding Oracle,false\n90027,Cookie Slack Detector,false\n```\n\nThe full list of plugins and their enabled state: https://gitlab.com/gitlab-org/gitlab/uploads/ba959df0e9d3fbdc8201066cc6fd32ac/plugins.csv\n\n#### Technical details\n\nCreate a YAML file that contains the list of disabled plugins. Use `zapv2.pscan.disable_scanners` and `zapv2.ascan.disable_scanners` to ensure that these rules do not execute","state":"closed","created_at":"2021-04-08T02:09:49.627Z","updated_at":"2022-03-30T15:56:26.649Z","closed_at":"2021-06-10T00:05:57.243Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:DAST","Deliverable","backend","devops::secure","group::dynamic analysis","section::sec","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327184","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327184","notes":"https://gitlab.com/api/v4/projects/278964/issues/327184/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327184/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327184","relative":"#327184","full":"gitlab-org/gitlab#327184"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84822116,"iid":327172,"project_id":278964,"title":"Cascading settings - prevent subgroup from unintentionally overriding inherited setting MVC","description":"Follow-up to https://gitlab.com/gitlab-org/gitlab/-/issues/321724 and issue for the discussion in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57878#note_545927067\n\nCurrently with the cascading setting framework it is possible to unintentionally override the inherited setting value with these steps:\n\n1. Create a group\n1. In `Group` -\u003e `Settings` -\u003e `General` -\u003e `Permissions, LFS, 2FA` check the `Enable delayed project removal` setting and click save.\n1. Create a subgroup\n1. In `Subgroup` -\u003e `Settings` -\u003e `General` -\u003e `Permissions, LFS, 2FA` the `Enable delayed project removal` setting should be enabled. Change an unrelated setting in the `Permissions, LFS, 2FA` section and click save.\n1. In `Group` -\u003e `Settings` -\u003e `General` -\u003e `Permissions, LFS, 2FA` uncheck the `Enable delayed project removal` setting and click save.\n1. In `Subgroup` -\u003e `Settings` -\u003e `General` -\u003e `Permissions, LFS, 2FA` the `Enable delayed project removal` settings is still checked when it shouldn't be.\n\nHere is a video to help understand the issue: https://www.loom.com/share/99ec8c1b10df48d3b99b29db0b4edc5d\n\nAs an MVC fix we should only save the `delayed_project_removal` attribute if it is different than the inherited value. This will prevent users from accidentally overriding an inherited setting when saving a unrelated setting.","state":"closed","created_at":"2021-04-07T20:44:59.931Z","updated_at":"2021-04-22T14:02:22.235Z","closed_at":"2021-04-22T14:02:22.158Z","closed_by":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"labels":["backend","devops::manage","group::authentication and authorization","section::dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327172","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327172","notes":"https://gitlab.com/api/v4/projects/278964/issues/327172/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327172/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327172","relative":"#327172","full":"gitlab-org/gitlab#327172"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84819581,"iid":327162,"project_id":278964,"title":"Remove file-by-file preference cookie","description":"It's very likely that the `fileViewMode` cookie is redundant now that the setting is toggleable from the MR Changes tab.\n\nThe following discussion from !55931 should be addressed:\n\n- [ ] @peterhegman continued a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55931#note_546078018):  (+3 comments)\n\n\u003e\u003e\u003e\nAhh okay I think I see where the confusion was. The above steps work for me :thumbsup:. But I think the checkbox in the settings dropdown can still get out of sync with the profile settings because of the cookie. Take for example these steps:\n\n1. Open [my preferences, on 127.0.0.1:3000](http://127.0.0.1:3000/-/profile/preferences)\n1. Open an MR on 127.0.0.1:3000 in an incognito window\n1. Check the `Show one file at a time` checkbox in the MR settings dropdown\n1. Refresh my preferences page - the checkbox `Show one file at a time on merge request's Changes tab` should be checked\n1. Uncheck the `Show one file at a time on merge request's Changes tab` on the preferences page and save\n1. Refresh the MR page in the incognito window, the `Show one file at a time` checkbox is still checked when it should be unchecked\n\nMaybe we should stop saving the cookie?\n\u003e\u003e\u003e\n\n### Proposal\n\nWe remove the cookie and all of the places that reference it.","state":"closed","created_at":"2021-04-07T19:41:51.573Z","updated_at":"2021-09-18T07:00:59.616Z","closed_at":"2021-09-09T17:02:34.890Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Deliverable","devops::create","frontend","group::code review","missed:14.0","missed:14.1","section::dev","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327162","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327162","notes":"https://gitlab.com/api/v4/projects/278964/issues/327162/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327162/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327162","relative":"#327162","full":"gitlab-org/gitlab#327162"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84819164,"iid":327160,"project_id":278964,"title":"update docs - no v2 for license finder","description":"Update documentation to say v2 lockfile not supported\n\nhttps://docs.gitlab.com/ee/user/compliance/license_compliance/\n\nReport:\n\nHello; I’m talking to a customer who is running into some issues with the license-finder; the log output is too long to view on Gitlab.com, but when running locally they see errors related to npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2.\n\nit looks like there's no issue for npm lockfile v2 support in license scanning. also, the documentation doesn't say it's not supported. \n\nhttps://docs.gitlab.com/ee/user/compliance/license_compliance/index.html#supported-languages-and-package-managers \n\nif we implement npm lockfile v2 support for License Scanning, then we'll duplicate the work to be done in Dependency Scanning. https://gitlab.com/gitlab-org/gitlab/-/issues/273651\n\nI see no issue for this in the upstream project. that's unexpected. :thinking_face:\nhttps://github.com/pivotal/LicenseFinder/search?q=lockfileversion@2\u0026type=issues\n\n\n### Implementation plan\n1. Update https://docs.gitlab.com/ee/user/compliance/license_compliance/#experimental-support mentioning that only `lockfile v1` for npm is supported.","state":"closed","created_at":"2021-04-07T19:30:41.197Z","updated_at":"2021-09-08T12:56:16.134Z","closed_at":"2021-07-09T11:13:19.330Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","docs-only","documentation","group::composition analysis","section::sec","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327160","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327160","notes":"https://gitlab.com/api/v4/projects/278964/issues/327160/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327160/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327160","relative":"#327160","full":"gitlab-org/gitlab#327160"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84816332,"iid":327152,"project_id":278964,"title":"Create new Token for the GitLab Kubernetes Agent","description":"This is the implementation issue of https://gitlab.com/gitlab-org/gitlab/-/issues/300801\n\n## Proposal\n\n- Provide a button to create a new token\n- Show the token with the one-liner command on how to apply it\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-04-07T18:18:07.076Z","updated_at":"2022-03-17T21:42:01.652Z","closed_at":"2022-03-17T21:41:58.466Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["GitLab Free","Stretch","Technical Writing","candidate::14.9","configure::backlog","devops::configure","direction","documentation","frontend","group::configure","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327152","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327152","notes":"https://gitlab.com/api/v4/projects/278964/issues/327152/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327152/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327152","relative":"#327152","full":"gitlab-org/gitlab#327152"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4739,"epic":{"id":135769,"iid":4739,"title":"Management interfaces for the Agent","url":"/groups/gitlab-org/-/epics/4739","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84814392,"iid":327147,"project_id":278964,"title":"Blog post: Write an article \"Rails for Frontend Engineers\"","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Blog post \n\nWe're looking to share some useful insights to help Frontend engineers grasp Rails better.\n\nThis will benefit autonomy when it comes to understanding Rails code but also authoring rspec tests and related efforts.\n\nGoal: write a blogpost on Unfiltered to share some useful learnings.","state":"closed","created_at":"2021-04-07T17:27:22.664Z","updated_at":"2021-05-18T07:06:31.240Z","closed_at":"2021-04-15T17:23:53.366Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["Category:Code Review Workflow","Deliverable","devops::create","frontend","group::code review","section::dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327147","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327147","notes":"https://gitlab.com/api/v4/projects/278964/issues/327147/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327147/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327147","relative":"#327147","full":"gitlab-org/gitlab#327147"},"severity":"UNKNOWN","moved_to_id":85265578,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84807528,"iid":327135,"project_id":278964,"title":"Use viewed state from file header in MRs file browser","description":"### Context\n\nBefore we had the ability to mark diff files as viewed (https://docs.gitlab.com/ee/user/project/merge_requests/reviewing_and_managing_merge_requests.html#mark-files-as-viewed) we would make the file names in the file browser bold/unbold based on if the user has viewed them or not.\n\n![Screenshot_2021-04-07_at_16.23.35](/uploads/9568f0a6ac154be2c5c979facf57dc35/Screenshot_2021-04-07_at_16.23.35.png)\n\n### Problem\n\nToday there's a disconnect between the “Mark as viewed” checkbox and the files in the file browser. They don't communicate and so the bolded file names in the file browser are not understandable. Usually the bold/regular toggle is associated with things that are viewed/not viewed or read/unread.\n\n### Proposal\n\nBold file names if their “Viewed” checkbox is **unchecked** and unbold them if the checkbox is **checked**.","state":"closed","created_at":"2021-04-07T15:26:27.394Z","updated_at":"2021-11-18T07:00:56.637Z","closed_at":"2021-11-05T20:55:45.406Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Deliverable","devops::create","feature::enhancement","frontend","group::code review","merge requests","section::dev","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":7,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327135","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327135","notes":"https://gitlab.com/api/v4/projects/278964/issues/327135/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327135/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327135","relative":"#327135","full":"gitlab-org/gitlab#327135"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1409,"epic":{"id":7885,"iid":1409,"title":"👀 Track unread diffs/files in Merge Requests","url":"/groups/gitlab-org/-/epics/1409","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84802286,"iid":327124,"project_id":278964,"title":"Runner installation modal should support smaller screens","description":"### Summary\n\nThe runner instructions modal breaks for screen sizes below ~420px:\n\n![2021-04-06_13.35.05](/uploads/5ab7e2d5080cb74becba6b3c16611511/2021-04-06_13.35.05.gif)\n\n### Follow-up from discussion:\n\nThe following discussion from !58055 should be addressed:\n\n- [ ] @mrincon started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58055#note_541954567):  (+5 comments)\n\n    \u003e @rayana Please help me review this MR. Along with a code clean up I found a few easy improvements in the modal for runner instructions we can ~\"UI polish\". I left a description of the changes in the MR description.","state":"closed","created_at":"2021-04-07T14:16:45.342Z","updated_at":"2021-05-03T14:45:54.082Z","closed_at":"2021-05-03T09:47:01.992Z","closed_by":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"labels":["UI polish","UX","UX debt","[Deprecated] Category:Runner","component:modal","devops::verify","frontend","group::runner","section::ops","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"}],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327124","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327124","notes":"https://gitlab.com/api/v4/projects/278964/issues/327124/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327124/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327124","relative":"#327124","full":"gitlab-org/gitlab#327124"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":84801804,"iid":327122,"project_id":278964,"title":"Improve ManageViaMr test coverage","description":"The following discussion from !58230 should be addressed:\n\n- [ ] @pgascouvaillancourt started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58230#note_546736491): \n\n    \u003e **note:** This change didn't cause any frontend spec to fail which indicates that we might be missing some test coverage here. For the sake of shipping the feature ASAP and not pushing too many frontend changes to this backend MR, I'm going to open a follow-up issue to improve the specs. Will leave this thread open for the maintainer to be aware of this.\n\n---\n\nWe should improve `ManageViaMr`'s test coverage by ensuring that the GraphQL mutation is called with the correct payload.","state":"closed","created_at":"2021-04-07T14:10:10.522Z","updated_at":"2021-05-21T14:03:04.655Z","closed_at":"2021-05-21T14:02:58.732Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:SAST","Deliverable","devops::secure","frontend","group::static analysis","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327122","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327122","notes":"https://gitlab.com/api/v4/projects/278964/issues/327122/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327122/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327122","relative":"#327122","full":"gitlab-org/gitlab#327122"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84800470,"iid":327119,"project_id":278964,"title":"Introduce concept of Merge Request Violation","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nTo implement the [next iteration of the \"Compliance Dashboard\"](https://gitlab.com/gitlab-org/gitlab/-/issues/299359) we should store compliance violations such as a failure of [separations of duties](https://docs.gitlab.com/ee/user/compliance/compliance_dashboard/#approval-status-and-separation-of-duties).\n\nCurrently this information is generated on-the-fly but this proposal is to create a new domain model: `MergeRequests::ComplianceViolation` which encapsulates information about a single failure of an MR to adhere to a particular hard-coded rule.\n\nExamples of these include:\n\n* When an author approves their own MR.\n* When a committer approves their own MR.\n* When an MR is merged with an `X%` drop of code coverage.\n\nWe should implement the following:\n\n* The new domain model as above.\n* Implementation of the new violation objects when an MR is merged. \n* A GraphQL implementation to allow the group-level querying of data for a group's merge requests.\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] ~backend - Introduce new domain model - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74290 : ~\"workflow::in review\" \n- [ ] ~backend - On MR merge, save a list of MR violations that occured **at the point of merging.**\n- [ ] ~backend - Add GraphQL type `MergeRequestComplianceViolationType` available as a traversal from `MergeRequest` (maybe?).\n\n## Proposed Data Structure\n\n* `MergeRequest` has zero or more `MergeRequests::ComplianceViolation`\n* Before merging, a `MergeRequest` **should have NO violations.**\n\n| Column Name | Type | Example | Notes | \n| ------ | ------ | ------ | ------ |\n| `merge_request_id` | bigint (foreign key on `merge_requests.id`) | `1` | Which MR? |\n| `violating_user_id` | bigint | (foreign key on `users.id`) | `1` | Which user _caused_ the violation? (Not who merged it, we can figure that out from the association to MR.) |\n| `reason` | enum | `approved_by_author: 0`, `approved_by_committer: 1`, `approved_by_insufficient_users: 2` | What caused the violation? We can map each of these to a hard-coded severity as defined by us. |","state":"closed","created_at":"2021-04-07T13:45:06.662Z","updated_at":"2022-01-19T13:28:21.339Z","closed_at":"2021-12-07T14:54:18.339Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["GitLab Ultimate","backend","devops::manage","group::compliance","priority::2","section::dev","type::feature","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":58,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327119","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327119","notes":"https://gitlab.com/api/v4/projects/278964/issues/327119/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327119/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327119","relative":"#327119","full":"gitlab-org/gitlab#327119"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5237,"epic":{"id":184672,"iid":5237,"title":"Convert compliance dashboard into an insightful report","url":"/groups/gitlab-org/-/epics/5237","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":84797787,"iid":327113,"project_id":278964,"title":"JIRA Integration: Inherited instance config do not allow enabling issues list at project level","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen the JIRA integration is configured at the instance level, and `Enable Jira issues` is then enabled at the project level, the `Enable Jira issues` settings does not persist after clicking save.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Enable JIRA Integration at the instance level under Admin - Settings - Integrations - JIRA\n2. Go to any project, `Enable Jira issues` under Project - Settings - Integrations - JIRA\n3. Save configs, page reloads\n4. `Enable Jira issues` is back to its unchecked default\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nChanges to `Enable Jira issues` and other project-level overrides do not persist when JIRA settings are inherited from instance defaults.\n\n### What is the expected *correct* behavior?\n\nChanges to `Enable Jira issues` and other project-level overrides should persist when JIRA settings are inherited from instance defaults.\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\nLog in production_json when the save is performed:\n\n```\n{\n    \"method\": \"PUT\",\n    \"path\": \"/hoth/sample-ci/-/services/jira\",\n    \"format\": \"html\",\n    \"controller\": \"Projects::ServicesController\",\n    \"action\": \"update\",\n    \"status\": 302,\n    \"location\": \"https://URL/hoth/sample-ci/-/services/jira/edit\",\n    \"time\": \"2021-04-07T12:46:21.698Z\",\n    \"params\": [\n        {\n            \"key\": \"utf8\",\n            \"value\": \"✓\"\n        },\n        {\n            \"key\": \"_method\",\n            \"value\": \"put\"\n        },\n        {\n            \"key\": \"authenticity_token\",\n            \"value\": \"[FILTERED]\"\n        },\n        {\n            \"key\": \"service\",\n            \"value\": {\n                \"inherit_from_id\": \"2\",\n                \"active\": \"true\",\n                \"commit_events\": \"true\",\n                \"merge_requests_events\": \"true\",\n                \"comment_on_event_enabled\": \"true\",\n                \"comment_detail\": \"standard\",\n                \"url\": \"http://jira.example.com\",\n                \"api_url\": \"\",\n                \"username\": \"foobar\",\n                \"password\": \"[FILTERED]\",\n                \"jira_issue_transition_id\": \"\",\n                \"issues_enabled\": \"true\",\n                \"vulnerabilities_enabled\": \"false\",\n                \"project_key\": \"[FILTERED]\"\n            }\n        },\n        {\n            \"key\": \"redirect_to\",\n            \"value\": \"https://URL/hoth/sample-ci/-/settings/integrations\"\n        },\n        {\n            \"key\": \"namespace_id\",\n            \"value\": \"hoth\"\n        },\n        {\n            \"key\": \"project_id\",\n            \"value\": \"sample-ci\"\n        },\n        {\n            \"key\": \"id\",\n            \"value\": \"jira\"\n        }\n    ],\n    \"remote_ip\": \"x.y.z.a\",\n    \"user_id\": 1,\n    \"username\": \"root\",\n    \"correlation_id\": \"01F2P5X3X6WYZDHAPCDV7VH9WG\",\n    \"meta.user\": \"root\",\n    \"meta.project\": \"hoth/sample-ci\",\n    \"meta.root_namespace\": \"hoth\",\n    \"meta.caller_id\": \"Projects::ServicesController#update\",\n    \"meta.feature_category\": \"integrations\",\n    \"meta.client_id\": \"user/1\",\n    \"redis_calls\": 6,\n    \"redis_duration_s\": 0.001564,\n    \"redis_read_bytes\": 969,\n    \"redis_write_bytes\": 1085,\n    \"redis_cache_calls\": 5,\n    \"redis_cache_duration_s\": 0.001253,\n    \"redis_cache_read_bytes\": 610,\n    \"redis_cache_write_bytes\": 389,\n    \"redis_shared_state_calls\": 1,\n    \"redis_shared_state_duration_s\": 0.000311,\n    \"redis_shared_state_read_bytes\": 359,\n    \"redis_shared_state_write_bytes\": 696,\n    \"db_count\": 21,\n    \"db_write_count\": 4,\n    \"db_cached_count\": 1,\n    \"cpu_s\": 0.070538,\n    \"mem_objects\": 28295,\n    \"mem_bytes\": 3455463,\n    \"mem_mallocs\": 6883,\n    \"queue_duration_s\": 0.016477,\n    \"db_duration_s\": 0.0085,\n    \"view_duration_s\": 0.0,\n    \"duration_s\": 0.06257\n}\n```\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nHappens on self-managed instances, reported and reproduced on 13.10.0+\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\nPremium customer ticket: https://gitlab.zendesk.com/agent/tickets/202845\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n-\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nWorkaround: Switch the project to use custom settings, and redefine all parameters. Now the settings persist, and remain persisted even if you switch back to defaults after.","state":"closed","created_at":"2021-04-07T12:58:50.878Z","updated_at":"2022-11-22T19:44:59.020Z","closed_at":"2021-06-14T09:27:25.879Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Category:Integrations","Integration::Jira","customer","devops::manage","frontend","group::ecosystem [DEPRECATED]","section::dev","type::bug","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":7536567,"username":"hchouraria","name":"Harsh Chouraria","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7536567/avatar.png","web_url":"https://gitlab.com/hchouraria"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":23,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327113","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327113","notes":"https://gitlab.com/api/v4/projects/278964/issues/327113/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327113/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327113","relative":"#327113","full":"gitlab-org/gitlab#327113"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84785178,"iid":327099,"project_id":278964,"title":"Disabled search bar appears on group setting -\u003e runner details","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nAn unusable, disabled search bar appears on the page at Group Setting -\u003e CI/CD -\u003e Runners -\u003e Runner details (click on a runner token).\n\n### Steps to reproduce\n\n1. As admin, add a runner to a group (or use a global runner that can be seen from the group settings).\n2. Visit Group Setting -\u003e CI/CD -\u003e Runners \n3. Select a runner\n\n### Screenshots\n\nExample URL: http://gdk.test:3000/h5bp/html5-boilerplate/runners/4\n\n![Screen_Shot_2021-04-07_at_12.41.55_PM](/uploads/f64f0efff38ed80a682add2afe76b0df/Screen_Shot_2021-04-07_at_12.41.55_PM.png)\n\n### What is the current *bug* behavior?\n\nA disabled search bar appears.\n\n### What is the expected *correct* behavior?\n\nNo search bar :triumph: \n\n### Possible fixes","state":"closed","created_at":"2021-04-07T10:46:52.757Z","updated_at":"2022-01-14T21:55:46.004Z","closed_at":"2022-01-14T21:55:45.990Z","closed_by":{"id":9302527,"username":"gdoyle","name":"Gina Doyle","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9302527/avatar.png","web_url":"https://gitlab.com/gdoyle"},"labels":["UX","[Deprecated] Category:Runner","[deprecated] Accepting merge requests","devops::verify","frontend","group::runner","priority::4","section::ops","severity::4","type::bug","usability"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327099","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327099","notes":"https://gitlab.com/api/v4/projects/278964/issues/327099/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327099/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327099","relative":"#327099","full":"gitlab-org/gitlab#327099"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5377,"epic":{"id":200579,"iid":5377,"title":"Verify:Runner - UI polish","url":"/groups/gitlab-org/-/epics/5377","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84781932,"iid":327098,"project_id":278964,"title":"Remove namespace id partial index","description":"We created a [partial index on `namespaces.id`](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58220) in order to iterate over the `namespaces` table as [part of a data migration](https://gitlab.com/gitlab-org/gitlab/-/issues/325508).\n\nOnce the data migration has completed we need to remove the index as we no longer have any need.","state":"closed","created_at":"2021-04-07T10:17:38.953Z","updated_at":"2022-05-24T12:01:04.958Z","closed_at":"2022-05-13T01:55:18.535Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["Category:Authentication and Authorization","Deliverable","Linear queries","backend","database","devops::manage","group::organization","missed-deliverable","missed:14.1","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"}],"author":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"type":"ISSUE","assignee":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327098","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327098","notes":"https://gitlab.com/api/v4/projects/278964/issues/327098/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327098/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327098","relative":"#327098","full":"gitlab-org/gitlab#327098"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6308,"epic":{"id":302941,"iid":6308,"title":"traversal_ids migration cleanup","url":"/groups/gitlab-org/-/epics/6308","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84774596,"iid":327091,"project_id":278964,"title":"Delete service templates records from the database","description":"### Description\n\nMigration script to remove service template records from the database. We may need to batch the deletion.\n\n```sql\nDELETE FROM integrations WHERE template IS TRUE\n```\n\n### Implementation Plan: \n\n- [x] ~database Implement a post db migration to delete these records","state":"closed","created_at":"2021-04-07T09:08:14.971Z","updated_at":"2022-02-11T10:27:30.809Z","closed_at":"2022-02-11T10:11:52.806Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Community contribution","backend","backend-weight::2","database","devops::create","group::integrations","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":9588757,"username":"lenikadali","name":"Leni Kadali Mutungi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9588757/avatar.png","web_url":"https://gitlab.com/lenikadali"}],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":{"id":9588757,"username":"lenikadali","name":"Leni Kadali Mutungi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9588757/avatar.png","web_url":"https://gitlab.com/lenikadali"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327091","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327091","notes":"https://gitlab.com/api/v4/projects/278964/issues/327091/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327091/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327091","relative":"#327091","full":"gitlab-org/gitlab#327091"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5672,"epic":{"id":233591,"iid":5672,"title":"Deprecate and remove Service Templates feature","url":"/groups/gitlab-org/-/epics/5672","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84771971,"iid":327088,"project_id":278964,"title":"Add a helper to define if multiple assignees are available","description":"The following discussion from !56742 should be addressed:\n\n- [ ] @euko started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56742#note_546294204): \n\n    \u003e **suggestion (future, minor):**\n    \u003e \n    \u003e **In a later iteration**, we could consider creating and using a new helper in `app/helpers/form_helper.rb` and here:\n    \u003e \n    \u003e \u003cdetails\u003e\n    \u003e \n    \u003e ```rb\n    \u003e # in CE\n    \u003e def support_multiple_assignees?\n    \u003e   false\n    \u003e end\n    \u003e \n    \u003e # in EE\n    \u003e def support_multiple_assignees?\n    \u003e   type == 'issue' \u0026\u0026 issue_supports_multiple_assignees? || type == 'merge_request' \u0026\u0026 merge_request_supports_multiple_assignees\n    \u003e end\n    \u003e ```\n    \u003e \n    \u003e ```haml\n    \u003e #js-vue-sidebar-assignees{ \n    \u003e  data: { \n    \u003e   field: issuable_type,\n    \u003e   signed_in: signed_in,\n    \u003e   multiple_assignees: support_multiple_assignees?,\n    \u003e ```\n    \u003e \n    \u003e \u003c/details\u003e\n    \u003e \n    \u003e ---\n    \u003e \n    \u003e `assignee_dropdown_options` seems too coupled to the legacy assignee component. The method could get removed entirely when the old assignee component gets removed.\n    \u003e \n    \u003e The logic is bit nested as well:\n    \u003e - if max_assignee is 1 =\u003e no multiple assignee feature\n    \u003e - if max_assignee is not present =\u003e multiple assignee feature is allowed.\n    \u003e \n    \u003e All of this is done on the CE side `app/helpers/form_helper.rb` so the suggestion should improve CE/EE separation.","state":"closed","created_at":"2021-04-07T08:45:38.665Z","updated_at":"2021-10-14T02:04:19.715Z","closed_at":"2021-10-14T02:03:44.387Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["backend","devops::plan","frontend","group::project management","missed:13.12","missed:14.0","missed:14.1","quad-planning::complete-no-action","section::dev","workflow::in dev"],"milestone":null,"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327088","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327088","notes":"https://gitlab.com/api/v4/projects/278964/issues/327088/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327088/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327088","relative":"#327088","full":"gitlab-org/gitlab#327088"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84765682,"iid":327085,"project_id":278964,"title":"Fix stale renderRow in refs dropdown","description":"## Update: \n\nAfter this discussion \u003e https://gitlab.com/gitlab-org/gitlab/-/issues/327085#note_567638235, we have decided the best way to solve this problem is to convert the ref dropdown to Vue.\n\nTo tackle this iteratively, here are the suggested steps we can take:\n\n- Mount simple Vue dropdown\n- Connect dropdown with Vue router\n- Add search to dropdown\n- Update feature spec and ensure FF coverage\n- Clean up: Remove Project.js\n\n---\n\nBecause the use of stale date from renderRow in the refs dropdown, we have already seen 2 related issues.\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/296667\n- https://gitlab.com/gitlab-org/gitlab/-/issues/322792\n\nSo far we've just been applying a band-aid to a leaky pipe. But as noted here (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57197#note_546179270), we should instead replace the broken pipe with a pipe that doesn't leak 💪:\n\n\u003e We currently use the `clicked` method to update the links. While this does account for meta key + click, it doesn't work for content menu (right click =\u003e open in new tab). The better fix is to make sure the links in the dropdown are updated correctly in the `renderRow` method of project.js.\n\u003e \n\u003e The reason they aren't is we are using the output of [serializeForm](https://gitlab.com/gitlab-org/gitlab/-/blob/9addb5e692c794f7725fc8d7489872c55d9435cc/app/assets/javascripts/pages/projects/project.js#L69) which has hidden inputs set on page load.\n\u003e \n\u003e The [vue repo browser](https://gitlab.com/gitlab-org/gitlab/-/blob/9addb5e692c794f7725fc8d7489872c55d9435cc/app/assets/javascripts/repository/components/table/row.vue#L148) doesn't update this form when changing pages.\n\u003e \n\u003e Then when [renderRow](https://gitlab.com/gitlab-org/gitlab/-/blob/9addb5e692c794f7725fc8d7489872c55d9435cc/app/assets/javascripts/pages/projects/project.js#L100) is called (when the dropdown is opened) it uses whatever form values were set on page load!\n\u003e \n\u003e So the more complete and comprehensive fix is:\n\u003e \n\u003e 1. make the Vue repo browser update the form attributes (or have them linked to the vue values somehow)\n\u003e 1. delete the `clicked` method entirely\n\u003e 1. possibly need to add `js-gl-dropdown-refresh-on-open` class to the dropdown trigger to force re-rendering each time it opens\n\n## Example of this problem\n\nOn page load, the dropdown populates our row with the correct link. The `path` has the correct information that corresponding to the current directory. However when the user navigates to a different directory, the `path` is no longer incorrect. The data is still reflecting the previous date when the page loaded. The `path` is no longer correct and is using a stale date 😱\n\n| On page load (path is correct) | Navigate to another path (path is incorrect) |\n| ------ | ------ |\n| ![image](/uploads/c9704c29a043aa8ae34b71593e3de111/image.png)| ![image](/uploads/b331251fb38b0a97c9a5d5c55db96cad/image.png) |\n\nBecause of this problem, we introduced this method [click](https://gitlab.com/gitlab-org/gitlab/blob/953a4a229505c8c08a23b8df985df4a9b3263e9b/app/assets/javascripts/pages/projects/project.js#L119) that programmatically takes over the direction of our anchor tag.\n\n## Proposed Solution\n\nSo the proposal is to remove the need to take over and just make sure the dropdown ALWAYS contains the correct information. And if the water is clean, we won't need to implement all this funky processing 😄","state":"closed","created_at":"2021-04-07T07:42:39.933Z","updated_at":"2022-04-13T16:17:26.898Z","closed_at":"2021-12-17T18:02:42.083Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Source Code Management","Deliverable","blocked","devops::create","frontend","group::source code","missed-deliverable","missed:13.12","missed:14.3","missed:14.4","missed:14.5","section::dev","type::bug","workflow::in dev"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327085","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327085","notes":"https://gitlab.com/api/v4/projects/278964/issues/327085/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327085/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327085","relative":"#327085","full":"gitlab-org/gitlab#327085"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84764722,"iid":327082,"project_id":278964,"title":"Add target branch name to the commit form","description":"\n### Problem to solve \n\nWhen a first-time user create a new blank project and then navigate into the pipeline editor to create a .gitlab-ci.yml file, they are unable to hit the commit button since the branch name is missing, the user has no indication that the branch name is missing\n\n![image](/uploads/0daf1aa45e36b90390f5007e06c04a30/image.png)\n\n\n### User experience goal\n\nThe user should have a clear indication that the branch name is missing\n\n### Step to reproduce\n\n* Create a new project\n* Navigate into the pipeline editor\n* Click on the CTA button\n\n### Proposal\n\n~~We notify the users that the branch name is missing tooltip on the grey commit button :thinking:?~~\nPre-populate the branch name\n\n### Open question\n\nIs it possible to pre-populate the branch name :thinking:","state":"closed","created_at":"2021-04-07T07:34:25.998Z","updated_at":"2021-09-01T12:57:54.300Z","closed_at":"2021-07-05T07:54:13.111Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","Filler","GitLab Core","Technical Writing","UX","UX Team: Easy Onboarding Theme","Verify candidate","candidate::14.1","devops::verify","frontend","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327082","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327082","notes":"https://gitlab.com/api/v4/projects/278964/issues/327082/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327082/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327082","relative":"#327082","full":"gitlab-org/gitlab#327082"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5276,"epic":{"id":188934,"iid":5276,"title":"Pipeline Editor  - First Experience","url":"/groups/gitlab-org/-/epics/5276","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84757222,"iid":327078,"project_id":278964,"title":"Follow-up from \"Add rake tasks for Pages deployment migration\"","description":"The following discussion from !57120 should be addressed:\n\n- [ ] @vshushlin started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57120#note_542968534):  (+3 comments)\n\n    \u003e Crazy idea: maybe we should unify the code with the artifacts migration?\n    \u003e \n    \u003e @ayufan WDYT?","state":"closed","created_at":"2021-04-07T06:10:25.430Z","updated_at":"2021-05-03T09:10:10.260Z","closed_at":"2021-05-03T09:10:10.147Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["auto updated","maintenance::refactor","workflow::in dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327078","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327078","notes":"https://gitlab.com/api/v4/projects/278964/issues/327078/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327078/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327078","relative":"#327078","full":"gitlab-org/gitlab#327078"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84752144,"iid":327073,"project_id":278964,"title":"Update ZAP Addons","description":"### Problem to solve\n\nZAP has released updated versions of their addons. DAST should update the pinned addon versions in the Dockerfile to incorporate these changes.\n\n### Addons to update\nThis list may be out of date; please check the latest `zap-addons-up-to-date` CI job to see the latest addon versions.\n- gettingStarted v12.0.0\n- fuzz v13.1.0\n- websocket v23.0.0\n- webdriverwindows v26.0.0\n- ascanrulesBeta v33.0.0\n- zest v33.0.0\n- spiderAjax v23.3.0\n- onlineMenu v8.0.0\n- quickstart v29.0.0\n- encoder v0.5.0\n- pscanrules v33.0.0\n- scripts v28.0.0\n- bruteforce v10.0.0\n- formhandler v3.0.0\n- ascanrules v38.0.0\n- commonlib v1.2.0\n- hud v0.12.0\n- openapi v18.0.0\n- retire v0.7.0\n- selenium v15.3.0\n- webdriverlinux v26.0.0\n- webdrivermacos v25.0.0\n- help v11.0.0\n- pscanrulesBeta v24.0.0\n\n### References\n\nhttps://github.com/zaproxy/zap-extensions/releases","state":"closed","created_at":"2021-04-07T04:34:57.231Z","updated_at":"2022-09-05T03:23:13.393Z","closed_at":"2022-08-31T04:45:56.324Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::refinement"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":1243277,"username":"ghost1","name":"Ghost User","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4249f4df72b475e7894fabed1c5888cf?s=80\u0026d=identicon","web_url":"https://gitlab.com/ghost1"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327073","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327073","notes":"https://gitlab.com/api/v4/projects/278964/issues/327073/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327073/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327073","relative":"#327073","full":"gitlab-org/gitlab#327073"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3224,"epic":{"id":50889,"iid":3224,"title":"DAST: Backstage hygiene","url":"/groups/gitlab-org/-/epics/3224","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84750191,"iid":327070,"project_id":278964,"title":"Change DAST On-demand API Scanning Engine","description":"## Overview\n\nAs part of on-demand scans, users can run an API scan through a web interface. The On-demand process uses the OnDemand yaml file, https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Security/DAST-On-Demand-Scan.gitlab-ci.yml.\n\nSince the API Security tool is almost ready to roll out as the default API scanner, the template above should be updated to use the API Security DAST scanner instead of the zap engine.\n\n## Implementation\n\nIn order to switch over, a few frontend changes need to be put in place. This [design issue](https://gitlab.com/gitlab-org/gitlab/-/issues/348725) details the changes.\n\n* [:art:. Figma file](https://www.figma.com/file/o6NoqgLnxv0KnK2y9Qum51/DAST-Configuration-UI?node-id=1014%3A31065)\n* [:desktop: Prototype](https://www.figma.com/proto/o6NoqgLnxv0KnK2y9Qum51/DAST-Configuration-UI?page-id=1014%3A30234\u0026node-id=1014%3A44808\u0026viewport=429%2C48%2C0.99\u0026scaling=min-zoom\u0026starting-point-node-id=1014%3A44808)\n\nBoth frontend and backend work will need to be done in order to make the switch.\n\n* Change \"Rest API\" to \"API\"\n* Change Target URL to \"API Endpoint URL\"\n* Add radio button for \"Perform testing using:\" OpenAPI, HAR, Postman\n  * *Only 1 of the 3 path fields would show up depending on the status of the radio button*\n  * Add Input field for HAR File Path \\[ \\]\n  * Add Input field for OpenAPI File Path or URL \\[ \\]\n  * Add Input field for Postman File Path \\[ \\]\n* Change excluded URLS to Excluded Paths\n\nIn addition, passive and active attack profiles will need to be built for the API Security engine.\n\nThe on-demand web interface encrypts and encodes sensitive variables. The following code will need to be added to the API Security engine, https://gitlab.com/gitlab-org/security-products/dast/-/merge_requests/418, to ensure it can read environment variables properly.\n\n### Implementation plan\n\n| Task # | Issue                                                | Description                                                                                                                        | Department         |\n| ------ | ---------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------- | ------------------ |\n| 1  | https://gitlab.com/gitlab-org/gitlab/-/issues/327070 | Change DAST On-demand API Scanning Engine | ~backend |\n| 2  | https://gitlab.com/gitlab-org/gitlab/-/issues/350735 | Frontend changes for API Security  | ~frontend |\n| 3  | https://gitlab.com/gitlab-org/gitlab/-/issues/352625 | Documentation related updates | ~documentation            |\n| 4  | https://gitlab.com/gitlab-org/gitlab/-/issues/345837 | Feature flag rollout |  ~\"feature flag\"  |\n\n## Decisions\n\n### Feature Flag\n\nAll related changes should be released with `dast_api_scanner` feature flag\n\n### GraphQL\n\n#### `DastSiteProfileCreateInput` \u0026 `dastSiteProfileUpdateInput`\n\nThe `DastSiteProfileCreateInput` and `dastSiteProfileUpdateInput` GraphQL types need to be extended to support the new scan method option. \n\n* `scanMethod` - `Type::ScanMethodEnum`\n* `scanFilePath` - `Type::String`\n\n`ScanMethodEnum` is a new Enum to identify the scan method to be used for the API Scan. The values for the enum are\n\n- `OPENAPI`\n- `POSTMAN_COLLECTION`\n- `HAR`\n\n####  `dastSiteProfiles` Query\n\n```diff\nproject(fullPath: $fullPath) {\n    dastSiteProfiles(...) {\n      nodes {\n         id\n         profileName\n         normalizedTargetUrl\n         targetUrl\n         targetType\n+        scanMethod\n+        scanFilePath\n      }\n    }\n  }\n```","state":"closed","created_at":"2021-04-07T03:16:24.632Z","updated_at":"2022-09-27T14:37:01.659Z","closed_at":"2022-07-18T22:42:45.497Z","closed_by":{"id":4985194,"username":"derekferguson","name":"Derek Ferguson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4985194/avatar.png","web_url":"https://gitlab.com/derekferguson"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","missed:14.10","missed:15.0","missed:15.1","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"}],"author":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"type":"ISSUE","assignee":{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327070","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327070","notes":"https://gitlab.com/api/v4/projects/278964/issues/327070/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327070/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327070","relative":"#327070","full":"gitlab-org/gitlab#327070"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5892,"epic":{"id":260281,"iid":5892,"title":"API Scanner for DAST should be separate from DAST","url":"/groups/gitlab-org/-/epics/5892","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84745420,"iid":327062,"project_id":278964,"title":"\"Basic\" Jira users can Add/Remove Jira Connect Namespaces","description":"**NOTE** The main concern described in this issue is related to the fact that \"Basic\" (non-admin) users in Jira can Remove/Add namespaces by directly accessing `\u003cjira_cloud_namespace\u003e.atlassian.net/plugins/servlet/ac/gitlab-jira-connect-gitlab.com/gitlab-configuration`. At this time I do not believe there is any security concern with the JWT itself, even though it is mentioned in the report.\n\nThere does not appear to be any links in the UI for \"BASIC\" (non-admin) Jira users to access this page, but when manually entered it is shown. As the HackerOne reporter describes in [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/327062#note_546133684), it appears that GitLab needs to verify the permissions in the JWT to decide whether or not to grant access to this page. As per [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/9641#list-namespaces-that-are-linked), I believe we intended only Jira admins to be able to add/remove these namespaces:\n\n\u003eWhen viewing this page, it is not necessary to be logged in to GitLab. We show the data here based on the JWT token generated by Jira which ensures that the user making the request here is an admin of the Jira account.\n\n**[HackerOne report #1147812](https://hackerone.com/reports/1147812)** by `updatelap` on 2021-04-03, assigned to @ankelly:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n__Note:__  \nHey Gitlab Sec Team,\n\nI contacted your GitLab Support team  about your Jira app [GitLab.com for Jira Cloud](https://marketplace.atlassian.com/apps/1221011/gitlab-com-for-jira-cloud?hosting=cloud\u0026tab=overview) . And they told me that the app is eligible for reporting and reward\n\n####  Summary:  \nGitLab provides an application tool [GitLab.com for Jira Cloud](https://marketplace.atlassian.com/apps/1221011/gitlab-com-for-jira-cloud?hosting=cloud\u0026tab=overview), an application that allows customers to managed Jira issues at  Jira instance from GitLab.com. After testing the integration feature in the application, it was found that the application leads to the leakage of the `JWT` to unauthorized users.\n\n#####  _About Jira:_\n\nJira Cloud allows the system administrator to add users with different Roles such as \"__Basic, Trusted, and Site administrator__\" with the highest authority being \"__Site administrator__\" and least \"__Basic__\". Based on these Roles allows:\n\n1. The administrator can fully manage the account by accessing all projects, issues, dashboards and __configuring applications.__  \n2. Access to specific projects or issues. It is not possible to access to __configure applications__ or to change any of the account settings.\n\n###  Description:  \nAs we mentioned earlier, the __GitLab.com for Jira Cloud__, after installing It allows an administrator to link their GitLab.com account with Atlassian Jira Cloud. So, after Setup, Jira  __admin__  is allowed to go `https://YOUDOMIN.atlassian.net/plugins/servlet/ac/gitlab-jira-connect-gitlab.com/gitlab-configuration` When going to this page admin can `Linked Gitlab namespaces` with Jira cloud.\n\n[REDACTED]\n\nWhen you click on \"__Add namespaces__\", You can add namespaces and groups to the Jira cloud. So. Based on the __About Jira description__, an employee with \"`BSSIC`\" privileges is not allowed to access the application configuration.  After testing if the `GitLab for Jira Cloud` app checks the permissions of Jira users before providing the user with the `JWT`, it is found that the  `GitLab for Jira Cloud` application does not verify the user's permissions and generates the JWT code for a user with `Basic privileges`. This allows this malicious user to link their namespaces or group to Jira instance that they do not own and can remove namespaces or group added by System admin. In addition, Gitlab allows users to create private namespaces and groups on Gitlab and then link them to the Jira instance. So this will reveal these namespaces and private groups\n\nThe normal or expected behavior that the tool should work with is to verify the role of the user who requests the configuration page, and if he does not have the privilege to display the page, a message similar to this should appear.\n\n[REDACTED]\n\n####  Steps To Reproduce\n\n1. Go to Jira cloud and create Jira instance.  \n2. Add user with `Basic` roles.  \n1. The administrator create project and restricted to this project for admin only.\n\n [REDACTED]\n3 Admin Install [GitLab.com for Jira Cloud](https://marketplace.atlassian.com/apps/1221011/gitlab-com-for-jira-cloud?hosting=cloud\u0026tab=overview) app.  \n4.Admin go to `https://YOUDOMIN.atlassian.net/plugins/servlet/ac/gitlab-jira-connect-gitlab.com/gitlab-configuration` and login with your Gitlab account.  \n5.Admin click in Add namespace and Link namespace and group to Jira cloud.    \n6.User Go to `{BaseUrl}/plugins/servlet/ac/gitlab-jira-connect-gitlab.com/gitlab-configuration`\n\n[REDACTED]\n\n####  Impact\n\n1. First. An unauthorized employee can access the application configuration page and reveal these namespaces and private groups  \n2. The server grants a JWT token to the Basic user, allowing it to remove namespaces and groups.\n\n[REDACTED]\n3.It allows the user to link his Gitlab account to the jira instance and add his namespaces and groups to an instance that he does not own\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n[REDACTED]\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2021-04-06T23:23:50.191Z","updated_at":"2022-11-22T19:45:01.223Z","closed_at":"2021-08-31T18:30:59.887Z","closed_by":{"id":4226366,"username":"ankelly","name":"Andrew Kelly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4226366/avatar.png","web_url":"https://gitlab.com/ankelly"},"labels":["Deliverable","HackerOne","Weakness::CAPEC-233","backend","devops::manage","group::integrations","missed-deliverable","missed:14.1","priority::3","section::dev","security","severity::3","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-07-05","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327062","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327062","notes":"https://gitlab.com/api/v4/projects/278964/issues/327062/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327062/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327062","relative":"#327062","full":"gitlab-org/gitlab#327062"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84744328,"iid":327061,"project_id":278964,"title":"Remove greyed-out pieces of policy rule building when yaml parsing fails","description":"## Issue\n\nThe following discussion from !58457 should be addressed:\n\n- [ ] @aturinske started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58457#note_543484693):  (+2 comments)\n\n    \u003e For the policy editor I'm not sure if it's necessary to add those semi-transparent overlays. What do you think about just removing all those components where we can't display the rules?\n\n![greyed_out_policy_building](/uploads/31ffde38149cee82d8590260ba1fc45a/greyed_out_policy_building.png)\n\n## Proposal\n\n- Remove sections completely if we can't parse yaml\n\n![Screen_Shot_2021-04-07_at_8.38.38_AM](/uploads/b7ff53226036bbd50432db44789bd7dd/Screen_Shot_2021-04-07_at_8.38.38_AM.png)\n\n## Implementation Plan\n\n- [ ] ~frontend Delete [dim_dismisable_container](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/dim_disable_container.vue#L0-1) and its usage in [policy_editor](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/policy_editor.vue#L347)\n- [ ] ~frontend Add `v-if` to parts where `dim_dismissable_container` is used to hide them if YAML cannot be parsed\n- [ ] ~frontend for the name and description, remove them per the designs on https://gitlab.com/gitlab-org/gitlab/-/issues/323771/","state":"closed","created_at":"2021-04-06T22:21:29.724Z","updated_at":"2021-08-10T15:49:32.389Z","closed_at":"2021-08-10T15:49:32.376Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:Container Network Security","UX","[deprecated] Accepting merge requests","devops::govern","frontend","frontend-weight::3","good for new contributors","group::security policies","section::sec","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327061","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327061","notes":"https://gitlab.com/api/v4/projects/278964/issues/327061/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327061/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327061","relative":"#327061","full":"gitlab-org/gitlab#327061"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84742241,"iid":327059,"project_id":278964,"title":"Vulnerabilities GraphQL query does not return vulnerabilities","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nWhen querying vulnerabilities as the top level query, a filtered query returns no vulnerabilities unless they exist in the user security dashboard. We need this call to be more in line with what a user might expect. Just looking at the GraphQL doesn't indicate that the results would be filtered to the user security dashboard.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\nRun the GraphQL query:\n\n```\n{\n  vulnerabilities(projectId: \"gid://gitlab/Project/6102100\") {\n    nodes {\n      title\n    }\n  }\n}\n```\n\nThe response will contain no vulnerabilities:\n\n![Screen_Shot_2021-04-06_at_4.05.35_PM](/uploads/47cad2970d68bf890840295e04a0b64a/Screen_Shot_2021-04-06_at_4.05.35_PM.png)\n\nHowever, the equivalent query on `project` does produce results:\n![image](/uploads/101c870e448b886259b2e18f2612abc3/image.png)\n\nAny project will exhibit this behavior, but https://gitlab.com/gitlab-examples/security/security-reports is a good one to test on.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation: Update GraphQL documentation and GitLab docs if necessary\n- [ ] Testing: Add tests for error conditions and new filters\n\n## Implementation plan\n\n- [ ] ~backend Add `security_center_dashboard` boolean flag to `vulnerabilities` query to indicate the results should be restricted to the User Security Dashboard projects\n- [ ] ~frontend Add `user_security_dashboard` to call from the User Security Dashboard\n- [ ] ~backend Add `groups` filter to the `vulnerabilities` query\n- [ ] ~backend Update VulnerabilitiesBaseResolver `vulnerable` method to check for groups and projects as arguments\n- [ ] ~backend return an error if projects, groups, and user security dashboard are all not present.\n  - \"A filter must be provided through `projects`, `groups`, or `user_security_dashboard`","state":"closed","created_at":"2021-04-06T21:14:06.013Z","updated_at":"2021-10-13T14:08:32.785Z","closed_at":"2021-10-13T14:08:32.766Z","closed_by":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"labels":["Category:Vulnerability Management","[deprecated] Accepting merge requests","backend","backend-weight::3","customer","devops::secure","feature::enhancement","frontend","frontend-weight::1","group::threat insights","section::sec","type::feature","workflow::problem validation"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"type":"ISSUE","assignee":null,"user_notes_count":45,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327059","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327059","notes":"https://gitlab.com/api/v4/projects/278964/issues/327059/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327059/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327059","relative":"#327059","full":"gitlab-org/gitlab#327059"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84742039,"iid":327057,"project_id":278964,"title":"Dreprecate godep support (to be removed in 15.0)","description":"\u003e deprecation asap and remove it in 15.0 as this would be a breaking change? \nhttps://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/merge_requests/36#note_542645669\n\n\n\n### implementation plan\n\n- follow deprecation process in https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations and at least:\n  - Announce deprecation in release post and removal in 15.0\n  - Add deprecation notice in documentation: https://docs.gitlab.com/ee/user/compliance/license_compliance/#supported-languages-and-package-managers","state":"closed","created_at":"2021-04-06T21:05:23.557Z","updated_at":"2022-01-18T20:55:12.146Z","closed_at":"2022-01-14T18:48:42.438Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","release post item","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327057","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327057","notes":"https://gitlab.com/api/v4/projects/278964/issues/327057/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327057/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327057","relative":"#327057","full":"gitlab-org/gitlab#327057"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6157,"epic":{"id":286494,"iid":6157,"title":"15.0 Deprecations and Removals - SCA","url":"/groups/gitlab-org/-/epics/6157","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84740843,"iid":327055,"project_id":278964,"title":"Rollout `gldropdown_tags` feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Feature\n\nThis feature uses the `:gldropdown_tags` feature flag!\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n- [Replace bootstrap dropdown in app/views/projects/tags/index.html.haml](https://gitlab.com/gitlab-org/gitlab/-/issues/263209)\n\nThe feature replaces the dropdown and search box of the `Repository -\u003e Tags` page to use Vue instead of HAML\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/58589\n\n## Owners\n\n- Team: ~\"group::continuous integration\" \n- Most appropriate slack channel to reach out to: `#g_ci`\n- Best individual to reach out to: @jivanvl \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n\u003c!-- Describe how the feature should be rolled out, and check the right boxes. You can check multiple if applicable --\u003e\n\n- [ ] Partial Rollout on GitLab.com with beta groups\n- [ ] Rollout on GitLab.com for a certain period (How long)\n- [x] Percentage Rollout on GitLab.com - 10%\n    If it is possible to perform an incremental rollout, this should be preferred. Proposed increments are: `10%`, `50%`, `100%`. Proposed minimum time between increments is 15 minutes.\n- [ ] Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n**Beta Groups/Projects:**\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Timeline\n\n\u003c!-- Please check which steps are needed and remove those which don't apply --\u003e\n\n**Initial Rollout**\n\n*Preparation Phase*\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n\n- [x] Test on staging\n\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default))\n\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n\n*Partial Rollout Phase*\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n\n- [ ] Verify behaviour (See Beta Groups) and add details with screenshots as a comment on this issue\n\n\n**Global Availability** ([More Info](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change))\n*(Please Note that Beta,Alpha and General Availability (GA) are handled on a product level and not the feature-flag)*\n\u003c!-- The next checkboxes are probably only needed for high visibility and/or critical rollouts. Please refer to the official documentation linked above for more clarification --\u003e\n\n- [x] Coordinate a time to enable the flag with `#production` and `#g_delivery` on slack.\n\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n\n- [x] Make the feature flag enabled by default i.e. Change `default_enabled` to `true`\n\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n\n- [x] Announce on the issue that the flag has been enabled\n\n- [ ] Cross post chatops slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n\n\n**Cleanup**\n\nThis is an __important__ phase, that should be either done in the next Milestone or as soon as possible. For the cleanup phase, please follow our documentation on how to  [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up).\n\n\u003c!-- The checklist here is to keep track of it's status for stakeholders --\u003e\n- [ ] Announce on the issue that the flag has been enabled\n\n- [ ] Remove `:feature_name` feature flag\n    - [ ] Remove all references to the feature flag from the codebase\n    - [ ] Remove the YAML definitions for the feature from the repository\n    - [ ] Create a Changelog Entry\n\n- [ ] Clean up the feature flag from all environments by running this chatops command in `#production` channel `/chatops run feature delete some_feature`.\n\n**Final Step**\n\n- [ ] Close this rollout issue for the feature flag after the feature flag is removed from the codebase.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab gldropdown_tags false\n```","state":"closed","created_at":"2021-04-06T20:42:18.439Z","updated_at":"2021-04-29T18:16:40.077Z","closed_at":"2021-04-29T18:16:40.000Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","devops::verify","feature flag","frontend","group::pipeline execution","needs weight","section::ops"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327055","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":24,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 24 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327055","notes":"https://gitlab.com/api/v4/projects/278964/issues/327055/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327055/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327055","relative":"#327055","full":"gitlab-org/gitlab#327055"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":84740484,"iid":327054,"project_id":278964,"title":"Track merge request settings in dropdown","description":"## Proposal\n\nInside of a merge request there are several settings to change the view in realtime on the page:\n\n![Screen_Shot_2021-04-06_at_3.34.53_PM](/uploads/3522a4c7a243fc67652fc1a784816bf9/Screen_Shot_2021-04-06_at_3.34.53_PM.png)\n\nWe should track each of these items to better understand users and the interaction here. This tracking should be done in two ways:\n\n1. Monthly Active Users for each of the buttons/settings\n1. Raw counts of the number of interactions of each setting","state":"closed","created_at":"2021-04-06T20:38:19.637Z","updated_at":"2022-05-11T14:42:23.190Z","closed_at":"2021-04-28T14:33:25.995Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Review Workflow","Deliverable","devops::create","frontend","group::code review","section::dev","type::maintenance"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327054","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327054","notes":"https://gitlab.com/api/v4/projects/278964/issues/327054/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327054/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327054","relative":"#327054","full":"gitlab-org/gitlab#327054"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4948,"epic":{"id":147168,"iid":4948,"title":"The Great Code Review Instrumentation Epic","url":"/groups/gitlab-org/-/epics/4948","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":84739859,"iid":327052,"project_id":278964,"title":"Go directly to Git Blame from Global Search","description":"Old title to be replaced after Release Post\n`Users want more information related to when a code search result was last modified`\n\n### Insight\nUsers often want to understand more about when a code search result was last modified.\n\n### Supporting evidence\nUsers mentioned that some of the most important information when looking through results of a code search are when it was last updated and who modified it. Often times they are looking for the commit where this portion of the code was changed. ~~In addition, some users also wanted to be able to sort results by when they were last modified as well.~~ - this was broken out into https://gitlab.com/gitlab-org/gitlab/-/issues/341039\n\n\n### Action\n\u003c!--Describe the next step or action that needs to take place as a result of the research. The action should be clearly defined, achievable, and directly tied back to the insight. Make sure to use directive terminology, such as: conduct, explore, redesign, etc. --\u003e\nSince the Git Blame offers much of this information that a user would be looking for related to a specific section of code they are searching, we should make it easier to get to that information. For the first iteration of this, we will include a link from search results that takes the user directly to the Blame page (anchored to the specific line). We should include telemetry with this to observe how often this functionality is utilized. If we find that this is widely used, we may consider a future iteration of providing ways to show the Blame information directly on the results page (or within a drawer on the page).\n\n#### Tasks\n- [x] Add Git Blame icon to our SVG library (@nickbrandt to complete - https://gitlab.com/gitlab-org/gitlab-svgs/-/issues/262)\n- [x] When user hovers over any portion of a code line, highlight the line number area (as seen in design) as well as show the new Git Blame icon as well as the current link icon.\n- [x] When user hovers over the Git Blame icon, show a tooltip for the icon/link\n- [x] When user clicks the Git Blame icon, direct the user to the Blame page for this file, anchored to the line number associated with where they clicked the icon.\n- [ ] Add this update to our Global Search documentation (perhaps add a short section [here](https://docs.gitlab.com/ee/user/project/repository/git_blame.html))\n\n### Resources\n- :dove: [Dovetail insight](https://dovetailapp.com/projects/e7ae7dac-69e6-44c5-8927-fbf14cd5f8a8/insights/present/26893793-998b-48b5-8924-f57c1a809176)\n- :mag: [Research issue](https://gitlab.com/gitlab-org/ux-research/-/issues/1179)\n\n![image](/uploads/3b9e90c88ae8d47497f358f9345a4cf9/image.png)\n![image](/uploads/d4b8eea861e9bf99aac940c66fdae87b/image.png)\n\n### Release Notes\n\n\u003c!-- What is the customer symptom we are improving? How does the customer understand the problem? --\u003e\n\nUsers often want to understand more about code search results, such as when was a file changed or by whom. Now users can easily answer these questions with fewer clicks by using the helpful links in Code Search results.\n\n\u003c!-- What will the customer see, how will they experience the change? --\u003e\n\nThis change adds an additional link next to lines of code when hovering over results from a Code Search.\n\n\u003c!-- Optional - What does the customer need to do to enable this feature --\u003e \n\n\u003c!-- .doc link to the referencing documentation. --\u003e\n\nhttps://docs.gitlab.com/ee/user/search/advanced_search.html#gitlab-advanced-search\n\n\u003c!-- Image that will be used in the Release post --\u003e\n\n![Blame in Search Result](/uploads/7648ddaeeea02b0fa355de7298901dfe/Screen_Shot_2022-01-13_at_2.41.59_PM.png)","state":"closed","created_at":"2021-04-06T20:24:29.542Z","updated_at":"2022-09-23T16:50:04.895Z","closed_at":"2022-01-18T17:13:54.446Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Actionable Insight::Product change","Category:Global Search","GitLab Premium","UX","backend","closed::complete","devops::data_stores","documentation","frontend","group::global search","release post item","release post item::merged","section::enablement","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},{"id":5041243,"username":"nickbrandt","name":"Nick Brandt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/96e3036898d44a8ad7063ba07cce0998?s=80\u0026d=identicon","web_url":"https://gitlab.com/nickbrandt"}],"author":{"id":5041243,"username":"nickbrandt","name":"Nick Brandt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/96e3036898d44a8ad7063ba07cce0998?s=80\u0026d=identicon","web_url":"https://gitlab.com/nickbrandt"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":24,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/327052","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/327052","notes":"https://gitlab.com/api/v4/projects/278964/issues/327052/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/327052/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#327052","relative":"#327052","full":"gitlab-org/gitlab#327052"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5476,"epic":{"id":213924,"iid":5476,"title":"Insights from code search research for Global Search","url":"/groups/gitlab-org/-/epics/5476","group_id":9970,"human_readable_end_date":"Jul 1, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]