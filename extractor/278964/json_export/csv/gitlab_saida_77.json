[{"id":81551001,"iid":325810,"project_id":278964,"title":"Use gl-components in wiki_form.vue","description":"**Decision in the comments not to work on this issue. Instead we will focus on updating the Wiki edit page as a whole, allowing us to adopt more gl-components in the process.**\n\n---\n\nThe following discussion from !55936 should be addressed:\n\n- [ ] @himkp started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55936#note_534593363):  (+1 comment)\n\n    \u003e I've not used `GlFormGroup`, `GlInput`, `GlSelect` components here because using them would require overriding the GL styles to match the UI with what it already is. Since this is just a code migration, we should not change the UI along with it, and also do the smallest iteration possible.","state":"closed","created_at":"2021-03-24T09:59:08.996Z","updated_at":"2021-10-28T13:58:22.462Z","closed_at":"2021-08-09T15:51:36.862Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Category:Wiki","Stretch","devops::create","frontend","group::editor","missed:14.0","missed:14.1","section::dev","type::maintenance"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325810","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325810","notes":"https://gitlab.com/api/v4/projects/278964/issues/325810/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325810/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325810","relative":"#325810","full":"gitlab-org/gitlab#325810"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81547241,"iid":325804,"project_id":278964,"title":"Job history sequence on CI job page is confusing","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nJob history sequence on CI job page is confusing\n\n### Steps to reproduce\n\nRetrigger a job multiple times\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nThe sequence of jobs are:\n1. Latest job\n1. Previous jobs in ascending chronological order (i.e. oldest is at the top)\n\n### What is the expected *correct* behavior?\n\nThe sequence of jobs should be:\n1. Latest job\n1. Previous jobs in descending chronological order (i.e. oldest is at the bottom)\n\nThis means that the entire list is in reverse chronological order, which is logical and easy to understand\n\n### Relevant logs and/or screenshots\n\nIn this image below, the execution sequence of jobs in the list are:\n1. 4 (i.e. most recent job run)\n2. 1 (i.e. first job run)\n3. 2\n4. 3\n\n![image](/uploads/56f39719d1a7d01ccec505ecc122d50c/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nIt looks like the `/pipelines/\u003cpipeline-id\u003e/stages.json` response should be ordered in reverse, as currently it is in ascending job ID order (which is not currently documented in https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/api/jobs.md#list-pipeline-jobs), which is the opposite to the `jobs` API that returns in descending job ID order (https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/api/jobs.md#list-pipeline-jobs), so it would be good to be consistent:\n\n![image](/uploads/60bbe1ad56038e6b5b4b23206679836a/image.png)\n\n-----\n## Design proposal\n\nChange the order for the `retried` section on the jobs detail page to be by `name ascending` and `id descending` to better show the order of retrying\n\n## Technical proposal\n\n```diff\ndiff --git a/app/models/commit_status.rb b/app/models/commit_status.rb\nindex b34d64de101..20c7a80733b 100644\n--- a/app/models/commit_status.rb\n+++ b/app/models/commit_status.rb\n@@ -48,7 +48,7 @@ class CommitStatus \u003c Ci::ApplicationRecord\n   scope :ordered, -\u003e { order(:name) }\n   scope :ordered_by_stage, -\u003e { order(stage_idx: :asc) }\n   scope :latest_ordered, -\u003e { latest.ordered.includes(project: :namespace) }\n-  scope :retried_ordered, -\u003e { retried.ordered.includes(project: :namespace) }\n+  scope :retried_ordered, -\u003e { retried.order(name: :asc, id: :desc).includes(project: :namespace) }\n   scope :ordered_by_pipeline, -\u003e { order(pipeline_id: :asc) }\n   scope :before_stage, -\u003e (index) { where('stage_idx \u003c ?', index) }\n   scope :for_stage, -\u003e (index) { where(stage_idx: index) }\n```","state":"closed","created_at":"2021-03-24T09:04:19.193Z","updated_at":"2021-11-10T14:15:25.770Z","closed_at":"2021-11-10T14:15:25.084Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["Category:Continuous Integration","Community contribution","UX","backend","devops::verify","feature::enhancement","good for new contributors","group::pipeline execution","onboarding","priority::4","section::ops","severity::4","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":6265352,"username":"edith007","name":"Siddharth Asthana","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6265352/avatar.png","web_url":"https://gitlab.com/edith007"}],"author":{"id":5749573,"username":"Woodz1","name":"Richard Wise","state":"active","avatar_url":"https://secure.gravatar.com/avatar/07b22240e5339c47e32266bf21428f2a?s=80\u0026d=identicon","web_url":"https://gitlab.com/Woodz1"},"type":"ISSUE","assignee":{"id":6265352,"username":"edith007","name":"Siddharth Asthana","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6265352/avatar.png","web_url":"https://gitlab.com/edith007"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325804","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325804","notes":"https://gitlab.com/api/v4/projects/278964/issues/325804/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325804/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325804","relative":"#325804","full":"gitlab-org/gitlab#325804"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81543600,"iid":325799,"project_id":278964,"title":"Document fallback values from Usage Ping","description":"We currently have as fallback values\n\n- `-1` Timeouts, general failures https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/utils/usage_data.rb#L41\n- `-1000` Deprecated metrics https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data.rb#L15 \n- `-2` `DISTRIBUTED_HLL_FALLBACK` https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/utils/usage_data.rb#L43\n\nAdd documentation for this values in Usage Ping Guide","state":"closed","created_at":"2021-03-24T08:15:30.841Z","updated_at":"2021-03-26T05:30:24.805Z","closed_at":"2021-03-26T05:30:24.756Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["devops::growth","group::product intelligence","milestone::p2"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325799","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325799","notes":"https://gitlab.com/api/v4/projects/278964/issues/325799/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325799/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325799","relative":"#325799","full":"gitlab-org/gitlab#325799"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5157,"epic":{"id":177895,"iid":5157,"title":"Usage Ping Maintenance FY22-Q1","url":"/groups/gitlab-org/-/epics/5157","group_id":9970,"human_readable_end_date":"Apr 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81541298,"iid":325795,"project_id":278964,"title":"[Feature flag] Admin level DevOps Adoption Enable devops_adoption_feature (Take 2)","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nMake the `:devops_adoption_feature` feature flag enabled by default.\n\nThe flag was previously removed https://gitlab.com/gitlab-org/gitlab/-/issues/271568 but had to be reintroduced due to a shift in focus of the feature from segments to groups.\n\n## Owners\n\n- Team: ~\"group::optimize\" \n- Most appropriate slack channel to reach out to: `#g_manage_optimize`\n- Best individual to reach out to: @blabuschagne @pshutsin \n\n## Expectations\n\n### What are we expecting to happen?\n\nThe Devops Adoption tab should be displayed on the admin devops report page. The tab should include a table with devops adoption data.\n\n| Before | After (first tab) |\n| ------ | ------ |\n| ![Screenshot_2020-10-23_at_14.46.51](/uploads/6fe40249306b074cc9d72dc52ea10d06/Screenshot_2020-10-23_at_14.46.51.png) | ![Screenshot_2020-10-23_at_14.46.27](/uploads/2c628464918f24d391f2369442b0bc26/Screenshot_2020-10-23_at_14.46.27.png) |\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n/chatops run feature list --match devops\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set devops_adoption_feature true --staging`)\n- [x] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [ ] If it is possible to perform an incremental rollout, this should be preferred. Proposed increments are: `10%`, `50%`, `100%`. Proposed minimum time between increments is 15 minutes.\n- [ ] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com. **Note**: Once a feature rollout has started, it is not necessary to inform `@sre-oncall`/`@release-managers` at each stage of the gradual rollout.\n- [ ] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry. Ensure that the feature flag definition YAML file has been removed in the **same MR** that is removing the feature flag from the code\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab devops_adoption_feature false\n```","state":"closed","created_at":"2021-03-24T07:33:13.099Z","updated_at":"2021-08-01T08:02:41.354Z","closed_at":"2021-05-31T13:04:17.938Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["GitLab Ultimate","devops::manage","feature flag","group::optimize","release post item","section::dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325795","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325795","notes":"https://gitlab.com/api/v4/projects/278964/issues/325795/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325795/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325795","relative":"#325795","full":"gitlab-org/gitlab#325795"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5251,"epic":{"id":185625,"iid":5251,"title":"Modify DevOps Adoption to focus on groups rather than segments","url":"/groups/gitlab-org/-/epics/5251","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81541187,"iid":325794,"project_id":278964,"title":"Update positioning code to support edge cases","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48120 we created a new table `boards_epic_board_positions`. We didn't add any data there and we should make sure that the positioning of epics in epic boards still works.\n\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/247867, it was mentioned that we would just do a `LEFT JOIN` and then order by nulls last.\n\nThe problem here is with setting positions when an Epic is dragged. For example we currently have a list of Epics with the following positions:\n\n```\n1 5 10 NULL NULL NULL NULL NULL\n```\n\nAnd we want to add a new issue between the last 2 NULLs. To do that, we need to also set the positions of all epics before the last NULL.\n\nOur current relative positioning code does not handle this case. You would probably have to call `move_nulls_to_end` on the objects that appear before the position we want to insert. That is why for issue boards we ensure that there are no nulls when the board is loaded.\n\nAlso, another edge case is when an epic disappears from the board because a label is changed, etc.. The position record would still remain. But I think that's fine and also useful if the user adds it back to the board.","state":"closed","created_at":"2021-03-24T07:29:53.055Z","updated_at":"2021-11-08T16:50:48.198Z","closed_at":"2021-06-15T12:37:40.953Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Category:Portfolio Management","Category:Team Planning","GitLab Premium","GitLab Ultimate","[deprecated] Accepting merge requests","backend","boards","database","devops::plan","epics","group::product planning","missed:13.11","missed:13.12","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":null,"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325794","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325794","notes":"https://gitlab.com/api/v4/projects/278964/issues/325794/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325794/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325794","relative":"#325794","full":"gitlab-org/gitlab#325794"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81525656,"iid":325778,"project_id":278964,"title":"Moving issue to board list of different type should not remove it from previous list","description":"In boards_store we have [a bunch of checks](https://gitlab.com/gitlab-org/gitlab/-/blob/fa36ced136f3a194bd0bb7add0869ce8ea1553c5/app/assets/javascripts/boards/stores/boards_store.js#L167) for the ListType the issue was moved from to determine if it should be cloned or moved. For example, if moving from Milestone list to a Label list, the Milestone should not be removed.","state":"closed","created_at":"2021-03-23T23:24:28.088Z","updated_at":"2021-11-08T16:07:06.345Z","closed_at":"2021-05-11T10:29:11.429Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["Category:Team Planning","boards","devops::plan","feature flag","frontend","group::product planning","section::dev","type::bug","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325778","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325778","notes":"https://gitlab.com/api/v4/projects/278964/issues/325778/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325778/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325778","relative":"#325778","full":"gitlab-org/gitlab#325778"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81524899,"iid":325774,"project_id":278964,"title":"Improve Snowplow Frontend docs","description":"We need to work on the [Implementing Snowplow JS (Frontend) tracking](https://docs.gitlab.com/ee/development/snowplow.html#implementing-snowplow-js-frontend-tracking) section in our docs.\n\n- Add a \"Which tracking method should I use\" section before the implementation details\n- Add several examples based on [usage patterns](https://gitlab.com/gitlab-org/gitlab/-/issues/321578)\n- Move the \"Tests and test helpers\" section right next to the Vue implementation details.\n- Remove the Karma test example (related epic: https://gitlab.com/groups/gitlab-org/-/epics/4900)\n- Add an example of a Raw JS test\n- Add an example of a data-attributes test\n- Sisense Discovery examples: how a new event will appear, and how the GitLab standard context could be used\n\n/cc @gitlab-org/growth/product-intelligence/engineers","state":"closed","created_at":"2021-03-23T22:46:50.081Z","updated_at":"2021-04-19T15:32:21.854Z","closed_at":"2021-04-19T15:32:21.761Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["Technical Writing","devops::growth","docs::improvement","documentation","group::product intelligence","section::growth"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325774","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325774","notes":"https://gitlab.com/api/v4/projects/278964/issues/325774/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325774/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325774","relative":"#325774","full":"gitlab-org/gitlab#325774"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5218,"epic":{"id":183240,"iid":5218,"title":"Standardize Snowplow Schema","url":"/groups/gitlab-org/-/epics/5218","group_id":9970,"human_readable_end_date":"Apr 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81524503,"iid":325773,"project_id":278964,"title":"Use standard analyzer behaviour in Container Scanning","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nWe want all GitLab analyzers to have consistent behaviour. This issue addresses changes in the [container scanning analyzer](https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning).\n\nThis is detailed in the [proposal in the parent epic](https://gitlab.com/groups/gitlab-org/-/epics/5334#proposal).\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/324634)\n- [Acceptance criteria for Container Scanning](https://gitlab.com/groups/gitlab-org/-/epics/5334#protect-container-scanning)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation\n  - [ ] Link your users doc to new section in application_security section (https://gitlab.com/gitlab-org/gitlab/blob/master/doc/user/application_security/container_scanning/index.md)\n  - [ ] Review [blog post](gitlab-com/www-gitlab-com!73975)\n- [ ] Testing:\n\n\n## Implementation plan\n\nSteps to achieve https://gitlab.com/groups/gitlab-org/-/epics/5334#protect-container-scanning\n\n### Protect - Container Scanning (from \u00265334)\n\n* [ ] Success means no failure (all analyzers)\n  - [ ] ~backend double check in https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/blob/master/lib/gcs/cli.rb#L23 that we return `0` exit code when there is no failure and there are no findings,\n  - [ ] ~backend prepare https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/blob/master/lib/gcs/cli.rb#L23 to check if there are any findings and to return different exit code in that case,\n* [ ] Add exit codes (at least `Job succeeded and there were findings`)\n  -  | Orchestrator Exit Code | Description                      | Places to add this Exit Code | \n     |------------------------|----------------------------------|------------------------------|\n     | 3                      | No match, no compatible analyzer | ? | \n     | 4                      | Project directory empty          | ? |\n     | 5                      | No compatible Docker image       | https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/blob/master/lib/gcs/vulnerability.rb#L72, https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/blob/master/lib/gcs/environment.rb#L55, https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/blob/master/lib/gcs/environment.rb#L61, https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/blob/master/lib/gcs/environment.rb#L35 |\n     | 6                       | Job succeeded and there were findings | https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/blob/master/lib/gcs/cli.rb#L23 |\n* [ ] Change template \u0026 ADO to default to allow failure for 'Job succeeded and there were findings\\`\n  - ~backend ensure that https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/ci/templates/Security/Container-Scanning.gitlab-ci.yml#L47 is set to all failure for `Job succeeded and there were findings` (add `allow_failure:` with `exit_codes: 6`)\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\n--\u003e","state":"closed","created_at":"2021-03-23T22:27:54.673Z","updated_at":"2021-05-04T14:18:01.367Z","closed_at":"2021-04-08T20:36:37.105Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["[deprecated] Accepting merge requests","backend","devops::govern","documentation","group::security policies","section::sec","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325773","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325773","notes":"https://gitlab.com/api/v4/projects/278964/issues/325773/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325773/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325773","relative":"#325773","full":"gitlab-org/gitlab#325773"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5334,"epic":{"id":195873,"iid":5334,"title":"Consistency in default behaviour of AST scanners and jobs","url":"/groups/gitlab-org/-/epics/5334","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81519510,"iid":325756,"project_id":278964,"title":"Update lockbox gem before Rails 6.1","description":"We use the `lockbox` gem for the `Terraform::StateUploader` and the latest versions have some fixes for Active Record 6.1 (https://github.com/ankane/lockbox/blob/master/CHANGELOG.md), so we should update to `~\u003e 0.6.2` sometime before Rails 6.1.\n\nRelates to \u00265837 (formerly gitlab#295277)","state":"closed","created_at":"2021-03-23T20:05:11.848Z","updated_at":"2021-05-03T12:55:05.838Z","closed_at":"2021-04-29T21:15:33.084Z","closed_by":{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"},"labels":["devops::configure","group::configure","section::ops"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"}],"author":{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"},"type":"ISSUE","assignee":{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325756","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325756","notes":"https://gitlab.com/api/v4/projects/278964/issues/325756/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325756/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325756","relative":"#325756","full":"gitlab-org/gitlab#325756"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5837,"epic":{"id":255779,"iid":5837,"title":"Upgrade to Rails 6.1","url":"/groups/gitlab-org/-/epics/5837","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81513157,"iid":325746,"project_id":278964,"title":"Create `extra` property in standard context","description":"Part of the Snowplow standardization effort involves reducing the number of custom iglu schemas being used. These custom schemas are typically used when we want to send additional data along with an event.\n\nAs an alternative to creating/sending a custom context, we can add an `extra` field to `gitlab_standard`. This field will be an object where we can add any key-value pairs that are specific to an event.","state":"closed","created_at":"2021-03-23T17:28:02.480Z","updated_at":"2021-04-09T15:46:04.148Z","closed_at":"2021-04-09T14:33:55.898Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["devops::growth","group::product intelligence","section::growth","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325746","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325746","notes":"https://gitlab.com/api/v4/projects/278964/issues/325746/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325746/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325746","relative":"#325746","full":"gitlab-org/gitlab#325746"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5218,"epic":{"id":183240,"iid":5218,"title":"Standardize Snowplow Schema","url":"/groups/gitlab-org/-/epics/5218","group_id":9970,"human_readable_end_date":"Apr 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81510726,"iid":325742,"project_id":278964,"title":"Remove expensive zero-issue count from Group Issue List","description":"## Summary\n\nVisiting a group issues list, such as https://gitlab.com/groups/gitlab-org/-/issues, performs an expensive count of all issues just to check if an empty state should be shown. This takes a 1000ms or more for `gitlab-org`.\n\nThis count is repeated for the issue numbers in Open/Closed/All tabs.\n\n![image](/uploads/fb5f29d214f9939cf9fb186c0798afb6/image.png)\n\nThe code doing this check [app/views/groups/issues.html.haml#L8](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/groups/issues.html.haml#L8):\n\n```haml\n- if group_issues_count(state: 'all') == 0\n  = render 'shared/empty_states/issues', project_select_button: true\n- else\n  .top-area\n    = render 'shared/issuable/nav', type: :issues\n```\n\n@egrieff discovered this as part of her investigation into cacheable issue counts https://gitlab.com/gitlab-org/gitlab/-/issues/243753.\n\n### Proposal\n\n- [ ] Reuse a single count for both the tabs and the empty state check.\n- [ ] Consider caching this count, or reusing the sidebar cache number.","state":"closed","created_at":"2021-03-23T16:49:54.482Z","updated_at":"2021-11-08T15:59:29.878Z","closed_at":"2021-04-13T14:31:12.404Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Category:Issue Tracking","Category:Team Planning","backend","bug::performance","devops::plan","group::product planning","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325742","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325742","notes":"https://gitlab.com/api/v4/projects/278964/issues/325742/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325742/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325742","relative":"#325742","full":"gitlab-org/gitlab#325742"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81510596,"iid":325741,"project_id":278964,"title":"Add a toolbar to support rich text editing operations","description":"## Goal\n\n- [x] Implement a basic toolbar in the top of the editor. \n- [ ] Add contextual toolbar for in-context editing. \n\n## Implementation notes\n\nWe need designs for this first but in the prototype phase we can build on the existing design of the markdown toolbar. Depending on how we go about this, we may not have a main toolbar at all and always have it contextual (like Medium and Tumblr).","state":"closed","created_at":"2021-03-23T16:47:56.306Z","updated_at":"2021-05-18T07:06:39.002Z","closed_at":"2021-04-20T18:23:08.622Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Category:Wiki","Deliverable","UX","devops::create","direction","frontend","group::editor","section::dev","type::feature"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325741","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325741","notes":"https://gitlab.com/api/v4/projects/278964/issues/325741/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325741/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325741","relative":"#325741","full":"gitlab-org/gitlab#325741"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5643,"epic":{"id":229786,"iid":5643,"title":"Create:Editor -- 13.11 - 14.0 -- Add Content Editor on Wiki Page","url":"/groups/gitlab-org/-/epics/5643","group_id":9970,"human_readable_end_date":"May 14, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81509860,"iid":325735,"project_id":278964,"title":"Add support for commonmark in Content Editor","description":"## Goal\n\nAdd support for all Commonmark operations in the Content Editor. Commonmark supports the following Content Types\n\n| Content Type                    |\n|---------------------------------|\n| Paragraph                       | \n| Heading                         |\n| ThematicBreak                   |\n| Blockquote                      | \n| BulletList                      |\n| OrderedList                     | \n| ListItem                        |\n| Link definitions and references |\n| Link                            |\n| Image                           | \n| Code                            |\n| Text                            |\n| Emphasis                        |\n| Strong                          | \n| InlineCode                      |\n\n\n### Implementation details \n\n- [ ] Set up TipTap extensions in the Content Editor to support the listed above\n- [ ] Write Markdown processing tests to ensure that the Content Editor can process the Markdown API output for each content type and can generate the original Markdown.","state":"closed","created_at":"2021-03-23T16:35:20.052Z","updated_at":"2021-04-18T07:06:40.122Z","closed_at":"2021-04-13T13:25:15.893Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Deliverable","devops::create","direction","group::editor","section::dev","type::feature"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325735","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325735","notes":"https://gitlab.com/api/v4/projects/278964/issues/325735/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325735/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325735","relative":"#325735","full":"gitlab-org/gitlab#325735"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5643,"epic":{"id":229786,"iid":5643,"title":"Create:Editor -- 13.11 - 14.0 -- Add Content Editor on Wiki Page","url":"/groups/gitlab-org/-/epics/5643","group_id":9970,"human_readable_end_date":"May 14, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81507575,"iid":325728,"project_id":278964,"title":"Follow-up from \"Do not close modal when there are error messages\"","description":"The following discussion from !56893 should be addressed:\n\n- [ ] @svedova started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56893#note_535168067):  (+1 comment)\n\n    \u003e @andyvolpe since this is a ~UX bug, would you like to give it a try before it gets merged?\n\n### Background \n\nThe current error is not using the Gl-alert component. \n\n### Solution \n\nUpdate error component to use Gl-alert. \n\n- Variant = Danger\n- Dismissable = False\n\n### Implementation plan\n\n- [ ] ~frontend Replace https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/vue_shared/security_reports/components/modal.vue#L255 with a `GlAlert` component using the props given above.","state":"closed","created_at":"2021-03-23T16:12:47.620Z","updated_at":"2021-09-18T05:12:42.031Z","closed_at":"2021-09-18T05:12:42.014Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["Category:Vulnerability Management","UX","UX debt","devops::secure","follow-up","frontend","good for new contributors","group::threat insights","section::sec","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325728","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325728","notes":"https://gitlab.com/api/v4/projects/278964/issues/325728/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325728/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325728","relative":"#325728","full":"gitlab-org/gitlab#325728"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81504731,"iid":325716,"project_id":278964,"title":"Solution validation for: Revisit the Kubernetes cluster UX after the Agent is released","description":"\u003c!--Please answer the below questions to the best of your ability.--\u003e\n\n#### What's this issue all about? (Background and context)\n\nWe are redesigning the Kubernetes homepage to include both Agents and cluster integrations in a single page. We are also working on the language we use for GitLab's Kubernetes management in the UI and in the docs (hopefully we can collaborate with Marketing as well to ensure consistency across all channels).\n\n#### What hypotheses and/or assumptions do you have?\n\n- That the user mental modal is that both installing an Agent on a cluster and connecting a cluster with its API certificate are ways to integrate your cluster to GitLab and not regarded in a different way.\n- That users want to have a view of all their Kubernetes integrations.\n- That most users would use both types of integrations and, hence, a combined view would have a purpose.\n- That the right way to speak about Kubernetes management in our UI and docs is by referring to them as Kubernetes integrations.\n- That the right way to speak about the GitLab Agent is by referring to it as \"Kubernetes integration with Agent\" and that the right way to speak about connecting a cluster with its API certificate is \"Certificate based Kubernetes integration\".\n\n#### What questions are you trying to answer?\n\n- Whether our hypotheses are correct.\n- What information do users expect to see in the Kubernetes landing page?\n- What design patterns are the most suitable for the Kubernetes landing page to accommodate the information the users want to see?\n\n#### What research methodology do you intend to use?\n\nRemote usability evaluation with usertesting.com.\n\n\u003c!-- What needs to be answered to move work forward? If you have a completed Opportunity Canvas include a link.--\u003e\n\n#### What persona, persona segment, or customer type experiences the problem most acutely?\n\n- [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/strategic-marketing/roles-personas/#allison-application-ops)\n- [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/strategic-marketing/roles-personas/#priyanka-platform-engineer)\n- [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/strategic-marketing/roles-personas/#sidney-systems-administrator)\nand maybe [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/strategic-marketing/roles-personas/#sasha-software-developer)\n\n#### What business decisions will be made based on this information?\n\nHow we speak about Kubernetes.\n\n#### What, if any, relevant prior research already exists?\n\n\u003c!-- Have a look at our UXR_Insights repo: https://gitlab.com/gitlab-org/uxr_insights --\u003e\n\n#### Who will be leading the research?\n\nTBD\n\n#### What timescales do you have in mind for the research?\n\nMilestone 14.0 onwards\n\n#### Relevant links (problem validation issue, design issue, script, prototype, notes, etc.)\nDesign issue:  https://gitlab.com/gitlab-org/gitlab/-/issues/254998/\n\n#### Tasks\n- [x] Finalise the design and choose which designs we want to test\n- [ ] Create usability study in usertesting.com \n- [ ] Recruit participants (not sure it's needed)\n- [ ] Publish research","state":"closed","created_at":"2021-03-23T15:27:47.812Z","updated_at":"2022-04-27T09:42:37.604Z","closed_at":"2022-04-27T09:42:37.586Z","closed_by":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"labels":["Category:Kubernetes Management","UX","UX research","[deprecated] Accepting merge requests","candidate::14.1","configure::backlog","devops::configure","group::configure","section::ops","workflow::solution validation"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4419304,"username":"mvrachni","name":"Maria Vrachni","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4419304/avatar.png","web_url":"https://gitlab.com/mvrachni"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325716","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":1},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325716","notes":"https://gitlab.com/api/v4/projects/278964/issues/325716/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325716/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325716","relative":"#325716","full":"gitlab-org/gitlab#325716"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81504158,"iid":325712,"project_id":278964,"title":"Enterprise Users - Distinguish enterprise from regular users at group level","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nWe implemented https://gitlab.com/gitlab-org/gitlab/-/issues/283935 and https://gitlab.com/gitlab-org/gitlab/-/issues/268142 which captures users that were created by SAML/SCIM and gives group admins access to those accounts. However, this information is not visible in the UI.\n\n### Proposal \n\nShow which users were provisioned by the group. For an MVC, we can show this as a label in the member's list for all groups, subgroups and projects that roll up to the group the user was provisioned in. It is OK to show this information to any user role that can see the members list. If a user is a member of other groups/projects that don't roll up to the group the user is provisioned by, we should not show it there.\n\nIn the future, we should also show this information in the [users list](https://gitlab.com/gitlab-org/gitlab/-/issues/300184) once it is built out.\n\n\n### Implementation plan\n\n* Expose `provisioned_by_this_group?` in [ee/app/serializers/ee/member_entity.rb](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/serializers/ee/member_entity.rb). This will automatically be passed to the ~frontend\n* Update [ee/spec/serializers/member_entity_spec.rb](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/serializers/member_entity_spec.rb)\n* In [ee/app/assets/javascripts/members/utils.js#L13](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/members/utils.js#L13) add a badge:\n\n```javascript\n{\n  show: member.provisionedByThisGroup,\n  text: __('Enterprise'),\n  variant: 'info',\n},\n```\n\n* Update [ee/spec/frontend/members/utils_spec.js](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/frontend/members/utils_spec.js)\n* Add a section in [SCIM provisioning using SAML SSO for GitLab.com groups docs](https://docs.gitlab.com/ee/user/group/saml_sso/scim_setup.html) that shows a screenshot of a member with the badge and explains what it means.\n\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e","state":"closed","created_at":"2021-03-23T15:18:54.947Z","updated_at":"2022-04-18T19:23:52.682Z","closed_at":"2021-06-15T17:14:48.665Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["GitLab Core","GitLab Premium","GitLab Ultimate","Technical Writing","UI text","devops::manage","frontend","group::authentication and authorization","milestone::p2","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":48,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325712","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325712","notes":"https://gitlab.com/api/v4/projects/278964/issues/325712/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325712/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325712","relative":"#325712","full":"gitlab-org/gitlab#325712"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4786,"epic":{"id":137332,"iid":4786,"title":"Enterprise Users","url":"/groups/gitlab-org/-/epics/4786","group_id":9970},"iteration":null,"health_status":null},{"id":81502848,"iid":325705,"project_id":278964,"title":"Migrate comments from Vulnerabilities::Feedback to Vulnerabilities::StateTransition","description":"## Why are we doing this work\n\nIn order to retain comments in the Vulnerabilities::Feedback models we need to migrate them to the new `Vulnerabilities::StateTransition` model\n\n## Implementation plan\n\n1. ~database Create a background migration to keep comments from `vulnerability_feedback` as entries in `vulnerability_state_transitions` table","state":"closed","created_at":"2021-03-23T14:59:28.466Z","updated_at":"2022-09-27T03:57:43.325Z","closed_at":"2022-09-23T00:14:16.577Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","backend","devops::govern","group::threat insights","maintenance::refactor","missed:15.4","quad-planning::complete-no-action","section::sec","type::maintenance","workflow::in dev"],"milestone":null,"assignees":[{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"}],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325705","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325705","notes":"https://gitlab.com/api/v4/projects/278964/issues/325705/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325705/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325705","relative":"#325705","full":"gitlab-org/gitlab#325705"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5629,"epic":{"id":228751,"iid":5629,"title":"Deprecate and remove Vulnerabilities::Feedback","url":"/groups/gitlab-org/-/epics/5629","group_id":9970},"iteration":null,"health_status":null},{"id":81502246,"iid":325701,"project_id":278964,"title":"Update GraphQL mutations to create `Vulnerabilities::StateTransition` entries","description":"## Why are we doing this work?\n\nAfter creating `Vulnerabilities::StateTransition` model we need to make sure our existing mutations create entries when modifying the Vulnerability state.\n\n## Implementation plan\n\n* Extend the following mutations so that they create `Vulnerabilities::StateTransition` objects\n  * `Mutations::Vulnerabilities::Confirm` (`ee/app/graphql/mutations/vulnerabilities/confirm.rb`)\n  * `Mutations::Vulnerabilities::Dismiss` (`ee/app/graphql/mutations/vulnerabilities/dismiss.rb`)\n  * `Mutations::Vulnerabilities::Resolve` (`ee/app/graphql/mutations/vulnerabilities/resolve.rb`)\n  * `Mutations::Vulnerabilities::RevertToDetected` (`ee/app/graphql/mutations/vulnerabilities/revert_to_detected.rb`)\n\n## Testing\n\n- [ ] Ensure test coverage with unit testing","state":"closed","created_at":"2021-03-23T14:51:14.938Z","updated_at":"2022-08-16T08:32:30.905Z","closed_at":"2022-08-10T23:33:31.197Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","[deprecated] Accepting merge requests","backend","devops::secure","group::threat insights","maintenance::refactor","quad-planning::complete-action","section::sec","type::maintenance","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325701","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":2,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325701","notes":"https://gitlab.com/api/v4/projects/278964/issues/325701/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325701/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325701","relative":"#325701","full":"gitlab-org/gitlab#325701"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5629,"epic":{"id":228751,"iid":5629,"title":"Deprecate and remove Vulnerabilities::Feedback","url":"/groups/gitlab-org/-/epics/5629","group_id":9970},"iteration":null,"health_status":null},{"id":81501673,"iid":325700,"project_id":278964,"title":"Create Vulnerabilities::StateTransition model","description":"## Why are we doing this work?\n\nWe need to introduce `VulnerabilityStateTransition` model which will be responsible for storing state transitions of a Vulnerability. This will allow us to:\n\n* Deprecate and remove `Vulnerabilities::Feedback` model\n* Drop `vulnerability_feedbacks` table\n* [Add comments to all state transitions](https://gitlab.com/gitlab-org/gitlab/-/issues/292636#note_519561153)\n* Not [immediately on the horizon](https://gitlab.com/gitlab-org/gitlab/-/issues/292636#note_521650090) but we would be able to quickly build an audit trail for Vulnerability state changes\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/292636#note_516669807 for details why the current architecture is not good enough.\n\n## Implementation plan\n\n* ~database Create a migration to create `vulnerability_state_transitions` with\n  * `id:primary_key`\n  * `from_state:integer` - reflecting `EE::Vulnerability.state` enum\n  * `to_state:integer` - reflecting `EE::Vulnerability.state` enum\n  * `vulnerability_id:references`\n* ~backend Create `Vulnerabilities::StateTransition` model","state":"closed","created_at":"2021-03-23T14:44:18.940Z","updated_at":"2022-08-02T20:36:16.901Z","closed_at":"2022-06-03T13:30:10.418Z","closed_by":{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"},"labels":["Category:Vulnerability Management","backend","devops::secure","group::threat insights","maintenance::refactor","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"}],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325700","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325700","notes":"https://gitlab.com/api/v4/projects/278964/issues/325700/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325700/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325700","relative":"#325700","full":"gitlab-org/gitlab#325700"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5629,"epic":{"id":228751,"iid":5629,"title":"Deprecate and remove Vulnerabilities::Feedback","url":"/groups/gitlab-org/-/epics/5629","group_id":9970},"iteration":null,"health_status":null},{"id":81498835,"iid":325695,"project_id":278964,"title":"[Feature flag] Enable deprecation of Vulnerabilities::Feedback model","description":"\u003c!-- Title suggestion:  --\u003e\n\n## What\n\nRemove the `:deprecate_vulnerabilities_feedback_model` feature flag\n\n## Owners\n\n- Team: Threat Insights\n- Most appropriate slack channel to reach out to: `#g_secure_threat_insights`\n- Best individual to reach out to: Michał Zając (@Quintasan)\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe are expecting no Vulnerabilities::Feedback models being created.\n\n### What might happen if this goes wrong?\n\n* Exceptions\n* Dismissing Vulnerabilities will no longer work\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/threat-management/secure/threat-insights/backend`\n- `gitlab-org/threat-management/secure/threat-insights/frontend`\n\n## Roll Out Steps\n\n- [ ] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [ ] Test on staging\n- [ ] Ensure that documentation has been updated\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [ ] If it is possible to perform an incremental rollout, this should be preferred. Proposed increments are: `10%`, `50%`, `100%`. Proposed minimum time between increments is 15 minutes.\n- [ ] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com. **Note**: Once a feature rollout has started, it is not necessary to inform `@sre-oncall`/`@release-managers` at each stage of the gradual rollout.\n- [ ] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry. Ensure that the feature flag definition YAML file has been removed in the **same MR** that is removing the feature flag from the code\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-03-23T14:07:48.092Z","updated_at":"2022-11-20T22:21:55.768Z","closed_at":"2022-05-10T14:04:27.628Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","[deprecated] Accepting merge requests","backend","devops::secure","feature flag","group::threat insights","maintenance::refactor","section::sec","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325695","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325695","notes":"https://gitlab.com/api/v4/projects/278964/issues/325695/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325695/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325695","relative":"#325695","full":"gitlab-org/gitlab#325695"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5629,"epic":{"id":228751,"iid":5629,"title":"Deprecate and remove Vulnerabilities::Feedback","url":"/groups/gitlab-org/-/epics/5629","group_id":9970},"iteration":null,"health_status":null},{"id":81498024,"iid":325694,"project_id":278964,"title":"Create ManageViaMr component to enable Security features","description":"- [x] Create a `ManageViaMr` component that triggers a Gql mutation to enable Security features from the conf. page.\n  - [x] It should be configurable to accept specific sec. features (TBD) and trigger the corresponding mutation as a result.\n    - [x] `feature` prop: `String` to specify what feature we're dealing with. Should be one of the `REPORT_TYPE_*` constants found in `app/assets/javascripts/vue_shared/security_reports/constants.js`.\n    - [x] Internal map of features `feature` -\u003e `GraphQL mutation`.\n  - [x] It should redirect the user to the `successPath` provided in the mutation's response.\n  - [x] Emit an `error` event if the mutation errors-out (error should be handled by the parent, to be confirmed).\n\nSpecs:\n- [x] Mimic `manage_sast_spec.js`.\n  - [x] Triggers the right mutation depending on the provided `feature`.\n  - [x] Loading state.\n  - [x] Doesn't render anything when feature is enabled.\n  - [x] Emits an error.","state":"closed","created_at":"2021-03-23T13:56:20.882Z","updated_at":"2021-10-28T13:58:25.390Z","closed_at":"2021-04-01T13:56:29.574Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["devops::secure","frontend","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325694","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":11},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325694","notes":"https://gitlab.com/api/v4/projects/278964/issues/325694/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325694/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325694","relative":"#325694","full":"gitlab-org/gitlab#325694"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":81497423,"iid":325692,"project_id":278964,"title":"BulkImports: Reduce the Epic dependent pipelines code duplication","description":"## The problem to solve\n\nThe Epic dependent pipelines, currently `EpicEventsPipeline` and `EpicAwardEmojiPipeline`, has duplication on how to handle the epics navigation.\n\n## Proposal\n\n- Create a `BulkImports::EpicDependentPipeline` to handle how to move between epics (`initializer` and `after_run`)\n- Add a code document since this is not trivial, the following thread can be used as reference: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55928#note_535685411","state":"closed","created_at":"2021-03-23T13:48:16.005Z","updated_at":"2021-05-18T20:41:37.726Z","closed_at":"2021-04-08T14:43:34.315Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","backend","devops::manage","group::import","section::dev","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325692","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325692","notes":"https://gitlab.com/api/v4/projects/278964/issues/325692/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325692/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325692","relative":"#325692","full":"gitlab-org/gitlab#325692"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4931,"epic":{"id":145558,"iid":4931,"title":"GitLab Migration - Technical Improvements","url":"/groups/gitlab-org/-/epics/4931","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81496783,"iid":325691,"project_id":278964,"title":"Projects::MergeRequests::DiffsController#diff_for_path.json executes more than 100 SQL queries","description":"As of this writing (2021-03-23), the `Projects::MergeRequests::DiffsController#diff_for_path.json` action can execute around 552 SQL queries max.\n\n![Screen_Shot_2021-03-23_at_9.38.10_PM](/uploads/af804e610c3872fe0de98e156f5fa0d3/Screen_Shot_2021-03-23_at_9.38.10_PM.png)\n\nIn average though, it only takes \\~38 queries. This shows that there's a possible N+1 issue here.","state":"closed","created_at":"2021-03-23T13:39:50.542Z","updated_at":"2021-05-18T07:06:31.465Z","closed_at":"2021-05-15T22:26:51.559Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Deliverable","backend","bug::availability","bug::performance","devops::create","group::code review","missed-deliverable","priority::1","querylimiting-disable","section::dev","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-05-17","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325691","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325691","notes":"https://gitlab.com/api/v4/projects/278964/issues/325691/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325691/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325691","relative":"#325691","full":"gitlab-org/gitlab#325691"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5670,"epic":{"id":233212,"iid":5670,"title":"Database Frequency - Controllers that execute more than 100 SQL query calls","url":"/groups/gitlab-org/-/epics/5670","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81496538,"iid":325690,"project_id":278964,"title":"PUT /api/projects/:id/merge_requests/:noteable_id/notes/:note_id executes more than 100 SQL queries","description":"As of this writing (2021-03-23), the `PUT /api/projects/:id/merge_requests/:noteable_id/notes/:note_id` endpoint can execute around 147 SQL queries max.\n\n![Screen_Shot_2021-03-23_at_9.34.14_PM](/uploads/4dee0a50ef890004ec237f25fbb2dfb5/Screen_Shot_2021-03-23_at_9.34.14_PM.png)\n\nIn average though, it only takes ~45 queries. This shows that there's a possible N+1 issue here.","state":"closed","created_at":"2021-03-23T13:36:22.779Z","updated_at":"2022-11-22T19:46:43.294Z","closed_at":"2021-04-28T21:19:45.677Z","closed_by":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"labels":["Architecture decision","Category:Integrations","Deliverable","backend","bug::performance","database","devops::manage","group::ecosystem [DEPRECATED]","priority::2","querylimiting-disable","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325690","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325690","notes":"https://gitlab.com/api/v4/projects/278964/issues/325690/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325690/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325690","relative":"#325690","full":"gitlab-org/gitlab#325690"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5670,"epic":{"id":233212,"iid":5670,"title":"Database Frequency - Controllers that execute more than 100 SQL query calls","url":"/groups/gitlab-org/-/epics/5670","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81496311,"iid":325689,"project_id":278964,"title":"DELETE /api/projects/:id/merge_requests/:merge_request_iid executes more than 100 SQL queries","description":"As of this writing (2021-03-23), the `DELETE /api/projects/:id/merge_requests/:merge_request_iid` endpoint can execute around 236 SQL queries max.\n\n![Screen_Shot_2021-03-23_at_9.30.18_PM](/uploads/3cd13678dacb0f812f4946b034f5d9c6/Screen_Shot_2021-03-23_at_9.30.18_PM.png)\n\nIn average though, it only takes ~21 queries. This shows that there's a possible N+1 issue here.","state":"closed","created_at":"2021-03-23T13:33:05.596Z","updated_at":"2021-05-18T07:06:31.522Z","closed_at":"2021-05-17T15:12:49.751Z","closed_by":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"labels":["Architecture decision","Deliverable","backend","bug::availability","bug::performance","devops::create","group::code review","priority::1","querylimiting-disable","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-05-14","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325689","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325689","notes":"https://gitlab.com/api/v4/projects/278964/issues/325689/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325689/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325689","relative":"#325689","full":"gitlab-org/gitlab#325689"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5980,"epic":{"id":269035,"iid":5980,"title":"Improve Issuable::DeleteService performance further","url":"/groups/gitlab-org/-/epics/5980","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81492632,"iid":325685,"project_id":278964,"title":"/api/:version/projects/:id/merge_requests/:merge_request_iid/add_spent_time executes more than 100 SQL queries","description":"According to [this Kibana visualization](https://log.gprd.gitlab.net/app/visualize#/edit/89f9a6f0-8644-11eb-a990-d72c312ff8e9?_g=(filters%3A!()%2CrefreshInterval%3A(pause%3A!t%2Cvalue%3A0)%2Ctime%3A(from%3Anow-7d%2Cto%3Anow))), the `/api/:version/projects/:id/merge_requests/:merge_request_iid/add_spent_time` endpoint can execute around 132 SQL queries for that last 7 days as of this writing (2021-03-23).\n\n![Screen_Shot_2021-03-23_at_8.42.05_PM](/uploads/51eac9749c0a48566e68a4257cd4b02e/Screen_Shot_2021-03-23_at_8.42.05_PM.png)","state":"closed","created_at":"2021-03-23T12:47:34.261Z","updated_at":"2021-05-07T23:33:32.720Z","closed_at":"2021-05-07T23:33:32.490Z","closed_by":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"labels":["Architecture decision","[deprecated] Category:Provision","backend","bug::availability","bug::performance","database","devops::create","group::provision","missed:13.11","priority::2","querylimiting-disable","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-04-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325685","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325685","notes":"https://gitlab.com/api/v4/projects/278964/issues/325685/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325685/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325685","relative":"#325685","full":"gitlab-org/gitlab#325685"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5760,"epic":{"id":249877,"iid":5760,"title":"Improve MergeRequests::UpdateService performance further","url":"/groups/gitlab-org/-/epics/5760","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81490374,"iid":325679,"project_id":278964,"title":"Replace `writeData` with `writeQuery` in `app/assets/javascripts/static_site_editor/graphql/index.js`","description":"In order to migrate the codebase to Apollo Client 3, we need to replace a deprecated `writeData` method with `writeQuery` or `writeFragment`","state":"closed","created_at":"2021-03-23T12:14:28.038Z","updated_at":"2021-03-26T11:38:00.040Z","closed_at":"2021-03-26T11:37:59.986Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Category:Static Site Editor","GraphQL","frontend","group::editor","maintenance::dependency"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325679","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325679","notes":"https://gitlab.com/api/v4/projects/278964/issues/325679/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325679/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325679","relative":"#325679","full":"gitlab-org/gitlab#325679"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5674,"epic":{"id":233812,"iid":5674,"title":"Replace all writeData occurrences with writeQuery/writeFragment","url":"/groups/gitlab-org/-/epics/5674","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81481564,"iid":325659,"project_id":278964,"title":"Remove Service Templates from codebase","description":"### Description\n\nRemove Service Templates from the codebase, including the `disable_service_templates` feature flag (https://gitlab.com/gitlab-org/gitlab/-/issues/327436) created in https://gitlab.com/gitlab-org/gitlab/-/issues/326962.\n\nCode to remove (incomplete list):\n\n- [x] `Integration.for_template`\n- [x] `Integration.where(template: ...)`\n- [x] `Service.where(template: ...)`\n- [x] `spec/features/callouts/service_templates_deprecation_spec.rb`\n\nNotes on files to look at and searches to do\n- [x] `app/models/integration.rb`\n- [x] a global search for `service_template` revealed some other interesting portions of service_template code","state":"closed","created_at":"2021-03-23T10:21:43.143Z","updated_at":"2022-11-22T19:46:45.173Z","closed_at":"2021-08-09T08:46:46.227Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Category:Integrations","Community contribution","backend","devops::manage","group::integrations","maintenance::refactor","section::dev","type::maintenance"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":7333052,"username":"rukkykofi","name":"Oghenerukevwe Kofi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dceb5fa86ba02449837868fc9dc6808e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rukkykofi"}],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":{"id":7333052,"username":"rukkykofi","name":"Oghenerukevwe Kofi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dceb5fa86ba02449837868fc9dc6808e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rukkykofi"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325659","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325659","notes":"https://gitlab.com/api/v4/projects/278964/issues/325659/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325659/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325659","relative":"#325659","full":"gitlab-org/gitlab#325659"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5672,"epic":{"id":233591,"iid":5672,"title":"Deprecate and remove Service Templates feature","url":"/groups/gitlab-org/-/epics/5672","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81481348,"iid":325658,"project_id":278964,"title":"Migrate from Service Templates to Integration Management","description":"### Description\n\nWe have to migrate Service Templates to Instance-level Integration.\n\nIn order to do that, we can write a (post-)migration script to migrate the integration records from `template: true` to `instance: true`.\n\n**Question**: Do we need to propagate any value at this point?","state":"closed","created_at":"2021-03-23T10:19:10.365Z","updated_at":"2022-11-22T19:46:45.999Z","closed_at":"2021-04-01T00:25:32.740Z","closed_by":{"id":5022246,"username":"lvanc","name":"Libor Vanc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5022246/avatar.png","web_url":"https://gitlab.com/lvanc"},"labels":["[deprecated] Accepting merge requests","backend","database","devops::manage","group::ecosystem [DEPRECATED]","section::dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325658","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325658","notes":"https://gitlab.com/api/v4/projects/278964/issues/325658/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325658/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325658","relative":"#325658","full":"gitlab-org/gitlab#325658"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5672,"epic":{"id":233591,"iid":5672,"title":"Deprecate and remove Service Templates feature","url":"/groups/gitlab-org/-/epics/5672","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81480132,"iid":325656,"project_id":278964,"title":"Cache state counts for issuables list (no params)","description":"Getting counts query is frequently reported as top 15 in total time taken.\n\nPutting a cache here will help reducing the number of DB queries. The cache would be only used when filters are not present, so we only improve the performance of the initial page load.\n\nOriginal investigation issue: https://gitlab.com/gitlab-org/gitlab/-/issues/325472\n\n### Proposal\n\nHaving rounded numbers over a certain threshold so ideally we can re-use the same caching approach we use in the left panel. \nWe can cache\u0026round the count only if count\u003e1000, so for small projects this number would be still accurate, and we also ignore confidentiality/sub-groups access checks.\nShowing accurate count would be \"on-demand\" inside a tooltip\n\n![Screen_Shot_2021-05-20_at_10.18.06_AM](/uploads/c42f0196b6b9d428706f245ffdf2ba54/Screen_Shot_2021-05-20_at_10.18.06_AM.png)\n\n### Tasks\n\n1. - [ ] Refactor services that are being used for the sidebar counts so they include all states counts (currently they only include open issuables count).\n1. - [ ] Add the option to cache the counts (if no filters are present) in `OptimizedIssuableLabelFilter#count_by_state`.\n1. - [ ] Implement a tooltip for each tab that includes the precise count. This should only be present if the count was rounded. See example screenshot.","state":"closed","created_at":"2021-03-23T10:03:45.355Z","updated_at":"2021-09-17T08:51:08.289Z","closed_at":"2021-09-17T08:27:22.187Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["backend","bug::performance","database","devops::plan","frontend","group::project management","issues","reliability","section::dev","workflow::verification"],"milestone":null,"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325656","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325656","notes":"https://gitlab.com/api/v4/projects/278964/issues/325656/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325656/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325656","relative":"#325656","full":"gitlab-org/gitlab#325656"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81480036,"iid":325655,"project_id":278964,"title":"Limit count for issues list","description":"Getting counts query is frequently reported as top 15 in total time taken.\n\nFor large projects, getting the counts will be generally slower because the DB needs to scan more issues (rows). We could solve this is by counting maximum N rows (`LIMIT COUNT`) in the DB. For example: if the count is 1001, show 1000+ on the UI if the count is \u003c1001, show the actual count.\n\nOriginal investigation issue: https://gitlab.com/gitlab-org/gitlab/-/issues/325472","state":"closed","created_at":"2021-03-23T10:02:16.743Z","updated_at":"2021-04-13T14:32:34.633Z","closed_at":"2021-04-13T14:32:34.588Z","closed_by":{"id":3753003,"username":"cdu1","name":"Chun Du","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3753003/avatar.png","web_url":"https://gitlab.com/cdu1"},"labels":["Duplicate","backend","database","devops::plan","group::project management","issues","section::dev"],"milestone":null,"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325655","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325655","notes":"https://gitlab.com/api/v4/projects/278964/issues/325655/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325655/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325655","relative":"#325655","full":"gitlab-org/gitlab#325655"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5652,"epic":{"id":230613,"iid":5652,"title":"Prioritize -  Research Database queries for performance and frequency","url":"/groups/gitlab-org/-/epics/5652","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81468564,"iid":325642,"project_id":278964,"title":"Add \"Recent Deliveries\" to group webhooks UI","description":"### Problem to solve \n\n\"Recent Deliveries\" section shows webhook logs for system and project level webhooks but it is missing for group level webhooks.\n\n### Proposal\n\nAdd \"Recent Deliveries\" section for group-level webhooks to make them look consistent with other types of webhooks in UI.\n\nThis is shown when editing an existing webhook. `Settings \u003e Webhooks \u003e Edit an existing webhook`. See the design attachments for more details.\n\n### Further details\n\nThe history of group webhook execution is logged into the table `web_hook_logs`, so it is a matter of showing them in UI.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\nhttps://docs.gitlab.com/ee/user/project/integrations/webhooks.html#troubleshoot-webhooks\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-03-23T07:22:54.148Z","updated_at":"2022-11-24T18:22:49.955Z","closed_at":"2022-08-17T22:02:41.864Z","closed_by":{"id":4262215,"username":"anton","name":"Anton Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262215/avatar.png","web_url":"https://gitlab.com/anton"},"labels":["Category:Integrations","Category:Webhooks","GitLab Core","GitLab Premium","GitLab Ultimate","backend","customer","devops::manage","frontend","group::integrations","section::dev","severity::2","type::feature","workflow::scheduling"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4262215,"username":"anton","name":"Anton Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262215/avatar.png","web_url":"https://gitlab.com/anton"}],"author":{"id":1990167,"username":"atanayno","name":"Alexandr Tanayno","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1990167/avatar.png","web_url":"https://gitlab.com/atanayno"},"type":"ISSUE","assignee":{"id":4262215,"username":"anton","name":"Anton Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262215/avatar.png","web_url":"https://gitlab.com/anton"},"user_notes_count":24,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325642","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325642","notes":"https://gitlab.com/api/v4/projects/278964/issues/325642/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325642/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325642","relative":"#325642","full":"gitlab-org/gitlab#325642"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4526,"epic":{"id":119874,"iid":4526,"title":"WebHooks for Members, Projects, Groups","url":"/groups/gitlab-org/-/epics/4526","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81467401,"iid":325637,"project_id":278964,"title":"Ensure dropdown in MR comments are always contained within discussion area","description":"### Summary\n\nCurrently, dropdowns in MR comments are not contained within the discussion area.\n\nHere's a discussion for context: https://gitlab.com/gitlab-org/gitlab/-/issues/323848#note_527180266\n\n### Steps to reproduce\n\n1. Start a discussion on the MR changes tab.\n1. Click on the kebab menu (three dots).\n1. Notice the dropdown is not contained within the discussion area.\n\n### Example Project\n\nhttps://gitlab.com/jerasmus/jerasmus-test-project/-/merge_requests/30#note_526309348\n\n### What is the current *bug* behavior?\n\nThe dropdown is not contained within the discussion area.\n\n![before](https://gitlab.com/gitlab-org/gitlab/uploads/14782830b686e952c98e0f7951c88b0b/Screenshot_2021-03-09_at_10.04.39.png)\n\n### What is the expected *correct* behavior?\n\nThe dropdown should be contained within the discussion area.\n\n![after](https://gitlab.com/gitlab-org/gitlab/uploads/29e317b2201756724857f9b320008621/Screen_Shot_2021-03-10_at_8.29.02_am.png)\n\n### Possible fixes\n\nWe can add a CSS modifier to ensure the dropdown is contained within it's parent.","state":"closed","created_at":"2021-03-23T06:55:31.452Z","updated_at":"2022-04-04T03:03:25.320Z","closed_at":"2022-04-04T03:03:25.308Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Code Review Workflow","SUS::Impacting","Seeking community contributions","UX","[deprecated] Accepting merge requests","auto closed","devops::create","frontend","group::code review","priority::4","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325637","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325637","notes":"https://gitlab.com/api/v4/projects/278964/issues/325637/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325637/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325637","relative":"#325637","full":"gitlab-org/gitlab#325637"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81461864,"iid":325633,"project_id":278964,"title":"Remove the Modern Web Application vulnerability from Browserker Scans","description":"\n### Problem to solve \n\nBrowserker is intended to effectively scan modern JavaScript-based web applications. \n\nWhen running Browserker, the vulnerability `Modern Web Application` doesn't make sense. It recommends that the user uses the Ajax Spider which is not what DAST recommends.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Proposal\n\n- Disable rule `10109` for both Browserker and non-Browserker scans.\n\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What is the type of buyer?\n\n[Gold/Ultimate](https://about.gitlab.com/handbook/product/pricing/#three-tiers)\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-03-23T03:48:59.035Z","updated_at":"2021-04-20T04:56:47.026Z","closed_at":"2021-04-20T04:56:46.696Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["GitLab Ultimate","[deprecated] Accepting merge requests","dast::browserker","devops::secure","group::dynamic analysis","section::sec","type::feature"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325633","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325633","notes":"https://gitlab.com/api/v4/projects/278964/issues/325633/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325633/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/327184"},"references":{"short":"#325633","relative":"#325633","full":"gitlab-org/gitlab#325633"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81458361,"iid":325630,"project_id":278964,"title":"Make epic searchable by reaction emoji","description":"Epics being searchable by `my_reaction_emoji`, it should be made available as a search token on epics list.\n\n![Screenshot_from_2021-03-23_11-19-35](/uploads/5bb401c2b8d5cd1050bd004614451a79/Screenshot_from_2021-03-23_11-19-35.png)","state":"closed","created_at":"2021-03-23T01:22:57.624Z","updated_at":"2021-11-08T16:50:49.634Z","closed_at":"2021-04-09T00:43:03.258Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Category:Portfolio Management","backend","devops::plan","documentation","epics","feature::addition","frontend","group::product planning","section::dev","type::feature","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325630","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325630","notes":"https://gitlab.com/api/v4/projects/278964/issues/325630/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325630/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325630","relative":"#325630","full":"gitlab-org/gitlab#325630"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81456378,"iid":325623,"project_id":278964,"title":"Split up the int column conversion helpers","description":"This is the final step of the initial MVC that will enable using the [new background migrations architecture](https://gitlab.com/groups/gitlab-org/-/epics/5654) for primary key conversions.\n\nWe'll update the migration helper that we use to kickoff an `integer` to `bigint` column conversion (introduced with gitlab-org/gitlab#292841) to make use of the new background migrations helpers. We'll split it into two separate methods that will be called as two independent steps.\n\nThe existing method (and first step) `initialize_conversion_of_integer_to_bigint` will add the new temporary bigint column, and install the triggers to keep the column in sync with the existing column.\n\nThe new method (and second step) `backfill_conversion_of_integer_to_bigint` will create the `batched_background_migration` record that will be used to run the backfill of the temporary column.\n\nKeeping this as two steps allows the schema changes to be made in a pre-deployment migration, while the background migration can be added in a post-deployment migration.\n\nWe'll also update the helpers to enable running the background migrations inline (e.g. in a test/dev environment).\n\nRelated MR: gitlab-org/gitlab!56788\n\nPrevious issues: gitlab-org/gitlab#325621, gitlab-org/gitlab#325622\n\nFollow-up issue: [Convert events.id to bigint - Step 1: Add new columns and sync data](https://gitlab.com/gitlab-org/gitlab/-/issues/288004)","state":"closed","created_at":"2021-03-22T23:59:23.854Z","updated_at":"2022-02-02T22:28:10.512Z","closed_at":"2021-03-26T13:34:15.748Z","closed_by":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"labels":["Category:Database","Deliverable","Engineering Allocation","database","devops::systems","section::enablement","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325623","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325623","notes":"https://gitlab.com/api/v4/projects/278964/issues/325623/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325623/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325623","relative":"#325623","full":"gitlab-org/gitlab#325623"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5654,"epic":{"id":231455,"iid":5654,"title":"Improve background migrations for primary key conversions","url":"/groups/gitlab-org/-/epics/5654","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81456346,"iid":325622,"project_id":278964,"title":"Add migration helper for queuing batched background migrations","description":"With gitlab-org/gitlab!55872, we introduced a new dynamic method of scheduling background migrations that batch over a table. \n\nThis issue adds a new migration helper `queue_batched_background_migration` that can be used to kickoff a batched migration, by creating the tracking record in the database. It will be used by the `backfill_conversion_of_integer_to_bigint` method used in the `events` conversion.\n\nExample migration using the new migration helper:\n\n```ruby\nclass ConvertEventsIdColumnToBigint \u003c ActiveRecord::Migration[6.0]\n  include Gitlab::Database::MigrationHelpers\n\n  DOWNTIME = false\n  JOB_CLASS_NAME = 'CopyColumnUsingBackgroundMigrationJob'\n\n  def up\n    queue_batched_background_migration JOB_CLASS_NAME, :events, :id, 'id', 'id_convert_to_bigint',\n      job_interval: 2.minutes, batch_size: 100, sub_batch_size: 25\n  end\n\n  def down\n    # For now, we would manually abort the appropriate migration records\n  end\nend\n```\n\nRelated MR: gitlab-org/gitlab!55872\n\nFollow-up issue: gitlab-org/gitlab#325623","state":"closed","created_at":"2021-03-22T23:57:24.628Z","updated_at":"2021-04-20T03:36:29.970Z","closed_at":"2021-03-22T23:59:50.553Z","closed_by":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"labels":["Category:Database","Engineering Allocation","database","devops::systems","section::enablement"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325622","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325622","notes":"https://gitlab.com/api/v4/projects/278964/issues/325622/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325622/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325622","relative":"#325622","full":"gitlab-org/gitlab#325622"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5654,"epic":{"id":231455,"iid":5654,"title":"Improve background migrations for primary key conversions","url":"/groups/gitlab-org/-/epics/5654","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81456174,"iid":325621,"project_id":278964,"title":"Support auto-batching background migrations","description":"In order to limit the scope of the initial work, this issue implements simplified scheduling and processing of the migration jobs.\n\nWe will use a single `sidekiq-cron` job that runs the next migration job inline (calling the added `Scheduler` class). This is done by starting with the oldest active migration, and processing all jobs once, until there are no remaining jobs.\n\nIn future iterations we can add support for multiple crons to parallelize the active migrations, and build on retry logic, etc. This should be much easier to manage since the full migration is tracked in the database.\n\nRunning the job directly in the cron job gives us more control over single-threaded execution and batching. We can create and run jobs on an as-needed basis, which allows us to immediately see the effects if we alter the migration, such as by changing batch size or pausing execution. We also have much less risk of losing asynchronous jobs, and being unsure if we should continue scheduling additional work.\n\nRelated MR: gitlab-org/gitlab!54628\n\nFollow-up issue: gitlab-org/gitlab#325622","state":"closed","created_at":"2021-03-22T23:52:06.646Z","updated_at":"2021-04-20T03:36:29.855Z","closed_at":"2021-03-22T23:55:00.044Z","closed_by":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"labels":["Category:Database","Engineering Allocation","database","devops::systems","section::enablement"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325621","notes":"https://gitlab.com/api/v4/projects/278964/issues/325621/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325621/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325621","relative":"#325621","full":"gitlab-org/gitlab#325621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5654,"epic":{"id":231455,"iid":5654,"title":"Improve background migrations for primary key conversions","url":"/groups/gitlab-org/-/epics/5654","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81455802,"iid":325620,"project_id":278964,"title":"Integrate group-level with project-level MR approval settings","description":"_This issue and linked pages contain information related to upcoming products, features, and functionality. \nIt is important to note that the information presented is for informational purposes only. Please do not rely on this information for purchasing or planning purposes. \nAs with all projects, the items mentioned in this video and linked pages are subject to change or delay. The development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc._\n\n## Problem to solve\n\nAt the moment, group-level MR approval settings do not have any effect on the project-level counterparts.\n\n## Proposal\n\n* When top-level group settings restrict permission, the corresponding settings on the project level are enforced and locked.\n* When top-level group settings do not restrict permission, the corresponding settings on the project level are unlocked and revert to project default or previous value.\n* All new project MR approval settings inherit from the corresponding top-level group ones\n* This change must be backward compatible.\n\n| Group Value | Project Value |\n| ------ | ------ |\n| Restrict | **Disabled** (and locked :lock:) \u003cbr\u003e(Group level is SSOT) |\n| Do not restrict | Revert to project default or previous value\u003cbr\u003e(Project level is SSOT) |\n\n## Implementation \n\nCurrent group and project setting map:\n\n| Project Setting | Group Setting |\n| ------ | ------ |\n| disable_overriding_approvers_per_merge_request | allow_overrides_to_approver_list_per_merge_request |\n| merge_requests_author_approval | allow_author_approval |\n| merge_requests_disable_committers_approval | allow_committer_approval |\n| reset_approvals_on_push | retain_approvals_on_push |\n| require_password_to_approve | require_password_to_approve |\n\n### Option 1\n\n1. Rejig MR approval settings on `project` model and take into account the top-level group MR approval settings. _Note_: watch out for flipping logic 🤯.\n\n```rb\nclass Project\n  def disable_overriding_approvers_per_merge_request\n    strong_memoize(:disable_overriding_approvers_per_merge_request) do\n      next super unless @subject.feature_available?(:group_merge_request_approval_settings)\n      next false unless group.merge_request_approval_setting.allow_overrides_to_approver_list_per_merge_request? \n\n      super\n    end\n  end\nend\n```\n\n2. Ensure the projet settings value are locked, both in UI and API (ie. using `ProjectPolicy`)\n\n```rb\n# EE::ProjectPolicy\nwith_scope :global                                                          \ncondition(:locked_approvers_rules) do                                       \n  @subject.feature_available?(:group_merge_request_approval_settings) \u0026\u0026       \n    !group.merge_request_approval_setting.allow_overrides_to_approver_list_per_merge_request? \nend\n```                                                                       \n\n### Option 2\n\n1. Create a class that encapsulates the compliance rules (ie. `ComplianceManagement::MergeRequestApprovalSettings`)\n\n```rb\n# Resolve settings using compliance rules\nclass ComplianceManagement::MergeRequestApprovalSettings::Resolver\n  def initialize(project) \n    @project = project\n  end\n  \n  def execute\n    [\n      allow_overrides_to_approver_list_per_merge_request,\n      allow_author_approval,   \n      allow_committer_approval\n    ]\n  end\n\n  private\n\n  def allow_overrides_to_approver_list_per_merge_request\n    instance_value = ::Gitlab::CurrentSettings.disable_overriding_approvers_per_merge_request?\n    group_value = project.group.merge_request_approval_setting.allow_overrides_to_approver_list_per_merge_request?\n    project_value = project.disable_overriding_approvers_per_merge_request?\n\n    ComplianceManagement::MergeRequestApprovalSettings::Setting.new(\n      name: :allow_overrides_to_approver_list_per_merge_request,\n      value: !group_value ? false : project_value,\n      locked: !group_value,\n      inherited_from: !group_value ? :group : nil\n    )\n  end\nend\n\n# Value object\nclass ComplianceManagement::MergeRequestApprovalSettings::Setting\n  attr_reader :name, :value, :locked, :inherited_from\n\n  def initialize(name:, value:, locked:, inherited_from:)\n    @name = name\n    @value = value\n    @locked = locked\n    @inherited_from = inherited_from\n  end\nend\n\n# Usage in API\nclass API::ProjectApprovals\n  get do\n    setting = ComplianceManagement::MergeRequestApprovalSetting::Resolver.new(project).execute\n  end\nend\n```","state":"closed","created_at":"2021-03-22T23:32:20.090Z","updated_at":"2022-11-15T13:10:36.816Z","closed_at":"2021-09-23T08:32:45.283Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Premium","backend","devops::manage","direction","documentation","group::compliance","missed:14.0","missed:14.1","priority::1","section::dev","tw-weight::3","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":15,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325620","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325620","notes":"https://gitlab.com/api/v4/projects/278964/issues/325620/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325620/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325620","relative":"#325620","full":"gitlab-org/gitlab#325620"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81455207,"iid":325619,"project_id":278964,"title":"Convert ci_builds.id to bigint - Step 2: Finalize background migrations and swap columns","description":"The `ci_builds` table is one of the largest tables in GitLab's database that still uses an integer (`int4`) Primary Key. It has a high Primary Key Overflow risk as can be seen on its [tracking issue](https://gitlab.com/gitlab-org/gitlab/-/issues/215017).\n\nWith gitlab-org/gitlab#325618 we have started the process of converting it to `bigint` (`int8`) type.\n\nIn this issue we'll address the second step of the process:\n\n* Clean up the background migrations\n* Drop the `DEFAULT 0` from the affected columns\n* Concurrently add a Unique index for the PK (`ci_builds_pkey`) \n* Concurrently add any additional indexes that include the converted columns\n\n  ```\n  id:\n    \"index_ci_builds_on_commit_id_artifacts_expired_at_and_id\" btree (commit_id, artifacts_expire_at, id) \n    \"index_ci_builds_on_project_id_and_id\" btree (project_id, id)\n    \"index_ci_builds_on_runner_id_and_id_desc\" btree (runner_id, id DESC)\n    \"index_for_resource_group\" btree (resource_group_id, id)\n    \"index_security_ci_builds_on_name_and_id_parser_features\" btree (name, id)\n    \n   stage_id:\n    \"index_ci_builds_on_stage_id\" btree (stage_id)\n\n   stage_idx (if it is related to stage_id and requires conversion):\n    \"index_ci_builds_on_commit_id_and_stage_idx_and_created_at\" btree (commit_id, stage_idx, created_at)\n  ```\n\n* Single Transaction: Drop old PK, define new PK, swap sequence, swap columns\n* Single Transaction: Drop old FK, define new FK (as invalid), swap columns, validate FK\n* Drop the old columns \n\nSame for the 17 tables that reference the `ci_builds` table: \n- TABLE `ci_build_trace_sections` - FOREIGN KEY `build_id` \n- TABLE `ci_builds_metadata` - FOREIGN KEY `build_id` - (Covered in [Address the PK Overflow risk for ci_builds_metadata](https://gitlab.com/groups/gitlab-org/-/epics/5659))\n- TABLE `ci_build_pending_states` - FOREIGN KEY `build_id`\n- TABLE `ci_build_trace_chunks` - FOREIGN KEY `build_id`\n- TABLE `ci_build_report_results` - FOREIGN KEY `build_id`\n- TABLE `ci_build_needs` - FOREIGN KEY `build_id`\n- TABLE `ci_builds_runner_session` - FOREIGN KEY `build_id`\n- TABLE `ci_job_artifacts` - FOREIGN KEY `job_id` - (Covered in [Address the PK Overflow risk for ci_job_artifacts](https://gitlab.com/groups/gitlab-org/-/epics/5658))\n- TABLE `ci_job_variables` - FOREIGN KEY `job_id`\n- TABLE `ci_resources` - FOREIGN KEY `build_id`\n- TABLE `ci_sources_pipelines` - FOREIGN KEY `source_job_id`\n- TABLE `ci_test_case_failures` - FOREIGN KEY `build_id`\n- TABLE `ci_unit_test_failures` - FOREIGN KEY `build_id`\n- TABLE `pages_deployments` - FOREIGN KEY `ci_build_id`\n- TABLE `requirements_management_test_reports` - FOREIGN KEY `build_id`\n- TABLE `security_scans` - FOREIGN KEY `build_id`\n- TABLE `terraform_state_versions` - FOREIGN KEY `ci_build_id`\n\nPrevious Implementation Issue: gitlab-org/gitlab#325618\n\nRelated Tracking Issue: gitlab-org/gitlab#215017","state":"closed","created_at":"2021-03-22T23:08:39.163Z","updated_at":"2022-05-30T15:33:20.440Z","closed_at":"2021-09-16T15:24:37.114Z","closed_by":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"labels":["Category:Database","Engineering Allocation","database","devops::data_stores","group::database","missed:14.2","section::enablement","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325619","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325619","notes":"https://gitlab.com/api/v4/projects/278964/issues/325619/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325619/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325619","relative":"#325619","full":"gitlab-org/gitlab#325619"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5657,"epic":{"id":231484,"iid":5657,"title":"Address the Primary Key Overflow risk for the ci_builds table","url":"/groups/gitlab-org/-/epics/5657","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81455164,"iid":325618,"project_id":278964,"title":"Convert ci_builds.id to bigint - Step 1: Add new columns and sync data","description":"The `ci_builds` table is one of the largest tables in GitLab's database that still uses an integer (`int4`) Primary Key. It has a high Primary Key Overflow risk as can be seen on its [tracking issue](https://gitlab.com/gitlab-org/gitlab/-/issues/215017).\n\nThe first step to address the problem is to create a new column of type `bigint`, load all the data by using background jobs from the current `id` column to it and keep them in sync with a trigger.\n\nIn addition, the `ci_builds` table references (has a Foreign Key towards) the `ci_stages` table, which is also one of the tables with a [Primary Key Overflow risk](https://gitlab.com/groups/gitlab-org/-/epics/4785) and we'll have to convert its `id` column to `bigint` at some point, so it would be optimal to do so in one pass while converting its Primary Key.\n\nThe overall process for the `ci_builds` table will be as follows:\n\n* Create new column `ci_builds.new_id` for the Primary Key, with `bigint NOT NULL DEFAULT 0`\n* Create new columns `ci_builds.new_stage_id` for the Foreign Key that references `ci_stages`, with `bigint NOT NULL DEFAULT 0`\n* Install sync triggers for both columns to keep them updated while new records are inserted or existing ones are updated or deleted.\n* Start background jobs that will batch through the whole table and copy the `id` and `stage_id` values to the new columns.\n\nWe'll follow with a cleanup migration in the next milestone than the one that the aforementioned migrations are deployed, which will add the necessary indexes, swap the PK (and its sequence) and the FKs and finally drop the old columns.\n\n--- \n\nFinally, the `ci_builds` table is at the center of the CI tables design, with 17 tables referencing it: \n- TABLE `ci_build_trace_sections` - FOREIGN KEY `build_id` \n- TABLE `ci_builds_metadata` - FOREIGN KEY `build_id` - (Covered in [Address the PK Overflow risk for ci_builds_metadata](https://gitlab.com/groups/gitlab-org/-/epics/5659))\n- TABLE `ci_build_trace_chunks` - FOREIGN KEY `build_id`\n- TABLE `ci_build_needs` - FOREIGN KEY `build_id` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59467\n- TABLE `ci_builds_runner_session` - FOREIGN KEY `build_id`\n- TABLE `ci_job_artifacts` - FOREIGN KEY `job_id` - (Covered in [Address the PK Overflow risk for ci_job_artifacts](https://gitlab.com/groups/gitlab-org/-/epics/5658))\n- TABLE `ci_sources_pipelines` - FOREIGN KEY `source_job_id`\n- ~~TABLE `ci_job_variables` - FOREIGN KEY `job_id`~~ (already bigint)\n- ~~TABLE `ci_build_pending_states` - FOREIGN KEY `build_id`~~ (already bigint)\n- ~~TABLE `ci_build_report_results` - FOREIGN KEY `build_id`~~ (already bigint)\n- ~~TABLE `ci_resources` - FOREIGN KEY `build_id`~~ (already bigint)\n- ~~TABLE `ci_test_case_failures` - FOREIGN KEY `build_id`~~ (already bigint)\n- ~~TABLE `ci_unit_test_failures` - FOREIGN KEY `build_id`~~ (already bigint)\n- ~~TABLE `pages_deployments` - FOREIGN KEY `ci_build_id`~~ (already bigint)\n- ~~TABLE `requirements_management_test_reports` - FOREIGN KEY `build_id`~~ (already bigint)\n- ~~TABLE `security_scans` - FOREIGN KEY `build_id`~~ (already bigint)\n- ~~TABLE `terraform_state_versions` - FOREIGN KEY `ci_build_id`~~ (already bigint)\n\nSo, we have to also follow the same approach for the 15 additional tables that reference it and are not covered by other tables' Primary Key conversion migrations. \n\nRelated Tracking Issue: gitlab-org/gitlab#215017","state":"closed","created_at":"2021-03-22T23:08:23.784Z","updated_at":"2022-05-30T15:33:20.981Z","closed_at":"2021-04-28T13:48:51.501Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"labels":["Category:Database","Engineering Allocation","database","devops::data_stores","group::database","section::enablement"],"milestone":null,"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325618","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325618","notes":"https://gitlab.com/api/v4/projects/278964/issues/325618/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325618/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325618","relative":"#325618","full":"gitlab-org/gitlab#325618"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5657,"epic":{"id":231484,"iid":5657,"title":"Address the Primary Key Overflow risk for the ci_builds table","url":"/groups/gitlab-org/-/epics/5657","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81454893,"iid":325617,"project_id":278964,"title":"Convert ci_builds_metadata.id to bigint - Step 2: Finalize background migrations and swap columns","description":"The `ci_builds_metadata` table is one of the largest tables in GitLab's database still uses an integer (`int4`) Primary Key. It has a high Primary Key Overflow risk as can be seen on its [tracking issue](https://gitlab.com/gitlab-org/gitlab/-/issues/276019).\n\nWith gitlab-org/gitlab#325616 we have started the process of converting it to `bigint` (`int8`) type.\n\nIn this issue we'll address the second step of the process:\n\n* Clean up the background migrations\n* Drop the `DEFAULT 0` from the affected columns\n* Concurrently add a Unique index for the PK (`ci_builds_metadata_pkey`) \n* Concurrently add any additional indexes that include the converted columns\n\n  ```\n    \"index_ci_builds_metadata_on_build_id\" UNIQUE, btree (build_id)\n    \"index_ci_builds_metadata_on_build_id_and_has_exposed_artifacts\" btree (build_id) WHERE has_exposed_artifacts IS TRUE\n    \"index_ci_builds_metadata_on_build_id_and_id_and_interruptible\" btree (build_id) INCLUDE (id) WHERE interruptible = true\n  ```\n\n* Single Transaction: Drop old PK, define new PK, swap sequence, swap columns\n* Single Transaction: Drop old FK, define new FK (as invalid), swap columns, validate FK\n* Drop the old columns \n\nPrevious Implementation Issue: gitlab-org/gitlab#325616\n\nRelated Tracking Issue: gitlab-org/gitlab#276020","state":"closed","created_at":"2021-03-22T23:06:47.715Z","updated_at":"2022-05-30T15:33:21.550Z","closed_at":"2021-09-15T18:39:39.377Z","closed_by":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"labels":["Category:Database","Engineering Allocation","database","devops::data_stores","group::database","missed:14.2","section::enablement","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":9047949,"username":"stomlinson","name":"Simon Tomlinson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9047949/avatar.png","web_url":"https://gitlab.com/stomlinson"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":9047949,"username":"stomlinson","name":"Simon Tomlinson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9047949/avatar.png","web_url":"https://gitlab.com/stomlinson"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325617","notes":"https://gitlab.com/api/v4/projects/278964/issues/325617/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325617/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325617","relative":"#325617","full":"gitlab-org/gitlab#325617"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5659,"epic":{"id":231499,"iid":5659,"title":"Address the Primary Key Overflow risk for the ci_builds_metadata table","url":"/groups/gitlab-org/-/epics/5659","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81454819,"iid":325616,"project_id":278964,"title":"Convert ci_builds_metadata.id to bigint - Step 1: Add new columns and sync data","description":"The `ci_builds_metadata` table is one of the largest tables in GitLab's database still uses an integer (`int4`) Primary Key. It has a high Primary Key Overflow risk as can be seen on its [tracking issue](https://gitlab.com/gitlab-org/gitlab/-/issues/276020).\n\nThe first step to address the problem is to create a new column of type `bigint`, load all the data by using background jobs from the current `id` column to it and keep them in sync with a trigger.\n\nIn addition, the `ci_builds_metadata` table references (has a Foreign Key towards) the `ci_builds` table, which is also one of the tables with a [high Primary Key Overflow risk](https://gitlab.com/groups/gitlab-org/-/epics/5657) and we'll have to convert its `id` column to `bigint`, so it would be optimal to do so in one pass while converting its Primary Key.\n\nSo the overall process will be as follows:\n\n* Create new column `ci_builds_metadata.new_id` for the Primary Key, with `bigint NOT NULL DEFAULT 0`\n* Create new column `ci_builds_metadata.new_build_id` for the Foreign Key that references `ci_builds`, with `bigint NOT NULL DEFAULT 0`\n* Install sync triggers for both columns to keep them updated while new records are inserted or existing ones are updated or deleted.\n* Start background jobs that will batch through the whole table and copy the `id` and `build_id` values to the new columns.\n\nWe'll follow with a cleanup migration in the next milestone than the one that the aforementioned migrations are deployed, which will add the necessary indexes, swap the PK (and its sequence) and the FK and finally drop the old columns.\n\nRelated Tracking Issue: gitlab-org/gitlab#276020","state":"closed","created_at":"2021-03-22T23:05:59.792Z","updated_at":"2022-05-30T15:33:22.127Z","closed_at":"2021-07-06T13:25:41.165Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Category:Database","Engineering Allocation","database","devops::data_stores","group::database","section::enablement","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325616","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325616","notes":"https://gitlab.com/api/v4/projects/278964/issues/325616/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325616/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325616","relative":"#325616","full":"gitlab-org/gitlab#325616"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5659,"epic":{"id":231499,"iid":5659,"title":"Address the Primary Key Overflow risk for the ci_builds_metadata table","url":"/groups/gitlab-org/-/epics/5659","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81454807,"iid":325615,"project_id":278964,"title":"Convert ci_job_artifacts.id to bigint - Step 2: Finalize background migrations and swap columns","description":"The `ci_job_artifacts` table is one of the largest tables in GitLab's database still uses an integer (`int4`) Primary Key. It has a high Primary Key Overflow risk as can be seen on its [tracking issue](https://gitlab.com/gitlab-org/gitlab/-/issues/276019).\n\nWith gitlab-org/gitlab#325614 we have started the process of converting it to `bigint` (`int8`) type.\n\nIn this issue we'll address the second step of the process:\n\n* Clean up the background migrations\n* Drop the `DEFAULT 0` from the affected columns\n* Concurrently add a Unique index for the PK (`ci_job_artifacts_pkey`) \n* Concurrently add any additional indexes that include the converted columns\n\n  ```\n  ci_job_artifacts:\n    \"expired_artifacts_temp_index\" btree (id, created_at) WHERE expire_at IS NULL AND date(timezone('UTC'::text, created_at)) \u003c '2020-06-22'::date\n    \"index_ci_job_artifacts_for_terraform_reports\" btree (project_id, id) WHERE file_type = 18\n    \"index_ci_job_artifacts_id_for_terraform_reports\" btree (id) WHERE file_type = 18\n\n    \"index_ci_job_artifacts_on_job_id_and_file_type\" UNIQUE, btree (job_id, file_type)\n    \"index_ci_job_artifacts_on_expire_at_and_job_id\" btree (expire_at, job_id)\n\n  project_pages_metadata:\n    \"index_project_pages_metadata_on_artifacts_archive_id\" btree (artifacts_archive_id)\n  ```\n* Single Transaction: Drop old PK, define new PK, swap sequence, swap columns\n* Single Transaction for each FK: Drop old FK, define new FK (as invalid), swap columns, validate FK\n* Drop the old columns \n\nPrevious Implementation Issue: gitlab-org/gitlab#325614\n\nRelated Tracking Issue: gitlab-org/gitlab#276019","state":"closed","created_at":"2021-03-22T23:05:17.110Z","updated_at":"2022-05-30T15:33:22.743Z","closed_at":"2021-08-20T14:45:47.209Z","closed_by":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"labels":["Category:Database","Engineering Allocation","database","devops::data_stores","group::database","missed:14.2","section::enablement","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":9047949,"username":"stomlinson","name":"Simon Tomlinson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9047949/avatar.png","web_url":"https://gitlab.com/stomlinson"},{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazão","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":9047949,"username":"stomlinson","name":"Simon Tomlinson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9047949/avatar.png","web_url":"https://gitlab.com/stomlinson"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325615","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325615","notes":"https://gitlab.com/api/v4/projects/278964/issues/325615/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325615/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325615","relative":"#325615","full":"gitlab-org/gitlab#325615"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5658,"epic":{"id":231492,"iid":5658,"title":"Address the Primary Key Overflow risk for the ci_job_artifacts table","url":"/groups/gitlab-org/-/epics/5658","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81454799,"iid":325614,"project_id":278964,"title":"Convert ci_job_artifacts.id to bigint - Step 1: Add new columns and sync data","description":"The `ci_job_artifacts` table is one of the largest tables in GitLab's database still uses an integer (`int4`) Primary Key. It has a high Primary Key Overflow risk as can be seen on its [tracking issue](https://gitlab.com/gitlab-org/gitlab/-/issues/276019).\n\nThe first step to address the problem is to create a new column of type `bigint`, load all the data by using background jobs from the current `id` column to it and keep them in sync with a trigger.\n\nIn addition, the `ci_job_artifacts` table references (has a Foreign Key towards) the `ci_builds` table, which is also one of the tables with a [high Primary Key Overflow risk](https://gitlab.com/groups/gitlab-org/-/epics/5657) and we'll have to convert its `id` column to `bigint`, so it would be optimal to do so in one pass while converting its Primary Key.\n\n~~Finally, we have to also follow the same approach for all tables that reference it (`project_pages_metadata`).~~ (no need as `project_pages_metadata.artifacts_archive_id` is already defined as a `bigint`)\n\nSo the overall process will be as follows:\n\n* Create new column `ci_job_artifacts.new_id` for the Primary Key, with `bigint NOT NULL DEFAULT 0`\n* Create new column `ci_job_artifacts.new_job_id` for the Foreign Key that references `ci_builds`, with `bigint NOT NULL DEFAULT 0`\n* Install sync triggers for both columns to keep them updated while new records are inserted or existing ones are updated or deleted.\n* Start background jobs that will batch through the whole table and copy the `id` and `job_id` values to the new columns.\n* ~~Same for the column `project_pages_metadata.artifacts_archive_id` that references `ci_job_artifacts.id`~~  (no need as it is already a `bigint`)\n\nWe'll follow with a cleanup migration in the next milestone than the one that the aforementioned migrations are deployed, which will add the necessary indexes, swap the PK (and its sequence) and the FKs and finally drop the old columns.\n\nRelated Tracking Issue: gitlab-org/gitlab#276019\n\n----\n\nAdditional request / requirement (https://gitlab.com/groups/gitlab-org/-/epics/5658#note_552759319): while swapping the columns in `ci_job_artifacts`, let's consider renaming the column from `job_id` to `build_id` to align with naming conventions","state":"closed","created_at":"2021-03-22T23:05:04.809Z","updated_at":"2022-05-30T15:33:23.636Z","closed_at":"2021-04-23T15:09:29.295Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"labels":["Category:Database","Engineering Allocation","database","devops::data_stores","group::database","section::enablement"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325614","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325614","notes":"https://gitlab.com/api/v4/projects/278964/issues/325614/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325614/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325614","relative":"#325614","full":"gitlab-org/gitlab#325614"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5658,"epic":{"id":231492,"iid":5658,"title":"Address the Primary Key Overflow risk for the ci_job_artifacts table","url":"/groups/gitlab-org/-/epics/5658","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81454579,"iid":325613,"project_id":278964,"title":"Exit with non-zero code when vulnerabilities are found for API Security","description":"Implement issue https://gitlab.com/gitlab-org/gitlab/-/issues/324634#note_534626666 for API Security.\n\nTask:\n\n1. [ ] Code changes\n1. [ ] Tests\n1. [ ] API Fuzzing CI template\n1. [ ] DAST API CI Template\n1. [ ] Documentation update(s)","state":"closed","created_at":"2021-03-22T22:55:34.500Z","updated_at":"2021-04-28T19:42:22.281Z","closed_at":"2021-04-28T19:42:22.152Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","devops::secure","feature::addition","group::dynamic analysis","section::sec","type::feature","workflow::scheduling"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325613","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325613","notes":"https://gitlab.com/api/v4/projects/278964/issues/325613/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325613/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325613","relative":"#325613","full":"gitlab-org/gitlab#325613"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81453910,"iid":325610,"project_id":278964,"title":"Ensure package related jobs on dev.gitlab.org/gitlab/gitlab-ee are executed","description":"## Description\n\nIn https://dev.gitlab.org/gitlab/gitlab-ee/-/pipelines/190584 `compile-assets-production` wasn't run based on rules but was needed to build the package to resolve https://gitlab.com/gitlab-com/gl-infra/production/-/issues/4035\n\nRelated Slack discussion: https://gitlab.slack.com/archives/C3JJET4Q6/p1616451487046700","state":"closed","created_at":"2021-03-22T22:41:32.691Z","updated_at":"2021-03-25T17:22:33.717Z","closed_at":"2021-03-25T17:22:33.636Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","ep::pipeline","priority::2","severity::2","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325610","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325610","notes":"https://gitlab.com/api/v4/projects/278964/issues/325610/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325610/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325610","relative":"#325610","full":"gitlab-org/gitlab#325610"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81452576,"iid":325605,"project_id":278964,"title":"Query Performance Investigation - 4458344713234267000  - SELECT \"merge_requests\".* FROM  \"merge_requests\" WHERE \"merge_requests\".\"target_project_id\"  = $1 AND (\"merge_requests\".\"state_id\"  IN ($2)) ...","description":"## Description\n\nAs the name implies, the purpose of the template is to detail underperforming queries for further investigation.\n\n### Steps\n\n- [x] Rename the issue to - `Query Performance Investigation - [Query Snippet | Table info]`\n  - For example - `Query Performance Investigation - SELECT \"namespaces\".* FROM \"namespaces\" WHERE \"namespaces\".\"id\" = $1 LIMIT $2`\n- [ ] Provide information in the Requested Data Points table\n- [ ] Provide [priority and severity labels](https://about.gitlab.com/handbook/engineering/quality/issue-triage/#availability)\n- [ ] If this requires immediate attention cc `@gitlab-org/database-team` and reach out in the #g_database slack channel\n\n### SQL Statement\n\n```sql\nSELECT \"merge_requests\".* FROM \n\"merge_requests\" WHERE \"merge_requests\".\"target_project_id\" \n= $1 AND (\"merge_requests\".\"state_id\" \nIN ($2)) ORDER BY \"merge_requests\".\"created_at\" \nDESC, \"merge_requests\".\"id\" DESC \nLIMIT $3 OFFSET $4\n```\n\n### Data from Elastic\n\nInstructions on collecting data from [PostgreSQL slow logs stored in Elasticsearch](https://gitlab.com/gitlab-com/runbooks/-/merge_requests/3361/diffs)\n\n### Requested Data points\n\n![image](/uploads/6ba40923ef4e9c8f0864942467779208/image.png)\n\n[Graphana](https://dashboards.gitlab.net/d/web-rails-controller/web-rails-controller?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-controller=Projects::MergeRequestsController\u0026var-action=index)\n\n[Kibana](https://log.gprd.gitlab.net/goto/96b16fa5ee390cbe09203b6113a30012)","state":"closed","created_at":"2021-03-22T21:53:18.361Z","updated_at":"2021-04-14T15:32:25.279Z","closed_at":"2021-04-01T20:39:27.261Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["backend","bug::availability","devops::create","group::code review","priority::1","section::dev","severity::2","type::bug","won't do","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325605","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325605","notes":"https://gitlab.com/api/v4/projects/278964/issues/325605/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325605/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325605","relative":"#325605","full":"gitlab-org/gitlab#325605"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5671,"epic":{"id":233225,"iid":5671,"title":"Query Performance Investigations (Epic)","url":"/groups/gitlab-org/-/epics/5671","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81447756,"iid":325592,"project_id":278964,"title":"Extra margin on \"Manage Scans\" row button","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003cimg src=\"/uploads/b49d64d4eddc8607269d3dff9c554e2d/Screen_Shot_2021-03-22_at_2.22.14_PM.png\" width=\"300px\"\u003e\n\nThere is `5px` right-margin on the `ellipsis` icon \n\n### Steps to reproduce\n\nGo to any of the tabs in `Manage DAST scans` and hover over an action button","state":"closed","created_at":"2021-03-22T19:26:19.227Z","updated_at":"2021-03-24T04:26:55.012Z","closed_at":"2021-03-24T04:26:54.972Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","frontend","group::dynamic analysis","severity::4","type::bug","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325592","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325592","notes":"https://gitlab.com/api/v4/projects/278964/issues/325592/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325592/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325592","relative":"#325592","full":"gitlab-org/gitlab#325592"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81446210,"iid":325584,"project_id":278964,"title":"Add helper text to current pages settings","description":"\u003e This issue is a simplified version of #198585. The original issue contains many design changes that have not been implemented yet, and the page can benefit from a smaller, text-only change.\n\n### Problem to solve\n\nAs part of the [Experience Baselines and Recommendations](https://about.gitlab.com/handbook/engineering/ux/experience-baseline-recommendations/) initiative, it was demonstrated the pages settings layout could use some improvement. Problems to solve:\n\n* Provide an area for in UI documentation\n\n### Proposal\n\nUpdate the Pages settings (`https://gitlab.com/\u003cgroup\u003e/\u003crepo\u003e/pages`) to include the following helper text under `Force HTTPS` Toggle:\n\n\u003e When enabled, all attempts to visit your website through HTTP are automatically redirected to HTTPS using a response with status code 301. Requires a valid certificate for all domains. [Learn more](#).\n  \n“Learn More” links to: https://gitlab.com/help/user/project/pages/custom_domains_ssl_tls_certification/index.md#force-https-for-gitlab-pages-websites\n\n![image](/uploads/3cce8f5635351eab5ce67a8a79a3d047/image.png)","state":"closed","created_at":"2021-03-22T18:49:35.031Z","updated_at":"2021-04-12T08:59:01.161Z","closed_at":"2021-04-08T15:28:50.935Z","closed_by":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},"labels":["Category:Pages","Release::P3","SUS::FY22 Q1 - Done","Technical Writing","UX","devops::release","feature::enhancement","frontend","group::release","section::ops","type::feature","workflow::scheduling"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"}],"author":{"id":8059235,"username":"dfosco","name":"Daniel Fosco","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8059235/avatar.png","web_url":"https://gitlab.com/dfosco"},"type":"ISSUE","assignee":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},"user_notes_count":14,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325584","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325584","notes":"https://gitlab.com/api/v4/projects/278964/issues/325584/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325584/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325584","relative":"#325584","full":"gitlab-org/gitlab#325584"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81420939,"iid":325559,"project_id":278964,"title":"Frontend: Job status in job log page sidebar does not show real-time updates","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nJob does not show real-time status in the job log page sidebar\n\n### Steps to reproduce\n\nWhile the job is running, open the log console, wait for the job to finish its run, switch back to the pipeline view, the job still appears as running (both in the pipeline view and the sidebar)\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/dbe39fa5fe6db30e3ad0933df06e3471/image.png)\n\n### What is the expected *correct* behavior?\n\nJob status should reflect the real time status\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-03-22T15:08:40.595Z","updated_at":"2022-11-08T17:05:25.546Z","closed_at":"2022-11-07T14:17:15.040Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","Hacktoberfest","SUS::Impacting","Verify candidate","candidate::15.5","devops::verify","frontend","group::pipeline authoring","missed:15.3","priority::3","section::ops","severity::3","type::bug","usability"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":23,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325559","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325559","notes":"https://gitlab.com/api/v4/projects/278964/issues/325559/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325559/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325559","relative":"#325559","full":"gitlab-org/gitlab#325559"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":74860,"iid":115,"sequence":28,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-08-08T00:05:02.221Z","updated_at":"2022-11-14T00:05:02.449Z","start_date":"2022-10-31","due_date":"2022-11-13","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/74860"},"health_status":null},{"id":81420464,"iid":325557,"project_id":278964,"title":"Pipeline header status doesn't update once pipeline has finished, even when jobs are retried","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nPipeline status show wrongs status when jobs are running  \n\n### Steps to reproduce\n\nif you have a pipeline that finishes its run and a manual job in that pipeline, clicking on the manual job should change the pipeline status to running, in reality, the pipeline stays in passed \n\nNote - this issue gets resolved only with page refresh - which will reflect the real status of the pipeline\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/2756efe50b36faac00521fa053f21d7b/image.png)\n\n\n### What is the expected *correct* behavior?\n\nJob-status should propagate to the pipeline status, so when the job is running the pipeline should be running\n\n### Relevant logs and/or screenshots\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/2756efe50b36faac00521fa053f21d7b/image.png)\n\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n* Unit test changes: please update unit test, javascript test accordingly\n* Integration test changes: please add checks for pipeline status is updated on Pipeline page when a job is retried in multiple cases (manual, failed, success, etc.) in [pipeline feature test](https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/features/projects/pipelines/pipeline_spec.rb)\n* End-to-end test change: Not required","state":"closed","created_at":"2021-03-22T15:04:04.265Z","updated_at":"2021-08-18T07:05:11.460Z","closed_at":"2021-08-09T06:25:23.781Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","Deliverable","Low SUS Score","UI polish","Verify candidate","candidate::14.2","devops::verify","frontend","group::pipeline authoring","priority::3","quad-planning::complete-action","section::ops","severity::3","type::bug","usability","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":109884,"username":"sarahghp","name":"Sarah Groff Hennigh-Palermo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b3a4be73ec22c01a87b77ddc2bb6f7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarahghp"},{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":109884,"username":"sarahghp","name":"Sarah Groff Hennigh-Palermo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b3a4be73ec22c01a87b77ddc2bb6f7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarahghp"},"user_notes_count":25,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325557","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325557","notes":"https://gitlab.com/api/v4/projects/278964/issues/325557/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325557/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325557","relative":"#325557","full":"gitlab-org/gitlab#325557"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5529,"epic":{"id":217386,"iid":5529,"title":"Visibility of System Status - Pipeline Authoring","url":"/groups/gitlab-org/-/epics/5529","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":81417441,"iid":325548,"project_id":278964,"title":"🎨 Design: Policy editor yaml mode UI is not synchronized properly","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen editing security policies on the **Security \u0026 Compliance -\u003e Threat Monitoring -\u003e Policies** tab, when in `yaml mode`, the policy name, description, and enabled/disabled status are not synchronized with the yaml.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\nFor a walkthrough of the problem, please reference this [very short video](https://youtu.be/vvqK24eZ27w).\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/gitlab-org/threat-management/defend/demos/network-policy-demo/-/threat_monitoring/policies/new\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nWhen users type in the name or description fields, or toggle the enabled/disabled status, it does not update the `yaml` to match.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\nThe input areas at the top should always match the yaml shown down below.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n**Possible fix 1**\n\nWe might implement a two-way binding; however, this could be complicated because the yaml field is an open text field where users can enter anything they want to enter.\n\n**Possible fix 2**\n\nWe might make the name, description, and enabled/disabled status read only / `disabled` input fields\n\n**Possible fix 3**\n\nWe might hide the name, description and enabled/disabled fields entirely","state":"closed","created_at":"2021-03-22T14:36:44.150Z","updated_at":"2021-03-22T14:38:11.336Z","closed_at":"2021-03-22T14:38:11.245Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:Security Policy Management","Enterprise Edition","GitLab Ultimate","UX","devops::govern","frontend","group::security policies","priority::3","section::sec","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325548","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325548","notes":"https://gitlab.com/api/v4/projects/278964/issues/325548/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325548/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325548","relative":"#325548","full":"gitlab-org/gitlab#325548"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81413147,"iid":325545,"project_id":278964,"title":"Track number of created custom compliance frameworks","description":"### Proposal \n\nAfter the rollout of `ff_custom_compliance_frameworks` we should track the number of custom compliance frameworks created on an instance via the usage ping.\n\nThis will allow us to track feature usage and growth. \n\n### Implementation Plan\n\n* Add a new key to `usage_activity_by_stage_manage` in `usage_data.rb`\n  * Probably called `custom_compliance_frameworks` which returns a count of the `compliance_management_frameworks` table.","state":"closed","created_at":"2021-03-22T13:52:54.622Z","updated_at":"2021-05-18T22:07:59.555Z","closed_at":"2021-05-04T13:44:54.862Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Compliance Management","devops::manage","group::compliance","section::dev","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325545","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325545","notes":"https://gitlab.com/api/v4/projects/278964/issues/325545/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325545/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325545","relative":"#325545","full":"gitlab-org/gitlab#325545"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3156,"epic":{"id":45158,"iid":3156,"title":"Allow group owners to define compliance pipeline configurations at the group level","url":"/groups/gitlab-org/-/epics/3156","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81405455,"iid":325537,"project_id":278964,"title":"Improve performance of Branches List with Search API under load into next tier","description":"After being highlighted by a potential customer it's been found that the [Branches List API](https://docs.gitlab.com/ee/api/branches.html) with search parameter specified is unperformant compared to hitting the API without:\n\n```\n█ Results summary\n\n* Environment:                10k\n* Environment Version:        13.10.0-pre `0bee278055f`\n* Option:                     60s_200rps\n* Date:                       2021-03-18\n* Run Time:                   4m 16.25s (Start: 16:19:24 UTC, End: 16:23:40 UTC)\n* GPT Version:                v2.6.1\n\nNAME                                       | RPS   | RPS RESULT          | TTFB AVG  | TTFB P90             | REQ STATUS     | RESULT\n-------------------------------------------|-------|---------------------|-----------|----------------------|----------------|----------------\napi_v4_projects_repository_branches        | 200/s | 195.8/s (\u003e160.00/s) | 105.92ms  | 122.40ms (\u003c500ms)    | 100.00% (\u003e99%) | Passed\napi_v4_projects_repository_branches_search | 200/s | 134.2/s (\u003e64.00/s)  | 1346.20ms | 1838.55ms (\u003c11000ms) | 100.00% (\u003e99%) | Passed\n```\n\nThe testing was done on our test [10k Reference Architecture](https://docs.gitlab.com/ee/administration/reference_architectures/10k_users.html) environment as standard at 200 RPS with the project being tested a copy of [gitlabhq](https://github.com/gitlabhq/gitlabhq) (tarball can be found [here](https://gitlab.com/gitlab-org/quality/performance-data/-/blob/master/projects_export/gitlabhq_export_13.0.0.tar.gz)), which has around 2100 branches.\n\nThe search term used in this test was `stable` as numerous branches have this term in their name. However testing with other terms returned similar results suggesting that there may be a performance issue here that's not directly related to the term or the number of results it brings.\n\nLooking at the environment metrics it's clear that the Gitaly nodes are taking the brunt here:\n\n![Screenshot_2021-03-18_at_16.41.11](/uploads/fe9ba8a3f81ce82804e2f2056e7cfb91/Screenshot_2021-03-18_at_16.41.11.png)\n\nWhen highlighted by the customer the endpoint was performing much worse than above but this was determined to be due to that specific environment being tested at a much higher than expected rate leading to what appeared to be a compounding effect. In our own testing we see something similar on our 50k environment, tested at 1000 RPS, where it's results clearly show a compounding effect where the endpoint has degraded more substantially at higher pressure even against a bigger environment:\n\n```\n█ Results summary\n\n* Environment:                50k\n* Environment Version:        13.11.0-pre `25903c136cb`\n* Option:                     60s_1000rps\n* Date:                       2021-03-22\n* Run Time:                   4m 11.76s (Start: 12:21:58 UTC, End: 12:26:10 UTC)\n* GPT Version:                v2.6.1\n\n\nNAME                                       | RPS    | RPS RESULT           | TTFB AVG  | TTFB P90             | REQ STATUS     | RESULT\n-------------------------------------------|--------|----------------------|-----------|----------------------|----------------|----------------\napi_v4_projects_repository_branches        | 1000/s | 991.12/s (\u003e800.00/s) | 99.29ms   | 111.43ms (\u003c500ms)    | 100.00% (\u003e99%) | Passed\napi_v4_projects_repository_branches_search | 1000/s | 284.71/s (\u003e240.00/s) | 3229.44ms | 4815.56ms (\u003c11000ms) | 100.00% (\u003e99%) | Passed\n```\n\n![Screenshot_2021-03-22_at_12.27.50](/uploads/a4947d2d75c7cc1796703a49e4a5eff5/Screenshot_2021-03-22_at_12.27.50.png)\n\nPerformance targets though are measured against the 10k environment for consistency so this issue falls into the ~\"severity::3\" [performance targets tier](https://about.gitlab.com/handbook/engineering/quality/issue-triage/#severity) with the hope that any improvements will filter up to the larger environments and reduce the compounding effect.\n\nOf note compared to the previous issue the endpoint is showing a heavier strain on the GitLab Rails nodes (CPU specifically)\n\nTask is improve performance further into the ~\"severity::4\" tier (\u003c1000ms).","state":"closed","created_at":"2021-03-22T12:28:58.750Z","updated_at":"2022-08-16T14:14:36.339Z","closed_at":"2022-08-12T12:52:28.116Z","closed_by":{"id":4477602,"username":"niskhakova","name":"Nailia Iskhakova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477602/avatar.png","web_url":"https://gitlab.com/niskhakova"},"labels":["Category:Source Code Management","Quality:performance-issues","[deprecated] Accepting merge requests","bug::performance","devops::create","group::source code","priority::3","section::dev","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3769272,"username":"grantyoung","name":"Grant Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3769272/avatar.png","web_url":"https://gitlab.com/grantyoung"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325537","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325537","notes":"https://gitlab.com/api/v4/projects/278964/issues/325537/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325537/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325537","relative":"#325537","full":"gitlab-org/gitlab#325537"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81404639,"iid":325534,"project_id":278964,"title":"Harden min and max queries in Usage Ping","description":"Follow-up issue for note https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56951#note_534671237\n\nThe min and max could also be avoided and we might consider having separate methods for min and max in order to be able to overwrite them in this cases.\n\nThe min and max queries could be potential performance issues when thinking we want to have this available via API.\n\nThe discussion https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57016#note_537495026 should also be addressed as part of this optimization as they are inter-linked.\n\n## Proposal\n\nHarden min and max queries to specific min and max hardening methods in order to be able to ovewrite them and avoid executing them when we don't need them.","state":"closed","created_at":"2021-03-22T12:21:14.660Z","updated_at":"2021-12-03T10:32:35.714Z","closed_at":"2021-12-03T10:32:35.700Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["[deprecated] Accepting merge requests","devops::growth","group::product intelligence","milestone::p3","section::growth","type::maintenance","workflow::problem validation"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325534","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325534","notes":"https://gitlab.com/api/v4/projects/278964/issues/325534/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325534/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325534","relative":"#325534","full":"gitlab-org/gitlab#325534"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5626,"epic":{"id":228740,"iid":5626,"title":"Account-Based Service Ping SaaS in Data Warehouse","url":"/groups/gitlab-org/-/epics/5626","group_id":9970,"human_readable_end_date":"Oct 31, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81399461,"iid":325526,"project_id":278964,"title":"[Feature flag] Enable new wiki destroy page RPC","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:gitaly_replace_wiki_delete_page` feature flag.\n\nRefs https://gitlab.com/gitlab-org/gitlab/-/issues/324385\n\n## Owners\n\n* Team: Editor\n* Most appropriate slack channel to reach out to: `#g_create_editor`\n* Best individual to reach out to: @fjsanpedro\n\n## Expectations\n\n### What are we expecting to happen?\n\nThe new Gitaly RPC call replaces the old RPC.\n\n### What might happen if this goes wrong?\n\nThe wiki page is not deleted? Some sort of unexpected exception?\n\n### What can we monitor to detect problems with this?\n\nhttps://dashboards.gitlab.net/d/gitaly-main/gitaly-overview?orgId=1\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com. **Note**: Once a feature rollout has started, it is not necessary to inform `@sre-oncall`/`@release-managers` at each stage of the gradual rollout.\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [x] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry. Ensure that the feature flag definition YAML file has been removed in the **same MR** that is removing the feature flag from the code\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2021-03-22T11:23:18.363Z","updated_at":"2021-04-22T13:00:18.985Z","closed_at":"2021-04-22T13:00:18.922Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Wiki","devops::create","feature flag","group::editor","section::dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325526","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":10},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325526","notes":"https://gitlab.com/api/v4/projects/278964/issues/325526/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325526/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325526","relative":"#325526","full":"gitlab-org/gitlab#325526"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81391947,"iid":325517,"project_id":278964,"title":"Deprecate unique_visits_helper in favour of redis_tracking.rb","description":"## Summary\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/concerns/redis_tracking.rb and https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/helpers/analytics/unique_visits_helper.rb both have the same purpose, but former is more flexible. `redis_tracking` is also [recommended by our guidelines](https://docs.gitlab.com/ee/development/usage_ping/#adding-new-events)\nSo we can unify code by replacing `unique_visits_helper` usages and removing module itself.","state":"closed","created_at":"2021-03-22T09:54:44.730Z","updated_at":"2021-10-28T13:58:27.667Z","closed_at":"2021-08-17T22:15:49.796Z","closed_by":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"labels":["backend","devops::manage","group::optimize","maintenance::refactor","missed:14.1","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325517","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325517","notes":"https://gitlab.com/api/v4/projects/278964/issues/325517/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325517/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325517","relative":"#325517","full":"gitlab-org/gitlab#325517"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81390633,"iid":325516,"project_id":278964,"title":"Add RuboCop rule for preventing using histogram method on large tables","description":"We don't support batching with histograms.\nPlease avoid using this method on large tables.\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/323949.\n\nWe have this comment in [code](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/utils/usage_data.rb#L92)\n\nWe could improve this by having a RuboCop rule to catch any histogram on large tables \n\nWe could start by having large tables as defined [`Migration/UpdateLargeTable:`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/rubocop/rubocop-migrations.yml#L3)","state":"closed","created_at":"2021-03-22T09:37:14.918Z","updated_at":"2022-03-16T11:44:31.662Z","closed_at":"2021-05-31T13:26:11.830Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["backend","devops::growth","group::product intelligence","maintenance::workflow","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325516","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325516","notes":"https://gitlab.com/api/v4/projects/278964/issues/325516/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325516/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325516","relative":"#325516","full":"gitlab-org/gitlab#325516"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5931,"epic":{"id":264515,"iid":5931,"title":"Usage Ping Maintenance","url":"/groups/gitlab-org/-/epics/5931","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81289634,"iid":325436,"project_id":278964,"title":"Query Performance Investigation - Query ID -7713088029590850490 (ci_pipelines and merge_request_diff_commits tables)","description":"## Description\n\nThis query is frequently reported as top 10 in total time taken during the monitoring period. Consider caching or moving to read-only replicas\n\nExample report https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/issues/12889#note_533542103\n\n```sql\nWITH\n    \"shas\"\n    AS\n    (\n        SELECT \"merge_request_diff_commits\".\"sha\"\n        FROM \"merge_request_diff_commits\"\n        WHERE \"merge_request_diff_commits\".\"merge_request_diff_id\" IN (SELECT \"merge_request_diffs\".\"id\"\n        FROM \"merge_request_diffs\"\n        WHERE \"merge_request_diffs\".\"merge_request_id\" = $1 AND \"merge_request_diffs\".\"diff_type\" = $2\n        ORDER BY \"merge_request_diffs\".\"id\" DESC LIMIT $3) LIMIT\n     $4)\nSELECT \"ci_pipelines\".*\nFROM (        (\n        SELECT \"ci_pipelines\".*\n        FROM \"ci_pipelines\"\n        WHERE \"ci_pipelines\".\"source\" = $5 AND \"ci_pipelines\".\"merge_request_id\" = $6 AND \"ci_pipelines\".\"project_id\" IN ($7, $8)\n        )\n    UNION\n        (SELECT \"ci_pipelines\".*\n        FROM \"ci_pipelines\" INNER JOIN \"shas\" ON encode(\"shas\".\"sha\", $9) = \"ci_pipelines\".\"sha\"\n        WHERE \"ci_pipelines\".\"project_id\" = $10 AND (\"ci_pipelines\".\"source\" IN ($11, $12, $13, $14, $15, $16, $17, $18, $19) OR \"ci_pipelines\".\"source\" IS NULL) AND \"ci_pipelines\".\"ref\" = $20 AND \"ci_pipelines\".\"tag\" = $21)) ci_pipelines\nWHERE \"ci_pipelines\".\"project_id\" = $22 AND \"ci_pipelines\".\"source\" != $23\nORDER BY \"ci_pipelines\".\"id\" DESC, CASE ci_pipelines.source WHEN ($24) THEN $25 ELSE $26 END, ci_pipelines.id DESC\nLIMIT $27\n\n--application:web,controller:graphql,action:execute,correlation_id:01EZYR4BE7SQ38EAYZDWJ0B2WB/\n```\n\n\n### Requested Data points\n\nPlease provide as many of these fields as possible when submitting a query performance report.\n\n- Queries per second (on average or peak)\n- Number of calls per second and relative to total number of calls\n- Query timings (on average or peak)\n- Database time relative to total database time\n- Source of calls (Sidekiq, WebAPI, etc) `--application:web,controller:graphql,action:execute,correlation_id:01EZYR4BE7SQ38EAYZDWJ0B2WB/`\n- Query ID - -7713088029590850490\n\nJSON from https://log.gprd.gitlab.net/app/discover#/doc/97f04200-024b-11eb-81e5-155ba78758d4/pubsub-postgres-inf-gprd-000322?id=ilxPTXgBa0YDjQVgXv_t\n\n```json\n{\n  \"_index\": \"pubsub-postgres-inf-gprd-000322\",\n  \"_type\": \"_doc\",\n  \"_id\": \"ilxPTXgBa0YDjQVgXv_t\",\n  \"_version\": 1,\n  \"_score\": null,\n  \"_source\": {\n    \"@timestamp\": \"2021-03-20T01:45:50.286Z\",\n    \"json\": {\n      \"connection_from\": \"10.217.8.3:58338\",\n      \"duration_s\": \"1.191522\",\n      \"sql\": \"/*application:sidekiq,correlation_id:cc3b9d5304f28583433d8f99b814cd47,jid:3bd28c510fe1741418691f16,job_class:UpdateHeadPipelineForMergeRequestWorker,endpoint_id:UpdateHeadPipelineForMergeRequestWorker*/ WITH \\\"shas\\\" AS (SELECT \\\"merge_request_diff_commits\\\".\\\"sha\\\" FROM \\\"merge_request_diff_commits\\\" WHERE \\\"merge_request_diff_commits\\\".\\\"merge_request_diff_id\\\" IN (SELECT \\\"merge_request_diffs\\\".\\\"id\\\" FROM \\\"merge_request_diffs\\\" WHERE \\\"merge_request_diffs\\\".\\\"merge_request_id\\\" = $1 AND \\\"merge_request_diffs\\\".\\\"diff_type\\\" = $2 ORDER BY \\\"merge_request_diffs\\\".\\\"id\\\" DESC LIMIT $3) LIMIT $4) SELECT \\\"ci_pipelines\\\".* FROM ((SELECT \\\"ci_pipelines\\\".* FROM \\\"ci_pipelines\\\" WHERE \\\"ci_pipelines\\\".\\\"source\\\" = $5 AND \\\"ci_pipelines\\\".\\\"merge_request_id\\\" = $6 AND \\\"ci_pipelines\\\".\\\"project_id\\\" IN ($7, $8))\\nUNION\\n(SELECT \\\"ci_pipelines\\\".* FROM \\\"ci_pipelines\\\" INNER JOIN \\\"shas\\\" ON encode(\\\"shas\\\".\\\"sha\\\", $9) = \\\"ci_pipelines\\\".\\\"sha\\\" WHERE \\\"ci_pipelines\\\".\\\"project_id\\\" = $10 AND (\\\"ci_pipelines\\\".\\\"source\\\" IN ($11, $12, $13, $14, $15, $16, $17, $18, $19) OR \\\"ci_pipelines\\\".\\\"source\\\" IS NULL) AND \\\"ci_pipelines\\\".\\\"ref\\\" = $20 AND \\\"ci_pipelines\\\".\\\"tag\\\" = $21)) ci_pipelines WHERE (\\\"ci_pipelines\\\".\\\"sha\\\" = $22 OR \\\"ci_pipelines\\\".\\\"source_sha\\\" = $23) ORDER BY CASE ci_pipelines.source WHEN ($24) THEN $25 ELSE $26 END, ci_pipelines.id DESC LIMIT $27\",\n      \"session_line_num\": \"3\",\n      \"user_name\": \"gitlab\",\n      \"error_severity\": \"LOG\",\n      \"stage\": \"main\",\n      \"command_tag\": \"SELECT\",\n      \"hostname\": \"patroni-03-db-gprd\",\n      \"process_id\": \"79904\",\n      \"tier\": \"db\",\n      \"type\": \"patroni\",\n      \"time\": \"2021-03-20T01:45:11.617Z\",\n      \"job_class\": \"UpdateHeadPipelineForMergeRequestWorker\",\n      \"virtual_transaction_id\": \"24/43164252\",\n      \"sql_state_code\": \"00000\",\n      \"application\": \"sidekiq\",\n      \"application_name\": \"\",\n      \"session_id\": \"605551be.13820\",\n      \"endpoint_id\": \"UpdateHeadPipelineForMergeRequestWorker\",\n      \"fqdn\": \"patroni-03-db-gprd.c.gitlab-production.internal\",\n      \"tag\": \"postgres.postgres_csv\",\n      \"jid\": \"3bd28c510fe1741418691f16\",\n      \"environment\": \"gprd\",\n      \"database_name\": \"gitlabhq_production\",\n      \"session_start_time\": \"2021-03-20 01:37:02 GMT\",\n      \"transaction_id\": \"0\",\n      \"shard\": \"default\",\n      \"correlation_id\": \"cc3b9d5304f28583433d8f99b814cd47\"\n    },\n    \"ecs\": {\n      \"version\": \"1.5.0\"\n    },\n    \"host\": {\n      \"name\": \"pubsubbeat-pubsub-postgres-inf-gprd-b4b494569-xdnlq\"\n    },\n    \"type\": \"pubsubbeat-pubsub-postgres-inf-gprd-b4b494569-xdnlq\",\n    \"message_id\": \"2108206101523352\",\n    \"publish_time\": \"2021-03-20T01:45:50.266Z\"\n  },\n  \"fields\": {\n    \"publish_time\": [\n      \"2021-03-20T01:45:50.266Z\"\n    ],\n    \"@timestamp\": [\n      \"2021-03-20T01:45:50.286Z\"\n    ],\n    \"json.time\": [\n      \"2021-03-20T01:45:11.617Z\"\n    ]\n  },\n  \"highlight\": {\n    \"json.sql\": [\n      \"/*application:sidekiq,correlation_id:cc3b9d5304f28583433d8f99b814cd47,jid:3bd28c510fe1741418691f16,job_class:UpdateHeadPipelineForMergeRequestWorker,endpoint_id:UpdateHeadPipelineForMergeRequestWorker*/ WITH \\\"shas\\\" AS (SELECT \\\"@kibana-highlighted-field@merge_request_diff_commits@/kibana-highlighted-field@\\\".\\\"sha\\\" FROM \\\"@kibana-highlighted-field@merge_request_diff_commits@/kibana-highlighted-field@\\\" WHERE \\\"@kibana-highlighted-field@merge_request_diff_commits@/kibana-highlighted-field@\\\".\\\"merge_request_diff_id\\\" IN (SELECT \\\"merge_request_diffs\\\".\\\"id\\\" FROM \\\"merge_request_diffs\\\" WHERE \\\"merge_request_diffs\\\".\\\"merge_request_id\\\" = $1 AND \\\"merge_request_diffs\\\".\\\"diff_type\\\" = $2 ORDER BY \\\"merge_request_diffs\\\".\\\"id\\\" DESC LIMIT $3) LIMIT $4) SELECT \\\"ci_pipelines\\\".* FROM ((SELECT \\\"ci_pipelines\\\".* FROM \\\"ci_pipelines\\\" WHERE \\\"ci_pipelines\\\".\\\"source\\\" = $5 AND \\\"ci_pipelines\\\".\\\"merge_request_id\\\" = $6 AND \\\"ci_pipelines\\\".\\\"project_id\\\" IN ($7, $8))\\nUNION\\n(SELECT \\\"ci_pipelines\\\".* FROM \\\"ci_pipelines\\\" INNER JOIN \\\"shas\\\" ON encode(\\\"shas\\\".\\\"sha\\\", $9) = \\\"ci_pipelines\\\".\\\"sha\\\" WHERE \\\"ci_pipelines\\\".\\\"project_id\\\" = $10 AND (\\\"ci_pipelines\\\".\\\"source\\\" IN ($11, $12, $13, $14, $15, $16, $17, $18, $19) OR \\\"ci_pipelines\\\".\\\"source\\\" IS NULL) AND \\\"ci_pipelines\\\".\\\"ref\\\" = $20 AND \\\"ci_pipelines\\\".\\\"tag\\\" = $21)) ci_pipelines WHERE (\\\"ci_pipelines\\\".\\\"sha\\\" = $22 OR \\\"ci_pipelines\\\".\\\"source_sha\\\" = $23) ORDER BY CASE ci_pipelines.source WHEN ($24) THEN $25 ELSE $26 END, ci_pipelines.id DESC LIMIT $27\"\n    ]\n  },\n  \"sort\": [\n    1616204711617\n  ]\n}\n```\n\u003c!--\n\n- Example of a postgres checkup report - https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/snippets/2056787\n- Epic - Improving the Database resource usage (\u0026365) - https://gitlab.com/groups/gitlab-com/gl-infra/-/epics/365#short-term-query-improvements\n- Past examples of query performance investigations that have led to this template creation. \n - Possible Index suggestion or query rewriting (#292454) - https://gitlab.com/gitlab-org/gitlab/-/issues/292454)\n - High number of Sessions to the database with the value SET parameter (#292022) - https://gitlab.com/gitlab-org/gitlab/-/issues/292022)\n - Query performance \"Select 1\" (#220055) - https://gitlab.com/gitlab-org/gitlab/-/issues/220055\n - Select statements that are in execution during database CPU utilization peak times - licenses table (#292900)  - https://gitlab.com/gitlab-org/gitlab/-/issues/292900\n\n--\u003e","state":"closed","created_at":"2021-03-19T13:50:58.518Z","updated_at":"2021-09-15T13:30:03.648Z","closed_at":"2021-05-07T02:45:17.118Z","closed_by":{"id":3753003,"username":"cdu1","name":"Chun Du","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3753003/avatar.png","web_url":"https://gitlab.com/cdu1"},"labels":["Category:Pipeline Authoring","Deliverable","devops::verify","group::pipeline insights","section::ops","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-05-17","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325436","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325436","notes":"https://gitlab.com/api/v4/projects/278964/issues/325436/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325436/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325436","relative":"#325436","full":"gitlab-org/gitlab#325436"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5671,"epic":{"id":233225,"iid":5671,"title":"Query Performance Investigations (Epic)","url":"/groups/gitlab-org/-/epics/5671","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81254732,"iid":325422,"project_id":278964,"title":"Private project todos are not deleted after a user leaves a public group","description":"## Update: \nhttps://gitlab.com/gitlab-org/security/gitlab/-/merge_requests/1494 prevents these todos from being visible to the user, so the security vulnerability here is resolved. However, it would be good to clean this up for data integrity and to make sure that we don't regress on this vulnerability.\n\n----\nSimilar to https://gitlab.com/gitlab-org/gitlab/-/issues/325421, some todos are not deleted after leaving a public group.\n\nWhen a user leaves a public group, we call `enqueue_private_features_worker` which eventually calls `Todos::Destroy::PrivateFeaturesService` for each sub-project in this group where the user is not a reporter.\n\nThis service just checks for the feature's availability (if it's set to \"Project Members Only\", \"Everyone with access\", etc..) but this setting only makes sense for internal / public projects. So if it's set to \"Project Members Only\", the todos are removed.\n\nThe problem is that with a newly created private project, `issues_access_level` and `merge_requests_access_level` are set to `ENABLED` which is equivalent to \"Everyone with access\". (In the UI, it is displayed as \"Project Members Only\").\n\nIn other places like the issue list, this does not cause a leak because we check project access first before checking feature availability.\n\n### To reproduce\n\n1. Create a public group and a private project under it\n1. Create an issue in the private project\n1. Invite a user into the public group (any role)\n1. Now that the user is invited, they can see the private project. Using this invited user, add a todo to the issue in this project\n1. As the admin, remove this user from the public group\n1. Wait 1 hour (because [we delete todos 1 hour after membership removal](https://gitlab.com/gitlab-org/gitlab/blob/bba41afcf4753396556fb213d3f9920b97ebb40e/app/models/todo.rb#L7-10)) or manually execute `Todos::Destroy::EntityLeaveService.new(user.id, group.id, 'Group').execute`\n1. Even after the service is run, and the corresponding `PrivateFeaturesWorker` jobs finish, the todo on the issue is still visible to the user and leaks the issue title\n\nThis also applies to todos on merge requests\n\nBut if the project is private, this setting is not available and we just set this to `","state":"closed","created_at":"2021-03-19T06:42:08.639Z","updated_at":"2021-12-28T11:01:13.102Z","closed_at":"2021-12-28T10:12:37.514Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["backend","devops::plan","group::project management","priority::4","section::dev","security","security-backlog::review-complete","severity::4","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325422","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325422","notes":"https://gitlab.com/api/v4/projects/278964/issues/325422/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325422/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325422","relative":"#325422","full":"gitlab-org/gitlab#325422"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81245058,"iid":325416,"project_id":278964,"title":"Improve how much is highlighted when search settings","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nHighlight only the search term and not the whole line.\n\n| Current | Proposal |\n| ------ | ------ |\n| ![image](/uploads/0ac73fda8e46c79b3eb646599471cfdd/image.png) | ![image](/uploads/310c12807f2982be7130387e38c8c64d/image.png) |\n\n### Implementation guide\n\nThe current implementation of search settings captures the entire text node that contains the text that matches the search criteria. To refine the highlighted results, we have to split the text node that matches the search term in three subnodes:\n\n- The text within the node before the actual match.\n- The text within the node that matches the search term.\n- The text within the node after the actual match.\n\n\nHere’s a small prototype that demonstrates how to do it. This is not production ready code and we should optimize and make this code more maintainable.\n\n```diff\ndiff --git a/app/assets/javascripts/search_settings/components/search_settings.vue b/app/assets/javascripts/search_settings/components/search_settings.vue\nindex 116967a62c8..ae4233d8f8e 100644\n--- a/app/assets/javascripts/search_settings/components/search_settings.vue\n+++ b/app/assets/javascripts/search_settings/components/search_settings.vue\n@@ -9,6 +9,9 @@ const findSettingsSection = (sectionSelector, node) =\u003e {\n   return node.parentElement.closest(sectionSelector);\n };\n \n+const findSections = (sectionSelector, matches) =\u003e\n+  uniq(matches.map((match) =\u003e findSettingsSection(sectionSelector, match.parentElement)));\n+\n const restoreExpansionState = ({ expandSection, collapseSection }) =\u003e {\n   origExpansions.forEach((isExpanded, section) =\u003e {\n     if (isExpanded) {\n@@ -50,17 +53,27 @@ const hideSectionsExcept = (sectionSelector, visibleSections) =\u003e {\n     });\n };\n \n-const highlightElements = (elements = []) =\u003e {\n-  elements.forEach((element) =\u003e element.classList.add(HIGHLIGHT_CLASS));\n+const highlightElements = (searchTerm, matches = []) =\u003e {\n+  matches.forEach((match) =\u003e {\n+    const { parentElement } = match;\n+    const searchTermPosition = match.wholeText.indexOf(searchTerm);\n+    const matchedText = match.splitText(searchTermPosition);\n+    const unmatchedTextAfter = matchedText.splitText(searchTerm.length);\n+    const highlightedElement = document.createElement('span');\n+\n+    highlightedElement.classList.add(HIGHLIGHT_CLASS);\n+    highlightedElement.append(matchedText);\n+\n+    parentElement.append(highlightedElement, unmatchedTextAfter);\n+  });\n };\n \n-const displayResults = ({ sectionSelector, expandSection }, matches) =\u003e {\n-  const elements = matches.map((match) =\u003e match.parentElement);\n-  const sections = uniq(elements.map((element) =\u003e findSettingsSection(sectionSelector, element)));\n+const displayResults = ({ searchTerm, sectionSelector, expandSection }, matches) =\u003e {\n+  const sections = findSections(sectionSelector, matches);\n \n   hideSectionsExcept(sectionSelector, sections);\n   sections.forEach(expandSection);\n-  highlightElements(elements);\n+  highlightElements(searchTerm, matches);\n };\n \n const clearResults = (params) =\u003e {\n@@ -116,21 +129,23 @@ export default {\n   },\n   methods: {\n     search(value) {\n+      const searchTerm = value.toLowerCase();\n       const displayOptions = {\n         sectionSelector: this.sectionSelector,\n         expandSection: this.expandSection,\n         collapseSection: this.collapseSection,\n         isExpanded: this.isExpandedFn,\n+        searchTerm,\n       };\n \n-      this.searchTerm = value;\n+      this.searchTerm = searchTerm;\n \n       clearResults(displayOptions);\n \n       if (value.length) {\n         saveExpansionState(document.querySelectorAll(this.sectionSelector), displayOptions);\n \n-        displayResults(displayOptions, search(this.searchRoot, value));\n+        displayResults(displayOptions, search(this.searchRoot, searchTerm));\n       } else {\n         restoreExpansionState(displayOptions);\n       }\n\n\n```","state":"closed","created_at":"2021-03-19T02:48:09.656Z","updated_at":"2021-10-14T01:09:36.999Z","closed_at":"2021-10-14T01:09:36.977Z","closed_by":{"id":4140355,"username":"orozot","name":"zhitong ren","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4140355/avatar.png","web_url":"https://gitlab.com/orozot"},"labels":["Category:Navigation \u0026 Settings","devops::create","frontend","good for new contributors","group::editor","section::dev"],"milestone":null,"assignees":[{"id":4140355,"username":"orozot","name":"zhitong ren","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4140355/avatar.png","web_url":"https://gitlab.com/orozot"}],"author":{"id":2338505,"username":"mle","name":"Michael Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338505/avatar.png","web_url":"https://gitlab.com/mle"},"type":"ISSUE","assignee":{"id":4140355,"username":"orozot","name":"zhitong ren","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4140355/avatar.png","web_url":"https://gitlab.com/orozot"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325416","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325416","notes":"https://gitlab.com/api/v4/projects/278964/issues/325416/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325416/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325416","relative":"#325416","full":"gitlab-org/gitlab#325416"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81238114,"iid":325412,"project_id":278964,"title":"FE: Clarify membership via Invited Group","description":"This is the frontend issue for https://gitlab.com/gitlab-org/gitlab/-/issues/324658\n\nNote the [Success Criteria](https://gitlab.com/gitlab-org/gitlab/-/issues/324658#success-criteria) and [Designs](https://gitlab.com/gitlab-org/gitlab/-/issues/324658#designs)\n\n## Design\n\n![](/uploads/2c0e57589e5fbe0fdb142d3d9f4019ca/removal_warning.png)","state":"closed","created_at":"2021-03-18T22:33:49.768Z","updated_at":"2021-06-01T12:04:57.310Z","closed_at":"2021-05-17T13:32:50.272Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["#field-fyi","[deprecated] Category:Utilization","devops::fulfillment","frontend","group::utilization","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":27,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325412","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325412","notes":"https://gitlab.com/api/v4/projects/278964/issues/325412/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325412/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325412","relative":"#325412","full":"gitlab-org/gitlab#325412"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4547,"epic":{"id":121875,"iid":4547,"title":"GitLab.com Billable Members List","url":"/groups/gitlab-org/-/epics/4547","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":81237381,"iid":325410,"project_id":278964,"title":"Remove the api_fuzzing_configuration_ui feature flag","description":"- [x] Remove the `api_fuzzing_configuration_ui` feature flag and add a changelog entry.\n\nFollows-up on the rollout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/299465","state":"closed","created_at":"2021-03-18T22:09:14.742Z","updated_at":"2021-10-13T14:48:40.597Z","closed_at":"2021-04-08T13:37:46.725Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:Fuzz Testing","Deliverable","backend","devops::secure","feature flag","frontend","group::dynamic analysis","section::sec","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325410","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325410","notes":"https://gitlab.com/api/v4/projects/278964/issues/325410/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325410/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325410","relative":"#325410","full":"gitlab-org/gitlab#325410"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4940,"epic":{"id":146555,"iid":4940,"title":"API Fuzz testing configuration","url":"/groups/gitlab-org/-/epics/4940","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81236482,"iid":325400,"project_id":278964,"title":"Migrate to shared alert HAML partial in ee/app/views/admin/licenses/show.html.haml","description":"\nUpdate `ee/app/views/admin/licenses/show.html.haml` to leverage the shared alert HAML partial (`app/views/shared/_global_alert.html.haml`).\n\nRefer to the [epic](https://gitlab.com/groups/gitlab-org/-/epics/5213) for detailed migration instructions.\n\n* [x] The alert is rendered with `render 'shared/global_alert'`.\n* [x] The alert's body is placed in the partial's block and wrapped in a `.gl-alert-body` selector.\n* [ ] If the alert has actions, they are rendered in the partial's block, below the body, and wrapped in a `.gl-alert-actions` selector.\n    * [ ] If there are multiple action buttons, they are separated with a `.gl-ml-3` margin or equivalent.\n* [x] If the alert has a title, it is set via the `title` parameter.\n* [x] The alert's variant is set via the `variant` parameter (can be omitted for info alerts).\n* [x] If the alert is non-dismissible, the `dismissible` parameter is set to `false`.\n* [ ] Alert's classes are set via the `alert_class` parameter.\n* [ ] Alert's data attributes are set via the `alert_data` parameter.\n* [ ] Alert's dismiss button's classes are set via the `close_button_class` parameter.\n* [ ] Alert's dismiss button's data attributes are set via the `close_button_data` parameter.\n* [x] If the alert is rendered inside the primary content, the `is_contained` parameter is set to `true`.","state":"closed","created_at":"2021-03-18T21:48:17.298Z","updated_at":"2022-11-22T19:47:03.962Z","closed_at":"2021-06-24T00:59:21.223Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:Design System","auto updated","component:alert","devops::manage","group::ecosystem [DEPRECATED]","section::dev","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325400","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":6},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325400","notes":"https://gitlab.com/api/v4/projects/278964/issues/325400/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325400/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325400","relative":"#325400","full":"gitlab-org/gitlab#325400"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5213,"epic":{"id":181598,"iid":5213,"title":"GlAlert \u003e Migrate to shared the Pajamas::AlertComponent ViewComponent to match the Vue component","url":"/groups/gitlab-org/-/epics/5213","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":81236467,"iid":325387,"project_id":278964,"title":"Migrate to Pajamas::AlertComponent ViewComponent in app/views/shared/_group_form.html.haml","description":"Update `app/views/shared/_group_form.html.haml` to leverage the `Pajamas::AlertComponent` ViewComponent.\n  \n  Refer to the [epic](https://gitlab.com/groups/gitlab-org/-/epics/5213) for detailed migration instructions.\n  \n  * [ ] The alert is rendered with `render Pajamas::AlertComponent.new`.\n  * [ ] The alert's body is placed in the component's block and wrapped in the `c.body` [slot](https://viewcomponent.org/guide/slots.html).\n  * [ ] If the alert has actions, they are rendered in the component's block, below the body, and wrapped in the `c.actions` [slot](https://viewcomponent.org/guide/slots.html).\n      * [ ] If there are multiple action buttons, they are separated with a `.gl-ml-3` margin or equivalent.\n  * [ ] If the alert has a title, it is set via the `title` parameter.\n  * [ ] The alert's variant is set via the `variant` parameter (can be omitted for info alerts).\n  * [ ] If the alert is non-dismissible, the `dismissible` parameter is set to `false`.\n  * [ ] Alert's classes are set via the `alert_class` parameter.\n  * [ ] Alert's data attributes are set via the `alert_data` parameter.\n  * [ ] Alert's dismiss button's classes are set via the `close_button_class` parameter.\n  * [ ] Alert's dismiss button's data attributes are set via the `close_button_data` parameter.","state":"closed","created_at":"2021-03-18T21:48:11.533Z","updated_at":"2022-11-22T19:47:12.491Z","closed_at":"2022-07-15T19:10:31.593Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Design System","OKR","SUS::Impacting","auto updated","component:alert","devops::manage","group::acquisition","pajamas::integrate","section::dev","severity::4","type::maintenance"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325387","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325387","notes":"https://gitlab.com/api/v4/projects/278964/issues/325387/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325387/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325387","relative":"#325387","full":"gitlab-org/gitlab#325387"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5213,"epic":{"id":181598,"iid":5213,"title":"GlAlert \u003e Migrate to shared the Pajamas::AlertComponent ViewComponent to match the Vue component","url":"/groups/gitlab-org/-/epics/5213","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":81236453,"iid":325376,"project_id":278964,"title":"Migrate to shared alert HAML partial in app/views/projects/mirrors/_mirror_repos.html.haml","description":"Update `app/views/projects/mirrors/_mirror_repos.html.haml` to leverage the shared alert HAML partial (`app/views/shared/_global_alert.html.haml`).\n  \n  Refer to the [epic](https://gitlab.com/groups/gitlab-org/-/epics/5213) for detailed migration instructions.\n  \n  * [x] The alert is rendered with `render 'shared/global_alert'`.\n  * [x] The alert's body is placed in the partial's block and wrapped in a `.gl-alert-body` selector.\n  * [ ] If the alert has actions, they are rendered in the partial's block, below the body, and wrapped in a `.gl-alert-actions` selector.\n      * [ ] If there are multiple action buttons, they are separated with a `.gl-ml-3` margin or equivalent.\n  * [ ] If the alert has a title, it is set via the `title` parameter.\n  * [x] The alert's variant is set via the `variant` parameter (can be omitted for info alerts).\n  * [x] If the alert is non-dismissible, the `dismissible` parameter is set to `false`.\n  * [ ] Alert's classes are set via the `alert_class` parameter.\n  * [ ] Alert's data attributes are set via the `alert_data` parameter.\n  * [ ] Alert's dismiss button's classes are set via the `close_button_class` parameter.\n  * [ ] Alert's dismiss button's data attributes are set via the `close_button_data` parameter.","state":"closed","created_at":"2021-03-18T21:48:06.189Z","updated_at":"2022-11-22T19:47:21.688Z","closed_at":"2022-03-21T14:04:27.244Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Design System","Category:Purchase","OKR","SUS::Impacting","auto updated","component:alert","devops::manage","frontend","group::purchase","missed:14.9","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325376","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325376","notes":"https://gitlab.com/api/v4/projects/278964/issues/325376/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325376/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325376","relative":"#325376","full":"gitlab-org/gitlab#325376"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5213,"epic":{"id":181598,"iid":5213,"title":"GlAlert \u003e Migrate to shared the Pajamas::AlertComponent ViewComponent to match the Vue component","url":"/groups/gitlab-org/-/epics/5213","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":81236446,"iid":325369,"project_id":278964,"title":"Migrate to shared alert HAML partial in app/views/projects/commits/_commits.html.haml","description":"Update `app/views/projects/commits/_commits.html.haml` to leverage the shared alert HAML partial (`app/views/shared/_global_alert.html.haml`).\n  \n  Refer to the [epic](https://gitlab.com/groups/gitlab-org/-/epics/5213) for detailed migration instructions.\n  \n  * [ ] The alert is rendered with `render 'shared/global_alert'`.\n  * [ ] The alert's body is placed in the partial's block and wrapped in a `.gl-alert-body` selector.\n  * [ ] If the alert has actions, they are rendered in the partial's block, below the body, and wrapped in a `.gl-alert-actions` selector.\n      * [ ] If there are multiple action buttons, they are separated with a `.gl-ml-3` margin or equivalent.\n  * [ ] If the alert has a title, it is set via the `title` parameter.\n  * [ ] The alert's variant is set via the `variant` parameter (can be omitted for info alerts).\n  * [ ] If the alert is non-dismissible, the `dismissible` parameter is set to `false`.\n  * [ ] Alert's classes are set via the `alert_class` parameter.\n  * [ ] Alert's data attributes are set via the `alert_data` parameter.\n  * [ ] Alert's dismiss button's classes are set via the `close_button_class` parameter.\n  * [ ] Alert's dismiss button's data attributes are set via the `close_button_data` parameter.","state":"closed","created_at":"2021-03-18T21:48:03.518Z","updated_at":"2022-11-22T19:47:27.869Z","closed_at":"2022-03-16T23:54:05.131Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Design System","OKR","SUS::Impacting","auto updated","component:alert","devops::manage","frontend","group::purchase","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325369","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325369","notes":"https://gitlab.com/api/v4/projects/278964/issues/325369/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325369/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325369","relative":"#325369","full":"gitlab-org/gitlab#325369"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5213,"epic":{"id":181598,"iid":5213,"title":"GlAlert \u003e Migrate to shared the Pajamas::AlertComponent ViewComponent to match the Vue component","url":"/groups/gitlab-org/-/epics/5213","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":81236442,"iid":325365,"project_id":278964,"title":"Migrate to shared alert HAML partial in app/views/projects/_deletion_failed.html.haml","description":"Update `app/views/projects/_deletion_failed.html.haml` to leverage the shared alert HAML partial (`app/views/shared/_global_alert.html.haml`).\n  \n  Refer to the [epic](https://gitlab.com/groups/gitlab-org/-/epics/5213) for detailed migration instructions.\n  \n  * [ ] The alert is rendered with `render 'shared/global_alert'`.\n  * [ ] The alert's body is placed in the partial's block and wrapped in a `.gl-alert-body` selector.\n  * [ ] If the alert has actions, they are rendered in the partial's block, below the body, and wrapped in a `.gl-alert-actions` selector.\n      * [ ] If there are multiple action buttons, they are separated with a `.gl-ml-3` margin or equivalent.\n  * [ ] If the alert has a title, it is set via the `title` parameter.\n  * [ ] The alert's variant is set via the `variant` parameter (can be omitted for info alerts).\n  * [ ] If the alert is non-dismissible, the `dismissible` parameter is set to `false`.\n  * [ ] Alert's classes are set via the `alert_class` parameter.\n  * [ ] Alert's data attributes are set via the `alert_data` parameter.\n  * [ ] Alert's dismiss button's classes are set via the `close_button_class` parameter.\n  * [ ] Alert's dismiss button's data attributes are set via the `close_button_data` parameter.","state":"closed","created_at":"2021-03-18T21:48:01.912Z","updated_at":"2022-11-22T19:47:30.859Z","closed_at":"2022-03-18T08:56:28.964Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Design System","OKR","SUS::Impacting","[deprecated] Category:Utilization","auto updated","component:alert","devops::manage","frontend","group::utilization","pajamas::integrate","section::fulfillment","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325365","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325365","notes":"https://gitlab.com/api/v4/projects/278964/issues/325365/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325365/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325365","relative":"#325365","full":"gitlab-org/gitlab#325365"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5213,"epic":{"id":181598,"iid":5213,"title":"GlAlert \u003e Migrate to shared the Pajamas::AlertComponent ViewComponent to match the Vue component","url":"/groups/gitlab-org/-/epics/5213","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":81236440,"iid":325363,"project_id":278964,"title":"Migrate to Pajamas::AlertComponent ViewComponent in app/views/profiles/notifications/show.html.haml","description":"Update `app/views/profiles/notifications/show.html.haml` to leverage the `Pajamas::AlertComponent` ViewComponent.\n  \n  Refer to the [epic](https://gitlab.com/groups/gitlab-org/-/epics/5213) for detailed migration instructions.\n  \n  * [ ] The alert is rendered with `render Pajamas::AlertComponent.new`.\n  * [ ] The alert's body is placed in the component's block and wrapped in a `.gl-alert-body` selector.\n  * [ ] If the alert has actions, they are rendered in the component's block, below the body, and wrapped in a `.gl-alert-actions` selector.\n      * [ ] If there are multiple action buttons, they are separated with a `.gl-ml-3` margin or equivalent.\n  * [ ] If the alert has a title, it is set via the `title` parameter.\n  * [ ] The alert's variant is set via the `variant` parameter (can be omitted for info alerts).\n  * [ ] If the alert is non-dismissible, the `dismissible` parameter is set to `false`.\n  * [ ] Alert's classes are set via the `alert_class` parameter.\n  * [ ] Alert's data attributes are set via the `alert_data` parameter.\n  * [ ] Alert's dismiss button's classes are set via the `close_button_class` parameter.\n  * [ ] Alert's dismiss button's data attributes are set via the `close_button_data` parameter.","state":"closed","created_at":"2021-03-18T21:48:01.041Z","updated_at":"2022-04-07T13:07:52.061Z","closed_at":"2022-04-07T12:56:55.031Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Design System","OKR","SUS::Impacting","auto updated","component:alert","devops::manage","group::import","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325363","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325363","notes":"https://gitlab.com/api/v4/projects/278964/issues/325363/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325363/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325363","relative":"#325363","full":"gitlab-org/gitlab#325363"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5213,"epic":{"id":181598,"iid":5213,"title":"GlAlert \u003e Migrate to shared the Pajamas::AlertComponent ViewComponent to match the Vue component","url":"/groups/gitlab-org/-/epics/5213","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":81236430,"iid":325353,"project_id":278964,"title":"Migrate to shared alert HAML partial in app/views/admin/groups/_form.html.haml","description":"Update `app/views/admin/groups/_form.html.haml` to leverage the shared alert HAML partial (`app/views/shared/_global_alert.html.haml`).\n  \n  Refer to the [epic](https://gitlab.com/groups/gitlab-org/-/epics/5213) for detailed migration instructions.\n  \n  * [ ] The alert is rendered with `render 'shared/global_alert'`.\n  * [ ] The alert's body is placed in the partial's block and wrapped in a `.gl-alert-body` selector.\n  * [ ] If the alert has actions, they are rendered in the partial's block, below the body, and wrapped in a `.gl-alert-actions` selector.\n      * [ ] If there are multiple action buttons, they are separated with a `.gl-ml-3` margin or equivalent.\n  * [ ] If the alert has a title, it is set via the `title` parameter.\n  * [ ] The alert's variant is set via the `variant` parameter (can be omitted for info alerts).\n  * [ ] If the alert is non-dismissible, the `dismissible` parameter is set to `false`.\n  * [ ] Alert's classes are set via the `alert_class` parameter.\n  * [ ] Alert's data attributes are set via the `alert_data` parameter.\n  * [ ] Alert's dismiss button's classes are set via the `close_button_class` parameter.\n  * [ ] Alert's dismiss button's data attributes are set via the `close_button_data` parameter.","state":"closed","created_at":"2021-03-18T21:47:56.766Z","updated_at":"2022-11-22T19:47:37.567Z","closed_at":"2022-03-18T08:58:45.286Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Design System","OKR","SUS::Impacting","[deprecated] Category:Utilization","auto updated","component:alert","devops::manage","group::utilization","pajamas::integrate","section::fulfillment","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4017299,"username":"jeldergl","name":"Jeremy Elder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017299/avatar.png","web_url":"https://gitlab.com/jeldergl"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325353","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325353","notes":"https://gitlab.com/api/v4/projects/278964/issues/325353/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325353/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325353","relative":"#325353","full":"gitlab-org/gitlab#325353"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5213,"epic":{"id":181598,"iid":5213,"title":"GlAlert \u003e Migrate to shared the Pajamas::AlertComponent ViewComponent to match the Vue component","url":"/groups/gitlab-org/-/epics/5213","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":81234766,"iid":325348,"project_id":278964,"title":"Improve pipeline speed for building API Security","description":"### Problem\n\nPipeline time has increased allot in recent months (45min/1hr). This slows down development.\n\n### Proposal\n\n1. [ ] Create a scheduled job to do the following:\n   1. [ ] Run twice a week\n   1. [ ] Trigger when container scanning or dependency scanning jobs fail\n   1. [x] Build cryptography wheel and publish to package registry\n   1. [x] Build base image for containers and publish to container registry. build stage 17min -\u003e 7min\n1. [x] Use projects package registry for test jobs\n1. [x] Investigate slow test job times. Some jobs are taking 15 minutes. Split up or optimize testing.\n\n| job | time  | new time |\n| ---  | ----- |----------|\n| build | 17m  | 7m |\n|tests_int_py38 1/3 | 15m | |\n|tests_int_py38 2/3 | 16m | |\n|tests_int_py38 3/3 | 12m | |\n|tests_int_worker-entry 3/7 | 16m | |\n|tests_int_worker-entry 5/7 | 15m | |\n|tests_unit_py38 | 28m | 12m |","state":"closed","created_at":"2021-03-18T21:08:31.481Z","updated_at":"2022-03-16T11:44:32.822Z","closed_at":"2021-03-26T20:31:05.021Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","type::maintenance","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325348","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325348","notes":"https://gitlab.com/api/v4/projects/278964/issues/325348/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325348/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325348","relative":"#325348","full":"gitlab-org/gitlab#325348"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81233726,"iid":325347,"project_id":278964,"title":"Convert all CI jobs into scripts for api security repo","description":"### Problem\n\nLocal test/build scripts in `build/local` get out of date with the `.gitlab-ci.yml` file. This happens because the `build/local` scripts are lightly modified duplicates of the ci jobs `script` section.\n\n### Proposal\n\n- Location of ci job scripts: `build/jobs/`\n- ~~Location of local scripts: `build/local/`~~ `[1]`\n\n~~The `build/local` scripts will call the `build/jobs` scripts.~~\n\n1. [x] Convert job script sections to actual scripts that can be used in both the .gitlab-ci.yml file ~~and also in the `build/local` scripts.~~\n    1. [X] Add scripts into `build/jobs` based on existing in-use jobs\n    1. [X] Remove unused jobs    \n    1. [-] ~~Sync up / test scripts at `build/local/`~~ `[1]`\n1. [X] Add a test to verify each job script has a corresponding build/local script and vice versa\n\n\u003e `[1]` After runner integration, local scripts are no longer needed. They can be removed instead of updated.\n\n### Explanation\n\u003e job `tests_unit_peach` **before edition**\n \n```yaml\ntests_unit_peach:\n    extends: .tests_unit\n    script:\n        - ./output/build/loadcontainerimage.sh\n        - cd output/Test\n        - export SCOPE=unit\n        - ./cacheorloadcontainer.sh dotnet\n        - ./buildorloadflasktarget.sh\n        - ./cacheorloadcontainer.sh unit\n        - docker-compose -f docker-compose.unit.yml up --abort-on-container-exit\n        #- docker-compose -f docker-compose.yml -f docker-compose.unit.yml up --abort-on-container-exit\n        - ./checkstatus.sh --scope unit --testname unit\n```\n\nNote that the script to be invoked is using **$CI_JOB_NAME** env var.\n\n\u003e job `tests_unit_peach` **after edition**\n```yaml\ntests_unit_peach:\n    extends: .tests_unit\n    script:\n        - ./output/build/jobs/$CI_JOB_NAME\n```\n\nIn scripts for `build/jobs` or `build/local`, they compute `$DIR` and `$ROOT` variables (current directory, and root directory). This is a common code for all scripts.\n\n\u003e `$DIR` and `$ROOT` script computation\n```bash\n#!/bin/bash\nSOURCE=\"${BASH_SOURCE[0]}\"\nwhile [ -h \"$SOURCE\" ]; do # resolve $SOURCE until the file is no longer a symlink\n  DIR=\"$( cd -P \"$( dirname \"$SOURCE\" )\" \u003e/dev/null 2\u003e\u00261 \u0026\u0026 pwd )\"\n  SOURCE=\"$(readlink \"$SOURCE\")\"\n  [[ $SOURCE != /* ]] \u0026\u0026 SOURCE=\"$DIR/$SOURCE\" # if $SOURCE was a relative symlink, we need to resolve it relative to the path where the symlink file was located\ndone\nDIR=\"$( cd -P \"$( dirname \"$SOURCE\" )\" \u003e/dev/null 2\u003e\u00261 \u0026\u0026 pwd )\"\nROOT=$DIR/../../..\n\n# ###########################################\n```\n\n**Job Script**\n\nMust be placed in `build/jobs/`. If file does not exist, then it has to be created.\n\n\u003e  `build/job/tests_unit_peach`\n\n```bash\nexport SCOPE=unit\n\n./output/build/loadcontainerimage.sh --debugonly\n\ncd output/Test\n\n./cacheorloadcontainer.sh dotnet\n./buildorloadflasktarget.sh\n./cacheorloadcontainer.sh unit\n\ndocker-compose -f docker-compose.unit.yml up --abort-on-container-exit\n\n./checkstatus.sh --scope unit --testname unit\n\n# end\n```\n\n~~**Local Script**~~\n\n~~Must be placed in `build/local/`. If file does not exist, then it has to be created. If it exists, its content is based on the `job script`, it could be outdated.~~\n\n~~The goal is that  `local script` should invoke `job script` thus logic can be in one location.~~\n\n\u003e **before** \n`\n```bash\ncd web/Test\nexport SCOPE=integration\n\nsource ../../output/buildtag\necho \"buildtag: $BUILDTAG\"\n\ndocker load \u003c ../../output/web_debug/containers/docker-peach_web_debug-$BUILDTAG.tar\ndocker tag peach_web_debug:$BUILDTAG test-worker\n\n./buildorloadflasktarget.sh\n\nexport FUZZAPI_CONFIG=/configs/gitlab-api-fuzzing-config-dast.yml\nexport FUZZAPI_PROFILE=Quick\ndocker-compose -f docker-compose.gitlab.har.yml up --abort-on-container-exit\n\n./checkjunitfaultcount.sh ../../output/int-report-har.xml 37\n```\n\n\u003e **after**\n\n```bash\n./build/jobs/build_base\n```\n\nFollowing jobs will need to be removed:\n- [X] .tests_unit_openjdk\n- [X] .tests_unit_oracle\n- [X] .tests_unit_openjdk\n- [-] ~~tests_unit_flask~~ (removed when flask target was moved to its own project)\n- [-] ~~tests_int_flask~~ (removed when flask target was moved to its own project)\n- [X] .val_dl_assets\n- [X] .tests_int_openjdk\n- [X] .tests_int_oracle\n- [X] .tests_int_nodejs\n\nFollowing jobs might need to be converted to scripts\n- [X] tests_unit_peach\n- [X] tests_unit_flask\n- [X] tests_unit_py38\n- [X] tests_int_flask\n- [X] tests_int_worker-entry\n- [X] tests_int_py38\n- [X] tests_int_config_dast-quick\n- [X] tests_int_config_fuzzing-quick\n- [X] tests_int_config_fuzzing-headers-quick\n- [X] tests_int_har\n- [X] tests_int_openapi\n- [X] tests_int_postman\n\n### Links\n\n- (May be used to validate YAML) `yq` ( equivalente to `jq`, to perform `yaml` queries in `CLI`)\n    - [yq - pip install](https://kislyuk.github.io/yq/#installation)\n    - [yq - alpine install](https://mikefarah.gitbook.io/yq/#alpine-linux)","state":"closed","created_at":"2021-03-18T20:53:26.055Z","updated_at":"2022-03-16T11:44:33.504Z","closed_at":"2021-11-05T13:29:52.747Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325347","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":23,"completed_count":23},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"23 of 23 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325347","notes":"https://gitlab.com/api/v4/projects/278964/issues/325347/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325347/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325347","relative":"#325347","full":"gitlab-org/gitlab#325347"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81224401,"iid":325330,"project_id":278964,"title":"Add missing flags to semgrep run in our semgrep analyzer","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e\n\nWe should consider adding the following flags [when we call semgrep] in our [semgrep analyzer](https://gitlab.com/gitlab-org/security-products/analyzers/semgrep). There may be other good flags to add which we can possibly find by reviewing the [GitHub Actions setup] and the [GitLab semgrep integration].\n\n* --no-rewrite-rule-ids (this will help protect us from our ids changing if we ever refactor our rules directory)\n* --strict (this will ensure that semgrep exits if it sees errors in the rules)\n* --no-git-ignore (this will ensure we preserve the same behavior as other analyzers not caring about the .gitignore file)\n\n### Tasks\n\n- [x] Review [GitHub Actions setup] for other adjustments with how we run semgrep.\n- [x] Review [GitLab semgrep integration] for other adjustments with how we run semgrep.\n- [x] Add the following flags [when we call semgrep]:\n  * --no-rewrite-rule-ids\n  * --strict\n  * --no-git-ignore \n\n[when we call semgrep]: https://gitlab.com/gitlab-org/security-products/analyzers/semgrep/-/blob/main/analyze.go#L26\n[GitHub Actions setup]: https://github.com/returntocorp/semgrep-action\n[GitLab semgrep integration]: https://github.com/returntocorp/semgrep-action/blob/9fa2034b683794df159185b9567c8d339b18a2dc/src/semgrep_agent/findings.py#L123","state":"closed","created_at":"2021-03-18T18:54:12.144Z","updated_at":"2021-05-24T13:29:07.666Z","closed_at":"2021-05-05T15:13:50.487Z","closed_by":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"labels":["Category:SAST","Deliverable","GitLab Core","GitLab Premium","GitLab Ultimate","backend","devops::secure","group::static analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"}],"author":{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"},"type":"ISSUE","assignee":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325330","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325330","notes":"https://gitlab.com/api/v4/projects/278964/issues/325330/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325330/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325330","relative":"#325330","full":"gitlab-org/gitlab#325330"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5797,"epic":{"id":252445,"iid":5797,"title":"Promote semgrep to general availability","url":"/groups/gitlab-org/-/epics/5797","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81217409,"iid":325324,"project_id":278964,"title":"Update bundler-audit to 0.8.0","description":"### Problem to solve\n\nbundler-audit `0.8.0` is available, we should consider upgrading [our analyzer](https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit).\n\n### Proposal\n\nPlease carefully check the [how to update the upstream Scanner](https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit#how-to-update-the-upstream-scanner).\n\nOr follow the default workflow:\n\n- [ ] review the changelog\n- [ ] update the pinned version (in the Dockerfile or script or template, the mileage may vary)\n- [ ] make sure all test passes\n\n### Testing\n\n- [ ] Check relevant test projects leveraging bundler-audit and make sure QA pipelines are passing with this new version:\n[QA projects for Dependency Scanning](https://gitlab.com/explore/projects?tag=GL-Secure-QA,Dependency+Scanning)\n\nhttps://gitlab-org.gitlab.io/quality/ci/secure-test-project-orchestrator/ - Sort by `bundler-audit` , `bundler-audit-dependency_scanning` shows `Custom CA` and `ruby-bundler`\n\n### What does success look like, and how can we measure that?\n\nOur feature is leveraging the latest version (`0.8.0`) of bundler-audit.\n\n### What is the type of buyer?\n\n~\"GitLab Ultimate\"\n\n### Links / references","state":"closed","created_at":"2021-03-18T17:44:04.611Z","updated_at":"2021-12-08T14:19:47.076Z","closed_at":"2021-08-10T15:57:32.248Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","Stretch","backend","blocked","devops::secure","group::composition analysis","missed-deliverable","missed:13.12","missed:14.0","quad-planning::complete-no-action","section::sec","type::maintenance","upstream deps","won't do","wontfix","workflow::in dev"],"milestone":null,"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325324","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325324","notes":"https://gitlab.com/api/v4/projects/278964/issues/325324/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325324/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325324","relative":"#325324","full":"gitlab-org/gitlab#325324"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":81212533,"iid":325320,"project_id":278964,"title":"Design: Improve the UX and UI of the Kubernetes cluster page","description":"## Problem to solve\n\nAfter the agent was released the experience of selecting `Create new cluster` and `Add existing cluster` (under the tab Cluster integrated with certificate) includes onboarding information about Kubernetes that is not relevant any more as this will be the second step of the new flow. Also the user flow is not intuitive any more and involves too many tabs where the information hierarchy is not clear not represented in the UI. In addition there is no way to go back (besides the browser back button).\n\nThe problem in a nutshell: \n\nWhen the users click the button “Connect cluster with certificate” they navigate to this page:\n\n![Screenshot_2020-09-23_at_19.28.05](/uploads/3c3ef773f7f9e3d05aa491df0b03c994/Screenshot_2020-09-23_at_19.28.05.png)\nScreen 2 - Old landing page for cluster integration\n\nThe UX problems with this:\n- The tabs GitLab Agent managed clusters and Clusters connected with Certificate are not visible in this flow (screen 2). \n- If the user changes his/her mind there is no obvious way in the UI to navigate back (besides the browser back button).\n- The hierarchy is not visible. The top level: clusters integrated with certificate is missing from this view.\n- This page looks like a Kubernetes intro page because of the text on the left in screen 2.\n- The look and feel of tabs is different creating a sense of inconsistency.\n\n**Video recording from the current navigation**\n\n![Kubernetes_nav_experience](/uploads/0199a80a8e01539cb879953643924699/Kubernetes_nav_experience.mov)\n\n## Proposal \n\nThis is part of the work that needs to be done for https://gitlab.com/gitlab-org/gitlab/-/issues/254998/.\n\nThis UI is outdated and does not serve the same navigation purposes it did before we introduced the Agent tab. To improve the navigation and usability of the page I propose to make the following changes.\n\n1. Add the two actions `Create new cluster` and `Connect existing cluster` in the tab `Clusters connected with a certificate` (designs for the empty state and the listing page are provided below).\n2. Remove the tabs `Create new cluster` and `Connect existing cluster` from the page that the navigation Operations -\u003e Kubernetes -\u003e Integrate with a cluster certificate/Connect cluster with certificate leads to.\n3. Redesign the initial pages `Create new cluster` and `Connect existing cluster`. Remove the help text on the left and make the buttons full width. (designs are provided below).\n\n### 1. Add the two actions `Create new cluster` and `Connect existing cluster` in the tab `Clusters connected with a certificate` \n\n![001__Kubernetes_clusters_-_Actions__1__copy](/uploads/69f170de2b8d1d7b80787a76798f62e5/001__Kubernetes_clusters_-_Actions__1__copy.png)\n\n![002__Kubernetes_clusters_-_Actions__2__copy_2](/uploads/c1b1d9c803a54182fe2186d9ec4d6c36/002__Kubernetes_clusters_-_Actions__2__copy_2.png)\n\n![000__Kubernetes_clusters-Empty_state](/uploads/b3536ce38a6945f84cc4a8599a9f7165/000__Kubernetes_clusters-Empty_state.png)\n\n### 2\u00263. Remove the tabs `Create new cluster` and `Connect existing cluster` and redesign the page under \"Connect cluster with certificate\"\n\n**Connect existing cluster**\n\n![003__Kubernetes_clusters_-_connect_existing_cluster__1_](/uploads/5ac3148470c39c46b60e14a306903612/003__Kubernetes_clusters_-_connect_existing_cluster__1_.png)\n\n![004__Kubernetes_clusters_-_connect_existing_cluster__2_](/uploads/59c7bb67ff72209012908003669a579e/004__Kubernetes_clusters_-_connect_existing_cluster__2_.png)\n\n**Create new cluster** \n\n![005__Kubernetes_clusters_-_create_new_cluster__1_](/uploads/e1366b35e1584a11a05b374a53e30f82/005__Kubernetes_clusters_-_create_new_cluster__1_.png)\n\n![006__Kubernetes_clusters_-_create_new_cluster__2_](/uploads/648b7bb1f58b97a6614934ebd320e0f7/006__Kubernetes_clusters_-_create_new_cluster__2_.png)\n\n![007__Kubernetes_clusters_-_create_new_cluster__3_](/uploads/26fc9ab5286f407f6a3de12af5085fbb/007__Kubernetes_clusters_-_create_new_cluster__3_.png)\n\n![010__Kubernetes_clusters_-_create_new_cluster__4_](/uploads/f86ec7335276168ba075cdcc209072c9/010__Kubernetes_clusters_-_create_new_cluster__4_.png)\n**Connect existing cluster**\n\n![003__Kubernetes_clusters_-_connect_existing_cluster__1_](/uploads/878de46fc5cac094db8116b274058429/003__Kubernetes_clusters_-_connect_existing_cluster__1_.png)\n\n![004__Kubernetes_clusters_-_connect_existing_cluster__2_](/uploads/d9181861ce1334ba02a80af277092be1/004__Kubernetes_clusters_-_connect_existing_cluster__2_.png)\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n### Next steps (issue https://gitlab.com/gitlab-org/gitlab/-/issues/254998/):\n\n- Improve the language to reflect the users' mental model around the GitLab Kubernetes management.\n- Introduce an All tab where cluster for both integration types will be shown.\n- Update the breadcrumb to reflect all the hierarchies of the navigation.","state":"closed","created_at":"2021-03-18T17:01:38.095Z","updated_at":"2021-05-10T16:14:48.116Z","closed_at":"2021-03-18T17:01:47.458Z","closed_by":{"id":4419304,"username":"mvrachni","name":"Maria Vrachni","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4419304/avatar.png","web_url":"https://gitlab.com/mvrachni"},"labels":["Category:Kubernetes Management","UI polish","UX","group::configure","section::ops"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":4419304,"username":"mvrachni","name":"Maria Vrachni","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4419304/avatar.png","web_url":"https://gitlab.com/mvrachni"}],"author":{"id":4419304,"username":"mvrachni","name":"Maria Vrachni","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4419304/avatar.png","web_url":"https://gitlab.com/mvrachni"},"type":"ISSUE","assignee":{"id":4419304,"username":"mvrachni","name":"Maria Vrachni","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4419304/avatar.png","web_url":"https://gitlab.com/mvrachni"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325320","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325320","notes":"https://gitlab.com/api/v4/projects/278964/issues/325320/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325320/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325320","relative":"#325320","full":"gitlab-org/gitlab#325320"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81200905,"iid":325306,"project_id":278964,"title":"Geo Status Page 2.0 - CSS Exploration Followup","description":"## What/Why\n\nBased on feedback:\n1. Concerns about nested grids: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55904#note_531695073\n2. Concerns about switching from grid/block/flex: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55904#note_531695071\n3. Conversations on call with `@markrian` including concerns about the node header alignment\n\nThere may be an opportunity to take another look at the css implementation of the Geo Status UI once it is fully implemented.  There are a few places where we are mixing patterns and could pose difficult to modify parts without touching everything.  That being said it does **work** so this isn't an immediate issue.\n\n## Proposal\n\nTake a look at the UI and look for opportunities to at least comment/document the reason the node header is able to align.  Also look for a chance to utilize one display format in components rather than switching between them.  Especially in the case of using block/grid.  An idea of pulling a `grid-template-areas` to the top level to manage everything may be feasible.","state":"closed","created_at":"2021-03-18T15:19:21.912Z","updated_at":"2023-01-03T21:12:01.272Z","closed_at":"2023-01-03T21:12:01.218Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["CSS cleanup","CSS refactor","[deprecated] Accepting merge requests","devops::systems","frontend","group::geo","maintenance::refactor","section::enablement","workflow::problem validation"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325306","notes":"https://gitlab.com/api/v4/projects/278964/issues/325306/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325306/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325306","relative":"#325306","full":"gitlab-org/gitlab#325306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6042,"epic":{"id":274361,"iid":6042,"title":"Geo Status Page Improvements","url":"/groups/gitlab-org/-/epics/6042","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81190342,"iid":325292,"project_id":278964,"title":"Deprecate EpicSortEnum lower case values","description":"`EpicSortEnum` has lowercase values we should deprecate them in favor of using uppercase values.  \n\nThe following discussion from !50579 should be addressed:\n\n- [ ] @alexkalderimis started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50579#note_531816837): \n\n    \u003e Follow up: please deprecate these sort values and use upper case enum names instead (see [`SortEnum`](app/graphql/types/sort_enum.rb) for an example of this).","state":"closed","created_at":"2021-03-18T14:00:30.387Z","updated_at":"2021-11-08T16:50:51.073Z","closed_at":"2021-03-30T21:59:31.893Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Category:Portfolio Management","GraphQL","backend","devops::plan","epics","group::product planning","maintenance::refactor","section::dev","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325292","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325292","notes":"https://gitlab.com/api/v4/projects/278964/issues/325292/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325292/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325292","relative":"#325292","full":"gitlab-org/gitlab#325292"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81189516,"iid":325290,"project_id":278964,"title":"Add a global feature flag for tracking using Redis HLL","description":"We start removing feature flags for individual events tracking using Redis HLL.\n\nWe should have a global `ops` feature flag  for racking using Redis hll in case we will encounter any performance issues","state":"closed","created_at":"2021-03-18T13:50:27.292Z","updated_at":"2021-03-25T12:36:51.200Z","closed_at":"2021-03-25T12:36:51.147Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["devops::growth","feature flag","group::product intelligence","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325290","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325290","notes":"https://gitlab.com/api/v4/projects/278964/issues/325290/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325290/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325290","relative":"#325290","full":"gitlab-org/gitlab#325290"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5157,"epic":{"id":177895,"iid":5157,"title":"Usage Ping Maintenance FY22-Q1","url":"/groups/gitlab-org/-/epics/5157","group_id":9970,"human_readable_end_date":"Apr 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81180306,"iid":325282,"project_id":278964,"title":"BE: Forward proxied events to self-hosted instance","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/321401 we did investigation and created a [prototype](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54378) for a proxy of the Atlassian connect app that could be used to configure self-managed GitLab instances.\n\nThis issues is to implement the forwarding events described here:  https://gitlab.com/gitlab-org/gitlab/-/issues/321401#forward-events\n\nSpecifically:\n\nOnce an installation is updated with a `instance_url` we will send a `installed` event webhook to the instance to pretend that the app was installed on Jira. Whenever we receive events for installations that have a `instance_url` we need to forward them to the instance.\n\nThere are two types of event hooks:\n- installed: Will be sent when the app is installed or updated\n- uninstalled: Will be sent when the app is uninstalled\n\nWhen receiving an `installed` hook and the JiraConnectInstallation already exists, we can consider it an update of the app. The initial `installed` hook will be added as part of https://gitlab.com/gitlab-org/gitlab/-/issues/325281","state":"closed","created_at":"2021-03-18T12:51:26.915Z","updated_at":"2022-11-22T19:48:01.501Z","closed_at":"2022-09-07T20:21:10.160Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["Category:Integrations","Jira::ConnectApp","Stretch","backend","devops::manage","feature::addition","group::ecosystem [DEPRECATED]","missed:14.0","missed:14.1","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325282","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325282","notes":"https://gitlab.com/api/v4/projects/278964/issues/325282/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325282/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325282","relative":"#325282","full":"gitlab-org/gitlab#325282"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":81180025,"iid":325281,"project_id":278964,"title":"BE: Create a new Proxy Controller","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/321401 we did investigation and created a [prototype](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54378) for a proxy of the Atlassian connect app that could be used to configure self-managed GitLab instances.\n\nThis issue is to implement the controller changes described here: https://gitlab.com/gitlab-org/gitlab/-/issues/321401#add-a-new-controller-to-update-jiraconnectinstallation\n\nAn installation is created when we [receive an event webhook](https://gitlab.com/gitlab-org/gitlab/-/blob/v13.9.1-ee/app/controllers/jira_connect/events_controller.rb#L9) from atlassian. A new controller is needed to add an instance URL to an installation.\n\nOnce an installation is linked to a GitLab instance we should send an `installed` hook to the instance. We tried this in a [proof of concept MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54378/diffs#7666979f97a3332d55cc3b06bb0a6440d5a2ee54_0_29)\n\nThe controller should respond with JSON and act like an internal API that will be used by the frontend. It will authorize the Jira `qsh` but doesn't need to authorize a GitLab user (this is only needed to add namespaces). The following endpoints are needed:\n\n**GET** `/-/jira_connect/installations`\n\nExample response:\n```json\n{\n  gitlab_com: true,\n  instance_url: null\n}\n```\n\n**PUT** `/-/jira_connect/installations`\n\nExample request:\n\n```json\n{\n  instance_url: \"https://gitlab.example.com\"\n}\n```\n\nExample response:\n```json\n{\n  gitlab_com: false,\n  instance_url: \"https://gitlab.example.com\"\n}\n```","state":"closed","created_at":"2021-03-18T12:49:37.266Z","updated_at":"2022-11-22T19:48:02.275Z","closed_at":"2021-08-22T18:33:23.844Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["Category:Integrations","Integration::Jira","Jira::ConnectApp","backend","devops::manage","group::integrations","missed-deliverable","missed:14.2","section::dev","type::feature","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325281","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325281","notes":"https://gitlab.com/api/v4/projects/278964/issues/325281/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325281/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325281","relative":"#325281","full":"gitlab-org/gitlab#325281"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":81179715,"iid":325280,"project_id":278964,"title":"BE: Add database column for proxying self-managed instances","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/321401 we did investigation and created a [prototype](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54378) for a proxy of the Atlassian connect app that could be used to configure self-managed GitLab instances.\n\nThis issue is to implement the database changes described here: https://gitlab.com/gitlab-org/gitlab/-/issues/321401#add-a-new-column-to-jira_connect_installations\n\nSpecifically:\n\n\u003e In order to use gitlab.com as a proxy for self-managed instances, we need to know the instance URL. Therefor we need a new column `instance_url` on jira_connect_installations.","state":"closed","created_at":"2021-03-18T12:47:17.093Z","updated_at":"2022-11-22T19:48:03.003Z","closed_at":"2021-04-19T09:44:45.016Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["Category:Integrations","Deliverable","Integration::Jira","Jira::ConnectApp","backend","devops::manage","group::ecosystem [DEPRECATED]","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325280","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325280","notes":"https://gitlab.com/api/v4/projects/278964/issues/325280/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325280/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325280","relative":"#325280","full":"gitlab-org/gitlab#325280"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":81179549,"iid":325279,"project_id":278964,"title":"Integrate instance-level with group-level MR approval settings","description":"## Problem to solve\n\nAt the moment, [instance-level MR approval settings](https://docs.gitlab.com/ee/user/admin_area/merge_requests_approvals.html) do not have any effect on the group-level counterparts.\n\n## Proposal\n\n* When instance-level settings restrict permission, the corresponding settings on the group level are enforced and locked. \n* When instance-level settings do not restrict permission, the corresponding settings on the group level are unlocked and revert to group default or previous value. \n* All new top-level group MR approval settings inherit from the corresponding instance-level ones\n\n| Instance Value | Group Value |\n| ------ | ------ |\n| Restrict | **Disabled** (and locked :lock:) \u003cbr\u003e(Instance level is SSOT) |\n| Do not restrict | Revert to group default or previous value\u003cbr\u003e(Group level is SSOT) |\n\n## Implementation \n\nCurrent instance and group setting map:\n\n| Group Setting | Instance Setting | \n| ------ | ------ |\n| allow_overrides_to_approver_list_per_merge_request | disable_overriding_approvers_per_merge_request |\n| allow_author_approval | prevent_merge_requests_author_approval |\n| allow_committer_approval | prevent_merge_requests_committers_approval |\n| retain_approvals_on_push | N/A |\n| require_password_to_approve | N/A |\n\n### Option 1\n\n1. Create custom methods for every settings on `group_merge_request_approval_setting` model that take into account the instance-level MR approval settings. _Note_: watch out for flipping logic 🤯.\n\n```rb\nclass GroupMergeRequestApprovalSetting\n  def allow_overrides_to_approver_list_per_merge_request\n    strong_memoize(:allow_overrides_to_approver_list_per_merge_request) do\n      next false if ::Gitlab::CurrentSettings.disable_overriding_approvers_per_merge_request?\n      super\n    end\n  end\nend\n```\n\n2. Ensure the group settings value are locked, both in UI and API (ie. using `GroupPolicy`)\n\n```rb\n# GroupPolicy\nwith_scope :global                                                          \ncondition(:locked_approvers_rules) do                                       \n  @subject.feature_available?(:group_merge_request_approval_settings) \u0026\u0026       \n    ::Gitlab::CurrentSettings.disable_overriding_approvers_per_merge_request\nend\n```                                                                       \n\n### Option 2\n\n1. Create a class that encapsulates the compliance rules (ie. `ComplianceManagement::MergeRequestApprovalSettings`)\n\n```rb\n# Resolve settings using compliance rules\nclass ComplianceManagement::MergeRequestApprovalSettings::Resolver\n  def initialize(group) \n    @group = group\n  end\n  \n  def execute\n    [\n      allow_overrides_to_approver_list_per_merge_request,\n      allow_author_approval,   \n      allow_committer_approval\n    ]\n  end\n\n  private\n\n  def allow_overrides_to_approver_list_per_merge_request\n    instance_value = ::Gitlab::CurrentSettings.disable_overriding_approvers_per_merge_request?\n    group_value = group.merge_request_approval_setting.allow_overrides_to_approver_list_per_merge_request?\n\n    ComplianceManagement::MergeRequestApprovalSettings::Setting.new(\n      name: :allow_overrides_to_approver_list_per_merge_request,\n      value: instance_value ? false : group_value,\n      locked: instance_value,\n      inherited_from: instance_value ? :instance : nil\n    )\n  end\nend\n\n# Value object\nclass ComplianceManagement::MergeRequestApprovalSettings::Setting\n  attr_reader :name, :value, :locked, :inherited_from\n\n  def initialize(name:, value:, locked:, inherited_from:)\n    @name = name\n    @value = value\n    @locked = locked\n    @inherited_from = inherited_from\n  end\nend\n\n# Usage in API\nclass API::GroupMergeRequestApprovalSettings\n  get do\n    setting = ComplianceManagement::MergeRequestApprovalSetting::Resolver.new(group).execute\n  end\nend\n```","state":"closed","created_at":"2021-03-18T12:45:53.025Z","updated_at":"2021-08-13T12:12:31.881Z","closed_at":"2021-08-12T08:54:08.612Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Premium","Next Up","backend","devops::manage","direction","group::compliance","priority::2","section::dev","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":30,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325279","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325279","notes":"https://gitlab.com/api/v4/projects/278964/issues/325279/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325279/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325279","relative":"#325279","full":"gitlab-org/gitlab#325279"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81179426,"iid":325278,"project_id":278964,"title":"GitLab for Jira App: use GitLab OAuth token for API requests","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81126, we added the ability for GitLab for Jira app users to authenticate with GitLab via OAuth. Users now have a GitLab Oauth token that can be used for authenticating API requests. This is behind a feature flag (rollout issue is https://gitlab.com/gitlab-org/gitlab/-/issues/355048).\n\nWe don't currently use this token for anything useful in the app. This issue encapsulate work to use the API token to retrieve data and execute actions (like adding and removing namespaces).\n\nThis work was started in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67949/diffs.\n\n### To do:\n\n- [ ] Identify all non API calls on the page\n- [ ] Switch all actions to API calls\n- [ ] Point API calls to self-managed if `instance_url` is set\n\n### Availability \u0026 Testing\n\n* Add a new E2E test against Jira Cloud to validate expected behavior.\n\nNote: this is a test gap to fill and make sure any new behavior is accounted for but also that existing behavior continues to work. \n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2021-03-18T12:45:09.492Z","updated_at":"2022-11-22T19:48:03.930Z","closed_at":"2022-08-18T04:31:09.804Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Category:Integrations","Deliverable","Integration::Jira","Jira::ConnectApp","devops::manage","feature flag","frontend","group::integrations","missed-deliverable","missed:14.0","missed:14.1","missed:14.10","missed:15.1","missed:15.2","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":40,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325278","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325278","notes":"https://gitlab.com/api/v4/projects/278964/issues/325278/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325278/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325278","relative":"#325278","full":"gitlab-org/gitlab#325278"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":81173268,"iid":325272,"project_id":278964,"title":"Dismissing the Epic upgrade promo message shows gap in issue sidebar","description":"Dismissing the Epic 'Upgrade your plan' message in issue sidebar causes a gap to appear below Milestone section.\n\nPlan retro issues for example:\n\n![Screen_Shot_2021-03-18_at_10.21.04_pm](/uploads/b6a899f24ddf4be682068b9194f285a3/Screen_Shot_2021-03-18_at_10.21.04_pm.png)","state":"closed","created_at":"2021-03-18T11:59:32.590Z","updated_at":"2022-03-21T04:50:45.198Z","closed_at":"2022-03-21T04:50:45.178Z","closed_by":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"labels":["SUS::Impacting","UI polish","[deprecated] Accepting merge requests","devops::plan","group::project management","issues","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325272","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325272","notes":"https://gitlab.com/api/v4/projects/278964/issues/325272/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325272/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325272","relative":"#325272","full":"gitlab-org/gitlab#325272"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81165809,"iid":325263,"project_id":278964,"title":"wiki kerberos clone button fails with \"undefined local variable or method 'project'\"","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nA customer reported an issue cloning wiki repositories using kerberos.  GitLab team members can find out more in the [ticket](https://gitlab.zendesk.com/agent/tickets/199595).\n\nThe clone panel generates a 500 when the kerberos clone button code is called.\n\n```\nStarted GET \"/xx/yy/-/wikis/git_access\" for 10.8.30.231 at 2021-02-09 11:14:58 +0100\nProcessing by Projects::WikisController#git_access as HTML\nParameters: {\"namespace_id\"=\u003e\"xx\", \"project_id\"=\u003e\"yy\"}\nCompleted 500 Internal Server Error in 487ms (ActiveRecord: 4.4ms | Elasticsearch: 0.0ms |\nAllocations: 125330)\nActionView::Template::Error (undefined local variable or method `project' for\n#\u003c#\u003cClass:0x00007faf710f29e0\u003e:0x00007faf64533278\u003e\nDid you mean? @project):\n```\n\n```\nee/app/views/shared/_kerberos_clone_button.html.haml:3\napp/helpers/application_helper.rb:17:in `render_if_exists'\napp/views/shared/_clone_panel.html.haml:17\napp/views/shared/wikis/git_access.html.haml:14\napp/controllers/application_controller.rb:125:in `render'\napp/controllers/concerns/wiki_actions.rb:190:in `git_access'\nee/lib/gitlab/ip_address_state.rb:10:in `with'\nee/app/controllers/ee/application_controller.rb:44:in `set_current_ip_address'\napp/controllers/application_controller.rb:482:in `set_current_admin'\nlib/gitlab/session.rb:11:in `with_session'\napp/controllers/application_controller.rb:473:in `set_session_storage'\nlib/gitlab/i18n.rb:73:in `with_locale'\nlib/gitlab/i18n.rb:79:in `with_user_locale'\n```\n\n### Steps to reproduce\n\n\n### Example Project\n\n\n### What is the current *bug* behavior?\n\nclick a button in wiki \"Clone repository\", a 500 error is generated.\n\n### What is the expected *correct* behavior?\n\nthe clone repository page is generated.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n### Possible fixes\n\nAs part of the group wiki work https://gitlab.com/gitlab-org/gitlab/-/issues/207869 it seems like a fix to the clone panel https://gitlab.com/gitlab-org/gitlab/-/merge_requests/47676 [made changes to the FOSS code](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/47676/diffs#ae8ea83306997a17af7e5b1ad379be93e83f52fb_20_16) that result in the EE kerberos code not being called with `container` parameter when it still expects `project`.\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nIt looks like a single word change [in the ee kerberbos clone button haml](https://gitlab.com/gitlab-org/gitlab/-/blob/v13.9.4-ee/ee/app/views/shared/_kerberos_clone_button.html.haml#L3)\n\n`project` needs to change to `container` [to match the FOSS code](https://gitlab.com/gitlab-org/gitlab/-/blob/v13.9.4-ee/app/views/shared/_clone_panel.html.haml) which now calls it with:\n\n```\n= render_if_exists 'shared/kerberos_clone_button', container: container\n```","state":"closed","created_at":"2021-03-18T10:19:53.850Z","updated_at":"2021-04-18T07:06:40.158Z","closed_at":"2021-04-12T14:07:33.782Z","closed_by":{"id":707822,"username":"athar","name":"Athar Hameed","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/707822/avatar.png","web_url":"https://gitlab.com/athar"},"labels":["Category:Wiki","Deliverable","backend","customer","devops::create","group::editor","priority::2","regression","regression:13.7","section::dev","severity::2","type::bug"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":707822,"username":"athar","name":"Athar Hameed","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/707822/avatar.png","web_url":"https://gitlab.com/athar"}],"author":{"id":4624911,"username":"bprescott_","name":"Ben Prescott_","state":"active","avatar_url":"https://secure.gravatar.com/avatar/91aa28150f430ec564dc5af5952c35a0?s=80\u0026d=identicon","web_url":"https://gitlab.com/bprescott_"},"type":"ISSUE","assignee":{"id":707822,"username":"athar","name":"Athar Hameed","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/707822/avatar.png","web_url":"https://gitlab.com/athar"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325263","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325263","notes":"https://gitlab.com/api/v4/projects/278964/issues/325263/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325263/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325263","relative":"#325263","full":"gitlab-org/gitlab#325263"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5339,"epic":{"id":196795,"iid":5339,"title":"Wiki: Complete maturity","url":"/groups/gitlab-org/-/epics/5339","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81164430,"iid":325260,"project_id":278964,"title":"Update compliance frameworks labels to display consistently across the application","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Problem to solve\n\nThere is a visual inconsistency between the compliance labels shown in the group-level settings and the project compliance framework labels. The group app shows the label scope.\n\n| Project | Group |\n| ------ | ------ |\n| ![image](/uploads/fd50f139b568b9cd9f2bf834eaefaeb8/image.png) | ![image](/uploads/b1a2eb6eb03fbd8e26557a14d25f2721/image.png) |\n\n\n### Proposal \n\nSince there is currently plan to leverage scoped labels to any further extent we can update the group-level app to no longer display the compliance frameworks as scoped labels.\n\n### Implementation plan\n\n~frontend :one: \n\n1. Update the group settings Vue app to display the compliance pills using [`GlBadge`](https://gitlab-org.gitlab.io/gitlab-ui/?path=/docs/base-badge--default).\n1. Update specs.","state":"closed","created_at":"2021-03-18T09:57:06.509Z","updated_at":"2022-06-08T12:26:14.561Z","closed_at":"2022-06-08T12:26:14.541Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Compliance Management","devops::manage","frontend","group::compliance","priority::4","section::dev","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325260","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325260","notes":"https://gitlab.com/api/v4/projects/278964/issues/325260/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325260/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325260","relative":"#325260","full":"gitlab-org/gitlab#325260"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4082,"epic":{"id":88440,"iid":4082,"title":"Improve the concept of compliance frameworks","url":"/groups/gitlab-org/-/epics/4082","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":81164406,"iid":325259,"project_id":278964,"title":"Update the language for the Terraform Registry UI","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nThe [Terraform registry designs](https://gitlab.com/gitlab-org/gitlab/-/issues/216991) are based on a different UX for publishing Terraform modules in GitLab than the one being implemented. All the empty states and UI copy are based on the old implementation and do not provide the right information and guidance.\n\nThe purpose of this issue is for PM, PD and Technical writer to collaborate on updating the copy on the UI so that it can be helpful to get users started with Terraform modules.\n\nOld designs attached so that we can work off them.","state":"closed","created_at":"2021-03-18T09:56:52.124Z","updated_at":"2021-04-24T17:52:23.342Z","closed_at":"2021-04-24T17:52:23.292Z","closed_by":{"id":4419304,"username":"mvrachni","name":"Maria Vrachni","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4419304/avatar.png","web_url":"https://gitlab.com/mvrachni"},"labels":["Category:Infrastructure as Code","Technical Writing","UI text","devops::configure","group::configure","section::ops","tw::doing"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},{"id":3916059,"username":"mattkasa","name":"Matt Kasa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3916059/avatar.png","web_url":"https://gitlab.com/mattkasa"},{"id":4419304,"username":"mvrachni","name":"Maria Vrachni","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4419304/avatar.png","web_url":"https://gitlab.com/mvrachni"},{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"}],"author":{"id":4419304,"username":"mvrachni","name":"Maria Vrachni","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4419304/avatar.png","web_url":"https://gitlab.com/mvrachni"},"type":"ISSUE","assignee":{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325259","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325259","notes":"https://gitlab.com/api/v4/projects/278964/issues/325259/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325259/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325259","relative":"#325259","full":"gitlab-org/gitlab#325259"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":481,"epic":{"id":1557,"iid":481,"title":"Terraform Registry","url":"/groups/gitlab-org/-/epics/481","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81159870,"iid":325251,"project_id":278964,"title":"Documentation updates related to DAST Inline Profiles","description":"This is to update documentation for On-demand scans form \n\n### Related links\nhttps://docs.gitlab.com/ee/user/application_security/dast/#on-demand-scans\n\n### Proposal\n\n- Inline scanner profile creation / update\n- Inline site profile creation / update","state":"closed","created_at":"2021-03-18T08:51:57.384Z","updated_at":"2022-05-18T01:29:14.105Z","closed_at":"2022-05-18T01:29:13.419Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","Technical Writing","devops::secure","docs::feature","documentation","group::dynamic analysis","section::sec","type::maintenance","workflow::ready for development"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325251","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325251","notes":"https://gitlab.com/api/v4/projects/278964/issues/325251/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325251/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325251","relative":"#325251","full":"gitlab-org/gitlab#325251"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5469,"epic":{"id":213741,"iid":5469,"title":"Inline site and scanner profile creation","url":"/groups/gitlab-org/-/epics/5469","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81158587,"iid":325250,"project_id":278964,"title":"Add inline forms support in DAST profile selector component","description":"This is to facilitate Inline DAST Profiles Implementation, part of https://gitlab.com/groups/gitlab-org/-/epics/5469.\n\n### Implementation Plan\n\n##### Inline form via slots\n\n- [ ] Add the `profile-form` slot to `profile_selector.vue`\n- [ ] Include `DastScannerProfileForm` to `scanner_profile_selector.vue`\n  - [ ] Pass it via slot `profile-form`\n  - [ ] Handle success / cancel events \n- [ ] Include `DastSiteProfileForm` to `site_profile_selector.vue`\n  - [ ] Pass it via slot `profile-form`\n  - [ ] Handle success / cancel events\n\n##### Links and state\n- [ ] Update link for `create` button\n  - [ ] handle form `new` state\n- [ ] Update link for `edit` icon\n  - [ ] handle form `edit` state\n\n##### Test coverage\n- [ ] Add specs to cover edit and new state\n- [ ] Add specs to cover `profile-form` slot\n- [ ] Add specs to cover form success and cancel","state":"closed","created_at":"2021-03-18T08:34:24.223Z","updated_at":"2022-05-23T11:42:18.620Z","closed_at":"2022-05-18T01:28:46.156Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","Stretch","devops::secure","feature::addition","frontend","group::dynamic analysis","section::sec","type::feature","workflow::blocked"],"milestone":{"id":427853,"iid":10,"group_id":9970,"title":"Next 3-4 releases","description":"Bigger issues we plan to ship in the next 3-4 releases, but don't have a designated release yet. \r\n\r\n\u003e \"An easy way to look at it for me it's translating to months. Since our iterations are 1 month, I look at it as 'within the next 4 months'.\" - @dgruesso [via slack]\r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:33.141Z","updated_at":"2020-07-14T18:21:29.639Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/10"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325250","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325250","notes":"https://gitlab.com/api/v4/projects/278964/issues/325250/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325250/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325250","relative":"#325250","full":"gitlab-org/gitlab#325250"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5469,"epic":{"id":213741,"iid":5469,"title":"Inline site and scanner profile creation","url":"/groups/gitlab-org/-/epics/5469","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81156413,"iid":325249,"project_id":278964,"title":"Group-level UI for Protected Environment settings","description":"### Release notes\n\nPreviously, group-level configuration for protected environments was only available through the API. With this release, you can now view and edit configuration settings for protected environments at the group level in the UI.\n\n### Problem\n\n[Group-level protected environments](https://docs.gitlab.com/ee/ci/environments/protected_environments.html#group-level-protected-environments) is useful feature for the organizations that want to enforce additional authorization on deployments in all subsequent projects at once. However, currently, they must use [Public API](https://docs.gitlab.com/ee/api/group_protected_environments.html) to configure it, which is unintuitive UX. We should add UI support to let them easily audit/configure the settings.\n\n### Proposal\n\n~\"GitLab Premium\" \n\nIntroduce the UI to configure [Group-level protected environments](https://docs.gitlab.com/ee/ci/environments/protected_environments.html#group-level-protected-environments), that can be used as an alternative solution aside from [the public API](https://docs.gitlab.com/ee/api/group_protected_environments.html).\n\nThe group level setting will be similar to [the project level setting](https://docs.gitlab.com/ee/ci/environments/protected_environments.html#protecting-environments). In this iteration, we specifically target the following spec:\n\n- We support the group-base access setting (e.g. Members in the `@operator-group` can deploy to production environments in the `XYZ org`). This is the most practical usage in this feature that allows a specific group to authorize all deployment jobs.\n- We do not support role-base access setting (e.g. Project members with `Maintainer` role can deploy to production environments in the `XYZ org`). This is less practical because technically delegating the deployment authorization to the project maintainers.\n- We do not support specific user access setting (e.g. `@john` can deploy to production environments in the `XYZ org`). This causes a scalability issue because the single person in the organization blocks the deployments in the entire organization.\n- Unlike project-level protected environments, the assignable groups must be a subgroup of the configuration group. (No invitation needed)\n\nFor more details, you can see [the PoC](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86106).\n\n## Implementation plan\n\n~backend \n- [ ] Add Protected Environment instance variables to `Groups::Settings::CiCdController` (similar to https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/controllers/ee/projects/settings/ci_cd_controller.rb#L27)\n- [ ] Create `Groups::ProtectedEnvironmentsController` (similar to https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/controllers/projects/protected_environments_controller.rb)\n\n~frontend\n\n- Frontend code can mostly be copy-pasted from the project-level settings\n- [ ] Add form for protecting environments at the group level under `Group \u003e CI/CD \u003e Protected Environments`\n  - ~\"UI text\": Only specified users can execute deployments in the protected environments of the group. How do protected environments work?\n  - Add help text with a link to the documentation on [protected environments](https://docs.gitlab.com/ee/ci/environments/)\n- [ ] Add form for editing currently protected environments.\n\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-03-18T08:13:21.990Z","updated_at":"2022-11-14T20:08:01.804Z","closed_at":"2022-06-22T19:46:32.547Z","closed_by":{"id":9677998,"username":"cbalane","name":"Chris Balane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9677998/avatar.png","web_url":"https://gitlab.com/cbalane"},"labels":["Actionable Insight::Product change","Category:Release Orchestration","GitLab Premium","Next Up","SUS::Impacting","UX","closed::complete","customer","devops::release","direction","frontend","frontend-weight::3","group::release","release post item::in review","section::ops","severity::2","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":48,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325249","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325249","notes":"https://gitlab.com/api/v4/projects/278964/issues/325249/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325249/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325249","relative":"#325249","full":"gitlab-org/gitlab#325249"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7558,"epic":{"id":440452,"iid":7558,"title":"Org-level Environment Management","url":"/groups/gitlab-org/-/epics/7558","group_id":9970,"human_readable_end_date":"Oct 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81148058,"iid":325239,"project_id":278964,"title":"Make DAST site profile form composable","description":"This is to facilitate Inline DAST Profiles Implementation, part of https://gitlab.com/groups/gitlab-org/-/epics/5469.\n\n### Implementation Plan\n\n- [x] Update `DastSiteProfileForm` component\n  - [x] Create `success` and `cancel` custom event handlers\n  - [x] Use them in the parent components\n  - [x] Move redirection logic to the parent component\n- [x] Add `showHeader` prop\n  - [x] Set it enabled by default\n  - [x] Use it to show the form heading conditionally\n- [x] Update `ee/app/views/projects/security/dast_site_profiles/edit.html.haml`\n  - [x] Make sure the property names match the graphql fields\n- [x] Specs / Test coverage\n  * [x] Add specs for event handlers\n  * [x] Add a spec for showHeader prop\n  * [x] Write feature spec for `dast_site_profiles_form`","state":"closed","created_at":"2021-03-18T04:39:27.943Z","updated_at":"2021-10-28T13:58:50.361Z","closed_at":"2021-04-14T08:55:48.291Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","frontend","group::dynamic analysis","section::sec","type::maintenance","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325239","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":13},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"13 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325239","notes":"https://gitlab.com/api/v4/projects/278964/issues/325239/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325239/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325239","relative":"#325239","full":"gitlab-org/gitlab#325239"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5469,"epic":{"id":213741,"iid":5469,"title":"Inline site and scanner profile creation","url":"/groups/gitlab-org/-/epics/5469","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81148037,"iid":325238,"project_id":278964,"title":"Make DAST scanner profile form composable","description":"This is to facilitate Inline DAST Profiles Implementation, part of https://gitlab.com/groups/gitlab-org/-/epics/5469.\n\n### Implementation Plan\n\n- [x] Update `DastScannerProfileForm` component\n  - [x] Emit `success` and `cancel` event handlers\n  - [x] Listen to these event the parent components\n  - [x] Move redirection logic to the parent component\n  - [x] Make submit button's disabled state as per the design specs\n- [x] Add `showHeader` prop\n  - [x] Set it enabled by default\n  - [x] Use it to show the form heading conditionally\n- [x] Update `ee/app/views/projects/security/dast_scanner_profiles/edit.html.haml`\n  - [x] Make sure the property names match the graphql fields\n- [x] Specs / Test coverage\n  - [x] Add specs for event handlers\n  - [x] Add a spec for showHeader prop\n  - [x] Cover spec for submit disabled state\n  - [x] Write integration spec for `dast_scanner_profiles_bundle.js`","state":"closed","created_at":"2021-03-18T04:38:14.632Z","updated_at":"2021-10-28T13:58:50.772Z","closed_at":"2021-04-14T08:56:45.939Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","devops::secure","frontend","group::dynamic analysis","section::sec","type::maintenance","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325238","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":15,"completed_count":15},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"15 of 15 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325238","notes":"https://gitlab.com/api/v4/projects/278964/issues/325238/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325238/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325238","relative":"#325238","full":"gitlab-org/gitlab#325238"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5469,"epic":{"id":213741,"iid":5469,"title":"Inline site and scanner profile creation","url":"/groups/gitlab-org/-/epics/5469","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81148028,"iid":325237,"project_id":278964,"title":"Browserker produces a report in the Secure Report Format","description":"\n### Problem to solve \n\nBrowserker should produce a JSON report output that conforms to the DAST [Secure Report Format](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/master/dist/dast-report-format.json). This will allow Browserker vulnerabilities to be displayed on the Security Dashboard.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Proposal\n\nReplace the Browserker JSON report format with the new format. Ensure that fields can be mapped to fields in the Secure Report Format. It's likely that the `details` field will be used for custom fields.\n\nThe Browserker path should be added to the `details` field until we have a way to track the finding properly.\n\nThe location for the vulnerability could be anything for now, the issue https://gitlab.com/gitlab-org/gitlab/-/issues/331191 will add the tracking information.\n\n### What is the type of buyer?\n\n[Gold/Ultimate](https://about.gitlab.com/handbook/product/pricing/#three-tiers)\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\n### Implementation plan\n\n- [x] Create Report with Scan section section including scanned resources\n- [ ] Add vulnerabilities\n- [ ] Add schema validation in e2e tests\n- [ ] Add Report ID to replace CVE https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/302#note_643533123","state":"closed","created_at":"2021-03-18T04:37:31.751Z","updated_at":"2021-08-18T07:06:22.363Z","closed_at":"2021-08-11T07:35:07.332Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","Deliverable","GitLab Ultimate","dast::browserker","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325237","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":1},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325237","notes":"https://gitlab.com/api/v4/projects/278964/issues/325237/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325237/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325237","relative":"#325237","full":"gitlab-org/gitlab#325237"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5648,"epic":{"id":230102,"iid":5648,"title":"Browserker can run standalone of DAST/ZAP","url":"/groups/gitlab-org/-/epics/5648","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81144899,"iid":325232,"project_id":278964,"title":"Create global debounce time variable of 250 and replace instances","description":"The following discussion from !56708 should be addressed:\n\n- [ ] @tomquirk started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/56708#note_530998130):  (+4 comments)\n\n    \u003e **thought**: I'm surprised we don't have a shared constant defined for this :grimacing:\n\n### Proposal\n\nAdd a constant to `app/assets/javascripts/lib/utils/constants.js` that defines the default debounce time:\n\n```js\n// app/assets/javascripts/lib/utils/constants.js\nexport const DEFAULT_DEBOUNCE_MS = 250;\n```","state":"closed","created_at":"2021-03-18T02:24:49.557Z","updated_at":"2021-07-02T00:58:17.333Z","closed_at":"2021-07-02T00:58:17.325Z","closed_by":{"id":8749551,"username":"JeremyWuuuuu","name":"Wu Jeremy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8749551/avatar.png","web_url":"https://gitlab.com/JeremyWuuuuu"},"labels":["frontend","frontend-weight::2","good for new contributors"],"milestone":null,"assignees":[{"id":8749551,"username":"JeremyWuuuuu","name":"Wu Jeremy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8749551/avatar.png","web_url":"https://gitlab.com/JeremyWuuuuu"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":8749551,"username":"JeremyWuuuuu","name":"Wu Jeremy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8749551/avatar.png","web_url":"https://gitlab.com/JeremyWuuuuu"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325232","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325232","notes":"https://gitlab.com/api/v4/projects/278964/issues/325232/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325232/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325232","relative":"#325232","full":"gitlab-org/gitlab#325232"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81144259,"iid":325230,"project_id":278964,"title":"Extend DAST policy to support scheduled execution","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nTo support scheduled scans configured in Security Orchestration Policies we need to add workers and services to configure and execute scheduled jobs with selected scans.\n\n\n## Relevant links\n\n- [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5360)\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [-] Documentation: added in separate issue,\n- [x] Feature flag: all work will be hidden behind already created feature flag: `security_orchestration_policies_configuration`\n- [-] Performance: verify the impact of additional cron jobs on the system, coordinate with `CI` team,\n- [x] Testing:\n  - [x] verify if `pipeline` scan policies are working properly,\n  - [x] verify if `schedule` scan policies are working properly:\n    - [x] check multiple cron expressions (with `*`, `SUN,MON`, numbers, etc.)\n    - [x] check if jobs are properly scheduled when the repository with policies is updated,\n  \n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [x] ~backend extend `config/initializers/1_settings.rb` with `Security::CreateOrchestrationPolicyWorker` and `Security::OrchestrationPolicyRuleScheduleWorker`, properly set `cron` value for these jobs, `CreateOrchestrationPolicyWorker` can work every hour, but `OrchestrationPolicyRuleScheduleWorker` must work quite often (ie. every 15 minutes) to make sure we can run scheduled scans on provided by users schedule (mention that in the documentation),\n- [x] ~backend extend `ee/app/models/security/orchestration_policy_configuration.rb` with scope `:with_outdated_configuration` that will get all policy configurations that does not have value for `configured_at` field or for which value of `configured_at` is earlier than `security_policy_management_project.last_activity_at` -\u003e this is not a perfect way to get information when was the last push to `security_policy_management_project` (and potential policy update), but it will significantly reduce calls to database to create `OrchestrationPolicyRuleSchedule` in `ee/app/workers/security/create_orchestration_policy_worker.rb`,\n- [x] ~backend extend `ee/app/models/security/orchestration_policy_rule_schedule.rb` with scope `runnable_schedules`  and methods needed by `Schedulable` concern: `ideal_next_run_from`, `cron_worker_next_run_from` and `set_next_run_at`; `policy` method (to load policy configuration),\n- [x] ~backend add `ee/app/workers/security/create_orchestration_policy_worker.rb` that will go through `Security::OrchestrationPolicyConfiguration.with_outdated_configuration` in batches, and for each outdated configuration it will call `Security::OrchestrationPolicies::ProcessRuleService` service,\n- [x] ~backend add `ee/app/services/security/orchestration_policies/process_rule_service.rb` that will recreate `Security::OrchestrationPolicyRuleSchedule` in database for each `schedule` policy and set `configured_at` for `OrchestrationPolicyConfiguration`,\n- [x] ~backend add `ee/app/workers/security/orchestration_policy_rule_schedule_worker.rb` that will go through `Security::OrchestrationPolicyRuleSchedule.runnable_schedules` (all schedules with `next_run_at \u003c Time.now`) in batches, and for each runnable schedule it will call `Security::OrchestrationPolicies::RuleScheduleService` service,\n- [x] ~backend add `ee/app/services/security/orchestration_policies/rule_schedule_service.rb` that will set new value for `next_run_at` field and go through actions in provided policy and start new pipeline with configured DAST On Demand Scan using `::DastOnDemandScans::CreateService`, when triggering a pipeline take last user that edited the policy file,\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2021-03-18T02:00:04.658Z","updated_at":"2021-06-16T19:49:44.344Z","closed_at":"2021-05-16T21:12:07.878Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["backend","devops::govern","feature::addition","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":null,"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325230","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":13},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"13 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325230","notes":"https://gitlab.com/api/v4/projects/278964/issues/325230/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325230/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325230","relative":"#325230","full":"gitlab-org/gitlab#325230"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5360,"epic":{"id":198758,"iid":5360,"title":"Project-level DAST Scan Execution Policies (scheduled scans)","url":"/groups/gitlab-org/-/epics/5360","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81142959,"iid":325223,"project_id":278964,"title":"[User Availability] Schedule unsetting status from the user profile page","description":"\nThis is a follow-up issue to #262086\n\n### Problem to solve \n\nRelated to #262086, user's can set their status and availability from either the set status modal, or from the user profile page. With #262086 users can set a time in the future for their status to be unset, this only applies to the set status modal.\n\nWe should provide the same functionality from the the user profile page.\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/1fd404fbaf6b46dd3e158d48c5b17d52/image.png)\n### Related links\n\n* This feature proposal was split from another issue: https://gitlab.com/gitlab-org/gitlab/-/issues/259649#note_422813376\n\n### Implementation plan\n\n1. Refactor [https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/set_status_modal/set_status_modal_wrapper.vue#L225](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/set_status_modal/set_status_modal_wrapper.vue#L225) into it's own component\n2. Mount that shared component in [app/views/profiles/show.html.haml](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/profiles/show.html.haml)\n\n### Availability and Testing\n1. Adding new unit and integration tests should suffice. No E2E test or updates needed at this time. \n2. Feel free to reach out to @vburton if help is needed for reviewing QA failures from any `review-qa-*` jobs on MR.\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-03-18T00:51:58.975Z","updated_at":"2022-09-21T12:02:34.742Z","closed_at":"2022-09-13T14:44:39.542Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:User Profile","Deliverable","GitLab Free","devops::manage","direction","frontend","group::organization","milestone::p3","priority::3","quad-planning::complete-no-action","release post item","release post item::in review","section::dev","type::feature","user profile","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325223","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325223","notes":"https://gitlab.com/api/v4/projects/278964/issues/325223/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325223/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325223","relative":"#325223","full":"gitlab-org/gitlab#325223"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81142897,"iid":325222,"project_id":278964,"title":"Improve the settings search highlight state","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nImprove the visibility of the search term highlighting for settings search.\n\n- Change highlight colour from `orange-50` to `orange-100`\n    - The contrast ratio using `orange-100` with `gray-90` is 9.57\n\n| Current | Proposal |\n| ------ | ------ |\n| ![image](/uploads/18b69d4a52b824e3429c52516ed2d804/image.png) | ![image](/uploads/3a4724d35d195c4907b5716a8295055d/image.png) |\n\n### Based on the following feedback\n\n- Highlighted items, specifically on the \"Integrations\" page, are pretty hard to see on some monitors https://gitlab.com/gitlab-org/gitlab/-/issues/297477#note_529706517\n- The yellow highlight was more visible than orange highlight in testing prototype https://gitlab.com/gitlab-org/ux-research/-/issues/1298#note_531068095","state":"closed","created_at":"2021-03-18T00:46:30.632Z","updated_at":"2021-08-03T11:16:23.424Z","closed_at":"2021-06-23T19:52:04.199Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Category:Navigation \u0026 Settings","Stretch","UX","devops::create","group::editor","section::dev","workflow::in review"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":2338505,"username":"mle","name":"Michael Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338505/avatar.png","web_url":"https://gitlab.com/mle"},{"id":5068667,"username":"rkuba","name":"Roman Kuba","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5068667/avatar.png","web_url":"https://gitlab.com/rkuba"}],"author":{"id":2338505,"username":"mle","name":"Michael Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338505/avatar.png","web_url":"https://gitlab.com/mle"},"type":"ISSUE","assignee":{"id":2338505,"username":"mle","name":"Michael Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338505/avatar.png","web_url":"https://gitlab.com/mle"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325222","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325222","notes":"https://gitlab.com/api/v4/projects/278964/issues/325222/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325222/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325222","relative":"#325222","full":"gitlab-org/gitlab#325222"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4842,"epic":{"id":140378,"iid":4842,"title":"Allow users to search Settings within a page","url":"/groups/gitlab-org/-/epics/4842","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":81136830,"iid":325208,"project_id":278964,"title":"Threat Monitoring Performance Optimization: Dynamically Load Large Imports","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nThe performance of our Threat Monitoring page is not meeting the standards set across our product for page load times. This is based on the following sources:\n\n- Webpack analysis: https://gitlab-org.gitlab.io/-/gitlab/-/jobs/1106660481/artifacts/bundle-size-review/comparison.html\n- Sitespeed report: https://dashboards.gitlab.net/d/000000043/sitespeed-page-summary?from=now-7d\u0026orgId=1\u0026to=now\u0026var-base=sitespeed_io\u0026var-path=desktop\u0026var-group=gitlab_com\u0026var-page=Protect_Threat_Monitoring\u0026var-browser=chrome\u0026var-connectivity=cable\u0026var-function=median\n\n--- \n\n## Proposal \nhttps://gitlab.com/gitlab-org/gitlab/-/issues/324410#note_531866180\n\n# Asynchronously Load Large Imports\n\n@pgascouvaillancourt noticed that the threat monitoring page loads a large library called `monaco` (used for the yaml input boxes)\n\n![Screen_Shot_2021-03-17_at_3.34.43_PM](https://gitlab.com/gitlab-org/gitlab/uploads/6b84b84a8c227e852f4a1ec29829b313/Screen_Shot_2021-03-17_at_3.34.43_PM.png) (from https://gitlab-org.gitlab.io/-/gitlab/-/jobs/1106660481/artifacts/bundle-size-review/comparison.html)\n\n![Screen_Shot_2021-03-17_at_3.40.16_PM](https://gitlab.com/gitlab-org/gitlab/uploads/7a167a7e37708c44438441635a0ca321/Screen_Shot_2021-03-17_at_3.40.16_PM.png)\n\nSo the page would load faster if we [dynamically imported](https://vuejs.org/v2/guide/components-dynamic-async.html#Async-Components) this specific library so that it only loads when it is needed.\n\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [x] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] ~3412464 dynamically import component with `monaco-editor` in it","state":"closed","created_at":"2021-03-17T21:35:38.684Z","updated_at":"2021-06-14T22:02:20.709Z","closed_at":"2021-03-24T16:00:38.190Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Network Security","bug::performance","devops::govern","frontend","frontend-weight::3","group::security policies","section::sec","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325208","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325208","notes":"https://gitlab.com/api/v4/projects/278964/issues/325208/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325208/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325208","relative":"#325208","full":"gitlab-org/gitlab#325208"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":81136779,"iid":325207,"project_id":278964,"title":"Threat Monitoring Performance Optimization: Async load echarts","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nThe performance of our Threat Monitoring page is not meeting the standards set across our product for page load times. This is based on the following sources:\n\n- Webpack analysis: https://gitlab-org.gitlab.io/-/gitlab/-/jobs/1106660481/artifacts/bundle-size-review/comparison.html\n- Sitespeed report: https://dashboards.gitlab.net/d/000000043/sitespeed-page-summary?from=now-7d\u0026orgId=1\u0026to=now\u0026var-base=sitespeed_io\u0026var-path=desktop\u0026var-group=gitlab_com\u0026var-page=Protect_Threat_Monitoring\u0026var-browser=chrome\u0026var-connectivity=cable\u0026var-function=median\n\n--- \n\n## Proposal \nhttps://gitlab.com/gitlab-org/gitlab/-/issues/324410#note_528546815\n\nWhen the Threat Monitoring page loads, all three tabs load together even though only one is showing. We could reduce the number of DOM elements that need to be painted by ensuring only the first tab is loaded.\n\nAdditionally, this will have the added benefit of creating URLs for each tab so that a user can navigate straight to the policy tab via a specific url\n\n### Potential Problem\n\nThough, `DAST_Profiles` has a similar setup to ours and they do not have loading problems AND they have links to their tabs, so this may not work. Their page is different by that it uses pretty much the same component for each tab while we use drastically different components, so we have to load more\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/81528a8689aa5922f0748681c51b305a/image.png)\n\n### Alternative\n\nWe could do more [code splitting](https://docs.gitlab.com/ee/development/fe_guide/performance.html#code-splitting)\n\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [x] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n- [ ] ~frontend Asynchronously load both [`statistics-history` and `statistics-summary`](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/threat_monitoring_section.vue#L129) or at least break them out into their own bundle as they both contain `echarts`, which, based on the analysis below, is the fourth largest part of the bundle and it is not always needed.\n  - ![image](/uploads/b5165ac7a7d8041136d2f93367b54997/image.png)","state":"closed","created_at":"2021-03-17T21:33:46.553Z","updated_at":"2021-09-23T20:29:24.673Z","closed_at":"2021-09-23T20:06:09.112Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Network Security","bug::performance","devops::govern","frontend","frontend-weight::3","group::security policies","priority::2","section::sec","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/325207","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/325207","notes":"https://gitlab.com/api/v4/projects/278964/issues/325207/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/325207/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#325207","relative":"#325207","full":"gitlab-org/gitlab#325207"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]