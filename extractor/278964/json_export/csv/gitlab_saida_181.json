[{"id":19069472,"iid":10395,"project_id":278964,"title":"Move \"Require code owner approval\" setting from project API to protected branches API","description":"## Problem to solve\n\nThe CODEOWNERS feature provides greater flexibility than approval rules that are defined for all merge requests. For teams that practice very high velocity development, allowing low risk changes to enter `master` very quickly is necessary to achieve this velocity. It is important that **high risk changes** have a greater level of scrutiny.\n\nGitLab only permits push permissions to protected branches to be controlled at the branch level, but for teams trying maximize velocity, it needs to be possible to divert high risk changes to a merge request workflow, while allowing low risk changes to be merged based on the file paths changed.\n\n:warning: API only change - see https://gitlab.com/gitlab-org/gitlab-ee/issues/13251 for interface\n\n## Further details\n\nFor very large repositories, merge request workflows become a source of contention that can slow velocity. Merge trains in combination with merge when pipelines helps, but different companies have developed their own tooling and processes like allowing changes to be pushed directly to master, and for regressions to be reverted when detected.\n\nThe customer requesting this has a one of the largest Git repositories and has invested in such processes above and does not use merge requests extensively. Providing a feature that diverts the workflow towards a merge request based on file path solves a risk problem, and will increase merge request adoption.\n\nThis also generally useful to teams with a high degree of trust and desire for maximum velocity, by allowing developers to make changes freely as much as possible.\n\n## Proposal\n\nMove the existing **Require code owner approval** setting from the Project API, to be available per protected branch.\n\nIf this option is enabled, it will:\n\n- block pushes that contain changes to files matched by the `CODEOWNERS` file, requiring a merge request to be used\n- block merges where code owners have not approved\n\nBenefits:\n\n- moving the options from the project level to the branch level is consistent with direction of moving access controls towards branch and file path level for large repositories (greater flexibility)\n- prevents excessive merge request restrictions when merging between unprotected feature branches (more permissive)\n\nChallenges:\n\n- requires a migration of the existing setting to the new finer grained setting\n  - if existing option unchecked, no migration needed\n  - if existing option checked\n    - if protected branches exist: new protected branch level setting will be enabled for all protected branches\n    - if protected branches do not exist: TBD\n\n## Links / references\n\n\u003cdetails\u003e\u003csummary\u003eOriginal request\u003c/summary\u003e\n\nWe've been looking at how the [Protected branch flow](https://docs.gitlab.com/ee/user/project/merge_requests/authorization_for_merge_requests.html#protected-branch-flow) and [Code Owners](https://docs.gitlab.com/ee/user/project/merge_requests/merge_request_approvals.html#code-owners-approvals-premium) interact and found that it isn't suitable for our use-case.\n\nWe have a big monorepo where users can push commits themselves without going through a MR, but for certain files we'd like to enforce MRs, and were hoping to do so with the code owners feature.\n\nHowever, as covered in the documentation the CODEOWNERS file only enforces something when the branch is protected, as it piggy-backs on MRs being accepted.\n\nThis is conceptually similar to ba3ed8a15ab (\"Enforce code owner approval\", 2019-02-21). Pseudocode for how this might work:\n\n```\ndiff --git a/lib/gitlab/checks/branch_check.rb b/lib/gitlab/checks/branch_check.rb\nindex ad926739752..465d8cb1c7a 100644\n--- a/lib/gitlab/checks/branch_check.rb\n+++ b/lib/gitlab/checks/branch_check.rb\n@@ -38,6 +38,15 @@ module Gitlab\n       private\n \n       def protected_branch_checks\n+        if !ProtectedBranch.protected?(project, branch_name) and\n+           CodeOwners.in_code_owners?(project, branch_name)\n+          if matching_merge_request? \u0026\u0026 merge_request_approved_by_code_owners?\n+              return 1\n+          else\n+              return 0\n+          end\n+        end\n+\n         logger.log_timed(LOG_MESSAGES[:protected_branch_checks]) do\n           return unless ProtectedBranch.protected?(project, branch_name) # rubocop:disable Cop/AvoidReturnFromBlocks\n \n```\n\nI.e. the `protected_branch_checks` now always run, but abort early unless the branch is protected.\n\nAt that point we could check if the files being changed are in `CODEOWNERS`, and then only accept the push if there's a merge request that's approved bringing us to that SHA-1, assuming of course that there's some MR mechanism to also ensure that you can't just create a MR to approve that SHA-1 unless one of the relevant `CODEOWNERS` has approved it, if applicable.\n\nThis is assuming that `CODEOWNERS` is only used in this mode of mandatory approval, perhaps for this purpose users who use it only for notification would need to somehow be split up from this use-case, or not.\n\nThis issue is somewhat conceptually similar to https://gitlab.com/gitlab-org/gitlab-ee/issues/9203\n\n\u003c/details\u003e","state":"closed","created_at":"2019-03-13T15:37:36.957Z","updated_at":"2020-12-07T17:23:34.650Z","closed_at":"2019-10-21T16:03:45.313Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Category:Code Review Workflow","Deliverable","Enterprise Edition","GitLab Premium","UX","backend","customer","devops::create","group::code review","missed-deliverable","missed:12.3","planning priority","type::feature","workflow::verification"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},{"id":3688647,"username":"mvanremmerden","name":"Marcel van Remmerden","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4f46ed49b87eab9e74f20e0e25b36d0f?s=80\u0026d=identicon","web_url":"https://gitlab.com/mvanremmerden"}],"author":{"id":1424505,"username":"avar","name":"Ævar Arnfjörð Bjarmason","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4edaf21e9ad2d357c90aa62eb752f302?s=80\u0026d=identicon","web_url":"https://gitlab.com/avar"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":57,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10395","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10395","notes":"https://gitlab.com/api/v4/projects/278964/issues/10395/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10395/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10395","relative":"#10395","full":"gitlab-org/gitlab#10395"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":19056780,"iid":10386,"project_id":278964,"title":"Find out why javascript_fixtures_helpers.rb does not generate fixtures twice","description":"The following discussion from !9980 should be addressed:\n\n- [ ] @winh started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9980#note_149992665): \n\n    \u003e This change itself makes sense to me. However to me it looks like we intend to generate the same fixture to `\n    \u003e spec/javascripts/fixtures/` AND `ee/spec/javascripts/fixtures/`. Leaving aside if that actually makes sense, I don't see that happening when I run `bin/rake karma:fixtures`. The only duplicate file is `emojis.json` which is explicitly duplicated in https://gitlab.com/gitlab-org/gitlab-ce/blob/41e78a30210c1a02202ff2269554979b6fb18be8/spec/javascripts/fixtures/emojis.rb.\n    \u003e \n    \u003e Can you shed some light here?","state":"closed","created_at":"2019-03-13T09:42:07.019Z","updated_at":"2019-10-14T10:24:34.243Z","closed_at":"2019-03-19T14:36:22.520Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Enterprise Edition","Quality","backstage [DEPRECATED]","frontend","maintenance::refactor","test"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":4,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10386","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10386","notes":"https://gitlab.com/api/v4/projects/278964/issues/10386/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10386/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10386","relative":"#10386","full":"gitlab-org/gitlab#10386"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":19049018,"iid":10380,"project_id":278964,"title":"Upload Jira Connect app descriptor to Atlassian Marketplace","description":"Follow-up from https://gitlab.com/gitlab-org/gitlab-ee/issues/9641 and https://gitlab.com/gitlab-org/gitlab-ee/issues/9643\n\nWe need to create an account and upload a static version of the app descriptor defined in `JiraConnect::AppDescriptorController`.\n\nThis allows our app to be added to the Atlassian Marketplace.\n\nURLs here should point to GitLab.com","state":"closed","created_at":"2019-03-13T02:52:33.042Z","updated_at":"2022-05-19T16:11:41.227Z","closed_at":"2019-09-17T06:11:10.602Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Enterprise Edition","Integration::Jira","backend","devops::plan","group::project management","missed:11.11","type::feature"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10380","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10380","notes":"https://gitlab.com/api/v4/projects/278964/issues/10380/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10380/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10380","relative":"#10380","full":"gitlab-org/gitlab#10380"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1626,"epic":{"id":10001,"iid":1626,"title":"Improving the Jira Connect App in Atlassian Marketplace","url":"/groups/gitlab-org/-/epics/1626","group_id":9970},"iteration":null,"health_status":null},{"id":19047044,"iid":10378,"project_id":278964,"title":"Investigate git-lfs QA failures","description":"https://gitlab.com/gitlab-org/gitlab-ee/commit/de306cfbe42a511bd6ef720fbe875405ce38a30e#note_149753664","state":"closed","created_at":"2019-03-12T22:58:28.342Z","updated_at":"2023-01-09T09:37:38.039Z","closed_at":"2019-03-14T01:23:30.432Z","closed_by":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"labels":["Category:Source Code Management","Enterprise Edition","Git LFS","Quality","auto updated","devops::systems","group::geo","section::enablement"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10378","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10378","notes":"https://gitlab.com/api/v4/projects/278964/issues/10378/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10378/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10378","relative":"#10378","full":"gitlab-org/gitlab#10378"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":19044731,"iid":10376,"project_id":278964,"title":"Geo: Promoting secondary node with external database","description":"I didn't find any guide about this. I think it as easy as just replacing the first step in https://docs.gitlab.com/ee/administration/geo/disaster_recovery/#promoting-a-secondary-node-with-ha with some custom promotion step. For example, for AWS RDS it's just a button \"Promote\" in the Web UI.","state":"closed","created_at":"2019-03-12T20:47:43.067Z","updated_at":"2020-11-23T13:39:44.141Z","closed_at":"2020-11-23T13:39:44.105Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Enterprise Edition","Geo Administration","devops::systems","group::geo","ha","section::enablement"],"milestone":null,"assignees":[],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10376","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10376","notes":"https://gitlab.com/api/v4/projects/278964/issues/10376/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10376/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10376","relative":"#10376","full":"gitlab-org/gitlab#10376"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":590,"epic":{"id":2264,"iid":590,"title":"Geo: Promotion, Demotion and Failover","url":"/groups/gitlab-org/-/epics/590","group_id":9970,"human_readable_end_date":"Dec 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":19035104,"iid":10371,"project_id":278964,"title":"Geo: Let sysadmins run FDW queries from the tracking DB","description":"Same problem as https://gitlab.com/gitlab-org/gitlab-ee/issues/10348.\n\n\u003e\u003e\u003e\nIn an HA setup, with the tracking DB on its own machine, you can't connect to the tracking DB **and run FDW queries** without jumping through a bunch of hoops.\n\nTypical frustrating experience:\n\n* SSH into tracking DB machine\n* `sudo gitlab-geo-psql`\n* Run some query that includes references to `gitlab_secondary` (which is the foreign server)\n* `ERROR: user mapping not found for \"gitlab-psql\"`\n* Oh, I need to be `gitlab_geo` user since it created the foreign server\n* `\\q`\n* `sudo gitlab-geo-psql -U gitlab_geo`\n* `psql: FATAL: Peer authentication failed for user \"gitlab_geo\"`\n* Oh, we configured PG to not allow peer authentication, I'll connect from an app node\n* SSH into app node\n* `sudo gitlab-geo-psql`\n* `psql: could not connect to server: No such file or directory Is the server running locally and accepting connections on Unix domain socket \"/var/opt/gitlab/geo-postgresql/.s.PGSQL.5431\"?`\n* Oh, the command doesn't do what you'd hope\n* `gitlab-geo-psql -U gitlab_geo -h 10.138.0.38`\n* `Password for user gitlab_geo:`\n* Oh I need to get the password (if you're very familiar with GitLab you know it's in plaintext somewhere in `/etc/gitlab/gitlab.rb` but you get the point)\n\nLet's make this easier.\n\u003e\u003e\u003e\n\ncc @brodock","state":"closed","created_at":"2019-03-12T16:27:23.327Z","updated_at":"2019-12-11T20:20:06.038Z","closed_at":"2019-03-12T16:37:28.296Z","closed_by":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"labels":["Enterprise Edition","Geo Administration","devops::systems","group::geo","type::feature"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10371","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10371","notes":"https://gitlab.com/api/v4/projects/278964/issues/10371/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10371/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10371","relative":"#10371","full":"gitlab-org/gitlab#10371"},"severity":"UNKNOWN","moved_to_id":19035346,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24691168,"iid":27275,"project_id":278964,"title":"Document our internal API","description":"Add documentation for our internal API to `doc/development`.\n\n\nBrought up by Nick in https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/25924#note_149166022","state":"closed","created_at":"2019-03-12T15:46:53.007Z","updated_at":"2019-10-08T12:59:41.575Z","closed_at":"2019-10-08T12:59:41.393Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["Stretch","api","backend","development guidelines","devops::create","documentation","missed:12.1","missed:12.1","missed:12.3"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":0,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27275","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27275","notes":"https://gitlab.com/api/v4/projects/278964/issues/27275/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27275/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27275","relative":"#27275","full":"gitlab-org/gitlab#27275"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":19029426,"iid":10364,"project_id":278964,"title":"Add, view and edit optional reason when dismissing vulnerabilities","description":"### Problem to solve\n\nUsers can dismiss vulnerabilities in the security reports in case they recognize it as a false positive, or it simply doesn't apply to that specific case.\n\nSecurity engineers may need to kknow the reason, and to understand why the vulnerability has been dismissed. At the moment, there is no way to get this information.\n\n### Target audience\n\n- Sasha, Software Developer, https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas#sasha-software-developer\n\n- Sam, Security Analyst, https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas#sam-security-analyst\n\n### Proposal\n\nAllow users to specify an optional message when dismissing vulnerabilities. This information will be saved and shown along with the dismissed item.\n\nUsers that don't want/need to add the reason will go through their standard process as usual.  \nUsers interested in adding a reason can do something similar they already do to start a discussion in a comment in the issue.\n\nThe dismissal information is the object that can be used to \"add a comment\". If that's the case, a textarea will appear (similar to comments in issues).\n\nThe overall idea could be considered something similar to what Google Calendar allows to do when you accept/decline an invite.\n\nThe flow should not create complexity for users, and it should be optional only.\n\nIt will be available in the merge request widget, in the pipeline report, in the project and group security dashboards.\n\n### Designs\n\n- :point\\_right: :desktop: [**Prototype**](https://rnu8n7.axshare.com/#g=1\u0026p=v9_prototype\u0026c=1) *Second list item is actionable*\n\n#### Adding a comment and dismissing at the same time. \n\n| GIF | \n| ------ |\n| ![Initial_comment_adding](/uploads/106b7edbf0d656a578bec60ac3ddd49a/Initial_comment_adding.gif) | \n\n##### Mocks for adding a comment and dismissing vulnerability.\n\n| Modal -initial state | Modal - initial state - hover detail | \n| ------ | ------ | \n| ![initial](/uploads/93c668421086430f2719842814b9ce1d/initial.png) | ![initial-with-hover-state](/uploads/4ec474c4ba332f1d6bbe023ba3d6f587/initial-with-hover-state.png) | \n\n\n| Modal - adding comment | Modal - adding comment - comment complete | Modal - adding comment - empty text area - error | \n| ------ | ------ | ------ | \n| ![adding-comment-initial](/uploads/ad1456cc92c481c335e65566d4f31ace/adding-comment-initial.png) | ![adding-comment-active](/uploads/5ed08be1dd2aebeafc077a8af950f849/adding-comment-active.png) | ![adding-comment-active-ERROR-no-comment-added](/uploads/1523e85c15e286ebc556d2ea9258eb68/adding-comment-active-ERROR-no-comment-added.png) |\n\n\n| Toast | Dashboard feedback | Dashboard - feedback popover | Dashboard feedback - popover long comment | \n| ------ | ------ | ------ | ------ |\n|  ![Screen_Shot_2019-04-13_at_1.16.35_PM](/uploads/97c2487670c42cadb77ec0a605d44d44/Screen_Shot_2019-04-13_at_1.16.35_PM.png)  | ![dismissed-with-comment](/uploads/757cc08ec176d91841667a6d8871f89b/dismissed-with-comment.png) | ![dismissed-with-comment-popover](/uploads/c84658ac44169336967deab27b5f3792/dismissed-with-comment-popover.png) | ![dismissed-with-comment-popover-Long-Text](/uploads/300fd8c9a4db9e8ec57829136949b659/dismissed-with-comment-popover-Long-Text.png)  | \n\n| truncated toast | \n| ------ | \n| ![Screen_Shot_2019-04-13_at_2.11.20_PM](/uploads/e792f4ab506284e00a768620ad0830bd/Screen_Shot_2019-04-13_at_2.11.20_PM.png) | \n| toast truncates after 75 characters (max-width 596px) |\n \n- **After user clicks** `Add comment icon` \n  - Modal changes to show text area and dismissal details \n  - Text area is set to on_focus so the user doesn't have to click to enter the text area. This is not depicted in the gif properly. \n- **After user clicks** `Add comment \u0026 dismiss`: \n  - Modal closes \n  - Vuln list item changes to DISMISSED and the comment icon is added \n  - Toast `dismissed with comment` fires following our [**toast guidelines.**](https://design.gitlab.com/components/toasts) \n\n- **If the user clicks `Cancel`**:\n  - They will be returned to the modal in its original state. \n\n_____\n\n#### Adding a comment to an already dismissed vulnerability. \n\n| GIF | \n| ------ |\n| ![vuln_dismissed-_adding_comment_](/uploads/6abfbcd9f590ba0a7ffa85f9180b5497/vuln_dismissed-_adding_comment_.gif) | \n\n| Modal - Vulnerability dismissed |  Modal adding comment from dismissed - initial state | Modal - Vulnerability dismissed - text area empty - error |  Modal - Vulnerability dismissed - comment added | \n| ------ | ------ | ----- | ----- |\n| ![dismiss-without-comment](/uploads/6d7d518e4e5d98c1cd4d5e65dc0c143d/dismiss-without-comment.png) | ![adding-comment-active-from-dismissed](/uploads/d191f7b4d1a7e46a6c97e283b54ce8e4/adding-comment-active-from-dismissed.png) | ![adding-comment-active-from-dismissed-error-state](/uploads/7ccf75a66ed5dcd2fcaaab90fbfa9bbb/adding-comment-active-from-dismissed-error-state.png)  | ![adding-comment-active-from-dismissed_copy_2](/uploads/976f3407a1a85ba384aaf626892c5f1b/adding-comment-active-from-dismissed_copy_2.png) | \n\n\n| Toast |\n| ------ | \n| ![Screen_Shot_2019-04-13_at_1.48.13_PM](/uploads/bf6c579d7f6010f7da0b18d6995e8dcf/Screen_Shot_2019-04-13_at_1.48.13_PM.png) |\n\n- **After users clicks on the text field button:**\n  - Text area appears and is set to on_focus so the user doesn't have to click twice to type. This is not depicted in the Gif. \n\n- **After user clicks `Add comment`**: \n  - Modal closes \n  - Vuln list item changes to DISMISSED and the comment icon is added \n  - Toast `Comment added` fires following our [**toast guidelines.**](https://design.gitlab.com/components/toasts) \n \n- **If the user clicks `Cancel`**:\n  - They will be returned to the modal in its dismissed state.  \n\n______\n\n#### Editing a comment\n\n| GIF | \n| ------ |\n| ![Dismissal_comment_-_editing_comment](/uploads/c054e16f0c39f6b8df1f22d2627f2ed8/Dismissal_comment_-_editing_comment.gif) | \n\n| Modal - Dismissed with comment | Modal - edit comment popover | Modal - editing comment | \n| ------ | ------ | ------ |\n| ![comment-added](/uploads/cc8838c22baa6af9802ab85874b17a36/comment-added.png) | ![editing-comment-popover](/uploads/d45ba6a7e7b4455298422e83518113f5/editing-comment-popover.png) |  ![editing-comment-active](/uploads/a90b8dde5b896b8207df5c7af33af75d/editing-comment-active.png) | \n\n| Toast - Edit comment |\n| ------ | \n| ![Screen_Shot_2019-04-13_at_2.09.00_PM](/uploads/c80b442ed390ccb4dc6461253cf1dda9/Screen_Shot_2019-04-13_at_2.09.00_PM.png) |\n\n- **After user clicks `Saves comment`**: \n  - Modal closes \n  - Toast `Comment edited` fires following our [**toast guidelines.**](https://design.gitlab.com/components/toasts) \n \n- **If the user clicks `Cancel`**:\n  - They will be returned to the modal state with the original comment shown. \n______\n\n#### Deleting a comment\n\n| GIF | \n| ------ |\n| ![Dismissal_comment_-_deleting_comment](/uploads/60c7c8e5079f01eb02415127884889f6/Dismissal_comment_-_deleting_comment.gif) | \n\n| Modal - with comment - delete hoverstate | Modal - with comment - Deletion confirmation  |\n| ------ | ------ |\n| ![delete-popover](/uploads/a4ad9fdc5f4ea7f645defa6cee26968b/delete-popover.png) | ![delete-comment-confirm](/uploads/05edb15d3c36ffc7f4b4ec1c7f4207fe/delete-comment-confirm.png) |\n\n| Toast | \n| ----- | \n|![Screen_Shot_2019-04-13_at_2.21.10_PM](/uploads/6e58cac32861e294adda849925f46bc3/Screen_Shot_2019-04-13_at_2.21.10_PM.png) |  \n\n- **After user clicks `Saves comment`**: \n  - Modal closes \n  - Toast `Comment deleted` fires following our [**toast guidelines.**](https://design.gitlab.com/components/toasts)\n  - Modal state returns to Dismissed with no comment. \n\n- **If the user clicks `Cancel`**:\n  - They will be returned to the modal state with the original comment shown.\n\n#### Assets: \n\n- :mag:  [**Design specs**](https://gitlab-org.gitlab.io/gitlab-design/hosted/andy/ee%2310364-Add-optional-note-when-dismissing-vuln-spec-previews/)\n\n#### Rules: \n- We are **not** going to support adding a comment from the quick action buttons in the Group Security Dashboard in this version. All commenting actions on dismissed vulns will start in the modal. \n- Only **one** comment will be supported in this version. \n- Anyone can comment on a vulnerability at any time. A comment does not have to happen when the user dismissed the vulnerability. \n- Only plain text will be supported. No markup, links, or mentions will be supported.\n\n\n#### Edge Cases\n| When there is a problem while trying to add a comment. Same error text applies to all commenting actions. | \n| ------ |\n| ![adding-comment-active-ERROR](/uploads/8eea3a900bd929a1216093b7661f5653/adding-comment-active-ERROR.png) |\n\n### Permissions and Security\n\nUsers that can dismiss vulnerabilities will be able to set the message. Users that can see dismissed vulnerabilities will be able to see the message.\n\n### What does success look like, and how can we measure that?\n\nNumber of messages set.\n\n---\n\n## Boring solutions\nWe'll be delivering this in several steps (or MRs) to avoid one huge MR close to feature freeze and ensure it still ships, even if it slips.\n\n- [x] Displaying the dismissal as an item with the timestamp. !11028\n- [x] Allow the dismisser to add a comment on dismissal creation only !11226 \u0026 !11162\n- [x] Allow anyone to provide a dismissal reason after the vulnerability has been dismissed !11963 \u0026 !12067 \n- [-] Allowing a dismissal reason to be deleted/edited (New issue: #11721)\n- [-] Add the toast messages (New issue: #11720)\n\nWe might combine the last two steps depending on how similar they end out being.","state":"closed","created_at":"2019-03-12T14:14:17.800Z","updated_at":"2022-03-17T19:27:37.244Z","closed_at":"2019-07-11T21:07:28.407Z","closed_by":{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/502136/avatar.png","web_url":"https://gitlab.com/fatihacet"},"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","Persona: Security Analyst","Persona: Software developer","analysts","backend","customer","depth","devops::secure","direction","frontend","missed-deliverable","missed:11.11","missed:12.0","release post item","type::feature"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"},{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"},"user_notes_count":83,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10364","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10364","notes":"https://gitlab.com/api/v4/projects/278964/issues/10364/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10364/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10364","relative":"#10364","full":"gitlab-org/gitlab#10364"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":19026279,"iid":10362,"project_id":278964,"title":"Documentation : Geo: External database guide is not correct","description":"We have a document that describes how to setup GitLab Geo with an external database https://docs.gitlab.com/ee/administration/geo/replication/external_database.html and it's not correct as it misses a bunch of steps from https://docs.gitlab.com/ee/administration/geo/replication/database.html\n\n* `gitlab-ctl set-geo-primary-node` has to be run as Primary Geo Node should be added\n* `roles ['geo_primary_role']` has to be set (see https://docs.gitlab.com/omnibus/roles/#gitlab-geo-roles)(?)\n* `roles ['geo_secondary_role']` has to be set on secondary\n* `geo_secondary['db_fdw'] = true` has to be set (well, it's mentioned in https://docs.gitlab.com/ee/administration/geo/replication/external_database.html#configure-the-tracking-database but I believe it should be reworked somehow)\n* `gitlab-rake geo:db:migrate` won't work as database has to be created first\n\nIt's a pretty important issue as basically, you can't setup it without deep knowledge of Geo. Moreover, I believe having a database as a separate instance is a common case for huge enterprises that Geo is aiming to target. \n\n\nRelated Slack discussion https://gitlab.slack.com/messages/C32LCGC1H/convo/C32LCGC1H-1551795677.063700/\n\n/cc @devin\n\n**UPDATE**\nAlso, this fragment of text is duplicated:\n```\nTo set up an external replica database, you can either:\n\nSet up streaming replication yourself (for example, in AWS RDS).\nPerform the Omnibus configuration manually as follows.\n```","state":"closed","created_at":"2019-03-12T13:11:25.532Z","updated_at":"2019-12-11T20:20:06.798Z","closed_at":"2019-04-01T01:50:04.612Z","closed_by":{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"},"labels":["Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","documentation","group::geo"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":2,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10362","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10362","notes":"https://gitlab.com/api/v4/projects/278964/issues/10362/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10362/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10362","relative":"#10362","full":"gitlab-org/gitlab#10362"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":917,"epic":{"id":5025,"iid":917,"title":"Geo: Resolve Setup Problems and Improve Documentation","url":"/groups/gitlab-org/-/epics/917","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":19023222,"iid":10361,"project_id":278964,"title":"Disable free CI/CD for GitHub for private projects without a paid subscription on March 22","description":"When launching support for GitHub projects using GitLab CI, we made CI/CD for GitHub on GitLab.com available for everyone for 1 year. This was extended a few times (most recently https://about.gitlab.com/blog/2019/09/09/ci-cd-github-extended-again/). Now that the free period is ending - see https://gitlab.com/gitlab-com/Product/issues/785 for discussion (internal only), we need to revert this change.\n\nNote that this needs to be effective on March 22, not before.\n\n### Proposal\n\n- Update license checks\n- Update docs: \n  - https://docs.gitlab.com/ee/ci/ci_cd_for_external_repos/ \n  - https://docs.gitlab.com/ee/user/project/repository/repository_mirroring.html#pulling-from-a-remote-repository-starter","state":"closed","created_at":"2019-03-12T11:46:27.525Z","updated_at":"2022-08-04T13:54:06.026Z","closed_at":"2020-03-30T08:47:16.661Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["Category:Continuous Integration","Enterprise Edition","Verify::P1","backend","devops::verify","direction","group::pipeline execution","mirror","planning priority","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},{"id":4790482,"username":"crystalpoole","name":"Crystal Poole","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4790482/avatar.png","web_url":"https://gitlab.com/crystalpoole"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":50,"merge_requests_count":1,"upvotes":4,"downvotes":29,"due_date":"2020-03-22","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10361","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10361","notes":"https://gitlab.com/api/v4/projects/278964/issues/10361/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10361/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10361","relative":"#10361","full":"gitlab-org/gitlab#10361"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":19006451,"iid":10351,"project_id":278964,"title":"Group managed accounts should not be publicly visible","description":"### Overview\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/709, we're adding the concept of a \"Group Managed Account\".\n\nBy default, we treat all users in GitLab as public (in API calls like [getting all users](https://docs.gitlab.com/ee/api/users.html) and in the member auto-complete). Since group managed accounts are intended to be used with a single group (and thus rendered inaccessible if the user leaves the organization), we should consider removing group managed accounts from these publicly available areas.\n\n### Proposal\n\n* Group managed accounts should not be available in user API calls that do not require authentication.\n* Group managed accounts should be available in API calls if the executor is an authenticated/authorized member of the group.\n* We should handle auto-complete and user profiles in a similar fashion; these users are not available unless the executor is a member of the group, at which point they would be able to access member information for members in that group. Group Managed Account user profiles should 404 when users (who are not Instance Administrators) who are not also in the Managed Group try to view them.","state":"closed","created_at":"2019-03-12T02:13:28.022Z","updated_at":"2021-07-13T14:13:28.669Z","closed_at":"2021-07-13T14:13:28.649Z","closed_by":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"labels":["Enterprise Edition","[deprecated] Accepting merge requests","backend","customer","devops::manage","direction","estimation::completed","gitlab.com","group::authentication and authorization","isolation","priority::3","saml","section::dev","type::feature","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10351","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10351","notes":"https://gitlab.com/api/v4/projects/278964/issues/10351/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10351/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10351","relative":"#10351","full":"gitlab-org/gitlab#10351"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2965,"epic":{"id":34925,"iid":2965,"title":"🏝 Improved Isolation of Group Activity","url":"/groups/gitlab-org/-/epics/2965","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":19006445,"iid":10350,"project_id":278964,"title":"Follow-up from \"Geo: Support archive recovery or streaming replication types\"","description":"The following discussion from !9935 should be addressed:\n\n- [ ] @ashmckenzie started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9935#note_148587535):  (+1 comment)\n\n    \u003e Removed `streaming replication` from the error message.","state":"closed","created_at":"2019-03-12T02:12:26.778Z","updated_at":"2019-12-11T20:20:07.512Z","closed_at":"2019-03-29T12:25:16.214Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Enterprise Edition","Geo Administration","devops::systems","group::geo","priority::4","severity::4","workflow::in review"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10350","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10350","notes":"https://gitlab.com/api/v4/projects/278964/issues/10350/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10350/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10350","relative":"#10350","full":"gitlab-org/gitlab#10350"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":19003134,"iid":10348,"project_id":278964,"title":"Geo: Add rake task to connect psql to separate tracking DB","description":"In an HA setup, you can't connect to the tracking DB **and run FDW queries** without jumping through a bunch of hoops.\n\nTypical frustrating experience:\n\n- SSH into tracking DB machine\n- `sudo gitlab-geo-psql`\n- Run some query that includes references to `gitlab_secondary` (which is the foreign server)\n- `ERROR:  user mapping not found for \"gitlab-psql\"`\n- Oh, I need to be `gitlab_geo` user since it created the foreign server\n- `\\q`\n- `sudo gitlab-geo-psql -U gitlab_geo`\n- `psql: FATAL:  Peer authentication failed for user \"gitlab_geo\"`\n- Oh, we configured PG to not allow peer authentication, I'll connect from an app node\n- SSH into app node\n- `sudo gitlab-geo-psql`\n- `psql: could not connect to server: No such file or directory Is the server running locally and accepting connections on Unix domain socket \"/var/opt/gitlab/geo-postgresql/.s.PGSQL.5431\"?`\n- Oh, the command doesn't do what you'd hope\n- `gitlab-geo-psql -U gitlab_geo -h 10.138.0.38`\n- `Password for user gitlab_geo: `\n- Oh I need to get the password (if you're very familiar with GitLab you know it's in plaintext somewhere in `/etc/gitlab/gitlab.rb` but you get the point)\n\nLet's make this easier.\n\n## Proposal\n\nAdd a rake task that you can run from an app node e.g. `gitlab-rake geo:dbconsole` that starts `psql` for you and handles everything (since it *must* have all the information).","state":"closed","created_at":"2019-03-11T23:53:02.686Z","updated_at":"2019-12-11T20:20:08.296Z","closed_at":"2019-09-24T22:39:15.465Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","group::geo","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10348","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10348","notes":"https://gitlab.com/api/v4/projects/278964/issues/10348/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10348/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10348","relative":"#10348","full":"gitlab-org/gitlab#10348"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":916,"epic":{"id":5024,"iid":916,"title":"Geo: Assistance in Debugging Setup/Configuration Problems","url":"/groups/gitlab-org/-/epics/916","group_id":9970,"human_readable_end_date":"Jun 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18999812,"iid":10347,"project_id":278964,"title":"Documentation : Review documentation about GeoNode URLs","description":"Follow up for https://gitlab.com/gitlab-org/gitlab-ee/issues/9142 and https://gitlab.com/gitlab-org/gitlab-ee/issues/9174.\n\n- https://gitlab.com/gitlab-org/gitlab-ee/blob/9d3b1195/doc/user/admin_area/geo_nodes.md.\n- https://gitlab.com/gitlab-org/gitlab-ee/blob/9d3b1195/doc/api/geo_nodes.md\n\nMake sure documentation makes sense and is helpful to customers.\n\n- ~~`Alternate URL`~~\n- [ ] `Internal URL`\n- [ ] `URL`","state":"closed","created_at":"2019-03-11T21:12:46.565Z","updated_at":"2019-12-11T20:20:09.159Z","closed_at":"2019-04-04T00:17:06.246Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","Geo Administration","devops::systems","documentation","group::geo"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10347","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10347","notes":"https://gitlab.com/api/v4/projects/278964/issues/10347/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10347/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10347","relative":"#10347","full":"gitlab-org/gitlab#10347"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":951,"epic":{"id":5206,"iid":951,"title":"Geo: Support Nodes behind a Load Balancer","url":"/groups/gitlab-org/-/epics/951","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24691131,"iid":27262,"project_id":278964,"title":"Migrate spec/javascripts/vue_shared/components/markdown/ to Jest","description":"The following test files should be refactored from Karma to Jest:\n\n```shell\nfind spec/javascripts/vue_shared/components/markdown -name '*_spec.js' -exec echo \"- [ ] {}\" \\;\n```\n\n- [x] spec/javascripts/vue_shared/components/markdown/header_spec.js: https://gitlab.com/gitlab-org/gitlab-foss/merge_requests/30228\n- [x] spec/javascripts/vue_shared/components/markdown/suggestion_diff_header_spec.js\n- [x] spec/javascripts/vue_shared/components/markdown/suggestion_diff_spec.js\n- [x] spec/javascripts/vue_shared/components/markdown/field_spec.js: https://gitlab.com/gitlab-org/gitlab/merge_requests/20309\n- [ ] spec/javascripts/vue_shared/components/markdown/toolbar_spec.js\n- [ ] spec/javascripts/vue_shared/components/markdown/suggestions_spec.js","state":"closed","created_at":"2019-03-11T21:00:43.673Z","updated_at":"2022-05-19T16:11:54.539Z","closed_at":"2020-01-03T17:53:23.742Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Deliverable","[deprecated] Accepting merge requests","backstage [DEPRECATED]","devops::plan","frontend","group::project management","markdown","missed-deliverable","missed:12.5","test","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27262","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27262","notes":"https://gitlab.com/api/v4/projects/278964/issues/27262/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27262/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27262","relative":"#27262","full":"gitlab-org/gitlab#27262"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":895,"epic":{"id":4891,"iid":895,"title":"Jest migration","url":"/groups/gitlab-org/-/epics/895","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24691128,"iid":27261,"project_id":278964,"title":"Migrate spec/javascripts/notes/ to Jest","description":"The following test files should be refactored from Karma to Jest:\n\n```shell\nfind spec/javascripts/notes -name '*_spec.js' -exec echo \"- [x] {}\" \\;\n```\n\n- [x] spec/javascripts/notes/stores/mutation_spec.js\n- [x] spec/javascripts/notes/stores/getters_spec.js\n- [x] spec/javascripts/notes/stores/collapse_utils_spec.js\n- [x] spec/javascripts/notes/stores/actions_spec.js https://gitlab.com/gitlab-org/gitlab/-/merge_requests/26699\n- [x] spec/javascripts/notes/components/noteable_discussion_spec.js\n- [x] spec/javascripts/notes/components/diff_with_note_spec.js\n- [x] spec/javascripts/notes/components/discussion_reply_placeholder_spec.js\n- [x] spec/javascripts/notes/components/note_signed_out_widget_spec.js\n- [x] spec/javascripts/notes/components/noteable_note_spec.js\n- [x] spec/javascripts/notes/components/comment_form_spec.js\n- [x] spec/javascripts/notes/components/discussion_resolve_button_spec.js\n- [x] spec/javascripts/notes/components/note_body_spec.js\n- [x] spec/javascripts/notes/components/note_awards_list_spec.js\n- [x] spec/javascripts/notes/components/discussion_filter_spec.js\n- [x] spec/javascripts/notes/components/note_form_spec.js\n- [x] spec/javascripts/notes/components/note_edited_text_spec.js\n- [x] spec/javascripts/notes/components/note_app_spec.js\n- [x] spec/javascripts/notes/components/note_attachment_spec.js\n- [x] spec/javascripts/notes/components/discussion_filter_note_spec.js\n- [x] spec/javascripts/notes/components/toggle_replies_widget_spec.js\n- [x] spec/javascripts/notes/components/note_header_spec.js\n- [x] spec/javascripts/notes/components/note_actions/reply_button_spec.js\n- [x] spec/javascripts/notes/components/discussion_resolve_with_issue_button_spec.js\n- [x] spec/javascripts/notes/components/note_actions_spec.js https://gitlab.com/gitlab-org/gitlab/-/merge_requests/20654\n- [x] spec/javascripts/notes/components/discussion_counter_spec.js","state":"closed","created_at":"2019-03-11T20:44:38.646Z","updated_at":"2022-05-19T16:11:54.162Z","closed_at":"2020-05-08T06:22:32.906Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["backstage [DEPRECATED]","devops::plan","frontend","group::project management","issues","merge requests","test"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27261","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":25,"completed_count":25},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"25 of 25 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27261","notes":"https://gitlab.com/api/v4/projects/278964/issues/27261/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27261/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27261","relative":"#27261","full":"gitlab-org/gitlab#27261"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":895,"epic":{"id":4891,"iid":895,"title":"Jest migration","url":"/groups/gitlab-org/-/epics/895","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24691127,"iid":27260,"project_id":278964,"title":"Migrate spec/javascripts/issue_show/ to Jest","description":"The following test files should be refactored from Karma to Jest:\n\n```shell\nfind spec/javascripts/issue_show -name '*_spec.js' -exec echo \"- [ ] {}\" \\;\n```\n\n- [ ] spec/javascripts/issue_show/index_spec.js\n- [ ] spec/javascripts/issue_show/components/form_spec.js\n- [ ] spec/javascripts/issue_show/components/edit_actions_spec.js\n- [ ] spec/javascripts/issue_show/components/description_spec.js\n- [ ] spec/javascripts/issue_show/components/edited_spec.js\n- [ ] spec/javascripts/issue_show/components/app_spec.js\n- [ ] spec/javascripts/issue_show/components/title_spec.js\n- [ ] spec/javascripts/issue_show/components/fields/description_spec.js\n- [ ] spec/javascripts/issue_show/components/fields/description_template_spec.js\n- [ ] spec/javascripts/issue_show/components/fields/title_spec.js","state":"closed","created_at":"2019-03-11T20:42:39.815Z","updated_at":"2022-05-19T16:11:53.967Z","closed_at":"2020-05-06T12:43:38.864Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["backstage [DEPRECATED]","devops::plan","frontend","group::project management","issues","test","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27260","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27260","notes":"https://gitlab.com/api/v4/projects/278964/issues/27260/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27260/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27260","relative":"#27260","full":"gitlab-org/gitlab#27260"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":895,"epic":{"id":4891,"iid":895,"title":"Jest migration","url":"/groups/gitlab-org/-/epics/895","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24691125,"iid":27259,"project_id":278964,"title":"Migrate spec/javascripts/filtered_search/ to Jest","description":"The following test files should be refactored from Karma to Jest:\n\n```shell\nfind spec/javascripts/filtered_search -name '*_spec.js' -exec echo \"- [ ] {}\" \\;\n```\n\n- [x] spec/javascripts/filtered_search/visual_token_value_spec.js !31215\n- [x] spec/javascripts/filtered_search/dropdown_user_spec.js https://gitlab.com/gitlab-org/gitlab/-/merge_requests/22095\n- [x] spec/javascripts/filtered_search/filtered_search_dropdown_manager_spec.js https://gitlab.com/gitlab-org/gitlab/-/merge_requests/34016\n- [x] spec/javascripts/filtered_search/dropdown_utils_spec.js !31215\n- [x] spec/javascripts/filtered_search/stores/recent_searches_store_spec.js https://gitlab.com/gitlab-org/gitlab/-/merge_requests/10391\n- [x] spec/javascripts/filtered_search/filtered_search_visual_tokens_spec.js https://gitlab.com/gitlab-org/gitlab/-/merge_requests/34016\n- [x] spec/javascripts/filtered_search/components/recent_searches_dropdown_content_spec.js https://gitlab.com/gitlab-org/gitlab/-/merge_requests/22095\n- [x] spec/javascripts/filtered_search/filtered_search_tokenizer_spec.js !31215\n- [x] spec/javascripts/filtered_search/issues_filtered_search_token_keys_spec.js !31215\n- [x] spec/javascripts/filtered_search/filtered_search_manager_spec.js https://gitlab.com/gitlab-org/gitlab/-/merge_requests/32455\n- [x] spec/javascripts/filtered_search/services/recent_searches_service_spec.js !31215\n- [x] spec/javascripts/filtered_search/services/recent_searches_service_error_spec.js https://gitlab.com/gitlab-org/gitlab/-/merge_requests/10391\n- [x] spec/javascripts/filtered_search/recent_searches_root_spec.js https://gitlab.com/gitlab-org/gitlab/-/merge_requests/32455","state":"closed","created_at":"2019-03-11T20:38:59.217Z","updated_at":"2022-05-19T16:11:53.779Z","closed_at":"2020-06-08T06:56:58.488Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Category:Portfolio Management","[deprecated] Accepting merge requests","backstage [DEPRECATED]","devops::plan","epics","filter bar","frontend","group::project management","issues","merge requests","test"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27259","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":13},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"13 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27259","notes":"https://gitlab.com/api/v4/projects/278964/issues/27259/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27259/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27259","relative":"#27259","full":"gitlab-org/gitlab#27259"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":895,"epic":{"id":4891,"iid":895,"title":"Jest migration","url":"/groups/gitlab-org/-/epics/895","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24691121,"iid":27258,"project_id":278964,"title":"Migrate spec/javascripts/boards/ to Jest","description":"The following test files should be refactored from Karma to Jest:\n\n```shell\nfind spec/javascripts/boards -name '*_spec.js' -exec echo \"- [ ] {}\" \\;\n```\n\n- [x] spec/javascripts/boards/board_new_issue_spec.js (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27607)\n- [x] spec/javascripts/boards/board_list_spec.js (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28317)\n- [x] spec/javascripts/boards/board_card_spec.js (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28317)\n- [x] spec/javascripts/boards/board_blank_state_spec.js (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27607)\n- [x] spec/javascripts/boards/modal_store_spec.js (Already moved!)\n- [x] spec/javascripts/boards/list_spec.js (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28317)\n- [ ] ~~spec/javascripts/boards/components/board_spec.js~~\n- [x] spec/javascripts/boards/components/board_form_spec.js (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27607)\n- [x] spec/javascripts/boards/components/issue_due_date_spec.js (Already moved!)\n- [x] spec/javascripts/boards/components/issue_time_estimate_spec.js (Already moved!)\n- [x] spec/javascripts/boards/boards_store_spec.js (Already moved!)\n- [x] spec/javascripts/boards/issue_card_spec.js (Already moved!)\n- [x] spec/javascripts/boards/issue_spec.js (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27607)\n\n**note:** `spec/javascripts/boards/components/board_spec.js` still exists in the codebase but it will be deleted, it was replaced by: `spec/frontend/boards/components/board_column_spec.js`","state":"closed","created_at":"2019-03-11T20:35:09.335Z","updated_at":"2022-05-19T16:11:53.481Z","closed_at":"2020-06-03T13:15:35.704Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Team Planning","[deprecated] Accepting merge requests","backstage [DEPRECATED]","boards","devops::plan","frontend","group::project management","test"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":9,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27258","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":12},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27258","notes":"https://gitlab.com/api/v4/projects/278964/issues/27258/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27258/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27258","relative":"#27258","full":"gitlab-org/gitlab#27258"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":895,"epic":{"id":4891,"iid":895,"title":"Jest migration","url":"/groups/gitlab-org/-/epics/895","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18994440,"iid":10342,"project_id":278964,"title":"Geo: Help admins diagnose configuration problems","description":"We already show some errors on Admin \u003e Geo \u003e Nodes, but they are often not helpful enough.\n\nMy first recommendation is to run `gitlab-rake gitlab:geo:check` on primary and secondary.\n\n### Proposal\n\n- We could instruct the admin to \"Try running `gitlab-rake gitlab:geo:check` on each Geo node running unicorn or sidekiq\". (Weight: 1)\n- ~~Add button that runs Geo checks on \"this\" node? (Weight: 1, if we don't mind displaying output as-is, probably in a collapsed div) (Better than that could quickly get complicated)~~ =\u003e Opened a separate issue for this proposal https://gitlab.com/gitlab-org/gitlab-ee/issues/10374\n- ~~Automatically run Geo check on \"this\" node every X minutes when there is a problem? (Weight: 3, if we don't mind displaying output as-is, probably in a collapsed div)~~","state":"closed","created_at":"2019-03-11T17:47:36.130Z","updated_at":"2019-12-11T20:20:10.053Z","closed_at":"2019-03-22T23:54:06.104Z","closed_by":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"labels":["Enterprise Edition","Geo Administration","devops::systems","group::geo","type::feature","workflow::in review"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":3,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10342","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10342","notes":"https://gitlab.com/api/v4/projects/278964/issues/10342/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10342/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10342","relative":"#10342","full":"gitlab-org/gitlab#10342"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":916,"epic":{"id":5024,"iid":916,"title":"Geo: Assistance in Debugging Setup/Configuration Problems","url":"/groups/gitlab-org/-/epics/916","group_id":9970,"human_readable_end_date":"Jun 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24691082,"iid":27244,"project_id":278964,"title":"WebIDE: \"Discard all changes\" button fails on newly-created or renamed files in Web IDE","description":"### Summary\n\n\"Discard all changes\" button from \"Discard all unstaged changes?\" modal throws JS errors when trying to discard newly-added files.\n\n### Steps to reproduce\n\n* Go to a project\n* Click \"Web IDE\" button. From here, there are 2 ways to test, both of which fail:\n  * add new file. Doesn't matter whether empty or not, or\n  * rename existing file\n* Click \"Commit\"\n* In the \"Unstaged changes\" section click \"Discard all changes\" button. The modal appears\n* In the modal, confirm your wish by clicking \"Discard all changes\"\n\n### What is the current *bug* behavior?\n\nFollowing the above steps does not discard changes right away. Instead, JS errors are thrown into console. If there are other changes along with the newly-added file, those do not get discarded either. Though it seems like those **do** get actually discarded because reloading the page reveals that the changes are gone.\n\n### What is the expected *correct* behavior?\n\nThe changes should be discarded and the newly-added file should be removed right away as it happens with discarding simple file edits. The errors should not be thrown.\n\n### Relevant logs and/or screenshots\n\n![Screenshot_2019-03-08_at_17.45.46](/uploads/126b85b8d093fc268d2bf073c93efd49/Screenshot_2019-03-08_at_17.45.46.png)","state":"closed","created_at":"2019-03-11T14:29:55.299Z","updated_at":"2020-08-10T20:19:38.369Z","closed_at":"2019-12-24T07:45:37.532Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Category:Web IDE","Deliverable","devops::create","frontend","group::editor","priority::3","severity::2","type::bug","workflow::in review"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27244","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27244","notes":"https://gitlab.com/api/v4/projects/278964/issues/27244/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27244/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27244","relative":"#27244","full":"gitlab-org/gitlab#27244"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24691078,"iid":27242,"project_id":278964,"title":"\"Discard\" button in Web IDE does nothing","description":"### Summary\n\n\"Discard\" button at the top (next to \"Stage\") simply does nothing when clicked. This means that in case one needs to discard changes through web interface, there is no way to do so. Presumably, it's a regression though not sure in which version.\n\n### Steps to reproduce\n\n* Go to a project\n* Click \"Web IDE\" button\n* Make changes to a file\n* Click \"Commit\"\n* Click \"Discard\" (next to \"Stage\") for the edited file\n\n### What is the current *bug* behavior?\n\nThe button does nothing. The changes do not get discarded for the file\n\n### What is the expected *correct* behavior?\n\nChanges should be discarded and file should be reverted\n\n### Screenshots/Video\n\n![Discard_doesnt_work](/uploads/16b9ab169a7d461b1906e62eea7dfd13/Discard_doesnt_work.mov)\n\n\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e","state":"closed","created_at":"2019-03-11T14:06:07.194Z","updated_at":"2020-05-01T11:34:57.081Z","closed_at":"2019-12-23T08:32:35.591Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Category:Web IDE","Create [DEPRECATED]","Deliverable","devops::create","frontend","group::editor","missed-deliverable","missed:12.5","missed:12.6","priority::3","regression","regression:11.4","regression:master","severity::3","type::bug"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27242","notes":"https://gitlab.com/api/v4/projects/278964/issues/27242/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27242/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27242","relative":"#27242","full":"gitlab-org/gitlab#27242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24691077,"iid":27241,"project_id":278964,"title":"Content Spoofing OR Text Injection in https://gitlab.com","description":"**[HackerOne report #504961](https://hackerone.com/reports/504961)** by `mkzreport` on 2019-03-04, assigned to `dappelt`:\n\nHello,  \ni want to report Content Spoofing OR Text-based injection vulnerability\n\nthe bug exists at :\n\nhttps://gitlab.com/users/auth/bitbucket/callback?state=cae8687aa809fc45e00b2f8ed4a0ea124d5f9b8235cb2b2e\u0026error_description=YOUR+ACCOUNT+WAS+LOCKED,PLEASE+GO+TO+https://evil.com+FOR+UNLOCKING+YOUR+ACCOUNT\u0026error=access_denied\n\nhttps://gitlab.com/users/auth/github/callback?state=cae8687aa809fc45e00b2f8ed4a0ea124d5f9b8235cb2b2e\u0026error_description=YOUR+ACCOUNT+WAS+LOCKED,PLEASE+GO+TO+https://evil.com+FOR+UNLOCKING+YOUR+ACCOUNT\u0026error=access_denied  \n![11.JPG](https://h1.sec.gitlab.net/a/504961/435592/11.JPG)\n\n## Impact\n\nThat means above mention URL's  parameter is vulnerable for Content Spoofing OR Text Injection\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [11.JPG](https://h1.sec.gitlab.net/a/504961/435592/11.JPG)","state":"closed","created_at":"2019-03-11T12:36:03.227Z","updated_at":"2021-12-23T19:34:52.588Z","closed_at":"2021-09-30T18:44:43.759Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["Category:Authentication and Authorization","Epic 6340","FY22::Q3","HackerOne","Manage [DEPRECATED]","backend","devops::manage","group::authentication and authorization","priority::3","section::dev","security","security-backlog::valid","severity::3","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":36,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27241","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27241","notes":"https://gitlab.com/api/v4/projects/278964/issues/27241/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27241/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27241","relative":"#27241","full":"gitlab-org/gitlab#27241"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18982664,"iid":10330,"project_id":278964,"title":"Set gon.ee in EE-specific Karma and Jest tests","description":"The following discussion from !9794 should be addressed:\n\n- [ ] @winh started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9794#note_149180265):  (+3 comments)\n\n    \u003e does this line imply that we are always running tests with the CE code base even for EE-specific tests? or am I missing something? :thinking:\n\nFrom @leipert:\n\n\u003e Should we just run the tests twice once with ee=false and once with ee=true?\n\n\u003e Ah, what about fixture generation?","state":"closed","created_at":"2019-03-11T12:18:44.746Z","updated_at":"2022-05-19T16:13:00.037Z","closed_at":"2019-03-14T16:04:25.433Z","closed_by":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"labels":["Enterprise Edition","backstage [DEPRECATED]","devops::plan","frontend","single codebase","test"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10330","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10330","notes":"https://gitlab.com/api/v4/projects/278964/issues/10330/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10330/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10330","relative":"#10330","full":"gitlab-org/gitlab#10330"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18980551,"iid":10327,"project_id":278964,"title":"Enable Reliable fetcher by default","description":"It's already two months as we have Reliable Fetcher enabled in \"semi-reliable\" mode on GitLab.com and we didn't see any issue related to that. I propose to remove the feature flag for this feature and enable it by default in \"semi-reliable\" mode.\n\n/cc @stanhu","state":"closed","created_at":"2019-03-11T11:08:50.422Z","updated_at":"2019-12-16T14:49:50.581Z","closed_at":"2019-04-25T16:00:00.929Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","workflow::in review"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":6,"merge_requests_count":2,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10327","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10327","notes":"https://gitlab.com/api/v4/projects/278964/issues/10327/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10327/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10327","relative":"#10327","full":"gitlab-org/gitlab#10327"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18979965,"iid":10324,"project_id":278964,"title":"`/weight` quick action does not accept 0","description":"### Summary\n\n`/weight` quick action does not accept 0\n\n### Steps to reproduce\n\n- Create a new project\n- Create a new issue\n- Add a weight of 5 via a quick action or sidebar\n  - `/weight 5`\n- Attempt to set a weight of 0 via quick action\n  - `/weight 0`\n\n### Example Project\n\nNeed quick action execution to reproduce but this issue is in the state for repro:\n\n- https://gitlab.com/issue-reproduce/no-weight-test/issues/2\n\n### What is the current *bug* behavior?\n\n`/weight 0` quick action does nothing\n\n### What is the expected *correct* behavior?\n\nI thought that the quick action would accept `0` and clear the weight just like the sidebar does\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's very hard to read otherwise.)\n\n### Output of checks\n\n~\"reproduced on GitLab.com\" `v11.9.1-rc3`\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-03-11T10:46:50.420Z","updated_at":"2022-05-19T16:12:59.464Z","closed_at":"2019-06-28T09:31:55.183Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Enterprise Edition","backend","devops::plan","issue weight","issues","missed-SLO","priority::3","quick actions","severity::3","type::bug","workflow::in review"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":419655,"username":"markglenfletcher","name":"Mark Fletcher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/419655/avatar.png","web_url":"https://gitlab.com/markglenfletcher"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":3,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10324","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10324","notes":"https://gitlab.com/api/v4/projects/278964/issues/10324/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10324/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10324","relative":"#10324","full":"gitlab-org/gitlab#10324"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24691072,"iid":27240,"project_id":278964,"title":"Replace jquery.caret / jquery.atwho / At.js for autocompletion","description":"For quick actions in Markdown we use https://github.com/ichord/At.js. Since October 2018 that project is [no longer maintained](https://github.com/ichord/At.js/commit/a42b3182a9433506eabf8aaaa5eeb653561a27e7) and still has a number of open bugs that affect us, too. We need to evaluate an alternative library—for example https://github.com/zurb/tribute which is mentioned there.\n\n## Autocomplete types to convert\n\n- [x] members\n- [ ] labels\n- [ ] issues\n- [ ] merge requests\n- [ ] epics\n- [ ] milestones\n- [ ] snippets\n- [ ] emojis\n\n## Places to convert usage from atjs to tribute\n\nCall hierarchy (generated 21 July 2020):\n\n```\nnew GfmAutoComplete (app/assets/javascripts/gfm_auto_complete.js)\n\tapp/assets/javascripts/gl_form.js\n\t\tapp/assets/javascripts/notes.js\n\t\tapp/assets/javascripts/pages/projects/merge_requests/init_merge_request.js\n\t\t\tapp/assets/javascripts/pages/projects/merge_requests/edit/index.js\n\t\t\tapp/assets/javascripts/pages/projects/merge_requests/creations/index.js\n\t\tapp/assets/javascripts/pages/projects/tags/new/index.js\n\t\tapp/assets/javascripts/pages/projects/tags/releases/index.js\n\t\tapp/assets/javascripts/pages/shared/wikis/index.js\n\t\tapp/assets/javascripts/pages/snippets/form.js\n\t\tapp/assets/javascripts/shared/milestones/form.js\n\t\t\tapp/assets/javascripts/pages/groups/milestones/edit/index.js\n\t\t\tapp/assets/javascripts/pages/groups/milestones/new/index.js\n\t\t\tapp/assets/javascripts/pages/projects/milestones/edit/index.js\n\t\t\tapp/assets/javascripts/pages/projects/milestones/new/index.js\n\t\tapp/assets/javascripts/snippet/snippet_edit.js\n\t\t\tapp/assets/javascripts/pages/projects/snippets/edit/index.js\n\t\t\tapp/assets/javascripts/pages/projects/snippets/new/index.js\n\t\t\tapp/assets/javascripts/pages/snippets/edit/index.js\n\t\t\tapp/assets/javascripts/pages/snippets/new/index.js\n\t\tapp/assets/javascripts/vue_shared/components/markdown/field.vue\n\t\t\tapp/assets/javascripts/design_management/components/design_notes/design_reply_form.vue\n\t\t\tapp/assets/javascripts/issue_show/components/fields/description.vue\n\t\t\tapp/assets/javascripts/notes/components/comment_form.vue\n\t\t\tapp/assets/javascripts/notes/components/note_form.vue\n\t\t\tapp/assets/javascripts/releases/components/app_edit.vue\n\t\t\tapp/assets/javascripts/snippets/components/snippet_description_edit.vue\n\t\t\tee/app/assets/javascripts/epic/components/epic_form.vue\n\t\t\tee/app/assets/javascripts/iterations/components/iteration_form.vue\n\tapp/assets/javascripts/issuable_form.js\n\t\tapp/assets/javascripts/pages/projects/issues/form.js\n\t\t\tapp/assets/javascripts/pages/projects/issues/new/index.js\n\t\t\tapp/assets/javascripts/pages/projects/issues/edit/index.js\n\tapp/assets/javascripts/behaviors/markdown/gfm_auto_complete.js\n\t\tapp/assets/javascripts/behaviors/index.js\n\t\t\tapp/assets/javascripts/main.js\n\tapp/assets/javascripts/pages/profiles/show/index.js\n\tee/app/assets/javascripts/related_issues/components/related_issuable_input.vue\n\tapp/assets/javascripts/set_status_modal/set_status_modal_wrapper.vue\n```","state":"closed","created_at":"2019-03-11T10:45:57.827Z","updated_at":"2020-09-01T12:06:24.925Z","closed_at":"2020-07-22T15:17:23.621Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["devops::plan","feature flag","frontend","group::project management","maintenance::dependency","maintenance::refactor","markdown","type::feature"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":8,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27240","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27240","notes":"https://gitlab.com/api/v4/projects/278964/issues/27240/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27240/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27240","relative":"#27240","full":"gitlab-org/gitlab#27240"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3284,"epic":{"id":52855,"iid":3284,"title":"Global Frontend performance optimizations","url":"/groups/gitlab-org/-/epics/3284","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":24691070,"iid":27239,"project_id":278964,"title":"Display a better message when starting a discussion on a deleted comment","description":"This was split from https://gitlab.com/gitlab-org/gitlab-ce/issues/58587.\n\nAfter starting a discussion on a deleted comment failed, we show \"Your comment could not be submitted! Please check your network connection and try again.\" We should change that to be more accurate.","state":"closed","created_at":"2019-03-11T09:50:43.825Z","updated_at":"2022-05-19T16:13:12.850Z","closed_at":"2020-01-14T07:45:08.872Z","closed_by":{"id":331646,"username":"jacopo-beschi","name":"🙈  jacopo beschi 🙉","state":"active","avatar_url":"https://secure.gravatar.com/avatar/692fb66988ac3863f360e846c1afc4f3?s=80\u0026d=identicon","web_url":"https://gitlab.com/jacopo-beschi"},"labels":["Community contribution","Deliverable","UX","UX debt","devops::plan","frontend","group::project management","issues","merge requests","missed-deliverable","missed:12.5","missed:12.6","priority::3","severity::3","type::bug","workflow::in review"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":331646,"username":"jacopo-beschi","name":"🙈  jacopo beschi 🙉","state":"active","avatar_url":"https://secure.gravatar.com/avatar/692fb66988ac3863f360e846c1afc4f3?s=80\u0026d=identicon","web_url":"https://gitlab.com/jacopo-beschi"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":331646,"username":"jacopo-beschi","name":"🙈  jacopo beschi 🙉","state":"active","avatar_url":"https://secure.gravatar.com/avatar/692fb66988ac3863f360e846c1afc4f3?s=80\u0026d=identicon","web_url":"https://gitlab.com/jacopo-beschi"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27239","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27239","notes":"https://gitlab.com/api/v4/projects/278964/issues/27239/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27239/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27239","relative":"#27239","full":"gitlab-org/gitlab#27239"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18960321,"iid":10320,"project_id":278964,"title":"Improve documentation on how to provide an image for Container Scanning tool","description":"### Problem to solve\n\nFrom current [Container Scanning example docs](https://docs.gitlab.com/ee/ci/examples/container_scanning.html), it's not clear how and where to get the image for the tool to use and scan.\n\n### Proposal\n\nAdd a couple of lines to the example before the Container Scanning job definition:\n\n- [ ] how to spin up a [GitLab Container Registry](https://docs.gitlab.com/ee/user/project/container_registry.html) (this could be just a link to the Registry docs)\n- [ ] how to build an image and push it to the Registry\n\nUpdate the job definition in the example:\n\n- [ ] how to refer to the image correctly in the job definition in order to get it pulled and scanned \n\n### Who can address the issue\n\n~Secure team\n\n### Product\n- Release Post - Not Needed","state":"closed","created_at":"2019-03-11T09:22:55.670Z","updated_at":"2020-02-12T02:03:47.124Z","closed_at":"2020-01-23T22:02:31.977Z","closed_by":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"labels":["Enterprise Edition","GitLab Ultimate","backend","devops::secure","docs::improvement","documentation","group::composition analysis","missed:12.3","missed:12.4","missed:12.5","missed:12.6","missed:12.7","type::feature","workflow::in dev"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":3337413,"username":"vzagorodny","name":"Victor Zagorodny","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/56410d67aa18e03b13e1585d436bf313?s=80\u0026d=identicon","web_url":"https://gitlab.com/vzagorodny"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10320","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10320","notes":"https://gitlab.com/api/v4/projects/278964/issues/10320/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10320/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10320","relative":"#10320","full":"gitlab-org/gitlab#10320"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":866,"epic":{"id":4668,"iid":866,"title":"Documentation improvements for GitLab Security Features","url":"/groups/gitlab-org/-/epics/866","group_id":9970,"human_readable_end_date":"Feb 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24691038,"iid":27227,"project_id":278964,"title":"Widget showing changed pages for Visual Reviews","description":"### Problem to solve\n\n[Review apps](https://about.gitlab.com/product/review-apps/) are great and [visual reviews](https://docs.gitlab.com/ee/ci/review_apps/index.html#visual-reviews-starter) has added a quick and easy way to provide feedback directly in the MR. \n\nFor Parker and Presley this is great, but it takes them too long to navigate to the page that has been changed from the review app. Instead they are more likely to just ask Sasha to show them on their computer or send a screenshot to validate a change. This is less than ideal and leads to lower quality features shipping to customers.\n\n### Intended users\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n#### Use Cases\n* When I (a Gitlab Product manager) am reviewing handbook changes from other PMs, I want to leave comments back on the MR but view the change as it would appear on the handbook. Instead of bouncing back and forth between tabs or devices doing that natively in the Review App / Visual Review tool would save me time.\n* When a designer is reviewing multiple pages that have changed and need to validate the front end changes, I want to quickly navigate page by page and leave comments back on the MR.\n\n### Proposal\n\nWith https://gitlab.com/gitlab-org/gitlab-ce/issues/53390 we provided the ability for users to manually review the visual and application changes within a review app.  As a follow up to that, we should port the \"which pages have changed\" widget from the Merge Request into the Visual Review function.  This widget is already smart about what it knows about the MR and the changes, and thus that logic will be the same in the Visual Review function. This replicates that dropdown onto the Visual Review button.\n\nSTRETCH: include a tooltip or something about [route maps](https://docs.gitlab.com/ee/ci/review_apps/#route-maps) so users of generated sites can more easily make use of this feature.\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/cdfba5061a602bf4824a2a9f6e6d6bee/image.png)\n\nThat way, I can quickly navigate to only / all of the parts of the application that have changed.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nNo changes to permissions from the existing Visual Reviews.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\nThe existing [documentation](https://docs.gitlab.com/ee/ci/review_apps/#visual-reviews-starter) should be updated to reflect how route maps need to be in place to utilize this feature for sites like gitlab.\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n#### Ideas\n* Let's see how a very large change set looks\n* Should work cross browser\n* Ideally we test mobile views\n\n#### Test Areas\n* Unit\n  * New unit testing required\n* Integration\n  * New integration testing required\n* End-to-end\n  * No end-to-end testing required\n  * package-and-qa not required\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n* We will know this feature was successful by seeing additional usage of the visual review tool after launch.\n* The users will be successful when they are closing MRs faster because Designers and Product Managers are finishing User Acceptance Testing sooner.\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\nThe buyer for this is the manager of the team who is already utilizing Visual Reviews.\n\n### Links / references\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-03-08T19:35:29.114Z","updated_at":"2022-01-05T17:28:29.110Z","closed_at":"2020-03-16T19:12:35.410Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["Category:Pages","Category:Review Apps","Deliverable","GitLab Starter","UX","devops::verify","direction","frontend","group::pipeline insights","quad-planning::complete-action","type::feature","workflow::canary"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"}],"author":{"id":1514779,"username":"brendan","name":"Brendan O'Leary 🐢","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5a575069d12106f79c0c97dfb3ef917?s=80\u0026d=identicon","web_url":"https://gitlab.com/brendan"},"type":"ISSUE","assignee":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"user_notes_count":26,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27227","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27227","notes":"https://gitlab.com/api/v4/projects/278964/issues/27227/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27227/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27227","relative":"#27227","full":"gitlab-org/gitlab#27227"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":960,"epic":{"id":5387,"iid":960,"title":"Visual Review Tool","url":"/groups/gitlab-org/-/epics/960","group_id":9970,"human_readable_end_date":"Mar 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18921391,"iid":10297,"project_id":278964,"title":"Failing Writes to read-only Geo Secondary Database","description":"The Geo secondary replica database is logging attempts to write to it, despite being read only\n\n```\n2019-03-08_19:03:50 patroni-01-db-dr postgres[44471]:  [2589-2] 2019-03-08 19:03:50 GMT [44471]: [5081-1] STATEMENT:  UPDATE \"pages_domains\" SET \"enabled_until\" = '2019-03-15 19:03:50.555449', \"verified_at\" = '2019-03-08 19:03:50.555623' WHERE \"pages_domains\".\"id\" = 142824\n2019-03-08_19:03:50 patroni-01-db-dr postgres[44471]:  [2590-1] 2019-03-08 19:03:50 GMT [44471]: [5082-1] ERROR:  cannot execute UPDATE in a read-only transaction\n```","state":"closed","created_at":"2019-03-08T19:16:56.371Z","updated_at":"2019-12-11T20:20:13.096Z","closed_at":"2019-03-08T19:29:56.557Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","Geo gitlab.com rollout","devops::systems","group::geo"],"milestone":null,"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"}],"author":{"id":2336046,"username":"devin","name":"Devin Sylva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/424b025122218e9a586245e301c1c725?s=80\u0026d=identicon","web_url":"https://gitlab.com/devin"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10297","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10297","notes":"https://gitlab.com/api/v4/projects/278964/issues/10297/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10297/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10297","relative":"#10297","full":"gitlab-org/gitlab#10297"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18921061,"iid":10295,"project_id":278964,"title":"Geo: ActiveRecord::StatementInvalid errors in Sidekiq/PagesDomainVerificationWorker","description":"1.2 million errors in 24 hours after enabling Geo on GitLab.com, from the secondary's besteffort sidekiq server: https://sentry.gitlab.net/gitlab/gitlabcom/issues/673576/?query=is:unresolved\n\nMy guess is the intent of this worker doesn't make sense on the secondary, so perhaps we just need to not schedule it on secondaries or when the DB is read-only.","state":"closed","created_at":"2019-03-08T18:55:20.764Z","updated_at":"2019-12-11T20:20:14.009Z","closed_at":"2019-03-11T17:14:36.551Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","Geo Administration","Geo gitlab.com rollout","devops::systems","group::geo","priority::4","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10295","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10295","notes":"https://gitlab.com/api/v4/projects/278964/issues/10295/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10295/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10295","relative":"#10295","full":"gitlab-org/gitlab#10295"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18919623,"iid":10294,"project_id":278964,"title":"Show which eligible approvers have commented on the merge request","description":"### Problem to solve\n\nAs a merge request reviewer, it is important to know if a peer has already reviewed or commented on a merge request so that duplicate efforts are avoided and time is used efficiently.\n\nIn order to show which users have provided feedback via comments, the merge request widget has been updated to show a **\"Commented by\"** column, which clearly indicates who has provided feedback thus far. This will allow both authors and reviewers to promptly identify which peers to engage.\n\n### Further details\n\nAs a prospective reviewer/approver, I want to know if a relevant peer has already commented on (reviewed) the merge request, so that I don't pile on or use my own time inefficiently. If a relevant peer has already commented on but has not approved the merge request, this is very important information.\n\nCurrently the only way I can answer these questions is to skim through the entire merge request and try to spot the people I know. This works fine in a small team, but as teams grow and there are hundreds/thousands of engineers this doesn't scale. It is also not inclusive of new team members who have not learned who should review what.\n\nCurrently merge requests have the concept of **approvals** and **resolvable discussions** – these seem like related concepts and can probably be reused and avoid formally requiring someone to submit a “review”.\n\n### Proposal\n\nFrom the perspective of an **eligible approver**, a merge request can be:\n\n- `waiting` (default): I have not commented on or approved it\n- `commented`: I have left one or more comments, but I have not approved it\n- `approved`: I have approved it (may or may not have left comments)\n\nWe already show who has `approved` a merge request. Using the states above we should also show how has `commented` on the merge request.\n\n1. Show `Commented by` column on the MR widget and populate it with **eligible approvers** who have left comments.\n\n![mockup](/uploads/540f70735e8014876bab3efcf62e75fd/image.png)\n\n### Possible future steps\n\n- Style commented by and approved by users differently ([example, different colored borders](https://gitlab.com/gitlab-org/gitlab-ee/uploads/d8f1f12c672c04803bf03741508509ba/Artboard_20190313_35810-1.png))\n- [Add count of unresolved threads per approver](/uploads/827d382aa915a95eba4f85b100fbda2d/Artboard_20190320_111419-1.png)\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements --\u003e\n\n### What does success look like, and how can we measure that?\n\nThis is a quality of life improvement that in combination with https://gitlab.com/gitlab-org/gitlab-ce/issues/58721 should reduce the average amount of time reviewers spend per session looking at the merge request because they are able to find their information faster. The number of sessions should be relatively constant.\n\nThis should support continued growth and adoption of merge requests by existing customers.\n\n## Wireframes\n\n- [Balsamiq file](/uploads/ee29440f977ff92a13ea8f48155cca93/_10294_Show_list_of_merge_request_reviewers.bmpr)\n- [PDF](/uploads/184cdf9049734e3440a9c18a8e07791a/_10294_Show_list_of_merge_request_reviewers.pdf)\n- [PNGs](/uploads/e24c8b009c04391aa680fd24a6cfb006/_10294_Show_list_of_merge_request_reviewers.zip)","state":"closed","created_at":"2019-03-08T17:28:36.782Z","updated_at":"2022-02-18T19:47:52.306Z","closed_at":"2020-08-13T03:55:39.332Z","closed_by":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"labels":["Category:Code Review Workflow","Deliverable","GitLab Starter","UX","backend","design-weight::2","devops::create","direction","frontend","frontend-weight::4","group::code review","merge request widget","merge requests","missed-deliverable","missed:12.10","missed:12.9","missed:13.0","missed:13.1","release post item::in review","reviewers","type::feature","workflow::in review"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},{"id":3688647,"username":"mvanremmerden","name":"Marcel van Remmerden","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4f46ed49b87eab9e74f20e0e25b36d0f?s=80\u0026d=identicon","web_url":"https://gitlab.com/mvanremmerden"},{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":36,"merge_requests_count":1,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10294","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10294","notes":"https://gitlab.com/api/v4/projects/278964/issues/10294/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10294/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10294","relative":"#10294","full":"gitlab-org/gitlab#10294"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5072,"epic":{"id":163719,"iid":5072,"title":"MR Reviewer Assignment","url":"/groups/gitlab-org/-/epics/5072","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24691024,"iid":27221,"project_id":278964,"title":"Github project import restriction bypass","description":"**[HackerOne report #497975](https://hackerone.com/reports/497975)** by `xanbanx` on 2019-02-19, assigned to `estrike`:\n\nA GitLab administrator can restrict the import sources and disable the Github import from the admin interface. \n\nHowever, this restriction can be bypassed by any user by importing the Github project via the import API rather than using the web interface: https://docs.gitlab.com/ee/api/import.html#doc-nav\n\n## Steps To Reproduce:\n\nTested on a local installation of GitLab 11.8.0-pre (gitlab-ce@3dca5b307683e9f91941d6ddafaace6d856f8c7b)\n\n1. As the administrator, go to `http://example.gitlab.com/admin/application_settings` and disable the Github import source as shown in the screenshot below  \n2. As a user named, e.g.,  `user`, perform  the following API call:\n\n```bash  \ncurl --request POST --header \"PRIVATE-TOKEN: \u003cyour-GL-Token\u003e --data \"personal_access_token=\u003cGH-Token\u003e\u0026repo_id=1\u0026target_namespace=user\" https://example.gitlab.com/api/v4/import/github  \n```  \n 3.  Instead of raising an error message, the API correctly imports the repository from GitHub\n\n## Impact\n\nThe user bypasses the restriction of  import sources setup by the administrator\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [Screenshot_20190219_141841.png](https://h1.sec.gitlab.net/a/497975/426525/Screenshot_20190219_141841.png)","state":"closed","created_at":"2019-03-08T14:54:44.357Z","updated_at":"2021-12-20T23:55:02.573Z","closed_at":"2020-07-06T13:43:18.078Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Deliverable","Github","HackerOne","Importer:GitHub","devops::manage","estimation::completed","group::import","milestone::p3","priority::3","security","severity::3","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-06-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27221","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27221","notes":"https://gitlab.com/api/v4/projects/278964/issues/27221/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27221/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27221","relative":"#27221","full":"gitlab-org/gitlab#27221"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3050,"epic":{"id":39430,"iid":3050,"title":"🐞 GitHub Importer bugs","url":"/groups/gitlab-org/-/epics/3050","group_id":9970},"iteration":null,"health_status":null},{"id":18900017,"iid":10286,"project_id":278964,"title":"Geo: SQL statement times out whilst determining Ci::JobArtifact records to sync","description":"## Problem\n\nThe following SQL query times out on the gitlab.com secondary DB when `Geo::FileDownloadDispatchWorker.new.perform` is executed from the Rails console:\n\n**SQL**\n\n```sql\nSELECT \"ci_job_artifacts\".\"id\"\nFROM \"ci_job_artifacts\"\nINNER JOIN \"projects\" ON \"projects\".\"id\" = \"ci_job_artifacts\".\"project_id\"\nWHERE \"projects\".\"id\" IN\n    (SELECT \"projects\".\"id\"\n     FROM \"projects\"\n     WHERE \"projects\".\"namespace_id\" IN\n         (WITH RECURSIVE \"base_and_descendants\" AS\n            (SELECT \"namespaces\".*\n             FROM \"namespaces\"\n             INNER JOIN \"geo_node_namespace_links\" ON \"namespaces\".\"id\" = \"geo_node_namespace_links\".\"namespace_id\"\n             WHERE \"geo_node_namespace_links\".\"geo_node_id\" = xxxx\n             UNION SELECT \"namespaces\".*\n             FROM \"namespaces\",\n                  \"base_and_descendants\"\n             WHERE \"namespaces\".\"parent_id\" = \"base_and_descendants\".\"id\") SELECT \"id\"\n          FROM \"base_and_descendants\" AS \"namespaces\"))\n  AND (\"ci_job_artifacts\".\"file_store\" = 1\n       OR \"ci_job_artifacts\".\"file_store\" IS NULL)\n  AND (expire_at IS NULL\n       OR expire_at \u003e '2019-03-08 00:43:17.331089')\nLIMIT 1000\n```\n\n**Output**\n\n```\n[ xx ] production\u003e Geo::FileDownloadDispatchWorker.new.perform\nTraceback (most recent call last):\n       16: from /opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/database/load_balancing/connection_proxy.rb:41:in `select_all'\n       15: from /opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/database/load_balancing/connection_proxy.rb:62:in `read_using_load_balancer'\n       14: from /opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/database/load_balancing/load_balancer.rb:32:in `read'\n       13: from /opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/database/load_balancing/connection_proxy.rb:63:in `block in read_using_load_balancer'\n       12: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/activerecord-5.0.7.1/lib/active_record/connection_adapters/abstract/query_cache.rb:95:in `select_all'\n       11: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/activerecord-5.0.7.1/lib/active_record/connection_adapters/abstract/database_statements.rb:41:in `select_all'\n       10: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/activerecord-5.0.7.1/lib/active_record/connection_adapters/abstract/database_statements.rb:373:in `select'\n        9: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/activerecord-5.0.7.1/lib/active_record/connection_adapters/postgresql/database_statements.rb:103:in `exec_query'\n        8: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/activerecord-5.0.7.1/lib/active_record/connection_adapters/postgresql_adapter.rb:587:in `execute_and_clear'\n        7: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/activerecord-5.0.7.1/lib/active_record/connection_adapters/postgresql_adapter.rb:600:in `exec_no_cache'\n        6: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/activerecord-5.0.7.1/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'\n        5: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/activesupport-5.0.7.1/lib/active_support/notifications/instrumenter.rb:21:in `instrument'\n        4: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/activerecord-5.0.7.1/lib/active_record/connection_adapters/abstract_adapter.rb:590:in `block in log'\n        3: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/activerecord-5.0.7.1/lib/active_record/connection_adapters/postgresql_adapter.rb:600:in `block in exec_no_cache'\n        2: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/peek-pg-1.3.0/lib/peek/views/pg.rb:17:in `async_exec'\n        1: from /opt/gitlab/embedded/lib/ruby/gems/2.5.0/gems/peek-pg-1.3.0/lib/peek/views/pg.rb:17:in `async_exec'\nActiveRecord::StatementInvalid (PG::QueryCanceled: ERROR:  canceling statement due to statement timeout)\n: SELECT  \"ci_job_artifacts\".\"id\" FROM \"ci_job_artifacts\" INNER JOIN \"projects\" ON \"projects\".\"id\" = \"ci_job_artifacts\".\"project_id\" WHERE \"projects\".\"id\" IN (SELECT \"projects\".\"id\" FROM \"projects\" WHERE \"projects\".\"namespace_id\" IN (WITH RECURSIVE \"base_and_descendants\" AS (SELECT \"namespaces\".* FROM \"namespaces\" INNER JOIN \"geo_node_namespace_links\" ON \"namespaces\".\"id\" = \"geo_node_namespace_links\".\"namespace_id\" WHERE \"geo_node_namespace_links\".\"geo_node_id\" = xxxx\nUNION\nSELECT \"namespaces\".* FROM \"namespaces\", \"base_and_descendants\" WHERE \"namespaces\".\"parent_id\" = \"base_and_descendants\".\"id\") SELECT \"id\" FROM \"base_and_descendants\" AS \"namespaces\")) AND (\"ci_job_artifacts\".\"file_store\" = 1 OR \"ci_job_artifacts\".\"file_store\" IS NULL) AND (expire_at IS NULL OR expire_at \u003e '2019-03-08 00:43:17.331089') LIMIT 1000\n```","state":"closed","created_at":"2019-03-08T02:07:58.934Z","updated_at":"2020-09-25T21:17:19.265Z","closed_at":"2019-11-20T17:56:40.759Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","Enterprise Edition","Geo gitlab.com rollout","bug::performance","customer","devops::systems","group::geo","missed:12.4","missed:12.5"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":90,"merge_requests_count":2,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10286","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10286","notes":"https://gitlab.com/api/v4/projects/278964/issues/10286/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10286/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10286","relative":"#10286","full":"gitlab-org/gitlab#10286"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1909,"epic":{"id":12324,"iid":1909,"title":"Roll out Geo to dr.gitlab.com","url":"/groups/gitlab-org/-/epics/1909","group_id":9970},"iteration":null,"health_status":null},{"id":18899572,"iid":10284,"project_id":278964,"title":"Geo secondary health check erroneous error message","description":"## Problem\n\nThe `The Geo node does not appear to be replicating the database from the primary node.` error message is erroneously appearing on the secondary node for gitlab.com because Postgres streaming replication is not enabled (but is supported).\n\nSource: https://gitlab.com/gitlab-org/gitlab-ee/blob/v11.9.0-rc3-ee/ee/lib/gitlab/geo/health_check.rb#L12\n\n![Screen_Shot_2019-03-07_at_11.06.01_AM](/uploads/a2507512deccde19cacbe0706f9c7592/Screen_Shot_2019-03-07_at_11.06.01_AM.png)\n\n## Possible solution\n\nWhilst the logic for `Gitlab::Database.pg_stat_wal_receiver_supported?` and `.streaming_active?` is sound, we also need to take into consideration if streaming is _enabled_ (which it isn't for the gitlab.com secondary DB).","state":"closed","created_at":"2019-03-08T00:59:12.944Z","updated_at":"2019-12-16T14:47:24.677Z","closed_at":"2019-03-08T06:50:10.370Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Category:Geo Replication","Enterprise Edition","Geo gitlab.com rollout","devops::systems","group::geo"],"milestone":null,"assignees":[{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10284","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10284","notes":"https://gitlab.com/api/v4/projects/278964/issues/10284/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10284/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10284","relative":"#10284","full":"gitlab-org/gitlab#10284"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24691001,"iid":27211,"project_id":278964,"title":"Email notification for all new logins","description":"### Problem to solve\n\nWithout requiring multi-factor authentication for accounts, user accounts without MFA configured are susceptible to cred stuffing and brute force attacks.  We can improve response to incidents and encourage MFA use through automated email alerts whenever a successful login occurs.\n\n### Target audience\n\nThis is really for all users, but using Sam as the requester of this feature.\n\n- Sam, Security Analyst, https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas#sam-security-analyst\n\n\n### Proposal\n\nSuggested text:\n\n```\nDear \u003cuser\u003e\n\nA new login to your account has been made from \u003cIP\u003e.  If you recently logged in and recognize the logged in location, you may disregard this email.  \n\nIf you did not recently log in, you should immediately change your password: \u003clink and instructions to password change\u003e.  Passwords should be unique and not used for any other sites or services.\n\n\u003cIf no MFA enabled\u003e\nTo further protect your account, consider configuring a multi-factor authentication method \u003clink to 2fa instructions\u003e.\n\n```\n\n### Permissions and Security\n\nThe notification email should go to the email address configured as the user's notification email address.\n\n### Documentation\n\nIf these notifications are configurable per user or instance, that will need to be documented, but there is value in doing this for all logins as the MVC.\n\n### What does success look like, and how can we measure that?\n\nThe impact to accounts compromised due a leaked or stolen password is reduced, with less time elapsed before being reported by a user and increasing the effectiveness of support and security teams ability to investigate sooner.\n\n\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n**What risks does this change pose to our availability?**\n\nThis feature is low risk to GitLab.com's availability \n\n**How might it affect the quality of the product?**\n\nThis will improve the product's security and therefore, its overall quality.\n\n**What additional test coverage or changes to tests will be needed?** \n\nEnsure that email is sent on:\n - New login from a new IP address and a new client\n\nEnsure that email is NOT sent on:\n - New login from a previously used IP address and a previously used client\n - New login from a previously used IP address but a new client\n - New login from a new IP address but a previously used client\n - New login from a previously used IP and device but a new client\n - New impersonation session\n\n**Will it require cross-browser testing?**\n\nThis will not be necessary as the core functionality being added in this issue is not FE heavy. \n\nAll tests can be covered at unit and feature level. No new end-to-end tests should be needed. \n\n### Links / references","state":"closed","created_at":"2019-03-07T23:33:49.137Z","updated_at":"2021-10-27T10:44:52.583Z","closed_at":"2020-05-13T01:20:14.561Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Authentication and Authorization","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","Persona: Security Analyst","backend","devops::manage","group::authentication and authorization","infradev","internal customer","priority::2","quad-planning::complete-action","security","severity::3","type::feature","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":2165775,"username":"asaba","name":"Antony Saba","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2165775/avatar.png","web_url":"https://gitlab.com/asaba"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":41,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27211","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27211","notes":"https://gitlab.com/api/v4/projects/278964/issues/27211/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27211/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27211","relative":"#27211","full":"gitlab-org/gitlab#27211"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18897492,"iid":10283,"project_id":278964,"title":"Notifications for CI Minutes quota limit approaching","description":"# Problem\n\nUsers do not currently get notified when they are about to hit their CI Runner Minutes quota. This could cause an interruption in service for users as they won't be able proactively top up their minutes.\n\n# Proposal\n\nNotify the group owner (for groups) or individual (individual namespaces) when they’re about to hit a CI limit, with instructions on how to purchase additional minutes or contact the group owner to request that they purchase more minutes.\n\nNotification types:\n\n*  Email notification\n*  In-app banner notification\n\nWe should do this multiple times: \n\n* At 30% left\n* At 5% left (banner should change to red)\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behaviour consistent between the UI, API, and other access methods (e.g. email replies)? --\u003e\n\n*  Email notification - These notifications should be sent to the group owner(s).\n*  In-app banner notification - These notifications should be displayed to all users.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements --\u003e\n\nWe should document explicitly who gets notified, how they get notified, and what to do if they are/are not the group owner and their group/namespace runs out of minutes. \n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n~100% of namespaces that are reaching their limit receive a notification. Unsure how we will measure this.\n\n[CI Minute Usage by namespace](https://docs.google.com/spreadsheets/d/1zaUwOTI-tOCMFPZ9rxdGFzPzN2YBoeXdSwY3mwPdRno/edit?ts=5cf15ab6#gid=0)","state":"closed","created_at":"2019-03-07T22:22:44.120Z","updated_at":"2020-10-06T13:59:56.583Z","closed_at":"2019-07-05T14:30:11.430Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["Deliverable","Enterprise Edition","add-ons","backend","devops::fulfillment","frontend","gitlab.com","group::purchase","priority::1","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":{"id":280339,"username":"rdavila","name":"Rubén Dávila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/280339/avatar.png","web_url":"https://gitlab.com/rdavila"},"user_notes_count":33,"merge_requests_count":1,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10283","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10283","notes":"https://gitlab.com/api/v4/projects/278964/issues/10283/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10283/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10283","relative":"#10283","full":"gitlab-org/gitlab#10283"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1354,"epic":{"id":7621,"iid":1354,"title":"✅ Add-on Purchase Improvements","url":"/groups/gitlab-org/-/epics/1354","group_id":9970,"human_readable_end_date":"Sep 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18895294,"iid":10279,"project_id":278964,"title":"Geo: `Project.verified_repos.count` query too slow on GitLab.com","description":"### Error\n\nGeo was enabled on GitLab.com, and the primary is unable to update its GeoNodeStatus because of a statement timeout: https://sentry.gitlab.net/gitlab/gitlabcom/issues/672801/?query=is:unresolved%20metricsupdateworker\n\n```\nPG::QueryCanceled: ERROR: canceling statement due to statement timeout : SELECT COUNT(*) FROM \"projects\" INNER JOIN \"project_repository_states\" ON \"project_repository_states\".\"project_id\" = \"projects\".\"id\" WHERE (\"project_repository_states\".\"repository_verification_checksum\" IS NOT NULL) AND \"project_repository_states\".\"last_repository_verification_failure\" IS NULL\n```\n\nSlack conversation: https://gitlab.slack.com/archives/C32LCGC1H/p1551984812119200\n\n### Background\n\n```ruby\nProject.verified_repos.count\n```\n\n```sql\nSELECT COUNT(*)\nFROM \"projects\"\nINNER JOIN \"project_repository_states\"\n  ON \"project_repository_states\".\"project_id\" = \"projects\".\"id\"\nWHERE (\"project_repository_states\".\"repository_verification_checksum\" IS NOT NULL)\n  AND \"project_repository_states\".\"last_repository_verification_failure\" IS NULL;\n```\n\nThis query takes a little over 10s on `console-01-sv-gprd`, and returns a count over 8M.\n\nHere is the explain: https://explain.depesz.com/s/TdnS\n\nThis index appears to be specifically created for this query, and it is being used.\n\n```ruby\nt.index [\"project_id\", \"last_repository_verification_ran_at\"], name: \"idx_repository_states_on_last_repository_verification_ran_at\", where: \"((repository_verification_checksum IS NOT NULL) AND (last_repository_verification_failure IS NULL))\", using: :btree\n```","state":"closed","created_at":"2019-03-07T20:24:05.877Z","updated_at":"2019-12-16T11:56:46.684Z","closed_at":"2019-03-15T10:51:46.241Z","closed_by":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"labels":["Enterprise Edition","Geo gitlab.com rollout","bug::performance","devops::systems","group::geo","type::bug","workflow::in review"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":8,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10279","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10279","notes":"https://gitlab.com/api/v4/projects/278964/issues/10279/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10279/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10279","relative":"#10279","full":"gitlab-org/gitlab#10279"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1906,"epic":{"id":12321,"iid":1906,"title":"[Archive] Geo on Gitlab.com","url":"/groups/gitlab-org/-/epics/1906","group_id":9970,"human_readable_end_date":"Aug 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18892311,"iid":10278,"project_id":278964,"title":"Make elasticsearch blob index idempotent","description":"Currently when we index blobs, we store the content in our Elasticsearch index.\n\nIf we were to try to backfill some commits because of an indexing gap, where newer commits have already been indexed, we could end up overriding a blob with stale contents.\n\nExample:\n\nLet's say we have a file, `a.txt`, that's been indexed\n\n**a.txt**\n```\nthis is some text\nand this is some more text\nand even more!\n```\n\nLet's say that we for some reason would want to index some old commits (because they're not in the index) and one of those commits has `a.txt` but with the following **old** contents:\n```\nthis is some text\nand some more text\n```\n\nIf we were to run our elasticsearch indexer, then the blob content in the index would be the **old** content.\n\nWe should consider either:\n- using [optimistic concurrency control](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html#optimistic-concurrency-control-index) to avoid overriding content or\n- asking the git repo for the newest version of blobs\n\nThis issue stems from https://gitlab.com/gitlab-org/gitlab-ee/issues/8013 - why does a later index operation completely negate an earlier one?","state":"closed","created_at":"2019-03-07T20:09:41.838Z","updated_at":"2022-05-31T11:56:32.730Z","closed_at":"2020-06-05T23:44:26.515Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","Enterprise Edition","[deprecated] Accepting merge requests","advanced search","backend","customer","devops::data_stores","golang","group::global search","quad-planning::ready","type::feature"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[],"author":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"type":"ISSUE","assignee":null,"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10278","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10278","notes":"https://gitlab.com/api/v4/projects/278964/issues/10278/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10278/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10278","relative":"#10278","full":"gitlab-org/gitlab#10278"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":153,"epic":{"id":274,"iid":153,"title":"Rollout Advanced Global Search  on GitLab.com","url":"/groups/gitlab-org/-/epics/153","group_id":9970,"human_readable_end_date":"Jul 13, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18891577,"iid":10277,"project_id":278964,"title":"[Frontend] Scoped labels with replacement logic","description":"Frontend Issue for: https://gitlab.com/gitlab-org/gitlab-ee/issues/9175\n\nPlease refer to \u003ca href=\"https://gitlab.com/gitlab-org/gitlab-ee/issues/9175\"\u003ethe description of the parent issue\u003c/a\u003e for up-to-date information.\n\nThis issue was created to track Frontend weight independently of Backend.","state":"closed","created_at":"2019-03-07T19:24:00.129Z","updated_at":"2022-05-19T16:12:58.977Z","closed_at":"2019-04-08T05:35:20.066Z","closed_by":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"labels":["Enterprise Edition","GitLab Premium","custom fields","devops::plan","frontend"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10277","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10277","notes":"https://gitlab.com/api/v4/projects/278964/issues/10277/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10277/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10277","relative":"#10277","full":"gitlab-org/gitlab#10277"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":728,"epic":{"id":3123,"iid":728,"title":"Scoped labels","url":"/groups/gitlab-org/-/epics/728","group_id":9970,"human_readable_end_date":"Feb 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18889796,"iid":10272,"project_id":278964,"title":"Directly create vulnerability records via API","description":"### Release Notes\n\nGitLab's vulnerability management capabilities make it easy to triage and remediate security issues detected by our [security scanning tools](https://docs.gitlab.com/ee/user/application_security/#security-scanning-tools) or from integrated 3rd-party tools. One limitation of this approach is that the vulnerability data can only come from the output of one of these tools. Organizations wishing to pull in other vulnerability source information currently do not have a simple option for doing so.\n\nWe are addressing this limitation with the introduction of a new GraphQL endpoint for vulnerability object creation. You now have a way to programmatically add vulnerability records directly to your projects. Combined with our existing GraphQL capabilities for vulnerability management, this opens up many new automation opportunities such as syncing with an external bug bounty program or adding findings from security tools that may not be suitable for pipeline jobs.\n\nhttps://docs.gitlab.com/ee/api/graphql/reference/\n\n### Problem to solve\n\nUsers want to add their vulnerabilities via API, so they can integrate any source of report.\n\nThis is currently not possible, but could work if we provide an API to create vulnerability objects.\n\n### Target audience\n\n- Sam, Security Analyst, https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas#sam-security-analyst\n\n### Proposal\n\nAllow creating standalone vulnerability objects via GraphQL. The simplest case is to limit creation to only the `default` branch on a given Project. However, we must consider that some users will want to create vulnerability objects outside the `default` branch such as in other protected branches or even tags.\n\nVulnerability objects created via API need to support all publicly available standalone vulnerability data fields such as:\n\n* Vulnerability name\n* Location\n* Description\n* Severity\n* Identifier\n* Status\n* Solution\n\nVulnerability objects created via API should be clearly identifiable as such. For example, we might make the scan type `Manual` (as opposed to `SAST`, `DAST`, etc). This will not necessarily be exposed to the user in the UI, at least not the direct field value. Users should also be able to specify a free-text name to identify the source of the vulnerability creation. For example, I might integrate a feed from my company's bug bounty program. It would be helpful if I can specify something like `source_type: HackerOne` so that I can distinguish this later. Consider that it may be better to provide a more user-friendly API field name here that actually gets mapped to our backend field that currently contains a given Secure scanner's/analyzer's name (e.g. ZAP, Brakeman).\n\n### Permissions and Security\n\nOnly users with rights to view and modify vulnerability information on a Project's Vulnerability Report can use this API functionality. That should be `Developer` and above.\n\n### Documentation\n\nAdd new API endpoint details to the [existing GraphQL documentation page](https://docs.gitlab.com/ee/api/graphql/reference/#vulnerability). Ideally, include an example to help users understand how to properly use any new methods.\n\n### What does success look like, and how can we measure that?\n\nA successful implementation will:\n\n- Create a new vulnerability when provided all necessary valid data through a GraphQL mutation\n- Will return a useful error when a vulnerability cannot be created\n\n### What is the type of buyer? \n\nGitLab Ultimate\n\n## Relevant links\n\n- [Design Issue](#204818)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation: Update GraphQL Documentation\n- [ ] Testing: Add specs for new GraphQL route\n\n## Implementation plan\n\nThis should be done in multiple MRs\n\n- [ ] ~backend Update `Vulnerabilities::CreateService` to create finding if none exists\n  - Use `Security::FindingsFinder#build_vulnerability_finding` as a starting point\n- [ ] ~backend Create new mutation for creating a vulnerability `createVulnerability`\n  - Use `Vulnerabilities::CreateService` to create the Vulnerability\n  - Required fields:\n    - Project\n    - Title\n    - Description\n    - Scanner Type\n    - Scanner Name\n    - Primary Identifier (CVE)\n    - Location\n  - Optional fields:\n    - Severity (defaults to `Unknown`)\n    - Status (defaults to `Detected`)\n    - Solution\n    - Message\n    - Detected At (defaults to Vulnerability creation time)\n    - Confirmed/Resolved/Dismissed at (defaults to Vulnerability creation time if status is not `Detected`)\n\nPossible follow-on issues:\n\n- Add field to create an issue from vulnerability\n- Add field to create an MR from vulnerability","state":"closed","created_at":"2019-03-07T17:50:00.662Z","updated_at":"2023-01-09T14:56:50.721Z","closed_at":"2021-08-24T02:58:18.827Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","Deliverable","Enterprise Edition","GitLab Ultimate","GraphQL","Persona: Security Analyst","SAST: Integrate","SAST: Workflow","api","backend","customer","devops::secure","documentation","group::threat insights","missed-deliverable","missed:13.11","missed:13.12","missed:14.0","missed:14.1","release post item::in review","section::sec","type::feature","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"user_notes_count":69,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10272","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":2,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10272","notes":"https://gitlab.com/api/v4/projects/278964/issues/10272/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10272/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10272","relative":"#10272","full":"gitlab-org/gitlab#10272"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5277,"epic":{"id":188956,"iid":5277,"title":"Manually create a Vulnerability record","url":"/groups/gitlab-org/-/epics/5277","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18888936,"iid":10270,"project_id":278964,"title":"Milestones should not be set on epics (issue promotion)","description":"When we promote an issue to an epic, we copy a milestone from the issue to the new epic (https://gitlab.com/gitlab-org/gitlab-ee/blob/master/app/services/issuable/clone/attributes_rewriter.rb#L13).\n\nWe, however don't support milestones on epics (yet?). Therefore we shouldn't copy the milestone for epics.\n\nIf we decide we don't want to have milestones on epics at all we should probably consider removing the field.","state":"closed","created_at":"2019-03-07T17:13:03.165Z","updated_at":"2022-05-19T16:12:58.524Z","closed_at":"2019-07-18T18:51:45.792Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["Enterprise Edition","backend","devops::plan","missed-SLO","priority::3","severity::4","type::bug"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10270","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10270","notes":"https://gitlab.com/api/v4/projects/278964/issues/10270/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10270/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10270","relative":"#10270","full":"gitlab-org/gitlab#10270"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24690974,"iid":27202,"project_id":278964,"title":"Performance degradation on Projects::EnvironmentsController#index.json","description":"### Summary\n\nProjects::EnvironmentsController#index.json is slow due to divided SQL queries.\n\n### Steps to reproduce\n\n`GET https://gitlab.com/gitlab-org/gitlab/environments.json`.\n\n### as is\n```\nSELECT COUNT(*) FROM \"environments\" WHERE \"environments\".\"project_id\" = $1 AND (\"environments\".\"state\" IN ('stopped'))\nSELECT COUNT(*) FROM \"environments\" WHERE \"environments\".\"project_id\" = $1 AND (\"environments\".\"state\" IN ('available'))\n```\n\n### to be\n```\nSELECT COUNT(\"environments\".\"id\") AS count_id, \"environments\".\"state\" AS environments_state FROM \"environments\" WHERE \"environments\".\"project_id\" = $1 GROUP BY \"environments\".\"state\" \n```\n\n### Possible fixes\n\nSum up queries.","state":"closed","created_at":"2019-03-07T16:18:05.311Z","updated_at":"2021-05-03T02:08:06.558Z","closed_at":"2021-05-03T02:08:06.492Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Continuous Delivery","[deprecated] Accepting merge requests","auto closed","bug::performance","devops::release","environments","group::release","missed-deliverable","missed:11.10","missed:12.0","missed:12.1","missed:12.1","missed:12.2","missed:12.4","missed:12.5","missed:12.6","priority::3","section::ops","severity::3","stale","type::bug","vintage","workflow::in review"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"type":"ISSUE","assignee":null,"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27202","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27202","notes":"https://gitlab.com/api/v4/projects/278964/issues/27202/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27202/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27202","relative":"#27202","full":"gitlab-org/gitlab#27202"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24690968,"iid":27201,"project_id":278964,"title":"N+1 TreeEntry queries in Projects::BlobController#show","description":"If you load a Markdown with many links, it looks like it's possible that `Projects::BlobController` renders a lot of Markdown and calls `Commit#tree_entry` over and over.\n\nIt looks to me that:\n\n1. `RelativeLinkFilter` calls `Commit#uri_type`\n2. `Commit#uri_type` calls `Gitlab::Git::Commit#tree_entry`\n\nI think we'll want to make the `rugged_tree_entry` feature flag use the Rugged implementation as well.\n\nRelates to https://gitlab.com/gitlab-org/gitlab-ce/issues/57317.\n\nThis will revert https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/20176/diffs.\n\nWhen the performance bar is enabled, the look for the JSON request [on this page](https://gitlab.com/novel-group/txt-source/blob/master/user_out/%E9%BB%91%E4%B9%8B%E9%AD%94%E7%8E%8B/%E5%B0%8E%E8%88%AA%E7%9B%AE%E9%8C%84.md), which make over 600 requests.","state":"closed","created_at":"2019-03-07T15:45:21.864Z","updated_at":"2019-09-24T10:30:18.122Z","closed_at":"2019-09-24T10:30:18.047Z","closed_by":{"id":444,"username":"dzaporozhets","name":"Dmytro Zaporozhets (DZ)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/444/avatar.png","web_url":"https://gitlab.com/dzaporozhets"},"labels":["Gitaly n+1","backend","bug::performance","devops::create","group::gitaly","missed:12.3","priority::2","workflow::in review"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":668120,"username":"johncai","name":"John Cai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/668120/avatar.png","web_url":"https://gitlab.com/johncai"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":668120,"username":"johncai","name":"John Cai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/668120/avatar.png","web_url":"https://gitlab.com/johncai"},"user_notes_count":24,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27201","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27201","notes":"https://gitlab.com/api/v4/projects/278964/issues/27201/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27201/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27201","relative":"#27201","full":"gitlab-org/gitlab#27201"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1190,"epic":{"id":6002,"iid":1190,"title":"Reduce worst Gitaly IO hotspots","url":"/groups/gitlab-org/-/epics/1190","group_id":9970,"human_readable_end_date":"Apr 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18878753,"iid":10264,"project_id":278964,"title":"Geo::RepositoryVerification::Primary::ShardWorker is using a lot of RAM","description":"From https://dashboards.gitlab.net/d/sQ4GXgpik/memory-usage?orgId=1, it seems that `Geo::Repository::Verification::Primary::ShardWorker` often peaks to 4 GB RAM:\n\n![image](/uploads/21ea06cb0e9ca049a05b8ba73e334fc8/image.png)","state":"closed","created_at":"2019-03-07T13:08:58.539Z","updated_at":"2019-12-16T14:49:51.916Z","closed_at":"2019-11-01T15:48:43.353Z","closed_by":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":39,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10264","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10264","notes":"https://gitlab.com/api/v4/projects/278964/issues/10264/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10264/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10264","relative":"#10264","full":"gitlab-org/gitlab#10264"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1908,"epic":{"id":12323,"iid":1908,"title":"Rollout Geo to staging.gitlab.com","url":"/groups/gitlab-org/-/epics/1908","group_id":9970,"human_readable_end_date":"Apr 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":19291749,"iid":10544,"project_id":278964,"title":"Vulnerabilities API","description":"### Problem to solve\n\nSecurity reports (https://docs.gitlab.com/ee/ci/yaml/#artifactsreports) are not accessible in the same way other artifacts are, and there is no API to fetch them.\n\nThis makes harder to automate flows.\n\nA possible workaround is to set files as both regular artifacts and reports in the job definition, but this is suboptimal.\n\nUsers should be able to fetch reports easily.\n\n### Target audience\n\n- Devon, DevOps Engineer, https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas#devon-devops-engineer\n\n- Sam, Security Analyst, https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas#sam-security-analyst\n\n### Proposal\n\nCreate API calls to fetch reports. The endpoint will be very similar of the `artifacts` one, allowing users to fetch different reports as JSON files.\n\nThe content is the original `report` content, but possibly elaborated by the backend to normalize, merge and clean up with the same process it already does before sending data to the frontend.\n\nFor example, if the pipeline has multiple jobs sending `reports` for `sast`, the endpoint will aggregate them together and will send a single vulnerability list to the caller.\n\nIf possible, cover also other report types (like `codequality`), but focus on security features first.\n\nSee suggested patch here: https://gitlab.com/gitlab-org/gitlab-ce/issues/49265#note_119629648\n\n#### Out of Scope\nThis issue will NOT cover - \n1. exposing the raw reports artifacts in the job's page, like it used to work before moving to the `reports` syntax. \n1. exposing the raw reports artifacts to the GitLab Public API. \n\n#### In Scope\nIt will instead focus on - \n1. exposing security reports content in a normalized and structured way (like after parsing the raw json reports in the backend and exposing clean data)\n\nUsage metrics should be implemented as described later in this proposal.\n\n### Permissions and Security\n\nSame as artifacts.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements --\u003e\n\n### What does success look like, and how can we measure that?\n\nNumber of API calls to fetch reports.\n\n### Implementation Plan\n\n1. add endpoint that returns all vulnerabilities for a project (from default pipline, parsing report) https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/11539\n2. change default behavior to return non-dismissed vulnerabilities only https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/12076\n3. add additional filters (report_type, confidence, severity) https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/12076\n4. support group vulnerabilities from same endpoint (follow-up issue: https://gitlab.com/gitlab-org/gitlab-ee/issues/11570)\n5. add usage ping (follow-up issue: #11569)\n","state":"closed","created_at":"2019-03-07T11:17:44.006Z","updated_at":"2020-12-11T09:33:28.963Z","closed_at":"2019-05-12T21:12:08.129Z","closed_by":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"labels":["CI artifacts","Deliverable","Enterprise Edition","GitLab Ultimate","Persona: DevOps Engineer","Persona: Security Analyst","analysts","api","backend","customer","devops::secure","direction","internal customer","release post item","type::feature"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"user_notes_count":29,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10544","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10544","notes":"https://gitlab.com/api/v4/projects/278964/issues/10544/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10544/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10544","relative":"#10544","full":"gitlab-org/gitlab#10544"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":841,"epic":{"id":4382,"iid":841,"title":"Security features API","url":"/groups/gitlab-org/-/epics/841","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18875603,"iid":10261,"project_id":278964,"title":"Dropdowns in edit board modal are misaligned","description":"### Steps to reproduce\n\n- open any issue board (for example https://gitlab.com/groups/gitlab-org/-/boards/872907?milestone_title=11.9\u0026\u0026label_name[]=Plan)\n- click `Edit board`\n- open a dropdown (for example milestone)\n\n### What is the current *bug* behavior?\n\ndropdowns are misaligned:\n\n![Screenshot_2019-03-07_at_11.56.21](/uploads/8cfd621b851f9ff5cdec7567944656db/Screenshot_2019-03-07_at_11.56.21.png)\n\n### What is the expected *correct* behavior?\n\ndropdowns are properly aligned:\n\n![Screenshot_2019-03-07_at_11.57.01](/uploads/1b251f0ac6e6541f8e00c716ad96e23f/Screenshot_2019-03-07_at_11.57.01.png)\n\n### Possible fixes\n\n- short term:\n\n```diff\n- .boards-switcher .dropdown-menu.show\n+ .boards-switcher \u003e .dropdown-menu.show\n```\n\nin https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/assets/stylesheets/pages/boards.scss\n\n- long term:\n\nThe modal should be removed from the board switcher:\n\n![Screenshot_2019-03-06_at_14.40.33](/uploads/a613b34094ea5d566d21c57e2d70af0e/Screenshot_2019-03-06_at_14.40.33.png)","state":"closed","created_at":"2019-03-07T11:09:35.752Z","updated_at":"2022-05-19T16:12:57.769Z","closed_at":"2019-03-13T11:12:19.766Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Team Planning","Enterprise Edition","boards","devops::plan","frontend","regression","regression:11.8","reproduced on GitLab.com","severity::4","type::bug"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10261","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10261","notes":"https://gitlab.com/api/v4/projects/278964/issues/10261/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10261/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10261","relative":"#10261","full":"gitlab-org/gitlab#10261"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18847726,"iid":10250,"project_id":278964,"title":"Add a Scan DB model to persist status and metadata of security reports","description":"### Problem to solve\n\nOn several places, we are currently not able to distinguish if we have no report available, or a report with no vulnerabilities. This is because we are storing or fetch only a list of vulnerabilities, so no vulnerabilities cover both cases.\n\nThere are features that require deeper knowledge and having a `Scan` DB model could help.\n\n**Note: Previously, it was suggested this new model be called `Report`. This has been updated to `Scan`.**\n\n### Further details\n\n**Benefit from having a dedicated record for scans:**\n\n- We could easily know the last known state to improve vulnerability history chart queries. https://gitlab.com/gitlab-org/gitlab-ee/issues/9526\n- We could distinguish no report from report without vulnerabilities in the history charts in an easier way. https://gitlab.com/gitlab-org/gitlab-ee/issues/9069\n- We could also report execution errors in dashboards to warn users.\n- We could probably avoid the usage ping timeout by replacing the count query on the gigantic `ci_job_artifacts` table to this dedicated table. https://gitlab.com/gitlab-org/gitlab-ee/issues/7851\n- We could filter out project having security reports in an easier and more performant way, as it will be a simpler lookup in a smaller table. https://gitlab.com/gitlab-org/gitlab-ee/issues/9074\n- Show Container Scanning results in the GitLab Container Registry https://gitlab.com/gitlab-org/gitlab-ee/issues/8790\n- Make it easier to know if a security report is outdated in a Merge Request. https://gitlab.com/gitlab-org/gitlab-ee/issues/4913\n\n\n#### Proposal\n\u003cdetails\u003e\n\u003csummary\u003ePrevious proposal\u003c/summary\u003e\n\n- store a new `Report` record in DB after each pipeline run, for each report type.\n- generated `report` records will stay forever (until data retention policy is defined)\n- as raw JSON artifact report may expire, we need to store with this Report record the data we want to persist and keep after the artifact is removed\n- to create a `report` record when there is no artifact uploaded (e.g. job failure) we need to identify which jobs in the pipeline were supposed to create a `report` artifact. This is being discussed here: https://gitlab.com/gitlab-org/gitlab-ee/issues/13662#note_210498199\n- consider having this record generic enough to support other types of reports (junit, performance, code quality, licenses), not only security ones.\n- consider migrating old data (parse artifacts from last X days and create corresponding report records)\n\u003c/details\u003e\n\n- Store a new `Scan` record in DB after each build, one for each Secure report type (SAST, DAST etc) exposed as an artifact during the build.\n- Each Scan record represents a scan that happened in a build. If there are multiple scans of the same type (SAST/DAST etc), then there should be multiple scan records. It is not an aggregated result.\n- When a build fails to produce the desired Secure report, a scan record will not be created in the database. This can be improved in future.\n- Generated Scan records will stay forever (until data retention policy is defined).\n- Scan records will not contain any aggregated information about the result: success, number of vulnerabilities, etc. This can be iterated on and improved later.\n- Scan records will not contain a reference to the `JobArtifact`, nor will it contain any information about the Job Artifact itself.\n- The scan is Secure specific. This should not affect other report types in GitLab (junit, performance, code quality, licenses).\n- Jobs with Secure report artifacts  should be migrated to create Scan records. This is up for discussion if other migration strategies are discovered.\n- Once the Scan is released, a subsequent migration should occur that cleans up and completes the previous migration. Only after this step will the `Scan` model be able to be used.\n\n#### Proposed DB model\n\u003cdetails\u003e\n\u003csummary\u003ePrevious proposal\u003c/summary\u003e\nThe new Report model should have the following attributes (WIP):\n\n- `report_type` (sast, dast, dependency_scanning, etc.)\n- `pipeline_id`\n- `status` TBD (e.g. success, failure, missing, etc.)\n- `errors`\n- `vulnerabily_counts` TBD (total?, per severity?)\n- `scan settings` TBD (e.g. env variables)\n\u003c/details\u003e\n\nThe new `Scan` model will have the following attributes:\n- `scan_type` (sast, dast, dependency_scanning, etc.)\n- `build_id`\n### Links / references\nhttps://gitlab.slack.com/archives/C8S0HHM44/p1579567350023300\n\n\n#### Implementation plan\n- [x] Create a `Security::Scan` model\n- [x] Add a worker that on completion of a Job, populates the `Security::Scan` for each Job Artifact that is a Security Report\n- [x] Add an index that will facilitate efficient migration of all of the previous Job Artifacts\n- [x] Add a migration that will migrate Security Report Job Artifacts to `Security::Scan`\n- [x] Release, following migration to make sure it has completed successfully\n- [x] Add a migration to `steal` remaining migration jobs, i.e, synchronously wait for it to complete\n- [x] Run database-lab queries to see how many records exist, and for which Secure scan types\n- [x] Remove the temporary index created for the first migration","state":"closed","created_at":"2019-03-06T18:17:26.856Z","updated_at":"2022-04-29T15:29:04.203Z","closed_at":"2020-03-31T23:50:34.223Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["Enterprise Edition","GitLab Ultimate","backend","backstage [DEPRECATED]","devops::secure","group::dynamic analysis","missed-deliverable","missed:12.4","missed:12.5","missed:12.8","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":62,"merge_requests_count":2,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10250","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10250","notes":"https://gitlab.com/api/v4/projects/278964/issues/10250/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10250/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10250","relative":"#10250","full":"gitlab-org/gitlab#10250"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18846920,"iid":10249,"project_id":278964,"title":"Geo: \"Recheck\" term seems overloaded","description":"### On a Geo secondary\n\nOn Admin \u003e Geo \u003e Projects:\n\n![image](/uploads/f1f8a4386393d33bea49117d8d47daef/image.png)\n\nOn Admin \u003e Projects:\n\n![image](/uploads/03b04e8769de0b2802ce6e09a7bbcf0e/image.png)\n\nThe \"Recheck\" button (in both screenshots above) clears the secondary checksum (so the verification worker picks it up to make a checksum and compare it with the one on the primary).\n\n### Problem\n\nThe word \"check\" is a bit vague. \"Recheck\" has nothing to do with \"Trigger repository check\", which does `git fsck`.\n\nAlso, you might think/hope that \"Recheck\" recalculates the checksum on the primary as well, but you'll be disappointed.\n\n### Proposal\n\n~~Add a tooltip to \"Recheck\" button that says what it does, e.g. \"Recalculates the repository checksum on this Geo node\".~~\n\n~~IDK if maybe this is only meaningful to Geo devs, or if it would be helpful for customers as well.~~\n\nRename `Recheck` button to `Reverify` or `Reverify with primary` and make it do what we expect that to mean.\n\n- Call an endpoint on the primary to mark it for verification\n- The secondary will follow the primary's lead, so we don't need to mark anything on the secondary","state":"closed","created_at":"2019-03-06T17:59:09.572Z","updated_at":"2019-12-11T20:20:18.750Z","closed_at":"2019-11-25T17:08:37.907Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","Geo Administration","UX","[deprecated] Accepting merge requests","devops::systems","frontend","group::geo","type::feature","workflow::design"],"milestone":null,"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10249","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10249","notes":"https://gitlab.com/api/v4/projects/278964/issues/10249/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10249/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10249","relative":"#10249","full":"gitlab-org/gitlab#10249"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":369,"epic":{"id":1104,"iid":369,"title":"Geo: Improve UI/UX on Administrator Panel","url":"/groups/gitlab-org/-/epics/369","group_id":9970},"iteration":null,"health_status":null},{"id":18845082,"iid":10247,"project_id":278964,"title":"Investigate effort to refactor mirroring settings into Vue","description":"### Problem to solve\r\n\r\nSince the latest update to this area, we've seen some bugs that hinder UX and frustrate users: \r\nhttps://gitlab.com/gitlab-org/gitlab-ee/issues/7320\r\n\r\nWe need to understand the concrete size of the effort to refactor this area into Vue, so that we can fix the problem and make this feature easy to use and manage.\r\n\r\n\u003cimg src=\"https://gitlab.com/gitlab-org/gitlab-ee/uploads/f921323b621adf3af12261b34ce3a9bd/new-mirror-settings2.png\" alt=\"Screenshot of mirroring settings\" width=\"600\"\u003e\r\n\r\n### Further details\r\n\r\n * The main problem seems to stem from the fact that we don't show current settings and don't allow to edit them without delete.\r\n * If this was a vue component, we could easily add an \"edit\" mode + a summary of current settings.\r\n * With Vue we could also add more enhancements and make sure the UI always stays updated\r\n\r\n### Proposal\r\n\r\nAssess all the moving parts of this screen and try to come up with a proposal for the Vue app, list of components, etc. so that we can easily scope the effort for an upcoming milestone.\r\n\r\n### What does success look like, and how can we measure that?\r\n\r\nAble to estimate and define a plan to refactor this into Vue.\r\n\r\n### Links / references","state":"closed","created_at":"2019-03-06T17:17:42.147Z","updated_at":"2019-08-12T15:05:16.431Z","closed_at":"2019-05-07T11:11:32.840Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","[deprecated] Accepting merge requests","devops::create","frontend","type::feature"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10247","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10247","notes":"https://gitlab.com/api/v4/projects/278964/issues/10247/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10247/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10247","relative":"#10247","full":"gitlab-org/gitlab#10247"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24690871,"iid":27173,"project_id":278964,"title":"MermaidJS diagrams larger than 5000 bytes are not rendered since upgrading from 11.6.9 to 11.6.10","description":"### Summary\n\n11.6.10 release breaks mermaidjs diagrams larger than 5000 bytes, and outputs `Cannot render the image. Maximum character count (5000) has been exceeded.` instead. 11.6.9 displays all our autogenerated graphs and diagrams just fine.\n\n### Steps to reproduce\n\nJust create mermaid diagram larger than 5000 bytes. Here's a handy script:\n\n```\n#!/bin/bash\ncat \u003c\u003cEOF\n\\`\\`\\`mermaid\ngraph LR;\na --\u003e b\nlong_name_$(printf 'AAAAAAAAAA%0.s' {1..494})(\"name\")\n\\`\\`\\`\nEOF\n```\n\nThen just paste the output into any issue/comment, it will work, because the length is 4992 bytes. Bump the `494` to `495` to make it 5002 bytes, and diagram is not rendered.\n\nHere's 4992 byte long one:\n```mermaid\ngraph LR;\na --\u003e b\nlong_name_AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA(\"name\")\n```\n\nAnd here's 5002 bytes long one:\n```mermaid\ngraph LR;\na --\u003e b\nlong_name_AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA(\"name\")                       \n```\n\n### What is the current *bug* behavior?\n\nOutputs `Cannot render the image. Maximum character count (5000) has been exceeded.` in place of the diagram.\n\n### What is the expected *correct* behavior?\n\nOutput my awesome diagrams :smile: \n\n### Relevant logs and/or screenshots\n\nSee above, reproduced in this very issue on gitlab.com.\n\n### Output of checks\n\nThis bug happens on GitLab.com, and likely introduced by https://about.gitlab.com/2019/03/04/security-release-gitlab-11-dot-8-dot-1-released/ as we're experiencing it on 11.6.10.\n\n### Possible fixes\n\nUpon some initial investigation, I do see this bit in the `main.e23e8c94.chunk.js.map.gz` asset file:\n```\n\u003cpre class=\\\"js-render-mermaid\\\"\u003e\\n//  graph TD;\\n//    A-- \u003e B;\\n//    A-- \u003e C;\\n//    B-- \u003e D;\\n//    C-- \u003e D;\\n// \u003c/pre\u003e\\n//\\n\\n// This is an arbitary number; Can be iterated upon when suitable.\\nconst MAX_CHAR_LIMIT = 5000;\n```\n\nThis looks the likely cause. Are there any plans to iterate on this _arbitrary_ number any time soon to unbreak the mermaid diagrams? :pray:","state":"closed","created_at":"2019-03-06T15:56:57.571Z","updated_at":"2021-05-08T19:36:07.208Z","closed_at":"2020-03-26T05:38:58.066Z","closed_by":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"labels":["Create [DEPRECATED]","devops::plan","frontend","group::project management","missed:12.7","missed:12.8","missed:12.9","type::bug","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":1090814,"username":"ilyaf","name":"Ilya Frolov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1090814/avatar.png","web_url":"https://gitlab.com/ilyaf"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":28,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27173","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27173","notes":"https://gitlab.com/api/v4/projects/278964/issues/27173/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27173/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27173","relative":"#27173","full":"gitlab-org/gitlab#27173"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18839628,"iid":10242,"project_id":278964,"title":"First-class vulnerabilities backend MVC implementation","description":"### Overview\n\nThis issue is about the ~backstage implementation we need in order to implement vulnerabilities as first-class entities in GitLab.\n\n### Development log\n\n#### Status\n\n(copied from [backend MVC implementation plan](https://gitlab.com/gitlab-org/gitlab-ee/issues/10252#backend-mvc-implementation-plan))\n\n##### Vulnerabilities and Findings\n\n- [x] Rename existing `Vulnerabilities API` to `Vulnerability Findings API`\n  - [x] in codebase\n  - [x] in documentation | !19029, it was decided to do as breaking change in %\"12.5\" \n- [x] Create `vulnerabilities` table (see [schema](https://gitlab.com/gitlab-org/gitlab-ee/issues/10252#schema)) and model\n- [x] Check (and extend, if necessary) the permissions for the new `Vulnerabilities API` (basically, clone those from `Vulnerability Findings API`)\n- [x] Create `Vulnerabilities API` with the following capabilities\n  - [x] `Get a list of project's Vulnerabilities` !18269\n  - [x] `Create Vulnerability from Finding` (Findings are backed by `vulnerability_occurrences` table) | First !19029, then !18283\n  - [-] ~~`Delete Vulnerability` (and disassociate from all of its related Findings as a cascade)~~ removed because [is deemed unnecessary](https://gitlab.com/gitlab-org/gitlab/issues/10252#note_227628566)\n  - [x] `Resolve Vulnerability` (and resolve all of its related Findings as a cascade) !18439\n  - [x] `Dismiss Vulnerability` (and dismiss all of its related Findings as a cascade) !18495\n  - [-] _(Optional, depending on capacity)_ `Associate Finding to (the existing) Vulnerability` post-MVC, extracted into #34531\n- [x] ~\"workflow::In review\" Add `documentation` stubs for the new `Vulnerabilities API` !17364 and !28423\n\n##### Vulnerabilities and Issues + Vulnerability attributes\n\n- [-] Creating Issues associated with Vulnerabilities: extracted into #34564\n- [-] Vulnerabilities should be created as confidential by default (mimic the access permissions of confidential Issues): extracted into #34430\n- [-] Vulnerabilities must have \"Report type\" attribute: extracted into #34431\n\n#### Decisions\n\n- This issue's work result should not be publicly exposed until #13561 is implemented, so:\n  - the documentation for the API endpoints will be present in a form of stubs: pages but probably with some kind of \"Under construction\" notices\n  - the API endpoints are going to be hidden under a feature flag, **disabled**\n- After the sync+brainstorm on MVC scope of First-class Vulnerabilities ([recording (internal)](https://drive.google.com/open?id=1W7n0SZJgehiRFCacV7EDDIHHT4JZMoIe), [design board](https://app.mural.co/t/gitlab2474/m/gitlab2474/1568753675935/383c252c424d3c137c03fc9b84ac23b5da8e422a)), it became clear MVC scope may expand (it's still an open question though):\n  - creating Issues from Vulnerabilities\n  - Vulnerabilities should be created as confidential by default (mimic the access permissions of confidential Issues)\n  - Vulnerabilities must have \"Report type\" attribute\n- Scheduling of the expanded scope for this issue (see the previous item):\n  - implementing both of the [Vulnerabilities and Findings](https://gitlab.com/gitlab-org/gitlab/issues/10242#vulnerabilities-and-findings) and [Vulnerabilities and Issues + Vulnerability attributes](https://gitlab.com/gitlab-org/gitlab/issues/10242#vulnerabilities-and-issues-vulnerability-attributes) is not realistic to achieve in %\"12.4\" \n  - there's a suggestion to move the [Vulnerabilities and Issues + Vulnerability attributes](https://gitlab.com/gitlab-org/gitlab/issues/10242#vulnerabilities-and-issues-vulnerability-attributes) part to %\"12.5\", put it as the last part to work on for #10242 to avoid blocking the ~frontend team while working on #13561 \n  - the precise scheduling (and probably, extraction of [Vulnerabilities and Issues + Vulnerability attributes](https://gitlab.com/gitlab-org/gitlab/issues/10242#vulnerabilities-and-issues-vulnerability-attributes) into a separate issue) is TBD in a sync conversation between @vzagorodny, @twoodham, @stkerr, @leipert, and @andyvolpe \n- the API call `Delete Vulnerability` was removed from the API spec; details [here](https://gitlab.com/gitlab-org/gitlab/issues/10252#note_227628566)\n- the API call `Dismiss Vulnerability` will create `Vulnerabilities::Feedback` records with feedback type `dismissal` for all `Findings` of a `Vulnerability` in a loop using the current `VulnerabilityFeedback::CreateService`; it's sufficient for an MVC, a bulk dismiss service could be created later\n- the API call `Resolve Vulnerability` just moves a `Vulnerability` from `open` to `closed` state; but each `Finding` now has it's own _computed state_ (that is not persisted in the DB), and if a `Finding` is associated with a **closed** Vulnerability and **it does not have a dismissal** `Feedback`, it's considered **resolved**\n\n### Related issues\n\n- [Product discovery](https://gitlab.com/gitlab-org/gitlab-ee/issues/8493)\n- [Engineering discovery](https://gitlab.com/gitlab-org/gitlab-ee/issues/10252)\n  - [Engineering discovery decisions](https://gitlab.com/gitlab-org/gitlab-ee/issues/10252#decisions)\n- [Feature MVC implementation](https://gitlab.com/gitlab-org/gitlab-ee/issues/13561)\n\n### Description\n\nFirst-class vulnerabilities are needed to deal with advanced vulnerability management flows. At the moment, vulnerabilities are available in individual security reports (like SAST, DAST, etc.), and they are partially persisted into the database.\n\nThis implementation, even if an MVC and enough to bring us to the current state, is not scalable anymore. We have requirements, like creating vulnerabilities from issues, or from HackerOne, that cannot fit in the same flow.\n\nThe idea is to create vulnerabilities as first-class objects and feed them using many different sources (issues, reports, external, slack commands, etc).\n\nOnce the vulnerability is created, it can be managed in the very same way, no matter what was the source.","state":"closed","created_at":"2019-03-06T13:54:43.863Z","updated_at":"2021-04-03T08:31:50.647Z","closed_at":"2020-04-20T09:05:11.472Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","Enterprise Edition","backend","backstage [DEPRECATED]","devops::govern","group::threat insights","missed-deliverable","missed:12.4","missed:12.5","missed:12.6","missed:12.7","type::feature","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},{"id":4708570,"username":"wayne","name":"Wayne Haber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4708570/avatar.png","web_url":"https://gitlab.com/wayne"},{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"user_notes_count":32,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":"2020-04-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":11},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10242","notes":"https://gitlab.com/api/v4/projects/278964/issues/10242/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10242/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10242","relative":"#10242","full":"gitlab-org/gitlab#10242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":634,"epic":{"id":2425,"iid":634,"title":"Standalone vulnerabilities","url":"/groups/gitlab-org/-/epics/634","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18832992,"iid":10234,"project_id":278964,"title":"Group level issue board scoped to running milestone show to many closed issues","description":"### Summary\n\nGroup level issue board with scope set to Milestone \"Started\" shows all closed issues in the closed column.\n\n### Steps to reproduce\n\n#### Pre requisites\n\n- A milestone with start before today and end date after today (to make it \"current\")\n- Open issues in this milestone\n- Closed issues in this milestone\n- Closed issues _not_ in this milestone but some other (expired) milestone\n- Closed issues not bound to any milestone\n\n#### Steps\n\n1. Go to a group page (i.e. https://gitlab.com/somegroup)\n1. Go to Issues -\u003e Boards\n1. Create a new board via \"Switch Board\" dropdown -\u003e \"Create New Board\"\n1. Give it some awesome name :rocket: \n1. Click on \"Expand\" next to Board Scope\n1. Click on edit next to milestone\n1. Pick \"Started\"\n1. Click \"Create board\" on the bottom\n\n### Example Project\n\nWe are running Gitlab silver via gitlab.com, all our projects are currently private hence I cannot share them here.\n\n### What is the current *bug* behavior?\n\nThe closed column to the right will show all closed issues, also the issues that are not related to the \"started\" milestone.\n\n### What is the expected *correct* behavior?\n\nThe board is supposed to be about the current running milestone(s). So it should only show closed issues that are related to that milestone(s). I get that it potentially can show more active milestones because of the \"running\" factor, but now it just shows _all_ the closed issues. That does not make sense, it is cluttering and confusing.\n\n### Relevant logs and/or screenshots\n\nNot relevant.\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\nNot relevant.\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\nNot relevant.\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-03-06T09:39:09.702Z","updated_at":"2022-05-19T16:12:56.036Z","closed_at":"2019-03-11T09:04:41.639Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Category:Team Planning","Enterprise Edition","[deprecated] Accepting merge requests","awaiting feedback","boards","devops::plan","priority::3","severity::3","type::bug"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[],"author":{"id":933722,"username":"joggienl","name":"Jogchum Koerts","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1c9ce0daf625490117b5cc9a561e236a?s=80\u0026d=identicon","web_url":"https://gitlab.com/joggienl"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10234","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10234","notes":"https://gitlab.com/api/v4/projects/278964/issues/10234/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10234/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10234","relative":"#10234","full":"gitlab-org/gitlab#10234"},"severity":"UNKNOWN","moved_to_id":18959771,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18832067,"iid":10232,"project_id":278964,"title":"Calculate diff of the Web IDE file changes","description":"## Description\n\nFor #5276, the Web IDE needs to create and send a diff object to the terminal runner. This issue focuses on the creation of that diff object to satisfy the current iteration. In a later iteration, we'll resolve the bi-directional issue of applying diffs (generated by the terminal) in the Web IDE.\n\n## Engineering Notes\n\n### Splitting up `toDelete` and `patch`\n\nTo save on bandwidth, the Web IDE diff has two properties:\n\n- `patch : String` this is a git patch which contains file updates + file creations + 100% identical file renames.\n- `toDelete : [String]` this is simply an array of file paths which will be deleted by the runner.\n\nTo delete a file, `git` requires including the entire file's content in the patch. This is not necessary since we're not interested in catching conflicts.\n\n## Original Description\n\n(Below is the original description of this issue which focused on bi-directional generating and applying of diffs)\n\nThe information the [mirroring service](https://gitlab.com/gitlab-org/gitlab-ee/issues/5276) is going to send and receive are diffs. We still need to decide if they're going to be incremental or the whole diff (https://gitlab.com/gitlab-org/gitlab-ee/issues/10230).\n\nWe need a way to get the changes made to the files in the Web IDE, and calculate a valid diff file from there that we can send to the mirror service in the build. At the same time, ideally, we need a way to apply diff changes to the current files in the Web IDE but this may wait until we make the mirroring service workflow bidirectional.","state":"closed","created_at":"2019-03-06T09:06:25.836Z","updated_at":"2019-09-11T16:38:03.591Z","closed_at":"2019-05-01T12:33:00.742Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Web IDE","Create [DEPRECATED]","Deliverable","Enterprise Edition","devops::create","frontend","group::editor","workflow::in review"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"user_notes_count":9,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10232","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10232","notes":"https://gitlab.com/api/v4/projects/278964/issues/10232/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10232/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10232","relative":"#10232","full":"gitlab-org/gitlab#10232"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":167,"epic":{"id":301,"iid":167,"title":"Server side evaluation in the Web IDE","url":"/groups/gitlab-org/-/epics/167","group_id":9970,"human_readable_end_date":"Jul 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18831867,"iid":10231,"project_id":278964,"title":"Communicate to the Web IDE the services running in the CI build","description":"We need a way to communicate to the BE and also FE which are the services running in the CI build. For example, if we end up creating 100 CI build services, we can't iterate over all of them and let them make requests to check if they're active or not.\n\nWe can implement this two ways:\n- Let the build/runner communicate to the BE/FE the services that are actually running. This option has two benefits:\n  - if for whatever reason a service cannot be created in the build we can avoid the extra query from FE to check if the service is running.\n  - Everything will be synced\n  - We can also get the status of the service. For example, imagine we have several services and we add a new one. This new service uses a big new docker image and it takes some time to download and start it. In this scenario, the other services may be available but not this last one. If we add the status of the service to the build response we can start using the previous services and wait only for the last one instead of delaying all the work until the last one is done.\n- Get the services available from the Web IDE configuration. This case will be easier, but it may not be an actual representation of the services running in the build, because one of the may have failed to start.","state":"closed","created_at":"2019-03-06T08:58:24.317Z","updated_at":"2019-08-12T15:05:21.331Z","closed_at":"2019-06-26T13:48:24.077Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Web IDE","Create [DEPRECATED]","Enterprise Edition","[Deprecated] Category:Runner","backend","backstage [DEPRECATED]","devops::create","group::editor"],"milestone":null,"assignees":[],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10231","notes":"https://gitlab.com/api/v4/projects/278964/issues/10231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10231","relative":"#10231","full":"gitlab-org/gitlab#10231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":167,"epic":{"id":301,"iid":167,"title":"Server side evaluation in the Web IDE","url":"/groups/gitlab-org/-/epics/167","group_id":9970,"human_readable_end_date":"Jul 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18831483,"iid":10230,"project_id":278964,"title":"Apply/retrieve diff patches in the CI build mirror service","description":"The information sent in the [mirror service](https://gitlab.com/gitlab-org/gitlab-ee/issues/5276#note_129966974) from the FE code are going to be diffs. We need a safe way to get and apply them from the actual repo the mirror service is watching.\n\nWe also need to test if incremental diffs are better than differential diffs (the total diff change). If we use incremental diffs we will send less information and the communication will be faster, but we'll have to deal with sync problems.\n\n### Proposal:\n\n- We are going to implement to main endpoints: `files` and `repository`.\n-  `Files` endpoint will accept the following actions:   \n\n   - `DELETE`: although we can delete files using diff patches, the whole content of the removed file is going along with the patch. Enabling and endpoint, that can remove a file using only its relative path can speed things up.\n   - `PATCH`: will apply the differential diff patch and also delete files. The way we are planning this is:\n     - Reset the repository for any existing changes\n     - Apply the patch\n- `Repository` endpoint. This endpoint will be used to `reset` the repository. It will be mainly used when the user `discard all changes` in the Web IDE.\n  \n\nRegarding incremental diffs, it is really hard to sustain them. Mainly because the user will be able to modify, at the same time, the file. The workflow, in this case, can be really complicated, and it will involve a delay in the communication workflow:\n- The web IDE sends an incremental diff\n- The service checks if it can be cleanly applied\n- If it can't be, then we need to communicate that to the web IDE.\n- The web IDE will have to send the complete diff.\n\nFor simplicity, at least for this first iteration, we're going to use differential diffs.","state":"closed","created_at":"2019-03-06T08:44:08.288Z","updated_at":"2019-08-12T15:05:21.418Z","closed_at":"2019-05-31T10:21:24.405Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Web IDE","Create [DEPRECATED]","Deliverable","Enterprise Edition","[Deprecated] Category:Runner","backend","devops::create","group::editor","missed-deliverable","missed:11.10","workflow::in review"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":5,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10230","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10230","notes":"https://gitlab.com/api/v4/projects/278964/issues/10230/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10230/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10230","relative":"#10230","full":"gitlab-org/gitlab#10230"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":167,"epic":{"id":301,"iid":167,"title":"Server side evaluation in the Web IDE","url":"/groups/gitlab-org/-/epics/167","group_id":9970,"human_readable_end_date":"Jul 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18830828,"iid":10229,"project_id":278964,"title":"Package CI build services for the Web IDE","description":"In order to ship CI build services, we need to decide how are we going to deliver them. I think we have several alternatives:\n\n- Build a global docker image with all the services. Sincerely, I'm not a fan of this option because: \n  - we need to build a big docker image\n  - all the services ports will be under the `image` section\n  - we have to tweak every service because otherwise, we can have a lot of port collisions.\n  - if we add a new service we need to rebuild the image\n- Build a custom image per each service. This is the option I like most because it's more simple\n- Use a default image and use `script`, `entrypoint`, and `command` to clone the service repo and run it. I think this is more complicated and we will force the users to add more info by themselves to the `.gitlab-webide.yml`.\n\n/cc @ayufan @steveazz @jramsay","state":"closed","created_at":"2019-03-06T08:27:47.998Z","updated_at":"2020-02-18T09:02:54.480Z","closed_at":"2020-02-18T09:02:54.415Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Web IDE","Enterprise Edition","[deprecated] Accepting merge requests","backend","devops::create","group::editor","missed-deliverable"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10229","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10229","notes":"https://gitlab.com/api/v4/projects/278964/issues/10229/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10229/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10229","relative":"#10229","full":"gitlab-org/gitlab#10229"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":167,"epic":{"id":301,"iid":167,"title":"Server side evaluation in the Web IDE","url":"/groups/gitlab-org/-/epics/167","group_id":9970,"human_readable_end_date":"Jul 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18820785,"iid":10225,"project_id":278964,"title":"Geo: When a secondary becomes a primary, destroy the OAuth application","description":"Currently, when a secondary becomes a primary, the OAuth application is disassociated from that Geo node. I think we can go one step further and destroy it.\n\nAdditionally, if the node becomes a secondary, a new OAuth application is created, instead of reassociating with the old one.\n\nhttps://gitlab.com/gitlab-org/gitlab-ee/blob/52a42336/ee/app/models/geo_node.rb#L265","state":"closed","created_at":"2019-03-05T20:43:00.816Z","updated_at":"2020-02-17T15:04:32.875Z","closed_at":"2020-02-17T15:04:32.741Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Geo Replication","Enterprise Edition","devops::systems","group::geo","maintenance::refactor","priority::4"],"milestone":null,"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10225","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10225","notes":"https://gitlab.com/api/v4/projects/278964/issues/10225/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10225/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10225","relative":"#10225","full":"gitlab-org/gitlab#10225"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":590,"epic":{"id":2264,"iid":590,"title":"Geo: Promotion, Demotion and Failover","url":"/groups/gitlab-org/-/epics/590","group_id":9970,"human_readable_end_date":"Dec 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18819300,"iid":10224,"project_id":278964,"title":"[Frontend] View previous design versions","description":"Frontend Issue for: https://gitlab.com/gitlab-org/gitlab-ee/issues/9491\n\nPlease refer to \u003ca href=\"https://gitlab.com/gitlab-org/gitlab-ee/issues/9491\"\u003ethe description of the parent issue\u003c/a\u003e for up-to-date information.\n\nThis issue was created to track Frontend weight independently of Backend.\n\n# Notes for frontend\n\nCurrent **mockup**: \n\n(Please double-check original issue for ~\"UX ready\" spec.)\n\n\u003cimg src=\"https://gitlab.com/gitlab-org/gitlab-ce/uploads/042c83a6f321253507d093817845a8e0/design-tab-3.png\" alt=\"Mockup of proposal\" width=\"700\"\u003e","state":"closed","created_at":"2019-03-05T19:20:25.454Z","updated_at":"2019-08-12T15:05:24.821Z","closed_at":"2019-03-22T19:15:53.617Z","closed_by":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"labels":["Category:Design Management","Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Premium","[deprecated] Accepting merge requests","devops::create","frontend","type::feature"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10224","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10224","notes":"https://gitlab.com/api/v4/projects/278964/issues/10224/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10224/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10224","relative":"#10224","full":"gitlab-org/gitlab#10224"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24690806,"iid":27144,"project_id":278964,"title":"GitLab hosted Codesandbox","description":"Codesandbox can be self hosted quite easily by hosting the static sandpack script on a custom domain. It interacts directly with the https://unpkg.com/ CDN, removing the previous requirement of also operating a packager.\n\nGitLab currently defaults to the Codesandbox.io domain. We should use a GitLab domain (e.g. `gitlab-sandbox.com`) and enable the feature by default for self hosted instances.\n\n### Proposal\n\n - [ ] Serve the required javascript from the GitLab.com CDN (non-versioned domain) - https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/6709\n - [ ] Configure GitLab to talk to the GitLab.com hosted version\n - [ ] Update documentation for [enabling Client Side Evaluation](https://docs.gitlab.com/ee/user/project/web_ide/#enabling-client-side-evaluation)\n\n### Not in Scope\n\n - Making the Codesandbox URL Configurable - https://gitlab.com/gitlab-org/gitlab/issues/208161\n - Defaulting the checkbox to enable the feature to on - https://gitlab.com/gitlab-org/gitlab/issues/205365\n\n### Documentation\n\nThe docs around [enabling Client Side Evaluation](https://docs.gitlab.com/ee/user/project/web_ide/#enabling-client-side-evaluation) should be updated to reflect the assets are served from a GitLab hosted domain, but be clear that it runs the latest version required for GitLab.com and may cause incompatibility with older versions of GitLab. \n\n### Links / references\n\nhttps://docs.gitlab.com/ee/user/project/web_ide/index.html#enabling-client-side-evaluation","state":"closed","created_at":"2019-03-05T16:00:19.851Z","updated_at":"2022-06-29T20:49:36.148Z","closed_at":"2020-03-18T17:18:04.022Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Category:Web IDE","Deliverable","backstage [DEPRECATED]","devops::create","direction","documentation","frontend","group::editor","missed-deliverable","missed:12.0","missed:12.5","missed:12.6","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"user_notes_count":36,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27144","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27144","notes":"https://gitlab.com/api/v4/projects/278964/issues/27144/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27144/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27144","relative":"#27144","full":"gitlab-org/gitlab#27144"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":484,"epic":{"id":1570,"iid":484,"title":"Self-hosted client side evaluation","url":"/groups/gitlab-org/-/epics/484","group_id":9970,"human_readable_end_date":"Mar 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24690799,"iid":27142,"project_id":278964,"title":"Divider in Readme is overlaying with image","description":"### Summary\n\nDivider in Readme is overlaying with image\n\n### Steps to reproduce\n\n| GitLab | GitHub |\n| ------ | ------ |\n| ![Screenshot](/uploads/031b0187b8573151fbf84f774cce51f9/Screenshot.png) | ![Screenshot1](/uploads/27185dc4e878b1c00707c74722212544/Screenshot1.png) |\n\n### Example Project\n\n**GitLab:** https://gitlab.com/yo/mood-old  \n**GitHub:** https://github.com/ltickett/mood-test\n\n### What is the expected *correct* behavior?\n\nRemove lines on the image\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2019-03-05T15:29:05.980Z","updated_at":"2022-05-19T16:13:11.329Z","closed_at":"2021-03-01T09:31:46.193Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Community contribution","devops::plan","frontend","group::project management","markdown","priority::3","reproduced on GitLab.com","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":1227671,"username":"Gwen_","name":"Gwen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1227671/avatar.png","web_url":"https://gitlab.com/Gwen_"}],"author":{"id":1243277,"username":"ghost1","name":"Ghost User","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4249f4df72b475e7894fabed1c5888cf?s=80\u0026d=identicon","web_url":"https://gitlab.com/ghost1"},"type":"ISSUE","assignee":{"id":1227671,"username":"Gwen_","name":"Gwen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1227671/avatar.png","web_url":"https://gitlab.com/Gwen_"},"user_notes_count":20,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27142","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27142","notes":"https://gitlab.com/api/v4/projects/278964/issues/27142/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27142/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27142","relative":"#27142","full":"gitlab-org/gitlab#27142"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18812012,"iid":10219,"project_id":278964,"title":"Track how often generic-metric type reports are created in merge requests with usage ping","description":"### Problem to solve\n\nWith https://gitlab.com/gitlab-org/gitlab-ee/issues/9788, we introduced a new \"generic metrics\" feature as a new report type in Merge Requests.\n\nSo that we can iterate on that new feature we need to be able to track how often it is being used. This should add a count for the number of times this particular type of `report` artifact is uploaded from a job.\n\n### Intended users\n\nThis is for internal GitLab use.\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nWe want to know how often the generic metric is being used so we can identify and dig into common use cases to potentially build that into the product so users get it by convention not configuration.\n\n### Proposal\n\nUsing usage ping tracking, create a new usage ping data point for unique users who have generated a pipeline with a metrics report per week.\n\nIn the follow scenarios send the user_id to the redis HLL tracking key for unique users who have generated a pipeline with a metrics report this week in usage ping:\n\n* A user has created a merge request that has triggered a pipeline that uploads a metrics report\n* A user has triggered a pipeline manually that uploads a metrics report\n\nThis data should be tracked weekly. i.e. if `user_id: 123` performs this action in both week 25 and week 26 they should be counted in both weeks.\n\n### Permissions and Security\n\n* This does not need any special permissions for viewing in Periscope\n\n### Documentation\n\nN/A as internal\n\n### Availability \u0026 Testing\n\n* Validate successful and error scenarios for upload such that both types show up in periscope\n* Let's make sure we can't break the data pipeline with too long report types.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n* Success will be that there is data as defined in the proposal flowing into periscope that can be queried after launch.\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references\n\nUnderstanding how many customers are making use of this feature will inform if / when we move forward with enhancements like https://gitlab.com/gitlab-org/gitlab/-/issues/9789","state":"closed","created_at":"2019-03-05T15:02:04.124Z","updated_at":"2021-02-18T22:04:54.936Z","closed_at":"2021-02-18T22:04:54.819Z","closed_by":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"labels":["Category:Code Testing and Coverage","Deliverable","Enterprise Edition","GitLab Premium","backend","devops::verify","group::pipeline insights","missed-deliverable","missed:12.3","missed:13.7","missed:13.8","section::ops","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":1514779,"username":"brendan","name":"Brendan O'Leary 🐢","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5a575069d12106f79c0c97dfb3ef917?s=80\u0026d=identicon","web_url":"https://gitlab.com/brendan"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":71,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10219","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10219","notes":"https://gitlab.com/api/v4/projects/278964/issues/10219/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10219/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10219","relative":"#10219","full":"gitlab-org/gitlab#10219"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2991,"epic":{"id":36915,"iid":2991,"title":"Testing Category Performance Indicators - PGMAU","url":"/groups/gitlab-org/-/epics/2991","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":18801738,"iid":10206,"project_id":278964,"title":"[FE] Create setting to force the user to register/use new credentials for a specific group","description":"~frontend for https://gitlab.com/gitlab-org/gitlab-ee/issues/6260","state":"closed","created_at":"2019-03-05T09:45:18.892Z","updated_at":"2019-08-12T15:05:25.560Z","closed_at":"2019-04-18T10:10:12.389Z","closed_by":{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/502136/avatar.png","web_url":"https://gitlab.com/fatihacet"},"labels":["Category:Subgroups","Category:User Management","Deliverable","Enterprise Edition","Manage [DEPRECATED]","devops::manage","estimation::completed","frontend","gitlab.com","missed-deliverable","missed:11.10","priority::1","saml","type::feature","workflow::in review"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"}],"author":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"type":"ISSUE","assignee":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10206","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10206","notes":"https://gitlab.com/api/v4/projects/278964/issues/10206/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10206/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10206","relative":"#10206","full":"gitlab-org/gitlab#10206"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18790451,"iid":10197,"project_id":278964,"title":"Multiple assignees avatars scrolling bug","description":"In the collapsed state, there's this fun bug when you scroll down the sidebar:\n\n![assignees](/uploads/5522432b93733ba80dfb15d506c0e61b/assignees.gif)","state":"closed","created_at":"2019-03-04T20:54:34.494Z","updated_at":"2022-05-19T16:12:53.623Z","closed_at":"2019-09-13T18:46:50.673Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Enterprise Edition","UI polish","devops::plan","frontend","group::project management","priority::4","severity::4","type::bug","workflow::verification"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10197","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10197","notes":"https://gitlab.com/api/v4/projects/278964/issues/10197/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10197/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10197","relative":"#10197","full":"gitlab-org/gitlab#10197"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18789765,"iid":10196,"project_id":278964,"title":"[Elasticsearch] Consider multi-field for blob.content","description":"When working on https://gitlab.com/gitlab-org/gitlab-ee/issues/5585 an issue with our usage of an `edgeNGram` filter for our code analyzer came to light: The filter has no way of keeping the original term, which means that searches for long terms above the `max_gram` setting (example: `Gitlab::CurrentSettings.current_application_settings`) won't bring back results.\n\nWe should consider removing the `edgeNGram` filter entirely from our code analyzer and instead use a [multi field](https://www.elastic.co/guide/en/elasticsearch/reference/current/multi-fields.html) on any fields that need the edgeNgram as a separate filter, so that we can keep the original. This also should have the added benefit of generating less ngrams.\n\nWe should also test how this change affects our index size.","state":"closed","created_at":"2019-03-04T20:21:10.219Z","updated_at":"2022-05-31T11:56:34.390Z","closed_at":"2020-06-29T21:08:12.010Z","closed_by":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"labels":["Category:Global Search","Create [DEPRECATED]","Enterprise Edition","[deprecated] Accepting merge requests","advanced search","backend","devops::data_stores","group::global search"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10196","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10196","notes":"https://gitlab.com/api/v4/projects/278964/issues/10196/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10196/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10196","relative":"#10196","full":"gitlab-org/gitlab#10196"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":429,"epic":{"id":1247,"iid":429,"title":"Reduce Elasticsearch index size for use on Advanced Global Search.","url":"/groups/gitlab-org/-/epics/429","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18768742,"iid":10180,"project_id":278964,"title":"Follow-up from \"Show commands applied message when promoting issues to epics\"","description":"The following discussion from !9669 should be addressed:\n\n- [ ] @felipe_artur started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9669#note_146559220):  (+2 comments)\n\n    \u003e @smcgivern I found a false positive spec when doing the CE backport. This spec is green because `wait_for_requests` was missing. My patch breaks it.\n    \u003e \n    \u003e If you see some lines above https://gitlab.com/gitlab-org/gitlab-ee/blob/master/spec/features/issues/user_uses_quick_actions_spec.rb#L300, it is the same case where `Commands applied` should be shown even when the issue has not been moved.  \n    \u003e \n    \u003e This is happening because on `move` command there is also a check to add the update param inside the execute block. Can we resolve this in a follow up issue?\n    \u003e\n    \u003e I think the fix which makes more sense is to do all authorization checks inside the conditions block.","state":"closed","created_at":"2019-03-04T09:19:57.016Z","updated_at":"2022-05-19T16:12:53.150Z","closed_at":"2019-03-04T09:20:06.041Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Enterprise Edition","backstage [DEPRECATED]","devops::plan","maintenance::refactor","quick actions"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[],"author":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10180","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10180","notes":"https://gitlab.com/api/v4/projects/278964/issues/10180/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10180/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10180","relative":"#10180","full":"gitlab-org/gitlab#10180"},"severity":"UNKNOWN","moved_to_id":18768744,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18731378,"iid":10161,"project_id":278964,"title":"Do not expose issuable URLs on Vulnerability Feedback entities without permissions","description":"## What Problem are we solving?\n\nWith the work https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9326#note_143747192 a discussion was raised on exposing `issue and `merge_request` URLs when a user may or may not have permissions to view them:\n\n\u003e I think that this falls into tricky territory of tri-state handling of permissions which is not really designed today neither on ~UX, ~frontend or ~backend. I would fallback from doing something for the purpose of this work, without having a system-wide design discussion. In all other places, we simply did not show that such entity exist or allow to click if user does not have permission to access. This is not greatest ~UX, but does not pose any ~security vulnerabilities attached with the behavior. In most cases users already have access, so it is not that big of a problem.\nSo, I would say: hide it. If we have to refine that, and have proper tri-state (we have, but you are not allowed), this should rather be though of to be the system-wide approach.\n\nEssentially we are relying on multiple exposure paradigms for whether or not to control access. The current implementation within !9326 exposes the URLs and relies on the frontend for controlling access, however this is inconsistent with the access model in other parts of the codebase.\n\n## Suggested fix\n\nNOTE: this should be applied to both issues and merge_requests\n\n```diff\ndiff --git a/ee/app/serializers/vulnerabilities/feedback_entity.rb b/ee/app/serializers/vulnerabilities/feedback_entity.rb\nindex fd6483b596d..2900a79f9b9 100644\n--- a/ee/app/serializers/vulnerabilities/feedback_entity.rb\n+++ b/ee/app/serializers/vulnerabilities/feedback_entity.rb\n@@ -17,9 +17,10 @@ class Vulnerabilities::FeedbackEntity \u003c Grape::Entity\n\n-  expose :merge_request_url, if: -\u003e (feedback, _) { feedback.merge_request? } do |feedback|\n+  expose :merge_request_url, if: -\u003e (feedback, _) { feedback.merge_request? \u0026\u0026 can?(current_user, :read_merge_request, feedback.merge_request) } do |feedback|\n```","state":"closed","created_at":"2019-03-01T20:34:12.595Z","updated_at":"2019-11-18T15:58:02.124Z","closed_at":"2019-08-13T17:14:50.770Z","closed_by":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"labels":["Enterprise Edition","backend","backstage [DEPRECATED]","devops::secure","group::static analysis"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10161","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10161","notes":"https://gitlab.com/api/v4/projects/278964/issues/10161/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10161/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10161","relative":"#10161","full":"gitlab-org/gitlab#10161"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24690628,"iid":27090,"project_id":278964,"title":"Support Code Coverage Badge for Successful Job without Successful Pipeline","description":"### Problem to solve\n\nCurrently, to have the [code coverage badge](https://docs.gitlab.com/ee/user/project/pipelines/settings.html#test-coverage-report-badge) successfully display, your project needs to have [at least one successful pipeline](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/lib/gitlab/badge/coverage/report.rb#L17). This is limiting to users that have [blocking manual deploy jobs](https://docs.gitlab.com/ee/ci/yaml/#whenmanual), as their pipelines don't always complete successfully. This feature request proposes code coverage badges for jobs that don't rely on a successful pipeline.\n\nFor example, a user has the following code coverage badge on their project's `README.md`:\n\n```\n![coverage](https://gitlab.com/gitlab-org/gitlab-ce/badges/master/coverage.svg?job=coverage)\n```\n\nTheir `coverage` job successfully completes and they have a coverage percentage for that job. However, their pipeline does not successfully complete because there are blocking manual deploy tasks. They see `coverage: unknown` on the badge.\n\nFrom the customer:\n\n\u003e If I’m pointing the badge to a job, the job has a coverage value on it then report that value for the master branch. Coverage values should reflect the state of the branch code.  Coverage has nothing to do with deployment, versions or packaging state (I’d be interested to hear a valid use case otherwise).\n\nCustomer ticket --\u003e https://gitlab.zendesk.com/agent/tickets/113248 (internal use only)\n\n### Target audience\n\n- Delaney, Development Team Lead, https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas#delaney-development-team-lead\n\n- Sasha, Software Developer, https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas#sasha-software-developer\n\n- Devon, DevOps Engineer, https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas#devon-devops-engineer\n\n- Sidney, Systems Administrator, https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas#sidney-systems-administrator\n\n- Sam, Security Analyst, https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas#sam-security-analyst\n\n### Further details\n\nThis would increase the availability of the code coverage badge to customers that have blocking manual jobs in their pipelines.\n\n### Proposal\n\nThe [code coverage report code base](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/lib/gitlab/badge/coverage/report.rb) requires that a successful pipeline be present in the project. This issue changes to getting the coverage value from the latest pipeline that has a successful coverage job regardless of pipeline status. For cases of jobs that summarize coverage values from various jobs we assume they will utilize `depends` and nothing will need to change for those users.\n\n| Latest Coverage Job State | Latest Pipeline State | What to display on badge |\n| ------ | ------ | ------ |\n| Pass | Pass | This pipeline's coverage job value |\n| Pass | Fail | This pipeline's coverage job value, this is a change |\n| Pass | Not Finished | This pipeline's coverage job value, this is a change |\n| Fail | Pass | The last successful coverage job value, this is a change |\n| Fail | Fail | The last successful coverage job value, this is a change |\n| Fail | Not Finished | The last successful coverage job value, this is a change |\n| Not run in pipeline | Pass/Fail/Not Finished | The last successful coverage job value, this is a change |\n| Never Ran | Pass/Fail/Not Finished | Show unknown, no change |\n\nA future iteration of this may be to make it possible to get a code coverage report from a successful job even if the pipeline is unsuccessful. Potentially just retrieve the latest pipeline, rather than the latest successful pipeline. Or have the option to do so. This would be an option customers can enable when specifying the [regex for their coverage](https://docs.gitlab.com/ee/ci/pipelines/settings.html#test-coverage-parsing).\n\n### Permissions and Security\n\nNo specific permissions indicated in the current documentation.\n\n### Documentation\n\nWill update the [test code coverage badge](https://docs.gitlab.com/ee/user/project/pipelines/settings.html#test-coverage-report-badge) documentation.\n\n### What does success look like, and how can we measure that?\n\nUsers will be able to see their code coverage badge display correctly for a successful job regardless if the pipeline was successful.\n\n### Links / references\n\n\ncc/ @brendan","state":"closed","created_at":"2019-03-01T17:15:16.038Z","updated_at":"2022-11-28T21:57:42.121Z","closed_at":"2020-11-17T18:46:58.034Z","closed_by":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"labels":["Category:Code Testing and Coverage","Deliverable","Persona: DevOps Engineer","Persona: Development Team Lead","Persona: Security Analyst","Persona: Software developer","Persona: Systems Administrator","backend","customer","devops::verify","direction","documentation","group::pipeline insights","missed-deliverable","missed:13.5","needs investigation","needs team input","section::ops","type::feature"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":2658602,"username":"blunceford","name":"Blair Lunceford","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2658602/avatar.png","web_url":"https://gitlab.com/blunceford"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":66,"merge_requests_count":0,"upvotes":16,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27090","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27090","notes":"https://gitlab.com/api/v4/projects/278964/issues/27090/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27090/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27090","relative":"#27090","full":"gitlab-org/gitlab#27090"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":18726893,"iid":10156,"project_id":278964,"title":"zero-downtime Elasticsearch re-indexing","description":"## Allow for versioned Elasticsearch indexes:\n\nAfter https://gitlab.com/gitlab-org/gitlab-ee/issues/328, #12548 are done, we should be able to add more than one Elasticsearch schema/search code, so we're ready to allow zero-downtime reindexing. The tasks involve:\n\n* #12555 This is when we add the table `es_indexes(name, is_active, progress)` On every data updates we would update every active index. While the last index is in the process of building we could use the next-oldest active one. The idea would be for only two indexes to ever be active, the current one and the one being migrated to.\n\n* https://gitlab.com/gitlab-org/gitlab-ee/issues/12622 UI control for this\n\n* ~~We can also consider taking advantage of [index aliases](https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-aliases.html) to specify which index we use for searches, but we still need to send updates to all active indexes~~\n\n* Document how the zero-downtime indexing operation works","state":"closed","created_at":"2019-03-01T16:51:17.555Z","updated_at":"2022-05-31T11:56:34.955Z","closed_at":"2020-07-23T20:49:20.631Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","Enterprise Edition","GitLab Starter","[deprecated] Accepting merge requests","advanced search","backend","customer","devops::data_stores","direction","documentation","group::global search","missed-deliverable","missed:11.11","missed:12.0","missed:12.1","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"},"type":"ISSUE","assignee":null,"user_notes_count":23,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10156","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10156","notes":"https://gitlab.com/api/v4/projects/278964/issues/10156/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10156/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10156","relative":"#10156","full":"gitlab-org/gitlab#10156"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":428,"epic":{"id":1245,"iid":428,"title":"Elasticsearch admin controls","url":"/groups/gitlab-org/-/epics/428","group_id":9970,"human_readable_end_date":"Jun 30, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18720742,"iid":10142,"project_id":278964,"title":"Extract EE specific files/lines for Manage spec/finders","description":"We have the following files containing EE specific code. We should move them to ee/\n\n\u003cdetails\u003e\n\u003csummary\u003espec/finders/group_projects_finder_spec.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/finders/group_projects_finder_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/finders/group_projects_finder_spec.rb\nindex d6d95906f5e..b6191cffa18 100644\n--- a/spec/finders/group_projects_finder_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/finders/group_projects_finder_spec.rb\n@@ -144,6 +144,43 @@ describe GroupProjectsFinder do\n     end\n   end\n \n+  describe 'with an admin current user' do\n+    let(:current_user) { create(:admin) }\n+\n+    context \"only shared\" do\n+      let(:options) { { only_shared: true } }\n+      it            { is_expected.to eq([shared_project_3, shared_project_2, shared_project_1]) }\n+    end\n+\n+    context \"only owned\" do\n+      let(:options) { { only_owned: true } }\n+      it            { is_expected.to eq([private_project, public_project]) }\n+    end\n+\n+    context \"all\" do\n+      it { is_expected.to eq([shared_project_3, shared_project_2, shared_project_1, private_project, public_project]) }\n+    end\n+  end\n+\n+  describe 'with an auditor current user' do\n+    let(:current_user) { create(:user, :auditor) }\n+\n+    context \"only shared\" do\n+      let(:options) { { only_shared: true } }\n+      it            { is_expected.to eq([shared_project_3, shared_project_2, shared_project_1]) }\n+    end\n+\n+    context \"only owned\" do\n+      let(:options) { { only_owned: true } }\n+      it      { is_expected.to eq([private_project, public_project]) }\n+    end\n+\n+    context \"all\" do\n+      subject { described_class.new(group: group, current_user: current_user).execute }\n+      it      { is_expected.to eq([shared_project_3, shared_project_2, shared_project_1, private_project, public_project]) }\n+    end\n+  end\n+\n   describe \"no user\" do\n     context \"only shared\" do\n       let(:options) { { only_shared: true } }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/finders/users_finder_spec.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/finders/users_finder_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/finders/users_finder_spec.rb\nindex fecf97dc641..f8263750c09 100644\n--- a/spec/finders/users_finder_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/finders/users_finder_spec.rb\n@@ -52,6 +52,22 @@ describe UsersFinder do\n         expect(users).to contain_exactly(user, user1, user2, omniauth_user)\n       end\n \n+      context 'with LDAP users' do\n+        let!(:ldap_user) { create(:omniauth_user, provider: 'ldap') }\n+\n+        it 'returns ldap users by default' do\n+          users = described_class.new(user).execute\n+\n+          expect(users).to contain_exactly(user, user1, user2, omniauth_user, ldap_user)\n+        end\n+\n+        it 'returns only non-ldap users with skip_ldap: true' do\n+          users = described_class.new(user, skip_ldap: true).execute\n+\n+          expect(users).to contain_exactly(user, user1, user2, omniauth_user)\n+        end\n+      end\n+\n       it 'filters by created_at' do\n         filtered_user_before = create(:user, created_at: 3.days.ago)\n         filtered_user_after = create(:user, created_at: Time.now + 3.days)\n```\n\n\u003c/details\u003e\n\u003cbr\u003e\n\nThey're all EE only tests or so. (Some we could probably just move to CE)","state":"closed","created_at":"2019-03-01T14:33:24.950Z","updated_at":"2019-08-12T15:05:39.785Z","closed_at":"2019-03-22T11:25:57.288Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["Enterprise Edition","Manage [DEPRECATED]","Quality","backend","single codebase","test"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":1,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10142","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10142","notes":"https://gitlab.com/api/v4/projects/278964/issues/10142/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10142/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10142","relative":"#10142","full":"gitlab-org/gitlab#10142"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":557,"epic":{"id":2152,"iid":557,"title":"Move all EE specific backend code to the ee/ directory","url":"/groups/gitlab-org/-/epics/557","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18720739,"iid":10141,"project_id":278964,"title":"Extract EE specific files/lines for Plan spec/finders","description":"We have the following files containing EE specific code. We should move them to ee/\n\n\u003cdetails\u003e\n\u003csummary\u003espec/finders/issues_finder_spec.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/finders/issues_finder_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/finders/issues_finder_spec.rb\nindex fe8000e419b..47d51af3898 100644\n--- a/spec/finders/issues_finder_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/finders/issues_finder_spec.rb\n@@ -48,6 +48,22 @@ describe IssuesFinder do\n         expect(issues).to contain_exactly(issue1, issue2, issue3, issue4)\n       end\n \n+      context 'sort by issues with no weight' do\n+        let(:params) { { weight: Issue::WEIGHT_NONE } }\n+\n+        it 'returns all issues' do\n+          expect(issues).to contain_exactly(issue1, issue2, issue3, issue4)\n+        end\n+      end\n+\n+      context 'sort by issues with any weight' do\n+        let(:params) { { weight: Issue::WEIGHT_ANY } }\n+\n+        it 'returns all issues' do\n+          expect(issues).to be_empty\n+        end\n+      end\n+\n       context 'filtering by assignee ID' do\n         let(:params) { { assignee_id: user.id } }\n \n@@ -56,6 +72,36 @@ describe IssuesFinder do\n         end\n       end\n \n+      context 'filtering by assignee IDs' do\n+        set(:user3) { create(:user) }\n+        let(:params) { { assignee_ids: [user2.id, user3.id] } }\n+\n+        before do\n+          project2.add_developer(user3)\n+\n+          issue3.assignees = [user2, user3]\n+        end\n+\n+        it 'returns issues assigned to those users' do\n+          expect(issues).to contain_exactly(issue3)\n+        end\n+      end\n+\n+      context 'filtering by assignee usernames' do\n+        set(:user3) { create(:user) }\n+        let(:params) { { assignee_username: [user2.username, user3.username] } }\n+\n+        before do\n+          project2.add_developer(user3)\n+\n+          issue3.assignees = [user2, user3]\n+        end\n+\n+        it 'returns issues assigned to those users' do\n+          expect(issues).to contain_exactly(issue3)\n+        end\n+      end\n+\n       context 'filtering by no assignee' do\n         let(:params) { { assignee_id: 'None' } }\n \n@@ -490,6 +536,32 @@ describe IssuesFinder do\n         end\n       end\n \n+      context 'filtering by confidential' do\n+        set(:confidential_issue) { create(:issue, project: project1, confidential: true) }\n+\n+        context 'no filtering' do\n+          it 'returns all issues' do\n+            expect(issues).to contain_exactly(issue1, issue2, issue3, issue4, confidential_issue)\n+          end\n+        end\n+\n+        context 'user filters confidential issues' do\n+          let(:params) { { confidential: true } }\n+\n+          it 'returns only confdential issues' do\n+            expect(issues).to contain_exactly(confidential_issue)\n+          end\n+        end\n+\n+        context 'user filters only public issues' do\n+          let(:params) { { confidential: false } }\n+\n+          it 'returns only confdential issues' do\n+            expect(issues).to contain_exactly(issue1, issue2, issue3, issue4)\n+          end\n+        end\n+      end\n+\n       context 'when the user is unauthorized' do\n         let(:search_user) { nil }\n \n@@ -556,7 +628,7 @@ describe IssuesFinder do\n     it 'returns the number of rows for the default state' do\n       finder = described_class.new(user)\n \n-      expect(finder.row_count).to eq(4)\n+      expect(finder.row_count).to eq(5)\n     end\n \n     it 'returns the number of rows for a given state' do\n@@ -614,6 +686,26 @@ describe IssuesFinder do\n           expect(subject).to include(public_issue, confidential_issue)\n         end\n       end\n+\n+      context 'for an auditor' do\n+        let(:auditor_user) { create(:user, :auditor) }\n+\n+        subject { described_class.new(auditor_user, params).with_confidentiality_access_check }\n+\n+        it 'returns all issues' do\n+          expect(subject).to include(public_issue, confidential_issue)\n+        end\n+      end\n+\n+      context 'for an admin' do\n+        let(:admin_user) { create(:user, :admin) }\n+\n+        subject { described_class.new(admin_user, params).with_confidentiality_access_check }\n+\n+        it 'returns all issues' do\n+          expect(subject).to include(public_issue, confidential_issue)\n+        end\n+      end\n     end\n \n     context 'when searching within a specific project' do\n@@ -681,6 +773,38 @@ describe IssuesFinder do\n           subject\n         end\n       end\n+\n+      context 'for an auditor' do\n+        let(:auditor_user) { create(:user, :auditor) }\n+\n+        subject { described_class.new(auditor_user, params).with_confidentiality_access_check }\n+\n+        it 'returns all issues' do\n+          expect(subject).to include(public_issue, confidential_issue)\n+        end\n+\n+        it 'does not filter by confidentiality' do\n+          expect(Issue).not_to receive(:where).with(a_string_matching('confidential'), anything)\n+\n+          subject\n+        end\n+      end\n+\n+      context 'for an admin' do\n+        let(:admin_user) { create(:user, :auditor) }\n+\n+        subject { described_class.new(admin_user, params).with_confidentiality_access_check }\n+\n+        it 'returns all issues' do\n+          expect(subject).to include(public_issue, confidential_issue)\n+        end\n+\n+        it 'does not filter by confidentiality' do\n+          expect(Issue).not_to receive(:where).with(a_string_matching('confidential'), anything)\n+\n+          subject\n+        end\n+      end\n     end\n   end\n```\n\n\u003c/details\u003e\n\u003cbr\u003e\n\nThey're all EE only tests or so. (Some we could probably just move to CE)","state":"closed","created_at":"2019-03-01T14:33:23.899Z","updated_at":"2022-05-19T17:56:23.084Z","closed_at":"2019-03-22T11:25:57.557Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["Enterprise Edition","Quality","backend","devops::plan","single codebase","test"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":1,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10141","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10141","notes":"https://gitlab.com/api/v4/projects/278964/issues/10141/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10141/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10141","relative":"#10141","full":"gitlab-org/gitlab#10141"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":557,"epic":{"id":2152,"iid":557,"title":"Move all EE specific backend code to the ee/ directory","url":"/groups/gitlab-org/-/epics/557","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18720305,"iid":10139,"project_id":278964,"title":"Extract EE specific files/lines for Manage spec/requests/api","description":"We have the following files containing EE specific code. We should move them to ee/\n\n\u003cdetails\u003e\n\u003csummary\u003espec/requests/api/groups_spec.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/requests/api/groups_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/groups_spec.rb\nindex 7176bc23e34..df120b91ea1 100644\n--- a/spec/requests/api/groups_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/groups_spec.rb\n@@ -16,6 +16,7 @@ describe API::Groups do\n   before do\n     group1.add_owner(user1)\n     group2.add_owner(user2)\n+    group1.ldap_group_links.create cn: 'ldap-group', group_access: Gitlab::Access::MAINTAINER, provider: 'ldap'\n   end\n \n   describe \"GET /groups\" do\n@@ -57,6 +58,19 @@ describe API::Groups do\n         expect(json_response.length).to eq(1)\n         expect(json_response)\n           .to satisfy_one { |group| group['name'] == group1.name }\n+\n+        expect(json_response)\n+          .to satisfy_one { |group| group['ldap_cn'] == group1.ldap_cn }\n+        expect(json_response)\n+          .to satisfy_one { |group| group['ldap_access'] == group1.ldap_access }\n+\n+        expect(json_response).to satisfy_one do |group|\n+          ldap_group_link = group['ldap_group_links'].first\n+\n+          ldap_group_link['cn'] == group1.ldap_cn \u0026\u0026\n+            ldap_group_link['group_access'] == group1.ldap_access \u0026\u0026\n+            ldap_group_link['provider'] == 'ldap'\n+        end\n       end\n \n       it \"does not include statistics\" do\n@@ -452,6 +466,25 @@ describe API::Groups do\n \n         expect(response).to have_gitlab_http_status(404)\n       end\n+\n+      # EE\n+      it 'returns 403 for updating shared_runners_minutes_limit' do\n+        expect do\n+          put api(\"/groups/#{group1.id}\", user1), params: { shared_runners_minutes_limit: 133 }\n+        end.not_to change { group1.shared_runners_minutes_limit }\n+\n+        expect(response).to have_gitlab_http_status(403)\n+      end\n+\n+      it 'returns 200 if shared_runners_minutes_limit is not changing' do\n+        group1.update(shared_runners_minutes_limit: 133)\n+\n+        expect do\n+          put api(\"/groups/#{group1.id}\", user1), params: { shared_runners_minutes_limit: 133 }\n+        end.not_to change { group1.shared_runners_minutes_limit }\n+\n+        expect(response).to have_gitlab_http_status(200)\n+      end\n     end\n \n     context 'when authenticated as the admin' do\n@@ -461,6 +494,17 @@ describe API::Groups do\n         expect(response).to have_gitlab_http_status(200)\n         expect(json_response['name']).to eq(new_group_name)\n       end\n+\n+      # EE\n+      it 'updates the group for shared_runners_minutes_limit' do\n+        expect do\n+          put api(\"/groups/#{group1.id}\", admin), params: { shared_runners_minutes_limit: 133 }\n+        end.to change { group1.reload.shared_runners_minutes_limit }\n+          .from(nil).to(133)\n+\n+        expect(response).to have_gitlab_http_status(200)\n+        expect(json_response['shared_runners_minutes_limit']).to eq(133)\n+      end\n     end\n \n     context 'when authenticated as an user that can see the group' do\n@@ -855,6 +899,42 @@ describe API::Groups do\n \n         expect(response).to have_gitlab_http_status(400)\n       end\n+\n+      it \"creates an ldap_group_link if ldap_cn and ldap_access are supplied\" do\n+        group_attributes = attributes_for(:group, ldap_cn: 'ldap-group', ldap_access: Gitlab::Access::DEVELOPER)\n+        expect { post api(\"/groups\", admin), params: group_attributes }.to change { LdapGroupLink.count }.by(1)\n+      end\n+\n+      # EE\n+      context 'when shared_runners_minutes_limit is given' do\n+        context 'when the current user is not an admin' do\n+          it \"does not create a group with shared_runners_minutes_limit\" do\n+            group = attributes_for(:group, { shared_runners_minutes_limit: 133 })\n+\n+            expect do\n+              post api(\"/groups\", user3), params: group\n+            end.not_to change { Group.count }\n+\n+            expect(response).to have_gitlab_http_status(403)\n+          end\n+        end\n+\n+        context 'when the current user is an admin' do\n+          it \"creates a group with shared_runners_minutes_limit\" do\n+            group = attributes_for(:group, { shared_runners_minutes_limit: 133 })\n+\n+            expect do\n+              post api(\"/groups\", admin), params: group\n+            end.to change { Group.count }.by(1)\n+\n+            created_group = Group.find(json_response['id'])\n+\n+            expect(created_group.shared_runners_minutes_limit).to eq(133)\n+            expect(response).to have_gitlab_http_status(201)\n+            expect(json_response['shared_runners_minutes_limit']).to eq(133)\n+          end\n+        end\n+      end\n     end\n   end\n \n@@ -981,4 +1061,100 @@ describe API::Groups do\n       group2.add_owner(user1)\n     end\n   end\n+\n+  describe 'POST /groups/:id/ldap_sync' do\n+    before do\n+      allow(Gitlab::Auth::LDAP::Config).to receive(:enabled?).and_return(true)\n+    end\n+\n+    context 'when the ldap_group_sync feature is available' do\n+      before do\n+        stub_licensed_features(ldap_group_sync: true)\n+      end\n+\n+      context 'when authenticated as the group owner' do\n+        context 'when the group is ready to sync' do\n+          it 'returns 202 Accepted' do\n+            ldap_sync(group1.id, user1, :disable!)\n+            expect(response).to have_gitlab_http_status(202)\n+          end\n+\n+          it 'queues a sync job' do\n+            expect { ldap_sync(group1.id, user1, :fake!) }.to change(LdapGroupSyncWorker.jobs, :size).by(1)\n+          end\n+\n+          it 'sets the ldap_sync state to pending' do\n+            ldap_sync(group1.id, user1, :disable!)\n+            expect(group1.reload.ldap_sync_pending?).to be_truthy\n+          end\n+        end\n+\n+        context 'when the group is already pending a sync' do\n+          before do\n+            group1.pending_ldap_sync!\n+          end\n+\n+          it 'returns 202 Accepted' do\n+            ldap_sync(group1.id, user1, :disable!)\n+            expect(response).to have_gitlab_http_status(202)\n+          end\n+\n+          it 'does not queue a sync job' do\n+            expect { ldap_sync(group1.id, user1, :fake!) }.not_to change(LdapGroupSyncWorker.jobs, :size)\n+          end\n+\n+          it 'does not change the ldap_sync state' do\n+            expect do\n+              ldap_sync(group1.id, user1, :disable!)\n+            end.not_to change { group1.reload.ldap_sync_status }\n+          end\n+        end\n+\n+        it 'returns 404 for a non existing group' do\n+          ldap_sync(1328, user1, :disable!)\n+          expect(response).to have_gitlab_http_status(404)\n+        end\n+      end\n+\n+      context 'when authenticated as the admin' do\n+        it 'returns 202 Accepted' do\n+          ldap_sync(group1.id, admin, :disable!)\n+          expect(response).to have_gitlab_http_status(202)\n+        end\n+      end\n+\n+      context 'when authenticated as a non-owner user that can see the group' do\n+        it 'returns 403' do\n+          ldap_sync(group1.id, user2, :disable!)\n+          expect(response).to have_gitlab_http_status(403)\n+        end\n+      end\n+\n+      context 'when authenticated as an user that cannot see the group' do\n+        it 'returns 404' do\n+          ldap_sync(group2.id, user1, :disable!)\n+\n+          expect(response).to have_gitlab_http_status(404)\n+        end\n+      end\n+    end\n+\n+    context 'when the ldap_group_sync feature is not available' do\n+      before do\n+        stub_licensed_features(ldap_group_sync: false)\n+      end\n+\n+      it 'returns 404 (same as CE would)' do\n+        ldap_sync(group1.id, admin, :disable!)\n+\n+        expect(response).to have_gitlab_http_status(404)\n+      end\n+    end\n+  end\n+\n+  def ldap_sync(group_id, user, sidekiq_testing_method)\n+    Sidekiq::Testing.send(sidekiq_testing_method) do\n+      post api(\"/groups/#{group_id}/ldap_sync\", user)\n+    end\n+  end\n end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/requests/api/members_spec.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/requests/api/members_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/members_spec.rb\nindex 79edbb301f2..3e73ea3f7f8 100644\n--- a/spec/requests/api/members_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/members_spec.rb\n@@ -293,6 +293,23 @@ describe API::Members do\n     end\n   end\n \n+  ## EE specific\n+  shared_examples 'POST /projects/:id/members with the project group membership locked' do\n+    context 'project in a group' do\n+      it 'returns a 405 method not allowed error when group membership lock is enabled' do\n+        group_with_membership_locked = create(:group, membership_lock: true)\n+        project = create(:project, group: group_with_membership_locked)\n+        project.group.add_owner(maintainer)\n+\n+        post api(\"/projects/#{project.id}/members\", maintainer),\n+             params: { user_id: developer.id, access_level: Member::MAINTAINER }\n+\n+        expect(response.status).to eq 405\n+      end\n+    end\n+  end\n+  ## EE specific\n+\n   shared_examples 'PUT /:source_type/:id/members/:user_id' do |source_type|\n     context \"with :source_type == #{source_type.pluralize}\" do\n       it_behaves_like 'a 404 response when source is private' do\n@@ -433,6 +450,10 @@ describe API::Members do\n     let(:source) { project }\n   end\n \n+  ## EE specific\n+  it_behaves_like 'POST /projects/:id/members with the project group membership locked'\n+  ## EE specific\n+\n   it_behaves_like 'POST /:source_type/:id/members', 'group' do\n     let(:source) { group }\n   end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/requests/api/projects_spec.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/requests/api/projects_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/projects_spec.rb\nindex 792abdb2972..ecfb84cd4ab 100644\n--- a/spec/requests/api/projects_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/projects_spec.rb\n@@ -4,15 +4,6 @@ require 'spec_helper'\n shared_examples 'languages and percentages JSON response' do\n   let(:expected_languages) { project.repository.languages.map { |language| language.values_at(:label, :value)}.to_h }\n \n-  before do\n-    allow(project.repository).to receive(:languages).and_return(\n-      [{ value: 66.69, label: \"Ruby\", color: \"#701516\", highlight: \"#701516\" },\n-       { value: 22.98, label: \"JavaScript\", color: \"#f1e05a\", highlight: \"#f1e05a\" },\n-       { value: 7.91, label: \"HTML\", color: \"#e34c26\", highlight: \"#e34c26\" },\n-       { value: 2.42, label: \"CoffeeScript\", color: \"#244776\", highlight: \"#244776\" }]\n-    )\n-  end\n-\n   it 'returns expected language values' do\n     get api(\"/projects/#{project.id}/languages\", user)\n \n@@ -20,23 +11,6 @@ shared_examples 'languages and percentages JSON response' do\n     expect(json_response).to eq(expected_languages)\n     expect(json_response.count).to be \u003e 1\n   end\n-\n-  context 'when the languages were detected before' do\n-    before do\n-      Projects::DetectRepositoryLanguagesService.new(project, project.owner).execute\n-    end\n-\n-    it 'returns the detection from the database' do\n-      # Allow this to happen once, so the expected languages can be determined\n-      expect(project.repository).to receive(:languages).once\n-\n-      get api(\"/projects/#{project.id}/languages\", user)\n-\n-      expect(response).to have_gitlab_http_status(:ok)\n-      expect(json_response).to eq(expected_languages)\n-      expect(json_response.count).to be \u003e 1\n-    end\n-  end\n end\n \n describe API::Projects do\n@@ -981,7 +955,56 @@ describe API::Projects do\n       end\n     end\n \n-    context 'when authenticated' do\n+    context 'when authenticated as an admin' do\n+      it 'returns a project by id including repository_storage' do\n+        project\n+        project_member\n+        group = create(:group)\n+        link = create(:project_group_link, project: project, group: group)\n+\n+        get api(\"/projects/#{project.id}\", admin)\n+\n+        expect(response).to have_gitlab_http_status(200)\n+        expect(json_response['id']).to eq(project.id)\n+        expect(json_response['description']).to eq(project.description)\n+        expect(json_response['default_branch']).to eq(project.default_branch)\n+        expect(json_response['tag_list']).to be_an Array\n+        expect(json_response['archived']).to be_falsey\n+        expect(json_response['visibility']).to be_present\n+        expect(json_response['ssh_url_to_repo']).to be_present\n+        expect(json_response['http_url_to_repo']).to be_present\n+        expect(json_response['web_url']).to be_present\n+        expect(json_response['owner']).to be_a Hash\n+        expect(json_response['owner']).to be_a Hash\n+        expect(json_response['name']).to eq(project.name)\n+        expect(json_response['path']).to be_present\n+        expect(json_response['issues_enabled']).to be_present\n+        expect(json_response['merge_requests_enabled']).to be_present\n+        expect(json_response['wiki_enabled']).to be_present\n+        expect(json_response['jobs_enabled']).to be_present\n+        expect(json_response['snippets_enabled']).to be_present\n+        expect(json_response['container_registry_enabled']).to be_present\n+        expect(json_response['created_at']).to be_present\n+        expect(json_response['last_activity_at']).to be_present\n+        expect(json_response['shared_runners_enabled']).to be_present\n+        expect(json_response['creator_id']).to be_present\n+        expect(json_response['namespace']).to be_present\n+        expect(json_response['avatar_url']).to be_nil\n+        expect(json_response['star_count']).to be_present\n+        expect(json_response['forks_count']).to be_present\n+        expect(json_response['public_jobs']).to be_present\n+        expect(json_response['shared_with_groups']).to be_an Array\n+        expect(json_response['shared_with_groups'].length).to eq(1)\n+        expect(json_response['shared_with_groups'][0]['group_id']).to eq(group.id)\n+        expect(json_response['shared_with_groups'][0]['group_name']).to eq(group.name)\n+        expect(json_response['shared_with_groups'][0]['group_access_level']).to eq(link.group_access)\n+        expect(json_response['only_allow_merge_if_pipeline_succeeds']).to eq(project.only_allow_merge_if_pipeline_succeeds)\n+        expect(json_response['only_allow_merge_if_all_discussions_are_resolved']).to eq(project.only_allow_merge_if_all_discussions_are_resolved)\n+        expect(json_response['repository_storage']).to eq(project.repository_storage)\n+      end\n+    end\n+\n+    context 'when authenticated as a regular user' do\n       before do\n         project\n         project_member\n@@ -1037,6 +1060,7 @@ describe API::Projects do\n         expect(json_response['only_allow_merge_if_all_discussions_are_resolved']).to eq(project.only_allow_merge_if_all_discussions_are_resolved)\n         expect(json_response['merge_method']).to eq(project.merge_method.to_s)\n         expect(json_response['readme_url']).to eq(project.readme_url)\n+        expect(json_response).not_to have_key('repository_storage')\n       end\n \n       it 'returns a group link with expiration date' do\n@@ -1577,6 +1601,13 @@ describe API::Projects do\n         expect(project.project_group_links).to be_empty\n       end\n \n+      it 'returns 204 when deleting a group share' do\n+        delete api(\"/projects/#{project.id}/share/#{group.id}\", user)\n+\n+        expect(response).to have_gitlab_http_status(204)\n+        expect(project.project_group_links).to be_empty\n+      end\n+\n       it_behaves_like '412 response' do\n         let(:request) { api(\"/projects/#{project.id}/share/#{group.id}\", user) }\n       end\n@@ -1690,6 +1721,15 @@ describe API::Projects do\n         expect(json_response['request_access_enabled']).to eq(false)\n       end\n \n+      it 'updates approvals_before_merge' do\n+        project_param = { approvals_before_merge: 3 }\n+\n+        put api(\"/projects/#{project.id}\", user), params: project_param\n+\n+        expect(response).to have_gitlab_http_status(200)\n+        expect(json_response['approvals_before_merge']).to eq(3)\n+      end\n+\n       it 'updates path \u0026 name to existing path \u0026 name in different namespace' do\n         project_param = { path: project4.path, name: project4.name }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/requests/api/services_spec.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/requests/api/services_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/services_spec.rb\nindex e260aa21e25..7f25e8dbd0a 100644\n--- a/spec/requests/api/services_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/services_spec.rb\n@@ -198,4 +198,21 @@ describe API::Services do\n       expect(json_response['properties']['username']).to eq('new_username')\n     end\n   end\n+\n+  describe 'Slack application Service' do\n+    before do\n+      project.create_gitlab_slack_application_service\n+\n+      stub_application_setting(\n+        slack_app_verification_token: 'token'\n+      )\n+    end\n+\n+    it 'returns status 200' do\n+      post api('/slack/trigger'), params: { token: 'token', text: 'help' }\n+\n+      expect(response).to have_gitlab_http_status(200)\n+      expect(json_response['response_type']).to eq(\"ephemeral\")\n+    end\n+  end\n end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/requests/api/settings_spec.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/requests/api/settings_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/settings_spec.rb\nindex f33eb5b9e02..3304e75c1bb 100644\n--- a/spec/requests/api/settings_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/settings_spec.rb\n@@ -13,6 +13,7 @@ describe API::Settings, 'Settings' do\n       expect(json_response['default_projects_limit']).to eq(42)\n       expect(json_response['password_authentication_enabled_for_web']).to be_truthy\n       expect(json_response['repository_storages']).to eq(['default'])\n+      expect(json_response['password_authentication_enabled']).to be_truthy\n       expect(json_response['plantuml_enabled']).to be_falsey\n       expect(json_response['plantuml_url']).to be_nil\n       expect(json_response['default_project_visibility']).to be_a String\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003espec/requests/api/users_spec.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/requests/api/users_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/users_spec.rb\nindex b381431306d..1b337f42042 100644\n--- a/spec/requests/api/users_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/requests/api/users_spec.rb\n@@ -269,6 +269,17 @@ describe API::Users do\n         expect(response).to have_gitlab_http_status(400)\n       end\n     end\n+\n+    context \"when authenticated and ldap is enabled\" do\n+      it \"returns non-ldap user\" do\n+        create :omniauth_user, provider: \"ldapserver1\"\n+        get api(\"/users\", user), params: { skip_ldap: \"true\" }\n+        expect(response).to have_gitlab_http_status(200)\n+        expect(json_response).to be_an Array\n+        username = user.username\n+        expect(json_response.first[\"username\"]).to eq username\n+      end\n+    end\n   end\n \n   describe \"GET /users/:id\" do\n@@ -613,10 +624,13 @@ describe API::Users do\n     end\n \n     it \"updates user with new password and forces reset on next login\" do\n+      stub_licensed_features(extended_audit_events: true)\n+\n       put api(\"/users/#{user.id}\", admin), params: { password: '12345678' }\n \n       expect(response).to have_gitlab_http_status(200)\n       expect(user.reload.password_expires_at).to be \u003c= Time.now\n+      expect(AuditEvent.count).to eq(1)\n     end\n \n     it \"updates user with organization\" do\n@@ -706,6 +720,17 @@ describe API::Users do\n       expect(user.reload.private_profile).to eq(true)\n     end\n \n+    # EE\n+    it \"updates shared_runners_minutes_limit\" do\n+      expect do\n+        put api(\"/users/#{user.id}\", admin), params: { shared_runners_minutes_limit: 133 }\n+      end.to change { user.reload.shared_runners_minutes_limit }\n+        .from(nil).to(133)\n+\n+      expect(response).to have_gitlab_http_status(200)\n+      expect(json_response['shared_runners_minutes_limit']).to eq(133)\n+    end\n+\n     it \"does not update admin status\" do\n       put api(\"/users/#{admin_user.id}\", admin), params: { can_create_group: false }\n \n@@ -729,6 +754,14 @@ describe API::Users do\n \n         expect(response).to have_gitlab_http_status(403)\n       end\n+\n+      it \"cannot update their own shared_runners_minutes_limit\" do\n+        expect do\n+          put api(\"/users/#{user.id}\", user), params: { shared_runners_minutes_limit: 133 }\n+        end.not_to change { user.reload.shared_runners_minutes_limit }\n+\n+        expect(response).to have_gitlab_http_status(403)\n+      end\n     end\n \n     it \"returns 404 for non-existing user\" do\n```\n\n\u003c/details\u003e\n\u003cbr\u003e\n\nA lot of files but most of them should be able to just move to EE files.","state":"closed","created_at":"2019-03-01T14:28:46.650Z","updated_at":"2019-08-12T15:05:39.817Z","closed_at":"2019-06-02T18:04:11.349Z","closed_by":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","Quality","api","backend","backstage [DEPRECATED]","estimation::completed","missed-deliverable","missed:11.11","priority::3","single codebase","test"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"}],"author":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"type":"ISSUE","assignee":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10139","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10139","notes":"https://gitlab.com/api/v4/projects/278964/issues/10139/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10139/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10139","relative":"#10139","full":"gitlab-org/gitlab#10139"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":557,"epic":{"id":2152,"iid":557,"title":"Move all EE specific backend code to the ee/ directory","url":"/groups/gitlab-org/-/epics/557","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18720231,"iid":10137,"project_id":278964,"title":"Extract EE specific files/lines for Manage lib/api","description":"We have the following files containing EE specific code. We should move them to ee/\n\n\u003cdetails\u003e\n\u003csummary\u003elib/api/groups.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/lib/api/groups.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/api/groups.rb\nindex 64958ff982a..91134ac3d5b 100644\n--- a/lib/api/groups.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/api/groups.rb\n@@ -20,8 +20,17 @@ module API\n         optional :share_with_group_lock, type: Boolean, desc: 'Prevent sharing a project with another group within this group'\n       end\n \n+      params :optional_params_ee do\n+        optional :membership_lock, type: Boolean, desc: 'Prevent adding new members to project membership within this group'\n+        optional :ldap_cn, type: String, desc: 'LDAP Common Name'\n+        optional :ldap_access, type: Integer, desc: 'A valid access level'\n+        optional :shared_runners_minutes_limit, type: Integer, desc: '(admin-only) Pipeline minutes quota for this group'\n+        all_or_none_of :ldap_cn, :ldap_access\n+      end\n+\n       params :optional_params do\n         use :optional_params_ce\n+        use :optional_params_ee\n       end\n \n       params :statistics_params do\n@@ -48,6 +57,8 @@ module API\n           find_params.fetch(:all_available, current_user\u0026.full_private_access?)\n \n         groups = GroupsFinder.new(current_user, find_params).execute\n+        # EE-only\n+        groups = groups.preload(:ldap_group_links)\n         groups = groups.search(params[:search]) if params[:search].present?\n         groups = groups.where.not(id: params[:skip_groups]) if params[:skip_groups].present?\n         order_options = { params[:order_by] =\u003e params[:sort] }\n@@ -127,9 +138,25 @@ module API\n           authorize! :create_group\n         end\n \n+        ldap_link_attrs = {\n+          cn: params.delete(:ldap_cn),\n+          group_access: params.delete(:ldap_access)\n+        }\n+\n+        # EE\n+        authenticated_as_admin! if params[:shared_runners_minutes_limit]\n+\n         group = ::Groups::CreateService.new(current_user, declared_params(include_missing: false)).execute\n \n         if group.persisted?\n+          # NOTE: add backwards compatibility for single ldap link\n+          if ldap_link_attrs[:cn].present?\n+            group.ldap_group_links.create(\n+              cn: ldap_link_attrs[:cn],\n+              group_access: ldap_link_attrs[:group_access]\n+            )\n+          end\n+\n           present group, with: Entities::GroupDetail, current_user: current_user\n         else\n           render_api_error!(\"Failed to save group #{group.errors.messages}\", 400)\n@@ -148,11 +175,25 @@ module API\n         optional :name, type: String, desc: 'The name of the group'\n         optional :path, type: String, desc: 'The path of the group'\n         use :optional_params\n+\n+        # EE\n+        optional :file_template_project_id, type: Integer, desc: 'The ID of a project to use for custom templates in this group'\n       end\n       put ':id' do\n         group = find_group!(params[:id])\n         authorize! :admin_group, group\n \n+        # Begin EE-specific block\n+        if params[:shared_runners_minutes_limit].present? \u0026\u0026\n+            group.shared_runners_minutes_limit.to_i !=\n+                params[:shared_runners_minutes_limit].to_i\n+          authenticated_as_admin!\n+        end\n+\n+        params.delete(:file_template_project_id) unless\n+          group.feature_available?(:custom_file_templates_for_namespace)\n+        # End EE-specific block\n+\n         if ::Groups::UpdateService.new(group, current_user, declared_params(include_missing: false)).execute\n           present group, with: Entities::GroupDetail, current_user: current_user\n         else\n@@ -182,6 +223,8 @@ module API\n \n       desc 'Remove a group.'\n       delete \":id\" do\n+        Gitlab::QueryLimiting.whitelist('https://gitlab.com/gitlab-org/gitlab-ee/issues/4795')\n+\n         group = find_group!(params[:id])\n         authorize! :admin_group, group\n \n@@ -260,6 +303,20 @@ module API\n           render_api_error!(\"Failed to transfer project #{project.errors.messages}\", 400)\n         end\n       end\n+\n+      desc 'Sync a group with LDAP.'\n+      post \":id/ldap_sync\" do\n+        not_found! unless Gitlab::Auth::LDAP::Config.group_sync_enabled?\n+\n+        group = find_group!(params[:id])\n+        authorize! :admin_group, group\n+\n+        if group.pending_ldap_sync\n+          LdapGroupSyncWorker.perform_async(group.id)\n+        end\n+\n+        status 202\n+      end\n     end\n   end\n end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003elib/api/projects.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/lib/api/projects.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/api/projects.rb\nindex b23fe6cd4e7..188daf7bff8 100644\n--- a/lib/api/projects.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/api/projects.rb\n@@ -35,6 +35,8 @@ module API\n       end\n     end\n \n+    prepend EE::API::Projects # rubocop: disable Cop/InjectEnterpriseEditionModule\n+\n     def self.update_params_at_least_one_of\n       [\n         :jobs_enabled,\n@@ -313,6 +315,7 @@ module API\n         optional :path, type: String, desc: 'The path of the repository'\n \n         use :optional_project_params\n+        use :optional_update_params_ee\n \n         at_least_one_of(*::API::Projects.update_params_at_least_one_of)\n       end\n@@ -388,11 +391,7 @@ module API\n \n       desc 'Get languages in project repository'\n       get ':id/languages' do\n-        if user_project.repository_languages.present?\n-          user_project.repository_languages.map { |l| [l.name, l.share] }.to_h\n-        else\n-          user_project.repository.languages.map { |language| language.values_at(:label, :value) }.to_h\n-        end\n+        user_project.repository.languages.map { |language| language.values_at(:label, :value) }.to_h\n       end\n \n       desc 'Remove a project'\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003elib/api/services.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/lib/api/services.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/api/services.rb\nindex 145897516a0..9015f6590f2 100644\n--- a/lib/api/services.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/api/services.rb\n@@ -191,7 +191,7 @@ module API\n           required: true,\n           name: :password,\n           type: String,\n-          desc: 'Passord of the user'\n+          desc: 'Password of the user'\n         }\n       ],\n       'bugzilla' =\u003e [\n@@ -435,7 +435,6 @@ module API\n           desc: 'The ID of a transition that moves issues to a closed state. You can find this number under the JIRA workflow administration (**Administration \u003e Issues \u003e Workflows**) by selecting **View** under **Operations** of the desired workflow of your project. The ID of each state can be found inside the parenthesis of each transition name under the **Transitions (id)** column ([see screenshot][trans]). By default, this ID is set to `2`'\n         }\n       ],\n-\n       'kubernetes' =\u003e [\n         {\n           required: true,\n@@ -637,6 +636,67 @@ module API\n           type: String,\n           desc: 'The password of the user'\n         }\n+      ],\n+      # EE-specific services\n+      'github' =\u003e [\n+        {\n+          required: true,\n+          name: :token,\n+          type: String,\n+          desc: 'GitHub API token with repo:status OAuth scope'\n+        },\n+        {\n+          required: true,\n+          name: :repository_url,\n+          type: String,\n+          desc: \"GitHub repository URL\"\n+        }\n+      ],\n+      'jenkins' =\u003e [\n+        {\n+          required: true,\n+          name: :jenkins_url,\n+          type: String,\n+          desc: 'Jenkins root URL like https://jenkins.example.com'\n+        },\n+        {\n+          required: true,\n+          name: :project_name,\n+          type: String,\n+          desc: 'The URL-friendly project name. Example: my_project_name'\n+        },\n+        {\n+          required: false,\n+          name: :username,\n+          type: String,\n+          desc: 'A user with access to the Jenkins server, if applicable'\n+        },\n+        {\n+          required: false,\n+          name: :password,\n+          type: String,\n+          desc: 'The password of the user'\n+        }\n+      ],\n+      'jenkins-deprecated' =\u003e [\n+        {\n+          required: true,\n+          name: :project_url,\n+          type: String,\n+          desc: 'Jenkins project URL like http://jenkins.example.com/job/my-project/'\n+        },\n+        {\n+          required: false,\n+          name: :pass_unstable,\n+          type: Boolean,\n+          desc: 'Multi-project setup enabled?'\n+        },\n+        {\n+          required: false,\n+          name: :multiproject_enabled,\n+          type: Boolean,\n+          desc: 'Should unstable builds be treated as passing?'\n+        }\n       ]\n     }\n \n@@ -653,6 +713,7 @@ module API\n       EmailsOnPushService,\n       ExternalWikiService,\n       FlowdockService,\n+      GithubService,\n       HangoutsChatService,\n       IrkerService,\n       JiraService,\n@@ -668,7 +729,9 @@ module API\n       SlackService,\n       MattermostService,\n       MicrosoftTeamsService,\n-      TeamcityService\n+      TeamcityService,\n+      JenkinsService,\n+      JenkinsDeprecatedService\n     ]\n \n     if Rails.env.development?\n@@ -831,5 +894,17 @@ module API\n         end\n       end\n     end\n+\n+    desc \"Trigger a global slack command\" do\n+      detail 'Added in GitLab 9.4'\n+    end\n+    post 'slack/trigger' do\n+      if result = SlashCommands::GlobalSlackHandler.new(params).trigger\n+        status result[:status] || 200\n+        present result\n+      else\n+        not_found!\n+      end\n+    end\n   end\n end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003elib/api/settings.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/lib/api/settings.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/api/settings.rb\nindex b16faffe335..2c21d830912 100644\n--- a/lib/api/settings.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/api/settings.rb\n@@ -95,8 +95,8 @@ module API\n       optional :prometheus_metrics_enabled, type: Boolean, desc: 'Enable Prometheus metrics'\n       optional :recaptcha_enabled, type: Boolean, desc: 'Helps prevent bots from creating accounts'\n       given recaptcha_enabled: -\u003e(val) { val } do\n-        requires :recaptcha_site_key, type: String, desc: 'Generate site key at http://www.google.com/recaptcha'\n         requires :recaptcha_private_key, type: String, desc: 'Generate private key at http://www.google.com/recaptcha'\n+        requires :recaptcha_site_key, type: String, desc: 'Generate site key at http://www.google.com/recaptcha'\n       end\n       optional :repository_checks_enabled, type: Boolean, desc: \"GitLab will periodically run 'git fsck' in all project and wiki repositories to look for silent disk corruption issues.\"\n       optional :repository_storages, type: Array[String], desc: 'Storage paths for new projects'\n@@ -130,11 +130,42 @@ module API\n                  desc: \"Restrictions on the complexity of uploaded #{type.upcase} keys. A value of #{ApplicationSetting::FORBIDDEN_KEY_VALUE} disables all #{type.upcase} keys.\"\n       end\n \n+      ## EE-only START\n+      optional :elasticsearch_aws, type: Boolean, desc: 'Enable support for AWS hosted elasticsearch'\n+      given elasticsearch_aws: -\u003e(val) { val } do\n+        optional :elasticsearch_aws_access_key, type: String, desc: 'AWS IAM access key'\n+        requires :elasticsearch_aws_region, type: String, desc: 'The AWS region the elasticsearch domain is configured'\n+        optional :elasticsearch_aws_secret_access_key, type: String, desc: 'AWS IAM secret access key'\n+      end\n+      optional :elasticsearch_indexing, type: Boolean, desc: 'Enable Elasticsearch indexing'\n+      given elasticsearch_indexing: -\u003e(val) { val } do\n+        optional :elasticsearch_search, type: Boolean, desc: 'Enable Elasticsearch search'\n+        requires :elasticsearch_url, type: String, desc: 'The url to use for connecting to Elasticsearch. Use a comma-separated list to support clustering (e.g., \"http://localhost:9200, http://localhost:9201\")'\n+      end\n+      optional :email_additional_text, type: String, desc: 'Additional text added to the bottom of every email for legal/auditing/compliance reasons'\n+      optional :help_text, type: String, desc: 'GitLab server administrator information'\n+      optional :repository_size_limit, type: Integer, desc: 'Size limit per repository (MB)'\n+      optional :file_template_project_id, type: Integer, desc: 'ID of project where instance-level file templates are stored.'\n+      optional :repository_storages, type: Array[String], desc: 'A list of names of enabled storage paths, taken from `gitlab.yml`. New projects will be created in one of these stores, chosen at random.'\n+      optional :snowplow_enabled, type: Boolean, desc: 'Enable Snowplow'\n+      given snowplow_enabled: -\u003e(val) { val } do\n+        requires :snowplow_collector_uri, type: String, desc: 'Snowplow Collector URI'\n+        optional :snowplow_cookie_domain, type: String, desc: 'Snowplow cookie domain'\n+        optional :snowplow_site_id, type: String, desc: 'Snowplow Site/Application ID'\n+      end\n+      optional :usage_ping_enabled, type: Boolean, desc: 'Every week GitLab will report license usage back to GitLab, Inc.'\n+      ## EE-only END\n+\n       optional_attributes = ::ApplicationSettingsHelper.visible_attributes \u003c\u003c :performance_bar_allowed_group_id\n \n+      ## EE-only START\n+      optional_attributes += EE::ApplicationSettingsHelper.possible_licensed_attributes\n+      ## EE-only END\n+\n       optional(*optional_attributes)\n       at_least_one_of(*optional_attributes)\n     end\n+    # rubocop: disable CodeReuse/ActiveRecord\n     put \"application/settings\" do\n       attrs = declared_params(include_missing: false)\n \n@@ -156,11 +187,30 @@ module API\n         attrs[:password_authentication_enabled_for_web] = attrs.delete(:password_authentication_enabled)\n       end\n \n+      ## EE-only START: Remove unlicensed attributes\n+      unless ::License.feature_available?(:repository_mirrors)\n+        attrs = attrs.except(*::EE::ApplicationSettingsHelper.repository_mirror_attributes)\n+      end\n+\n+      unless ::License.feature_available?(:external_authorization_service)\n+        attrs = attrs.except(*::EE::ApplicationSettingsHelper.external_authorization_service_attributes)\n+      end\n+\n+      unless ::License.feature_available?(:email_additional_text)\n+        attrs = attrs.except(:email_additional_text)\n+      end\n+\n+      unless ::License.feature_available?(:custom_file_templates)\n+        attrs = attrs.except(:file_template_project_id)\n+      end\n+      ## EE-only END: Remove unlicensed attributes\n+\n       if ApplicationSettings::UpdateService.new(current_settings, current_user, attrs).execute\n         present current_settings, with: Entities::ApplicationSetting\n       else\n         render_validation_error!(current_settings)\n       end\n     end\n+    # rubocop: enable CodeReuse/ActiveRecord\n   end\n end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003elib/api/users.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/lib/api/users.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/api/users.rb\nindex 7d88880d412..ada12b472c5 100644\n--- a/lib/api/users.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/lib/api/users.rb\n@@ -51,6 +51,9 @@ module API\n           optional :avatar, type: File, desc: 'Avatar image for user'\n           optional :private_profile, type: Boolean, desc: 'Flag indicating the user has a private profile'\n           all_or_none_of :extern_uid, :provider\n+\n+          # EE\n+          optional :shared_runners_minutes_limit, type: Integer, desc: 'Pipeline minutes quota for this user'\n         end\n \n         params :sort_params do\n@@ -80,6 +83,9 @@ module API\n         use :sort_params\n         use :pagination\n         use :with_custom_attributes\n+\n+        # EE\n+        optional :skip_ldap, type: Boolean, default: false, desc: 'Skip LDAP users'\n       end\n       # rubocop: disable CodeReuse/ActiveRecord\n       get do\n```\n\n\u003c/details\u003e","state":"closed","created_at":"2019-03-01T14:26:04.046Z","updated_at":"2019-08-12T15:05:39.793Z","closed_at":"2019-06-02T18:03:49.142Z","closed_by":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","Quality","api","backend","backstage [DEPRECATED]","estimation::completed","missed-deliverable","missed:11.11","priority::3","single codebase"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"}],"author":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"type":"ISSUE","assignee":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10137","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10137","notes":"https://gitlab.com/api/v4/projects/278964/issues/10137/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10137/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10137","relative":"#10137","full":"gitlab-org/gitlab#10137"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18720081,"iid":10136,"project_id":278964,"title":"Extract EE specific files/lines for Plan spec/lib/gitlab","description":"We have the following files containing EE specific code. We should move them to ee/\n\n\u003cdetails\u003e\n\u003csummary\u003espec/lib/gitlab/reference_extractor_spec.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/lib/gitlab/reference_extractor_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/reference_extractor_spec.rb\nindex 4139d1c650c..186893ad971 100644\n--- a/spec/lib/gitlab/reference_extractor_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/lib/gitlab/reference_extractor_spec.rb\n@@ -1,10 +1,11 @@\n require 'spec_helper'\n \n describe Gitlab::ReferenceExtractor do\n-  let(:project) { create(:project) }\n+  let(:group)   { create(:group) }\n+  let(:project) { create(:project, group: group) }\n \n   before do\n-    project.add_developer(project.creator)\n+    group.add_developer(project.creator)\n   end\n \n   subject { described_class.new(project, project.creator) }\n@@ -162,6 +163,20 @@ describe Gitlab::ReferenceExtractor do\n     expect(subject.snippets).to match_array([@s0, @s1])\n   end\n \n+  it 'accesses valid epics' do\n+    stub_licensed_features(epics: true)\n+\n+    @e0 = create(:epic, group: group)\n+    @e1 = create(:epic, group: group)\n+    @e2 = create(:epic, group: create(:group, :private))\n+\n+    text = \"#{@e0.to_reference(group, full: true)}, \u0026999, #{@e1.to_reference(group, full: true)}, #{@e2.to_reference(group, full: true)}\"\n+\n+    subject.analyze(text, { group: group })\n+\n+    expect(subject.epics).to match_array([@e0, @e1])\n+  end\n+\n   it 'accesses valid commits' do\n     project = create(:project, :repository) { |p| p.add_developer(p.creator) }\n     commit = project.commit('master')\n```\n\n\u003c/details\u003e","state":"closed","created_at":"2019-03-01T14:21:27.806Z","updated_at":"2022-05-19T17:56:22.837Z","closed_at":"2019-03-25T09:12:04.683Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Enterprise Edition","Quality","backend","backstage [DEPRECATED]","devops::plan","single codebase","test"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"}],"author":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"type":"ISSUE","assignee":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10136","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10136","notes":"https://gitlab.com/api/v4/projects/278964/issues/10136/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10136/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10136","relative":"#10136","full":"gitlab-org/gitlab#10136"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":557,"epic":{"id":2152,"iid":557,"title":"Move all EE specific backend code to the ee/ directory","url":"/groups/gitlab-org/-/epics/557","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18719661,"iid":10129,"project_id":278964,"title":"Extract EE specific files/lines for Verify spec/workers","description":"We have the following files containing EE specific code. We should move them to ee/\n\n\u003cdetails\u003e\n\u003csummary\u003espec/workers/expire_pipeline_cache_worker_spec.rb\u003c/summary\u003e\n\n```diff\ndiff --git a/spec/workers/expire_pipeline_cache_worker_spec.rb b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/workers/expire_pipeline_cache_worker_spec.rb\nindex 54c9a69d329..8afcdd0f372 100644\n--- a/spec/workers/expire_pipeline_cache_worker_spec.rb\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/spec/workers/expire_pipeline_cache_worker_spec.rb\n@@ -42,5 +42,34 @@ describe ExpirePipelineCacheWorker do\n \n       subject.perform(pipeline.id)\n     end\n+\n+    context 'when pipeline is triggered by other pipeline' do\n+      let(:pipeline) { create(:ci_empty_pipeline) }\n+      let(:source) { create(:ci_sources_pipeline, pipeline: pipeline) }\n+\n+      it 'updates the cache of dependent pipeline' do\n+        dependent_pipeline_path = \"/#{source.source_project.full_path}/pipelines/#{source.source_pipeline.id}.json\"\n+\n+        allow_any_instance_of(Gitlab::EtagCaching::Store).to receive(:touch)\n+        expect_any_instance_of(Gitlab::EtagCaching::Store).to receive(:touch).with(dependent_pipeline_path)\n+\n+        subject.perform(pipeline.id)\n+      end\n+    end\n+\n+    context 'when pipeline triggered other pipeline' do\n+      let(:pipeline) { create(:ci_empty_pipeline) }\n+      let(:build) { create(:ci_build, pipeline: pipeline) }\n+      let(:source) { create(:ci_sources_pipeline, source_job: build) }\n+\n+      it 'updates the cache of dependent pipeline' do\n+        dependent_pipeline_path = \"/#{source.project.full_path}/pipelines/#{source.pipeline.id}.json\"\n+\n+        allow_any_instance_of(Gitlab::EtagCaching::Store).to receive(:touch)\n+        expect_any_instance_of(Gitlab::EtagCaching::Store).to receive(:touch).with(dependent_pipeline_path)\n+\n+        subject.perform(pipeline.id)\n+      end\n+    end\n   end\n end\n```\n\n\u003c/details\u003e","state":"closed","created_at":"2019-03-01T14:11:47.031Z","updated_at":"2019-08-12T15:05:40.478Z","closed_at":"2019-03-11T10:02:16.155Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Deliverable","Enterprise Edition","Quality","backend","backstage [DEPRECATED]","single codebase","test"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10129","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10129","notes":"https://gitlab.com/api/v4/projects/278964/issues/10129/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10129/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10129","relative":"#10129","full":"gitlab-org/gitlab#10129"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":557,"epic":{"id":2152,"iid":557,"title":"Move all EE specific backend code to the ee/ directory","url":"/groups/gitlab-org/-/epics/557","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18708024,"iid":10123,"project_id":278964,"title":"Document all the available options for Container Scanning","description":"### Problem to solve\n\nOur Container Scanning tool supports options to tweak its behavior.\n\nThe documentation needs to be organized to provide a single point of contact where everything is clearly accessible.\n\nCurrent documentation https://gitlab.com/gitlab-org/security-products/container-scanning\n\n### Proposal\n\nWe need to improve our documentation and provide any supported option (normally via environment variable).\n\nIf we have \"experimental\" options that are not supported, we should document them as well, with a clear statement that they are experimental/unsupported, and may change in the future. This will allow customers to be aware of the case and to take proper actions.\n\n### Who can address the issue\n\n- PM\n    - Prioritize doc changes as part of https://gitlab.com/groups/gitlab-org/-/epics/866\n- Developers \n    - check and provide the matrix of supported options.\n    - test that those options are working (first iteration)\n    - set up automated tests to constantly check those options (second iteration)\n- UX\n    - Check that user journeys are going flawless from problem to solution, through documentation\n- Tech Writers\n    - Help in organizing info so that users can find them and consume easily","state":"closed","created_at":"2019-03-01T08:49:07.820Z","updated_at":"2019-11-18T15:58:02.152Z","closed_at":"2019-10-11T12:03:48.940Z","closed_by":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},"labels":["Category:Container Scanning","Deliverable","Enterprise Edition","backend","devops::secure","docs-only","docs::improvement","documentation","group::composition analysis","missed-deliverable","missed:12.2","type::feature"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},"user_notes_count":12,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10123","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10123","notes":"https://gitlab.com/api/v4/projects/278964/issues/10123/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10123/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10123","relative":"#10123","full":"gitlab-org/gitlab#10123"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":866,"epic":{"id":4668,"iid":866,"title":"Documentation improvements for GitLab Security Features","url":"/groups/gitlab-org/-/epics/866","group_id":9970,"human_readable_end_date":"Feb 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24690458,"iid":27074,"project_id":278964,"title":"PARENT ISSUE: Create Dynamic \"Seats Currently in Use Members List\" for GitLab.com","description":"### Problem to solve\n\nUsers, particularly customers, often ask how they can see/count the number of unique members and see a list of them.\n\n### Target audience\n\nFinance/Billing, Group owner\n\n### Further details\n\nParticularly in the context of GitLab.com, two main reasons they ask for this:\n\n- align with subscription licensing number\n- access management\n\nCurrently, support will pull a report for customers upon request using a rails script. This is also not currently possible with a single API call.\n\n---\n### Proposal\n\nOn the billing page, beneath the current subscription table, create a collapsible list of members who tie to the `Seats currently in use value`.\n\n#### In the table include:\n\n1. Member Name - being address in [MVC](https://gitlab.com/gitlab-org/gitlab/-/issues/216899)\n1. Username - being address in [MVC](https://gitlab.com/gitlab-org/gitlab/-/issues/216899)\n1. Email address - being address in [MVC](https://gitlab.com/gitlab-org/gitlab/-/issues/216899) - only if the email address is publicly available, otherwise display `private`\n1. ~~IP address~~ - not available per legal\n1. Role\n1. Highest Membership Location: The Group/Subgroup/Project where they were added. \n     - Ideally, this value is linkable and takes the user to the members page for that Group/Subgroup/Project.\n\n#### Rules\n\n1. Where a user appears as a member in multiple Groups/Subgroups/Projects:\n     1. Link/display the location where the member has the highest role (where Guest = lowest, Owner = highest)\n     1. If the member's role is the same across multiple Groups/Subgroups/Projects, link/display the highest location in the hierarchy (where Project = lowest, Group = highest)\n1. The data should be updated dynamically as changes to the members in the instance are made. If this is too draining, let's update once a day and include a hover text which states that the table is updated at xx:xx time daily (including the timezone). \n     1. Can we give the user the the ability to manually refresh list with a rate limit?\n\n**Example:**\n\n\u003e\u003e\u003e\n**Group X**: Members = **Red** (role: developer), **Yellow** (role: developer)\n1. **Subgroup 1**: Members = **Red** (role: developer), **Yellow** (role: developer), **Green** (owner)\n2. **Subgroup 2**: Members = **Red** (role: owner), **Yellow** (role: developer)\n     - **Project 000**: Members = **Red** (role: maintainer), **Yellow** (role: developer), **Purple** (maintainer)\n3. **Project YYY**: Members = **Red** (role: developer), **Yellow** (role: developer), **Blue** (reporter)\n\u003e\u003e\u003e\n\nExpected Seats Currently in Use Members List\n\n| Member Name | Role | Highest Membership location | \n| ---      |  :---------:  |:---------:|\n| Red   | Owner   | Subgroup 2   |\n| Yellow   | Developer   |  Group X  | \n| Green   | Owner   |  Subgroup 1  |\n| Purple   | Maintainer   |  Project 000  | \n| Blue   | Reporter   | Project YYY   |\n\n\n\n---\n### Permissions and Security\n\nThis is consistent with what group Owners can already do, but it requires viewing every project members list, or similar calls to the API.\n\n### Documentation\n\nWould need to update:\n\n- [Groups docs](https://docs.gitlab.com/ee/user/group/), currently has nothing on Members list in general, only [adding users to group](https://docs.gitlab.com/ee/user/group/#add-users-to-a-group)\n- [Groups and projects members API](https://docs.gitlab.com/ee/api/members.html)\n\n### What does success look like, and how can we measure that?\n\n- Group owners can match their subscription user count to the group members list via UI or API.\n- Group owners can view which members are part of specific subgroups and projects.\n\n### Workarounds\n\n- Support tool: https://gitlab.com/gitlab-com/support/toolbox/glgl\n- https://gitlab.com/gitlab-org/gitlab/issues/27074#note_257541284\n\n### Links / references\n\n- Most recent customer inquiry (internal): https://gitlab.zendesk.com/agent/tickets/115328\n- [Internal request for report](https://gitlab.com/gitlab-com/support/dotcom/dotcom-escalations/issues/59)","state":"closed","created_at":"2019-02-28T22:37:00.064Z","updated_at":"2022-11-01T04:48:24.992Z","closed_at":"2021-02-22T17:25:58.742Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Deliverable","GitLab.com Priority","SMB:EMEA\u0026APAC","Support Priority","auto updated","customer","devops::fulfillment","gitlab.com","internal customer","link::parent issue","popular proposal","potential proposal","section::fulfillment","type::feature"],"milestone":null,"assignees":[],"author":{"id":2454149,"username":"cynthia","name":"Cynthia \"Arty\" Ng","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2454149/avatar.png","web_url":"https://gitlab.com/cynthia"},"type":"ISSUE","assignee":null,"user_notes_count":142,"merge_requests_count":0,"upvotes":104,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27074","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27074","notes":"https://gitlab.com/api/v4/projects/278964/issues/27074/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27074/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27074","relative":"#27074","full":"gitlab-org/gitlab#27074"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3219,"epic":{"id":50576,"iid":3219,"title":"Improve user management for admins and group owners","url":"/groups/gitlab-org/-/epics/3219","group_id":9970,"human_readable_end_date":"Apr 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18694166,"iid":10110,"project_id":278964,"title":"Geo: project should leave pool repository on secondary","description":"If a source project unlinks on the primary, it should also unlink on the secondary","state":"closed","created_at":"2019-02-28T20:05:37.969Z","updated_at":"2019-12-11T20:20:21.042Z","closed_at":"2019-04-02T18:03:49.438Z","closed_by":{"id":668120,"username":"johncai","name":"John Cai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/668120/avatar.png","web_url":"https://gitlab.com/johncai"},"labels":["Enterprise Edition","[deprecated] Accepting merge requests","auto updated","devops::systems","git object deduplication","group::geo"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[],"author":{"id":668120,"username":"johncai","name":"John Cai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/668120/avatar.png","web_url":"https://gitlab.com/johncai"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10110","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10110","notes":"https://gitlab.com/api/v4/projects/278964/issues/10110/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10110/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10110","relative":"#10110","full":"gitlab-org/gitlab#10110"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":189,"epic":{"id":385,"iid":189,"title":"Create forks of public projects with deduplicated Git objects","url":"/groups/gitlab-org/-/epics/189","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24690451,"iid":27072,"project_id":278964,"title":"Specify images that should NOT be deleted as part of the Container Registry bulk delete API","description":"### Problem to solve\nFor organizations with many groups and projects it is more efficient to remove old, unused Docker images utilizing the [bulk tag deletion API](https://docs.gitlab.com/ce/api/container_registry.html#delete-repository-tags-in-bulk). The API will:\n- Remove only the tags matching the given name_regex.\n- Never removes the tag named latest.\n- Keep N latest matching tags (if keep_n is specified).\n- Only remove tags that are older than X amount of time (if older_than is specified).\n- Schedule the asynchronous job to be executed in the background.\n\nHowever, there is currently no way to express something such as \"no matter what, don't delete this tag\". This introduces risk into the deletion process, as it's possible to delete `release` or `master` images. \n\n#### Customer quote:\n\u003e I have many workflows where I have a few tags that periodically move from one image to another (such as \"test\", \"prod\" for example, or the branch name), and many immutable tags (usually the git commit sha). \n\n\u003e In these cases, I would like to be able to specify a whitelist for tags that must not be deleted, while still cleaning normally the others. \n\n### Target audience\n- Sidney (Systems Administrator)\n\n### Further details\n\n#### Attempted workarounds\nI tried working around this limitation by using a [negative lookahead](https://stackoverflow.com/a/1687637/5771067) in my regexp, but since the regexp engine used for untrusted regexps is [RE2](https://github.com/google/re2), it is [pretty limited](https://github.com/google/re2/wiki/Syntax). From what I understand, this is by design, for security purposes.\n\n### Proposal\n- Add an attribute to the [bulk delete API](https://docs.gitlab.com/ee/api/container_registry.html#delete-registry-repository-tags-in-bulk), that will prevent any tags that match the provided regex from being deleted. \n- Update the `name_regex` attribute to `name_regex_delete`. This will remain a required, string attribute that uses the [re2 regex](https://github.com/google/re2/wiki/Syntax) of the name to delete. \n- Add a new attribute called `name_regex_keep`. This will be an optional, string attribute that uses the [re2 regex](https://github.com/google/re2/wiki/Syntax) of the name to define tags that should not be removed.\n- IF the regex for `name_regex_delete` matches `name_regex_keep`, nothing will be deleted. Identifying images to protect overrides the delete option.\n\n### Permissions and Security\n- There are no changes to permissions. The bulk delete API can be utilized by maintainers and owners. \n\n### Documentation\n- Update the [Container Registry API documentation](https://docs.gitlab.com/ee/api/container_registry.html#delete-registry-repository-tags-in-bulk)\n\n### What does success look like, and how can we measure that?\n- We can bulk-delete registry tags while specifying a pattern of tags that must not be deleted.\n\n#### Metrics\n* Count garbage collection commands run\n* Count of successful runs\n* Count of runs failed\n  * Ideally we would capture the error code here and report that as well.\n\n### Links\n","state":"closed","created_at":"2019-02-28T17:25:07.133Z","updated_at":"2021-04-03T08:23:18.403Z","closed_at":"2020-03-12T21:46:54.305Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Package:P2","backend","container registry expert","devops::package","direction","group::package registry","ruby","type::feature","workflow::production"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":686504,"username":"toadjaune","name":"Arnaud Venturi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/686504/avatar.png","web_url":"https://gitlab.com/toadjaune"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":25,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/27072","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/27072","notes":"https://gitlab.com/api/v4/projects/278964/issues/27072/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/27072/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#27072","relative":"#27072","full":"gitlab-org/gitlab#27072"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2270,"epic":{"id":15539,"iid":2270,"title":"Cleanup policy for tags","url":"/groups/gitlab-org/-/epics/2270","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18676863,"iid":10100,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/vue_merge_request_widget/mr_widget_options.vue`","description":"The file `` has differences between CE and EE.\n\n### Diferences\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_merge_request_widget/mr_widget_options.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_merge_request_widget/mr_widget_options.vue\nindex 5a9d86594b1..c18d6a6f9be 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_merge_request_widget/mr_widget_options.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_merge_request_widget/mr_widget_options.vue\n@@ -153,6 +153,7 @@ export default {\n         statusPath: store.statusPath,\n         mergeActionsContentPath: store.mergeActionsContentPath,\n         rebasePath: store.rebasePath,\n+        approvalsPath: store.approvalsPath,\n       };\n       return new MRWidgetService(endpoints);\n     },\n```\n\n\n### What needs to be done","state":"closed","created_at":"2019-02-28T11:19:47.054Z","updated_at":"2019-08-12T15:05:48.620Z","closed_at":"2019-04-26T14:03:33.930Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","devops::create","frontend","single codebase","workflow::in dev"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10100","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10100","notes":"https://gitlab.com/api/v4/projects/278964/issues/10100/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10100/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10100","relative":"#10100","full":"gitlab-org/gitlab#10100"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18676809,"iid":10099,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/vue_merge_request_widget/components/states/ready_to_merge.vue`","description":"The file `app/assets/javascripts/vue_merge_request_widget/components/states/ready_to_merge.vue` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_merge_request_widget/components/states/ready_to_merge.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_merge_request_widget/components/states/ready_to_merge.vue\nindex b8f29649eb5..399c3bad4e7 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_merge_request_widget/components/states/ready_to_merge.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_merge_request_widget/components/states/ready_to_merge.vue\n@@ -100,6 +100,7 @@ export default {\n         !commitMessage.length ||\n           !this.shouldShowMergeControls() ||\n           this.isMakingRequest ||\n+          this.isApprovalNeeded ||\n           this.mr.preventMerge,\n       );\n     },\n@@ -110,6 +111,9 @@ export default {\n       const { commitsCount, enableSquashBeforeMerge } = this.mr;\n       return enableSquashBeforeMerge \u0026\u0026 commitsCount \u003e 1;\n     },\n+    isApprovalNeeded() {\n+      return this.mr.approvalsRequired ? !this.mr.isApproved : false;\n+    },\n   },\n   methods: {\n     shouldShowMergeControls() {\n```\n\n### What needs to be done\n1. Create an EE mixin \u0026 a CE counterpart \u0026 use ee_else_ce","state":"closed","created_at":"2019-02-28T11:17:39.833Z","updated_at":"2019-08-12T15:05:48.650Z","closed_at":"2019-04-24T14:08:57.076Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","devops::create","frontend","single codebase","workflow::in dev"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10099","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10099","notes":"https://gitlab.com/api/v4/projects/278964/issues/10099/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10099/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10099","relative":"#10099","full":"gitlab-org/gitlab#10099"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18676020,"iid":10098,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/api.js`","description":"### Differences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/api.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/api.js\nindex d1396b6c4bc..81d273a40f5 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/api.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/api.js\n@@ -17,6 +17,7 @@ const Api = {\n   projectRunnersPath: '/api/:version/projects/:id/runners',\n   mergeRequestsPath: '/api/:version/merge_requests',\n   groupLabelsPath: '/groups/:namespace_path/-/labels',\n+  ldapGroupsPath: '/api/:version/ldap/:provider/groups.json',\n   issuableTemplatePath: '/:namespace_path/:project_path/templates/:type/:key',\n   projectTemplatePath: '/api/:version/projects/:id/templates/:type/:key',\n   projectTemplatesPath: '/api/:version/projects/:id/templates/:type',\n@@ -29,6 +30,8 @@ const Api = {\n   commitPipelinesPath: '/:project_id/commit/:sha/pipelines',\n   branchSinglePath: '/api/:version/projects/:id/repository/branches/:branch',\n   createBranchPath: '/api/:version/projects/:id/repository/branches',\n+  geoNodesPath: '/api/:version/geo_nodes',\n+  subscriptionPath: '/api/:version/namespaces/:id/gitlab_subscription',\n   releasesPath: '/api/:version/projects/:id/releases',\n \n   group(groupId, callback) {\n@@ -308,6 +311,48 @@ const Api = {\n     });\n   },\n \n+  approverUsers(search, options, callback = $.noop) {\n+    const url = Api.buildUrl('/autocomplete/users.json');\n+    return axios\n+      .get(url, {\n+        params: Object.assign(\n+          {\n+            search,\n+            per_page: 20,\n+          },\n+          options,\n+        ),\n+      })\n+      .then(({ data }) =\u003e {\n+        callback(data);\n+\n+        return data;\n+      });\n+  },\n+\n+  ldap_groups(query, provider, callback) {\n+    const url = Api.buildUrl(this.ldapGroupsPath).replace(':provider', provider);\n+    return axios\n+      .get(url, {\n+        params: {\n+          search: query,\n+          per_page: 20,\n+          active: true,\n+        },\n+      })\n+      .then(({ data }) =\u003e {\n+        callback(data);\n+\n+        return data;\n+      });\n+  },\n+\n+  userSubscription(namespaceId) {\n+    const url = Api.buildUrl(this.subscriptionPath).replace(':id', encodeURIComponent(namespaceId));\n+\n+    return axios.get(url);\n+  },\n+\n   releases(id) {\n     const url = Api.buildUrl(this.releasesPath).replace(':id', encodeURIComponent(id));\n```\n\n\n### What needs to be done\n1. Extend the API class in EE","state":"closed","created_at":"2019-02-28T10:45:47.219Z","updated_at":"2019-08-12T15:05:48.660Z","closed_at":"2019-02-28T16:35:13.082Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["Create [DEPRECATED]","Enterprise Edition","Plan [DEPRECATED]","frontend","single codebase"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10098","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10098","notes":"https://gitlab.com/api/v4/projects/278964/issues/10098/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10098/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10098","relative":"#10098","full":"gitlab-org/gitlab#10098"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675982,"iid":10097,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/lib/utils/number_utils.js`","description":"The file `app/assets/javascripts/lib/utils/number_utils.js` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/lib/utils/number_utils.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/lib/utils/number_utils.js\nindex 2ccc51c35f7..19c4de6083d 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/lib/utils/number_utils.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/lib/utils/number_utils.js\n@@ -80,3 +80,22 @@ export function numberToHumanSize(size) {\n   }\n   return `${bytesToGiB(size).toFixed(2)} GiB`;\n }\n+\n+/**\n+ * A simple method that returns the value of a + b\n+ * It seems unessesary, but when combined with a reducer it\n+ * adds up all the values in an array.\n+ *\n+ * e.g. `[1, 2, 3, 4, 5].reduce(sum) // =\u003e 15`\n+ *\n+ * @param {Float} a\n+ * @param {Float} b\n+ * @example\n+ * // return 15\n+ * [1, 2, 3, 4, 5].reduce(sum);\n+ *\n+ * // returns 6\n+ * Object.values([{a: 1, b: 2, c: 3].reduce(sum);\n+ * @returns {Float} The summed value\n+ */\n+export const sum = (a = 0, b = 0) =\u003e a + b;\n```\n\n### What needs to be done\n1. Move them to CE","state":"closed","created_at":"2019-02-28T10:44:17.922Z","updated_at":"2019-08-12T15:05:48.648Z","closed_at":"2019-03-01T14:45:00.705Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Enterprise Edition","frontend","single codebase"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10097","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10097","notes":"https://gitlab.com/api/v4/projects/278964/issues/10097/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10097/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10097","relative":"#10097","full":"gitlab-org/gitlab#10097"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675955,"iid":10096,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/gfm_auto_complete.js `","description":"The file `` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/gfm_auto_complete.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/gfm_auto_complete.js\nindex 570d3b712e0..82fc44ef65f 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/gfm_auto_complete.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/gfm_auto_complete.js\n@@ -1,5 +1,9 @@\n import $ from 'jquery';\n import _ from 'underscore';\n+\n+// EE-specific\n+import setupAutoCompleteEpics from 'ee/gfm_auto_complete_ee';\n+\n import glRegexp from './lib/utils/regexp';\n import AjaxCache from './lib/utils/ajax_cache';\n \n@@ -53,6 +57,9 @@ class GfmAutoComplete {\n     if (this.enableMap.labels) this.setupLabels($input);\n     if (this.enableMap.snippets) this.setupSnippets($input);\n \n+    // EE-specific\n+    if (this.enableMap.epics) setupAutoCompleteEpics($input, this.getDefaultCallbacks());\n+\n     // We don't instantiate the quick actions autocomplete for note and issue/MR edit forms\n     $input.filter('[data-supports-quick-actions=\"true\"]').atwho({\n       at: '/',\n```\n```\n\n\n### What needs to be done","state":"closed","created_at":"2019-02-28T10:43:25.115Z","updated_at":"2022-05-19T16:12:51.587Z","closed_at":"2019-04-24T12:23:29.502Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Enterprise Edition","backstage [DEPRECATED]","devops::plan","frontend","single codebase"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10096","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10096","notes":"https://gitlab.com/api/v4/projects/278964/issues/10096/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10096/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10096","relative":"#10096","full":"gitlab-org/gitlab#10096"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675918,"iid":10095,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/jobs/store/getters.js`","description":"The file `` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/jobs/store/getters.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/jobs/store/getters.js\nindex 98911717381..734c1cf0cb3 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/jobs/store/getters.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/jobs/store/getters.js\n@@ -28,6 +28,19 @@ export const emptyStateIllustration = state =\u003e\n export const emptyStateAction = state =\u003e\n   (state.job \u0026\u0026 state.job.status \u0026\u0026 state.job.status.action) || null;\n \n+// ee-only start\n+/**\n+ * Shared runners limit is only rendered when\n+ * used quota is bigger or equal than the limit\n+ *\n+ * @returns {Boolean}\n+ */\n+export const shouldRenderSharedRunnerLimitWarning = state =\u003e\n+  !_.isEmpty(state.job.runners) \u0026\u0026\n+  !_.isEmpty(state.job.runners.quota) \u0026\u0026\n+  state.job.runners.quota.used \u003e= state.job.runners.quota.limit;\n+// ee-only end\n+\n export const isScrollingDown = state =\u003e isScrolledToBottom() \u0026\u0026 !state.isTraceComplete;\n \n export const hasRunnersForProject = state =\u003e\n```\n\n\n### What needs to be done\n1. Move the getter to CE with a safeguard","state":"closed","created_at":"2019-02-28T10:41:53.739Z","updated_at":"2019-08-12T15:05:48.640Z","closed_at":"2019-03-07T09:50:55.233Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Enterprise Edition","devops::verify","frontend","single codebase"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10095","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10095","notes":"https://gitlab.com/api/v4/projects/278964/issues/10095/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10095/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10095","relative":"#10095","full":"gitlab-org/gitlab#10095"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":18675874,"iid":10094,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/jobs/components/job_app.vue`","description":"The file `` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/jobs/components/job_app.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/jobs/components/job_app.vue\nindex d473d6a482d..c1842d5b475 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/jobs/components/job_app.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/jobs/components/job_app.vue\n@@ -7,6 +7,9 @@ import { polyfillSticky } from '~/lib/utils/sticky';\n import bp from '~/breakpoints';\n import CiHeader from '~/vue_shared/components/header_ci_component.vue';\n import Callout from '~/vue_shared/components/callout.vue';\n+// ee-only start\n+import SharedRunner from 'ee/jobs/components/shared_runner_limit_block.vue';\n+// ee-only end\n import Icon from '~/vue_shared/components/icon.vue';\n import createStore from '../store';\n import EmptyState from './empty_state.vue';\n@@ -28,12 +31,13 @@ export default {\n     EmptyState,\n     EnvironmentsBlock,\n     ErasedBlock,\n+    GlLoadingIcon,\n     Icon,\n     Log,\n     LogTopBar,\n     StuckBlock,\n+    SharedRunner,\n     Sidebar,\n-    GlLoadingIcon,\n   },\n   mixins: [delayedJobMixin],\n   props: {\n@@ -84,6 +88,7 @@ export default {\n       'shouldRenderCalloutMessage',\n       'shouldRenderTriggeredLabel',\n       'hasEnvironment',\n+      'shouldRenderSharedRunnerLimitWarning',\n       'hasTrace',\n       'emptyStateIllustration',\n       'isScrollingDown',\n@@ -221,6 +226,14 @@ export default {\n           :runners-path=\"runnerSettingsUrl\"\n         /\u003e\n \n+        \u003cshared-runner\n+          v-if=\"shouldRenderSharedRunnerLimitWarning\"\n+          class=\"js-shared-runner-limit\"\n+          :quota-used=\"job.runners.quota.used\"\n+          :quota-limit=\"job.runners.quota.limit\"\n+          :runners-path=\"runnerHelpUrl\"\n+        /\u003e\n+\n         \u003cenvironments-block\n           v-if=\"hasEnvironment\"\n           class=\"js-job-environment\"\n```\n```\n\n### What needs to be done\n1. Use async imports\n1. Use a mixin","state":"closed","created_at":"2019-02-28T10:40:25.681Z","updated_at":"2019-08-12T15:05:48.612Z","closed_at":"2019-03-07T09:50:51.095Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Enterprise Edition","devops::verify","frontend","single codebase"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10094","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10094","notes":"https://gitlab.com/api/v4/projects/278964/issues/10094/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10094/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10094","relative":"#10094","full":"gitlab-org/gitlab#10094"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675847,"iid":10093,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/pipelines/pipeline_details_bundle.js`","description":"The file `` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pipelines/pipeline_details_bundle.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pipelines/pipeline_details_bundle.js\nindex dc9befe6349..313348386ae 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pipelines/pipeline_details_bundle.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pipelines/pipeline_details_bundle.js\n@@ -2,10 +2,11 @@ import Vue from 'vue';\n import Flash from '~/flash';\n import Translate from '~/vue_shared/translate';\n import { __ } from '~/locale';\n-import PipelinesMediator from './pipeline_details_mediator';\n-import pipelineGraph from './components/graph/graph_component.vue';\n+import PipelinesMediator from 'ee/pipelines/pipeline_details_mediator';\n+import pipelineGraph from 'ee/pipelines/components/graph/graph_component.vue';\n import pipelineHeader from './components/header_component.vue';\n import eventHub from './event_hub';\n+import GraphEEMixin from 'ee/pipelines/mixins/graph_pipeline_bundle_mixin'; // eslint-disable-line import/order\n \n Vue.use(Translate);\n \n@@ -22,6 +23,7 @@ export default () =\u003e {\n     components: {\n       pipelineGraph,\n     },\n+    mixins: [GraphEEMixin],\n     data() {\n       return {\n         mediator,\n@@ -41,9 +43,21 @@ export default () =\u003e {\n         props: {\n           isLoading: this.mediator.state.isLoading,\n           pipeline: this.mediator.store.state.pipeline,\n+          // EE-only start\n+          triggeredPipelines: this.mediator.store.state.triggeredPipelines,\n+          triggered: this.mediator.store.state.triggered,\n+          triggeredByPipelines: this.mediator.store.state.triggeredByPipelines,\n+          triggeredBy: this.mediator.store.state.triggeredBy,\n+          // EE-only end\n         },\n         on: {\n           refreshPipelineGraph: this.requestRefreshPipelineGraph,\n+          // EE-only start\n+          refreshTriggeredPipelineGraph: this.mediator.refreshTriggeredByPipelineGraph,\n+          refreshTriggeredByPipelineGraph: this.mediator.refreshTriggeredByPipelineGraph,\n+          onClickTriggeredBy: pipeline =\u003e this.clickTriggeredBy(pipeline),\n+          onClickTriggered: pipeline =\u003e this.clickTriggered(pipeline),\n+          // EE-only end\n         },\n       });\n     },\n```\n\n### What needs to be done\n1. Create a mixin\n2. Use ee_else_ce","state":"closed","created_at":"2019-02-28T10:39:38.215Z","updated_at":"2019-08-12T15:05:48.618Z","closed_at":"2019-03-14T15:44:22.257Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Enterprise Edition","devops::verify","frontend","single codebase"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10093","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10093","notes":"https://gitlab.com/api/v4/projects/278964/issues/10093/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10093/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10093","relative":"#10093","full":"gitlab-org/gitlab#10093"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675797,"iid":10092,"project_id":278964,"title":"Move EE differences dor `app/assets/javascripts/pipelines/components/graph/stage_column_component.vue`","description":"The file `` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pipelines/components/graph/stage_column_component.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pipelines/components/graph/stage_column_component.vue\nindex 09a50d25020..556d26b33c9 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pipelines/components/graph/stage_column_component.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pipelines/components/graph/stage_column_component.vue\n@@ -27,13 +27,18 @@ export default {\n       required: false,\n       default: '',\n     },\n+    hasTriggeredBy: {\n+      type: Boolean,\n+      required: false,\n+      default: false,\n+    },\n   },\n   methods: {\n     groupId(group) {\n       return `ci-badge-${_.escape(group.name)}`;\n     },\n     buildConnnectorClass(index) {\n-      return index === 0 \u0026\u0026 !this.isFirstColumn ? 'left-connector' : '';\n+      return index === 0 \u0026\u0026 (!this.isFirstColumn || this.hasTriggeredBy) ? 'left-connector' : '';\n     },\n     pipelineActionRequestComplete() {\n       this.$emit('refreshPipelineGraph');\n```\n\n### What needs to be done\n1. Create a mixin","state":"closed","created_at":"2019-02-28T10:38:14.226Z","updated_at":"2019-08-12T15:05:48.619Z","closed_at":"2019-03-14T11:54:01.520Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Enterprise Edition","devops::verify","frontend","single codebase"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10092","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10092","notes":"https://gitlab.com/api/v4/projects/278964/issues/10092/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10092/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10092","relative":"#10092","full":"gitlab-org/gitlab#10092"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675765,"iid":10091,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/pages/milestones/shared/components/promote_milestone_modal.vue`","description":"The file `` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/milestones/shared/components/promote_milestone_modal.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/milestones/shared/components/promote_milestone_modal.vue\nindex a79ef07f1c5..42124c63885 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/milestones/shared/components/promote_milestone_modal.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/milestones/shared/components/promote_milestone_modal.vue\n@@ -31,11 +31,26 @@ export default {\n       });\n     },\n     text() {\n+      const milestonePromotion = sprintf(\n+        s__(`Milestones|Promoting %{milestone} will make it available for all projects inside %{groupName}.\n+          Existing project milestones with the same name will be merged. `),\n+        {\n+          milestone: this.milestoneTitle,\n+          groupName: this.groupName,\n+        },\n+      );\n+      const finalWarning = s__('Milestones|This action cannot be reversed.');\n+\n       return sprintf(\n-        s__(`Milestones|Promoting %{milestoneTitle} will make it available for all projects inside %{groupName}.\n-        Existing project milestones with the same title will be merged.\n-        This action cannot be reversed.`),\n-        { milestoneTitle: this.milestoneTitle, groupName: this.groupName },\n+        s__(\n+          `Milestones|\u003cp\u003e%{milestonePromotion}\u003c/p\u003e\n+          %{finalWarning}`,\n+        ),\n+        {\n+          milestonePromotion,\n+          finalWarning,\n+        },\n+        false,\n       );\n     },\n   },\n@@ -72,6 +87,6 @@ export default {\n     \u003ctemplate slot=\"title\"\u003e\n       {{ title }}\n     \u003c/template\u003e\n-    {{ text }}\n+    \u003cdiv v-html=\"text\"\u003e\u003c/div\u003e\n   \u003c/gl-modal\u003e\n \u003c/template\u003e\n```\n\n### What needs to be done\n1.  Create a EE mixin  \u0026 CE counterpart \u0026 use ee_else_ce to import it","state":"closed","created_at":"2019-02-28T10:37:13.601Z","updated_at":"2022-05-19T16:12:51.335Z","closed_at":"2019-05-21T09:56:29.793Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["Deliverable","Enterprise Edition","backstage [DEPRECATED]","devops::plan","frontend","milestones","missed-deliverable","missed:11.11","single codebase","workflow::in review"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":642003,"username":"okoghenun","name":"Constance Okoghenun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/642003/avatar.png","web_url":"https://gitlab.com/okoghenun"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":642003,"username":"okoghenun","name":"Constance Okoghenun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/642003/avatar.png","web_url":"https://gitlab.com/okoghenun"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10091","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10091","notes":"https://gitlab.com/api/v4/projects/278964/issues/10091/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10091/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10091","relative":"#10091","full":"gitlab-org/gitlab#10091"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675686,"iid":10090,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/pages/projects/issues/index/index.js`","description":"The file `app/assets/javascripts/pages/projects/issues/index/index.js` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/issues/index/index.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/issues/index/index.js\nindex a56c0bb6be8..1e36f098c88 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/issues/index/index.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/issues/index/index.js\n@@ -4,14 +4,14 @@ import IssuableIndex from '~/issuable_index';\n import ShortcutsNavigation from '~/behaviors/shortcuts/shortcuts_navigation';\n import UsersSelect from '~/users_select';\n import initFilteredSearch from '~/pages/search/init_filtered_search';\n-import IssuableFilteredSearchTokenKeys from '~/filtered_search/issuable_filtered_search_token_keys';\n import { FILTERED_SEARCH } from '~/pages/constants';\n import { ISSUABLE_INDEX } from '~/pages/projects/constants';\n+import IssuesFilteredSearchTokenKeysEE from 'ee/filtered_search/issues_filtered_search_token_keys';\n \n document.addEventListener('DOMContentLoaded', () =\u003e {\n   initFilteredSearch({\n     page: FILTERED_SEARCH.ISSUES,\n-    filteredSearchTokenKeys: IssuableFilteredSearchTokenKeys,\n+    filteredSearchTokenKeys: IssuesFilteredSearchTokenKeysEE,\n   });\n   new IssuableIndex(ISSUABLE_INDEX.ISSUE);\n```\n### What needs to be done\n1. Use ee_else_ce to import the file","state":"closed","created_at":"2019-02-28T10:34:47.343Z","updated_at":"2022-05-19T16:12:51.037Z","closed_at":"2019-05-06T11:39:25.255Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["Deliverable","Enterprise Edition","backstage [DEPRECATED]","devops::plan","frontend","single codebase"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":642003,"username":"okoghenun","name":"Constance Okoghenun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/642003/avatar.png","web_url":"https://gitlab.com/okoghenun"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":642003,"username":"okoghenun","name":"Constance Okoghenun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/642003/avatar.png","web_url":"https://gitlab.com/okoghenun"},"user_notes_count":1,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10090","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10090","notes":"https://gitlab.com/api/v4/projects/278964/issues/10090/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10090/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10090","relative":"#10090","full":"gitlab-org/gitlab#10090"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675668,"iid":10089,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/pages/projects/issues/form.js`","description":"The file `app/assets/javascripts/pages/projects/issues/form.js` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/issues/form.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/issues/form.js\nindex f99023ad8e7..a2d8ae6d526 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/issues/form.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/issues/form.js\n@@ -8,6 +8,7 @@ import MilestoneSelect from '~/milestone_select';\n import ShortcutsNavigation from '~/behaviors/shortcuts/shortcuts_navigation';\n import IssuableTemplateSelectors from '~/templates/issuable_template_selectors';\n import initSuggestions from '~/issuable_suggestions';\n+import WeightSelect from 'ee/weight_select';\n \n export default () =\u003e {\n   new ShortcutsNavigation();\n@@ -20,4 +21,6 @@ export default () =\u003e {\n   if (gon.features.graphql) {\n     initSuggestions();\n   }\n+\n+  new WeightSelect();\n };\n```\n### What needs to be done\n1. Safeguard with ifEE","state":"closed","created_at":"2019-02-28T10:34:00.785Z","updated_at":"2019-08-12T15:05:49.275Z","closed_at":"2019-03-04T11:38:25.052Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["Create [DEPRECATED]","Enterprise Edition","devops::create","frontend","single codebase"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10089","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10089","notes":"https://gitlab.com/api/v4/projects/278964/issues/10089/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10089/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10089","relative":"#10089","full":"gitlab-org/gitlab#10089"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675574,"iid":10088,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/pages/projects/project.js`","description":"The file `app/assets/javascripts/pages/projects/project.js` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/project.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/project.js\nindex b288989b252..f0d529758d5 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/project.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/project.js\n@@ -39,6 +39,11 @@ export default class Project {\n         $label.text(activeText);\n       });\n \n+      $('#modal-geo-info').data({\n+        cloneUrlSecondary: $this.attr('href'),\n+        cloneUrlPrimary: $this.data('primaryUrl') || '',\n+      });\n+\n       if (mobileCloneField) {\n         mobileCloneField.dataset.clipboardText = url;\n       } else {\n@@ -67,6 +72,13 @@ export default class Project {\n         .remove();\n       return e.preventDefault();\n     });\n+    $('.hide-shared-runner-limit-message').on('click', function(e) {\n+      var $alert = $(this).parents('.shared-runner-quota-message');\n+      var scope = $alert.data('scope');\n+      Cookies.set('hide_shared_runner_quota_message', 'false', { path: scope });\n+      $alert.remove();\n+      e.preventDefault();\n+    });\n     $('.hide-auto-devops-implicitly-enabled-banner').on('click', function(e) {\n       const projectId = $(this).data('project-id');\n       const cookieKey = `hide_auto_devops_implicitly_enabled_banner_${projectId}`;\n```\n\n### What needs to be done\n1. Extend the class in EE","state":"closed","created_at":"2019-02-28T10:31:16.674Z","updated_at":"2019-12-11T20:03:13.599Z","closed_at":"2019-06-07T09:06:46.018Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","frontend","group::geo","single codebase"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":2580294,"username":"michel.engelen","name":"Michel Engelen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2580294/avatar.png","web_url":"https://gitlab.com/michel.engelen"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":2580294,"username":"michel.engelen","name":"Michel Engelen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2580294/avatar.png","web_url":"https://gitlab.com/michel.engelen"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10088","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10088","notes":"https://gitlab.com/api/v4/projects/278964/issues/10088/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10088/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10088","relative":"#10088","full":"gitlab-org/gitlab#10088"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675536,"iid":10087,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/pages/projects/shared/permissions/components/settings_panel.vue`","description":"The file `app/assets/javascripts/pages/projects/shared/permissions/components/settings_panel.vue` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/shared/permissions/components/settings_panel.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/shared/permissions/components/settings_panel.vue\nindex 19d9903c988..0c1ad372449 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/shared/permissions/components/settings_panel.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/shared/permissions/components/settings_panel.vue\n@@ -37,6 +37,11 @@ export default {\n       required: false,\n       default: false,\n     },\n+    packagesAvailable: {\n+      type: Boolean,\n+      required: false,\n+      default: false,\n+    },\n     visibilityHelpPath: {\n       type: String,\n       required: false,\n@@ -67,6 +72,11 @@ export default {\n       required: false,\n       default: '',\n     },\n+    packagesHelpPath: {\n+      type: String,\n+      required: false,\n+      default: '',\n+    },\n   },\n \n   data() {\n@@ -82,6 +92,7 @@ export default {\n       pagesAccessLevel: 20,\n       containerRegistryEnabled: true,\n       lfsEnabled: true,\n+      packagesEnabled: true,\n       requestAccessEnabled: true,\n       highlightChangesClass: false,\n     };\n@@ -157,12 +168,14 @@ export default {\n         if (value === 0) {\n           this.containerRegistryEnabled = false;\n           this.lfsEnabled = false;\n+          this.packagesEnabled = false;\n         }\n       } else if (oldValue === 0) {\n         this.mergeRequestsAccessLevel = value;\n         this.buildsAccessLevel = value;\n         this.containerRegistryEnabled = true;\n         this.lfsEnabled = true;\n+        this.packagesEnabled = true;\n       }\n     },\n \n@@ -304,6 +317,18 @@ export default {\n             name=\"project[lfs_enabled]\"\n           /\u003e\n         \u003c/project-setting-row\u003e\n+        \u003cproject-setting-row\n+          v-if=\"packagesAvailable\"\n+          :help-path=\"packagesHelpPath\"\n+          label=\"Packages\"\n+          help-text=\"Every project can have its own space to store its packages\"\n+        \u003e\n+          \u003cproject-feature-toggle\n+            v-model=\"packagesEnabled\"\n+            :disabled-input=\"!repositoryEnabled\"\n+            name=\"project[packages_enabled]\"\n+          /\u003e\n+        \u003c/project-setting-row\u003e\n       \u003c/div\u003e\n       \u003cproject-setting-row label=\"Wiki\" help-text=\"Pages for project documentation\"\u003e\n         \u003cproject-feature-setting\n```\n\n### What needs to be done\n1. Create an EE mixin \u0026 a CE counterpart\n1. Safeguard the template with ifEE","state":"closed","created_at":"2019-02-28T10:29:49.848Z","updated_at":"2022-05-19T16:12:50.802Z","closed_at":"2019-06-28T14:42:36.321Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Enterprise Edition","backstage [DEPRECATED]","devops::plan","frontend","single codebase","workflow::in review"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":3,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10087","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10087","notes":"https://gitlab.com/api/v4/projects/278964/issues/10087/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10087/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10087","relative":"#10087","full":"gitlab-org/gitlab#10087"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675493,"iid":10086,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/pages/groups/issues/index.js`","description":"The file `` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/groups/issues/index.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/groups/issues/index.js\nindex 736c6a62610..1fa163bb2d1 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/groups/issues/index.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/groups/issues/index.js\n@@ -1,13 +1,13 @@\n import projectSelect from '~/project_select';\n import initFilteredSearch from '~/pages/search/init_filtered_search';\n import { FILTERED_SEARCH } from '~/pages/constants';\n-import IssuableFilteredSearchTokenKeys from '~/filtered_search/issuable_filtered_search_token_keys';\n+import IssuesFilteredSearchTokenKeysEE from 'ee/filtered_search/issues_filtered_search_token_keys';\n \n document.addEventListener('DOMContentLoaded', () =\u003e {\n   initFilteredSearch({\n     page: FILTERED_SEARCH.ISSUES,\n     isGroupDecendent: true,\n-    filteredSearchTokenKeys: IssuableFilteredSearchTokenKeys,\n+    filteredSearchTokenKeys: IssuesFilteredSearchTokenKeysEE,\n   });\n   projectSelect();\n });\n```\n\n### What needs to be done\n\n1. Use [`ee_else_ce`](https://docs.gitlab.com/ee/development/ee_features.html#javascript-code-in-assetsjavascripts) to import the mixin into this file.","state":"closed","created_at":"2019-02-28T10:28:17.143Z","updated_at":"2022-05-19T16:12:50.532Z","closed_at":"2019-05-02T20:26:33.440Z","closed_by":{"id":642003,"username":"okoghenun","name":"Constance Okoghenun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/642003/avatar.png","web_url":"https://gitlab.com/okoghenun"},"labels":["Deliverable","Enterprise Edition","backstage [DEPRECATED]","devops::plan","frontend","single codebase"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":642003,"username":"okoghenun","name":"Constance Okoghenun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/642003/avatar.png","web_url":"https://gitlab.com/okoghenun"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":642003,"username":"okoghenun","name":"Constance Okoghenun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/642003/avatar.png","web_url":"https://gitlab.com/okoghenun"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10086","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10086","notes":"https://gitlab.com/api/v4/projects/278964/issues/10086/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10086/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10086","relative":"#10086","full":"gitlab-org/gitlab#10086"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675358,"iid":10083,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/vue_shared/components/sidebar/labels_select/dropdown_value_collapsed.vue`","description":"The file `app/assets/javascripts/vue_shared/components/sidebar/labels_select/dropdown_value_collapsed.vue` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_shared/components/sidebar/labels_select/dropdown_value_collapsed.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_shared/components/sidebar/labels_select/dropdown_value_collapsed.vue\nindex 373794fb1f2..05446903286 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_shared/components/sidebar/labels_select/dropdown_value_collapsed.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_shared/components/sidebar/labels_select/dropdown_value_collapsed.vue\n@@ -14,10 +14,12 @@ export default {\n   },\n   computed: {\n     labelsList() {\n-      const labelsString = this.labels\n-        .slice(0, 5)\n-        .map(label =\u003e label.title)\n-        .join(', ');\n+      const labelsString = this.labels.length\n+        ? this.labels\n+            .slice(0, 5)\n+            .map(label =\u003e label.title)\n+            .join(', ')\n+        : s__('LabelSelect|Labels');\n \n       if (this.labels.length \u003e 5) {\n         return sprintf(s__('LabelSelect|%{labelsString}, and %{remainingLabelCount} more'), {\n```\n\n\n### What needs to be done\n1. Move the differences to CE","state":"closed","created_at":"2019-02-28T10:23:11.577Z","updated_at":"2019-08-12T15:05:49.406Z","closed_at":"2019-04-17T09:02:24.018Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","devops::create","frontend","single codebase"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10083","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10083","notes":"https://gitlab.com/api/v4/projects/278964/issues/10083/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10083/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10083","relative":"#10083","full":"gitlab-org/gitlab#10083"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675164,"iid":10082,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/environments/stores/environments_store.js`","description":"The file `app/assets/javascripts/environments/stores/environments_store.js` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/stores/environments_store.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/stores/environments_store.js\nindex 5808a2d4afa..4a076d44c3f 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/stores/environments_store.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/stores/environments_store.js\n@@ -1,4 +1,7 @@\n import { parseIntPagination, normalizeHeaders } from '~/lib/utils/common_utils';\n+\n+// ee-only\n+import { CLUSTER_TYPE } from '~/clusters/constants';\n /**\n  * Environments Store.\n  *\n@@ -30,6 +33,14 @@ export default class EnvironmentsStore {\n    * If the `size` is bigger than 1, it means it should be rendered as a folder.\n    * In those cases we add `isFolder` key in order to render it properly.\n    *\n+   * Top level environments - when the size is 1 - with `rollout_status`\n+   * can render a deploy board. We add `isDeployBoardVisible` and `deployBoardData`\n+   * keys to those environments.\n+   * The first key will let's us know if we should or not render the deploy board.\n+   * It will be toggled when the user clicks to seee the deploy board.\n+   *\n+   * The second key will allow us to update the environment with the received deploy board data.\n+   *\n    * @param  {Array} environments\n    * @returns {Array}\n    */\n@@ -62,14 +73,58 @@ export default class EnvironmentsStore {\n         filtered = Object.assign(filtered, env);\n       }\n \n+      if (\n+        filtered.size === 1 \u0026\u0026\n+        filtered.rollout_status \u0026\u0026\n+        filtered.cluster_type !== CLUSTER_TYPE.GROUP\n+      ) {\n+        filtered = Object.assign({}, filtered, {\n+          hasDeployBoard: true,\n+          isDeployBoardVisible:\n+            oldEnvironmentState.isDeployBoardVisible === false\n+              ? oldEnvironmentState.isDeployBoardVisible\n+              : true,\n+          deployBoardData:\n+            filtered.rollout_status.status === 'found' ? filtered.rollout_status : {},\n+          isLoadingDeployBoard: filtered.rollout_status.status === 'loading',\n+          isEmptyDeployBoard: filtered.rollout_status.status === 'not_found',\n+        });\n+      }\n       return filtered;\n     });\n \n     this.state.environments = filteredEnvironments;\n \n+    // ee-only start\n+    /**\n+     * Add the canary callout banner underneath the second environment listed.\n+     *\n+     * If there is only one environment, then add to it underneath the first.\n+     */\n+    if (this.state.environments.length \u003e= 2) {\n+      this.state.environments[1].showCanaryCallout = true;\n+    } else if (this.state.environments.length === 1) {\n+      this.state.environments[0].showCanaryCallout = true;\n+    }\n+    // ee-only end\n+\n     return filteredEnvironments;\n   }\n \n+  /**\n+   * Stores the pagination information needed to render the pagination for the\n+   * table.\n+   *\n+   * Normalizes the headers to uppercase since they can be provided either\n+   * in uppercase or lowercase.\n+   *\n+   * Parses to an integer the normalized ones needed for the pagination component.\n+   *\n+   * Stores the normalized and parsed information.\n+   *\n+   * @param  {Object} pagination = {}\n+   * @return {Object}\n+   */\n   setPagination(pagination = {}) {\n     const normalizedHeaders = normalizeHeaders(pagination);\n     const paginationInformation = parseIntPagination(normalizedHeaders);\n@@ -165,4 +220,27 @@ export default class EnvironmentsStore {\n \n     return environments.filter(env =\u003e env.isFolder \u0026\u0026 env.isOpen);\n   }\n+\n+  /**\n+   * Toggles deploy board visibility for the provided environment ID.\n+   *\n+   * @param  {Object} environment\n+   * @return {Array}\n+   */\n+  toggleDeployBoard(environmentID) {\n+    const environments = this.state.environments.slice();\n+\n+    this.state.environments = environments.map(env =\u003e {\n+      let updated = Object.assign({}, env);\n+\n+      if (env.id === environmentID) {\n+        updated = Object.assign({}, updated, {\n+          isDeployBoardVisible: !env.isDeployBoardVisible,\n+        });\n+      }\n+      return updated;\n+    });\n+\n+    return this.state.environments;\n+  }\n }\n```\n\n### What needs to be done\n1. Create an EE store \u0026 extended","state":"closed","created_at":"2019-02-28T10:18:11.733Z","updated_at":"2019-08-12T15:05:49.403Z","closed_at":"2019-03-14T08:22:27.445Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Enterprise Edition","devops::release","frontend","single codebase"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10082","time_stats":{"time_estimate":7200,"total_time_spent":0,"human_time_estimate":"2h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10082","notes":"https://gitlab.com/api/v4/projects/278964/issues/10082/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10082/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10082","relative":"#10082","full":"gitlab-org/gitlab#10082"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18675126,"iid":10081,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/environments/components/environments_table.vue`","description":"The file `app/assets/javascripts/environments/components/environments_table.vue` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/environments_table.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/environments_table.vue\nindex 75bdf87137f..08c3f5e377d 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/environments_table.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/environments_table.vue\n@@ -3,12 +3,21 @@\n  * Render environments table.\n  */\n import { GlLoadingIcon } from '@gitlab/ui';\n-import environmentItem from './environment_item.vue';\n+import environmentItem from './environment_item.vue'; // eslint-disable-line import/order\n+\n+// ee-only start\n+import deployBoard from 'ee/environments/components/deploy_board_component.vue';\n+import CanaryDeploymentCallout from 'ee/environments/components/canary_deployment_callout.vue';\n+// ee-only end\n \n export default {\n   components: {\n     environmentItem,\n+    deployBoard,\n     GlLoadingIcon,\n+    // ee-only start\n+    CanaryDeploymentCallout,\n+    // ee-only end\n   },\n \n   props: {\n@@ -29,6 +38,33 @@ export default {\n       required: false,\n       default: false,\n     },\n+\n+    // ee-only start\n+    canaryDeploymentFeatureId: {\n+      type: String,\n+      required: true,\n+    },\n+\n+    showCanaryDeploymentCallout: {\n+      type: Boolean,\n+      required: true,\n+    },\n+\n+    userCalloutsPath: {\n+      type: String,\n+      required: true,\n+    },\n+\n+    lockPromotionSvgPath: {\n+      type: String,\n+      required: true,\n+    },\n+\n+    helpCanaryDeploymentsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    // ee-only end\n   },\n   methods: {\n     folderUrl(model) {\n@@ -37,6 +73,11 @@ export default {\n     shouldRenderFolderContent(env) {\n       return env.isFolder \u0026\u0026 env.isOpen \u0026\u0026 env.children \u0026\u0026 env.children.length \u003e 0;\n     },\n+    // ee-only start\n+    shouldShowCanaryCallout(env) {\n+      return env.showCanaryCallout \u0026\u0026 this.showCanaryDeploymentCallout;\n+    },\n+    // ee-only end\n   },\n };\n \u003c/script\u003e\n@@ -68,6 +109,21 @@ export default {\n         :can-read-environment=\"canReadEnvironment\"\n       /\u003e\n \n+      \u003cdiv\n+        v-if=\"model.hasDeployBoard \u0026\u0026 model.isDeployBoardVisible\"\n+        :key=\"`deploy-board-row-${i}`\"\n+        class=\"js-deploy-board-row\"\n+      \u003e\n+        \u003cdiv class=\"deploy-board-container\"\u003e\n+          \u003cdeploy-board\n+            :deploy-board-data=\"model.deployBoardData\"\n+            :is-loading=\"model.isLoadingDeployBoard\"\n+            :is-empty=\"model.isEmptyDeployBoard\"\n+            :logs-path=\"model.logs_path\"\n+          /\u003e\n+        \u003c/div\u003e\n+      \u003c/div\u003e\n+\n       \u003ctemplate v-if=\"shouldRenderFolderContent(model)\"\u003e\n         \u003cdiv v-if=\"model.isLoadingFolderContent\" :key=\"`loading-item-${i}`\"\u003e\n           \u003cgl-loading-icon :size=\"2\" class=\"prepend-top-16\" /\u003e\n@@ -92,6 +148,17 @@ export default {\n           \u003c/div\u003e\n         \u003c/template\u003e\n       \u003c/template\u003e\n+\n+      \u003ctemplate v-if=\"shouldShowCanaryCallout(model)\"\u003e\n+        \u003ccanary-deployment-callout\n+          :key=\"`canary-promo-${i}`\"\n+          :canary-deployment-feature-id=\"canaryDeploymentFeatureId\"\n+          :user-callouts-path=\"userCalloutsPath\"\n+          :lock-promotion-svg-path=\"lockPromotionSvgPath\"\n+          :help-canary-deployments-path=\"helpCanaryDeploymentsPath\"\n+          :data-js-canary-promo-key=\"i\"\n+        /\u003e\n+      \u003c/template\u003e\n     \u003c/template\u003e\n   \u003c/div\u003e\n \u003c/template\u003e\n```\n\n### What needs to be done\n1. Use mixins \u0026 async imports","state":"closed","created_at":"2019-02-28T10:16:54.901Z","updated_at":"2019-08-12T15:05:53.433Z","closed_at":"2019-03-11T08:53:58.812Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Enterprise Edition","devops::release","frontend","single codebase"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":0,"merge_requests_count":3,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10081","time_stats":{"time_estimate":7200,"total_time_spent":0,"human_time_estimate":"2h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10081","notes":"https://gitlab.com/api/v4/projects/278964/issues/10081/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10081/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10081","relative":"#10081","full":"gitlab-org/gitlab#10081"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18674927,"iid":10080,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/environments/components/container.vue`","description":"The file `app/assets/javascripts/environments/components/container.vue` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/container.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/container.vue\nindex bd402c0eea5..0bffa3a0cf1 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/container.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/container.vue\n@@ -30,6 +30,28 @@ export default {\n       type: Boolean,\n       required: true,\n     },\n+    // ee-only start\n+    canaryDeploymentFeatureId: {\n+      type: String,\n+      required: true,\n+    },\n+    showCanaryDeploymentCallout: {\n+      type: Boolean,\n+      required: true,\n+    },\n+    userCalloutsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    lockPromotionSvgPath: {\n+      type: String,\n+      required: true,\n+    },\n+    helpCanaryDeploymentsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    // ee-only end\n   },\n   methods: {\n     onChangePage(page) {\n@@ -55,6 +77,11 @@ export default {\n         :environments=\"environments\"\n         :can-create-deployment=\"canCreateDeployment\"\n         :can-read-environment=\"canReadEnvironment\"\n+        :canary-deployment-feature-id=\"canaryDeploymentFeatureId\"\n+        :show-canary-deployment-callout=\"showCanaryDeploymentCallout\"\n+        :user-callouts-path=\"userCalloutsPath\"\n+        :lock-promotion-svg-path=\"lockPromotionSvgPath\"\n+        :help-canary-deployments-path=\"helpCanaryDeploymentsPath\"\n       /\u003e\n \n       \u003ctable-pagination\n```\n\n### What needs to be done\n1. Create a EE mixin \u0026 a CE counterpart \u0026 use ee_else_ce to import it","state":"closed","created_at":"2019-02-28T10:10:48.542Z","updated_at":"2019-08-12T15:05:53.439Z","closed_at":"2019-03-12T08:41:30.995Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Enterprise Edition","devops::release","frontend","single codebase"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10080","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10080","notes":"https://gitlab.com/api/v4/projects/278964/issues/10080/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10080/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10080","relative":"#10080","full":"gitlab-org/gitlab#10080"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":18674870,"iid":10079,"project_id":278964,"title":"Move EE differences for `app/assets/javascripts/environments/components/environments_app.vue`","description":"The file `` has differences between CE and EE.\n\n### Diferences\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/environments_app.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/environments_app.vue\nindex 87c1d44dd40..30908182bf8 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/environments_app.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/environments_app.vue\n@@ -44,17 +44,49 @@ export default {\n       type: String,\n       required: true,\n     },\n+    // ee-only start\n+    canaryDeploymentFeatureId: {\n+      type: String,\n+      required: true,\n+    },\n+    showCanaryDeploymentCallout: {\n+      type: Boolean,\n+      required: true,\n+    },\n+    userCalloutsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    lockPromotionSvgPath: {\n+      type: String,\n+      required: true,\n+    },\n+    helpCanaryDeploymentsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    // ee-only end\n   },\n \n   created() {\n     eventHub.$on('toggleFolder', this.toggleFolder);\n+    eventHub.$on('toggleDeployBoard', this.toggleDeployBoard);\n   },\n \n   beforeDestroy() {\n     eventHub.$off('toggleFolder');\n+    eventHub.$off('toggleDeployBoard');\n   },\n \n   methods: {\n+    /**\n+     * Toggles the visibility of the deploy boards of the clicked environment.\n+     * @param {Object} model\n+     */\n+    toggleDeployBoard(model) {\n+      this.store.toggleDeployBoard(model.id);\n+    },\n+\n     toggleFolder(folder) {\n       this.store.toggleFolder(folder);\n \n@@ -108,6 +140,11 @@ export default {\n       :pagination=\"state.paginationInformation\"\n       :can-create-deployment=\"canCreateDeployment\"\n       :can-read-environment=\"canReadEnvironment\"\n+      :canary-deployment-feature-id=\"canaryDeploymentFeatureId\"\n+      :show-canary-deployment-callout=\"showCanaryDeploymentCallout\"\n+      :user-callouts-path=\"userCalloutsPath\"\n+      :lock-promotion-svg-path=\"lockPromotionSvgPath\"\n+      :help-canary-deployments-path=\"helpCanaryDeploymentsPath\"\n       @onChangePage=\"onChangePage\"\n     \u003e\n       \u003cempty-state\n```\n\n### What needs to be done\n1. Create an EE mixin \u0026\u0026 a CE backport and use ee_else_ce to import it","state":"closed","created_at":"2019-02-28T10:09:25.198Z","updated_at":"2019-08-12T15:05:53.424Z","closed_at":"2019-03-13T07:56:16.239Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Enterprise Edition","devops::release","frontend","single codebase"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10079","time_stats":{"time_estimate":3600,"total_time_spent":0,"human_time_estimate":"1h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10079","notes":"https://gitlab.com/api/v4/projects/278964/issues/10079/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10079/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10079","relative":"#10079","full":"gitlab-org/gitlab#10079"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]