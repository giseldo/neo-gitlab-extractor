[{"id":26763054,"iid":35736,"project_id":278964,"title":"Graphql resolver complexity multiplier is never used","description":"We have a code that increases query complexity depending on number of nodes being fetched - https://gitlab.com/gitlab-org/gitlab/blob/master/app/graphql/resolvers/base_resolver.rb#L21. For example for these two queries:\n\n```\nquery {\n  project(fullPath: \"h5bp/html5-boilerplate\") {\n    issues(first: 1) {\n      edges {\n        node {\n          title\n        }\n      }\n    \n    }\n  }\n}\n\nquery {\n  project(fullPath: \"h5bp/html5-boilerplate\") {\n    issues(first: 100) {\n      edges {\n        node {\n          title\n        }\n      }   \n    }\n  }\n}\n```\n\nI would expect that complexity will be higher for the second query which fetches 100 issues. The problem is that it's same for both queries.\n\nThe problem is probably that [field_complexity](https://gitlab.com/gitlab-org/gitlab/blob/master/app/graphql/types/base_field.rb#L34) uses `resolver_class` parameter to detect if a field uses a resolver. I think this parameter used to be passed in earlier versions of graphql-ruby, but now it seems to be always `nil`, so we should ideally use a different check for resolvers.","state":"closed","created_at":"2019-11-06T13:27:56.572Z","updated_at":"2020-03-20T15:39:09.358Z","closed_at":"2020-03-20T15:39:09.293Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["GraphQL","backend","devops::plan","group::project management","missed-SLO","missed-deliverable","missed:12.6","priority::2","severity::3","type::bug","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35736","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35736","notes":"https://gitlab.com/api/v4/projects/278964/issues/35736/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35736/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35736","relative":"#35736","full":"gitlab-org/gitlab#35736"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26762755,"iid":35735,"project_id":278964,"title":"SUCCESS Perform a planned failover using single-node Geo","description":"Recording: https://youtu.be/ll10mE0OFHM\n\n### Versions\n\nCurrent: `12.7.0-pre`\n\n### Planned failover checklist\n\n#### Preflight\n\n* [x] Create a zoom meeting and schedule a recorded meeting (make sure you have a paid account, otherwise recordings will stop after 40 minutes)\n* [x] Create GEO nodes\n* [x] Verify that the Geo primary and secondary are healthy pre failover\n\n### Failover\n\n* [x] Retrieve a beverage of choice within a drinkable temperature range\n* [x] Join Zoom meeting and wait for arrival. Hit the **record** button\n* [x] Perform a planned failover as described in [latest documentation](https://docs.gitlab.com/ee/administration/geo/disaster_recovery/planned_failover.html)\n* [x] Record any issues encountered during the upgrade\n* [x] Verify cluster health post planned failover\n\n### Postflight\n\n* [x] Record the planned failover outcome as SUCCESS, FAILED, PARTIAL SUCCESS\n* [x] Open new issues and inform @rnienaber and @fzimmer to confirm next steps","state":"closed","created_at":"2019-11-06T13:19:06.694Z","updated_at":"2020-08-27T08:03:24.233Z","closed_at":"2020-01-21T12:21:43.081Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Disaster Recovery","Deliverable","devops::systems","direction","group::geo"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"}],"author":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":17,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35735","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":10},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35735","notes":"https://gitlab.com/api/v4/projects/278964/issues/35735/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35735/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35735","relative":"#35735","full":"gitlab-org/gitlab#35735"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2150,"epic":{"id":14637,"iid":2150,"title":"Geo: Discovery  of current planned failover process","url":"/groups/gitlab-org/-/epics/2150","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26762668,"iid":35734,"project_id":278964,"title":"PARTIAL SUCCESS: Perform a planned failover using Geo HA","description":"### Versions\n\nCurrent: `Please use the latest version`\n\n### Planned failover checklist\n\n#### Preflight\n\n* [x] Create a zoom meeting and schedule a recorded meeting (make sure you have a paid account, otherwise recordings will stop after 40 minutes)\n* [x] Create a GEO HA cluster\n* [x] Verify that the Geo cluster is healthy pre failover\n\n### Failover\n\n* [x] Retrieve a beverage of choice within a drinkable temperature range\n* [x] Join Zoom meeting and wait for arrival. Hit the **record** button\n* [x] Perform a planned failover as described in [latest documentation](https://docs.gitlab.com/ee/administration/geo/disaster_recovery/planned_failover.html)\n* [x] Record any issues encountered during the upgrade\n* [x] Verify cluster health post planned failover\n\n### Postflight\n\n* [x] Record the planned failover outcome as SUCCESS, FAILED, PARTIAL SUCCESS\n* [x] Open new issues and inform @rnienaber and @fzimmer to confirm next steps","state":"closed","created_at":"2019-11-06T13:16:36.003Z","updated_at":"2020-07-13T23:49:10.792Z","closed_at":"2020-03-06T21:52:20.908Z","closed_by":{"id":3717623,"username":"jennielouie","name":"Jennifer Louie","state":"active","avatar_url":"https://secure.gravatar.com/avatar/01303df575a9c6b8ecbd1d06014b59ec?s=80\u0026d=identicon","web_url":"https://gitlab.com/jennielouie"},"labels":["Category:Disaster Recovery","Quality","devops::systems","direction","group::geo","missed:12.7","missed:12.8"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},{"id":3717623,"username":"jennielouie","name":"Jennifer Louie","state":"active","avatar_url":"https://secure.gravatar.com/avatar/01303df575a9c6b8ecbd1d06014b59ec?s=80\u0026d=identicon","web_url":"https://gitlab.com/jennielouie"}],"author":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"type":"ISSUE","assignee":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"user_notes_count":28,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35734","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":10},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35734","notes":"https://gitlab.com/api/v4/projects/278964/issues/35734/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35734/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35734","relative":"#35734","full":"gitlab-org/gitlab#35734"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2150,"epic":{"id":14637,"iid":2150,"title":"Geo: Discovery  of current planned failover process","url":"/groups/gitlab-org/-/epics/2150","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26761382,"iid":35733,"project_id":278964,"title":"Eliminate \"optimized_groups_with_templates_finder\" feature flag","description":"After verifying that the performance fix in https://gitlab.com/gitlab-org/gitlab/merge_requests/18180 works. We need to do the following:\n\n* Eliminate the feature flag (`optimized_groups_with_templates_finder`) in `ee/app/finders/groups_with_templates_finder.rb`\n* Remove the feature flag tests in `ee/spec/features/projects/new_project_spec.rb` \n* Remove the feature flag tests in `ee/spec/finders/groups_with_templates_finder_spec.rb`\n* In `ee/app/models/ee/group.rb`, rename `with_project_templates_optimized` scope to `with_project_templates`.\n\nNote: Investigate the performance gains when loading all the groups for the users first.\n\nIn `extended_group_search`:\n\n```ruby\n# old\n\ngroups = Group.with_project_templates_optimized\ngroups_with_plan = Gitlab::ObjectHierarchy\n  .new(groups)\n  .base_and_ancestors\n .with_feature_available_in_plan(:group_project_templates)\n\n# new\n\ngroups = user.groups.base_and_ancestors.with_project_templates_optimized\ngroups_with_plan = Gitlab::ObjectHierarchy\n  .new(groups)\n  .base_and_ancestors\n .with_feature_available_in_plan(:group_project_templates)\n```","state":"closed","created_at":"2019-11-06T12:38:02.455Z","updated_at":"2019-12-03T07:21:02.709Z","closed_at":"2019-12-03T07:21:02.647Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["bug::performance","devops::manage","feature flag","group::optimize"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":0,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35733","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35733","notes":"https://gitlab.com/api/v4/projects/278964/issues/35733/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35733/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35733","relative":"#35733","full":"gitlab-org/gitlab#35733"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26759776,"iid":35727,"project_id":278964,"title":"Extract \"config_processor\" from \"Ci::Pipeline\"","description":"The `Gitlab::Ci::YamlProcessor` is coupled with the `Ci::Pipeline` model. This means that in order to process the CI configuration file to create a pipeline it has to be accessed through a `Ci::Pipeline` object. This not only creates a circular dependency on the existence of `Ci::Pipeline` object but also couples it too much to a specific implementation of CI configuration.\n\nThis would bring benefits to issues such as: https://gitlab.com/gitlab-org/gitlab/issues/16094 and https://gitlab.com/gitlab-org/gitlab/issues/14376.\n\nWith this refactoring we would be able to call `YamlProcessor` from outside of the pipeline.","state":"closed","created_at":"2019-11-06T11:48:03.697Z","updated_at":"2019-11-25T17:02:50.212Z","closed_at":"2019-11-25T17:02:50.162Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","backend","backstage [DEPRECATED]","devops::verify","group::pipeline execution","maintenance::refactor","missed:12.5","workflow::production"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35727","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35727","notes":"https://gitlab.com/api/v4/projects/278964/issues/35727/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35727/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35727","relative":"#35727","full":"gitlab-org/gitlab#35727"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26755424,"iid":35719,"project_id":278964,"title":"Rename \u003cApolloMutation\u003e component to \u003capollo-mutation\u003e","description":"Currently our Apollo components are named in PascalCase. We need to rename them to kebab-case for consistency all over the codebase","state":"closed","created_at":"2019-11-06T10:11:37.239Z","updated_at":"2020-12-10T18:59:30.084Z","closed_at":"2019-11-25T02:11:48.034Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Category:Design Management","backstage [DEPRECATED]","devops::plan","frontend","group::product planning","workflow::production"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35719","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35719","notes":"https://gitlab.com/api/v4/projects/278964/issues/35719/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35719/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35719","relative":"#35719","full":"gitlab-org/gitlab#35719"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26752570,"iid":35715,"project_id":278964,"title":"Align web IDE access permissions across features and components","description":"### Summary\n\nAt the moment, you can access the web IDE through several places in the UI (clicking the `Web IDE` button) but also directly using the URL. In several places of the UI, we check that the user [can fork the project and also create a merge request on it](https://gitlab.com/gitlab-org/gitlab/blob/master/app/views/projects/tree/_tree_header.html.haml#L87). \n\nNevertheless, when we access the web IDE directly, we just check for read permissions.\n\nThere is no security problem since every action is checked against the user but we should be consistent whether showing the web IDE or an error.\n\n### Steps to reproduce\n\n- Create a public project\n- With a user who is not a member of the project, click the \"Web IDE\" button (an error message will appear)\n- With the same user, access directly the web IDE url for that project (no error will appear).\n\n### What is the current *bug* behavior?\n\nDifferent access policies used for accessing the same resource, the web IDE.\n\n### What is the expected *correct* behavior?\n\nWe use the same behavior for accessing the web IDE.\n\n### Possible fixes\n\nInstead of spreading the access rights checkings, I would create the policy `access_web_ide` or `read_web_ide` and there I would add all the necessary access rights needed to access the web IDE.\n\nThen we would have to replace the existing checks and use that one. I have identified the following files to change (but there can be more):\n\n- https://gitlab.com/gitlab-org/gitlab/blob/master/app%2Fcontrollers%2Fprojects%2Fusage_ping_controller.rb#L6\n- https://gitlab.com/gitlab-org/gitlab/blob/master/app/controllers/ide_controller.rb#L6\n- https://gitlab.com/gitlab-org/gitlab/blob/master/app/views/projects/tree/_tree_header.html.haml#L87\n- https://gitlab.com/gitlab-org/gitlab/blob/master/app/views/projects/blob/_header.html.haml#L16\n\n/cc @dsatcher @phikai","state":"closed","created_at":"2019-11-06T09:06:22.358Z","updated_at":"2020-02-06T23:45:59.913Z","closed_at":"2020-02-06T23:45:59.866Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["Category:Web IDE","backend","devops::create","group::editor","missed:12.7","priority::3","severity::3","type::bug","workflow::in dev"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"user_notes_count":38,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35715","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35715","notes":"https://gitlab.com/api/v4/projects/278964/issues/35715/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35715/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35715","relative":"#35715","full":"gitlab-org/gitlab#35715"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26748656,"iid":35710,"project_id":278964,"title":"Group-level audit events for SAML SSO login activity","description":"## Problem\n\nUnderstanding access activity is one of the most fundamental audit events when investigating a security event. Currently, we track sign in events at the [instance level](https://docs.gitlab.com/ee/administration/audit_events), which doesn't do much good for users on GitLab.com.\n\n## Proposal\n\n* When a user logs into a group using SAML SSO, log a group-level audit event. This event should include device, browser, and IP address.","state":"closed","created_at":"2019-11-06T06:33:51.579Z","updated_at":"2021-09-27T16:24:48.270Z","closed_at":"2020-04-07T10:00:28.333Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Category:Audit Events","Category:Authentication and Authorization","backend","devops::manage","group::authentication and authorization","missed:12.9","priority::3","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35710","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35710","notes":"https://gitlab.com/api/v4/projects/278964/issues/35710/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35710/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35710","relative":"#35710","full":"gitlab-org/gitlab#35710"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26745353,"iid":35698,"project_id":278964,"title":"Un-ignore token for Operations::featureFlagsClient","description":"`operations_feature_flags_clients.token` should be dropped in %\"12.6\" (https://gitlab.com/gitlab-org/gitlab/issues/35697), in %12.7 we can un-ignore the column.","state":"closed","created_at":"2019-11-06T02:08:32.658Z","updated_at":"2020-02-18T07:08:59.697Z","closed_at":"2020-01-31T19:34:15.230Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["Category:Feature Flags","Deliverable","GitLab Premium","backend","cicd::active","devops::release","group::release","missed-deliverable","missed:12.7"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35698","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35698","notes":"https://gitlab.com/api/v4/projects/278964/issues/35698/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35698/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35698","relative":"#35698","full":"gitlab-org/gitlab#35698"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26738618,"iid":35683,"project_id":278964,"title":"MVC: Show transparent warnings when adding a user to a group will incur a charge","description":"## Problem to solve\n\nCustomers are not informed when they are about to go over their purchased seat count and incur a charge, this can cause unwanted surprises at renewal/true-up time.\n\n## Proposal\n\nAdd transparent messaging when they add a user to warn them that it will take them over their purchase seat count. Much of this UX/design work has already been completed [here](https://gitlab.com/gitlab-org/gitlab/issues/34439) for self-managed and will be slightly different for GitLab.com. We should make sure these warnings are shown before the user is saved.\n\n### Iteration 1 (MVC): Better communication to users\n\n| What problem are we solving? | Proposed solution |\n| --- | --- |\n| Subscription seat information is only accessible to group owners/admins, but other user roles can also add users to paid seats, impacting billing. | Add subscription seat information on the members page for the instance/group and its subgroups, visible to all users who can add members to paid groups. \u003cbr\u003e ![SaaS___Group_members_page__at_seat_count](/uploads/c5389869292b107118752860d01b520a/SaaS___Group_members_page__at_seat_count.png) |\n| When a user is added to a paid group/instance that would put the group/instance over its seat count, it is not clear that adding that user will incur charges. | When a user is being added and it would increase the subscription's `Seats owed`/`Users over license` number, show a modal and ask the user to confirm that they would like to add a seat to their subscription. \u003cbr\u003e![SaaS___Group_members_page__add_seat_modal](/uploads/4dfcc3b3259e82e7fa29b8ab78d07c93/SaaS___Group_members_page__add_seat_modal.png)  |\n\n\n### Design\n* See the [full flow](https://app.mural.co/t/gitlab2474/m/gitlab2474/1573480963676/f17d79d1ebc4131998796114a940fb09e8764536) documented in Mural. \n* See the design tab for designs\n* [Sketch measure for specs](https://gitlab-org.gitlab.io/gitlab-design/hosted/emily/gitlab%2314714-communicating-prorated-charges-for-seats-added-to-paid-group/)","state":"closed","created_at":"2019-11-05T21:25:29.394Z","updated_at":"2022-03-29T14:33:50.959Z","closed_at":"2022-02-15T19:13:10.492Z","closed_by":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"labels":["[deprecated] Accepting merge requests","[deprecated] Category:Utilization","backend","customer","devops::fulfillment","frontend","gitlab.com","group::utilization","missed:12.9","section::fulfillment","won't do"],"milestone":{"id":427853,"iid":10,"group_id":9970,"title":"Next 3-4 releases","description":"Bigger issues we plan to ship in the next 3-4 releases, but don't have a designated release yet. \r\n\r\n\u003e \"An easy way to look at it for me it's translating to months. Since our iterations are 1 month, I look at it as 'within the next 4 months'.\" - @dgruesso [via slack]\r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:33.141Z","updated_at":"2020-07-14T18:21:29.639Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/10"},"assignees":[],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":null,"user_notes_count":58,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35683","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35683","notes":"https://gitlab.com/api/v4/projects/278964/issues/35683/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35683/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35683","relative":"#35683","full":"gitlab-org/gitlab#35683"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7230,"epic":{"id":401187,"iid":7230,"title":"[QSR] [SaaS] Create transparency about User Overage process at the time of adding users","url":"/groups/gitlab-org/-/epics/7230","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":26738506,"iid":35682,"project_id":278964,"title":"Dependency Scanning fails on Java-based project with Maven","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nDependency scanning is failing on a Java-based project using Maven with no clear error message. \n\n### Steps to reproduce\n\nSupport has not yet been able to replicate this using [this test project](https://gitlab.com/gitlab-gold/simple-maven-app/-/jobs/341473598). A job trace and `.gitlab-ci.yml` for the customer can be found in an internal note in the Zendesk ticket listed at the bottom of this issue's description.\n\n### What is the current *bug* behavior?\n\nDependency scanning fails with:\n(stack trace in ticket)\n\n```\nStatus: Downloaded newer image for registry.gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven:2\nUploading artifacts...\nWARNING: gl-dependency-scanning-report.json: no matching files \nERROR: No files to upload                          \nERROR: Job failed: exit code 1\n```\n\n### What is the expected *correct* behavior?\n\nDependency scanning should pass when run on a project using a supported code base.\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\nZD: https://gitlab.zendesk.com/agent/tickets/137586 (GitLab Internal)","state":"closed","created_at":"2019-11-05T21:19:38.883Z","updated_at":"2020-11-13T16:56:59.884Z","closed_at":"2020-02-05T03:55:44.722Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","backend","customer","devops::secure","group::composition analysis","priority::2","severity::4","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":2390023,"username":"tristan","name":"Tristan Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2390023/avatar.png","web_url":"https://gitlab.com/tristan"},"type":"ISSUE","assignee":null,"user_notes_count":20,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35682","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35682","notes":"https://gitlab.com/api/v4/projects/278964/issues/35682/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35682/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35682","relative":"#35682","full":"gitlab-org/gitlab#35682"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":298,"epic":{"id":641,"iid":298,"title":"Dependency Scanning improvements","url":"/groups/gitlab-org/-/epics/298","group_id":9970,"human_readable_end_date":"Apr 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26737643,"iid":35677,"project_id":278964,"title":"MVC: Show transparent warnings when adding a user to an instance will incur a charge","description":"## Problem to solve\n\nCustomers are not informed when they are about to go over their purchased seat count and incur a charge, this can cause unwanted surprises at renewal/true-up time.\n\n## Proposal\n\n### Iteration 1 (MVC): Better communication to users\n\n| What problem are we solving? | Proposed solution |\n| --- | --- |\n| Subscription seat information is only accessible to group owners/admins, but other user roles can also add users to paid seats, impacting billing. | Add subscription seat information on admin\u003eusers page and the members page for groups/subgroups, visible to all users who can add members to paid groups. \u003cbr\u003e ![Self-managed___Admin_users_page](/uploads/248f42b84c0d21a7d8aa3885938ac0c0/Self-managed___Admin_users_page.png) \u003cbr\u003e ![Self-managed___Group_members_page](/uploads/035870e34d12500bfba2bea470ff4f27/Self-managed___Group_members_page.png) |\n| When a user is added to a paid group/instance that would put the group/instance over its seat count, it is not clear that adding that user will incur charges. | When a user is being added and it would increase the subscription's `Seats owed`/`Users over license` number, show a modal and ask the user to confirm that they would like to add a seat to their subscription. \u003cbr\u003e![Self-managed___Add_seat_modal](/uploads/ea20d156e61ec7f9db6f269b2d517ae2/Self-managed___Add_seat_modal.png) |\n\n\n### Design\n* See the [full flow](https://app.mural.co/t/gitlab2474/m/gitlab2474/1573480963676/f17d79d1ebc4131998796114a940fb09e8764536) documented in Mural. \n* See the design tab for designs\n* [Sketch measure for specs](https://gitlab-org.gitlab.io/gitlab-design/hosted/emily/gitlab%2314714-communicating-prorated-charges-for-seats-added-to-paid-group/)\n\n### Requirements\n1. The modal (to confirm that the user is adding an additional user to their license) should **not** show up based solely on if the `Active users` number is greater than the `Users in license` number. It should only show up if the `Maximum users`/`Licenses owed` number is going to be increased by the addition of the user/users that are being added to the instance. If the user is already being counted as \"using a license\" because they're part of another group or project within the instance, it shouldn't trigger the modal.\n1. The subscription usage widget should show up on the admin users page and members page for all groups and subgroups. The subscription widget should still be titled with the name/plan of the instance to which the subscription is applied.\n1. If the instance is on a free plan with no subscription, that subscription usage component shouldn't show up at all.\n1. The `Maximum users` and `Licenses owed` numbers in the UI should increment immediately after a user is added that would increase those values.\n1. For Ultimate subscriptions (where Guest users are free), the add user modal should trigger when a Guest user is given a higher role and it would cause the `Maximum users`/`Licenses owed` number to increase.\n1. For Ultimate subscriptions, users who are added to the instance but not added to any groups or projects are free. When one of those users is added to a group or project, the add user modal should trigger if it would cause the `Maximum users`/`Licenses owed` number to increase.\n1. The Members page now allows the customer to add groups as well as individuals. When a group is invited via the Members page, the add users modal should trigger if the `Maximum users`/`Licenses owed` number is going to be increased by the addition of the user/users that are being added.","state":"closed","created_at":"2019-11-05T20:50:00.122Z","updated_at":"2022-04-18T19:23:50.036Z","closed_at":"2022-02-15T19:14:08.828Z","closed_by":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"labels":["Category:Purchase","DEPRECATED Growth-Deliverable","UX","[deprecated] Accepting merge requests","devops::fulfillment","docs::feature","documentation","frontend","group::purchase","missed:12.7","priority::1","section::fulfillment","self-managed","type::maintenance","won't do","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":null,"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35677","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35677","notes":"https://gitlab.com/api/v4/projects/278964/issues/35677/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35677/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35677","relative":"#35677","full":"gitlab-org/gitlab#35677"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7230,"epic":{"id":401187,"iid":7230,"title":"[QSR] [SaaS] Create transparency about User Overage process at the time of adding users","url":"/groups/gitlab-org/-/epics/7230","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":26737364,"iid":35671,"project_id":278964,"title":"Support order param for GET /projects/:id/repository/commits","description":"\u003c!-- Original title: API endpoint for commit ancestry --\u003e\n\n### Problem to solve\n\u003c!-- What problem do we solve? --\u003e\n\n\u003c!-- Original Description: Some systems have a need to be able to retrieve the ancestry of a commit to be able to associate it with other assets and resources. This information is readily accessible using `git`s native `rev-list` command, which is a core part of the git toolkit. However, when interacting with a repo via the GitLab API, this functionality is no longer available.\n\nCurrently, the only way to access this data is the old-fashioned way -- clone the repo locally, run `git rev-list` from the command line, and get the output. --\u003e\n\nSome systems have a need to be able to retrieve the ancestry of a commit to be able to associate it with other assets and resources. Moreover, they may need to specify the order of the parent commits returned. An example provided by a customer is that they wish to mimic Git's native `rev-list` command with support for the `--topo-order` flag.\n\nIt is currently possible to retrieve the ancestry of a commit with `GET /projects/:id/repository/commits`. But it is not possible to specify any order other than the default timestamp order.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nThis feature is an addition to the API, and therefore intended for software developers who are integrating GitLab with other systems.\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n### Further details\n\nNote that this issue originally proposed a new API endpoint for rev-list and has been rewritten to focus on an MVC adding an `order` param to an existing endpoint.\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n\u003c!-- **Example use case:**\n\nUser has a series of commits, some of which have associated build artifacts in their build system. The user wants to associate which build artifacts are ancestors of which. To do this, they would like to get a list of the ancestry of a given commit, so they can associate previous builds via their SHAs. --\u003e\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nWe will extend [the List Repository Commits endpoint](https://docs.gitlab.com/ee/api/commits.html#list-repository-commits) to include a new `order` param feature that will support the ordering functionality of [rev-list](https://git-scm.com/docs/git-rev-list).\n\nWe would like to start with an MVC to support `order=topo`, which mimics the behavior of the `--topo-order` flag in the `git rev-list` command.\n\nIf no `order` param is provided or an invalid value is passed, we will continue to default to reverse chronological order.\n\n**Update** The implementation is using `git log --topo-order` on the Gitaly side as described in https://gitlab.com/gitlab-org/gitlab/issues/35671#note_280046100\n\n\u003c!--\n```\nGET /projects/:id/repository/commits/:sha/rev-list\n```\n\nParameters:\n\n| Attribute | Type | Required | Description |\n| ------ | ------ | ------ | ------ |\n| `id` | integer/string | yes | The ID or URL-encoded path of the project owned by the authenticated user |\n| `sha` | string | yes | The commit hash |\n| `topo-order` | boolean | false | Display results in topographic (instead of chronological) order |\n| `before` | datetime | false | Display commits only older than a specific date |\n| `after` | datetime | false | Display commits more recent than a specific date |\n\nExample request:\n\n```\ncurl --header \"PRIVATE-TOKEN: \u003cyour_access_token\u003e\" \"https://gitlab.example.com/api/v4/projects/5/repository/commits/5937ac0a7beb003549fc5fd26fc247adbce4a52e/rev-list?topo-order=true\u0026before=2019-10-01\u0026after=2019-01-01\"\n```\n\nResponds with\n\n```json\n[\n  \"1a0b6012f5b77f6abff8c4f5fbe56f0fa2300ab0\",\n  \"5a0ebc032c4b7669e1807ab25afb3af29590944a\",\n  \"039c9d4d665d04aaf30238fb56f1ff752bb1b8a3\",\n  \"31c733c1f5c2e224bc7755c1a261713b868ba5ff\",\n  \"b9642a55bccf6d39bc438ee68690af3843fd4cbd\",\n  \"021023a4ad95ff168bff4118c9b1e580d7c16e8a\",\n  \"ef94ae5a6f975eba0db1ac6d8641fc5163c363ad\",\n  \"5c441a7c73f944fefc91e64614ba99135342185c\",\n  \"4d5feeba9f8e42005968b2b9a5a0752e99232d29\"\n]\n```\n--\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\nThis new functionality should be documented on the [Commits API](https://docs.gitlab.com/ee/api/commits.html) resource page, including a list of attributes and an example response.\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-11-05T20:38:37.800Z","updated_at":"2022-11-22T20:12:34.615Z","closed_at":"2020-02-13T20:43:19.809Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:API","customer","devops::manage","direction","group::ecosystem [DEPRECATED]","missed:12.7","release post item","type::feature","workflow::in review"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"}],"author":{"id":3646819,"username":"deuley","name":"Patrick Deuley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3646819/avatar.png","web_url":"https://gitlab.com/deuley"},"type":"ISSUE","assignee":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"user_notes_count":16,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35671","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35671","notes":"https://gitlab.com/api/v4/projects/278964/issues/35671/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35671/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35671","relative":"#35671","full":"gitlab-org/gitlab#35671"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2042,"epic":{"id":13639,"iid":2042,"title":"API Development and Expansion","url":"/groups/gitlab-org/-/epics/2042","group_id":9970,"human_readable_end_date":"Feb 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26715564,"iid":35632,"project_id":278964,"title":"Dynamic child pipeline creation via artifact includes","description":"### Problem to solve\n\nThe `include` keyword (https://docs.gitlab.com/ee/ci/yaml/#include) currently supports 4 keywords:\n\n- `local`\n- `file`\n- `template`\n- `remote`\n\nWe don't support including a file from an artifact, though, which would be useful for child/parent pipelines (https://gitlab.com/gitlab-org/gitlab/issues/16094) in order to generate CI YAML in one job and dynamically start a pipeline using that YAML in a subsequent one.\n\n### Intended users\n\nPipeline authors\n\n### Further details\n\nFeature will be rolled out behind `ci_dynamic_child_pipeline` feature flag.\n\n### Proposal\n\nLet's suppose we have a job that generates pipeline configurations and we want child pipelines to be created using the dynamically generated configs:\n\n```yaml\nstage:\n  - build\n  - test\ngenerate-config:\n  stage: build\n  script:\n    - generate_yaml --service=A \u003e config-a.yml\n    - generate_yaml --service=B \u003e config-b.yml\n  artifacts:\n    paths:\n      - config-a.yml\n      - config-b.yml\n\nservice-a:\n  stage: test\n  trigger:\n    include:\n      - artifact: config-a.yml\n        job: generate-config\n\nservice-b:\n  stage: test\n  trigger:\n    include:\n      - artifact: config-b.yml\n        job: generate-config\n```\n\n1. define `trigger:include:artifact` config entry and validations\n1. enable server-side artifact download when `trigger:include:artifact` is used\n1. allow creation of child pipeline to evaluate `trigger:include:artifact` by consequence\n\n\n\n\n\n\n\n#### Future improvements\n\n- One possibility is that if the `job` keyword is not provided, it will search through all artifacts available to the job and use the first matching file.\n- Use a `bootstrap` job that where all trigger jobs can download artifacts from\n\n```yaml\nbootstrap:\n  script:\n    - generate_yaml \u003emy_1.yml\n    - generate_yaml \u003emy_2.yml\n  artifacts:\n    paths:\n      - my_1.yml\n      - my_2.yml\n\nuse_yaml_trigger_1:\n  trigger:\n    include:\n      - artifact: my_1.yml # defaults to taking artifact from bootstrap job, as bootstrap is specified implicitly as `job: bootstrap`\n\nuse_yaml_trigger_2:\n  trigger:\n    include:\n      - artifact: my_2.yml\n        job: bootstrap # optional since the generating job is called bootstrap\n```\n\nWe default to a job called `bootstrap` if no `job:` value is provided. This would make things easier in simple use cases.\n\n### Constraints and limitations\n\nThe `artifact` keyword would not be usable on the top-level as follows, since that would result in undefined behavior (no job has run at the point the top-level `include` keyword is parsed):\n\n```yaml\ninclude:\n  - artifact: my.yml\n    job: generate_yaml\n```\n\n\n### Permissions and Security\n\nAs trigger jobs are executed server-side the `include:artifact` causes a download of the artifact on the server in order to be evaluated. We need to treat this carefully from security and performance point of view.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\nAn important example in the documentation to provide for this feature should be setting up matrix builds using child pipelines.\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references","state":"closed","created_at":"2019-11-05T13:44:35.473Z","updated_at":"2021-04-03T08:23:28.905Z","closed_at":"2020-03-20T08:19:27.276Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Kickoff Highlight","Verify::P1","backend","customer","devops::verify","direction","documentation","group::pipeline execution","missed:12.8","type::feature","workflow::production"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":2243533,"username":"jyavorska","name":"Jason Yavorska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2243533/avatar.png","web_url":"https://gitlab.com/jyavorska"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":55,"merge_requests_count":0,"upvotes":34,"downvotes":2,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35632","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35632","notes":"https://gitlab.com/api/v4/projects/278964/issues/35632/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35632/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35632","relative":"#35632","full":"gitlab-org/gitlab#35632"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2750,"epic":{"id":25852,"iid":2750,"title":"Parent-Child Pipeline MVC \u0026 Follow-Ups","url":"/groups/gitlab-org/-/epics/2750","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26714405,"iid":35629,"project_id":278964,"title":"License Management job failing with distribution was not found exception","description":"### Summary\n\nLicense Management job failing with distribution was not found exception for Python and 'sentry-sdk\u003e=0.7.7' package.\n\n### Steps to reproduce\n\nRun `license-management` against a Python project with a dependency on `sentry-sdk\u003e=0.7.7`in `requirements.txt` file\n\n### Example Project\n\n[https://gitlab.com/new10/services/security-dashboard/-/jobs/342079133](https://gitlab.com/new10/services/security-dashboard/-/jobs/342079133)\n\n### What is the current *bug* behavior?\n\nThe `license_management` job fails and produces no report, with following log\n\n![Screenshot_2019-11-05_at_14.19.10](/uploads/a7518c3a36100ef3b9419cd8e11652b3/Screenshot_2019-11-05_at_14.19.10.png)\n\n### What is the expected *correct* behavior?\n\nThe `license_management` job should be be able to check license of `sentry-sdk`, because it supported by Python3.5 .","state":"closed","created_at":"2019-11-05T13:22:24.138Z","updated_at":"2020-01-27T14:03:48.207Z","closed_at":"2020-01-17T20:03:37.947Z","closed_by":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","backend","customer","devops::secure","group::composition analysis","priority::2","severity::1","type::bug","workflow::production"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"}],"author":{"id":1990329,"username":"kolyaskink","name":"Kirill kolyaskin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1990329/avatar.png","web_url":"https://gitlab.com/kolyaskink"},"type":"ISSUE","assignee":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35629","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35629","notes":"https://gitlab.com/api/v4/projects/278964/issues/35629/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35629/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35629","relative":"#35629","full":"gitlab-org/gitlab#35629"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26711303,"iid":35624,"project_id":278964,"title":"User popover adds many `aria-describedby`s","description":"From  https://gitlab.com/gitlab-org/gitlab/merge_requests/19519/diffs#note_239836567\n\nWhen you hover over a username and see the popover multiple times, the aria-describedby attribute is appended to, and old values are not removed\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/02861c2d9da155a1015ed3811a67542e/image.png)\n\nPossibly need a `$emit('close')` or something before calling `$destroy()`","state":"closed","created_at":"2019-11-05T12:01:58.856Z","updated_at":"2019-12-09T20:51:10.191Z","closed_at":"2019-12-09T20:51:10.088Z","closed_by":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"labels":["Community contribution","[deprecated] Accepting merge requests","accessibility","devops::plan","frontend","group::project management","javascript","priority::3","severity::3","type::bug"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[],"author":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35624","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35624","notes":"https://gitlab.com/api/v4/projects/278964/issues/35624/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35624/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35624","relative":"#35624","full":"gitlab-org/gitlab#35624"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26698812,"iid":35612,"project_id":278964,"title":"Optimize query for fetching CI pipelines for a merge request","description":"When an MR with a large number of commits is opened, the number of pipelines is calculated for the latest `10,000` commits. In order to do that an SQL query is performed to check how many of `ci_pipelines` belong to these `10,000` commits via `source_sha` or `sha`:\n\n```sql\n   (81.4ms)  SELECT COUNT(*) FROM ((SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"project_id\" = 35 AND\n (\"ci_pipelines\".\"config_source\" IN (1, 2) OR \"ci_pipelines\".\"config_source\" IS NULL) AND \"ci_pipelines\".\"source\" = 10 AND\n \"ci_pipelines\".\"merge_request_id\" = 817 AND \"ci_pipelines\".\"source_sha\" IN ('\\x691d88b71d51786983b823207d876cee7c93f5d4',\n '\\x06eb3d091d6f7fdba6559dc323098a1882a4acb4', '\\x884c2fe2f77871558fb3e9404ab0c2f074e3a62e', \n'\\x7c91a466db66725ae1d1facee3954f9424deea27', '\\x90a188d85decedb847f13e51d3333ba64a5d09bb', \n'\\x9599936cb2b62724668d3c708d346c7c44894442', '\\x037096ef6c2c2f804302efb429bcd1eb5123b5e9', \n'\\x97076881516edd0523841e679f8252928dedc167', '\\x9246fd5707c18553ab2904ba2c37ed4ddfe1b3a9', \n'\\x739f50c3b571d3566f9f21769357010f0989b19c', '\\x34f5eb1b93b5c1e7d8ed8d578d8b94cd33d2dca3', \n'\\xfeb571a1ddf41826b339bf5dd1984561622998bb', '\\xc04b3d61e8487617346718150d6392c33bd0b1e7', \n'\\x746f54787799ee5ea8595a8730d363bfd250ffab', '\\x4230b4e4d38b19a2506f5266a81dc41db8ac1165', \n'\\x0d9fb8d409a2e0d92d5e6b7c338a500ab9229a14', '\\xbcd2458076512ad80c6e470d9434618f27dfec3c', \n'\\xf74bd44d2a9171c51ec7c9a622d7628044791d9e', '\\xddf2dcf7fdad69135cee590307773b255d2fe0b5', \n'\\xb3b7d2c166a032ca11551e06664439d83f2caf59', '\\x7e87990ecd8d1c1ac0a7a32661552a44c95b89d0', \n'\\x558f41ddb4cae44f386790b6f9fbefb757656b6e', '\\x67b0c419be85639f246154c96f131a2c1b0622c5', \n... etc\n```\n\nWe should reconsider the logic of [`all_pipelines`](https://gitlab.com/gitlab-org/gitlab/blob/master/app%2Fmodels%2Fmerge_request.rb#L1227) method, because currently it just performs `SELECT IN` query and passes an array as a param (which can contain `10,000` elements)\n\nWhat about using a subquery instead?\n\n```sql\n   (2.7ms)  SELECT COUNT(*) FROM ((SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"project_id\" = 35 AND (\"ci_pipelines\".\"config_source\" IN (1, 2) OR \"ci_pipelines\".\"config_source\" IS NULL) AND \"ci_pipelines\".\"source\" = 10 AND \"ci_pipelines\".\"merge_request_id\" = 817 AND \"ci_pipelines\".\"source_sha\" IN (SELECT  \"merge_request_diff_commits\".\"sha\" FROM \"merge_request_diff_commits\" WHERE \"merge_request_diff_commits\".\"merge_request_diff_id\" IN (SELECT  \"merge_request_diffs\".\"id\" FROM \"merge_request_diffs\" WHERE \"merge_request_diffs\".\"merge_request_id\" = 817 ORDER BY \"merge_request_diffs\".\"id\" DESC LIMIT 100) LIMIT 10000))\nUNION ALL\n(SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"project_id\" = 35 AND (\"ci_pipelines\".\"config_source\" IN (1, 2) OR \"ci_pipelines\".\"config_source\" IS NULL) AND \"ci_pipelines\".\"source\" = 10 AND \"ci_pipelines\".\"merge_request_id\" = 817 AND \"ci_pipelines\".\"sha\" IN (SELECT  encode(sha, 'hex') FROM \"merge_request_diff_commits\" WHERE \"merge_request_diff_commits\".\"merge_request_diff_id\" IN (SELECT  \"merge_request_diffs\".\"id\" FROM \"merge_request_diffs\" WHERE \"merge_request_diffs\".\"merge_request_id\" = 817 ORDER BY \"merge_request_diffs\".\"id\" DESC LIMIT 100) LIMIT 10000))\nUNION ALL\n(SELECT \"ci_pipelines\".* FROM \"ci_pipelines\" WHERE \"ci_pipelines\".\"project_id\" = 35 AND (\"ci_pipelines\".\"config_source\" IN (1, 2) OR \"ci_pipelines\".\"config_source\" IS NULL) AND (\"ci_pipelines\".\"source\" IN (1, 2, 3, 4, 5, 6, 7, 8, 11, 9) OR \"ci_pipelines\".\"source\" IS NULL) AND \"ci_pipelines\".\"ref\" = 'master' AND \"ci_pipelines\".\"tag\" = FALSE AND \"ci_pipelines\".\"sha\" IN (SELECT  encode(sha, 'hex') FROM \"merge_request_diff_commits\" WHERE \"merge_request_diff_commits\".\"merge_request_diff_id\" IN (SELECT  \"merge_request_diffs\".\"id\" FROM \"merge_request_diffs\" WHERE \"merge_request_diffs\".\"merge_request_id\" = 817 ORDER BY \"merge_request_diffs\".\"id\" DESC LIMIT 100) LIMIT 10000))) ci_pipelines\n```\n\nRelated issue: https://gitlab.com/gitlab-org/gitlab/issues/30507","state":"closed","created_at":"2019-11-05T08:34:27.811Z","updated_at":"2019-12-18T11:28:51.698Z","closed_at":"2019-12-16T09:47:26.507Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Deliverable","backend","backstage [DEPRECATED]","bug::performance","devops::create","group::source code","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35612","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35612","notes":"https://gitlab.com/api/v4/projects/278964/issues/35612/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35612/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35612","relative":"#35612","full":"gitlab-org/gitlab#35612"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":31696459,"iid":209332,"project_id":278964,"title":"Write unit tests and integration tests for the gemnasium-maven-plugin","description":"Currently the https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven-plugin plugin does not have any tests.  \nGoing forward we should write some tests to ensure this plugin will work correctly when we update it.\n\nImplementation Plan:\n\n* [ ] Add unit tests\n* [ ] Add integration tests\n* [ ] Add downstream pipeline to trigger the functional tests in https://gitlab.com/gitlab-org/security-products/tests/java-maven\n* [ ] Add scheduled job to run test suite daily.\n* [ ] Add java14 test job. https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven-plugin/-/blob/1eabc081be693607adbb3fa07d9c377be9aca359/.gitlab-ci.yml#L19-31\n\n## Testing\n\nSET to add to the `https://gitlab.com/gitlab-org/quality/secure-test-project-orchestrator/` pipelines","state":"closed","created_at":"2019-11-04T22:36:31.297Z","updated_at":"2021-01-14T00:56:10.207Z","closed_at":"2020-10-01T17:33:05.144Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["AST Leadership","Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","feature::enhancement","good for new contributors","group::composition analysis","maintenance::refactor","missed-deliverable","missed:13.3","quad-planning::complete-action","section::sec","test","type::feature","wontfix","workflow::ready for development"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"}],"author":{"id":25949,"username":"haynes","name":"Hannes RosenÃ¶gger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/25949/haynes_500x500.jpg","web_url":"https://gitlab.com/haynes"},"type":"ISSUE","assignee":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/209332","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/209332","notes":"https://gitlab.com/api/v4/projects/278964/issues/209332/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/209332/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#209332","relative":"#209332","full":"gitlab-org/gitlab#209332"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3233,"epic":{"id":51005,"iid":3233,"title":"Reliability, Performance of Dependency Scanning","url":"/groups/gitlab-org/-/epics/3233","group_id":9970,"human_readable_end_date":"Dec 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26685817,"iid":35590,"project_id":278964,"title":"Track container registry events in API endpoints","description":"## Problem\n\nContainer registry events are being tracked using Snowplow when users initiate actions using the frontend GUI, however these events are not tracked within the container registry API endpoints.\n\n## Solution\n\nAdd tracking to the container registry API endpoints for projects and groups\n\n## What does success look like?\n\nWe should see an increase in our metrics around these actions that more accurately depict usage.","state":"closed","created_at":"2019-11-04T21:53:10.896Z","updated_at":"2019-12-04T20:17:02.672Z","closed_at":"2019-12-04T20:17:02.398Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","backend","backstage [DEPRECATED]","devops::package","group::package registry","package:active","workflow::staging"],"milestone":null,"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35590","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35590","notes":"https://gitlab.com/api/v4/projects/278964/issues/35590/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35590/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35590","relative":"#35590","full":"gitlab-org/gitlab#35590"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26683540,"iid":35579,"project_id":278964,"title":"Remove `graphql_logging` feature flag","description":"This has been in production with no issues so it's time to remove it.\n\nSee context: https://gitlab.com/gitlab-cookbooks/gitlab_fluentd/merge_requests/79#note_239847191\n\n## Availability and Testing\n\nPlease let `#quality` know when the feature flag is removed so that we can monitor for any possible issues.","state":"closed","created_at":"2019-11-04T20:24:26.168Z","updated_at":"2021-04-28T21:42:35.701Z","closed_at":"2021-04-28T21:42:35.632Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["Deliverable","GraphQL","Next Up","backend","devops::plan","feature flag","group::project management","quad-planning::complete-action","section::dev","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35579","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35579","notes":"https://gitlab.com/api/v4/projects/278964/issues/35579/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35579/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35579","relative":"#35579","full":"gitlab-org/gitlab#35579"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26680796,"iid":35571,"project_id":278964,"title":"Display strategy information on feature flags list view","description":"### Problem to solve\n\nWith the introduction of support for multiple strategies per feature flag introduced in https://gitlab.com/gitlab-org/gitlab/issues/35554, we need to display relevant strategy information in the list view of feature flags.  \n\n\n### Intended users\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n* Developers who create feature flags\n* QA engineers enabling/disabling flags\n* Release managers who want to control which features are released and to which customer base\n* Support engineers that wish to release features to beta customers or test version to fix bugs for specific customers\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\nAdd the following data to the feature flag list display\n\n* List of strategies\n* Strategy type\n* Strategy parameters/settings\n* Environments for each strategy\n\n### UX Proposal\nAdd a Strategies section to the feature flag list items and display a badge for each of the strategies defined for a given feature flag.\n\nBadges format\nType - Parameters: enviorments\n\n![Feature_Flags_list](/uploads/06660b2c65549dfd9841cffe88a76309/Feature_Flags_list.png)\n\n| Desc | Mockup |\n| ------ | ------ |\n| Max state - Description and strategies wrap | ![image](/uploads/4c267fd5eeb385122b856b27a846f2a4/image.png) |\n| Mobile view | ![Feature_Flags_list_mobile](/uploads/70e58a0b52c471751bd80f2996976bc3/Feature_Flags_list_mobile.png) | \n\nTerminology update from `group` to `list`. Mockups are not updated with this.\n\n### Permissions and Security\nUsers can only modify feature flags that include environments they have access to. \n\n### Documentation\n\n### Testing\n\n### What does success look like, and how can we measure that?\n\n### What is the type of buyer? \n\n### Links / references\nMockups are based on changes introduced in https://gitlab.com/gitlab-org/gitlab/issues/35574","state":"closed","created_at":"2019-11-04T19:35:41.662Z","updated_at":"2021-02-19T09:44:01.172Z","closed_at":"2020-08-12T20:33:01.869Z","closed_by":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"labels":["Category:Feature Flags","Deliverable","Release::P1","UX","backend-weight::1","cicd::active","devops::release","direction","frontend-weight::1","group::release","release post item::in review","type::feature","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35571","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35571","notes":"https://gitlab.com/api/v4/projects/278964/issues/35571/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35571/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35571","relative":"#35571","full":"gitlab-org/gitlab#35571"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2134,"epic":{"id":14547,"iid":2134,"title":"Feature Flags Improvements - user action enhancements","url":"/groups/gitlab-org/-/epics/2134","group_id":9970},"iteration":null,"health_status":null},{"id":26660759,"iid":35555,"project_id":278964,"title":"Make managing feature flag environments and strategies easier","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nIn the current UX for feature flags, environments and strategies are too closely bound. This makes it difficult or impossible to effectively manage complex interactions or large numbers of environments/strategies. \n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n* Developers who create feature flags\n* QA engineers enabling/disabling flags\n* Release managers who want to control which features are released and to which customer base\n* Support engineers that wish to release features to beta customers or test version to fix bugs for specific customers\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\nCreating strategies via API will be done in https://gitlab.com/gitlab-org/gitlab/issues/204895. This issue is to cover the same functionality via UI. per the UX proposal below:\n\n\nAllow users to define strategies independent of environments.  Allow users to optionally specify environments a strategy should be applied to.\n\n### UX Proposal\nRemove the `Target environments` section and replace it with a Strategies section.\n  - The strategy section should include the following helper text.\n    - `Enable features for specific users and specific environments by defining feature flag strategies. By default, features are available to all users in all environments.`\n  - Allow users  to choose a strategy type\n  - Allow users to adjust strategy parameters\n  - Strategy should default to `All users`\n  - Allow users to add environments to the strategy\n    - Strategy should default to `All environments`\n    - Selecting an environment should remove All environments label\n    - Allow users to search for existing environments (exclude already selected environments)\n    - Allow user to create a tag for an environment if it does not exist\n\n| Desc | Mockup |\n| ------ | ------ |\n| Strategies | ![Feature_Flag_Detail](/uploads/c5b2797184c0e0aa9212191226536852/Feature_Flag_Detail.png) |\n| Default strategy | ![Feature_Flag_Detail_Default](/uploads/779bf8060f7c22b23081b86727a6cea1/Feature_Flag_Detail_Default.png) | \n| Add environment | ![Add_Environments](/uploads/552058c90a72696042b291f75f39734d/Add_Environments.png) |\n| Create environment tag | ![Add_Environments_Create](/uploads/00db3fce82af1ccb6b43241ea8be7cb9/Add_Environments_Create.png) |\n| Multiple strategies | ![image](/uploads/7e378013e9d7a963c9069df6596e8545/image.png) |\n| Empty strategy state | ![image](/uploads/d1818a7943e378df9c6be9a4278bfd45/image.png) |\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Permissions and Security\nUsers can only modify strategies that include environments they have access to. Users should only be allowed to add/remove environments they have access to.  \n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references\nThis issue is closely related to https://gitlab.com/gitlab-org/gitlab/issues/35554.  As designed this will limit functionality until https://gitlab.com/gitlab-org/gitlab/issues/35554 is also implemented.","state":"closed","created_at":"2019-11-04T14:21:39.997Z","updated_at":"2021-10-11T08:44:30.943Z","closed_at":"2020-04-16T14:29:17.772Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["Category:Feature Flags","Deliverable","GitLab Premium","Release::P1","UI text","UX","cicd::active","depth","devops::release","direction","group::release","missed-deliverable","missed:12.8","missed:12.9","type::feature"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":66,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35555","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35555","notes":"https://gitlab.com/api/v4/projects/278964/issues/35555/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35555/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35555","relative":"#35555","full":"gitlab-org/gitlab#35555"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2130,"epic":{"id":14526,"iid":2130,"title":"Refactor Feature Flags UX","url":"/groups/gitlab-org/-/epics/2130","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26658325,"iid":35554,"project_id":278964,"title":"Multiple feature flag strategies per environment","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nThe way we designed feature flags today, enforces the user to create an environment per strategy. \nYou can't define multiple startegies per environment which is a valid use case that we want to support.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n* Developers who create feature flags\n* QA engineers enabling/disabling flags\n* Release managers who want to control which features are released and to which customer base\n* Support engineers that wish to release features to beta customers or test version to fix bugs for specific customers\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\nAllow users to add multiple strategies to a feature flag.\n\n### UX Proposal\nAllow users to add/remove strategies to a feature flag.\n  - Add a button to allow users to add additional strategies \n    -  On clicking a new strategy row to the bottom of the list\n    - Default strategy to `All users` type with `All environments`\n  - Add buttons per strategy to allow users to remove a strategy\n    - Require there to be at least one strategy\n    - The first item of the list should not have a remove button\n\n![Feature_Flag_Detail](/uploads/12ea57542dd12db2017adb20ad23642f/Feature_Flag_Detail.png)\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Permissions and Security\nUsers can only modify strategies that include environments they have access to. Users should only be allowed to add/remove environments they have access to.\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references\nThis issue is dependent on https://gitlab.com/gitlab-org/gitlab/issues/35555","state":"closed","created_at":"2019-11-04T14:17:17.614Z","updated_at":"2021-04-03T08:32:15.792Z","closed_at":"2020-02-20T14:40:49.702Z","closed_by":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"labels":["Category:Feature Flags","GitLab Premium","Kickoff Highlight","Release::P2","UX","cicd::active","devops::release","direction","group::release","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":36,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35554","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35554","notes":"https://gitlab.com/api/v4/projects/278964/issues/35554/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35554/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35554","relative":"#35554","full":"gitlab-org/gitlab#35554"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3978,"epic":{"id":83948,"iid":3978,"title":"Feature Flag Strategies","url":"/groups/gitlab-org/-/epics/3978","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26655617,"iid":35553,"project_id":278964,"title":"\"Create merge request and branch\" from issue sometimes not setting the branch name that the user wants.","description":"### Summary\n\nUsing the Create merge request and branch from an issue automatically creates an branch name in the input field. The predefined placeholder gets created on first access to the issue. After changing the placeholder title of the branch to a name that includes a  `/` character (example `feature/issue-name`) the branch name sometimes is created with the default placeholder title, sometimes with a \"partial\" of the altered name, sometimes without the `/` character at all and sometimes it works like expected.\n\n### Steps to reproduce\n* Create issue in a repo\n* Click on the Create merge request button\n* Take a look at the recommended branch name\n* Change the issue title\n* Click in the Create merge request button\n* Take a look at the new branch name which does not match the changed issue title\n\n### Example Project\nWorks on every project currently on GitLab.com.\n\n### What is the current bug behavior?\nWhen changing the placeholder title of the branch name to a name that includes a  `/` character (example `feature/issue-name`) the branch name sometimes is created with the default placeholder, sometimes with a \"parcial\" of the altered name, sometimes without the `/` character at all and sometimes it works like expected.\n\n### What is the expected correct behavior?\nThe branch name is set like the user requested everytime.","state":"closed","created_at":"2019-11-04T13:55:05.123Z","updated_at":"2021-07-19T02:03:42.105Z","closed_at":"2021-07-19T02:03:42.090Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ð¤ GitLab Bot ð¤","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Code Review Workflow","[deprecated] Accepting merge requests","auto closed","devops::create","frontend","group::code review","merge requests","missed:12.10","missed:12.8","missed:12.9","missed:13.0","missed:13.1","priority::3","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":112350,"username":"francovp","name":"Franco Valerio","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/112350/avatar.png","web_url":"https://gitlab.com/francovp"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35553","notes":"https://gitlab.com/api/v4/projects/278964/issues/35553/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35553/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35553","relative":"#35553","full":"gitlab-org/gitlab#35553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26655382,"iid":35552,"project_id":278964,"title":"Improve logging of sync services","description":"\u003e {\"severity\":\"INFO\",\"time\":\"2019-07-26T00:32:25.645Z\",\"correlation_id\":\"0c34fa7f-0730-4ccd-8054-bdbd19790224\",\"class\":\"Geo::FileDownloadDispatchWorker\",\"message\":\"Finished scheduler\",\"job_id\":\"1691016f2dd940f2ce34311e\",\"total_loops\":0,\"duration\":0.081166261,\"reason\":\"complete\"}\n\nTo investigate some production problems easier I think we need to have more attributes here like:\n\n- :white_check_mark: `host` - This would be a unique host/node name that will apply to all Geo log entries\n\n:point_up: implemented in https://gitlab.com/gitlab-org/gitlab/merge_requests/21171\n\n- `trigger_type` - With valid values being `backfill` or `event`\n- `event_id` - If `trigger_type` == `event` then include the event ID.","state":"closed","created_at":"2019-11-04T13:50:30.128Z","updated_at":"2020-05-19T15:54:03.365Z","closed_at":"2020-05-19T15:53:53.685Z","closed_by":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"labels":["Geo Administration","devops::systems","group::geo","missed:12.8","missed:12.9","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":30,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35552","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35552","notes":"https://gitlab.com/api/v4/projects/278964/issues/35552/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35552/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35552","relative":"#35552","full":"gitlab-org/gitlab#35552"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26653544,"iid":35549,"project_id":278964,"title":"Process less number of commits for squash commit message calculating","description":"In order to calculate [`default_squash_commit_message`](https://gitlab.com/gitlab-org/gitlab/blob/master/app%2Fserializers%2Fmerge_request_poll_cached_widget_entity.rb#L18) and [`commits_without_merge_commits`](https://gitlab.com/gitlab-org/gitlab/blob/master/app%2Fserializers%2Fmerge_request_poll_cached_widget_entity.rb#L29) all commits of the MR are processed:\n\n- `default_squash_commit_message` finds the first commit with a description. It's used to suggest the default message for a squash commit\n- `commits_without_merge_commits` returns all non-merge commits. It's used for allowing a user to select a squash commit message from the existing commit messages\n\n![Untitled](/uploads/e402e8957ab68e89a5815930c090b5dc/Untitled.mov)\n\nProcessing a high number of commits causes performance degradation: https://gitlab.com/gitlab-org/gitlab/issues/30507\n\nWe may consider processing a fewer number of commits in order to provide squash-commit message suggestions.\n\nNoto for a developer: since the message is displayed only when an MR can be merged, it'd be reasonable to send these fields only when the MR can be merged","state":"closed","created_at":"2019-11-04T13:08:05.099Z","updated_at":"2019-12-18T11:28:51.744Z","closed_at":"2019-11-28T08:20:24.672Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Application Limits","Deliverable","backend","backstage [DEPRECATED]","bug::performance","devops::create","group::source code","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35549","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35549","notes":"https://gitlab.com/api/v4/projects/278964/issues/35549/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35549/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35549","relative":"#35549","full":"gitlab-org/gitlab#35549"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26653119,"iid":35546,"project_id":278964,"title":"Return meaningful error when adding one child epic at time and it fails","description":"This issue is about fixing the error message for a case only one epic is being added to the parent epic and creating this relation fails.\n\n### Summary\n\nWhen adding an epic fails a general `404` error is returned. We should return a specific error instead, at least when a user tries to add only one child epic at time. The errors returned could be:\n\n- parrent epic == child epic\n- child epic is already in the structure \n- level would be too deep after adding a child epic\n- child epic doesn't belong to group (or subgroup) of a parent epic\n\nhttps://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/models/ee/epic.rb#L324 for more context\n\nOne of the examples:\n\nAdding an Epic with depth \u003c 4 as a sub-epic of another with levels of ancestry \u003c 4 results in a 404 when total depth \u003e 5.\n\n### Steps to reproduce\n\n1. Create 7 new Epics.\n2. Organise them into a hierarchy such that:\n\n```\nEpic 1\n\u003e Epic 2\n\u003e\u003e Epic 3\n\u003e\u003e\u003e Epic 4\n\nEpic 5\n\u003e Epic 6\n\u003e\u003e Epic 7\n```\n\n3. Attempt to add Epic 5 as a sub-epic of Epic 4\n\n### What is the current *bug* behavior?\n\nCurrently a 404 is returned with the error message `No Epic found for given params`.\n\n### What is the expected *correct* behavior?\n\nA 409 should be returned with the message `Epic hierarchy level too deep`, as when Epics are added sequentially (i.e. epic already has depth 5 and you try to add another sub-epic).\n\nThis is important because it will affect the error message shown to the user when https://gitlab.com/gitlab-org/gitlab/issues/32557 is complete.\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-11-04T12:55:10.328Z","updated_at":"2021-11-08T16:55:37.850Z","closed_at":"2020-02-19T05:52:45.286Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Portfolio Management","backend","devops::plan","epics","group::product planning","missed:12.7","priority::4","severity::4","type::bug"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":8,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35546","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35546","notes":"https://gitlab.com/api/v4/projects/278964/issues/35546/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35546/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35546","relative":"#35546","full":"gitlab-org/gitlab#35546"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26653060,"iid":35545,"project_id":278964,"title":"Create shared sidebar container for issuables","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nUse https://gitlab.com/gitlab-org/gitlab/merge_requests/18199 as the container for the new issuable sidebar.\n\n## Improvements\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n\nWe currently have a mashup of sidebar solutions. This will give us one standard container that all pages with a sidebar can use, making it easier to reason about, reducing maintenance time and ease at which new components can be added.\n\n## Risks\n\n\u003c!--\nPlease list features that can break because of this refactoring and how you intend to solve that.\n--\u003e\n\n- We can't use this sidebar on pages until components use GraphQL\n    - Strategy is for us to use GraphQL instead of REST for refactors. As we build out components we can learn what attributes need to be added to our GraphQL APIs\n- We haven't committed to using Apollo in place of Vuex\n    - This will help us gather data on whether we want to make that commitment or not. And if we decide that we want to continue use of Vuex, we can go back to the current Vuex implementation.\n\n## Involved components\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n`/app/assets/javascripts/issuable_sidebar/`","state":"closed","created_at":"2019-11-04T12:53:13.145Z","updated_at":"2020-09-15T21:16:02.677Z","closed_at":"2020-09-15T21:10:36.478Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["backstage [DEPRECATED]","devops::plan","frontend","group::project management","missed:12.10","missed:12.8","missed:12.9","missed:13.0","missed:13.1","missed:13.2","missed:13.3","section::dev","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35545","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35545","notes":"https://gitlab.com/api/v4/projects/278964/issues/35545/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35545/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35545","relative":"#35545","full":"gitlab-org/gitlab#35545"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2133,"epic":{"id":14543,"iid":2133,"title":"Refactor Issuable sidebar to use GraphQL","url":"/groups/gitlab-org/-/epics/2133","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26651578,"iid":35542,"project_id":278964,"title":"Projects::MergeRequestsController#commits degrades with high commits count","description":"### Summary\n\nExtracted from: https://gitlab.com/gitlab-org/gitlab/issues/30507\n\nCurrently [Projects::MergeRequestsController#commits](https://gitlab.com/gitlab-org/gitlab/blob/master/app%2Fcontrollers%2Fprojects%2Fmerge_requests_controller.rb#L92) uses [MergeRequestDiff#commits](https://gitlab.com/gitlab-org/gitlab/blob/master/app%2Fmodels%2Fmerge_request_diff.rb#L533) method, which loads all diff commits into the memory, but still [limits them](https://gitlab.com/gitlab-org/gitlab/blob/master/app%2Fcontrollers%2Fconcerns%2Frenders_commits.rb#L5) to the safe number (100)\n\nConsider querying the limited number of commits by passing a `limit` param to the `MergeRequestDiff#commits` method. Also an author and latest pipeline can be preloaded to avoid `N + 1`","state":"closed","created_at":"2019-11-04T12:04:01.077Z","updated_at":"2020-04-01T17:41:33.133Z","closed_at":"2019-11-28T08:20:11.940Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Deliverable","backend","backstage [DEPRECATED]","bug::performance","devops::create","group::source code","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35542","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35542","notes":"https://gitlab.com/api/v4/projects/278964/issues/35542/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35542/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35542","relative":"#35542","full":"gitlab-org/gitlab#35542"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26649052,"iid":35540,"project_id":278964,"title":"POC: Geo Framework for Repositories and Uploads","description":"I am proposing to [move Geo towards a framework-like structure](https://gitlab.com/gitlab-org/gitlab/issues/34785). In order to validate this approach, we should create a proof of concept that showcases end-to-end how this framework *may* look like. The purpose is to validate some very basic assumptions and facilitate discussion in the team regarding technical direction. This should be the *absolute minimal iteration*! It is about the concept, not about a clean implementation.\n\n### Problem to solve\n\n* Geo is usually not considered by other teams when implementing features\n* Customers expect new features (and their data) to be replicated either for performance or Disaster Recovery purposes\n* Adding new data types to Geo is hard and can only be performed by the Geo team\n* Verification of data types is difficult and does not perform well. Again only the Geo team can do this\n* The company is growing rapidly and adds new features; the current operational mode is not scalable\n* Software developers across GitLab are not empowered to make their features geo-compatbile\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n* Use the existing repositories data type to validate some assumptions\n* Implement a POC interface for adding a Geo datatype\n* Implement a POC event-based system based on @dbalexandre's suggestion in https://gitlab.com/gitlab-org/gitlab/issues/12565\n* Implement a POC for verification based on https://gitlab.com/groups/gitlab-org/-/epics/2097\n\nThis should cover the entire data type end to end. It may not even work but it should allow to discuss the direction with the team.\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n* An MR that showcases a potential future framework with a solid foundation for repositories\n* Defined next steps for the Geo framework\n* Actionable discussion in the Geo team\n\n### Links / references","state":"closed","created_at":"2019-11-04T10:55:28.797Z","updated_at":"2021-04-27T04:06:28.252Z","closed_at":"2020-01-15T09:32:39.310Z","closed_by":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"labels":["Deliverable","POC","devops::systems","direction","group::geo","missed-deliverable","missed:12.6"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"type":"ISSUE","assignee":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"user_notes_count":41,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35540","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35540","notes":"https://gitlab.com/api/v4/projects/278964/issues/35540/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35540/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35540","relative":"#35540","full":"gitlab-org/gitlab#35540"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2161,"epic":{"id":14724,"iid":2161,"title":"Geo: Build a scalable, self-service geo replication and verification framework","url":"/groups/gitlab-org/-/epics/2161","group_id":9970,"human_readable_end_date":"Oct 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26644891,"iid":35531,"project_id":278964,"title":"Namespace with gold?","description":"Does  `any_namespace_with_gold?` really return the namespaces with gold or any domain?  \n\n in `ee/app/models/ee/user.rb` [here](https://gitlab.com/gitlab-org/gitlab/blob/master/ee%2Fapp%2Fmodels%2Fee%2Fuser.rb)\n","state":"closed","created_at":"2019-11-04T09:14:43.863Z","updated_at":"2020-04-08T11:57:00.023Z","closed_at":"2019-11-18T21:31:10.658Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","group::acquisition"],"milestone":null,"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35531","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35531","notes":"https://gitlab.com/api/v4/projects/278964/issues/35531/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35531/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35531","relative":"#35531","full":"gitlab-org/gitlab#35531"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26641924,"iid":35528,"project_id":278964,"title":"Add UI event tracking for container registry","description":"This issue breaks down the task detailed in #34507 for the container registry, to allow an easier work splitting across different functionalities / page.\n\nAdd a distinct tracking event for:\n\n* single tag delete modal open\n* single tag delete confirm\n* single tag delete cancel\n* multi tag delete modal open\n* multi tag delete confirm\n* multi tag delete cancel\n\n\n~frontend tracking docs available here [docs](https://docs.gitlab.com/ee/development/event_tracking/frontend.html#tracking-within-vue-components)","state":"closed","created_at":"2019-11-04T07:34:26.139Z","updated_at":"2019-11-18T07:14:25.321Z","closed_at":"2019-11-15T09:58:23.063Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Container Registry","Deliverable","devops::package","frontend","group::package registry","package:active","type::feature","workflow::in review"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"NicolÃ² Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":4584738,"username":"nmezzopera","name":"NicolÃ² Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"NicolÃ² Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35528","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35528","notes":"https://gitlab.com/api/v4/projects/278964/issues/35528/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35528/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35528","relative":"#35528","full":"gitlab-org/gitlab#35528"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26641797,"iid":35527,"project_id":278964,"title":"Improve group and project level package api","description":"As per discussion in !18860:\n\nTo use the current [api](https://docs.gitlab.com/ee/api/packages.html#list-project-packages) in the new vue component for package list we need to improve the current functionality\n\nBoth `projects` and `groups` api:\n\n- [x] Add sorting on all the exposed parameters\n    1. name\n    2. version\n    3. type\n    4. created date\n    5. project path ( for group )\n- [x] Add created date\n- [x] Add `_path` dictionary that contains\n   1. details_path\n   2. destroy_path\n\nOn `groups` api\n\n- [x] add project id\n- [x] add project path / namespace ( group + subgroups + project name )","state":"closed","created_at":"2019-11-04T07:27:56.711Z","updated_at":"2021-10-22T18:20:19.133Z","closed_at":"2020-02-04T09:37:17.303Z","closed_by":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"labels":["Category:Package Registry","Package:Triage","[deprecated] Accepting merge requests","backend","devops::package","group::package registry","package:active","type::feature","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"}],"author":{"id":4584738,"username":"nmezzopera","name":"NicolÃ² Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"},"user_notes_count":20,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35527","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35527","notes":"https://gitlab.com/api/v4/projects/278964/issues/35527/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35527/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35527","relative":"#35527","full":"gitlab-org/gitlab#35527"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26629067,"iid":35478,"project_id":278964,"title":"Auto-generated wiki commit message will contain HTML encoded entities for characters like `\u0026 \u003c \u003e \\ \\ { } \u0026`","description":"\n### Summary\n\nWiki page with characters like `\u0026 \u003c \u003e \\ \\ { } \u0026` in the title will result in the commit message containing the HTML encoded entities of the characters: \n\nFor example `Create \u0026amp; \u0026gt; \\ \\ { } \u0026amp;`.\n\nThe commit message should instead preserve the characters as they appear in the title.\n\n### Steps to reproduce\n\n- Create a wiki page with the title `\u0026 \u003c \u003e \\ \\ { } \u0026`\n- Notice that the commit message (at the bottom of the page creation form) contains the HTML encoded entities","state":"closed","created_at":"2019-11-03T22:47:09.039Z","updated_at":"2020-12-10T18:55:34.341Z","closed_at":"2020-02-18T21:22:12.995Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Wiki","Community contribution","devops::create","frontend","group::editor","missed:12.6","priority::4","severity::4","type::bug","workflow::verification"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},{"id":4080648,"username":"2knal","name":"Kunal D. Sonawane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4080648/avatar.png","web_url":"https://gitlab.com/2knal"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":16,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35478","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35478","notes":"https://gitlab.com/api/v4/projects/278964/issues/35478/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35478/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35478","relative":"#35478","full":"gitlab-org/gitlab#35478"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26628701,"iid":35477,"project_id":278964,"title":"(Clenaup Legacy Storage): Remove design_management_require_hashed_storage feature flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:design_management_require_hashed_storage` feature flag.\n\nThis feature flag was added in https://gitlab.com/gitlab-org/gitlab/issues/13428#note_238729038.\n\nIn adding the new requirement for design management that the project repository uses hashed storage https://gitlab.com/gitlab-org/gitlab/issues/13428, we were unable to know for certain whether existing customers would be negatively impacted. \n\nAs mentioned https://gitlab.com/gitlab-org/gitlab/issues/13428#note_238729038 we decided to couple the hashed storage requirement with a feature flag, enabled by default, so we or other people could re-enable design management if they had legacy storage and found their designs disappear:\n\n\u003e I figure this feature flag will be enabled by default and we'll ship the feature flag and leave it for a couple of releases. If we don't hear that anyone was disrupted by the change, we can remove the feature flag. If people were disrupted by the change they can toggle the feature flag to re-enable design management and we can work out what to do from there (either support them in their migration to hashed storage, or come up with a plan B).\n\n## Owners\n\n- Team: ~\"group::knowledge\" \n- Most appropriate slack channel to reach out to: `#g_create_knowledge`\n- Best individual to reach out to: @.luke\n\n## Expectations\n\n###Â What are we expecting to happen?\n\nNothing, as the feature flag is enabled by default. \n\n### What might happen if this goes wrong?\n\nThere is the potential for on-prem customers who had not previously upgraded to 12.5 when the hashed storage was required discovering they are negatively affected once this feature flag is removed.\n\n### What can we monitor to detect problems with this?\n\nNo monitoring required.\n\n## Beta groups/projects\n\nWe won't be doing beta testing, as the feature flag has been enabled by default.\n\n## Roll Out Steps\n\n- [-] Enable on staging\n- [-] Test on staging\n- [-] Ensure that documentation has been updated\n- [-] Enable on GitLab.com for individual groups/projects listed above and verify behaviour\n- [-] Coordinate a time to enable the flag with `#production` and `#g_delivery` on slack.\n- [-] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [-] Enable on GitLab.com by running chatops command in `#production`\n- [-] Cross post chatops slack command to `#support_gitlab-com` and in your team channel\n- [-] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2019-11-03T22:00:01.567Z","updated_at":"2020-12-10T18:59:31.147Z","closed_at":"2020-04-15T02:54:45.225Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Design Management","backend","devops::plan","feature flag","group::product planning"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35477","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35477","notes":"https://gitlab.com/api/v4/projects/278964/issues/35477/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35477/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35477","relative":"#35477","full":"gitlab-org/gitlab#35477"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2320,"epic":{"id":16071,"iid":2320,"title":"Hashed Storage as the only storage","url":"/groups/gitlab-org/-/epics/2320","group_id":9970},"iteration":null,"health_status":null},{"id":26622982,"iid":35473,"project_id":278964,"title":"Web IDE does not work on some branch name","description":"### Summary\n\nIf a branch is named as following `project_group/project_name#123`, the Web IDE is unable to edit files on that branch.\n\n### Steps to reproduce\n- Create a branch named `project_group/project_name#123`\n- Edit a file on that branch with Web IDE\n\n### What is the current *bug* behavior?\n\nGitlab show that banner upon running Web IDE:\n![image](/uploads/36d2f431b476bac508d5f7c33490def1/image.png)\n\n### What is the expected *correct* behavior?\n\nWeb IDE should be able to edit any file on any branch\n\n#### Results of GitLab environment info\n\ngitlab 12.4.0-ee on-premise","state":"closed","created_at":"2019-11-03T12:44:53.957Z","updated_at":"2021-04-30T18:34:30.336Z","closed_at":"2020-02-14T15:58:44.644Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Web IDE","Deliverable","devops::create","frontend","group::editor","missed-SLO","missed-deliverable","missed:12.7","priority::2","severity::2","type::bug"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":259544,"username":"sduquemel","name":"sduquemel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0066f3f309876e9ae468b95ae1bf2c6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/sduquemel"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35473","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35473","notes":"https://gitlab.com/api/v4/projects/278964/issues/35473/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35473/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35473","relative":"#35473","full":"gitlab-org/gitlab#35473"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26569973,"iid":35454,"project_id":278964,"title":"API call to pull user/seat data from GitLab.com","description":"## Problem to solve\n\n`As a user managing my group, I can't easily see when and if a user in a specific team under a group takes up a paid seat. This makes budgeting and forecasting opaque and difficult as I only have one group subscription, but multiple teams with separate seat allowances and budgets`\n\n## Proposal \n\nAs an MVC towards https://gitlab.com/gitlab-org/gitlab/issues/7771, we should make user/seat data available as an API call to provide customers with the information they need to pipe into their own analysis tools.\n\nThis way, customers can have the flexibility to analyse on what date a particular user from a specific team took up a paid seat within their group and report monthly, quarterly and yearly on those events in order for them to forecast licensing needs for the coming year/quarter.\n\nData required:\n\n* Full name, username, email, role (guest, reporter, developer, maintainer, admin)\n* Date/timestamp user last moved into a paid seat (aka reporter, developer, maintainer, admin)\n* Date/timestamp last moved out of a paid seat (aka guest)\n* Date/timestamp for last login","state":"closed","created_at":"2019-11-01T20:57:23.660Z","updated_at":"2022-11-01T04:48:25.136Z","closed_at":"2021-03-01T22:14:14.151Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Deliverable","[deprecated] Accepting merge requests","backend","customer+","devops::fulfillment","gitlab.com","link::parent issue","missed-deliverable","missed:12.8","priority::2","section::fulfillment","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1903246,"username":"tipyn","name":"Luca Kisielius","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1903246/avatar.png","web_url":"https://gitlab.com/tipyn"},"type":"ISSUE","assignee":null,"user_notes_count":98,"merge_requests_count":0,"upvotes":10,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35454","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35454","notes":"https://gitlab.com/api/v4/projects/278964/issues/35454/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35454/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35454","relative":"#35454","full":"gitlab-org/gitlab#35454"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3219,"epic":{"id":50576,"iid":3219,"title":"Improve user management for admins and group owners","url":"/groups/gitlab-org/-/epics/3219","group_id":9970,"human_readable_end_date":"Apr 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26569963,"iid":35453,"project_id":278964,"title":"Issuables List Refactor - Add query params to issuables list.","description":"As per the discussion https://gitlab.com/gitlab-org/gitlab/merge_requests/15091#note_234502345 we need to make sure that when moving through pages on issuables list pagination the page and query params are being updated.","state":"closed","created_at":"2019-11-01T20:56:20.370Z","updated_at":"2022-03-08T10:33:20.661Z","closed_at":"2020-02-27T09:53:21.042Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["backstage [DEPRECATED]","devops::plan","frontend","group::project management","missed:12.8","workflow::in dev"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35453","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35453","notes":"https://gitlab.com/api/v4/projects/278964/issues/35453/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35453/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35453","relative":"#35453","full":"gitlab-org/gitlab#35453"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2084,"epic":{"id":14054,"iid":2084,"title":"Issuable List to Vue refactor","url":"/groups/gitlab-org/-/epics/2084","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26569321,"iid":35446,"project_id":278964,"title":"On hover of user name in MR doesnt show profile popover.","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n(Summarize the bug encountered concisely)\n\nHover on username not working properly in MR's, not sure if this effects other aspects where this component is used.\n### Steps to reproduce\n\n(How one can reproduce the issue - this is very important)\n\nYou can visit, https://gitlab.com/gitlab-org/gitlab/merge_requests/15091#note_239034660 and try hovering over the user name and notice it gets stuck in a loop not showing the profile info.\n\n### Example Project\n\n(If possible, please create an example project here on GitLab.com that exhibits the problematic behavior, and link to it here in the bug report)\n\n(If you are using an older version of GitLab, this will also determine whether the bug is fixed in a more recent version)\n\n### What is the current *bug* behavior?\n\n(What actually happens)\nCan see the profile info\n\n### What is the expected *correct* behavior?\n\n(What you should see instead)\nSee the profile info and not append so many popover class names.\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n![2019-11-01_13.13.54](/uploads/bbf1b3bfaf1de1b3d82ed84912b91d73/2019-11-01_13.13.54.gif)\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-11-01T20:17:19.944Z","updated_at":"2019-11-01T20:58:25.633Z","closed_at":"2019-11-01T20:58:25.505Z","closed_by":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"labels":["frontend","type::bug"],"milestone":null,"assignees":[],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35446","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35446","notes":"https://gitlab.com/api/v4/projects/278964/issues/35446/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35446/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35446","relative":"#35446","full":"gitlab-org/gitlab#35446"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26568617,"iid":35445,"project_id":278964,"title":"Implement gitlab-ui labels in GitLab","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\n`labels` finished the style stage of the component lifecycle and is ready to be implemented in GitLab.\n\nhttps://design.gitlab.com/components/labels\n\n## Involved components\n\nLabels exist in HAML, Vue, and vanilla JS. A thorough audit is needed to make sure we replace every label.\n\nAlso need to account for scoped labels.","state":"closed","created_at":"2019-11-01T19:41:07.770Z","updated_at":"2019-12-18T11:28:31.677Z","closed_at":"2019-12-04T17:55:51.631Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Deliverable","[deprecated] Accepting merge requests","backstage [DEPRECATED]","devops::plan","frontend","group::project management","pajamas::integrate","workflow::ready for development"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35445","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35445","notes":"https://gitlab.com/api/v4/projects/278964/issues/35445/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35445/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35445","relative":"#35445","full":"gitlab-org/gitlab#35445"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2111,"epic":{"id":14374,"iid":2111,"title":"Implementation of gitlab-ui components","url":"/groups/gitlab-org/-/epics/2111","group_id":9970,"human_readable_end_date":"Dec 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26566783,"iid":35442,"project_id":278964,"title":"Remove deprecated container scanning report format from rails parser","description":"## Summary\n\nThe purpose of this issue is to remove the deprecated container scanning report format which was based on output provided by [clair-scanner](https://github.com/arminc/clair-scanner). Now that https://gitlab.com/gitlab-org/gitlab/issues/32934 has been completed, we no longer need to support this old format so this dead code can be removed.\n\n## Improvements\n\nRemove unnecessary code\n\n## Involved components\n\nRemove the following files: \n\n- [`DeprecatedContainerScanning`](https://gitlab.com/gitlab-org/gitlab/-/blob/1ea8e1873abcc88cd39c07132286ab006402bb5c/ee/lib/gitlab/ci/parsers/security/formatters/deprecated_container_scanning.rb)\n- [`DeprecatedFormattedContainerScanningVulnerability`](https://gitlab.com/gitlab-org/gitlab/-/blob/1ea8e1873abcc88cd39c07132286ab006402bb5c/ee/lib/gitlab/ci/parsers/security/formatters/deprecated_formatted_container_scanning_vulnerability.rb)\n\nRemove the following methods:\n\n- [`format_deprecated_report`](https://gitlab.com/gitlab-org/gitlab/-/blob/1ea8e1873abcc88cd39c07132286ab006402bb5c/ee/lib/gitlab/ci/parsers/security/container_scanning.rb#L25-37)\n\nAnd all references to `deprecated_container_scanning_report` should also be removed\n\n## Availability and Testing\n\nEnsure that any rewrite of the container scanning test adheres to the new format.","state":"closed","created_at":"2019-11-01T18:24:11.822Z","updated_at":"2020-06-24T05:48:43.433Z","closed_at":"2020-05-22T00:22:42.433Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Container Scanning","backend","backstage [DEPRECATED]","devops::secure","group::composition analysis","maintenance::refactor","quad-planning::complete-action","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35442","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35442","notes":"https://gitlab.com/api/v4/projects/278964/issues/35442/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35442/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35442","relative":"#35442","full":"gitlab-org/gitlab#35442"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26565013,"iid":35438,"project_id":278964,"title":"Backend: Regexp CI/CD variables are evaluated as strings","description":"### Summary\n\nWhen you have a Regexp variable, you cannot use it as a Regexp in `rules`/`only` conditions.\n\nFor example;\n\n```yaml\nvariables:\n  teststring: 'abcde'\n  pattern: '/^ab.*/'\n\ntest1:\n  script: exit 0\n  rules:\n    - if: '$teststring =~ $pattern'\n\ntest2:\n  script: exit 0\n  rules:\n    - if: '$teststring =~ /^ab.*/'\n```\n\n- The `test1` job is not created because the ~backend makes string comparison between `\"abcde\"` and `\"/'^ab.*/\"`.\n- The `test2` job is created because the ~backend makes regexp comparison between `\"abcde\"` and `/'^ab.*/`.\n\n#### Customer background\n\n1.  [Customer ticket](https://gitlab.zendesk.com/agent/tickets/136442) (internal) was around the fact that any pattern definition in a variable containing `.*` could not be made to work, having tried several protection strategies to define and / or use the variable  \n\n    * I might have found a further misbehaviour, which is that while `/^ab/` matches  `abcde` when applied direct, it doesn't work when matching via a variable. My further test case of `/^ab.*/` probably doesn't work because `/^ab/` doesn't.\n\n1.   (now in https://gitlab.com/gitlab-org/gitlab/issues/36940) Jobs do get created when the regex (in a variable) contains `$` but when that variable is exported to the runner (and in the runner debug output) the `$` is missing\n\n**edit** 2019-11-21 - title changed, and content largely hidden for the issue relating to `$`, now: https://gitlab.com/gitlab-org/gitlab/issues/36940\n\n### Steps to reproduce\n\nThe example project contains a full CI configuration;  this is a summary.\n\nThese are the test patterns and test string.\n\n```\nvariables:\n  teststring: 'abcde'\n  pattern1: '/^abcde$/'\n  pattern2: '/^abcd$/'\n  pattern3: '/^ab.*/'\n  pattern4: '/^ab/'\n  pattern5: '/^abcde.*/'\n  pattern6: '/^abcde/'\n  pattern7: '/^.*$/'\n  pattern8: '/.*/'\n```\n\n\u003cdetails\u003e\n\u003csummary\u003ethis section relates to the $ issue, which has been put in a separate issue\u003c/summary\u003e\n\nsee: https://gitlab.com/gitlab-org/gitlab/issues/36940\n\nIn respect of `$` one of my example jobs dumps the shell environment. I forgot to enable debugging.  I found it originally using CI_COMMIT_DESCRIPTION, and this is what I captured:\n\n```\nAuthor: Ben Prescott \u003cbprescott@example.com\u003e\nDate:   Fri Oct 25 15:16:14 2019 +0100\n\n    ci: add a description\n    /^mo$/\n```\n\n```\n++ export 'CI_COMMIT_DESCRIPTION=/^mo/'\n++ CI_COMMIT_DESCRIPTION='/^mo/'\n```\n\nReverting to the example I made for this ticket, if you look at the dumped variables in the output/screenshot section below, all of the variables containing `$` have had it removed.\n\nMoving on from `$` to the pattern matching issue ..\n\n\u003c/details\u003e\n\nDefining job the following way, using `only`, seven jobs get created. pattern2 fails as expected.\n\n\u003cdetails\u003e\n\u003csummary\u003eJob definition where pattern match is applied direct\u003c/summary\u003e\n\u003cpre\u003e\ndirect5:\n  stage: pmdirect\n  tags:\n    - shell\n  script:\n    - /usr/bin/true\n  only:\n    variables:\n      - $teststring =~ /^abcde.*/\n\u003c/pre\u003e\n\u003c/details\u003e\n\nVia variables, only three patterns work - 1, 5, and 6. I've tried it with both `only` and `rules`\n\n\u003cdetails\u003e\n\u003csummary\u003eJob definition where pattern match is applied via variable\u003c/summary\u003e\n\u003cpre\u003e\nvariable1:\n  stage: pmvariable\n  tags:\n    - shell\n  script:\n    - /usr/bin/true\n  only:\n    variables:\n      - $teststring =~ $pattern1\n#\nvarrule1:\n  stage: pmvarrule\n  tags:\n    - shell\n  script:\n    - /usr/bin/true\n  rules:\n    - if: '$teststring =~ $pattern1'\n      when: on_success\n\u003c/pre\u003e\n\u003c/details\u003e\n\n\nI've also created a set of variables in the GUI, to explore whether reading the regexes from the yaml is where it goes wrong.\n\nSame result.\n\n### Example Project\n\n[yaml here](https://gitlab.com/bprescott-support/testing/zd134231-disjunction/blob/20191101-35438/ci/definition.yml)\n\nNote: I'm testing on a standalone install, and my project is configured to expect the CI yaml definition in `ci/definition.yml`\n\nThis should show as commit `edccc5dd` which matches screen shots etc. below.\n\n### What is the current *bug* behavior?\n\n1.  Jobs that get created when a pattern match rule works explicitly fail to get create when the pattern is stored in a variable instead.  Patterns including `.*` don't work, and this additional `/^ab/` case which I only just found, and am not sure what the general case is.\n\n1.  (now in https://gitlab.com/gitlab-org/gitlab/issues/36940) `$` doesn't appear in the debug output and exported to the runner.  Issue was noticed investigating the other issue. \n\n### What is the expected *correct* behavior?\n\n1.  The same jobs that get created when pattern matched explicitly should get created when the patterns are in variables.\n\n1.   (now in https://gitlab.com/gitlab-org/gitlab/issues/36940) Bearing in mind this is the only debug mechanism .. strings make it through verbatim.  It may well be the case this simply isn't possible, because `$` has a specific meaning in shell!  There might be times when customers don't expect it to be missing.  For example .. commit messages, or any other variable that could contain any valid character.\n\n### Relevant logs and/or screenshots\n\nOutput from example project.\n\n![CI screenshot showing which jobs create](/uploads/b43de6f1c06cff6bd668812875efef8e/Screenshot_from_2019-11-01_18-42-03.png)\n\n![variables set via GUI](/uploads/38418029627e4055a5fd2251f7d11fd0/Screenshot_from_2019-11-01_18-32-19.png)\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output of environment dump\u003c/summary\u003e\n\u003cpre\u003e\nRunning with gitlab-runner 12.3.0 (a8a019e0)\n  on localrunner J2yXYmYx\nUsing Shell executor...\nRunning on bprescott-gitlabtest-0...\nFetching changes with git depth set to 50...\nReinitialized existing Git repository in /home/gitlab-runner/builds/J2yXYmYx/0/test/zd134231-disjunction/.git/\nFrom https://bprescott-gitlabtest-0.do.gitlap.com/test/zd134231-disjunction\n + 0ffbfd0...edccc5d 20191101-35438 -\u003e origin/20191101-35438  (forced update)\nChecking out edccc5dd as 20191101-35438...\nSkipping Git submodules setup\n$ /usr/bin/env | /usr/bin/sort\n\nCI_API_V4_URL=https://bprescott-gitlabtest-0.do.gitlap.com/api/v4\nCI_BUILD_BEFORE_SHA=0ffbfd0089d1d32f7be2ab337310fc89a023e1b8\nCI_BUILD_ID=1171\nCI_BUILD_NAME=envdump\nCI_BUILD_REF=edccc5dd95833c908bcac8a3ea3e187a3bb7e479\nCI_BUILD_REF_NAME=20191101-35438\nCI_BUILD_REF_SLUG=20191101-35438\nCI_BUILDS_DIR=/home/gitlab-runner/builds\nCI_BUILD_STAGE=debug\nCI_BUILD_TOKEN=[MASKED]\nCI_COMMIT_BEFORE_SHA=0ffbfd0089d1d32f7be2ab337310fc89a023e1b8\nCI_COMMIT_DESCRIPTION=\nCI_COMMIT_MESSAGE=ci: compare hard coded patterns with variables - for gitlab issue 35438\nCI_COMMIT_REF_NAME=20191101-35438\nCI_COMMIT_REF_PROTECTED=false\nCI_COMMIT_REF_SLUG=20191101-35438\nCI_COMMIT_SHA=edccc5dd95833c908bcac8a3ea3e187a3bb7e479\nCI_COMMIT_SHORT_SHA=edccc5dd\nCI_COMMIT_TITLE=ci: compare hard coded patterns with variables - for gitlab issue 35438\nCI_CONCURRENT_ID=0\nCI_CONCURRENT_PROJECT_ID=0\nCI_CONFIG_PATH=ci/definition.yml\nCI_JOB_ID=1171\nCI_JOB_NAME=envdump\nCI_JOB_STAGE=debug\nCI_JOB_TOKEN=[MASKED]\nCI_JOB_URL=https://bprescott-gitlabtest-0.do.gitlap.com/test/zd134231-disjunction/-/jobs/1171\nCI_NODE_TOTAL=1\nCI_PAGES_DOMAIN=example.com\nCI_PAGES_URL=http://test.example.com/zd134231-disjunction\nCI_PIPELINE_ID=90\nCI_PIPELINE_IID=90\nCI_PIPELINE_SOURCE=push\nCI_PIPELINE_URL=https://bprescott-gitlabtest-0.do.gitlap.com/test/zd134231-disjunction/pipelines/90\nCI_PROJECT_DIR=/home/gitlab-runner/builds/J2yXYmYx/0/test/zd134231-disjunction\nCI_PROJECT_ID=1\nCI_PROJECT_NAMESPACE=test\nCI_PROJECT_NAME=zd134231-disjunction\nCI_PROJECT_PATH_SLUG=test-zd134231-disjunction\nCI_PROJECT_PATH=test/zd134231-disjunction\nCI_PROJECT_REPOSITORY_LANGUAGES=\nCI_PROJECT_URL=https://bprescott-gitlabtest-0.do.gitlap.com/test/zd134231-disjunction\nCI_PROJECT_VISIBILITY=internal\nCI_REGISTRY_PASSWORD=[MASKED]\nCI_REGISTRY_USER=gitlab-ci-token\nCI_REPOSITORY_URL=https://gitlab-ci-token:[MASKED]@bprescott-gitlabtest-0.do.gitlap.com/test/zd134231-disjunction.git\nCI_RUNNER_DESCRIPTION=localrunner\nCI_RUNNER_EXECUTABLE_ARCH=linux/amd64\nCI_RUNNER_ID=1\nCI_RUNNER_REVISION=a8a019e0\nCI_RUNNER_SHORT_TOKEN=J2yXYmYx\nCI_RUNNER_TAGS=shell\nCI_RUNNER_VERSION=12.3.0\nCI_SERVER_HOST=bprescott-gitlabtest-0.do.gitlap.com\nCI_SERVER_NAME=GitLab\nCI_SERVER_REVISION=9dbaa740018\nCI_SERVER_TLS_CA_FILE=/home/gitlab-runner/builds/J2yXYmYx/0/test/zd134231-disjunction.tmp/CI_SERVER_TLS_CA_FILE\nCI_SERVER_VERSION=12.3.5-ee\nCI_SERVER_VERSION_MAJOR=12\nCI_SERVER_VERSION_MINOR=3\nCI_SERVER_VERSION_PATCH=5\nCI_SERVER=yes\nCI_SHARED_ENVIRONMENT=true\nCI=true\nCONFIG_FILE=/etc/gitlab-runner/config.toml\nFF_CMD_DISABLE_DELAYED_ERROR_LEVEL_EXPANSION=false\nFF_USE_LEGACY_BUILDS_DIR_FOR_DOCKER=false\nFF_USE_LEGACY_VOLUMES_MOUNTING_ORDER=false\nGITLAB_CI=true\nGITLAB_FEATURES=\nGITLAB_USER_EMAIL=bprescott@gitlab.com\nGITLAB_USER_ID=1\nGITLAB_USER_LOGIN=bprescott-root\nGITLAB_USER_NAME=Ben Prescott (root)\ngpattern1=/^abcde/\ngpattern2=/^abcd/\ngpattern3=/^ab.*/\ngpattern4=/^ab/\ngpattern5=/^abcde.*/\ngpattern6=/^abcde/\ngpattern7=/^.*/\ngpattern8=/.*/\nHISTCONTROL=ignoredups\nHISTSIZE=1000\nHOME=/home/gitlab-runner\nHOSTNAME=bprescott-gitlabtest-0\nLANG=en_US.UTF-8\nLESSOPEN=||/usr/bin/lesspipe.sh %s\nLOGNAME=gitlab-runner\nMAIL=/var/spool/mail/gitlab-runner\nOLDPWD=/home/gitlab-runner\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/home/gitlab-runner/.local/bin:/home/gitlab-runner/bin\npattern1=/^abcde/\npattern2=/^abcd/\npattern3=/^ab.*/\npattern4=/^ab/\npattern5=/^abcde.*/\npattern6=/^abcde/\npattern7=/^.*/\npattern8=/.*/\nPWD=/home/gitlab-runner/builds/J2yXYmYx/0/test/zd134231-disjunction\nSHELL=/bin/bash\nSHLVL=2\nteststring=abcde\nUSER=gitlab-runner\n_=/usr/bin/env\nXDG_RUNTIME_DIR=/run/user/992\nXDG_SESSION_ID=c9078\nJob succeeded\n\u003c/pre\u003e\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003ethis section relates to the $ issue, which has been put in a separate issue\u003c/summary\u003e\n\nsee: https://gitlab.com/gitlab-org/gitlab/issues/36940\n\nNote, none of the dollars appear in the above output\n\n```\ngpattern1=/^abcde/\ngpattern2=/^abcd/\ngpattern3=/^ab.*/\ngpattern4=/^ab/\ngpattern5=/^abcde.*/\ngpattern6=/^abcde/\ngpattern7=/^.*/\ngpattern8=/.*/\n[..]\npattern1=/^abcde/\npattern2=/^abcd/\npattern3=/^ab.*/\npattern4=/^ab/\npattern5=/^abcde.*/\npattern6=/^abcde/\npattern7=/^.*/\npattern8=/.*/\n```\n\u003c/details\u003e\n\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n# sudo gitlab-rake gitlab:env:info\n\nSystem information\nSystem:\t\t\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.6.3p62\nGem Version:\t2.7.9\nBundler Version:1.17.3\nRake Version:\t12.3.2\nRedis Version:\t3.2.12\nGit Version:\t2.22.0\nSidekiq Version:5.2.7\nGo Version:\tunknown\n\nGitLab information\nVersion:\t12.3.5-ee\nRevision:\t9dbaa740018\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t10.9\nURL:\t\thttps://[gitlab-DO-test-machine].com\nHTTP Clone URL:\thttps://[gitlab-DO-test-machine].com/some-group/some-project.git\nSSH Clone URL:\tgit@[gitlab-DO-test-machine].com:some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers: \n\nGitLab Shell\nVersion:\t10.0.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\nGit:\t\t/opt/gitlab/embedded/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n# sudo gitlab-rake gitlab:check SANITIZE=true\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 10.0.0 ? ... OK (10.0.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nRedis available via internal API: OK\n\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ... \n2/1 ... yes\n2/2 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.6.3)\nGit version \u003e= 2.22.0 ? ... yes (2.22.0)\nGit user has default SSH configuration? ... yes\nActive users: ... 1\nIs authorized keys file accessible? ... yes\nElasticsearch version 5.6 - 6.x? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nI believe support for pattern matching was visited a couple of months ago:\n  - issue: https://gitlab.com/gitlab-org/gitlab-foss/issues/64383 \n  - MR: https://gitlab.com/gitlab-org/gitlab-foss/merge_requests/31719\n\nDocumentation:\n\nPattern matching with variables is documented [with just](https://docs.gitlab.com/ee/ci/variables/#supported-syntax) the following line\n\n\u003e It is possible perform pattern matching against a variable and regular expression.\n\nFollowing chat with @thaoyeager I've opened https://gitlab.com/gitlab-org/gitlab/issues/36942 around this.\n\nAn initial iteration would be to document that the feature is currently very limited; it's been working to some extent since 12.3, and is not likely to be fixed before 12.7 at the earliest. I'll explore this option in https://gitlab.com/gitlab-org/gitlab/merge_requests/19098\n\n\n### Proposal\n\nForce convert both sides of `=~` and `!~` to Regexp.\n\nExample technical change;\n\n```diff\ndiff --git a/lib/gitlab/ci/pipeline/expression/lexeme/matches.rb b/lib/gitlab/ci/pipeline/expression/lexeme/matches.rb\nindex 4d65b914d8d..edc61db0a2c 100644\n--- a/lib/gitlab/ci/pipeline/expression/lexeme/matches.rb\n+++ b/lib/gitlab/ci/pipeline/expression/lexeme/matches.rb\n@@ -11,6 +11,7 @@ class Matches \u003c Lexeme::LogicalOperator\n             def evaluate(variables = {})\n               text = @left.evaluate(variables)\n               regexp = @right.evaluate(variables)\n+              regexp = Gitlab::UntrustedRegexp::RubySyntax.fabricate(regexp) || regexp\n               return false unless regexp\n\n               regexp.scan(text.to_s).present?\ndiff --git a/lib/gitlab/ci/pipeline/expression/lexeme/not_matches.rb b/lib/gitlab/ci/pipeline/expression/lexeme/not_matches.rb\nindex 29c5aa5d753..00338886310 100644\n--- a/lib/gitlab/ci/pipeline/expression/lexeme/not_matches.rb\n+++ b/lib/gitlab/ci/pipeline/expression/lexeme/not_matches.rb\n@@ -11,6 +11,7 @@ class NotMatches \u003c Lexeme::LogicalOperator\n             def evaluate(variables = {})\n               text = @left.evaluate(variables)\n               regexp = @right.evaluate(variables)\n+              regexp = Gitlab::UntrustedRegexp::RubySyntax.fabricate(regexp) || regexp\n               return true unless regexp\n\n               regexp.scan(text.to_s).empty?\n```","state":"closed","created_at":"2019-11-01T17:25:03.301Z","updated_at":"2022-11-04T17:51:50.885Z","closed_at":"2022-05-31T14:23:42.303Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["CI variables","Category:Continuous Integration","Category:Pipeline Authoring","Technical Writing","auto updated","backend","customer","devops::verify","documentation","group::pipeline authoring","missed-deliverable","missed:14.6","potential proposal","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":4624911,"username":"bprescott_","name":"Ben Prescott_","state":"active","avatar_url":"https://secure.gravatar.com/avatar/91aa28150f430ec564dc5af5952c35a0?s=80\u0026d=identicon","web_url":"https://gitlab.com/bprescott_"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":103,"merge_requests_count":0,"upvotes":40,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35438","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35438","notes":"https://gitlab.com/api/v4/projects/278964/issues/35438/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35438/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35438","relative":"#35438","full":"gitlab-org/gitlab#35438"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":52750,"iid":66,"sequence":17,"group_id":9970,"title":null,"description":"Target milestone `15.1`","state":3,"created_at":"2022-04-03T00:05:01.955Z","updated_at":"2022-06-13T00:05:02.360Z","start_date":"2022-05-30","due_date":"2022-06-12","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/52750"},"health_status":"on_track"},{"id":26563078,"iid":35433,"project_id":278964,"title":"Enable Suggested Solution (was Auto Remediation)  for Container Scanning","description":"### Problem to solve\n\nOutput remediation fields in container scanning report in order to allow us to implement [Basic auto-remediation process](https://gitlab.com/gitlab-org/gitlab/issues/9384#note_231472460).\n\nSee https://gitlab.com/gitlab-org/gitlab/issues/9384 for more details\n\n### Target audience\n\n- Sasha, Software Developer\n- Sam, Security Analyst\n\n### Further details\n\nBy outputting remediation fields in the container scanning report, we can eventually support building a UI to allow customers to create merge requests to apply the vulnerability fixes.\n\n## Implementation Plan\n\n### Backend - person\n\n* [x] Update [GitLab klar](https://gitlab.com/gitlab-org/security-products/analyzers/klar/) to include a separate remediation entry for each vulnerability provided by [klar](https://github.com/optiopay/klar) that has a `fixedby` field\n* [x] Add tests for the above code changes\n* [x] Test behaviour in the [container scanning test project](https://gitlab.com/gitlab-org/security-products/tests/container-scanning)\n\n### Documentation - person\n\n* [x] Update the [GitLab Container Scanning Documentation](https://docs.gitlab.com/ee/user/application_security/container_scanning/) to include details about remediation fields in the container scanning report, similar to the [Auto-remediation section of Dependency Scanning](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/index.html#solutions-for-vulnerabilities-auto-remediation)\n    - https://gitlab.com/gitlab-org/gitlab/merge_requests/21362\n\n### Product Management - @NicoleSchwartz\n* [x] No Release Post (this is enabling but not useable yet)","state":"closed","created_at":"2019-11-01T15:48:41.955Z","updated_at":"2021-04-03T08:32:51.087Z","closed_at":"2020-01-16T07:32:52.536Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Container Scanning","Enterprise Edition","GitLab Ultimate","auto remediation","backend","devops::secure","group::composition analysis","missed-deliverable","missed:12.6","product discovery [DEPRECATED]","type::feature"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35433","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35433","notes":"https://gitlab.com/api/v4/projects/278964/issues/35433/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35433/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35433","relative":"#35433","full":"gitlab-org/gitlab#35433"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2454,"epic":{"id":17958,"iid":2454,"title":"Suggested Solution (was Auto Remediation) - Container Scanning MVC","url":"/groups/gitlab-org/-/epics/2454","group_id":9970,"human_readable_end_date":"Mar 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26561874,"iid":35428,"project_id":278964,"title":"Web IDE button missing from project pages","description":"Closes #36232, #36233\n\n### Summary\n\nWeb IDE button now requires the project to have merge requests enabled.\n\n### Steps to reproduce\n\nTurn merge requests off for a project.\nObserve the \"Web IDE\" button disappears from the project page.\nTurn merge requests back on for a project.\nThe \"Web IDE\" button re-appears.\n\n### Example Project\n\nhttps://gitlab.com/MJPA/empty-project - has merge requests disabled and no \"Web IDE\" button.\n\n### What is the current *bug* behavior?\n\nNo \"Web IDE\" button on the project page.\n\n### What is the expected *correct* behavior?\n\nA \"Web IDE\" button on the project page.\n\n#### Results of GitLab environment info\n\nGitLab version 12.4.1\n\n### More info\n\nNew behaviour introduced by https://gitlab.com/gitlab-org/gitlab/commit/8a008f80c00d62ad7f6262a969b15c4683667043#fd76fa2ce4182e2ba9c0218ddcb5176f814f1d03_84_84 as part of issue #29835\n\nI'm not sure if this is a bug or a change in requirements, but the Web IDE button is still there when looking at a particular file even with merge requests disabled. Example: https://gitlab.com/MJPA/empty-project/blob/master/README.md\n\n## Proposal\n\nThat means we would have to do the following things to get the Web IDE working for repositories with disabled merge requests:\n\n1. Fix `Error fetching merge requests from master` popping up as soon as the user opens the Web IDE\n1. Fix `Error loading merge requests. Please try again` popping up when the user opens the Branch / Merge request dropdown\n1. Implement the disabled \"Start new merge request\" checkbox\n\n| Default | Hover |\n| ------ | ------ |\n| ![image](/uploads/ada6c9c420cb486c93fa7dbd7b64799a/image.png) | ![image](/uploads/c7a98143bf2133abed48823bb9c642dc/image.png) |","state":"closed","created_at":"2019-11-01T15:08:20.340Z","updated_at":"2020-02-24T17:51:47.369Z","closed_at":"2020-02-24T17:41:22.807Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Category:Web IDE","UX","devops::create","frontend","group::editor","missed-SLO","priority::2","regression","regression:12.4","severity::2","type::bug","workflow::verification"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"}],"author":{"id":4893561,"username":"mjpa","name":"Mike Anchor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/653f990788e3f76a08e6f56355b2a700?s=80\u0026d=identicon","web_url":"https://gitlab.com/mjpa"},"type":"ISSUE","assignee":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"user_notes_count":31,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35428","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35428","notes":"https://gitlab.com/api/v4/projects/278964/issues/35428/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35428/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35428","relative":"#35428","full":"gitlab-org/gitlab#35428"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26552142,"iid":35414,"project_id":278964,"title":"Categorise data types for Geo","description":"In the limitations section of the documentation, we list out all of the data types that GitLab uses. https://docs.gitlab.com/ee/administration/geo/replication/#limitations-on-replicationverification Valery also helpfully provided more context to each which was captured in the Geo Discussion doc here: https://docs.google.com/document/d/18vGk6dQs7L0oGQOb_bNiFa5JhwLq5WBS7oNxQy09ml8/edit#heading=h.umcqkt7k7tic\n\nWe need to categorise these groups of data to help support building a framework for managing all data types with Geo.\n\nThe output of this issue should be updated documentation with a category column, along with further information added to the notes column.\n\nFor example,\n\n| Category | Data Type |\n|----------|-----------|\n| Repository | Project |\n| Repository | Wiki |\n| Repository | Designs |\n| LFS | LFS Objects |\n| LFS | Uploads |\n| LFS | CI Job Artifacts |","state":"closed","created_at":"2019-11-01T09:58:24.963Z","updated_at":"2020-01-10T09:47:46.897Z","closed_at":"2020-01-07T01:35:46.145Z","closed_by":{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"},"labels":["devops::systems","documentation","group::geo","missed:12.6"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"}],"author":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"type":"ISSUE","assignee":{"id":2293,"username":"brodock","name":"Gabriel Mazetto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2293/avatar.png","web_url":"https://gitlab.com/brodock"},"user_notes_count":13,"merge_requests_count":2,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35414","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35414","notes":"https://gitlab.com/api/v4/projects/278964/issues/35414/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35414/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35414","relative":"#35414","full":"gitlab-org/gitlab#35414"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2161,"epic":{"id":14724,"iid":2161,"title":"Geo: Build a scalable, self-service geo replication and verification framework","url":"/groups/gitlab-org/-/epics/2161","group_id":9970,"human_readable_end_date":"Oct 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26548186,"iid":35404,"project_id":278964,"title":"Automatic rollback in case of failure","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently piloting, details can be found in this issue: https://gitlab.com/gitlab-com/Product/-/issues/1392 and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes \n\nThis feature is ~\"GitLab Ultimate\" tier\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nAs a developer, I want to make sure no faulty deployment is active on my production environment at all times, so I can make sure I am not exposing my users unnecessarily to a subpar experience due to external dependencies.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n--\u003e\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nIf there is a problem in the pipeline that deploys, it would be nice if the pipeline would perform an automatic rollback.\n\n\nFor this iteration (and this specific issue):arrow_up_down: \n\n1. Any critical alert on the environment will initiate a rollback.\n1. The user must opt-in to this feature (setting defined below in acceptance criteria) \n1. There will only be one rollback attempt on an alert (to avoid an endless loop of rollbaks) \n\n### Acceptance criteria\n* Add settings section for the user to configure Auto-rollback on/off to CI/CD project settings above `Deploy freezes`\n - Features a single checkbox with label and help text and a confirmation button.\n* Rollback is to the last successful deployment (This will re-run the pipeline of the last successful deployment)\n* Auto rollback must be logged in the audit log as an action done in the pipeline\n* For the first iteration - any critical alert will trigger a rollback\n* Confirmation is a primary success button\n* Copy of settings UI:\n```\nAutomatic deployment rollbacks\n\nAutomatically roll back to the last successful deployment when a critical problem is detected.\n\n- [ ] Enable automatic rollbacks\n      Automatic rollbacks start when a critical alert is triggered. If the last successful deployment fails to roll \n      back automatically, it can still be done manually. More information\n```\n\n| Mockup (browser made)  |\n| --- |\n| ![image](/uploads/a3ee53ba1d2f56177232caf1f612c11f/image.png) |\n| Note: Copy might differ from the mockup, see acceptance criteria above |\n\n**Out of scope for this issue**:\n\n* Metrics will be defined on a a dedicated yml file.\n  * Only metrics defined in this YML file will initiate the auto-rollback similar to the common_metrics.yml. [./gitlab/dashbords.yml](https://docs.gitlab.com/ee/user/project/integrations/prometheus.html#adding-a-new-dashboard-to-your-project)\n\n\n\n## Engineering scope\n\n**Weight estimate: 3**\n\n* [x]  ~backend: Create a worker to trigger an automatic rollback, should a deployment fail.\n* [x]  ~frontend: Create a switch in the project settings. Users should be able to choose whether rollbacks should be automatic or manual (as highlighted in link posted above)\n* [x]  ~\"Documentation guidelines\" \n\n## Technical proposal\n\n**How GitLab Re-deploy feature behaves today**\n\n- GitLab already knows the list of successful deployments on an environment.\n- GitLab can deduce the latest successful deployment from the deployment list. (Let's say Deployment-A)\n- GitLab can deduce the _previous_ successful deployment from the deployment list and Deployment-A. (Let's say Deployment-B)\n- When Deployment-B is re-deployed, GitLab creates Deployment-C. Deployment-B and C have the same metadata.\n- We can check if a deployment was re-deployed: `project.deployments.where(ref: deployment.ref, sha: deployment.sha).exist?`\n\n**How we will extend**\n\n- Auto Rollback happens **only once** when a **new** critical alert is raised.\n- We cannot simply re-deploy Deployment-B because Deployment-A will be the _previous_ successful deployment which is the next rollback target. This feature keeps deploying Deployment-A and Deployment-B alternatively. Probably that's not what we want. To illustrate:\n  - Deployment-C (latest, same content with Deployment-B)\n  - Deployment-A (previous successful)\n  - Deployment-B (previous previous successful)\n- We need to persist the rollback history as the following.\n  - `deployments.auto_redeployed_by_id` (FK) ... The ID of the deployment initiated the auto re-deploy.\n- Let's say there are two deployments Deployment-A and Deployment-B and a critical alert is raised on the environment.\n  - What is the latest deployment? =\u003e Deployment-A\n  - What is the previous successful deployment? =\u003e Deployment-B\n  - Should GitLab re-deploy Deployment-B? =\u003e Yes\n- Let's say a new critical alert is raised on the environment again.\n  - What is the latest deployment? =\u003e Deployment-C\n  - What is the previous successful deployment? =\u003e Deployment-A\n  - Should GitLab re-deploy Deployment-A? =\u003e No, because Deployment-C was triggered by A. Next.\n  - Should GitLab re-deploy Deployment-B? =\u003e No, because Deployment-C is identical with Deployment-B. Next.\n\n**anti-race condition**\n\n- If there is a running deployment on the environment when a critical alert is raised, this feature won't do anything. (Please see the \"Constant Rollback\" below)\n\n### Which alert is considered as critical?\n\n- `environment.alert_management_alerts` has `severity` column that takes `critical: 0, high: 1, medium: 2, low: 3, info: 4, unknown: 5`. `critical` is the status of an alert that triggers an rollback.\n\n### Rollback range (Next iteration)\n\n- Rollback is a useful operation to revert a problematic code, but it also has a risk to remove a valid code/feature that disturbs end-user's request.\n- Operators should be able to set a rollback range to group backward compatible deployments. Auto Rollback should happen in this current range and shouldn't go across.\n\n### Constant Rollback (Next iteration)\n\n- If a critical alert still exists after the X minutes from the Auto Rollback point. The next Auto Rollback will be triggered.\n\n## Future iterations\n\n* Last version to rollback to (including gitlab-ci.yml file)\n\n## Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nSpinnikar supports a similar feature that specifically designed for Rollback on Kubernetes's Rolling Update:\n\n| Description | Screenshot |\n| --- | --- |\n| A user Can configure which version to rollback to  (for example last version deployed to production)  | ![image](/uploads/cbff917e3fb0d49c0be1e0b7d5e98d9d/image.png) |\n| We should note that for proper rollback, we need to rollback | \u003cul\u003e\u003cli\u003eKubernetes Config\u003c/li\u003e\u003cli\u003eDocker images\u003c/li\u003e\u003cli\u003egitlab-ci.yml\u003c/li\u003e\u003c/ul\u003e |\n| View of the Kuberenetes Clusters | ![image](/uploads/7551ba3eee27a86172db95275799ed20/image.png) |\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!--  Label reminders - you should have one of each of the following labels if you can figure out the correct ones --\u003e\n\nhttps://www.spinnaker.io/guides/user/kubernetes-v2/automated-rollbacks/","state":"closed","created_at":"2019-11-01T06:26:23.650Z","updated_at":"2022-10-18T09:54:38.593Z","closed_at":"2020-12-10T06:57:13.305Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Continuous Delivery","Deliverable","GitLab Ultimate","Release::P1","UX","backend","cicd::active","devops::release","direction","documentation","frontend","group::release","missed-deliverable","missed:13.5","missed:13.6","release post item::in review","section::ops","type::feature","workflow::verification"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":82,"merge_requests_count":0,"upvotes":17,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35404","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35404","notes":"https://gitlab.com/api/v4/projects/278964/issues/35404/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35404/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35404","relative":"#35404","full":"gitlab-org/gitlab#35404"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3088,"epic":{"id":42457,"iid":3088,"title":"Post-deployment monitoring (continuous verification) MVC","url":"/groups/gitlab-org/-/epics/3088","group_id":9970},"iteration":null,"health_status":null},{"id":26530461,"iid":35365,"project_id":278964,"title":"Existing users are not removed from Group Managed accounts on first enable.","description":"### Summary\n\nThe first time \"Enforce users to have dedicated group managed accounts for this group.\" is enabled for a group, any existing members are not removed. \n\n**You need to disable and re-enable it to have the users removed.**\n\nRelated to https://gitlab.com/groups/gitlab-org/-/epics/709\n\n### Steps to reproduce\n\n1) Create a new group\n2) Add an existing user to the group\n3) Enable \"Enforce users to have dedicated group managed accounts for this group.\" for the group\n4) Navigate to members list for the group and you will notice that the user added in step 2 is not removed.\n\n### What is the current *bug* behavior?\n\nAny existing non-owner users in a group are not removed when group managed accounts is enabled for the group the first time\n\n### What is the expected *correct* behavior?\n\nAny existing non-owner users in a group should be removed when group managed accounts is enabled for the group the first time\n\n### Relevant logs and/or screenshots\n\n![SAML-GrpManagedAccount-Bug_compressed](/uploads/12061eea7d90187451a7c14fb778bad6/SAML-GrpManagedAccount-Bug_compressed.mp4)","state":"closed","created_at":"2019-10-31T15:51:13.869Z","updated_at":"2020-02-14T08:18:11.988Z","closed_at":"2019-11-19T00:31:44.241Z","closed_by":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"labels":["backend","devops::manage","group::optimize","saml","severity::3","type::bug","workflow::in review"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":2632430,"username":"sliaquat","name":"Sanad Liaquat","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2632430/avatar.png","web_url":"https://gitlab.com/sliaquat"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35365","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35365","notes":"https://gitlab.com/api/v4/projects/278964/issues/35365/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35365/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35365","relative":"#35365","full":"gitlab-org/gitlab#35365"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1785,"epic":{"id":11091,"iid":1785,"title":"Group SSO: Stability, Availability, and Security","url":"/groups/gitlab-org/-/epics/1785","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26521814,"iid":35351,"project_id":278964,"title":"Experiment with a node pool of 8 vCPU / 16GB machines for the Review Apps cluster","description":"I noticed that the current ratio of requested CPU / Memory is approx. between `7.58/13.32 = 0.56` and `6.75/10.97 = 0.61`:\n\n![Screen_Shot_2019-10-31_at_14.04.01](/uploads/3567494621e5589b61f5dca19b6391e8/Screen_Shot_2019-10-31_at_14.04.01.png)\n\nSo I think it would make sense to experiment with a new node pool of 8 vCPU / 16GB machines to maximize the memory usage of the machines.\n\nI've created a new `n1-8cpu-16gb-preemp-cos-optim` node pool with these specifications.","state":"closed","created_at":"2019-10-31T13:14:00.333Z","updated_at":"2019-11-01T04:44:28.307Z","closed_at":"2019-10-31T16:38:29.339Z","closed_by":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","backstage [DEPRECATED]"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35351","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35351","notes":"https://gitlab.com/api/v4/projects/278964/issues/35351/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35351/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35351","relative":"#35351","full":"gitlab-org/gitlab#35351"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26520059,"iid":35349,"project_id":278964,"title":"`gitlab-shell` has a lot of liveness errors in Review Apps","description":"As can be seen here: https://console.cloud.google.com/logs/viewer?authuser=0\u0026project=gitlab-review-apps\u0026minLogLevel=0\u0026expandAll=false\u0026timestamp=2019-10-31T12:21:01.486000000Z\u0026customFacets=\u0026limitCustomFacetWidth=true\u0026dateRangeStart=2019-10-31T11:24:02.202Z\u0026dateRangeEnd=2019-10-31T12:24:02.202Z\u0026interval=PT1H\u0026resource=k8s_pod\u0026advancedFilter=resource.type%3D%22k8s_pod%22%0Aresource.labels.project_id%3D%22gitlab-review-apps%22%0Aresource.labels.location%3D%22us-central1-b%22%0Aresource.labels.cluster_name%3D%22review-apps-ee%22%0Aresource.labels.namespace_name%3D%22review-apps-ee%22%0Aresource.labels.pod_name:%22gitlab-shell%22%0AjsonPayload.message:%22Liveness%20probe%20errored%22\u0026scrollTimestamp=2019-10-31T12:23:48.000000000Z and here (purple line):\n\n![logging_user_liveness_errors_per_component](/uploads/371cba916b3f1c61ed3b46d9ae1fa639/logging_user_liveness_errors_per_component.png)\n\nthe `gitlab-shell` component has a lot of liveness errors in Review Apps. We should consider increasing the timeout.\n\n### Samples\n\n```\ngit@review-34824-lice-la0max-gitlab-shell-c8f597db9-xsjk8:/$ time /scripts/healthcheck\n13\n\nreal\t0m17.512s\nuser\t0m2.617s\nsys\t0m0.038s\ngit@review-34824-lice-la0max-gitlab-shell-c8f597db9-xsjk8:/$ time /scripts/healthcheck\n13\n\nreal\t0m11.159s\nuser\t0m1.654s\nsys\t0m0.040s\ngit@review-34824-lice-la0max-gitlab-shell-c8f597db9-xsjk8:/$ time /scripts/healthcheck\n13\n\nreal\t0m12.526s\nuser\t0m1.721s\nsys\t0m0.031s\n```\n\n```\ngit@review-34416-subs-oq6do3-gitlab-shell-7c787fc45-kdzln:/$ time /scripts/healthcheck\n14\n\nreal\t0m13.102s\nuser\t0m2.694s\nsys\t0m0.075s\ngit@review-34416-subs-oq6do3-gitlab-shell-7c787fc45-kdzln:/$ time /scripts/healthcheck\n14\n\nreal\t0m7.266s\nuser\t0m1.783s\nsys\t0m0.015s\ngit@review-34416-subs-oq6do3-gitlab-shell-7c787fc45-kdzln:/$ time /scripts/healthcheck\n14\n\nreal\t0m5.784s\nuser\t0m1.524s\nsys\t0m0.018s\ngit@review-34416-subs-oq6do3-gitlab-shell-7c787fc45-kdzln:/$ time /scripts/healthcheck\n14\n\nreal\t0m6.472s\nuser\t0m2.008s\nsys\t0m0.087s\n```","state":"closed","created_at":"2019-10-31T12:26:36.074Z","updated_at":"2019-11-07T10:08:27.810Z","closed_at":"2019-11-07T10:08:27.425Z","closed_by":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","severity::2","type::bug"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35349","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35349","notes":"https://gitlab.com/api/v4/projects/278964/issues/35349/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35349/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/35796"},"references":{"short":"#35349","relative":"#35349","full":"gitlab-org/gitlab#35349"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26507961,"iid":35320,"project_id":278964,"title":"Performance regression in mentionable regex","description":"The new regexp in https://gitlab.com/gitlab-org/gitlab/commit/e38e2adc843d6d7000161ea27a1d55356beeb6cf slows down the pattern matching when searching for mentionable items. We started to see timeouts in CI of 3 seconds in https://gitlab.com/gitlab-org/gitlab/issues/35269#note_238027168.\n\nBefore local benchmarks showed:\n\n```\n0.566795   0.000933   0.567728 (  0.569076)\n```\n\nAfter:\n\n```\n0.875680   0.001345   0.877025 (  0.878959)\n```\n\nIn CI, it's even slower. In one test run:\n\n```\n1.376477   0.005843   1.382320 (  1.423449)\n```\n\nPerhaps we can do some optimization here?\n\n/cc: @egrieff, @smcgivern, @engwan","state":"closed","created_at":"2019-10-31T04:45:56.222Z","updated_at":"2020-03-25T21:06:53.567Z","closed_at":"2020-03-24T16:59:41.864Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["[deprecated] Accepting merge requests","backend","bug::performance","devops::plan","group::project management","markdown","missed:12.9","workflow::planning breakdown"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35320","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35320","notes":"https://gitlab.com/api/v4/projects/278964/issues/35320/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35320/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35320","relative":"#35320","full":"gitlab-org/gitlab#35320"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26506189,"iid":35315,"project_id":278964,"title":"Backend: Add CI_ENVIRONMENT_NAME variable to rules","description":"### Problem to solve\nRun a subset of jobs in an pipeline based on the environment you select. e.g Run jobs just for dev. This may be thought of as a counterpart to the \"redeploy or rollback\" button in the environments view - but being able to choose to do this for the initial deployment. Do this while keeping pipeline configuration DRY (Don't repeat yourself)\n\n### Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n### Further details\nSee https://support.gitlab.com/hc/en-us/requests/126158\n\nI'd like to be able to supply a TARGETENV variable in the run pipeline view, with a value matching an environment name and have it run appropriate deploy jobs. e.g Supply TARGETENV == dev, and only job1 is run given the following `.gitlab-ci.yml`:\n\n```yaml\n.base_job: \n  script: echo $CI_ENVIRONMENT_NAME, $CI_JOB_NAME \n  rules: \n    - if: $CI_PIPELINE_SOURCE == \"web\" \u0026\u0026 $TARGETENV == $CI_ENVIRONMENT_NAME\n\njob1: \n  extends: .base_job \n  environment: \n    name: dev\n\njob3: \n  extends: .base_job \n  environment: \n    name: test\n```\n\n### Proposal\n\nHoist evaluation of CI_ENVIRONMENT_NAME variable into the parsing stage of pipeline evaluation. \nDynamic namespaces, where resolvable because of their constituent environment variables being resolvable could also be evaluated at this stage. \nRules that are unresolvable should throw an error (separate issue)\n\nMore evaluation of environment variables during parsing and better errors on resolvable variables should lead to more pipelines either \"just working\" or being clearer as to why they failed (separate issue).\n\n\n### Permissions and Security\nThe ability to run these jobs in these environments would still be governed by protected environments etc \n\n### Documentation\nShould be updated [here](https://docs.gitlab.com/ee/ci/variables/where_variables_can_be_used.html).\n\n### What is the type of buyer? \n\nA customer like ourselves, coming from a tool like Octopus, that wants strong controls over the deployment steps in their pipelines and/or uses infrastructure as code but would love that to be available in one tool (Gitlab) with the appropriate visibility benefits\n\n### Links / references\nhttps://support.gitlab.com/hc/en-us/requests/126158\nhttps://gitlab.com/groups/gitlab-org/-/epics/2072#note_234204758\n\n## Implementation\n\n| ~backend | MR |\n| ------ | ------ |\n| Add support for CI_ENVIRONMENT_NAME to be used in job:rules | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/106093 |","state":"closed","created_at":"2019-10-31T02:25:54.157Z","updated_at":"2022-12-23T01:07:29.823Z","closed_at":"2022-12-09T16:56:59.313Z","closed_by":{"id":12867582,"username":"lma-git","name":"Leaminn Ma","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12867582/avatar.png","web_url":"https://gitlab.com/lma-git"},"labels":["CI rules","CI variables","Category:Continuous Integration","Category:Pipeline Authoring","candidate::15.8","customer","devops::verify","feature::enhancement","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":12867582,"username":"lma-git","name":"Leaminn Ma","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12867582/avatar.png","web_url":"https://gitlab.com/lma-git"}],"author":{"id":4871757,"username":"alister.shipman","name":"alister","state":"active","avatar_url":"https://secure.gravatar.com/avatar/123518a53d740c1e5823787793d69378?s=80\u0026d=identicon","web_url":"https://gitlab.com/alister.shipman"},"type":"ISSUE","assignee":{"id":12867582,"username":"lma-git","name":"Leaminn Ma","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12867582/avatar.png","web_url":"https://gitlab.com/lma-git"},"user_notes_count":47,"merge_requests_count":0,"upvotes":26,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35315","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35315","notes":"https://gitlab.com/api/v4/projects/278964/issues/35315/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35315/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35315","relative":"#35315","full":"gitlab-org/gitlab#35315"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4401,"epic":{"id":112233,"iid":4401,"title":"Add support for more variables to `rules` expressions","url":"/groups/gitlab-org/-/epics/4401","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26504215,"iid":35311,"project_id":278964,"title":"User not redirected to Environment URL when URL is clicked","description":"## Problem Statement\n\nTesting out Review App functionality for Salesforce development. There is not K8s or container based environments, but there are URL endpoints for ephemeral environments that are used for testing and staging within CI/CD pipeline for SFDX. \n\nHere is an example [CI/CD template for reference](https://gitlab.com/sfdx/sfdx-cicd-template/blob/4763893ceabae13c3de80d9bfccb1b6b90242dfb/Salesforce.gitlab-ci.yml). You'll notice in `line 85` the following `yaml`: \n\n```yaml\nenvironment:\n    name: scratch/$CI_COMMIT_REF_SLUG\n    url: $CI_PROJECT_URL/-/jobs/$CI_JOB_ID/artifacts/raw/ENVIRONMENT.html\n```\n\nHere is an [example pipeline which shows the **View App** GUI](https://gitlab.com/sfdx/sfdx-cicd-demo/merge_requests/10) in the MR. When you [click the button](https://gitlab.com/sfdx/sfdx-cicd-demo/-/jobs/337924322/artifacts/raw/ENVIRONMENT.html), an HTML file is downloaded and when manually opened, the environment is launched in the browser. \n\nWhat's configured incorrectly? The desired UX is to have the button simply open a new tab to the URL endpoint.","state":"closed","created_at":"2019-10-30T23:24:19.806Z","updated_at":"2021-08-02T03:03:22.652Z","closed_at":"2021-08-02T03:03:22.637Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ð¤ GitLab Bot ð¤","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Alliances","CI variables","Category:Continuous Integration","Category:Secrets Management","[deprecated] Accepting merge requests","auto closed","devops::configure","group::configure","priority::3","section::ops","severity::3","stale","type::bug","vintage","workflow::validation backlog"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3473352,"username":"mayanktahil","name":"Mayank Tahilramani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3473352/avatar.png","web_url":"https://gitlab.com/mayanktahil"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35311","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35311","notes":"https://gitlab.com/api/v4/projects/278964/issues/35311/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35311/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35311","relative":"#35311","full":"gitlab-org/gitlab#35311"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26504036,"iid":35308,"project_id":278964,"title":"List connected group SAML identities for SAML SSO","description":"## Problem\n\nOn self-managed GitLab instance, an admin user can access the `/admin/users` panel to edit and remove user identities through the UI (identity information is also accessible through [the API](https://docs.gitlab.com/ee/api/users.html#for-admins)). An example of this view:\n\n![image](/uploads/db75b105f50c882cee0ca99ad4d3c7a3/image.png)\n\nHowever, for GitLab.com group Owners, this identity information isn't available - making configuration and troubleshooting hard. Since users on GitLab.com are attributed to the instance, it might not make sense to give a group Owner unrestricted access to all of a user's identities - but we should allow the Owner to manage all of the identities associated with that SAML provider.\n\n## Proposal\n\nIn the SAML SSO configuration panel, list the members with an identity matching the configured SAML provider for the group. \nList the `identities` information for each user with the `extern_uid`.\n\n### Mock\n\n![image](/uploads/bd9068e0f94f5a428b1474c6fd97c17c/image.png)\n\n* \"Remove\" button is out of scope.\n\n### Next iteration\n\n* In the next iteration, only allow an Owner to REMOVE the associated identity for a user.\n  * On clicking Remove, present a banner to the user confirming that the user's identity was removed.\n  * Add editing in a future iteration, https://gitlab.com/gitlab-org/gitlab/issues/35310\n\n### Details\n\nWe [currently store](https://docs.gitlab.com/ee/api/users.html#for-admins) SAML provider identities on the user like so:\n\n```\n    \"identities\": [\n      {\"provider\": \"group_saml\", \"extern_uid\": \"123789\", \"saml_provider_id\": 10}\n    ]\n```","state":"closed","created_at":"2019-10-30T23:10:50.138Z","updated_at":"2020-03-01T18:18:11.877Z","closed_at":"2020-01-23T22:14:19.538Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Enterprise Edition","GitLab Premium","authentication","backend","devops::manage","direction","frontend","group::optimize","planning priority","saml","workflow::verification"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":28,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35308","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35308","notes":"https://gitlab.com/api/v4/projects/278964/issues/35308/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35308/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35308","relative":"#35308","full":"gitlab-org/gitlab#35308"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1785,"epic":{"id":11091,"iid":1785,"title":"Group SSO: Stability, Availability, and Security","url":"/groups/gitlab-org/-/epics/1785","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26503506,"iid":35305,"project_id":278964,"title":"developer gets 404 error when clicking on 'update now'","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen a user with a \"developer\" role clicks on the \"Update Now\" button, he gets a 404 error page. A user with a \"maintainer\" role or above is able to force the update.\n\n### Steps to reproduce\n\n(We are using GitLab in a docker)\n\n- Configure GitLab to pull from a remote git server (Helix4Git in our case)\n- Push a feature branch on the remote git server\n- Log in GitLab with a \"dev\" account,\n- Go to the Repository/Commits page and click \"Update Now\"\n\n### What is the current *bug* behavior?\n\nA dev gets a 404 error page (see below)\n\nA maintainer is redirected to the mirror config page, with the pull section open showing that an update is in progress.\n\n### What is the expected *correct* behavior?\n\nAn update should be launch in the background. Maybe some kind of feedback could be shown to confirm that an update is in progress.\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/e5f34cc7ce7492e5be300e3b34503d40/image.png)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\nSystem information\nSystem:\nProxy:          no\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.6.3p62\nGem Version:    2.7.9\nBundler Version:1.17.3\nRake Version:   12.3.3\nRedis Version:  3.2.12\nGit Version:    2.22.0\nSidekiq Version:5.2.7\nGo Version:     unknown\n\nGitLab information\nVersion:        12.4.0-ee\nRevision:       572e09f5e8f\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     PostgreSQL\nDB Version:     10.9\nURL:            http://10.1.221.7\nHTTP Clone URL: http://10.1.221.7/some-group/some-project.git\nSSH Clone URL:  git@10.1.221.7:some-group/some-project.git\nElasticsearch:  no\nGeo:            no\nUsing LDAP:     no\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:        10.2.0\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nGitLab Shell path:              /opt/gitlab/embedded/service/gitlab-shell\nGit:            /opt/gitlab/embedded/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 10.2.0 ? ... OK (10.2.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n2/1 ... yes\n2/2 ... yes\n2/3 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.6.3)\nGit version \u003e= 2.22.0 ? ... yes (2.22.0)\nGit user has default SSH configuration? ... yes\nActive users: ... 14\nIs authorized keys file accessible? ... yes\nElasticsearch version 5.6 - 6.x? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nMy guess is the redirect to the config page causes the issue for the developers.","state":"closed","created_at":"2019-10-30T22:26:33.381Z","updated_at":"2020-01-21T14:04:07.506Z","closed_at":"2020-01-21T14:04:07.419Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["devops::create","group::source code","mirror","missed-SLO","priority::2","severity::2","type::bug","workflow::verification"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":2603738,"username":"prouleau72","name":"P Rouleau","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7f36ae362decf98793de8780939dcc61?s=80\u0026d=identicon","web_url":"https://gitlab.com/prouleau72"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35305","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35305","notes":"https://gitlab.com/api/v4/projects/278964/issues/35305/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35305/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35305","relative":"#35305","full":"gitlab-org/gitlab#35305"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26501779,"iid":35298,"project_id":278964,"title":"Auto-creation of Vulnerabilities from Findings in default branch (backstage)","description":"### Problem to solve\n\nAccording to [the recent evolution](https://gitlab.com/gitlab-org/gitlab/issues/13561#note_237551880) of the [First-class Vulnerabilities](#13561) UX, every Finding (formerly, Occurrence) that gets to the project's default branch and is persisted in the DB should be already accessible by a URL to start the discussion on the vulnerability details. That is, the Vulnerability should be available before the _confirmation_ of a Finding.\n\n### Intended users\n\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Further details\n\nThis change simplifies the Findings/Vulnerabilities UX greatly and reduces the required amount of ~frontend work.\n\n### Proposal\n\nIt was decided that every **new** Finding getting to the default branch should auto-create the associated first-class Vulnerability object. The newly created Vulnerability will be in _opened_ state. After, it could be made _confirmed_, _resolved_, or _dismissed_.\n\n### Permissions and Security\n\nNo new or changed permissions are required. Auto-created Vulnerabilities are going to be [confidential](https://gitlab.com/gitlab-org/gitlab/issues/34430).\n\n### Documentation\n\nNo documentation is going to be added. This is a backstage change that does not touch any public APIs. The [First-class Vulnerabilities feature](#13561) in general is hidden behind the feature flag. The documentation on the entire feature is yet to be added and should be correlated with [the feature flag removal](https://gitlab.com/gitlab-org/gitlab/issues/33488).\n\n### Testing\n\nUnit tests are going to be added for the service classes that perform post-merge actions on the default branch pipeline.\n\n### What does success look like, and how can we measure that?\n\nSecurity analysts are able to interact with the Vulnerabilities in the project's default branch even before it has been confirmed.\n\n### What is the type of buyer?\n\n~\"GitLab Ultimate\" \n\n### Links / references\n\n- [Main feature issue](#13561)\n- [Backstage implementation issue](#10242)","state":"closed","created_at":"2019-10-30T20:54:06.673Z","updated_at":"2020-02-18T07:10:24.098Z","closed_at":"2020-01-23T19:57:27.800Z","closed_by":{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"},"labels":["Category:Vulnerability Management","Deliverable","Enterprise Edition","backend","backend-weight::3","backstage [DEPRECATED]","devops::govern","feature flag","group::static analysis","missed-deliverable","missed:12.5","missed:12.7"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"}],"author":{"id":3337413,"username":"vzagorodny","name":"Victor Zagorodny","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/56410d67aa18e03b13e1585d436bf313?s=80\u0026d=identicon","web_url":"https://gitlab.com/vzagorodny"},"type":"ISSUE","assignee":{"id":32707,"username":"rossfuhrman","name":"rossfuhrman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/32707/avatar.png","web_url":"https://gitlab.com/rossfuhrman"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35298","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35298","notes":"https://gitlab.com/api/v4/projects/278964/issues/35298/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35298/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35298","relative":"#35298","full":"gitlab-org/gitlab#35298"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":634,"epic":{"id":2425,"iid":634,"title":"Standalone vulnerabilities","url":"/groups/gitlab-org/-/epics/634","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26498607,"iid":35291,"project_id":278964,"title":"Poor performance of WIkiDirectories Controller","description":"Affected Controller: `Projects::WikiDirectoriesController#show`\n\n### Summary\n\nThe WikiDirectories controller exhibits poor performance, with p95 latency of 60s, and p50 of over 50s.\n\nSee: https://log.gitlab.net/app/kibana#/visualize/edit/AW2v4uVAQ7jyVXjiDMNA?_g=h@dd24b30\u0026_a=h@2583f2b\n\n![Screenshot_2019-10-30_at_18.55.43](/uploads/240426d9eec4538b34682694740b6180/Screenshot_2019-10-30_at_18.55.43.png)\n\n### What is the current *bug* behavior?\n\nMedian response times are very slow.\n\n### What is the expected *correct* behavior?\n\nRequests should complete well within 30sec\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-10-30T18:56:59.516Z","updated_at":"2020-12-10T18:55:36.002Z","closed_at":"2020-02-28T01:37:55.646Z","closed_by":{"id":4124757,"username":"dsatcher","name":"Darva Satcher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4124757/avatar.png","web_url":"https://gitlab.com/dsatcher"},"labels":["Category:Wiki","backend","devops::create","group::editor","missed-SLO","priority::2","severity::2","type::bug","workflow::planning breakdown"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35291","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35291","notes":"https://gitlab.com/api/v4/projects/278964/issues/35291/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35291/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35291","relative":"#35291","full":"gitlab-org/gitlab#35291"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26497732,"iid":35290,"project_id":278964,"title":"Enable/Disable and Create Different Timeboxes","description":"### Problem to solve\n\nCurrently, there is no way to delineate the purpose of milestones in any sort of meaningful way other than the milestone name. As we're introducing the ability to assign issues to more than one concurrent timebox (https://gitlab.com/gitlab-org/gitlab/issues/5135) to support traditional planning methodologies such as Scrum, we need a way to identify what the milestone is from a data perspective so we can eventually add improved reporting across a given timebox type, auto schedule cadence for types, etc. \n\nSee this epic (https://gitlab.com/groups/gitlab-org/-/epics/69) for the bigger picture. \n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nThis will unlock future enhancements such as:\n\n- Auto moving issues from one milestone to another of the same type. \n- Issues to be associated to both a sprint, version, or release simultaneously. \n- Calculating velocity and volatility over `n` previous timeboxes.\n\nCurrent users are tracking sprints within GitLab, then exporting issues on a regular cadence to track longer run timeboxes like releases or projects. This will alleviate the need to work externally from GitLab to get this level of reporting. \n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n#### Summary \n\n- Add the ability to enable/disable three timebox types within a top level group's settings.\n- Default is one enabled timebox named \"Milestone\". This cannot be toggled off. One timebox must always be enabled.\n\n#### Fringe Cases\n\n**When an issue moves to another a project or group that does not have the same timebox types enabled:**\n\nPrompt with a warning dialogue - `You are moving an issue into a group that does not have X, Y, and Z timebox enabled. These will be removed from the issue if you continue` - `Move Anyways` `Cancel`\n\n**Deleting types....**\n\nTypes can't be deleted, just enabled/disabled. \n\n#### UX\n\n[Discussion regarding the proposed UX](https://gitlab.com/gitlab-org/gitlab/issues/35290#note_268955101)\n\n\n![Timebox_Flow_Update](https://gitlab.com/gitlab-org/gitlab/uploads/1da2a5feb7673929e46a2d3fee95a8c2/Timebox_Flow_Update.png)\n\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n- Stay inline with current milestones permission level of `Developer` and above. \n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n- Yes, we will need documentation.\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n- To be determined during the implementation planning.\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n#### Success Metrics\n\n- Count of timebox types being enabled and which ones are used most frequently.\n\n#### Acceptance Criteria\n\n- [ ] Proposal is generally satisfied.\n- [ ] GraphQL first\n- [ ] Rest API supported\n- [ ] `gitlab-ui` first. If new components are required, add them there first.\n- [ ] Telemetry added to capture success metrics.\n- [ ] Graph added to `Plan` dashboard in Periscope.\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\nBased on our current understanding, any reasonable manager that is utilizing modern agile planning practices would buy this feature. Based on our [four pricing tiers](https://about.gitlab.com/handbook/product/pricing/#four-tiers), this would fall into the ~\"GitLab Starter\" tier.\n\n### Links / references\n\n- None\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-10-30T18:17:37.101Z","updated_at":"2021-11-08T16:04:26.719Z","closed_at":"2021-03-23T13:23:50.817Z","closed_by":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"labels":["Category:Issue Tracking","Category:Team Planning","GitLab Starter","[deprecated] Accepting merge requests","backend","devops::plan","direction","docs::feature","documentation","frontend","group::project management","missed:12.9","planning priority","section::dev","type::feature"],"milestone":{"id":610592,"iid":24,"group_id":9970,"title":"Awaiting further demand","description":"Indicates that an issue has been triaged, but is not yet on the backlog because it is awaiting further demand from customers.","state":"active","created_at":"2018-08-01T12:23:44.946Z","updated_at":"2018-08-01T12:23:44.946Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/24"},"assignees":[],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":null,"user_notes_count":74,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35290","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35290","notes":"https://gitlab.com/api/v4/projects/278964/issues/35290/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35290/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35290","relative":"#35290","full":"gitlab-org/gitlab#35290"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26495256,"iid":35283,"project_id":278964,"title":"Update deprecated GraphQL description fields with `deprecation_reason`","description":"Context: https://gitlab.com/gitlab-org/gitlab/merge_requests/19233#note_236587411 and https://gitlab.com/gitlab-org/gitlab/merge_requests/19233#note_236528553.\n\nDepends on https://gitlab.com/gitlab-org/gitlab/issues/31645 and the decision from https://gitlab.com/gitlab-org/gitlab/issues/32292","state":"closed","created_at":"2019-10-30T16:50:18.274Z","updated_at":"2020-10-27T06:57:11.675Z","closed_at":"2020-10-27T06:57:11.632Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["GraphQL","[deprecated] Accepting merge requests","backend","backstage [DEPRECATED]","devops::plan","documentation","group::product planning","missed:12.5","section::dev","workflow::solution validation"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35283","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35283","notes":"https://gitlab.com/api/v4/projects/278964/issues/35283/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35283/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35283","relative":"#35283","full":"gitlab-org/gitlab#35283"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26494331,"iid":35272,"project_id":278964,"title":"lack information about regex restriction","description":"### Summary\n\nGitlab has problems with informing user about regex restriction. When You set commit message regex and branch name regex You can meet several wrong gitlab errors:\n1.  When Merge Request is created from the Issue level, if branch name does not fit the name regexp, it just pops up an error. Error doesn't mention regex at all.\n2.  When you create a commit via Web IDE and commit message does not fit regex gitlab also doesn't inform you about regexp but screams that branch has changed since the last edition, which is very confusing.\n3.  The last case is when you try to merge MR and squash commits, gitlab shouts there is the problem with commit message.\n\n### Steps to reproduce\nCase 1:\n1. Set project with Commit message regex restriction and branch name regex restriction.\n2. Make an Issue and try to create MR and branch from issue level. Of course, the branch name you enter cannot satisfy regex.\n\nCase 2:\n1. Make Merge Request. \n2. Open web IDE, make changes.\n3. Try to commit with invalid commit message. You will get error that branch has changed since the last edition.\n\nCase 3:\n1. Try to merge MR with squashed commits, gitlab shouts there is the problem with commit message.\n\n### What is the current *bug* behavior?\nYou have wrong gitlab allerts without informations about Regex.\n\n### What is the expected *correct* behavior?\n\nGitlab informs You when you are trying to make branch/commit with invalid regex.","state":"closed","created_at":"2019-10-30T16:17:55.600Z","updated_at":"2022-04-25T10:27:46.852Z","closed_at":"2020-11-16T02:07:12.954Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ð¤ GitLab Bot ð¤","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Accepting merge requests","auto closed","devops::create","group::source code","missed:12.10","missed:12.8","missed:12.9","missed:13.0","priority::3","repository","reproduced on GitLab.com","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1657945,"username":"shagreen","name":"shagreen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a378679bf5a73e0f44dbd221556dbfe5?s=80\u0026d=identicon","web_url":"https://gitlab.com/shagreen"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35272","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35272","notes":"https://gitlab.com/api/v4/projects/278964/issues/35272/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35272/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35272","relative":"#35272","full":"gitlab-org/gitlab#35272"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26494588,"iid":35275,"project_id":278964,"title":"Broken `master` due to `static-analysis`","description":"Job [#337416152](https://gitlab.com/gitlab-org/gitlab-foss/-/jobs/337416152) failed for gitlab-foss@ad8eea383406037a207c80421e6e4bfa357f8044:\n\n```\nspec/services/concerns/merge_requests/assigns_merge_params_spec.rb:1:1: C: Style/FrozenStringLiteralComment: Missing magic comment # frozen_string_literal: true.\nrequire 'spec_helper'\n^\n```","state":"closed","created_at":"2019-10-30T16:10:40.646Z","updated_at":"2019-10-30T16:43:48.955Z","closed_at":"2019-10-30T16:43:48.897Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Engineering Productivity","master:broken","priority::1","severity::1","test","type::bug"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35275","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35275","notes":"https://gitlab.com/api/v4/projects/278964/issues/35275/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35275/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35275","relative":"#35275","full":"gitlab-org/gitlab#35275"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26493877,"iid":35268,"project_id":278964,"title":"Evaluate usage of new authorisation system of graphql gem for Todo GraphQL API","description":"The following discussion from !18581 should be addressed:\n\n- [ ] @a_akgun started a [discussion](https://gitlab.com/gitlab-org/gitlab/merge_requests/18581#note_234161960):  (+6 comments)\n\n    \u003e Do we need an authorization for `base` like: `authorize :update_todo` similar to `app/graphql/mutations/merge_requests` and several others?\n\n@cablett [suggested](https://gitlab.com/gitlab-org/gitlab/merge_requests/18581#note_236983105): \n\n\u003e @digitalmoksha performed the gem updated of `graphql-ruby` recently, and it has an authorisation system (as an alternative than the homecooked one we currently use). Any thoughts here to add?\n\nThis should be investigated and implemented if possible.\n\nRelated issue: #31914","state":"closed","created_at":"2019-10-30T16:00:22.210Z","updated_at":"2019-10-31T09:05:11.064Z","closed_at":"2019-10-31T09:05:10.646Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["GraphQL","[deprecated] Accepting merge requests","api","backend","devops::plan","group::project management","maintenance::refactor","todos"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3078895,"username":"pd-gitlab","name":"Patrick Derichs","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/7e106768fae83577b0eec7daf082cb7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/pd-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35268","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35268","notes":"https://gitlab.com/api/v4/projects/278964/issues/35268/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35268/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/13984"},"references":{"short":"#35268","relative":"#35268","full":"gitlab-org/gitlab#35268"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26492246,"iid":35262,"project_id":278964,"title":"Upgrade Geo HA installation from 12.3.5 to the latest 12.4 package [SUCCESS]","description":"### Versions\n\nCurrent: `12.3.5`\nTarget: `12.4.1`\n\n### Upgrade checklist\n\n#### Preflight\n\n* [x] Create a zoom meeting and schedule a recorded meeting (make sure you have a paid account, otherwise recordings will stop after 40 minutes)\n* [x] Check if the Geo HA update instructions contain [version specific changes](https://docs.gitlab.com/ee/administration/geo/replication/updating_the_geo_nodes.html#version-specific-update-steps)\n* [x] Check if PostgreSQL version is updated\n* [x] Check if any [upgrade warnings exist](https://docs.gitlab.com/omnibus/update/#version-specific-changes)\n* [x] Verify that the Geo cluster is healthy pre upgrade\n* [x] Find the [latest packaged version]((https://packages.gitlab.com/gitlab/gitlab-ee)) of GitLab that [can be used for zero downtime upgrades](https://docs.gitlab.com/ee/update/README.html#upgrading-without-downtime )\n\n\n### Upgrade\n\n* [x] Retrieve a beverage of choice within a drinkable temperature range\n* [x] Join Zoom meeting and wait for arrival. Hit the **record** button\n* [x] Perform upgrade steps described in [latest documentation](https://docs.gitlab.com/omnibus/update/README.html#multi-node--ha-deployment-with-geo)\n* [x] Record any issues encountered during the upgrade\n* [x] Verify cluster health post upgrade\n* [x] Verify PostgreSQL version is correct\n\n### Postflight\n\n* [x] Record the upgrade outcome as SUCCESS, FAILED, PARTIAL SUCCESS\n* [x] Open new issues and inform @rnienaber and @fzimmer to confirm next steps","state":"closed","created_at":"2019-10-30T15:30:16.579Z","updated_at":"2019-11-06T13:13:26.256Z","closed_at":"2019-10-31T14:47:37.641Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["[deprecated] Accepting merge requests","devops::systems","group::geo"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"}],"author":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"type":"ISSUE","assignee":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35262","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":14},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"14 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35262","notes":"https://gitlab.com/api/v4/projects/278964/issues/35262/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35262/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35262","relative":"#35262","full":"gitlab-org/gitlab#35262"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1931,"epic":{"id":12422,"iid":1931,"title":"Geo Upgrade Demos","url":"/groups/gitlab-org/-/epics/1931","group_id":9970,"human_readable_end_date":"Nov 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26490461,"iid":35257,"project_id":278964,"title":"[Feature flag] Enable usage of GraphQL for roadmap","description":"## What\n\nRemove the `:roadmap_graphql` feature flag\n\n## Owners\n\n- Team: Plan Portfolio Management\n- Most appropriate slack channel to reach out to: `#g_plan`\n- Best individual to reach out to: @kushalpandya or @felipe_artur \n\n## Expectations\nEpics roadmap will hit GraphQL to gather data and functionality should not change.\n\n### What might happen if this goes wrong?\n\nBroken Roadmap with wrong number of epics. That could happen because we added a \nlimit to GraphQL pagination.\n\n### What can we monitor to detect problems with this?\nWe can check for new errors on Sentry using https://sentry.gitlab.net/gitlab/gitlabcom/?query=graphql\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org`\n\n## Roll Out Steps\n\n- [x] Enable on staging\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour\n- [x] Coordinate a time to enable the flag with `#production` and `#g_delivery` on slack.\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production`\n- [x] Cross post chatops slack command to `#support_gitlab-com` and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Flag will be enabled after performance check. More information in https://gitlab.com/gitlab-org/gitlab/issues/12887#note_274767312\n- [x] Default the flag to on first\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n- [x] Unblock https://gitlab.com/gitlab-org/gitlab/issues/13758 and proceed merging https://gitlab.com/gitlab-org/gitlab/merge_requests/15731","state":"closed","created_at":"2019-10-30T14:49:04.781Z","updated_at":"2020-04-20T15:55:11.467Z","closed_at":"2020-04-20T15:51:06.257Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["backend","devops::plan","feature flag","group::product planning","missed:12.5","missed:12.6","missed:12.7","missed:12.8","missed:12.9","workflow::in dev"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35257","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":14},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"14 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35257","notes":"https://gitlab.com/api/v4/projects/278964/issues/35257/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35257/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35257","relative":"#35257","full":"gitlab-org/gitlab#35257"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26484388,"iid":35248,"project_id":278964,"title":"MR environment review button opens two modals","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen you have MR that is deploys two (or potentially more) environments, review button opens up all modals.\n\n### Steps to reproduce\n\ncreate a pipeline in your project that deploys multiple environments, and make MR\n\n### Example Project\n\nhttps://gitlab.com/mikk150/env-review-multiple-modals/merge_requests/1\n\n(If you are using an older version of GitLab, this will also determine whether the bug is fixed in a more recent version)\n\n### What is the current *bug* behavior?\n\n1.  Click on `Review` button on whichever environment line\n2.  Close modal\n3.  See how you have to close one more modal\n\n### What is the expected *correct* behavior?\n\n\n1.  Click on `Review` button on whichever environment line\n2.  Close modal\n3.  I should be able to interact with my MR now\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-10-30T12:54:51.233Z","updated_at":"2021-08-23T14:23:09.366Z","closed_at":"2021-08-23T14:23:09.283Z","closed_by":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"labels":["Category:Review Apps","MR-Improvements","UX","UX FY21-Q4","[deprecated] Accepting merge requests","bug::transient","devops::verify","feature::enhancement","frontend","group::pipeline insights","merge request widget","section::ops","severity::4","type::bug","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":59328,"username":"mikk150","name":"mikk150","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59328/avatar.png","web_url":"https://gitlab.com/mikk150"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35248","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35248","notes":"https://gitlab.com/api/v4/projects/278964/issues/35248/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35248/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35248","relative":"#35248","full":"gitlab-org/gitlab#35248"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3598,"epic":{"id":68860,"iid":3598,"title":"Release UX Debt","url":"/groups/gitlab-org/-/epics/3598","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26482112,"iid":35242,"project_id":278964,"title":"Capture metrics per node using Prometheus","description":"This issue was open based on https://gitlab.com/gitlab-org/gitlab/issues/32266#note_236652404 in order to accommodate the \"Metric visualization\" https://gitlab.com/gitlab-org/gitlab/issues/32266#note_235836441\n\nWe need to automatically capture per pod metrics using Prometheus\n\nFollowing metrics should be (we should add more if needed) \n1. CPU\n2. Memory usage\n3. Disk i/o\n4. network In\n5. network Out\n\nWe should capture also advance metrics such as:\n1.  Desired pods\n1.  Available pods\n1.  Unavailable pods\n\nIf it's possible also to capture containers information I can specify what is needed, if not I can open a new issue\n\n## Designs\n\n![image](/uploads/9c30495c35631e19242fc29b99f7dbc2/image.png)","state":"closed","created_at":"2019-10-30T12:09:33.995Z","updated_at":"2020-11-16T12:54:28.302Z","closed_at":"2020-01-06T11:32:41.243Z","closed_by":{"id":2967854,"username":"rpereira2","name":"Reuben Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2967854/avatar.png","web_url":"https://gitlab.com/rpereira2"},"labels":["Category:Metrics","backend","devops::monitor","group::respond","missed:12.6","type::feature","workflow::verification"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":2967854,"username":"rpereira2","name":"Reuben Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2967854/avatar.png","web_url":"https://gitlab.com/rpereira2"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":2967854,"username":"rpereira2","name":"Reuben Pereira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2967854/avatar.png","web_url":"https://gitlab.com/rpereira2"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35242","notes":"https://gitlab.com/api/v4/projects/278964/issues/35242/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35242/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35242","relative":"#35242","full":"gitlab-org/gitlab#35242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2135,"epic":{"id":14562,"iid":2135,"title":"APM: Infrastructure dashboard","url":"/groups/gitlab-org/-/epics/2135","group_id":9970,"human_readable_end_date":"Jan 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26479827,"iid":35238,"project_id":278964,"title":"Flaky spec: spec/requests/api/members_spec.rb:146","description":"Job [#337038975](https://gitlab.com/gitlab-org/gitlab-foss/-/jobs/337038975) failed for gitlab-foss@b539ac1d619c0aafe5988ab8b125a8b43b14d87f:\n\n```\n  1) API::Members GET /:source_type/:id/members/all returns only one member for each user without returning duplicated members\n     Failure/Error: expect(json_response.map { |u| u['id'] }).to eq [developer.id, maintainer.id, nested_user.id, project_user.id, linked_group_user.id]\n\n       expected: [943, 944, 946, 949, 950]\n            got: [944, 946, 949, 950, 943]\n\n       (compared using ==)\n     # ./vendor/ruby/2.6.0/gems/rspec-support-3.8.2/lib/rspec/support.rb:97:in `block in \u003cmodule:Support\u003e'\n     # ./vendor/ruby/2.6.0/gems/rspec-support-3.8.2/lib/rspec/support.rb:106:in `notify_failure'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.8.4/lib/rspec/expectations/fail_with.rb:35:in `fail_with'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.8.4/lib/rspec/expectations/handler.rb:38:in `handle_failure'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.8.4/lib/rspec/expectations/handler.rb:50:in `block in handle_matcher'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.8.4/lib/rspec/expectations/handler.rb:27:in `with_matcher'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.8.4/lib/rspec/expectations/handler.rb:48:in `handle_matcher'\n     # ./vendor/ruby/2.6.0/gems/rspec-expectations-3.8.4/lib/rspec/expectations/expectation_target.rb:65:in `to'\n     # ./spec/requests/api/members_spec.rb:154:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:257:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:257:in `block in run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:464:in `block in run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:345:in `call'\n     # ./vendor/ruby/2.6.0/gems/rspec-rails-3.8.2/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in \u003cmodule:MinitestLifecycleAdapter\u003e'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:450:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:450:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:373:in `execute_with'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:345:in `call'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:123:in `block in run'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `loop'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.6.1/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:37:in `block (2 levels) in setup'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:450:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:450:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:373:in `execute_with'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:345:in `call'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:464:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:460:in `with_around_example_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:254:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example_group.rb:633:in `block in run_examples'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example_group.rb:629:in `map'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example_group.rb:629:in `run_examples'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example_group.rb:595:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example_group.rb:596:in `block in run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example_group.rb:596:in `map'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example_group.rb:596:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:116:in `block (3 levels) in run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:116:in `map'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:116:in `block (2 levels) in run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/configuration.rb:2008:in `with_suite_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:111:in `block in run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/reporter.rb:74:in `report'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:110:in `run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:87:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:71:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:45:in `invoke'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/exe/rspec:4:in `\u003ctop (required)\u003e'\n     # ./vendor/ruby/2.6.0/bin/rspec:23:in `load'\n     # ./vendor/ruby/2.6.0/bin/rspec:23:in `\u003ctop (required)\u003e'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb:74:in `load'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb:74:in `kernel_load'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb:28:in `run'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli.rb:463:in `exec'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/command.rb:27:in `run'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli.rb:27:in `dispatch'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/base.rb:466:in `start'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli.rb:18:in `start'\n     # /usr/local/lib/ruby/gems/2.6.0/gems/bundler-1.17.2/exe/bundle:30:in `block in \u003ctop (required)\u003e'\n     # /usr/local/lib/ruby/2.6.0/bundler/friendly_errors.rb:124:in `with_friendly_errors'\n     # /usr/local/lib/ruby/gems/2.6.0/gems/bundler-1.17.2/exe/bundle:22:in `\u003ctop (required)\u003e'\n     # /usr/local/bin/bundle:23:in `load'\n     # /usr/local/bin/bundle:23:in `\u003cmain\u003e'\n\nFinished in 12 minutes 10 seconds (files took 31.56 seconds to load)\n2040 examples, 1 failure\n\nFailed examples:\n\nrspec ./spec/requests/api/members_spec.rb:146 # API::Members GET /:source_type/:id/members/all returns only one member for each user without returning duplicated members\n! Generating reports is disabled. To enable it, please set the `FLAKY_RSPEC_GENERATE_REPORT=1` !\n```","state":"closed","created_at":"2019-10-30T11:00:11.788Z","updated_at":"2019-10-30T13:51:29.319Z","closed_at":"2019-10-30T13:51:29.254Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["ci-build","failure::flaky-test","priority::2","severity::2","test","type::bug"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35238","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35238","notes":"https://gitlab.com/api/v4/projects/278964/issues/35238/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35238/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35238","relative":"#35238","full":"gitlab-org/gitlab#35238"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26479773,"iid":35237,"project_id":278964,"title":"Extract Ci::Build::AutoRetry class","description":"## Summary\n\nExtract Auto-retry domain concept out of `Ci::Build` where it exists beside normal `retry` capabilities. This could be easily confused with concepts such as `retry` and `retryable?` which are actions that a user can take regardless of the auto-retry logic.\n\n## Improvements\n\n```ruby\nclass Ci::Build::AutoRetry\n  DEFAULT_RETRIES = {\n    scheduler_failure: 2\n  }.freeze\n\n  def initialize(build)\n    @build = build\n  end\n\n  def allowed?\n    # I feel this is an invariant that is not captured today.\n    # are we allowed to auto-retry something that is not retryable?\n    return false unless build.retryable?\n\n    # rest of Ci::Build#retry_failure? implementation\n  end\n\n  private\n\n  def retry_failure?\n  end\n\n  def options_retries_max\n  end\n\n  def options_retry_when\n  end\n \n  def retry_on_reason_or_always?\n  end\n\n  def options_retry\n  end\nend\n```\n\nUsage in `Ci::Build`\n\n```ruby\nclass Ci::Build\n  state_machine :status do \n    # ...\n  \n    after_transition any =\u003e [:failed] do |build|\n      next unless build.project\n\n      if build.auto_retry?\n        begin\n          Ci::Build.retry(build, build.user)\n        rescue Gitlab::Access::AccessDeniedError =\u003e ex\n          Rails.logger.error \"Unable to auto-retry job #{build.id}: #{ex}\" # rubocop:disable Gitlab/RailsLogger\n        end\n      end\n    end\n  end\n\n  def auto_retry?\n    AutoRetry.new(self).allowed?\n  end\nend\n```\n\n## Risks\n\n\u003c!--\nPlease list features that can break because of this refactoring and how you intend to solve that.\n--\u003e\n\n## Involved components\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n## Optional: Intended side effects\n\n\u003c!--\nIf the refactoring involves changes apart from the main improvements (such as a better UI), list them here.\nIt may be a good idea to create separate issues and link them here.\n--\u003e\n\n\n## Optional: Missing test coverage\n\n\u003c!--\nIf you are aware of tests that need to be written or adjusted apart from unit tests for the changed components,\nplease list them here.\n--\u003e","state":"closed","created_at":"2019-10-30T10:58:25.849Z","updated_at":"2020-07-21T19:45:08.745Z","closed_at":"2020-07-21T19:45:08.704Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["Category:Continuous Integration","backend","devops::verify","group::pipeline execution","maintenance::refactor","onboarding","pipeline processing","severity::3","type::maintenance","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"user_notes_count":0,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35237","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35237","notes":"https://gitlab.com/api/v4/projects/278964/issues/35237/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35237/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35237","relative":"#35237","full":"gitlab-org/gitlab#35237"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26478862,"iid":35235,"project_id":278964,"title":"Todos not removed for shared projects - Access to (confidential) issues and MRs","description":"**[HackerOne report #722001](https://hackerone.com/reports/722001)** by `xanbanx` on 2019-10-24, assigned to @jeremymatos:\n\nHi GitLab Security Team,\n\n### Summary\n\nI found a way to bypass the Todo redaction within GitLab. Normally, GitLab removes Todo  after a one hour grace period when a user for example leaves a project or does not have access to the feature anymore. However, this is not applied in the case of sharing a project with a group. If a project is shared within a group, the group members receive Todos, e.g., when they are mentioned on issues.\n\nHowever, when the shared group is removed from the project, Todo for all group members persist. By using the REST API of GitLab, a user can get much more associated information of the Todo. He now can receives for example the full issue, including the title, and description. Note, this is always the fresh and most recent version, which might have changed after the group was removed from the project. Furthermo\n\n### Steps to reproduce\n\n1. Share a private project with another group according to the documentation in https://docs.gitlab.com/ee/user/project/members/share_project_with_groups.html  \n2. As a group member, go to one issue of the project, and add a personal Todo via the `Add a To Do` button in the sidebar of the issue  \n3. Remove the group from the project  \n4. Wait for one hour grace period  \n5. As the group member, perform the following API call: `curl --header \"PRIVATE-TOKEN: \u003cTOKEN\u003e\" https://example.gitlab.com/api/v4/todos`\n\nThis now returns the old Todo from the previously shared project, which you don't have access to anymore.  \nThis looks similar to the JSON response below. Note, this contains small parts of the private project but also the full details of the issue. The issue here is the most recent version. So if someone from the the project changes the issue description, you also see that here!\n\n```json  \n[\n    {  \n        \"id\": 227,  \n        \"project\": {  \n            \"id\": 17,  \n            \"description\": \"\",  \n            \"name\": \"my-private-project\",  \n            \"name_with_namespace\": \"testuser / my-private-project\",  \n            \"path\": \"my-private-project\",  \n            \"path_with_namespace\": \"testuser/my-private-project\",  \n            \"created_at\": \"2019-10-24T08:24:25.844Z\"  \n        },  \n        \"author\": {  \n            \"id\": 4,  \n            \"name\": \"testuser\",  \n            \"username\": \"testuser\",  \n            \"state\": \"active\",  \n            \"avatar_url\": \"https://secure.gravatar.com/avatar/d113f00d385aac3f93dcda1532432ee8?s=80\u0026d=identicon\",  \n            \"web_url\": \"https://example.gitlab.com/testuser\"  \n        },  \n        \"action_name\": \"directly_addressed\",  \n        \"target_type\": \"Issue\",  \n        \"target\": {  \n            \"id\": 527,  \n            \"iid\": 2,  \n            \"project_id\": 17,  \n            \"title\": \"Critical security release\",  \n            \"description\": \"We need to fix this RCE vulnerability ASAP [@]all\",  \n            \"state\": \"opened\",  \n            \"created_at\": \"2019-10-24T08:34:07.028Z\",  \n            \"updated_at\": \"2019-10-24T08:34:07.028Z\",  \n            \"closed_at\": null,  \n            \"closed_by\": null,  \n            \"labels\": [],  \n            \"milestone\": null,  \n            \"assignees\": [],  \n            \"author\": {  \n                \"id\": 4,  \n                \"name\": \"testuser\",  \n                \"username\": \"testuser\",  \n                \"state\": \"active\",  \n                \"avatar_url\": \"https://secure.gravatar.com/avatar/d113f00d385aac3f93dcda1532432ee8?s=80\u0026d=identicon\",  \n                \"web_url\": \"https://example.gitlab.com/testuser\"  \n            },  \n            \"assignee\": null,  \n            \"user_notes_count\": 0,  \n            \"merge_requests_count\": 0,  \n            \"upvotes\": 0,  \n            \"downvotes\": 0,  \n            \"due_date\": null,  \n            \"confidential\": true,  \n            \"discussion_locked\": null,  \n            \"web_url\": \"https://example.gitlab.com/testuser/my-private-project/issues/2\",  \n            \"time_stats\": {  \n                \"time_estimate\": 0,  \n                \"total_time_spent\": 0,  \n                \"human_time_estimate\": null,  \n                \"human_total_time_spent\": null  \n            },  \n            \"task_completion_status\": {  \n                \"count\": 0,  \n                \"completed_count\": 0  \n            },  \n            \"has_tasks\": false,  \n            \"_links\": {  \n                \"self\": \"https://example.gitlab.com/api/v4/projects/17/issues/2\",  \n                \"notes\": \"https://example.gitlab.com/api/v4/projects/17/issues/2/notes\",  \n                \"award_emoji\": \"https://example.gitlab.com/api/v4/projects/17/issues/2/award_emoji\",  \n                \"project\": \"https://example.gitlab.com/api/v4/projects/17\"  \n            },  \n            \"subscribed\": false  \n        },  \n        \"target_url\": \"https://example.gitlab.com/testuser/my-private-project/issues/2\",  \n        \"body\": \"We need to fix this RCE vulnerability ASAP\",  \n        \"state\": \"pending\",  \n        \"created_at\": \"2019-10-24T08:34:07.094Z\"  \n    }  \n]\n```\n\n### Impact\n\nThe impact of this vulnerability is actually quite high. A malicious user of the group, can simply add a personal todo on all issues, including confidential issues, and merge requests of the project. This can easily be one `Add a To Do` in the sidebar of an issue or merge request. After the group is removed from the project, the malicious user has access to all issues and merge requests. Note, this always returns the most recent version of the issue or merge request!\n\n### What is the current *bug* behavior?\n\nTodos are not redacted when the group is removed as a project member.\n\n### What is the expected *correct* behavior?\n\nWhen the group is removed from the project, wait for the 1h grace period, and then remove all todos on the project for the group members.\n\n### Output of checks\n\nThis bug happens on GitLab.com currently running on GitLab Enterprise Edition 12.3.0-pre d92a13b6173 but also on local installation on GitLab 12.4.0.\n\nBest regards,  \nXanbanx\n\n## Impact\n\nSee above.","state":"closed","created_at":"2019-10-30T10:34:04.342Z","updated_at":"2020-03-02T09:10:23.107Z","closed_at":"2020-01-30T21:55:46.106Z","closed_by":{"id":4226366,"username":"ankelly","name":"Andrew Kelly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4226366/avatar.png","web_url":"https://gitlab.com/ankelly"},"labels":["HackerOne","backend","devops::plan","group::project management","priority::3","security","severity::3","workflow::in review"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-01-24","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35235","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35235","notes":"https://gitlab.com/api/v4/projects/278964/issues/35235/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35235/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35235","relative":"#35235","full":"gitlab-org/gitlab#35235"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26475162,"iid":35231,"project_id":278964,"title":"Add a `Gitlab::Workhorse::ARCHIVE_FORMATS` constant and use that instead of separate definitions","description":"We have several places where we show different formats to download an archive, we should consolidate that to 1 constant, perhaps in `Gitlab::Workhorse` since that's where the format is mapped to a `Gitaly::GetArchiveRequest::Format`.\n\n____\nThe following discussion from !19065 should be addressed:\n\n- [ ] @reprazent started a [discussion](https://gitlab.com/gitlab-org/gitlab/merge_requests/19065#note_237730355): \n\n    \u003e I'm seeing these formats defined in quite a few places.\n    \u003e \n    \u003e I think we should move this into a constant, perhaps in `Gitlab::Workhorse`.\n    \u003e \n    \u003e I think we can do that in a separate issue though as we should also update these occurrences:\n    \u003e \n    \u003e ```\n    \u003e File: app/models/releases/source.rb\n    \u003e 9:18:    FORMATS = %w(zip tar.gz tar.bz2 tar).freeze\n    \u003e \n    \u003e File: app/views/projects/buttons/_download_links.html.haml\n    \u003e 1:16:- formats = [['zip', 'btn-primary'], ['tar.gz'], ['tar.bz2'], ['tar']]\n    \u003e \n    \u003e File: spec/support/shared_examples/features/archive_download_buttons_shared_examples.rb\n    \u003e 4:22:  let(:formats) { %w(zip tar.gz tar.bz2 tar) }\n    \u003e ```","state":"closed","created_at":"2019-10-30T09:29:01.847Z","updated_at":"2019-11-22T16:31:04.680Z","closed_at":"2019-10-31T13:43:07.040Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil TrzciÅski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["devops::create","group::source code","maintenance::refactor"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35231","notes":"https://gitlab.com/api/v4/projects/278964/issues/35231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35231","relative":"#35231","full":"gitlab-org/gitlab#35231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26462993,"iid":35209,"project_id":278964,"title":"SCIM GET /Users should support requests without a filter","description":"## What\n\nSupport SCIM requests to `GET /Users` that don't have a filter specified.\n\nThis was unblocked by SCIM pagination (https://gitlab.com/gitlab-org/gitlab/issues/13094) and the refactor for this overlaps with the supporting the `eq` filter in https://gitlab.com/gitlab-org/gitlab/merge_requests/15685.\n\n## Why\n\nSCIM clients will sometimes send a request without a filter, using pagination to limit results instead. Currently we raise an error when a filter isn't provided, meaning we can't process those requests.\n\nFiltering is an optional part of the [SCIM spec](https://tools.ietf.org/html/rfc7644#section-3.4.3), so we are required to support requests that do not have a filter. This will help increase the number of SCIM providers we support, and reduce the chance that our Azure integration breaks.\n\nBonus: this will help Group admins to query `externalId` values for troubleshooting, so will help with https://gitlab.com/gitlab-org/gitlab/issues/33378","state":"closed","created_at":"2019-10-30T02:03:03.822Z","updated_at":"2019-11-14T10:27:29.233Z","closed_at":"2019-11-11T21:08:06.789Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["backend","devops::manage","group::authentication and authorization","scim","type::feature","workflow::verification"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"}],"author":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"type":"ISSUE","assignee":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"user_notes_count":0,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35209","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35209","notes":"https://gitlab.com/api/v4/projects/278964/issues/35209/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35209/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35209","relative":"#35209","full":"gitlab-org/gitlab#35209"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1774,"epic":{"id":11022,"iid":1774,"title":"Okta SCIM Support","url":"/groups/gitlab-org/-/epics/1774","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26462307,"iid":35206,"project_id":278964,"title":"Follow up: consolidate cycle analytics URLs","description":"Follow up to the discussion https://gitlab.com/gitlab-org/gitlab/merge_requests/18514#note_237573162\n\nWe should move the endpoints required for cycle analytics requests into the API module. This will allow us to remove the hardcoded endpoints across tests and the application.\n\nFrom https://gitlab.com/gitlab-org/gitlab/merge_requests/18252#note_239733477, we should also consider if it makes sense to provide the urls that dont have parameters to the vue application on load","state":"closed","created_at":"2019-10-30T00:54:18.748Z","updated_at":"2020-10-29T14:38:34.425Z","closed_at":"2019-11-21T13:27:28.923Z","closed_by":{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/502136/avatar.png","web_url":"https://gitlab.com/fatihacet"},"labels":["Category:Value Stream Management","analytics","backstage [DEPRECATED]","devops::manage","frontend","group::optimize","test","workflow::ready for development"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35206","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35206","notes":"https://gitlab.com/api/v4/projects/278964/issues/35206/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35206/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35206","relative":"#35206","full":"gitlab-org/gitlab#35206"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26461181,"iid":35203,"project_id":278964,"title":"Private project path (forked) \u0026 branch visible in merge requests","description":"**[HackerOne report #724895](https://hackerone.com/reports/724895)** by `ashish_r_padelkar` on 2019-10-29, assigned to @ankelly:\n\n### Summary  \nHello,\n\nWhen public project is forked by private project, the private project can request to merge into public project merge request. In such merge requests the project path and branch name of private forked projects publicly visible in request to merge sections.\n\nThe project path is continues to be visible even when forked relationship is removed and then updated paths are visible too.\n\n### Steps to reproduce\n\n1. Create a public project  \n2. Fork it in private project  \n3. Create a merge request from private to public project  \n4. Now login as non member and visit the above merge request. You should see the path of the private forked project publicly along with the name in `Request to merge` section of merge request.\n\n![Screenshot_2019-10-29_at_21.08.28.png](https://h1.sec.gitlab.net/a/94130af1-a0db-41d8-8514-e987bd6c120e/Screenshot_2019-10-29_at_21.08.28.png)\n\n5. Now remove the fork relationship from private project and update the path of the private project  \n6. Again visit the same merge request and you should see the updated name too!\n\n\n\n\n### What is the current *bug* behavior?\n\nShows the private forked project path and branch name publicly in merge requests.\n\n### What is the expected *correct* behavior?\n\nIf forked project is private, none of its information should be visible publicly.\n\n\n\n### Output of checks\n\nThis bug happens on GitLab.com and might be on omnibus installations too!\n\nRegards,  \nAshish\n\n## Impact\n\nPrivate project path and branch name visible in merge requests publicly if project is forked in private projects\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [Screenshot_2019-10-29_at_21.08.28.png](https://h1.sec.gitlab.net/a/94130af1-a0db-41d8-8514-e987bd6c120e/Screenshot_2019-10-29_at_21.08.28.png)","state":"closed","created_at":"2019-10-29T23:09:21.198Z","updated_at":"2020-04-06T15:13:24.693Z","closed_at":"2020-03-05T07:01:57.377Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Deliverable","HackerOne","backend","devops::create","forking","group::source code","priority::3","security","severity::3","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-01-20","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35203","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35203","notes":"https://gitlab.com/api/v4/projects/278964/issues/35203/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35203/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35203","relative":"#35203","full":"gitlab-org/gitlab#35203"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26458289,"iid":35197,"project_id":278964,"title":"Add vendored template tests for DAST","description":"Add an end to end test that uses the current DAST template against the latest DAST scanner.\n\nThe end to end test has been setup in this project.  https://gitlab.com/gitlab-org/security-products/tests/dast-e2e\n\n\u003cdetails\u003e\n\u003csummary\u003eOld Description\u003c/summary\u003e\nAs we release new versions of DAST, its possible that historical versions of gitlab-ci.yml files no longer work with DAST. \n\nWe should setup a repo that maintains historically supported CI files and ensure that those templates continue to work.\n\nA sample repo has been configured here: \nhttps://gitlab.com/sethgitlab/dast-template-tests\n\nThere are open MRs in the repo to illustrate each template working. \n\nThis repo should be moved into an official GitLab repo that is added to the DAST release pipeline.\n\n\u003c/details\u003e","state":"closed","created_at":"2019-10-29T20:37:44.082Z","updated_at":"2020-06-29T15:54:08.981Z","closed_at":"2020-06-29T15:54:08.574Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["QA","backend","backstage [DEPRECATED]","devops::secure","group::dynamic analysis","workflow::ready for development"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"}],"author":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"type":"ISSUE","assignee":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35197","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35197","notes":"https://gitlab.com/api/v4/projects/278964/issues/35197/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35197/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35197","relative":"#35197","full":"gitlab-org/gitlab#35197"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26455556,"iid":35185,"project_id":278964,"title":"Add ability to mutate labels within Epic in GraphQL","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nUse GraphQL API to mutate Labels in an Epic, for use on the Epic sidebar.\n\n## Improvements\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n\n- As part of the sidebar refactor, we will use the GraphQL API. This change will add the ability to mutate labels within an Epic, so that they can be added and removed within the sidebar\n\nThis issue is blocked by #31912, which will add the labels attribute to Epics (as it already is in `EpicIssue`)\n\ncc @donaldcook @kokeefe","state":"closed","created_at":"2019-10-29T18:53:27.451Z","updated_at":"2021-11-08T16:55:38.987Z","closed_at":"2019-11-20T06:35:31.773Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Portfolio Management","GraphQL","backend","backstage [DEPRECATED]","devops::plan","epics","group::product planning","missed:12.5","workflow::verification"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35185","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35185","notes":"https://gitlab.com/api/v4/projects/278964/issues/35185/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35185/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35185","relative":"#35185","full":"gitlab-org/gitlab#35185"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26447677,"iid":35172,"project_id":278964,"title":"Improve usability of clicking on a file in the repository browser","description":"## Description\n\nIn the file tree Vue refactor, when a user clicks on an empty space in a row, it's the same as if they clicked the file name. Right now we handle this in a click callback, but what if we used native HTML to do this. This way we'd gain the benefits of:\n\n- User can see the href before the click.\n- Right clicking causes \"Open in New Tab\" to appear.\n- Meta clicking natively works.\n\n## Point 1 - Should we disable click-on-row and only support click on the text of each \"clickable\" element? ~UX \n\nThis includes the link to modules as seen in this screenshot:\n\n![Screenshot_2020-02-11_at_08.40.56](/uploads/e1fcc0be9733812f48de118777208642/Screenshot_2020-02-11_at_08.40.56.png)\n\n\nMore details from https://gitlab.com/gitlab-org/gitlab/issues/35250:\n\n\u003cdetails\u003e\n\u003csummary\u003ePrevious discussion on the topic\u003c/summary\u003e\n\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/merge_requests/19228#note_237457406):  (+5 comments)\n\n    \u003e **question (non-blocking):** @mvanremmerden is clicking on the file row a feature we're interested in supporting? Concerns:\n    \u003e \n    \u003e - This doesn't add any extra capability which isn't already accomplished by just using the name link.\n    \u003e - For a complete native feel (i.e. features like ctrl+click), there's some extra complexity (i.e. meta vs ctrl in different OS's).\n    \u003e - It looks like this kind of feature has broken user's expectations in the past https://gitlab.com/gitlab-org/gitlab/issues/24062.\n    \u003e \n    \u003e Not that we have to replicate them, but it looks like GitHub doesn't implement this:\n    \u003e \n    \u003e ![20191029_github_file_demo](/uploads/386720cbb1b3f06f103f7aec50171e96/20191029_github_file_demo.gif)\n    \u003e \n    \u003e -------\n    \u003e \n    \u003e @iamphill sorry to tap the brakes on this small MR :sweat_smile:\n\n\u003c/details\u003e\n\n## Point 2 - Fully usable links\n\nMake sure the file list supports ctrl+click, right click and open in new tab, etc. â all the native features of a link.\n\n----\n\n\n## If we still want to keep the click-on-row, one of the possible solutions is:\n\n**Style an underlying anchor tag to capture the \"negative\" space**\n\nThis option is described in the context below :point_down:\n\n### Context\n\nThe following discussion from !19228 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/merge_requests/19228#note_236698181):  (+3 comments)\n\n    \u003e **suggestion:** I'm a little concerned that we're re-inventing the wheel (i.e. the anchor element).\n    \u003e \n    \u003e - This coupling to the `tagName` is a little concerning. In the future, is it possible that we have a `click` handler on a non-anchor element?\n    \u003e - There's some native anchor features that we're still missing (i.e. \"Open in New Tab\" in context menu, mobile support, seeing the href in the browser). \n    \u003e \n    \u003e With a little CSS magic, I think we can actually remove the `openRow` method in favor of an underlying `\u003ca\u003e`. What do you think of this? Is it too hacky?\n    \u003e \n    \u003e \u003cdetails\u003e\n    \u003e \n    \u003e ```patch\n    \u003e diff --git a/app/assets/javascripts/repository/components/table/row.vue b/app/assets/javascripts/repository/components/table/row.vue\n    \u003e index 81ae5143082..7305d5de558 100644\n    \u003e --- a/app/assets/javascripts/repository/components/table/row.vue\n    \u003e +++ b/app/assets/javascripts/repository/components/table/row.vue\n    \u003e @@ -96,23 +96,18 @@ export default {\n    \u003e        return this.id.slice(0, 8);\n    \u003e      },\n    \u003e    },\n    \u003e -  methods: {\n    \u003e -    openRow(e) {\n    \u003e -      if (e.target.tagName === 'A') return;\n    \u003e -\n    \u003e -      if (this.isFolder \u0026\u0026 !e.metaKey) {\n    \u003e -        this.$router.push(this.routerLinkTo);\n    \u003e -      } else {\n    \u003e -        visitUrl(this.url, e.metaKey);\n    \u003e -      }\n    \u003e -    },\n    \u003e -  },\n    \u003e  };\n    \u003e  \u003c/script\u003e\n    \u003e  \n    \u003e  \u003ctemplate\u003e\n    \u003e -  \u003ctr :class=\"`file_${id}`\" class=\"tree-item\" @click=\"openRow\"\u003e\n    \u003e +  \u003ctr :class=\"`file_${id}`\" class=\"tree-item link-overlay-target\"\u003e\n    \u003e      \u003ctd class=\"tree-item-file-name\"\u003e\n    \u003e +      \u003ccomponent\n    \u003e +        :is=\"linkComponent\"\n    \u003e +        :to=\"routerLinkTo\"\n    \u003e +        :href=\"url\"\n    \u003e +        class=\"link-overlay\"\n    \u003e +      \u003e\u003c/component\u003e\n    \u003e        \u003ci :aria-label=\"type\" role=\"img\" :class=\"iconName\" class=\"fa fa-fw\"\u003e\u003c/i\u003e\n    \u003e        \u003ccomponent :is=\"linkComponent\" :to=\"routerLinkTo\" :href=\"url\" class=\"str-truncated\"\u003e\n    \u003e          {{ fullPath }}\n    \u003e diff --git a/app/assets/stylesheets/framework/common.scss b/app/assets/stylesheets/framework/common.scss\n    \u003e index 4b89a2f2b04..2274a3ff3cc 100644\n    \u003e --- a/app/assets/stylesheets/framework/common.scss\n    \u003e +++ b/app/assets/stylesheets/framework/common.scss\n    \u003e @@ -563,3 +563,22 @@ img.emoji {\n    \u003e  \n    \u003e  .gl-font-size-small { font-size: $gl-font-size-small; }\n    \u003e  .gl-line-height-24 { line-height: $gl-line-height-24; }\n    \u003e +\n    \u003e +.link-overlay-target {\n    \u003e +  position: relative;\n    \u003e +\n    \u003e +  a {\n    \u003e +    position: relative;\n    \u003e +    z-index: 1;\n    \u003e +\n    \u003e +    \u0026.link-overlay {\n    \u003e +      position: absolute;\n    \u003e +      z-index: 0;\n    \u003e +      display: block;\n    \u003e +      left: 0;\n    \u003e +      top: 0;\n    \u003e +      width: 100%;\n    \u003e +      height: 100%;\n    \u003e +    }\n    \u003e +  }\n    \u003e +}\n    \u003e \n    \u003e ```\n    \u003e \n    \u003e \u003c/details\u003e\n    \u003e \n    \u003e I'm not sure of the cross browser considerations of this. IMO, it's worth considering because it creates a very natural UX :thinking:\n    \u003e \n    \u003e ![20191028_vue_file_tree_native_anchor](/uploads/1a5e0e07f33fcb35ed87d6c44efcddb5/20191028_vue_file_tree_native_anchor.mp4)\n\n## Proposal\n\nLimit the size of the file/folder clickable area while keeping it easy to access the most important element of the row:\n\n1. Hovering the row keeps the regular pointer instead of the **pointing hand** cursor:\n   1. ![image](/uploads/9ebcf06698c22595bc322c648595ffd1/image.png)\n1. The file/folder hit area is constrained to the ânameâ table cell. When hovering the file/folder it's underlined.\n   1. ![image](/uploads/4ffcc8842c127df0dc336e9cd0daba90/image.png)\n1. Since modules are likely to be the minority, we reduce the hit area to just the commit and module name. The module name link includes the icon.\n   1. ![image](/uploads/599833418537cfa42f268d834703220d/image.png)\n   1. ![image](/uploads/6e19dd3eeb205ac6678eb8339b7adb11/image.png)\n\n## Availability \u0026 Testing\n\nNo risks to availability are anticipated.\n\nCross-browser testing will be necessary to ensure that clicking behaves as expected in all supported browsers.\n\nUnit/integration test coverage should be sufficient. However, there are several end-to-end tests that were written assuming the existing behavior, so `package-and-qa` should be run before merging to confirm that the tests are compatible with any changes.","state":"closed","created_at":"2019-10-29T16:09:03.429Z","updated_at":"2022-01-13T12:35:53.025Z","closed_at":"2020-03-23T12:38:43.363Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","missed-deliverable","missed:12.9","quad-planning::complete-action","repository","workflow::ready for development"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":14,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35172","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35172","notes":"https://gitlab.com/api/v4/projects/278964/issues/35172/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35172/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35172","relative":"#35172","full":"gitlab-org/gitlab#35172"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":159,"epic":{"id":286,"iid":159,"title":"ð Fast repository browsing","url":"/groups/gitlab-org/-/epics/159","group_id":9970,"human_readable_end_date":"Apr 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26446931,"iid":35171,"project_id":278964,"title":"Define a guideline for Review Apps resources requests and limits to avoid overcommitting nodes and improve cluster stability","description":"After watching https://cloud.google.com/blog/products/gcp/kubernetes-best-practices-resource-requests-and-limits, I realized that while resources requests are used by the Kubernetes scheduler to decide on which node to schedule a pod, the resource limits are only there for Kubernetes to:\n\n1. Throttle pods if the CPU limit is reached\n1. Evict pods if the memory limit is reached\n\nGiven this information and:\n\n1. The fact that our nodes p99 CPU utilization is above 100%: ![Screen_Shot_2019-10-29_at_16.51.48](/uploads/4a189c2def4b5091e23617c07b028e37/Screen_Shot_2019-10-29_at_16.51.48.png)\n1. The fact that we can adjust each pod's resource requests based on their actual p99 utilization (based on ![Screen_Shot_2019-10-29_at_16.53.13](/uploads/34d58590615fe9d5234afce09b64f6f9/Screen_Shot_2019-10-29_at_16.53.13.png))\n\nI think we should adjust:\n\n1. Resources requests so that p99 CPU utilization for every component is between 80% and 100%.\n1. Resources limits so that p99 CPU utilization for every component is be always below 70%.\n1. Resources requests so that p99 memory utilization for every component is between 80% and 100%.\n1. Resources limits so that p99 memory utilization for every component is below 70%.\n\n## CPU proposal\n\n| Component          | Current p99 CPU request utilization | Current p99 CPU limit utilization | Current CPU request | Current CPU limit | Proposed CPU request   | Proposed CPU limit |\n| ------------------ | ----------------------------------- | --------------------------------- | ------------------- | ----------------- | ---------------------- | ------------------ |\n| `gitaly`           | 188%                                | 93%                               | `600m`              | `1200m`           | `1200m` (`600m` * 2)   | `1800m` (`1200m` * 1.5) |\n| `gitlab-shell`     | 170%                                | 85%                               | `125m`              | `250m`            | `230m` (`125m` * 1.84) | `345m` (`230m` * 1.5) |\n| `sidekiq`          | 125%                                | 85%                               | `500m`              | `1000m`           | `650m` (`500m` * 1.3)  | `975m` (`650m ` * 1.5) |\n| `unicorn`          | 95%                                 | 65%                               | `400m`              | `800m`            | `500m` (`400m` * 1.25) | `750m` (`500m ` * 1.5) | \n| `gitlab-workhorse` | 67%                                 | 34%                               | `300m`              | `600m`            | `250m` (`300m` * 0.83) | `375m` (`250m ` * 1.5) |\n| `gitlab-runner`    | 120%                                | 60%                               | `355m`              | `710m`            | `450m` (`355m` * 1.26) | `675m` (`450m ` * 1.5) |\n| `nginx-ingress/controller` | 27%                         | 15%                               | `100m`              | `200m`            | `100m`                 | `200m`             |\n| `nginx-ingress/defaultBackend` | 20%                     | 13%                               | `5m`                | `10m`             | `5m`                   | `10m`              |\n| `postgresql`       | 95%                                 | 60%                               | `250m`              | `500m`            | `300m` (`250m` * 1.2)  | `450m` (`300m` * 1.5) |\n| `redis`            | 20%                                 | 10%                               | `100m`              | `200m`            | `100m`                 | `200m` |\n\n## Memory proposal\n\n| Component          | Current p99 MEM request utilization | Current p99 MEM limit utilization | Current MEM request | Current MEM limit | Proposed MEM request   | Proposed MEM limit |\n| ------------------ | ----------------------------------- | --------------------------------- | ------------------- | ----------------- | ---------------------- | ------------------ |\n| `gitaly`           | 120%                                | TBD                               | `200M`              | `420M`            | `240M` (`20M` * 1.2)   | `360M` (`240M` * 1.5) |\n| `gitlab-shell`     | 125%                                | TBD                               | `20M`               | `40M`             | `25M` (`20M` * 1.25)   | `37.5M` (`25M` * 1.5) |\n| `sidekiq`          | 110%                                | TBD                               | `800M`              | `1.6G`            | `880M` (`800M` * 1.1)  | `1320M` (`880M` * 1.5) |\n| `unicorn`          | 110%                                | TBD                               | `1.4G`              | `1.8G`            | `1540M` (`1400M` * 1.1) | `2310M` (`1540M` * 1.5) | \n| `gitlab-workhorse` | 30%                                 | TBD                               | `100M`              | `200M`            | `50M` (`100M` * 0.5)   | `75M` (`50M` * 1.5) |\n| `gitlab-runner`    | 12%                                 | TBD                               | `300M`              | `600M`            | `100M` (`300M` * 0.3)  | `150M` (`100M` * 1.5) |\n| `nginx-ingress/controller` | 180%                        | TBD                               | `250M`              | `500M`            | `450M` (`240M` * 1.8)  | `675M` (`450M` * 1.5) |\n| `nginx-ingress/defaultBackend` | 50%                     | TBD                               | `12M`               | `24M`             | `12M`                  | `24M`               |\n| `postgresql`       | 85%                                 | TBD                               | `256M`              | ?                 | `250M`                 | `375M` (`250M` * 1.5) |\n| `redis`            | 25%                                 | TBD                               | `60M`               | `130M`            | `30M` (`60M` * 0.5)    | `45M` (`30M` * 1.5) |","state":"closed","created_at":"2019-10-29T15:59:38.683Z","updated_at":"2019-11-01T12:21:52.294Z","closed_at":"2019-10-30T16:44:06.585Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Engineering Productivity","backstage [DEPRECATED]"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35171","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35171","notes":"https://gitlab.com/api/v4/projects/278964/issues/35171/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35171/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35171","relative":"#35171","full":"gitlab-org/gitlab#35171"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26412262,"iid":35137,"project_id":278964,"title":"Simplify fetchLogs in the logs vuex store","description":"```\nexport const fetchLogs = ({ commit, state }, podName) =\u003e\n```\n\nIs doing too much right now, and could be split.\n\n### Original discussion\n\nThe following discussion from !18567 should be addressed:\n\n- [ ] @filipa started a [discussion](https://gitlab.com/gitlab-org/gitlab/merge_requests/18567#note_233361809):  (+1 comment)\n\n    \u003e let's break this please. There is a lot of things happening in this, this should only fetch data.\n    \u003e \n    \u003e let's create an action to set the name and call it","state":"closed","created_at":"2019-10-29T09:14:10.988Z","updated_at":"2020-11-16T12:54:30.914Z","closed_at":"2019-12-04T02:53:36.705Z","closed_by":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"labels":["auto updated","backstage [DEPRECATED]","devops::monitor","frontend","group::respond","maintenance::refactor","workflow::ready for development"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"}],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35137","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35137","notes":"https://gitlab.com/api/v4/projects/278964/issues/35137/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35137/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35137","relative":"#35137","full":"gitlab-org/gitlab#35137"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26410900,"iid":35135,"project_id":278964,"title":"Frontend: Users cannot re-add merge request to a merge train when \"pipeline must succeed\" is enabled","description":"\n\n### Summary\n\nIn a particular case, users will lose a way to re-add a merge request to a merge train.\n\n- \"Pipeline must succeed\" [option](https://docs.gitlab.com/ee/user/project/merge_requests/merge_when_pipeline_succeeds.html#only-allow-merge-requests-to-be-merged-if-the-pipeline-succeeds) is enabled at the project-level config\n- \"Merge trains\" are [enabled](https://docs.gitlab.com/ee/ci/pipelines/merge_trains.html#enable-merge-trains)\n\n### Steps to reproduce\n\n1. A user adds a merge request to a merge train\n1. The system creates a pipeline for merge train and it starts running\n1. A user accidentally removes the merge request from a merge train\n1. A user enables \"Add to merge train when pipeline succeeds\" on the merge request\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n- User sees disabled Merge button with the text \"The pipeline for this merge request failed. Please retry the job or push a new commit to fix the failure\".\n  This is because the project enables \"Pipeline must succeed\" option.\n- User doesn't have a way to re-add the merge request to a merge train because of that.\n- Since the merge request has already been dropped from a merge train,\n  the pipeline will fail by `fatal: Couldn't find remote ref`. This is an expected behavior.\n\n## Workaround:\n\n1. The quickest workaround is disabling \"Pipeline must succeed\" option, because it's technically covered by merge train's functionality already.\n2. if you do not want to disable the option, here is another workaround.\n   - Click \"Run pipeline\" button in \"Pipelines\" tab in the merge request\n   - Enables \"Add to merge train when pipeline succeeds\"\n3. add a comment to the MR using the `/merge` action keyword. That re-adds the MR to the merge train and merges if the pipeline succeeded.\n\n### What is the expected *correct* behavior?\nUsers should be able to easily add the merge request back to the train without leaving the overview page- from the merge widget itself.  \n\n### Proposal\n\n- Backend - An MR to enable the following in the backend:#336799 \n\u003e we need ~backend to return the `pipeline.merge_request_event_type` to the ~frontend (either via GraphQL or REST serializer, depending which one is used today)\n\n- Frontend - Implement the mentioned table in the frontend\n\n\n| Pipeline event | Pipeline status | Button | Message |\n|----------------|-----------------|--------|---------|\n| merge train pipeline | failed | Add to merge train | `The merge train pipeline failed. Please address the spec, failure or re-add the merge request to the train.` |\n| merge train pipeline | canceled | Add to merge train | `The merge train pipeline failed. Please re-add the merge request to the train.` |\n| merge train pipeline | running | no button / disabled | N/A |\n| merge train pipeline | success | N/A (MR being merged) | N/A |\n| merge request pipeline | canceled or failed | disabled Merge button | existing message, since a MR cannot be added on train if the user-triggered pipeline is non successful |\n| merge request pipeline | success | Add to merge train | whatever we display today |\n\nDesign proposal added to the design management section.\n\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\n\n\n## Reference\n\nhttps://gitlab.com/gitlab-com/www-gitlab-com/merge_requests/33508\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-10-29T08:39:05.322Z","updated_at":"2022-12-28T10:25:38.537Z","closed_at":"2022-06-27T12:59:53.050Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Merge Trains","FY23::Q2","OKR","SUS::Impacting","UI text","UX","Verify candidate","Verify::P3","approaching-SLO","bug::transient","competitive","customer","devops::verify","direction","documentation","frontend","gh-competitive","group::pipeline execution","merge requests","missed-SLO","priority::1","quad-planning::complete-no-action","section::ops","severity::2","type::bug","vintage","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":null,"user_notes_count":133,"merge_requests_count":0,"upvotes":15,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35135","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35135","notes":"https://gitlab.com/api/v4/projects/278964/issues/35135/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35135/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35135","relative":"#35135","full":"gitlab-org/gitlab#35135"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5455,"epic":{"id":212466,"iid":5455,"title":"Bugs: MR Mergeability","url":"/groups/gitlab-org/-/epics/5455","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26405224,"iid":35132,"project_id":278964,"title":"Limit the number of feature flags per project","description":"\n\n\n\n:exclamation: :exclamation: :exclamation: \n\n**Security Issue:** https://gitlab.com/gitlab-org/security/gitlab/-/issues/239\n\n:exclamation: :exclamation: :exclamation:\n\n\n\n\n\n\n\n\n\n\u003c!-- The first four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve \n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nCurrently, `client/features` endpoint and `feature_flag_scopes` endpoint do not have a pagination. This is because unleash clients are not compatible with pagination and all flags should be populated in one request.\n\nHowever, this leaves a scalability concern that if there are too many feature flags per project, this endpoint will likely fail by database statement timeout or Unicorn/Puma request timeout. So we should limit the number of flags somehow.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n--\u003e\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\nThe user will be enabled to create feature flags regardless of the situation. If limited the user should be well informed and the feedback made actionable.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nImplements a UI to support the changes of https://gitlab.com/gitlab-org/security/gitlab/-/issues/239:\n- There will be a [call out/alert](https://design.gitlab.com/components/alert/) informing the users of the 200 FF limit of https://gitlab.com/gitlab-org/security/gitlab/-/issues/239 when a user presses the `New feature flag` button when the limit has been reached. \n  - This alert is dismissable and will pop up again if the button is pressed while the limit is reached.\n  - This alert persists during the current page load. When the page is refreshed it will show when the button is pressed again and the limit is reached.\n  - Copy: `Feature flag limit reached (200). Delete one or more feature flags before adding new ones.`\n  - Variant: `Warning`\n- The same warning will be given to the users creating feature flags through the API\n\n| Mockup ([Figma document](https://www.figma.com/file/hMHmQsCo4AM2PntkqsH7nK/Limit-the-number-of-feature-flags-per-project-gitlab-org-gitlab-35132?node-id=63%3A71))  |\n| --- |\n| ![Call_out](/uploads/de7eb0fec0f576dbb985ac667bd1ef22/Call_out.png) |\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!--  Label reminders - you should have one of each of the following labels if you can figure out the correct ones --\u003e","state":"closed","created_at":"2019-10-29T04:01:07.338Z","updated_at":"2022-02-11T17:38:37.058Z","closed_at":"2020-10-07T21:48:27.470Z","closed_by":{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"},"labels":["Category:Feature Flags","Release::P3","UI text","UX","cicd::active","devops::release","frontend","group::release","section::ops","type::feature","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"},"user_notes_count":109,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35132","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35132","notes":"https://gitlab.com/api/v4/projects/278964/issues/35132/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35132/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35132","relative":"#35132","full":"gitlab-org/gitlab#35132"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26394372,"iid":35124,"project_id":278964,"title":"Flaky spec: ee/spec/graphql/resolvers/design_management/design_resolver_spec.rb:35","description":"Job [#335559841](https://gitlab.com/gitlab-org/gitlab/-/jobs/335559841) failed for fe63ffb858146b5e0b1f9327c1f453d3a02d67ab:\n\n```\nResolvers::DesignManagement::DesignResolver#resolve for a design collection returns all designs\n     Failure/Error: expect(resolve_designs(issue.design_collection, {}, current_user: current_user)).to eq([first_design, second_design])\n\n       expected: [#\u003cDesignManagement::Design id:49 namespace937/project1101#1/designs[homescreen-60.jpg]\u003e, #\u003cDesignManagement::Design id:57 namespace937/project1101#1/designs[homescreen-68.jpg]\u003e]\n            got: #\u003cActiveRecord::AssociationRelation [#\u003cDesignManagement::Design id:57 namespace937/project1101#1/desi...-68.jpg]\u003e, #\u003cDesignManagement::Design id:49 namespace937/project1101#1/designs[homescreen-60.jpg]\u003e]\u003e\n\n       (compared using ==)\n\n       Diff:\n       @@ -1,3 +1,3 @@\n       -[#\u003cDesignManagement::Design id:49 namespace937/project1101#1/designs[homescreen-60.jpg]\u003e,\n       - #\u003cDesignManagement::Design id:57 namespace937/project1101#1/designs[homescreen-68.jpg]\u003e]\n       +[#\u003cDesignManagement::Design id:57 namespace937/project1101#1/designs[homescreen-68.jpg]\u003e,\n       + #\u003cDesignManagement::Design id:49 namespace937/project1101#1/designs[homescreen-60.jpg]\u003e]\n     # ./vendor/ruby/2.6.0/gems/rspec-support-3.8.2/lib/rspec/support.rb:97:in \n```\n\n@.luke is `DesignResolver#resolve` expected to return designs in a specific order? Or should we just use `contain_exactly` here instead of `eq`?","state":"closed","created_at":"2019-10-28T23:20:59.557Z","updated_at":"2020-12-10T18:59:31.683Z","closed_at":"2019-10-29T02:50:03.463Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Category:Design Management","devops::plan","failure::flaky-test","group::product planning","workflow::in review"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35124","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35124","notes":"https://gitlab.com/api/v4/projects/278964/issues/35124/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35124/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35124","relative":"#35124","full":"gitlab-org/gitlab#35124"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26390272,"iid":35115,"project_id":278964,"title":"Create dynamic frontend test fixture for releases","description":"The following discussion from !19226 should be addressed:\n\n- [ ] @mikegreiling started a [discussion](https://gitlab.com/gitlab-org/gitlab/merge_requests/19226#note_236686744):  (+1 comment)\n\n    \u003e I suppose if our mock_data was generated from backend samples instead of being a static fixture our tests might have caught this property name discrepancy.\n    \u003e \n    \u003e @winh is there a good way to generate these things on-the-fly?  Should we create a follow-up issue?\n\n`spec/frontend/releases/mock_data.js` should be replaced by a dynamic fixture. see also https://docs.gitlab.com/ee/development/testing_guide/frontend_testing.html#frontend-test-fixtures","state":"closed","created_at":"2019-10-28T20:18:59.532Z","updated_at":"2020-10-29T12:12:51.821Z","closed_at":"2020-10-28T13:02:21.111Z","closed_by":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"labels":["Category:Release Orchestration","[deprecated] Accepting merge requests","[deprecated] low hanging fruit","backstage [DEPRECATED]","cicd::active","devops::release","frontend","good for new contributors","maintenance::refactor","section::ops","test"],"milestone":null,"assignees":[],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35115","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35115","notes":"https://gitlab.com/api/v4/projects/278964/issues/35115/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35115/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35115","relative":"#35115","full":"gitlab-org/gitlab#35115"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1239,"epic":{"id":6506,"iid":1239,"title":"replace mock_data.js s with generated JSON fixtures","url":"/groups/gitlab-org/-/epics/1239","group_id":9970},"iteration":null,"health_status":null},{"id":26388511,"iid":35108,"project_id":278964,"title":"Upgrade the mail_room gem to version 0.10.0","description":"### Summary\n\nCurrently GitLab.com is missing structured logging coming from the mailroom service.  With the recent release of version 0.10.0 of this gem, we should now have the capability to better control logging coming from this service.\n\nhttps://github.com/tpitale/mail_room/releases\n\n### Possible fixes\n\nGitLab will need an upgrade on: https://gitlab.com/gitlab-org/gitlab/blob/master/Gemfile#L414\n\nOmnibus will need to have additional options added such that Administrators of GitLab can configure the logging as desired: https://gitlab.com/gitlab-org/omnibus-gitlab\n\nAnd the same bit of configuration should be made available to charts: https://gitlab.com/gitlab-org/charts/gitlab\n\nNote: this is a follow-on issue to https://gitlab.com/gitlab-org/gitlab/issues/30070","state":"closed","created_at":"2019-10-28T19:09:43.574Z","updated_at":"2020-01-10T09:47:56.515Z","closed_at":"2019-12-16T09:32:35.891Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Logging","Deliverable","Observability","auto updated","backend","devops::plan","group::project management","infrastructure monitoring","missed-deliverable","missed:12.5","workflow::in review"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":9,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35108","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35108","notes":"https://gitlab.com/api/v4/projects/278964/issues/35108/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35108/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35108","relative":"#35108","full":"gitlab-org/gitlab#35108"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26388465,"iid":35107,"project_id":278964,"title":"Issuables List Fast Follow Refactor: Edit Issues shouldnt appear when canBulkEdit is false","description":"![image](/uploads/41e812d519deebfa374a00e26eab55ba/image.png)\n\nAfter the issuable refactor to Vue, the `Edit Issues` button is still available even if the prop `canBulkEdit` is false.","state":"closed","created_at":"2019-10-28T19:07:44.353Z","updated_at":"2019-11-06T18:49:10.332Z","closed_at":"2019-11-06T18:28:41.073Z","closed_by":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"labels":["devops::plan","frontend"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35107","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35107","notes":"https://gitlab.com/api/v4/projects/278964/issues/35107/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35107/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35107","relative":"#35107","full":"gitlab-org/gitlab#35107"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26387508,"iid":35103,"project_id":278964,"title":"Consider using the `scripts/review_apps/base-config.yml` file from `master` so that every deployment use an up-to-date config","description":"We should consider always using the `scripts/review_apps/base-config.yml` file from `master` so that every deployment use an up-to-date config.\n\nThe only challenge is that when this file is updated, the Review App should be deployed using the modified version to ensure that the changes do what we expect.","state":"closed","created_at":"2019-10-28T18:25:13.900Z","updated_at":"2019-10-30T15:13:27.424Z","closed_at":"2019-10-30T15:13:27.380Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Engineering Productivity","Quality","ci-build","type::feature"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35103","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35103","notes":"https://gitlab.com/api/v4/projects/278964/issues/35103/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35103/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35103","relative":"#35103","full":"gitlab-org/gitlab#35103"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26386802,"iid":35102,"project_id":278964,"title":"ESCALATED: User must have verified email before enabling 2FA","description":"**Description:**\n\n1- attacker register with victem email (that not be a user at gitlab)\n\n2- attacker could login without email verification\n\n3- attacker could enable 2FA without email verification\n\n**impact:**\n![2fa-enable](/uploads/1670bfe724fc4e4e3cba3ae4c4daa8ab/2fa-enable.jpg)\nwhen user want to register his mail at gitlab and find that some one make an account with his mail he will make a reset password and he will change his password but he cant access the account because 2fa activated by attacker first\n\n## Proposal\n\nDon't allow 2FA configuration with an unverified email address.","state":"closed","created_at":"2019-10-28T18:00:22.661Z","updated_at":"2021-12-23T19:34:52.165Z","closed_at":"2021-09-07T21:53:59.583Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Authentication and Authorization","Epic 6340","FY22::Q3","devops::manage","group::authentication and authorization","priority::3","section::dev","security","security-backlog::reclassified","severity::3","type::bug"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":4868851,"username":"masterhackr","name":"yahyaayman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/26e072e0784ded3ba837ebbe2627e8e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/masterhackr"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-01-29","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35102","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35102","notes":"https://gitlab.com/api/v4/projects/278964/issues/35102/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35102/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35102","relative":"#35102","full":"gitlab-org/gitlab#35102"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26382857,"iid":35096,"project_id":278964,"title":"ESCALATED: Stored XSS in merge request pages","description":"**[HackerOne report #723307](https://hackerone.com/reports/723307)** by `mike12` on 2019-10-26, assigned to @ankelly:\n\nHello Gitlab!\n\n[Vulnerable code](https://gitlab.com/gitlab-org/gitlab/blob/9d81e97d9d111f874799605ce50ae480ae15b0c5/app/assets/javascripts/vue_merge_request_widget/components/states/mr_widget_rebase.vue#L47)\n\nTo reproduce the bug, we need to open a merge request with the following conditions:  \n1. Project must have 'Merge commit with semi-linear history' or 'Fast-forward merge' merge method  \n2. The merge request must require rebase before fast-forward/merge  \n3. A visitor of the merge request page must not have permissions to push to source branch  \n4. Target branch name must have a special name `\u003cimg/src='x'/onerror=alert(document.domain)\u003e` :) \n\n**Steps to reproduce:**\n\n1. Run Gitlab `docker run --detach --hostname gitlab.example.com --publish 443:443 --publish 80:80 --publish 22:22 --name gitlab gitlab/gitlab-ce:latest`  \n2. Create a new project  \n3. Go to the project settings and set the 'Merge method' to 'Fast-forward merge' or 'Merge commit with semi-linear history' ![project-settings.png](https://h1.sec.gitlab.net/a/d89894c0-55a8-41ec-a64f-cc541efdf188/project-settings.png)  \n4. Clone the repository and run the following in the repository:\n\n    ```bash  \n    touch 1.txt  \n    git add 1.txt  \n    git commit -m \"initial commit\"  \n    git push origin master  \n      \n    git checkout -b \"\u003cimg/src='x'/onerror=alert(document.domain)\u003e\"  \n    touch 2.txt  \n    git add 2.txt  \n    git commit -m \"add 2.txt\"  \n    git push origin \"\u003cimg/src='x'/onerror=alert(document.domain)\u003e\"  \n      \n    git checkout master  \n    touch 3.txt  \n    git add 3.txt  \n    git commit -m \"add 3.txt\"  \n    git push origin master  \n    ```\n\n5. Create a merge request `master` =\u003e `\u003cimg/src='x'/onerror=alert(document.domain)\u003e`  \n6. Then we have to visit the merge request page under a user who does not have permissions to push to the source branch (in our case, `master` branch). For example:   \n  * Make the project public and visit the merge request page under any user who does not have permissions in the project (or without authorization)  \n  * Invite a user to the project, but without permissions to push to the source branch.\n\n![example1.png](https://h1.sec.gitlab.net/a/b1c00729-3b0a-401e-8645-80a53707aa45/example1.png)  \n![example2.png](https://h1.sec.gitlab.net/a/7b7ff594-081b-43e4-8047-4ba35182bc55/example2.png)  \n![example3.png](https://h1.sec.gitlab.net/a/b2605b01-7c48-4019-80b1-4da6febc78d3/example3.png)\n\n```bash  \nroot@gitlab:/# gitlab-rake gitlab:env:info\n\nSystem information  \nSystem:\t\t  \nCurrent User:\tgit  \nUsing RVM:\tno  \nRuby Version:\t2.6.3p62  \nGem Version:\t2.7.9  \nBundler Version:1.17.3  \nRake Version:\t12.3.3  \nRedis Version:\t3.2.12  \nGit Version:\t2.22.0  \nSidekiq Version:5.2.7  \nGo Version:\tunknown\n\nGitLab information  \nVersion:\t12.4.0  \nRevision:\t1425a56c75b  \nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails  \nDB Adapter:\tPostgreSQL  \nDB Version:\t10.9  \nURL:\t\thttp://gitlab.example.com  \nHTTP Clone URL:\thttp://gitlab.example.com/some-group/some-project.git  \nSSH Clone URL:\tgit@gitlab.example.com:some-group/some-project.git  \nUsing LDAP:\tno  \nUsing Omniauth:\tyes  \nOmniauth Providers: \n\nGitLab Shell  \nVersion:\t10.2.0  \nRepository storage paths:  \n- default: \t/var/opt/gitlab/git-data/repositories  \nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell  \nGit:\t\t/opt/gitlab/embedded/bin/git  \nroot@gitlab:/#   \n```\n\n## Impact\n\nAn attacker can:\n\n1. Perform any action within the application that a user can perform  \n2. Steal sensitive user data  \n3. Steal user's credentials\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [example1.png](https://h1.sec.gitlab.net/a/b1c00729-3b0a-401e-8645-80a53707aa45/example1.png)\n* [example2.png](https://h1.sec.gitlab.net/a/7b7ff594-081b-43e4-8047-4ba35182bc55/example2.png)\n* [example3.png](https://h1.sec.gitlab.net/a/b2605b01-7c48-4019-80b1-4da6febc78d3/example3.png)\n* [project-settings.png](https://h1.sec.gitlab.net/a/d89894c0-55a8-41ec-a64f-cc541efdf188/project-settings.png)","state":"closed","created_at":"2019-10-28T16:32:45.396Z","updated_at":"2020-04-15T20:39:06.078Z","closed_at":"2020-03-04T22:00:35.458Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["HackerOne","backend","devops::create","group::source code","priority::2","security","severity::2","workflow::in review"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-12-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35096","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35096","notes":"https://gitlab.com/api/v4/projects/278964/issues/35096/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35096/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35096","relative":"#35096","full":"gitlab-org/gitlab#35096"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26382356,"iid":35095,"project_id":278964,"title":"Add attribute readonly inside embed/shared component in snippets","description":"### Summary\n\nThe component we use to render the embed and share URL for snippets is editable when it shouldn't. It doesn't have any impact if you edit it, but it should be read only.\n\n### Steps to reproduce\n\nBrowse a public snippet for example and click on the embed/share component, you'll be able to write there.\n\n![image](/uploads/aef1e170b63fb5e8d0af6cc8291cf1e0/image.png)\n\n### What is the expected *correct* behavior?\n\nThe component shouldn't be editable.","state":"closed","created_at":"2019-10-28T16:16:54.991Z","updated_at":"2020-01-10T09:48:00.207Z","closed_at":"2019-12-11T13:55:33.630Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Snippets","devops::create","frontend","group::editor","type::bug","workflow::in review"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":1,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35095","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35095","notes":"https://gitlab.com/api/v4/projects/278964/issues/35095/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35095/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35095","relative":"#35095","full":"gitlab-org/gitlab#35095"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26379036,"iid":35089,"project_id":278964,"title":"Replace epic_iid with epic_id in issues API","description":"This is a follow-up of https://gitlab.com/gitlab-org/gitlab/issues/13808#note_233123050.\n\n- deprecate `epic_iid` paramter in [issues API](https://docs.gitlab.com/ee/api/issues.html)\n- introduce `epic_id` parameter to support subgroups\n- create issue to remove `epic_iid` in %\"13.0\"","state":"closed","created_at":"2019-10-28T15:00:16.824Z","updated_at":"2021-11-08T16:55:41.786Z","closed_at":"2019-12-13T17:27:39.215Z","closed_by":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"labels":["Category:Portfolio Management","api","backend","devops::plan","epics","feature::enhancement","group::product planning","issues","missed:12.5","type::feature"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35089","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35089","notes":"https://gitlab.com/api/v4/projects/278964/issues/35089/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35089/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35089","relative":"#35089","full":"gitlab-org/gitlab#35089"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26363812,"iid":35074,"project_id":278964,"title":"Move updating Apollo cache logic to utils","description":"## Summary\n\nAbstract updating cache logic to utils to make the components shorter/more readable.\n\n## Improvements\n\nCurrently in different Design Management components we have a logic to update Apollo Cache after successful mutation. It would be nice to abstract this logic to utils to make the components shorter/more readable. An example could be found in `ee/app/assets/javascripts/design_management/components/design_destroyer.vue`\n\n## Risks\n\nThere are no significant risks in this refactor\n\n## Involved components\n\n- `ee/app/assets/javascripts/design_management/components/design_notes/design_discussion.vue`\n- `ee/app/assets/javascripts/design_management/pages/design/index.vue`\n- `ee/app/assets/javascripts/design_management/pages/index.vue`","state":"closed","created_at":"2019-10-28T08:42:12.027Z","updated_at":"2021-10-28T14:11:52.928Z","closed_at":"2019-11-21T08:26:33.890Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Design Management","GraphQL","devops::plan","frontend","group::product planning","type::maintenance","workflow::production"],"milestone":null,"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35074","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35074","notes":"https://gitlab.com/api/v4/projects/278964/issues/35074/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35074/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35074","relative":"#35074","full":"gitlab-org/gitlab#35074"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26363094,"iid":35073,"project_id":278964,"title":"Refactor design_management/pages/index.vue to use ApolloMutation component","description":"## Summary\n\nRefactor `ee/app/assets/javascripts/design_management/pages/index.vue` to use `\u003cApolloMutation\u003e` component.\n\n## Improvements\n\n`design_management/pages/index.vue` uses Apollo mutation with calling `this.$apollo.mutate`. Refactoring it to use `ApolloMutation` component will help us split the logic more clearly between template and script parts and will also make our codebase more consistent\n\n## Risks\n\nThere is a slight risk of added complexity working with nested scoped slots\n\n## Involved components\n\n- `ee/app/assets/javascripts/design_management/pages/index.vue`\n\n\n## Optional: Missing test coverage\n\n- `ee/spec/frontend/design_management/pages/index_spec.js`","state":"closed","created_at":"2019-10-28T08:29:58.632Z","updated_at":"2020-12-10T18:59:33.242Z","closed_at":"2019-12-21T00:12:08.393Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Category:Design Management","GraphQL","backstage [DEPRECATED]","devops::plan","frontend","group::product planning","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35073","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35073","notes":"https://gitlab.com/api/v4/projects/278964/issues/35073/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35073/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35073","relative":"#35073","full":"gitlab-org/gitlab#35073"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26362654,"iid":35072,"project_id":278964,"title":"Refactor design_management/pages/design/index.vue to use ApolloMutation component","description":"## Summary\n\nRefactor `ee/app/assets/javascripts/design_management/pages/design/index.vue` to use `\u003cApolloMutation\u003e` component.\n\n## Improvements\n\n`design_management/pages/design/index.vue` uses Apollo mutation with calling `this.$apollo.mutate`. Refactoring it to use `ApolloMutation` component will help us split the logic more clearly between template and script parts and will also make our codebase more consistent\n\n## Risks\n\nThere is a slight risk of added complexity working with nested scoped slots\n\n## Involved components\n\n- `ee/app/assets/javascripts/design_management/pages/design/index.vue`\n\n\n## Optional: Missing test coverage\n\n- `ee/spec/frontend/design_management/pages/design/index_spec.js`","state":"closed","created_at":"2019-10-28T08:21:21.392Z","updated_at":"2020-12-10T18:59:33.784Z","closed_at":"2019-11-27T08:45:08.502Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Design Management","GraphQL","backstage [DEPRECATED]","devops::plan","frontend","group::product planning","workflow::in review"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":0,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35072","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35072","notes":"https://gitlab.com/api/v4/projects/278964/issues/35072/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35072/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35072","relative":"#35072","full":"gitlab-org/gitlab#35072"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26362483,"iid":35071,"project_id":278964,"title":"Refactor design_management/components/toolbar/index.vue to use ApolloQuery component","description":"## Summary\n\nRefactor `ee/app/assets/javascripts/design_management/components/toolbar/index.vue` to use `\u003cApolloQuery\u003e` component.\n\n## Improvements\n\n`toolbar/index.vue` uses Apollo query with options syntax. Refactoring it to use `ApolloQuery` component will help us split the logic more clearly between template and script parts and will also make our codebase more consistent\n\n## Risks\n\nThere are no significant risks on this refactoring\n\n## Involved components\n\n- `ee/app/assets/javascripts/design_management/components/toolbar/index.vue`\n\n\n## Optional: Missing test coverage\n\n- `ee/spec/frontend/design_management/components/toolbar/index_spec.js`","state":"closed","created_at":"2019-10-28T08:15:25.827Z","updated_at":"2020-12-10T18:59:34.456Z","closed_at":"2020-01-06T14:45:33.655Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Design Management","GraphQL","backstage [DEPRECATED]","devops::plan","frontend","group::product planning","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35071","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35071","notes":"https://gitlab.com/api/v4/projects/278964/issues/35071/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35071/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35071","relative":"#35071","full":"gitlab-org/gitlab#35071"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26362381,"iid":35070,"project_id":278964,"title":"Refactor design_discussion.vue to use ApolloMutation component","description":"## Summary\n\nRefactor `ee/app/assets/javascripts/design_management/components/design_notes/design_discussion.vue` to use `\u003cApolloMutation\u003e` component.\n\n## Improvements\n\n`design_discussion.vue` uses Apollo mutation with calling `this.$apollo.mutate`. Refactoring it to use `ApolloMutation` component will help us split the logic more clearly between template and script parts and will also make our codebase more consistent\n\n## Risks\n\nThere are no significant risks on this refactoring\n\n## Involved components\n\n- `ee/app/assets/javascripts/design_management/components/design_notes/design_discussion.vue`\n\n\n## Optional: Missing test coverage\n\n- `ee/spec/frontend/design_management/components/design_notes/design_discussion_spec.js`","state":"closed","created_at":"2019-10-28T08:10:40.396Z","updated_at":"2020-12-10T18:59:34.971Z","closed_at":"2019-11-26T08:43:35.430Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Design Management","GraphQL","backstage [DEPRECATED]","devops::plan","frontend","group::product planning","workflow::ready for development"],"milestone":null,"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35070","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35070","notes":"https://gitlab.com/api/v4/projects/278964/issues/35070/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35070/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35070","relative":"#35070","full":"gitlab-org/gitlab#35070"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26361447,"iid":35068,"project_id":278964,"title":"instruction description for conflict merge request of version 12.3.1 is misguided","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\ninstruction description for conflict merge request of version 12.3.1 is misguided\n\n### Steps to reproduce\n\n1. generate one merge request, and the merge request can not be merged automatically due to the conflict\n2. click the hint `command line`\n\n![image](/uploads/77d7b97603e6f5461a272157b50d5b43/image.png)\n\n3. operate according to the hints by the following dialog\n4. for step 3 (`git checkout \"origin/master\"`), the problem happens. because the origin/master is not a local branch, it is in detached state\n\n![image](/uploads/c76a89fffec095b01313ac0632af856c/image.png)\n\nfor the gitlab previous version, e.g. 10.8.4, the hint dialog is different, as follows\n\nthe command for step 3 is `git checkout master`\n\n![image](/uploads/dee6884d67e7a42a208351582a91e613/image.png)\n\n\n### Possible fixes\n\nsolve this problem, just as the previous working edition","state":"closed","created_at":"2019-10-28T07:28:18.363Z","updated_at":"2020-11-10T19:33:50.152Z","closed_at":"2020-11-10T19:33:50.090Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Category:Source Code Management","[deprecated] Accepting merge requests","devops::create","documentation","group::source code","priority::4","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":702828,"username":"HellenHuai","name":"HellenHuai","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e3709b9e5ef6422faf36a2d69297bb74?s=80\u0026d=identicon","web_url":"https://gitlab.com/HellenHuai"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35068","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35068","notes":"https://gitlab.com/api/v4/projects/278964/issues/35068/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35068/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35068","relative":"#35068","full":"gitlab-org/gitlab#35068"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26360536,"iid":35067,"project_id":278964,"title":"Make pipeline permissions more controllable and flexible","description":"### Problem to solve\n\nAt the moment, pipelines use the security access of the user (personal access token) that is running the pipeline, but with hard-coded limitations applied in order to reduce the risk of security problems. For example, `write_repository` is limited, which prevents a pipeline from pushing changes back to the repository it is working on.\n\nThese are sensible basic defaults, but some pipelines need the ability to do things like write to the repository, write to the registry, access to the API, and so on. GitLab needs a way for project administrators to bump up the level of access back up to the full capabilities of the running user in situations where they are needed.\n\nIt's important to call out that it will not be possible to elevate a users permissions beyond the permission they have using this method.\n\n### Communication with GitLab\n\nUsers use Personal Access Tokens to communicate with GitLab, but these are not secure enough.\n\nThe problem here is that in order to communicate with GitLab users need to use Personal Access Tokens. Another way could be using a `$CI_JOB_TOKEN` but these tokens can not access API because it is not possible to configure their scopes, [like it is possible for PATs](https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html#limiting-scopes-of-a-personal-access-token).\n\nBecause a `$CI_JOB_TOKEN`, that is injected by GitLab into the context of a CI/CD build, can not be used with API, users are using personal access tokens, and there are few important differences between PATs and job tokens.\n\nThe most important difference is that `$CI_JOB_TOKEN` is an ephemeral token, it can be revoked after a build is complete, it might not be used until a build is running. Another important difference is that a `$CI_JOB_TOKEN` is different for every build, and for every user.\n\nUsers that are injecting PATs into their builds, inject the same PAT all the time, and their colleagues can easily see that token, thus it is not secure enough. Every builds receives the same PAT, the token is not revoked when a build is done.\n### Intended users\n\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Further details\n\nThis issue originated out of the comment thread at https://gitlab.com/gitlab-org/gitlab/issues/20416#note_216069060.\n\nThe current set of scopes that are possible are as follows:\n\n![image](/uploads/96748fdbc2da230af84e480f166e5e8f/image.png)\n\n### Proposal\n\nGitlab is already an OAUTH2.0 authorization/resource server and tokens are already oauth2 access token, so we can use its full power to solve this issue. \n\nThere are three main components to us delivering this feature:\n\n* Change the backend to use JWT instead of access tokens for build permissions\n* Expose the necessary JWKs endpoint(s) and facilities to allow external systems to validate the authenticity of the minted tokens\n* Design and implement a UX for people to control what scopes (things like `read_repository`, `read_registry`, `read_api`, `write_repository`, etc.. basically the ones you can choose from in the access token dialog) are given for the resources.\n\nA resource is defined as a project or maybe group, and then scopes are applied to resources.\n\nA user will never be able to get more permissions than the user has through this mechanism, so even if `read_api` is turned on in the scope, if the user does not have that ability they don't get it for free. This could maybe be something that comes in a future iteration, but we are not touching it now.\n\nWe are also not supporting different scope evaluation depending on the target environment, branch, etc., but will limit all destructive operations (all writes on API, except registry image creation) to be locked to protected jobs. This is because pipelines can run a ton of untrusted code, and with fork pipelines running in parent we will run even more.\n\n#### New Scopes\n\nThere are a few scopes that may need to be added for additional functionality of this feature:\n\n* read_package_registry: this is a new scope, but currently users can grant read/write permission only via the `api` scope\n* write_package_registry: also a new scope, which will help avoid granting full `api` scope for writing to the package registries.\n\n### Implementation Plan\n\nFrom @ayufan at https://gitlab.com/gitlab-org/gitlab/issues/20416#note_230466323\n\n1. Change `ci_builds.token` to be JWT,\n1. The `JWT` expiry time is `max(runner_timeout, project_timeout)+1h?`,\n1. Make `JWT` to hold information about `build_id/pipeline_id/project_id/user_id` and assigned scopes and abilities granted, similar to how we do that for container registry,\n1. Make the other `JWT` scopes to be constructed from project settings where you are allowed to specify additional abilities (a scopes) for another projects that you want to access.\n1. UI up to choosing I guess, but ideally I would see it like: adding a new project, choosing the scope (likely simple CRUD interface).\n\nThe biggest change is change of token to JWT. This is to make the further processing of scope much simpler to implement on all parts of the system. It improves the security of runner communication by creating short-living token, and makes this flexible to handle in generic way addition of new scopes and projects. This is also efficient, as handling JWT is very cheap to do.\n\n### Permissions and Security\n\nEven for the MVC we need a way to disable this feature at the group and instance level. This is a requirement in compliance driven environments where elevating access (even to the user's full access level) may not be permitted. It should be on by default, but easy to disable under these scenarios.\n\n### Documentation\n- [NPM Registry Authentication](https://docs.gitlab.com/ee/user/packages/npm_registry/#authenticating-to-the-gitlab-npm-registry)\n- [Maven Repository Authentication](https://docs.gitlab.com/ee/user/packages/maven_repository/#authenticating-with-a-personal-access-token)\n- [Conan Repository Authentication](https://docs.gitlab.com/ee/user/packages/conan_repository/#authenticating-to-the-gitlab-conan-repository)\n- [Container Registry Authentication](https://docs.gitlab.com/ee/user/packages/container_registry/#using-with-private-projects)\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Future Improvements\n\n1. In the near term, implementing permission controls using OAuth2 scopes could likely be done in a way sufficiently robust enough to handle operations against a single Project. I think this becomes much trickier if a given job wanted to, say, clone another repo (or repos), update it with changes, and push it back up. Policy-based Access Control seems like a better fit in the mid / long term as it presents an opportunity to unify the different token types. Maybe we could express the scopes as policies under the hood to make this easier in the future.\n1. The fractured CI identity model is likely going to need to be addressed regardless of how permissions are expressed. When a `CI_JOB_TOKEN` hits the API, *who* does the API think it is? It's not the user. It *is* a robot with some subset of the users permissions. There doesn't yet exist an entity in GitLab to represent this. (plug for https://gitlab.com/gitlab-org/gitlab/issues/24123#note_215458587)\n1. This feature and the necessary refactoring present a good opportunity to introduce a first-class expirable credential API.\n\n### Links / references","state":"closed","created_at":"2019-10-28T06:50:39.983Z","updated_at":"2022-11-07T14:05:53.583Z","closed_at":"2020-06-11T08:57:06.621Z","closed_by":{"id":4828839,"username":"thaoyeager","name":"Thao Yeager","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4828839/avatar.png","web_url":"https://gitlab.com/thaoyeager"},"labels":["Category:Container Registry","Category:Continuous Integration","UX","auto updated","customer","depth","devops::verify","direction","group::pipeline execution","internal customer","needs weight","potential proposal","quad-planning::ready","sec-planning::in-progress","security","type::feature","workflow::design"],"milestone":null,"assignees":[{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"}],"author":{"id":2243533,"username":"jyavorska","name":"Jason Yavorska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2243533/avatar.png","web_url":"https://gitlab.com/jyavorska"},"type":"ISSUE","assignee":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"user_notes_count":122,"merge_requests_count":0,"upvotes":166,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35067","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35067","notes":"https://gitlab.com/api/v4/projects/278964/issues/35067/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35067/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35067","relative":"#35067","full":"gitlab-org/gitlab#35067"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26356620,"iid":35063,"project_id":278964,"title":"UI glitch: commit avatar overlaps with text for signed commits","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nCommit avatar overlaps with text for signed commits\n\n### Steps to reproduce\n\nSetup GPG key and push a signed commit.\nGo to project main page and observe the UI glitch (see screenshot).\nTo be honest, I could not reproduce it easily on Gitlab.com.\nSometimes it does show up, sometimes it does not.\n\n**I have noticed that this happens visually when \"Verified\" label renders**\n\n### What is the current *bug* behavior?\n\nAvatar overlaps with text.\n\n### What is the expected *correct* behavior?\n\nOpposite of above.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2019-10-27_at_17.55.33](/uploads/9c419edc2eace9fbab633b450459792d/Screen_Shot_2019-10-27_at_17.55.33.png)\n\n### Output of checks\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\nSystem information\nSystem:         CentOS 7.7.1908\nProxy:          no\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.6.3p62\nGem Version:    2.7.9\nBundler Version:1.17.3\nRake Version:   12.3.3\nRedis Version:  3.2.12\nGit Version:    2.22.0\nSidekiq Version:5.2.7\nGo Version:     unknown\n\nGitLab information\nVersion:        12.4.0-ee\nRevision:       572e09f5e8f\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     PostgreSQL\nDB Version:     10.9\nURL:            https://git.dbogatov.org\nHTTP Clone URL: https://git.dbogatov.org/some-group/some-project.git\nSSH Clone URL:  git@git.dbogatov.org:some-group/some-project.git\nElasticsearch:  yes\nGeo:            no\nUsing LDAP:     no\nUsing Omniauth: yes\nOmniauth Providers: github, bitbucket, gitlab, google_oauth2, facebook, twitter\n\nGitLab Shell\nVersion:        10.2.0\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nGitLab Shell path:              /opt/gitlab/embedded/service/gitlab-shell\nGit:            /opt/gitlab/embedded/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nNo idea, possibly some CSS.\nMaybe, it has something to do with the order of loading/rendering on the page.","state":"closed","created_at":"2019-10-28T00:56:50.220Z","updated_at":"2020-11-16T02:07:14.655Z","closed_at":"2020-11-16T02:07:14.620Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ð¤ GitLab Bot ð¤","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Source Code Management","[deprecated] Accepting merge requests","auto closed","devops::create","frontend","group::source code","priority::3","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":920678,"username":"dbogatov","name":"Dmytro Bogatov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08e0cc7d2509767800be5b4837a2ecbf?s=80\u0026d=identicon","web_url":"https://gitlab.com/dbogatov"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35063","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35063","notes":"https://gitlab.com/api/v4/projects/278964/issues/35063/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35063/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35063","relative":"#35063","full":"gitlab-org/gitlab#35063"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26330215,"iid":35008,"project_id":278964,"title":"Project Approval Rule API returns empty Users when supplying user IDs and group IDs","description":"### Summary\n\nWhen making a request to the approval rules API, the response is inconsistent based on the parameters of the request. When both a Group ID and a User ID are provided, the response to https://docs.gitlab.com/ee/api/merge_request_approvals.html#get-project-level-rules does not match what's in the documentation.\n\n### Steps to reproduce\n\n1. Create 2 users\n2. Create a group\n3. Add user 2 to the group.\n\nThe following curl request would return an empty users block, but with users 1 and 2 in the eligible approvers block.\n\nRequest\n\n```\ncurl -X POST \\\n  'http://gitlab-ee/api/v4/projects/PROJECTID/approval_rules?name=RULENAME\u0026approvals_required=1\u0026user_ids=USERID1\u0026group_ids=GROUPID' \\\n  -H 'PRIVATE-TOKEN: -' \n```\n\nResponse\n```\n{\n    \"id\": 0,\n    \"name\": \"RULENAME\",\n    \"rule_type\": \"regular\",\n    \"eligible_approvers\": [\n        {\n            \"id\": 1,\n            \"name\": \"User1\",\n            \"username\": \"user1\",\n            \"state\": \"active\",\n            \"avatar_url\": \"...\",\n            \"web_url\": \"...\"\n        },\n        {\n            \"id\": 2,\n            \"name\": \"User2\",\n            \"username\": \"user2\",\n            \"state\": \"active\",\n            \"avatar_url\": \"...\",\n            \"web_url\": \"...\"\n        }\n    ],\n    \"approvals_required\": 1,\n    \"users\": [],\n    \"groups\": [\n        {\n            \"id\": 0,\n            \"web_url\": \"...\",\n            \"name\": \"TestGroup\",\n            \"path\": \"testgroup\",\n            // ...\n        }\n    ],\n    \"contains_hidden_groups\": false\n}\n```\n\n### What is the current *bug* behavior?\n\nThe \"users\" key in the response from http://gitlab-ee/api/v4/projects/PROJECTID/approval_rules should return the user information for User 1.\n\n### What is the expected *correct* behavior?\n\nThe \"users\" key in the response from http://gitlab-ee/api/v4/projects/PROJECTID/approval_rules is empty.\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\nSystem information\nSystem:\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.6.3p62\nGem Version:\t2.7.9\nBundler Version:1.17.3\nRake Version:\t12.3.3\nRedis Version:\t3.2.12\nGit Version:\t2.22.0\nSidekiq Version:5.2.7\nGo Version:\tunknown\n\nGitLab information\nVersion:\t12.4.0-ee\nRevision:\t572e09f5e8f\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t10.9\nURL:\t\thttp://6af4903507e1\nHTTP Clone URL:\thttp://6af4903507e1/some-group/some-project.git\nSSH Clone URL:\tgit@6af4903507e1:some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers:\n\nGitLab Shell\nVersion:\t10.2.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\nGit:\t\t/opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 10.2.0 ? ... OK (10.2.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... skipped (no tmp uploads folder yet)\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n1/10 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.6.3)\nGit version \u003e= 2.22.0 ? ... yes (2.22.0)\nGit user has default SSH configuration? ... yes\nActive users: ... 3\nIs authorized keys file accessible? ... yes\nElasticsearch version 5.6 - 6.x? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n-","state":"closed","created_at":"2019-10-25T21:41:18.441Z","updated_at":"2022-06-06T03:07:29.953Z","closed_at":"2022-06-06T03:07:29.931Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ð¤ GitLab Bot ð¤","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Source Code Management","[deprecated] Accepting merge requests","approvals","auto closed","backend","devops::create","group::source code","missed:12.10","missed:12.7","missed:12.8","missed:12.9","priority::3","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3781610,"username":"chris.gerber.well","name":"Chris Gerber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3781610/avatar.png","web_url":"https://gitlab.com/chris.gerber.well"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/35008","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/35008","notes":"https://gitlab.com/api/v4/projects/278964/issues/35008/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/35008/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#35008","relative":"#35008","full":"gitlab-org/gitlab#35008"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26326754,"iid":34998,"project_id":278964,"title":"2FA Unlock breaks Group SSO","description":"## Problem\n\nUsers with SSO and 2FA enabled have reported being unable to sign in after getting locked out of their account.\n\nWith password login users are able to click an unlock link emailed to them and sign in again, but our SSO flow doesn't get unblocked by this action.\n\n### Steps to reproduce\n\n1. Use GitLab.com or configure GitLab instance with `group_saml` (https://gitlab.com/gitlab-org/gitlab-development-kit/blob/master/doc/howto/saml.md#gitlab-configuration)\n1. Create a Group and configure SAML SSO\n1. Enable SSO Enforcement, although this may not be required\n1. Enable 2FA for a user\n1. Attempt to sign in with SSO for that group\n1. Enter an incorrect 2FA code 10 times to trigger a 10 minute lock on sign ins\n1. Hit 500 error, although an email is still sent\n1. Check email and click the unlock link sent from GitLab\n1. Navigate back to the SSO sign in page and attempt sign in if presented with a form.\n1. Users have reported being unable to sign in still, but I can't reproduce this\n\n## Expected behaviour\n\nWith password sign in unlocking allows password sign in to take place again.\n\nIdeally we'd show instructions for resetting 2FA at some point.\n\n### Screenshots\n\nTODO: Screenshots of the flow, or screencap.\n\n### Next steps\n\nInvestigate how SSO callback behaviour is different to SessionController when 2FA has been previously locked.\n\nInvestigate why users are triggering 2FA lock outs. Are users confused and entering the 2FA for their identity provider instead of for GitLab? Is something else triggering the lock out?","state":"closed","created_at":"2019-10-25T17:57:58.898Z","updated_at":"2020-02-05T10:50:22.467Z","closed_at":"2020-02-05T10:50:22.418Z","closed_by":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"labels":["2FA","backend","devops::manage","group::authentication and authorization","missed:12.5","missed:12.6","missed:12.7","saml","type::bug","workflow::in dev"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"}],"author":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"type":"ISSUE","assignee":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/34998","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/34998","notes":"https://gitlab.com/api/v4/projects/278964/issues/34998/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/34998/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#34998","relative":"#34998","full":"gitlab-org/gitlab#34998"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1785,"epic":{"id":11091,"iid":1785,"title":"Group SSO: Stability, Availability, and Security","url":"/groups/gitlab-org/-/epics/1785","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":26317469,"iid":34980,"project_id":278964,"title":"Remove obsolete code for date-pickers of Productivity Analytics","description":"The following discussion from !17933 should be addressed:\n\n- [ ] @djensen started a [discussion](https://gitlab.com/gitlab-org/gitlab/merge_requests/17933#note_235277694):  (+1 comment)\n\n    \u003e Is `Time.zone.now` configured to return the User's timezone?  If not, I worry this could be misleading.  So if there's no easy way to get the User's timezone, I think we should use `Time.now`.\n\n\nFE for Productivity Analytics [was updated to use explicit from \u0026 to datepickers](https://gitlab.com/gitlab-org/gitlab/merge_requests/16493), so we can remove support of special `Xdays` values on API side.","state":"closed","created_at":"2019-10-25T12:16:51.062Z","updated_at":"2019-11-06T17:20:08.099Z","closed_at":"2019-11-06T17:20:08.053Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["auto updated","backend","backstage [DEPRECATED]","devops::manage","group::optimize","workflow::in review"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":3,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/34980","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/34980","notes":"https://gitlab.com/api/v4/projects/278964/issues/34980/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/34980/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#34980","relative":"#34980","full":"gitlab-org/gitlab#34980"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":26317462,"iid":34979,"project_id":278964,"title":"Markdown: horizontal lines don't play nicely with `align=right`","description":"### Summary\n\nThe horizontal underline that is rendered underneath headers overlaps images that are positioned using `align=\"right\"`.\n\n### What is the current *bug* behavior?\n\nHere is how my project's README renders on GitLab:\n\n![image](/uploads/ab5037b4663b956223b663be192ed765/image.png)\n\nNotice that the horizontal lines underneath the **Install** and **Purpose** headings stretch over top of the image.\n\nYou can view this for yourself here: https://gitlab.com/nfriend/ts-key-enum\n\n### What is the expected *correct* behavior?\n\nHere is how my project's README renders on GitHub:\n\n![image](/uploads/e55ae530bea680f51c3368c55c00d377/image.png)\n\nYou can view this for yourself here: https://github.com/nfriend/ts-key-enum\n\n### Steps to reproduce\n\nSee the source for the README in the screenshots above here: https://gitlab.com/nfriend/ts-key-enum/blob/382de111bdbafce990786370e57be2de6d3d34fc/README.md\n\n### Example Project\n\nhttps://gitlab.com/nfriend/ts-key-enum\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2019-10-25T12:16:43.618Z","updated_at":"2020-11-02T15:45:12.305Z","closed_at":"2020-11-02T15:45:12.267Z","closed_by":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"labels":["UI polish","devops::create","frontend","markdown","section::dev","severity::4","stale","type::bug","vintage"],"milestone":null,"assignees":[],"author":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/34979","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/34979","notes":"https://gitlab.com/api/v4/projects/278964/issues/34979/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/34979/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#34979","relative":"#34979","full":"gitlab-org/gitlab#34979"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]