[{"id":100850358,"iid":350561,"project_id":278964,"title":"Update to use real date from GraphQL query: Security Config","description":"In this previous MRs, we've been using a temporary resolver with mock data. With the ~backend being complete, let's update the ~frontend to consume the real data. The following places will need updating:\n\n| header | - |GraphQL |\n| ------ | ------ |------ |\n| Security Config | ![image](/uploads/1c53d5846731cd80220625d97a0b7be0/image.png) | Query |","state":"closed","created_at":"2022-01-18T15:28:17.507Z","updated_at":"2022-03-21T17:39:53.653Z","closed_at":"2022-03-16T23:31:41.317Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["[deprecated] Accepting merge requests","devops::secure","frontend","group::threat insights","missed:14.8","section::sec","type::feature"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350561","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350561","notes":"https://gitlab.com/api/v4/projects/278964/issues/350561/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350561/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350561","relative":"#350561","full":"gitlab-org/gitlab#350561"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100840375,"iid":350552,"project_id":278964,"title":"Add spec for ExternalAuditEventDestinationType","description":"The following discussion from !78273 should be addressed:\n\n- [ ] @morefice started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78273#note_813396336): \n\n    \u003e **note (not-blocking):** Interesting to see that `ExternalAuditEventDestinationType` does not have a spec associated to it.","state":"closed","created_at":"2022-01-18T13:23:14.694Z","updated_at":"2022-01-31T14:18:22.188Z","closed_at":"2022-01-31T14:18:22.168Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Events","auto updated","backend","devops::manage","group::compliance","maintenance::refactor","priority::3","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350552","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350552","notes":"https://gitlab.com/api/v4/projects/278964/issues/350552/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350552/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350552","relative":"#350552","full":"gitlab-org/gitlab#350552"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100836622,"iid":350547,"project_id":278964,"title":"The spacing is not right for an invite acceptance alert on desktop","description":"# Problem\n\nIn the issue https://gitlab.com/gitlab-org/gitlab/-/issues/348740 position of the alert was fixed. But requires spacing to be fixed for an invite acceptance alert on desktop according to the https://gitlab.com/gitlab-org/gitlab/-/merge_requests/77872#note_812308946 Since was already merged and went in 14.7, I created new issue to be fixed in 14.8\n\n| Alert on desktop |\n| ------ |\n| ![Screenshot_2022-01-18_at_14.29.14](/uploads/80ea42062ce9b55cc4062e575dbc8905/Screenshot_2022-01-18_at_14.29.14.png) |\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/348740","state":"closed","created_at":"2022-01-18T12:22:56.007Z","updated_at":"2022-07-26T00:51:20.102Z","closed_at":"2022-02-11T06:59:56.827Z","closed_by":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"labels":["SUS::Impacting","UI polish","auto updated","devops::growth","group::acquisition","priority::4","section::growth","severity::4","type::bug","workflow::ready for review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"}],"author":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"type":"ISSUE","assignee":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350547","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350547","notes":"https://gitlab.com/api/v4/projects/278964/issues/350547/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350547/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350547","relative":"#350547","full":"gitlab-org/gitlab#350547"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100816119,"iid":350527,"project_id":278964,"title":"Generate report based on the output of crash_triage","description":"Generate the report from the reported data from crash_triage as per [gitlab JSON report format ](gitlab.com/gitlab-org/security-products/analyzers/report/v3)\n\n- [x] Parse the report generated by crash_triage.\n- [x] Convert the report to the crash analysis format.\n- [ ] Add Evidence/Details section to AFL report. https://gitlab.com/gitlab-org/gitlab/-/issues/353530","state":"closed","created_at":"2022-01-18T07:27:43.896Z","updated_at":"2022-02-24T06:19:44.187Z","closed_at":"2022-02-24T06:18:55.935Z","closed_by":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"labels":["Category:Fuzz Testing","auto updated","backend","devops::secure","fuzzing::coverage","group::dynamic analysis","missed:14.8","section::sec"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350527","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350527","notes":"https://gitlab.com/api/v4/projects/278964/issues/350527/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350527/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350527","relative":"#350527","full":"gitlab-org/gitlab#350527"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7399,"epic":{"id":422668,"iid":7399,"title":"Add Analyzer step to Gitlab AFL Fuzzer","url":"/groups/gitlab-org/-/epics/7399","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100816074,"iid":350526,"project_id":278964,"title":"Add crash_triage tool to AFL coverage fuzzing","description":"Use crash_triage tool to generate reportable outputs from the AFL fuzzing results.\n\nTasks:\n- [x] Add crash_triage tool available to the pipeline.\n- [ ] Parse the crash data generated by AFL job and use crash_triage to generate the reportable data.","state":"closed","created_at":"2022-01-18T07:26:48.706Z","updated_at":"2022-02-21T03:20:50.129Z","closed_at":"2022-02-17T04:54:08.614Z","closed_by":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"labels":["Category:Fuzz Testing","backend","devops::secure","fuzzing::coverage","group::dynamic analysis","section::sec","type::feature"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350526","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350526","notes":"https://gitlab.com/api/v4/projects/278964/issues/350526/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350526/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350526","relative":"#350526","full":"gitlab-org/gitlab#350526"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7399,"epic":{"id":422668,"iid":7399,"title":"Add Analyzer step to Gitlab AFL Fuzzer","url":"/groups/gitlab-org/-/epics/7399","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100801130,"iid":350514,"project_id":278964,"title":"Add Authentication Options for DAST API On-Demand screens","description":"### Problem \nThe design for DAST API on-demand scans does not support the use of authentication. Depending on the use case for customers, they may have a need to pass in username/passwords for basic authentication or use another method. \n\nWhile they can put authentication values in the header fields, this is not a good practice as all sensitive information should be encrypted in the database, or use CI variables.\n\n### Proposal\n- Update the `Excluded paths` and `Additional request headers` fields as follows:\n   - Add documentation on the screen on how to use https://docs.gitlab.com/ee/user/application_security/dast_api/#token-doesnt-expire\n   - Update the description text for both form fields\n   - Move the current description text to the help text area (below input)\n- Add fields for inputting username/password for basic authentication.\n\n[🎨 Figma designs](https://www.figma.com/file/o6NoqgLnxv0KnK2y9Qum51/DAST-Configuration-UI?node-id=1462%3A106239)\n\n### Implementation Details\n\n- ~frontend: https://gitlab.com/gitlab-org/gitlab/-/issues/367533\n- ~backend: https://gitlab.com/gitlab-org/gitlab/-/issues/350514/\n- ~documentation: TBD\n- ~\"feature flag\": https://gitlab.com/gitlab-org/gitlab/-/issues/345837","state":"closed","created_at":"2022-01-17T22:26:44.313Z","updated_at":"2022-11-21T12:07:37.443Z","closed_at":"2022-11-01T02:17:14.670Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:API Security","Deliverable","SUS::Impacting","Technical Writing","UI text","auto updated","backend","devops::secure","documentation","frontend","group::dynamic analysis","missed-deliverable","missed:15.2","section::sec","severity::3","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"}],"author":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":53,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350514","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350514","notes":"https://gitlab.com/api/v4/projects/278964/issues/350514/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350514/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350514","relative":"#350514","full":"gitlab-org/gitlab#350514"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8406,"epic":{"id":568773,"iid":8406,"title":"Change DAST On-demand API Scanning Engine","url":"/groups/gitlab-org/-/epics/8406","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100797537,"iid":350512,"project_id":278964,"title":"MVC Detect vulnerabilities in vendored JavaScript libraries using Gemnasium","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nFollowing the design discussions in [Design: Detect vulnerabilities in vendored JavaScript libraries using Gemnasium](https://gitlab.com/gitlab-org/gitlab/-/issues/288330#note_812894375) we want to deliver a MVC of scanning capabilities for vendored JS libraries with our Gemnasium analyzer.\n\n\n## Relevant links\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/288330#note_812894375)\n\n## Proposal\n\nAs a first step, leverage Retire.js to make Gemnasium scan vendored JS libaries. Gemnasium executes `retire --js` against the root directory of the git repo being scanned. It does NOT install the project dependencies prior to the scan.\n\nIn `gemnasium` codebase, We introduce new Go struct type, functions, and methods to:\n- Find vendored libraries.\n- Find the vulnerabilities matching these vendored libraries, using Gemnasium's vulnerability database.\n- Add these vulnerabilities to the Dependency Scanning reports.\n\nWe can't reuse the existing high-level functions and type structs because they operate on dependency files, and not vendored libraries. Unlike dep. files, vendored libraries don't have list dependencies, and they're not associated with a package manager.\n\nPlease note that vendored libraries are not listed in the `dependency_files` field of the Dependency Scanning report b/c they're not dependency files, and shouldn't be presented as such in the UI.\n\nThe exact path of a vendored library can be used in the `location.file` field of the vulnerabilities, in the report.\n\n### Limitations\n\nGemnasium won't be able to report vulnerabilities for a vendored library if Retire.js doesn't have vulnerabilities for this library, in `jsrepository.json`.\n\nGemnasium accurately report the file path in `.vulnerabilities[].location.file`. This was not the case with the `retire.js` analyzer though: `location.file` was always set to `package.json` even when the vulnerable file was part of the git repo. As a result, vulnerability feedback might lost.\n\nGemnasium doesn't find vulnerable JS files in installed packages. This reduces the noise but it might be seen as a limitation.\n\n## Documentation\n\n- [ ] Document the scan of JS libs by Gemnasium.\n- [ ] Document the CI variable that enables the scan of JS libs in [Configuring Dependency Scanning](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#configuring-dependency-scanning).\n\n## Performance\n\n`retire --js` takes 40 seconds to process 540 MB and 63k files. See https://gitlab.com/gitlab-org/gitlab/-/issues/288330#note_813516860\n\n## Testing\n\nIntegration tests must cover these scenarios:\n\n- Scan of libraries is enabled.\n- Scan of libraries is enabled but some JS files are excluded.\n- `retire` command fails. (Error is reported.)\n- Scan of libraries is NOT enabled.\n\n## Implementation plan\n\nTo be implemented in the gemnasium project:\n\n- [x] Add the `retire` command to the `gemnasium` image via the `Dockerfile`.\n- [x] Introduce a new Go struct type that describes vendored libraries; it combines a file path with a package (type, name, and version).\n- [x] Add Go package that finds JS vendored libraries using the `retire --js` command.\n- [x] Update `scanner` package to scan vendored libraries, and report their vulnerabilities.\n- [x] Update `convert` package to report vulnerabilities found in vendored libraries to the Dependency Scanning report.\n- [x] Update `main` package to find, scan, and report JS vendored library.\n- [x] Add an image test integration to check the scanning of JS vendored libraries. \n- [x] Enable the feature in the [CI template](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml).\n- [x] Update [documentation](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/).\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n\u003c!-- start-discoto-summary --\u003e\n## Auto-Summary :robot:\n\n\n\u003cdetails\u003e\n\u003csummary\u003eDiscoto Usage\u003c/summary\u003e\n\n---\n\n\u003e **Points**\n\u003e\n\u003e Discussion points are declared by headings, list items, and single\n\u003e lines that start with the text (case-insensitive) `point:`. For\n\u003e example, the following are all valid points:\n\u003e\n\u003e * `#### POINT: This is a point`\n\u003e * `* point: This is a point`\n\u003e * `+ Point: This is a point`\n\u003e * `- pOINT: This is a point`\n\u003e * `point: This is a **point**`\n\u003e\n\u003e Note that any markdown used in the point text will also be propagated\n\u003e into the topic summaries.\n\u003e\n\u003e **Topics**\n\u003e\n\u003e Topics can be stand-alone and contained within an issuable (epic,\n\u003e issue, MR), or can be inline.\n\u003e\n\u003e Inline topics are defined by creating a new thread (discussion)\n\u003e where the first line of the first comment is a heading that starts\n\u003e with (case-insensitive) `topic:`. For example, the following are all\n\u003e valid topics:\n\u003e\n\u003e * `# Topic: Inline discussion topic 1`\n\u003e * `## TOPIC: **{+A Green, bolded topic+}**`\n\u003e * `### tOpIc: Another topic`\n\u003e\n\u003e **Quick Actions**\n\u003e\n\u003e | Action                        | Description                                             |\n\u003e |-------------------------------|---------------------------------------------------------|\n\u003e | `/discuss sub-topic TITLE`    | Create an issue for a sub-topic. Does not work in epics |\n\u003e | `/discuss link ISSUABLE-LINK` | Link an issuable as a child of this discussion          |\n\u003e\n\n---\n\n\u003c/details\u003e\n\nLast updated by [this job](https://gitlab.com/gitlab-org/secure/pocs/discoto-runner/-/jobs/2050985849)\n\n\n* **TOPIC** Documentation https://gitlab.com/gitlab-org/gitlab/-/issues/350512#note_830861710\n* **TOPIC** Enabling the scan of vendored libs https://gitlab.com/gitlab-org/gitlab/-/issues/350512#note_830873069\n* **TOPIC** Tracking extractors being used https://gitlab.com/gitlab-org/gitlab/-/issues/350512#note_830888146\n* **TOPIC** Running npm install https://gitlab.com/gitlab-org/gitlab/-/issues/350512#note_831007716\n\u003c!-- end-discoto-summary --\u003e\n\n\n\n\u003c!-- start-discoto-topic-settings --\u003e\u003cdetails\u003e\n\u003csummary\u003eDiscoto Settings\u003c/summary\u003e\n\n\u003cbr/\u003e\n\n```yaml\n---\nsummary:\n  max_items: -1\n  sort_by: created\n  sort_direction: ascending\n\n```\n\nSee the [settings schema](https://gitlab.com/gitlab-org/secure/pocs/discussion-automation#settings-schema) for details.\n\n\u003c/details\u003e\n\u003c!-- end-discoto-topic-settings --\u003e","state":"closed","created_at":"2022-01-17T20:40:27.051Z","updated_at":"2022-05-17T20:16:16.418Z","closed_at":"2022-02-11T15:27:51.271Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","discoto","group::composition analysis","priority::2","section::sec","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350512","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":9},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350512","notes":"https://gitlab.com/api/v4/projects/278964/issues/350512/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350512/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350512","relative":"#350512","full":"gitlab-org/gitlab#350512"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7297,"epic":{"id":405982,"iid":7297,"title":"remove retire.js","url":"/groups/gitlab-org/-/epics/7297","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100797381,"iid":350511,"project_id":278964,"title":"Only have Danger recommend integrations reviews when not authored by an integrations team member","description":"As mentioned in our retrospective https://gitlab.com/gitlab-org/ecosystem-stage/integrations/team/-/issues/101#note_806251710, we should modifying the Danger integrations reviews to only display when the author of the MR is not from the integrations team.","state":"closed","created_at":"2022-01-17T20:36:06.491Z","updated_at":"2022-11-22T19:08:14.982Z","closed_at":"2022-01-24T21:33:47.744Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["backend","devops::manage","group::integrations","maintenance::workflow","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350511","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350511","notes":"https://gitlab.com/api/v4/projects/278964/issues/350511/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350511/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350511","relative":"#350511","full":"gitlab-org/gitlab#350511"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6933,"epic":{"id":371042,"iid":6933,"title":"Recommend integrations changes receive an approval from the integrations team","url":"/groups/gitlab-org/-/epics/6933","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100797167,"iid":350510,"project_id":278964,"title":"Deprecate retire.js analyzer","description":"### Problem to solve\n\n`retire.js` analyzer will be removed in `15.0` and this deprecation has to be announced.\n\nSame process as for bundler-audit deprecation: https://gitlab.com/gitlab-org/gitlab/-/issues/289832\n\n### Proposal\n\nWarn users about this deprecation in the analyzer itself and the DS documentation.\n\n### Implementation plan\n\n- [x] update Dependency Scanning docs with a warning about deprecation (see similar MR for bundler-audit: \n https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76408)\n  - [x] also update the documentation about Javascript projects: https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#javascript\n- [x] update the `retire.js` analyzer with a warning in the job output (see similar MR for bundler-audit: https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit/-/merge_requests/88)\n- [x] add a deprecation items in Gitlab docs following https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations and if users customized yml to update it and coverage is continued through gemnasium (see similar MR for bundler-audit:  https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76191)\n- [x] communicate to support slack channels and link to issue\n\n### Testing\n\n- [x] Confirm Dependency Scanning docs have a warning about retire.js deprecation: https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#javascript\n- [x] Confirm the `retire.js` analyzer displays a deprecation warning in the job output\n  - See example job: https://gitlab.com/gitlab-org/security-products/tests/js-npm/-/jobs/2084102387\n- [x] Confirm `retire.js` is added to Deprecated items: https://docs.gitlab.com/ee/update/deprecations#retire-js-dependency-scanning-tool\n- [x] Confirm #support has been informed that `retire.js` has been deprecated, with a link to this issue: https://gitlab.slack.com/archives/C01AQRPQ58C/p1645029909339809","state":"closed","created_at":"2022-01-17T20:32:14.994Z","updated_at":"2022-05-11T15:48:51.232Z","closed_at":"2022-02-16T16:45:22.878Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","priority::2","quad-planning::complete-action","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350510","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350510","notes":"https://gitlab.com/api/v4/projects/278964/issues/350510/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350510/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350510","relative":"#350510","full":"gitlab-org/gitlab#350510"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7297,"epic":{"id":405982,"iid":7297,"title":"remove retire.js","url":"/groups/gitlab-org/-/epics/7297","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100796758,"iid":350509,"project_id":278964,"title":"1 - Update gemnasium to output CycloneDX SBOMs","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\nIn order to align with a popular Software Bill of Materials (SBOM) industry format standard, Dependency Scanning's gemnasium analyzers will now output a CycloneDX Software Bill of Materials (SBOM) for each supported lock or build file detected. These CycloneDX SBOMs are named `cyclonedx-\u003cpackage-type\u003e-\u003cpackage-manager\u003e.json`, and are saved in the same directory as the detected lock or build files. The CycloneDX SBOMs can be downloaded the same way as other job artifacts.\n\nhttps://docs.gitlab.com/ee/user/application_security/dependency_scanning/#cyclonedx-software-bill-of-materials\n\n### Proposal\n\nThis issue implements the MVC of the migration outlined in [Create plan for ISBOM rollout](https://gitlab.com/gitlab-org/gitlab/-/issues/343403#note_814630368).\n\nThe current process flow for Dependency Scanning jobs is to upload DS reports/artifacts that list vulnerabilities and dependencies, and these reports are consumed by the Rails backend to render both the Dependency List and the Vulnerability Report:\n\n```mermaid\nflowchart TB\n    subgraph \"DS Analyzer 1\"\n        1[Analyze project]-- generate --\u003e2[/\"Report \\n(deps/vulns)\"/]\n    end\n\n    subgraph \"Rails app\"\n        2 -- upload --\u003e 3[Merge]\n        3[Merge] --\u003e 4[/Reports/]\n        4 --\u003e 5[Parse]\n        5 --\u003e 6[/Vulnerabilities/]\n        5 --\u003e 7[/Dependencies/]\n        6 --\u003e 8[Display]\n        7 --\u003e 9[Display]\n    end\n\n    subgraph \"DS Analyzer 2\"\n        10[Analyze project]-- generate --\u003e11[/\"Report \\n(deps/vulns)\"/]\n    end\n    11 -- upload --\u003e 3[Merge]\n```\n\nThe purpose of this issue is to update the Dependency Scanning jobs to generate extra CycloneDX artifacts. The artifacts aren't leveraged in GitLab, but the frontend will display links to allow users to download them.\n\nAfter the completion of this issue, the process flow for Dependency Scanning jobs will be the following:\n\n```mermaid\nflowchart TB\n    subgraph \"Dependency Scanning Analyzer 1\"\n        1[Analyze project]-- generate --\u003e2[/\"CycloneDX Report\"/]\n        1[Analyze project]-- generate --\u003e3[/\"Report \\n(deps/vulns)\"/]\n    end\n    subgraph \"Rails app\"\n        2 -- upload --\u003e 14[\"Display download link\"]\n        3 -- upload --\u003e 4[Merge]\n        4 --\u003e 5[/Reports/]\n        5 --\u003e 6[Parse]\n        6 --\u003e 7[/Vulnerabilities/]\n        6 --\u003e 8[/Dependencies/]\n        7 --\u003e 9[Display]\n        8 --\u003e X[Display]\n        13[CycloneDX Report]\n    end\n\n    subgraph \"Dependency Scanning Analyzer 2\"\n        10[Analyze project]-- generate --\u003e11[/\"Report \\n(deps/vulns)\"/]\n        10[Analyze project]-- generate --\u003e12[/\"CycloneDX Report\"/]\n    end\n    11 -- upload --\u003e 4\n    12 -- upload --\u003e 13[\"Display download link\"]\n```\n\n### Implementation Plan\n\n1. [x] Update gemnasium to output a CycloneDX document for each detected project. For example, if we have the [following multi-project](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/tree/master/qa/fixtures/multi-project/main) repository:\n\n   ```shell\n   .\n   ├── ruby-project/\n   │   └── Gemfile.lock\n   ├── ruby-project-2/\n   │   └── Gemfile.lock\n   ├── php-project/\n   │   └── composer.lock\n   └── go-project/\n       └── go.sum\n   ```\n\n   Then a CycloneDX report should be generated for each of the above lockfiles, and stored in the same directory as the scanned lockfile:\n\n   ```shell\n   .\n   ├── ruby-project/\n   │   ├── Gemfile.lock\n   │   └── cyclonedx-gem-bundler.json\n   ├── ruby-project-2/\n   │   ├── Gemfile.lock\n   │   └── cyclonedx-gem-bundler.json\n   ├── php-project/\n   │   ├── composer.lock\n   │   └── cyclonedx-packagist-composer.json\n   └── go-project/\n       ├── go.sum\n       └── cyclonedx-go-go.json  \n   ```\n\n   The CycloneDX report filename will be named as follows:\n\n   `cyclonedx-\u003cpackage type\u003e-\u003cpackage manager\u003e.json`\n\n   This naming convention will allow multiple CycloneDX reports to exist within a single directory, for example:\n\n   ```shell\n   .\n   ├── Gemfile.lock\n   ├── cyclonedx-gem-bundler.json\n   ├── composer.lock\n   ├── cyclonedx-packagist-composer.json\n   ├── go.sum\n   └── cyclonedx-go-go.json\n   ```\n\n   The fields in the CycloneDX report should match the current fields provided by Dependency Scanning. See the [Security Report Schema for Dependency Scanning](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/master/dist/dependency-scanning-report-format.json) for details.\n\n\n1. [-] ~~Add new fields to the CycloneDX report using [global metadata properties](https://cyclonedx.org/use-cases/#properties--name-value-store) to capture the following details:~~\n\n   - ~~the dependency file~~\n   - ~~the optional lockfile~~\n   - ~~the build file~~\n   - ~~the dependency export file~~\n\n   ~~Each of these fields will be distinct.~~\n\n   Instead of providing the different file types displayed above, we've ended up listing only a single `gitlab:input_file`, which provides the path to the file used for generating the dependency list. The reason this was scaled back was because the current data structure lacks the information necessary for providing this level of detail, as described in [this thread](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/267#note_852086106). This work has been moved to [Update gemnasium scanner package to include additional information](https://gitlab.com/gitlab-org/gitlab/-/issues/354075) which needs to be completed before we can provide these details.\n\n1. [x] Add [image integration tests](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/) for the new behaviour implemented in step `1.` above.\n\n1. [-] ~~Add job integration tests to ensure that CylconeDX documents are uploaded as CI artifacts.~~\n\n   To be completed in [Add job integration test to ensure that CycloneDX documents are uploaded as CI artifacts](https://gitlab.com/gitlab-org/gitlab/-/issues/354863).\n\n1. [x] Manually test the behaviour to make sure the CycloneDX reports can be downloaded\n\n1. [x] Update the [Dependency Scanning documentation](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/) to explain:\n\n   - how CycloneDX reports are generated\n   - how to download them\n   - how to merge them together, providing an example `.gitlab-ci.yml` file showing how to add a `cyclonedx merge` job to your pipeline that uses the [CycloneDX CLI](https://github.com/CycloneDX/cyclonedx-cli) to merge multiple CyloneDX reports into a single file.\n   - that the CycloneDX reports are a beta feature. Please do not build an integration around the format of the CycloneDX report since it will likely change.","state":"closed","created_at":"2022-01-17T20:20:20.408Z","updated_at":"2022-07-14T16:26:51.441Z","closed_at":"2022-03-08T12:48:01.041Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","Software Bill of Materials (SBoM)","backend","devops::secure","feature::addition","group::composition analysis","missed-deliverable","missed:14.8","priority::1","release post item","release post item::in review","section::sec","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":62,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350509","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350509","notes":"https://gitlab.com/api/v4/projects/278964/issues/350509/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350509/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350509","relative":"#350509","full":"gitlab-org/gitlab#350509"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6917,"epic":{"id":370405,"iid":6917,"title":"Internal SBOM Update + CycloneDX","url":"/groups/gitlab-org/-/epics/6917","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100793480,"iid":350503,"project_id":278964,"title":"Frontend: Browser popup appears when updating CI yml content and submit a merge request together with pipeline editor","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhile trying to edit a project's CI yml file using Pipeline Editor tool, I wanted to try out this change in a new branch first so I selected option `Start a new merge request with these changes`.\n\n![start_mr](/uploads/03f566bd5857d874b9b922d05e03413b/start_mr.png)\n\nHowever, when I click `Commit changes`, the editor shows unsaved changes popup instead of redirect me to create new merge request page.\n\n![Screen_Shot_2022-01-13_at_3.23.50_PM](/uploads/2ad8f75b59afc6271711d4c636aeaf8a/Screen_Shot_2022-01-13_at_3.23.50_PM.png)\n\nAlthough this action did submit the change and push the new branch to the repo, I wasn't aware of this because of the popup alert as well as I wasn't able to create a merge request as expected.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. In your project with an existing CI yml file, navigate to pipeline editor page (on left navbar CI/CD -\u003e Editor)\n1. Attempt change the content of the CI yml file.\n1. Change target branch name to a new branch.\n1. Select start a new merge request check box below the target branch field.\n1. Click Commit changes button.\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nAn alert popup on the page that prevents redirection to create new merge request page.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n1. No alert popup\n1. The new branch is pushed to the repo\n1. The changes is committed to the new branch\n1. User is redirected to create new merge request page with the new branch\n\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nCan test against your GDK or on gitlab.com","state":"closed","created_at":"2022-01-17T18:46:40.055Z","updated_at":"2022-02-01T22:08:48.301Z","closed_at":"2022-02-01T22:08:48.285Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["CI Pipeline Editor","Category:Continuous Integration","Category:Pipeline Authoring","FY23::Q1","Low SUS Score","OKR","SUS::Impacting","UX","devops::verify","frontend","group::pipeline authoring","priority::3","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":5022822,"username":"treagitlab","name":"Tiffany Rea","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5022822/avatar.png","web_url":"https://gitlab.com/treagitlab"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350503","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350503","notes":"https://gitlab.com/api/v4/projects/278964/issues/350503/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350503/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350503","relative":"#350503","full":"gitlab-org/gitlab#350503"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100787798,"iid":350494,"project_id":278964,"title":"Bug: Settings search removes link from section description","description":"## Description\n\nNoticed on `master`:\n\n1. Go to **Admin** \u003e **Settings**\n2. Scroll down to the \"License file\" section and notice the \"Upload a license file\" link\n3. Scroll up to the search bar and search for \"license\"\n4. Remove the search\n5. Scroll down to the \"License file\" section and the text is no longer a link\n\n![Screencast_2022-01-17_10_31_10](/uploads/e2745bde10875223258cc90944952283/Screencast_2022-01-17_10_31_10.webm)","state":"closed","created_at":"2022-01-17T16:34:16.674Z","updated_at":"2022-11-22T19:08:15.817Z","closed_at":"2022-04-07T08:17:26.785Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:Navigation \u0026 Settings","approaching-SLO","devops::manage","frontend","group::foundations","missed-SLO","missed:14.8","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350494","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350494","notes":"https://gitlab.com/api/v4/projects/278964/issues/350494/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350494/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350494","relative":"#350494","full":"gitlab-org/gitlab#350494"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100787261,"iid":350491,"project_id":278964,"title":"Add indeterminate state in bulk checkbox if \u003e 0 but \u003c all on Vulnerability Report","description":"Problem to solve\n\nThe Vulnerability Report doesn't match [Pajamas guidelines](https://design.gitlab.com/components/checkbox#states) when it comes to the bulk checkbox state. We should align with [other tables](https://gitlab.com/gitlab-org/gitlab/-/issues/339525/designs/Select-items.png) in GitLab for consistency and setting user expectations.\n\nWe should be using an indeterminate state in the bulk checkbox if one or more (but less than all) vulnerabilities are selected on the Vulnerability Report. If all on the page (or across the matching filters) are selected, then the bulk checkbox should be in the checked state.\n\n| Current | Expected |\n| ------ | ------ |\n| ![Screen_Shot_2022-01-17_at_10.21.32_AM](/uploads/bd0b7dea28ae66a02b153f1d715e6ef7/Screen_Shot_2022-01-17_at_10.21.32_AM.png) | ![image](/uploads/a8d5520d2f52c23b30ee5c24e52024e7/image.png) |\n\nIf the user clicks on the bulk checkbox while in the indeterminate state, it should select all. The bulk checkbox then goes into the checked state. Clicking again will unselect all (and clear the bulk checkbox).\n\n## Implementation plan\n\n- [ ] Add indeterminate state to \"select all\" checkbox in `ee/app/assets/javascripts/security_dashboard/components/shared/vulnerability_report/vulnerability_list.vue`\n- [ ] Add indeterminate state to \"select all\" checkbox in `ee/app/assets/javascripts/security_dashboard/components/shared/vulnerability_list.vue`, if it still exists. This component is deprecated, but is currently used by the GraphQL version of the vulnerability list on the pipeline security tab, and is behind a feature flag.\n\n/cc @matt_wilson @andyvolpe @dftian","state":"closed","created_at":"2022-01-17T16:24:34.746Z","updated_at":"2022-02-02T13:00:36.664Z","closed_at":"2022-02-02T13:00:36.648Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Category:Vulnerability Management","SUS::Impacting","UX","UX debt","auto updated","devops::secure","feature::enhancement","group::threat insights","section::sec","severity::4","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":15,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350491","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350491","notes":"https://gitlab.com/api/v4/projects/278964/issues/350491/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350491/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350491","relative":"#350491","full":"gitlab-org/gitlab#350491"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4649,"epic":{"id":129180,"iid":4649,"title":"Vulnerability bulk status updates","url":"/groups/gitlab-org/-/epics/4649","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e788\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":100781231,"iid":350481,"project_id":278964,"title":"Make rate limit of /users/:id API configurable","description":"When we rolled out the [rate limiting of ](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73069)`/users/:id` API, on staging some specs have [started to fail](https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6162) with `429 Too Many Requests` status.\n\nIn order to better discriminate between legitimate short bursts of requests and sustained misuse of the endpoint, it is better to use a bigger limit and longer interval (such as 300 per 10 minutes instead of 10 per minute). Additionally, the limit should be configurable, so that it can be set differently on staging.","state":"closed","created_at":"2022-01-17T14:58:01.107Z","updated_at":"2022-02-21T21:28:54.936Z","closed_at":"2022-02-21T21:28:54.923Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["auto updated","backend","devops::manage","documentation","feature flag","group::optimize","section::dev","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350481","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350481","notes":"https://gitlab.com/api/v4/projects/278964/issues/350481/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350481/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350481","relative":"#350481","full":"gitlab-org/gitlab#350481"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100777797,"iid":350478,"project_id":278964,"title":"Consider using a single comment for `package-and-qa` downstream pipeline notifications","description":"From @kwiebers:\n\n\u003e What do you all think? Can this be changed to update a note? I recall feedback around preferring this so the history is clearer.\n\nFrom @ashmckenzie:\n\n\u003e I tend to agree, I've always thought a single note that's appended to/overwritten would be optimal for this sort of thing. Ideally a note that shows the most recent update and collapses the previous ones?\n\nFrom @acunskis:\n\n\u003e It's how allure report note works as well, it just updates the same one with the latest results. IMO if someone wants the history, pipelines can be checked explicitly. Usually people are interested in latest result","state":"closed","created_at":"2022-01-17T14:09:59.759Z","updated_at":"2022-04-28T16:11:55.261Z","closed_at":"2022-04-28T16:11:55.246Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","Quality","ep::contributor tooling","maintenance::workflow","priority::2","type::maintenance","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350478","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350478","notes":"https://gitlab.com/api/v4/projects/278964/issues/350478/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350478/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350478","relative":"#350478","full":"gitlab-org/gitlab#350478"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100774423,"iid":350476,"project_id":278964,"title":"Users can be searched by exact email match even if email is private","description":"# Summary\n\nExtracted from https://gitlab.com/gitlab-org/gitlab/-/issues/29073#note_750601380\n\nCurrently system allows to search by exact match of private email. It creates a vulnerability were potential emails list can be asserted via API to find active profiles on gitlab.com and associate those emails with public profile information. \n\nFor example:\n\n1. Attacker has list of 100 possible emails one of them is `my_private_email@gitlab.com`.\n2. Attacker requests GraphQL with `users(search: \"my_private_email@gitlab.com\")` and gets public information about my profile even if given email is private and not exposed on my profile page.\n\n# Solution proposal\n\nUsers shouldn't be searchable by their private emails even with exact match. That includes GraphQL searches, REST API searches and UI pages.\n\n# See more\n\nLong original discussion: https://gitlab.com/gitlab-org/gitlab/-/issues/29073#note_722297169","state":"closed","created_at":"2022-01-17T13:39:04.500Z","updated_at":"2022-12-12T04:20:41.551Z","closed_at":"2022-02-04T18:44:01.757Z","closed_by":{"id":4226366,"username":"ankelly","name":"Andrew Kelly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4226366/avatar.png","web_url":"https://gitlab.com/ankelly"},"labels":["Category:Authentication and Authorization","Epic 6340","FY22::Q3","Weakness::CWE-284","backend","bug::vulnerability","devops::manage","group::organization","priority::4","section::dev","security","security-backlog::review-complete","severity::4","type::bug","workflow::awaiting security release"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350476","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350476","notes":"https://gitlab.com/api/v4/projects/278964/issues/350476/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350476/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350476","relative":"#350476","full":"gitlab-org/gitlab#350476"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100764127,"iid":350464,"project_id":278964,"title":"Slow jest spec in `ee/spec/frontend/epic/components/epic_tabs_spec.js` | EpicTabs › allowSubEpics = true › on roadmap tab click › hides the tree tab content","description":"Job [#1981649350](https://gitlab.com/gitlab-org/gitlab/-/jobs/1981649350) failed for a2aa897b1ba2e7f786fbf1787d79c1b0aa1261ca:\n\n### Trace\n\n```\nFAIL ee/spec/frontend/epic/components/epic_tabs_spec.js\n  ● EpicTabs › allowSubEpics = true › on roadmap tab click › hides the tree tab content\n    Test took too long (6170.655087ms \u003e 6000ms)!\n      52 |     // debugging always takes longer than the test timeout.\n      53 |     if (elapsedNS \u003e timeoutNS \u0026\u0026 !IS_DEBUGGING) {\n    \u003e 54 |       throw new Error(\n         |             ^\n      55 |         `Test took too long (${elapsedNS / NS_PER_MS}ms \u003e ${timeoutNS / NS_PER_MS}ms)!`,\n      56 |       );\n      57 |     }\n      at Object.\u003canonymous\u003e (spec/frontend/__helpers__/timeout.js:54:13)\n```","state":"closed","created_at":"2022-01-17T10:50:05.589Z","updated_at":"2022-02-23T11:58:54.096Z","closed_at":"2022-02-08T06:49:16.946Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["epics","failure::flaky-test","frontend","test","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":419655,"username":"markglenfletcher","name":"Mark Fletcher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/419655/avatar.png","web_url":"https://gitlab.com/markglenfletcher"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350464","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350464","notes":"https://gitlab.com/api/v4/projects/278964/issues/350464/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350464/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350464","relative":"#350464","full":"gitlab-org/gitlab#350464"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4270,"epic":{"id":100021,"iid":4270,"title":"Fix Slow Jest Specs","url":"/groups/gitlab-org/-/epics/4270","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100762222,"iid":350459,"project_id":278964,"title":"BACKEND: Add pipeline editor to the split \"Edit\" button and make it the default option for .gitlab-ci.yml files","description":"This is the backend issue for: https://gitlab.com/gitlab-org/gitlab/-/issues/343002. We should expose `ci_config_path_or_default` in GQL.","state":"closed","created_at":"2022-01-17T10:22:58.675Z","updated_at":"2022-02-08T12:39:12.382Z","closed_at":"2022-02-08T12:39:12.366Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Category:Pipeline Authoring","Verify candidate","backend","backend-weight::1","candidate::14.8","devops::verify","feature::enhancement","group::pipeline authoring","priority::2","section::ops","severity::4","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350459","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350459","notes":"https://gitlab.com/api/v4/projects/278964/issues/350459/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350459/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350459","relative":"#350459","full":"gitlab-org/gitlab#350459"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":42490,"iid":50,"sequence":9,"group_id":9970,"title":"Pipeline Authoring: February 7, 2022 - February 20, 2022","description":"Target milestone `14.9`","state":3,"created_at":"2021-12-12T00:05:02.309Z","updated_at":"2022-02-21T00:05:02.227Z","start_date":"2022-02-07","due_date":"2022-02-20","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/42490"},"health_status":null},{"id":100760010,"iid":350457,"project_id":278964,"title":"Display view on env button when blob is available on an environment","description":"We need to display a view on environment button on the blob when a blob has an active deployment.\n\nAffected specs:\n\n- [`spec/features/projects/view_on_env_spec.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/bc11d33494ac0ea9db2132d0ca2454f9921b7c48/spec/features/projects/view_on_env_spec.rb#L12)","state":"closed","created_at":"2022-01-17T09:50:04.118Z","updated_at":"2022-02-18T07:01:03.429Z","closed_at":"2022-01-28T09:04:57.813Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","backend","devops::create","frontend","group::source code","section::dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350457","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350457","notes":"https://gitlab.com/api/v4/projects/278964/issues/350457/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350457/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350457","relative":"#350457","full":"gitlab-org/gitlab#350457"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":100759260,"iid":350456,"project_id":278964,"title":"Fix user_browses_files_spec.rb spec","description":"The `refactor_blob_viewer` feature flag is currently disabled in the `user_browses_files_spec.rb` file, we need to ensure that the specs pass with the refactor feature flag enabled.","state":"closed","created_at":"2022-01-17T09:42:56.614Z","updated_at":"2022-02-18T07:01:03.481Z","closed_at":"2022-01-28T09:04:06.690Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","frontend","group::source code","section::dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350456","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350456","notes":"https://gitlab.com/api/v4/projects/278964/issues/350456/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350456/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350456","relative":"#350456","full":"gitlab-org/gitlab#350456"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":100758836,"iid":350455,"project_id":278964,"title":"Fix blob_show_spec.rb spec","description":"The `refactor_blob_viewer` feature flag is currently disabled in the `blob_show_spec.rb` file, we need to ensure that the specs pass with the refactor feature flag enabled.","state":"closed","created_at":"2022-01-17T09:39:21.225Z","updated_at":"2022-02-18T07:01:03.520Z","closed_at":"2022-02-03T08:06:11.334Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","frontend","group::source code","section::dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350455","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350455","notes":"https://gitlab.com/api/v4/projects/278964/issues/350455/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350455/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350455","relative":"#350455","full":"gitlab-org/gitlab#350455"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":100758612,"iid":350454,"project_id":278964,"title":"Fix copy_as_gfm_spec.rb spec","description":"The `refactor_blob_viewer` feature flag is currently disabled in the [`copy_as_gfm_spec.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/bc11d33494ac0ea9db2132d0ca2454f9921b7c48/spec/features/markdown/copy_as_gfm_spec.rb#L11) file, we need to ensure that the specs pass with the refactor feature flag enabled.","state":"closed","created_at":"2022-01-17T09:36:09.763Z","updated_at":"2022-03-09T13:03:32.474Z","closed_at":"2022-03-09T13:03:32.438Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","auto updated","devops::create","frontend","group::source code","priority::3","section::dev","severity::3"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350454","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350454","notes":"https://gitlab.com/api/v4/projects/278964/issues/350454/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350454/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350454","relative":"#350454","full":"gitlab-org/gitlab#350454"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":100744282,"iid":350442,"project_id":278964,"title":"Only show promotion callout for security training when the current user hasn't enabled the feature yet","description":"The two promotion banners on the vulnerability report page and security dashboard should only be visible if the current user has not previously enabled the related configuration. \n\n## Related Issues\n\n* https://gitlab.com/gitlab-org/gitlab/-/issues/350439\n* https://gitlab.com/gitlab-org/gitlab/-/issues/350440\n* https://gitlab.com/gitlab-org/gitlab/-/issues/350441\n\n## Implementation plan\n\n* [x] Trigger the callout-dismissed mutation for the current user whenever they first enable the related configuration. This will store a flag on the backend, which makes sure the banner is not visible any more\n* [x] Write tests","state":"closed","created_at":"2022-01-17T04:29:40.039Z","updated_at":"2022-04-14T17:12:54.628Z","closed_at":"2022-03-23T14:52:28.545Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Deliverable","auto updated","devops::secure","frontend","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350442","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350442","notes":"https://gitlab.com/api/v4/projects/278964/issues/350442/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350442/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350442","relative":"#350442","full":"gitlab-org/gitlab#350442"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100744235,"iid":350441,"project_id":278964,"title":"Add storing of dismissal state to security training promotion callout","description":"The banner should store a flag whenever a user dismisses it, so it doesn't show up for them again. Not on the vulnerability report, nor on the security dashboard.\n\n## Related Issues\n\n* https://gitlab.com/gitlab-org/gitlab/-/issues/350441\n* https://gitlab.com/gitlab-org/gitlab/-/issues/350440\n* https://gitlab.com/gitlab-org/gitlab/-/issues/350442\n\n## Implementation Plan\n\n* [x] Add feature to `app/models/users/callout.rb`\n* [x] Use `app/assets/javascripts/vue_shared/components/user_callout_dismisser.vue`, so when it gets dismissed we store that on a per-user basis\n* [x] Write tests","state":"closed","created_at":"2022-01-17T04:28:07.171Z","updated_at":"2022-04-14T17:12:20.609Z","closed_at":"2022-02-04T02:35:04.428Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["auto updated","devops::secure","frontend","group::threat insights","section::sec","type::feature","workflow::in dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350441","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350441","notes":"https://gitlab.com/api/v4/projects/278964/issues/350441/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350441/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350441","relative":"#350441","full":"gitlab-org/gitlab#350441"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100744170,"iid":350440,"project_id":278964,"title":"Add promotion callout for security training feature to security dashboard (UI only)","description":"Add a promotion callout on the security dashboard. The CTA button is a link to the security training configuration page.\n\n![promo_security_dashboard](/uploads/a8b4157786612959f7efa3d917f5edc1/promo_security_dashboard.png)\n\nNote: This only adds the related UI elements and none of the logic to store dismissal states, etc.\n\n## Implementation Plan\n\n* [x] Add banner to the security dashboard\n* [x] Add feature flag to the related controller\n* [x] Pass the CTA link from HAML to JS\n* [x] Inject link and use it within the banner component","state":"closed","created_at":"2022-01-17T04:26:26.556Z","updated_at":"2022-01-24T03:36:02.012Z","closed_at":"2022-01-21T00:22:04.215Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["auto updated","devops::secure","frontend","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"}],"author":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"type":"ISSUE","assignee":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350440","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350440","notes":"https://gitlab.com/api/v4/projects/278964/issues/350440/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350440/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350440","relative":"#350440","full":"gitlab-org/gitlab#350440"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100744144,"iid":350439,"project_id":278964,"title":"Add promotion callout for security training feature to vulnerability report (UI only)","description":"Add a promotion callout on the security dashboard. The CTA button is a link to the security training configuration page.\n\n![vuln_report_promo_callout](/uploads/95de3b80e0d01e937208a477fb5e7b8b/vuln_report_promo_callout.png)\n\nNote: This only adds the related UI elements and none of the logic to store dismissal states, etc.\n\n## Implementation Plan\n\n* [x] Add banner to the security dashboard\n* [x] Add feature flag to the related controller\n* [x] Pass the CTA link from HAML to JS\n* [x] Inject link and use it within the banner component\n* [x] Write tests","state":"closed","created_at":"2022-01-17T04:25:05.838Z","updated_at":"2022-06-27T21:22:09.076Z","closed_at":"2022-01-27T10:19:05.435Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["auto updated","devops::secure","frontend","group::threat insights","section::sec","type::feature","workflow::in dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[],"author":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350439","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350439","notes":"https://gitlab.com/api/v4/projects/278964/issues/350439/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350439/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350439","relative":"#350439","full":"gitlab-org/gitlab#350439"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6176,"epic":{"id":287896,"iid":6176,"title":"Integrate developer security training into vulnerability management","url":"/groups/gitlab-org/-/epics/6176","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100743934,"iid":350438,"project_id":278964,"title":"When the stage name is long, the play button overlaps the label in the pipeline graph","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen the stage name is long, the play button overlaps the label in the pipeline graph.\n\n![Screenshot_2022-01-07_at_13.06.46](/uploads/b76184b6a55289d48f11ce922e45a897/Screenshot_2022-01-07_at_13.06.46.png)\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\nCreate a pipeline with manual steps and a long stage name, and check out the pipeline graph. Or open a pipeline page in the browser (for example [this one](https://gitlab.com/gitlab-org/gitlab/-/pipelines/449233199)) and change the stage label in the browser. \n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nWhen the stage name is long, the play button overlaps the label in the pipeline graph.\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\nThe stage name should be truncated before it reaches the play button to avoid the overlap.\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-01-17T04:14:47.536Z","updated_at":"2022-04-22T03:52:44.354Z","closed_at":"2022-04-20T15:41:33.793Z","closed_by":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"labels":["Category:Pipeline Authoring","Low SUS Score","SUS::Impacting","UI polish","UX","devops::verify","frontend","group::pipeline authoring","onboarding","pipeline graphs","priority::3","section::ops","severity::4","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":11222776,"username":"bsandlin","name":"Briley  Sandlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11222776/avatar.png","web_url":"https://gitlab.com/bsandlin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350438","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350438","notes":"https://gitlab.com/api/v4/projects/278964/issues/350438/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350438/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350438","relative":"#350438","full":"gitlab-org/gitlab#350438"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":47581,"iid":59,"sequence":14,"group_id":9970,"title":"Pipeline Authoring: April 18, 2022 - May 1, 2022","description":"Target milestone `15.0`","state":3,"created_at":"2022-02-06T00:05:01.693Z","updated_at":"2022-05-02T00:05:02.688Z","start_date":"2022-04-18","due_date":"2022-05-01","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/47581"},"health_status":null},{"id":100739174,"iid":350434,"project_id":278964,"title":"Display more specific error message for iteration create/edit form","description":"The iteration create/edit form does not display a detailed error message for failed requests currently.\n\n\u003e https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78039#note_811511312\n\u003e\n\u003e Any idea what I'm doing wrong? I'd love to get a more specific error message if possible but we could address that in a separate MR.\n\u003e\n\n![image](/uploads/7358e8c272fee3fdd2ba7d38ce726978/image.png)","state":"closed","created_at":"2022-01-17T00:35:54.448Z","updated_at":"2022-01-17T00:37:51.111Z","closed_at":"2022-01-17T00:37:51.088Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["devops::plan","feature::enhancement","frontend","group::project management","type::feature"],"milestone":null,"assignees":[],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350434","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350434","notes":"https://gitlab.com/api/v4/projects/278964/issues/350434/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350434/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350434","relative":"#350434","full":"gitlab-org/gitlab#350434"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100684430,"iid":350409,"project_id":278964,"title":"Spike: do we want to get away from containers? how to go forward","description":"## Problem statement\n\nWe MUST work offline\n\nWe must to work in Auto Dev Ops\n\nWe MUST work on the supported cloud and cloud partners - GCP, AWS, OpenShift, and [special images like UBI](https://gitlab.com/groups/gitlab-org/-/epics/5697#note_828113515)\n\nUsers want [support for multiple python versions](https://gitlab.com/gitlab-org/gitlab/-/issues/328263)\n\nUsers want us to [support user-defined Docker images](https://gitlab.com/gitlab-org/gitlab/-/issues/229568)\n\nWe want to be able to separate the noise generated from container scans vulns, which we are responsible for because we ship the solution with the container\n\nWe have had issues with ADSF related to our processes before and it is a constant annoyance\n\n## Ideation\n\nthere has been discussed before about not having a container for our offerings - but instead a set of instructions for users on how to use a pre-build step (can we make this part of the template?) to select and use their own image\n\nlet's discuss this, and other possibilities so that we can decide the best way to go foward to support everything we want and need to.\n\ni am not sure we can totally get away from containers (auto dev ops etc) but maybe this can make us more flexible as well as lower support costs.\n\nwe will still need to select a container to test on, and it will have to be scanned but we can work with vulnerability management on advancing my auto-close/de-priroitize backlog item (i.e. for our project we could acknowledge and note containers as for test only not deploy and as a result close them out automatically with the bot)\n\nso, let's discuss\n\nhow realistic is this\n\nwhat steps would be needed, etc\n\n## Solution\n\n**Timeboxed to ~5 days**\n\nPlease create a suggested solution / path forward to solve this issue and present it to the group, CC the entire section as well","state":"closed","created_at":"2022-01-15T00:11:27.505Z","updated_at":"2022-07-25T13:48:52.898Z","closed_at":"2022-03-18T15:09:13.021Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Deliverable","backend","devops::secure","feature::enhancement","group::composition analysis","meta","quad-planning::complete-no-action","section::sec","spike","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":66,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350409","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350409","notes":"https://gitlab.com/api/v4/projects/278964/issues/350409/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350409/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350409","relative":"#350409","full":"gitlab-org/gitlab#350409"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7860,"epic":{"id":494283,"iid":7860,"title":"Composition Analysis Container Infrastructure calendar year 2022 plan","url":"/groups/gitlab-org/-/epics/7860","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100684084,"iid":350408,"project_id":278964,"title":"Assign Severity values to Security Code Scan findings","description":"## Problem\nThe Security Code Scan analyzer (for .NET/C#) currently outputs all findings with a severity level of `Unknown`.\n\nImpacts include:\n- It's harder for security and development teams to understand which findings need to be addressed.\n- Customers can't implement merge request approvals and other controls based on finding severity.\n\n## Anticipated solution\nAdopt a similar approach to other analyzers where we provide a severity based on our analysis of associated CWEs, likely following the approach [outlined on \u00264004](https://gitlab.com/groups/gitlab-org/-/epics/4004#note_563072593).\n\n:information_source: This issue is promoted from previous discussions in other contexts, including [on the parent epic](https://gitlab.com/groups/gitlab-org/-/epics/4004#note_563072593).","state":"closed","created_at":"2022-01-14T23:47:03.227Z","updated_at":"2022-04-28T21:03:48.782Z","closed_at":"2022-02-10T17:22:09.016Z","closed_by":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"labels":["Category:SAST","Deliverable","auto updated","backend","customer","devops::secure","feature::enhancement","group::static analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"}],"author":{"id":10034774,"username":"connorgilbert","name":"Connor Gilbert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10034774/avatar.png","web_url":"https://gitlab.com/connorgilbert"},"type":"ISSUE","assignee":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350408","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350408","notes":"https://gitlab.com/api/v4/projects/278964/issues/350408/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350408/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350408","relative":"#350408","full":"gitlab-org/gitlab#350408"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4004,"epic":{"id":84608,"iid":4004,"title":"Augment Severities produced by SAST analyzers to ensure coverage","url":"/groups/gitlab-org/-/epics/4004","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100668996,"iid":350400,"project_id":278964,"title":"[BE] Add ability to filter by provisioned users","description":"This is the ~backend counterpart to https://gitlab.com/gitlab-org/gitlab/-/issues/349887\n\nToday within a project/group, you can have a mixture of provisioned and non-provisioned users, but there is no way to filter by this status.\n\nWe added an \"Enterprise User\" badge in https://gitlab.com/gitlab-org/gitlab/-/issues/325712, It would be great if we could filter by badges (also SAML)\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/d61073e450dd4ced0f67ce711a23f58d/image.png)\n\n## Required work\n\nCurrently we show the `Enterprise` badge iff the [`provisioned_by_this_group?`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/models/ee/group_member.rb#L36) method is `true`. To support filtering by enterprise users we should add filtering support for this method in the following places: \n\n- Add `filter_members` method to [ee/app/finders/ee/group_members_finder.rb](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/finders/ee/group_members_finder.rb) that extends CE [`filter_members` method](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/finders/group_members_finder.rb#L55).\n  - Query string parameter can be `provisioned_by_this_group=true`\n- For parity, update [REST API](https://docs.gitlab.com/ee/api/members.html#list-all-members-of-a-group-or-project-including-inherited-and-invited-members) to support filtering by `Enterprise` users.\n- For parity, update [GraphQL API](https://docs.gitlab.com/ee/api/graphql/reference/#groupgroupmembers) to support filtering by `Enterprise` users\n\n## Availability and Testing\n- Adding unit/integration tests should suffice for this change. No E2E test needed at this time.","state":"closed","created_at":"2022-01-14T20:04:22.132Z","updated_at":"2022-03-21T18:52:58.993Z","closed_at":"2022-03-16T18:51:04.141Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["auto updated","backend","candidate::14.9","devops::manage","group::organization","quad-planning::complete-action","release post item::in review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":33,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350400","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350400","notes":"https://gitlab.com/api/v4/projects/278964/issues/350400/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350400/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350400","relative":"#350400","full":"gitlab-org/gitlab#350400"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7445,"epic":{"id":427595,"iid":7445,"title":"Migrate Users from Admin Area to the group level","url":"/groups/gitlab-org/-/epics/7445","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":100667459,"iid":350396,"project_id":278964,"title":"Optimize Code Tokenizer to Improve Code Search Quality","description":"\n### Advanced Search: Replace current code tokenizer with CamelCase \n\nOur current code search tokenizer is not ideal and often breaks down on special characters. We believe that changing the tokenizer to the [one listed by Elastic](https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-pattern-analyzer.html#_camelcase_tokenizer) can improve the quality of code search drastically. It wouldn't be exact match search, but we'd get much closer to it.\n\nOriginally suggested in https://gitlab.com/gitlab-org/gitlab/-/issues/325234#note_796745076\n\nAfter merging the MR we'd need to reindex the main index. We already have a change request for it https://gitlab.com/gitlab-com/gl-infra/production/-/issues/6116\n\n## Useful links\n- https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-pattern-capture-tokenfilter.html","state":"closed","created_at":"2022-01-14T19:11:29.127Z","updated_at":"2022-10-03T15:20:19.926Z","closed_at":"2022-10-03T15:20:19.902Z","closed_by":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"labels":["Big Code","Category:Global Search","[deprecated] Accepting merge requests","auto updated","blocked","customer","devops::data_stores","group::global search","needs weight","section::enablement","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"type":"ISSUE","assignee":null,"user_notes_count":35,"merge_requests_count":0,"upvotes":13,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350396","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350396","notes":"https://gitlab.com/api/v4/projects/278964/issues/350396/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350396/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350396","relative":"#350396","full":"gitlab-org/gitlab#350396"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6223,"epic":{"id":291949,"iid":6223,"title":"Code Search in Advanced Search should work more like search in local IDE","url":"/groups/gitlab-org/-/epics/6223","group_id":9970,"human_readable_end_date":"May 18, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":100667212,"iid":350394,"project_id":278964,"title":"🎨 Design: Add comment and approval as part of code review (batch comments)","description":"Related to #244044.\n\n#### Notes\n\n- Pending comments counter should move to `Pending comments` dropup\n- `Approve merge request` should default to `unchecked`\n- Submitting review through one of the `Submit review` buttons on comments should automatically submit the review as usual \n- Any input/choice in dropup should be saved if user closes it or leaves page\n- When this is implemented- the first time a user opens the new dropup, an alert should appear highlighting quick action functionality. Once this is closed, it should never reappear.\n- Comment textarea should be in focus when dropup appears\n\n#### Links\n\n- [🎥 Walkthrough](https://youtu.be/PeNIkvO0qZc)\n- [🎨 Figma](https://www.figma.com/file/5tThMSdmSDC60ktU9QoWqd/Finish-code-review?node-id=80%3A9797)","state":"closed","created_at":"2022-01-14T19:04:56.203Z","updated_at":"2022-07-02T18:18:06.254Z","closed_at":"2022-06-29T17:13:14.056Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:Code Review Workflow","UI Unboxing","UX","devops::create","feature::enhancement","group::code review","missed:14.8","section::dev","type::feature","workflow::ready for design"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350394","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350394","notes":"https://gitlab.com/api/v4/projects/278964/issues/350394/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350394/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350394","relative":"#350394","full":"gitlab-org/gitlab#350394"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7362,"epic":{"id":418663,"iid":7362,"title":"Improve code review (batch comments) experience","url":"/groups/gitlab-org/-/epics/7362","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":100666938,"iid":350393,"project_id":278964,"title":"Create lo-fi mockups for MR restructuring","description":"## Designs\n\n\n#### Key\n\n`#FCB5AA` --\u003e Removed\n\n- Will need research to verify \n- Some items not commonly used (based on metadata research)\n- Some items duplicated on page\n\n\n\n`#E9BE74` --\u003e Removed element but content available elsewhere\n- May be moved to another area of page\n- May be hidden behind dropdown\n\n`#CBBBF2` --\u003e Moved elsewhere on page\n\n`#91D4A8` --\u003e New(ish)\n\n\n\n|  | Existing | Changes | Proposal |\n| ------ | ------ | ------ | ------ |\n| Overview tab | ![Overview_-_existing](https://gitlab.com/gitlab-org/gitlab/uploads/9d14f6ec4bf75f44fa77e9be85628d20/Overview_-_existing.png) | ![Overview_-_changes](https://gitlab.com/gitlab-org/gitlab/uploads/d54b7c0983abe7788e7ca66e5abd7339/Overview_-_changes.png) | ![Overview_-_proposal](https://gitlab.com/gitlab-org/gitlab/uploads/c3520df4c78c0faaf454a17eae707f09/Overview_-_proposal.png) |\n| Changes tab | ![Files_-_existing](https://gitlab.com/gitlab-org/gitlab/uploads/f9343eec47732a8fb0d8543d0849e21d/Files_-_existing.png) | ![Files_-_changes](https://gitlab.com/gitlab-org/gitlab/uploads/5b526f2dd7fd85f5fd3f82ca99794d28/Files_-_changes.png) | ![Files_-_proposal](https://gitlab.com/gitlab-org/gitlab/uploads/5d1c39c2b8f018435c835dd81dab67aa/Files_-_proposal.png) |\n\n\n## Links\n\n- [Recording](https://youtu.be/2xX1p29IY5A)\n- [Figma](https://www.figma.com/file/NqsI4smliGTCMnJGq9VlxD/Merge-request-restructure?node-id=26%3A4102)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-01-14T18:59:06.065Z","updated_at":"2022-08-10T16:24:08.491Z","closed_at":"2022-02-04T16:15:26.142Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:Code Review Workflow","UX","devops::create","direction","feature::enhancement","group::code review","section::dev","type::feature","workflow::design"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350393","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350393","notes":"https://gitlab.com/api/v4/projects/278964/issues/350393/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350393/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350393","relative":"#350393","full":"gitlab-org/gitlab#350393"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7590,"epic":{"id":448406,"iid":7590,"title":"Build case and define problem-solution space","url":"/groups/gitlab-org/-/epics/7590","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100664729,"iid":350379,"project_id":278964,"title":"[SaaS] Add messaging about user overage process to purchase flow","description":"## Problem to solve\n\nSaaS customers are being surprised and taken off-guard by Quarterly Subscription reconciliations. Because self-service SaaS customers have not historically been charged true-ups, the QSR process and the fact that they have to pay for overages is totally new. See tickets from customers [here](https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/337).\n\n## Intended users\n\nThis issue is just for SaaS customers.\n\n* Group Owners who are purchasing a subscription through our self-service purchase flow\n* See exactly which use cases we're solving for in the [Epic description](https://gitlab.com/groups/gitlab-org/-/epics/7229#saas-customers).\n\n## Proposal\n\nWhen a user is purchasing GitLab, make sure that they are aware of the overage process. Show a message to all customers using the self-service purchase flow that notifies them about the overage process.\n\n[Design here](https://gitlab.com/gitlab-org/gitlab/-/issues/347267/designs/Option_2__Alert_during_checkout_informing_user_of_QSR.png)\n\nLink for `How does billing work?`: `https://docs.gitlab.com/ee/subscriptions/quarterly_reconciliation.html` (shared [here](https://gitlab.com/gitlab-org/gitlab/-/issues/347267/designs/Option_2__Alert_during_checkout_informing_user_of_QSR.png#note_828638740))","state":"closed","created_at":"2022-01-14T17:48:36.283Z","updated_at":"2022-12-06T16:14:47.774Z","closed_at":"2022-02-11T06:08:35.867Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","SUS::Impacting","UI text","Unplanned","devops::fulfillment","feature::enhancement","frontend","group::purchase","section::fulfillment","severity::4","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350379","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350379","notes":"https://gitlab.com/api/v4/projects/278964/issues/350379/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350379/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350379","relative":"#350379","full":"gitlab-org/gitlab#350379"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7229,"epic":{"id":401186,"iid":7229,"title":"[QSR] [SaaS] Create transparency about User Overage process at the time of purchase or renewal","url":"/groups/gitlab-org/-/epics/7229","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100664525,"iid":350377,"project_id":278964,"title":"Update the delete project container to use the latest UI","description":"### Problem to solve\n\nCurrently the \"delete project\" content is rendered in a container type that is deprecated.\n\n### Why is a change necessary?\n\nWhile current experience may solve the problem, it could be better refined according to a few design heuristics.\n\n\u003e **Aesthetic and minimalist design** \u003cbr\u003e\n\u003e Reducing the amount of redundant information will increase the relative visibility. Minimizing the mixture of capitalization, italics, and bold will decrease the amount of noise for the user. \n\n\u003e **Consistency and standards** \u003cbr\u003e\n\u003e There are several linked issues where this modal will be implemented, and we will want to implement the best option to scale and set an example for the rest of GitLab.\n\n\u003e**Error prevention** \u003cbr\u003e\n\u003e Using unique callout design to reinforce the action being taken will reduce the likelihood that users will stumble into deleting a project accidentally.\n\n### Proposal\n\nUpdate the delete project container to use the [latest UI](https://gitlab.com/gitlab-org/gitlab/-/issues/350377/designs/Vision.png).\n\nNote: This proposal was originally extracted from https://gitlab.com/gitlab-org/gitlab/-/issues/232537 per [this thread](https://gitlab.com/gitlab-org/gitlab/-/issues/232537#note_810965361).\n\n| Type | Design |\n| ---- | ------ |\n| [Delayed Deletion](https://docs.gitlab.com/ee/user/group/index.html#enable-delayed-project-deletion) ~\"GitLab Premium\" | ![Delete_source_project__delayed_](/uploads/79e0f0e0ec5c9d7802da710bd5159445/Delete_source_project__delayed_.png) |\n| [Skip Delay](https://docs.gitlab.com/ee/user/project/settings/#delete-a-project-immediately) ~\"GitLab Premium\" | ![Delete_source_project_container__pending_](/uploads/8dfb4546d5225facc1a7c1093c02b589/Delete_source_project_container__pending_.png) |\n| Deletion for ~\"GitLab Core\"  users | ![Delete_source_project_container__immediate_](/uploads/3b08b6cd6deb198d1a9805dac85638ab/Delete_source_project_container__immediate_.png) |\n\n### Implementation plan\n\n~frontend - :one: \n\n1. Update delete project container to use new UI designs\n1. Update any text and text styles to match the new UI designs\n1. Update any specs","state":"closed","created_at":"2022-01-14T17:42:31.464Z","updated_at":"2022-03-16T10:33:57.378Z","closed_at":"2022-03-16T10:33:57.350Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["SUS::Impacting","UI polish","UX","devops::manage","feature::enhancement","frontend","group::compliance","priority::2","section::dev","severity::4","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350377","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350377","notes":"https://gitlab.com/api/v4/projects/278964/issues/350377/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350377/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350377","relative":"#350377","full":"gitlab-org/gitlab#350377"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3626,"epic":{"id":69474,"iid":3626,"title":"Improvements to delayed project deletion","url":"/groups/gitlab-org/-/epics/3626","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100664248,"iid":350375,"project_id":278964,"title":"Make badges in ee/app/assets/javascripts/vulnerabilities/components/remediated_badge.vue Pajamas-compliant","description":"One or more badges in `ee/app/assets/javascripts/vulnerabilities/components/remediated_badge.vue` are not Pajamas-compliant, implementing their icon manually with `GlIcon` rather than with the preferred `icon` prop of `GlBadge`. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7008) for guidance on migration strategy.","state":"closed","created_at":"2022-01-14T17:35:20.259Z","updated_at":"2022-11-22T19:08:20.598Z","closed_at":"2022-01-19T09:15:54.070Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","component:badge","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350375","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350375","notes":"https://gitlab.com/api/v4/projects/278964/issues/350375/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350375/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350375","relative":"#350375","full":"gitlab-org/gitlab#350375"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7008,"epic":{"id":376929,"iid":7008,"title":"Badges \u003e Vue \u003e Migrate to GlBadge","url":"/groups/gitlab-org/-/epics/7008","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100664247,"iid":350374,"project_id":278964,"title":"Make badges in ee/app/assets/javascripts/security_dashboard/components/shared/issues_badge.vue Pajamas-compliant","description":"One or more badges in `ee/app/assets/javascripts/security_dashboard/components/shared/issues_badge.vue` are not Pajamas-compliant, implementing their icon manually with `GlIcon` rather than with the preferred `icon` prop of `GlBadge`. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7008) for guidance on migration strategy.","state":"closed","created_at":"2022-01-14T17:35:20.149Z","updated_at":"2022-11-22T19:08:21.200Z","closed_at":"2022-01-19T07:01:23.370Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","component:badge","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350374","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350374","notes":"https://gitlab.com/api/v4/projects/278964/issues/350374/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350374/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350374","relative":"#350374","full":"gitlab-org/gitlab#350374"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7008,"epic":{"id":376929,"iid":7008,"title":"Badges \u003e Vue \u003e Migrate to GlBadge","url":"/groups/gitlab-org/-/epics/7008","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100664244,"iid":350371,"project_id":278964,"title":"Make badges in ee/app/assets/javascripts/security_dashboard/components/shared/pipeline_status_badge.vue Pajamas-compliant","description":"One or more badges in `ee/app/assets/javascripts/security_dashboard/components/shared/pipeline_status_badge.vue` are not Pajamas-compliant, implementing their icon manually with `GlIcon` rather than with the preferred `icon` prop of `GlBadge`. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7008) for guidance on migration strategy.","state":"closed","created_at":"2022-01-14T17:35:20.015Z","updated_at":"2022-11-22T19:08:24.040Z","closed_at":"2022-01-19T07:01:19.082Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","component:badge","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350371","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350371","notes":"https://gitlab.com/api/v4/projects/278964/issues/350371/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350371/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350371","relative":"#350371","full":"gitlab-org/gitlab#350371"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7008,"epic":{"id":376929,"iid":7008,"title":"Badges \u003e Vue \u003e Migrate to GlBadge","url":"/groups/gitlab-org/-/epics/7008","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100664243,"iid":350370,"project_id":278964,"title":"Make badges in ee/app/assets/javascripts/vulnerabilities/components/false_positive_badge.vue Pajamas-compliant","description":"One or more badges in `ee/app/assets/javascripts/vulnerabilities/components/false_positive_badge.vue` are not Pajamas-compliant, implementing their icon manually with `GlIcon` rather than with the preferred `icon` prop of `GlBadge`. See the [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/7008) for guidance on migration strategy.","state":"closed","created_at":"2022-01-14T17:35:19.984Z","updated_at":"2022-11-22T19:08:24.658Z","closed_at":"2022-01-19T07:02:46.486Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["OKR","component:badge","devops::manage","frontend","group::foundations","pajamas::integrate","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350370","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350370","notes":"https://gitlab.com/api/v4/projects/278964/issues/350370/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350370/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350370","relative":"#350370","full":"gitlab-org/gitlab#350370"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7008,"epic":{"id":376929,"iid":7008,"title":"Badges \u003e Vue \u003e Migrate to GlBadge","url":"/groups/gitlab-org/-/epics/7008","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100662175,"iid":350366,"project_id":278964,"title":"Selecting pending comments does not work for commit-by-commit reviews","description":"### Summary\n\nWhen you review MRs as a single commit at the time, and you draft a comment, the preview does not jump to the correct commit.\n\n### Steps to reproduce\n\n1. Open an MR with multiple commits\n1. Go to the commits tab\n1. Select a commit\n1. Add a draft comment on a line on that commit\n1. Use one of the buttons `Prev` or `Next` on the top to go to a different commit\n1. Use the \"Pending comments\" drop down and click on the draft you've created\n\n### What is the current *bug* behavior?\n\nNothing.\n\n### What is the expected *correct* behavior?\n\nThe page for that commit should be browsed to and the draft comment should be shown and highlighted.\n\n### Possible fixes\n\nThe endpoint `https://gitlab.example.com/\u003cgroup\u003e/\u003cproject\u003e/-/merge_requests/\u003ciid\u003e/drafts` gives `position` data:\n\n```json\n    \"position\": {\n      \"base_sha\": \"c10c4110ad2be58737d857f63824f3dd6aafd285\",\n      \"start_sha\": \"c10c4110ad2be58737d857f63824f3dd6aafd285\",\n      \"head_sha\": \"2b5ef814763026bd555737a4d96146c3b85e5468\",\n      ...\n    }\n```\n\nI've noticed when the comment is made on a single commit, the `base_sha` and `head_sha` are equal and the comment is made on `head_sha`. The browser should navigate to `https://gitlab.example.com/\u003cgroup\u003e/\u003cproject\u003e/-/merge_requests/\u003ciid\u003e/diffs?commit_id=\u003chead_sha\u003e` before attempting to `scrollToDraft`. See https://gitlab.com/gitlab-org/gitlab/-/blob/ebc34272fafe983112bfdd1f2c097e08a2880e21/app/assets/javascripts/batch_comments/components/preview_dropdown.vue#L23-28","state":"closed","created_at":"2022-01-14T16:52:20.684Z","updated_at":"2022-09-01T04:04:21.016Z","closed_at":"2022-06-22T14:35:12.642Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","devops::create","frontend","group::code review","priority::3","section::dev","severity::3","type::bug","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350366","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350366","notes":"https://gitlab.com/api/v4/projects/278964/issues/350366/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350366/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350366","relative":"#350366","full":"gitlab-org/gitlab#350366"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100660759,"iid":350364,"project_id":278964,"title":"Code blocks with undefined language get labeled plaintext after saving in Content Editor","description":"Related to #345425.\n\n## Problem\n\nWhen someone saves a code block in GFM without defining a language, the expectation is that the code block remains undefined. While it is treated as `plaintext` by the renderer, the user does not expect us to alter their markup.\n\n## Expected behavior\n\nWhen I save a code block without any specified language, it should stay that way after I commit my changes.\n\n## Current behavior\n\n`plantext` is added to the code block.\n\n## Steps to reproduce\n\n1. Edit a wiki page using the content editor (`rich text`)\n1. Create a new code block on the page\n1. Do not define a language for the code block\n1. Save the page\n1. View the page source again\n1. Observe the `plaintext` definition in the code block","state":"closed","created_at":"2022-01-14T16:24:19.764Z","updated_at":"2022-06-16T18:50:06.007Z","closed_at":"2022-06-16T13:29:51.117Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Category:Wiki","Content Editor","GitLab Free","Stretch","devops::create","group::editor","priority::3","section::dev","severity::4","type::bug","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350364","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350364","notes":"https://gitlab.com/api/v4/projects/278964/issues/350364/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350364/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350364","relative":"#350364","full":"gitlab-org/gitlab#350364"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100651232,"iid":350346,"project_id":278964,"title":"CRM - search for contacts in the root group","description":"It's possible to define contacts for each group (no matter in what level of nesting).\n\nSupposing I have group/project structure:\n\n```\n* group\n  * subgroup\n    * project\n      * issueA\n```\n\nWhen using `/add_contacts foo` action for adding a contact to `issueA`, `foo` contact is searched only in the project's parent group (`subgroup`), but not in other ancestor groups (`group`). It would be nice to be able to add contacts from all ancestor group contacts.","state":"closed","created_at":"2022-01-14T13:46:08.325Z","updated_at":"2022-09-12T15:49:57.889Z","closed_at":"2022-02-07T09:17:53.702Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["CRM","auto updated","devops::plan","group::certify","section::dev","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":null,"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350346","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350346","notes":"https://gitlab.com/api/v4/projects/278964/issues/350346/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350346/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350346","relative":"#350346","full":"gitlab-org/gitlab#350346"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7346,"epic":{"id":415604,"iid":7346,"title":"Link external organizations and contacts to issues","url":"/groups/gitlab-org/-/epics/7346","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100648479,"iid":350340,"project_id":278964,"title":"Tabs on \"Your projects\" activity pages fails loading with 15 seconds timeout","description":"## Problem\n\nSimilar to https://gitlab.com/gitlab-org/gitlab/-/issues/346435, it seems like the query for all tabs in the \"Your projects\" section of the \"Activity\" is not optimized, leading to timeouts and no results. I'm not sure where the limit is and from how many projects this starts to error out.\n\n![image](/uploads/2b486c5f283dbe85f4c56f421920463a/image.png).","state":"closed","created_at":"2022-01-14T12:59:24.189Z","updated_at":"2022-03-28T16:23:22.555Z","closed_at":"2022-03-14T09:45:02.144Z","closed_by":{"id":10327656,"username":"abdwdd","name":"Abdul Wadood","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10327656/avatar.png","web_url":"https://gitlab.com/abdwdd"},"labels":["SUS::Impacting","UX","approaching-SLO","backend","devops::manage","group::organization","missed-SLO","priority::1","section::dev","severity::1","type::bug","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10327656,"username":"abdwdd","name":"Abdul Wadood","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10327656/avatar.png","web_url":"https://gitlab.com/abdwdd"}],"author":{"id":3688647,"username":"mvanremmerden","name":"Marcel van Remmerden","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4f46ed49b87eab9e74f20e0e25b36d0f?s=80\u0026d=identicon","web_url":"https://gitlab.com/mvanremmerden"},"type":"ISSUE","assignee":{"id":10327656,"username":"abdwdd","name":"Abdul Wadood","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10327656/avatar.png","web_url":"https://gitlab.com/abdwdd"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350340","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350340","notes":"https://gitlab.com/api/v4/projects/278964/issues/350340/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350340/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350340","relative":"#350340","full":"gitlab-org/gitlab#350340"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100646792,"iid":350336,"project_id":278964,"title":"Lack Of State Parameter On Bitbucket Import Project Oauth","description":"**[HackerOne report #1447984](https://hackerone.com/reports/1447984)** by `aryan2808` on 2022-01-12, assigned to GitLab Team:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\nHi Gitlab Team,\n\n**Summary** :\n\nGitlab Allow Users To Import Projects From Various Git sites , Importing Project From Bitbucket To Gitlab Suffers From Lack Of State Parameter Which Allows Attacker To Connect His Bitbucket To Victim Gitlab Import Project Function Moreover Interesting Thing Is There Is No Option to Disconnect Bitbucket Account On Import Function.\n\n\n**Steps To Reproduce** :\n\n1. Attacker Navigate To Create Project \u003e Import Project \u003e Bitbucket\n\n2. Attacker Authorize His Bitbucket Account\n\n3. As There Is No State Parameter On Request(Connected in http request section) Attacker Capture The Request And Pass That Request To Victim.\n\n4. Upon Opening Link Attacker Bitbucket Connect to Victim Import Function For Forever , There Is No Option to Disconnect Bitbucket Account On This Function.\n\n**HTTP Request** :\n\n[redacted] \n\nP.S : Previously submitted same report(#605576) for github oauth thinking root cause are same hence fixing github oauth will also fix other oauth application but that doesn't seem to case.\n\n**Mitigation** :\n\nImplement The State Parameter.\n\nThanks,  \nAryan Rupala.\n\n####  Impact\n\nAttacker Could Connect His Bitbucket Account To Import Function For Forever\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n[redacted] \n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2022-01-14T12:23:16.461Z","updated_at":"2022-05-01T22:49:22.031Z","closed_at":"2022-03-28T15:04:50.634Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","FY23::Q1","HackerOne","Importer:Bitbucket Cloud","Next Up","Weakness::CWE-352","backend","bug::vulnerability","devops::manage","estimation::completed","frontend","group::import","milestone::p3","priority::3","section::dev","security","severity::3","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-03-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350336","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350336","notes":"https://gitlab.com/api/v4/projects/278964/issues/350336/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350336/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350336","relative":"#350336","full":"gitlab-org/gitlab#350336"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5514,"epic":{"id":215391,"iid":5514,"title":"🐞 Bitbucket Importer bugs","url":"/groups/gitlab-org/-/epics/5514","group_id":9970},"iteration":null,"health_status":null},{"id":100644420,"iid":350333,"project_id":278964,"title":"[License Compliance MR Widget Extension] - Backend - Additional API endpoint for License Compliance Merge Request Widget (collapsed data state)","description":"The License Compliance Merge Request Widget is currently migrated to use the new MR Widget extension.\n\nMore about this [here](https://gitlab.com/gitlab-org/gitlab/-/issues/338281).\n\nIn its current state License Compliance MR Widget will make one request to receive all of its data.\n\n## existing endpoint\n\n| url | example link |\n| ------ | ------ |\n| https://gitlab.com/gitlab-org/gitlab/-/merge_requests/$MR_ID/license_scanning_reports | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75341/license_scanning_reports |\n\n\nResponse Structure: \n``` json\n{\n  \"new_licenses\": [\n    ...list_of_new_licenses\n  ],\n  \"existing_licenses\": [\n    ...list_of_existing_licenses\n  ],\n  \"removed_licenses\": [\n    ...list_of_removed_licenses\n  ]\n}\n```\n\n**This endpoint will remain untouched.** But the Payload over the wire can get pretty big potentially. As a performance Improvement, the MR Widget extension requires an additional endpoint to only represent the data used in the collapsed state of the MR Widget. To reduce the network payload when the user is not uncollapsing the License Compliance MR Widget, making the MR page faster.\n\n\n## additional endpoint\nurl: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/$MR_ID/license_scanning_reports_collapsed\n\nResponse Structure: \n``` json\n{\n  \"new_licenses\": $integer_value_of_new_licenses_found,\n  \"existing_licenses\": $integer_value_of_existing_licenses_found,\n  \"removed_licenses\": $integer_value_of_removed_licenses_found,\n}\n```\n\n## Implementation plan\n\n1. in `EE::Projects::MergeRequestsController` create a new action `license_scanning_reports_collapsed`, make it similar to `license_scanning_reports` action.\n1. Inherit a new compare service from `CompareLicenseScanningReportsService` and change the serializer to a new serializer (example name `LicenseScanningReportsCollapsedComparerEntity`).\n1. expose `new_licenses`, `existing_licenses`, `removed_licenses` as entity.new_licencese.count and so on. In this case the entity is an instance of `Gitlab::Ci::Reports::LicenseScanning::ReportsComparer`. \n1. Test new action, compare service and serializer\n\n## Testing\n\nSET is to update the License Widget Merge Request widget End to End/UI test ( https://gitlab.com/gitlab-org/gitlab/-/blob/master/qa/qa/specs/features/ee/browser_ui/13_secure/merge_request_license_widget_spec.rb ) adding selectors to the widget where needed.","state":"closed","created_at":"2022-01-14T11:38:59.348Z","updated_at":"2022-05-17T15:43:33.684Z","closed_at":"2022-04-12T12:23:43.029Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Deliverable","backend","bug::performance","devops::secure","group::composition analysis","merge request widget","quad-planning::complete-action","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350333","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350333","notes":"https://gitlab.com/api/v4/projects/278964/issues/350333/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350333/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350333","relative":"#350333","full":"gitlab-org/gitlab#350333"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7763,"epic":{"id":476528,"iid":7763,"title":"[MR Widget Eng] - License Compliance MR widget extension migration feature parity with legacy widget","url":"/groups/gitlab-org/-/epics/7763","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100634347,"iid":350325,"project_id":278964,"title":"Follow-up from \"Add subsidized cost factor for Open Source plan\"","description":"The following discussion from !77882 should be addressed:\n\n- [ ] @mbobin started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/77882#note_810591442): \n\n    \u003e I think we should document this plan for the the application limits:\n    \u003e - https://gitlab.com/gitlab-org/gitlab/-/blob/c1e6f9c353db8c6d21bb6d4479294265f51e40fe/doc/development/application_limits.md#L43-67\n    \u003e - https://gitlab.com/gitlab-org/gitlab/-/blob/c1e6f9c353db8c6d21bb6d4479294265f51e40fe/doc/development/application_limits.md#L142-160","state":"closed","created_at":"2022-01-14T09:43:44.853Z","updated_at":"2022-01-19T09:49:53.135Z","closed_at":"2022-01-19T09:49:53.120Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Application Limits","Category:Continuous Integration","backend","devops::verify","feature::addition","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350325","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350325","notes":"https://gitlab.com/api/v4/projects/278964/issues/350325/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350325/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350325","relative":"#350325","full":"gitlab-org/gitlab#350325"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5653,"epic":{"id":231355,"iid":5653,"title":"CI minutes limits for public projects on GitLab.com","url":"/groups/gitlab-org/-/epics/5653","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":100633398,"iid":350322,"project_id":278964,"title":"[Feature flag] Rollout of `ci_owned_runners_cross_joins_fix`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\n`ci_owned_runners_cross_joins_fix` feature flag.\n\n- Related to #336436\n- Introduced in !78216, Optimized in: !79729\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: @furkanayhan \n- PM: NAME\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe are expecting that `User#ci_owned_runners` will start using the new ci-mirror tables instead of cross-joining.\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\nWe can disable the feature flag.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n**Response times:**\n\n* GET `/api/:version/runners` =\u003e https://log.gprd.gitlab.net/goto/1eea3350-7d30-11ec-a649-b7cbb8e4f62e\n* GET `Projects::Settings::CiCdController#show` =\u003e https://log.gprd.gitlab.net/goto/9e9dd9d0-7d30-11ec-a649-b7cbb8e4f62e\n\n**Error rates:**\n\n* GET `/api/:version/runners` =\u003e https://log.gprd.gitlab.net/goto/167c2660-7d30-11ec-9dd2-93d354bef8e7\n* GET `Projects::Settings::CiCdController#show` =\u003e https://log.gprd.gitlab.net/goto/a381d5a0-7d30-11ec-9dd2-93d354bef8e7\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_owned_runners_cross_joins_fix true --dev`\n    - [x] `/chatops run feature set ci_owned_runners_cross_joins_fix true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab ci_owned_runners_cross_joins_fix true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss ci_owned_runners_cross_joins_fix true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com ci_owned_runners_cross_joins_fix true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org ci_owned_runners_cross_joins_fix true`\n    - [ ] `/chatops run feature set --group=gitlab-com ci_owned_runners_cross_joins_fix true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --user=\u003cyour-username\u003e ci_owned_runners_cross_joins_fix true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set ci_owned_runners_cross_joins_fix \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_owned_runners_cross_joins_fix \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_owned_runners_cross_joins_fix true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_owned_runners_cross_joins_fix`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_owned_runners_cross_joins_fix` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_owned_runners_cross_joins_fix --dev`\n    - [ ] `/chatops run feature delete ci_owned_runners_cross_joins_fix --staging`\n    - [ ] `/chatops run feature delete ci_owned_runners_cross_joins_fix`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_owned_runners_cross_joins_fix false\n```","state":"closed","created_at":"2022-01-14T09:26:42.063Z","updated_at":"2022-05-27T17:27:02.356Z","closed_at":"2022-04-12T13:07:55.266Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["Category:Continuous Integration","Engineering Allocation","backend","ci-decomposition","ci-decomposition::phase6","devops::verify","feature flag","feature::addition","group::pipeline execution","missed:14.9","section::ops","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":90,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350322","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350322","notes":"https://gitlab.com/api/v4/projects/278964/issues/350322/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350322/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350322","relative":"#350322","full":"gitlab-org/gitlab#350322"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100630447,"iid":350321,"project_id":278964,"title":"DAST On-Demand Scan - View Scans - Update documentation","description":"Update DAST documentation to reflect latest on-demand scans changes.","state":"closed","created_at":"2022-01-14T08:29:58.269Z","updated_at":"2022-01-17T07:49:09.865Z","closed_at":"2022-01-17T07:49:09.851Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","[deprecated] Accepting merge requests","devops::secure","documentation","feature::addition","group::dynamic analysis","section::sec","type::feature","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350321","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350321","notes":"https://gitlab.com/api/v4/projects/278964/issues/350321/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350321/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350321","relative":"#350321","full":"gitlab-org/gitlab#350321"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6637,"epic":{"id":336470,"iid":6637,"title":"DAST On-Demand Scan - View Scans","url":"/groups/gitlab-org/-/epics/6637","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100623939,"iid":350318,"project_id":278964,"title":"Update iteration changed notification to include cadence","description":"When an iteration is assigned/change to an issue, the sent out notification email does not include the iteration's cadence name.\n\nThe notification message should also use iteration period (start/end date) as the main text link to prepare for #349612.","state":"closed","created_at":"2022-01-14T05:49:26.370Z","updated_at":"2022-01-25T05:08:27.208Z","closed_at":"2022-01-25T05:08:27.159Z","closed_by":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"labels":["backend","devops::plan","feature::enhancement","frontend","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"type":"ISSUE","assignee":{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350318","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350318","notes":"https://gitlab.com/api/v4/projects/278964/issues/350318/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350318/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350318","relative":"#350318","full":"gitlab-org/gitlab#350318"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5077,"epic":{"id":163847,"iid":5077,"title":"Support multiple, automated Iteration Cadences","url":"/groups/gitlab-org/-/epics/5077","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100620828,"iid":350312,"project_id":278964,"title":"Labels widget - Auto select first label when searching","description":"Reported by a customer: Previously, when searching for labels in the sidebar, the first label would auto focus, allowing to just press `enter` to select it.\n\nSince migrating the sidebar using the new labels widget, now we have to press the down arrow.\n\nExpected behaviour:\n\n![Auto_focus_label](/uploads/55b3ce09c2117c79b81d5b4cfd6ab6c2/Auto_focus_label.mp4)","state":"closed","created_at":"2022-01-14T03:09:30.105Z","updated_at":"2022-01-21T00:24:50.336Z","closed_at":"2022-01-21T00:24:50.320Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["auto updated","devops::plan","frontend","group::product planning","section::dev","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350312","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350312","notes":"https://gitlab.com/api/v4/projects/278964/issues/350312/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350312/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350312","relative":"#350312","full":"gitlab-org/gitlab#350312"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100612236,"iid":350300,"project_id":278964,"title":"Experiment cleanup: Active trial status reminder as trial gets close to expiring","description":"\u003c!-- Title suggestion: [Experiment Name] Successful Cleanup --\u003e\n\n## Summary\n\nThe experiment is rolled out to 0% of users as it has been deemed invalidated.\nThe code should be removed from the product.\n \n* Experiment tracking issue: https://gitlab.com/gitlab-org/gitlab/-/issues/335331#note_810130437\n* Engineering issue: https://gitlab.com/gitlab-org/gitlab/-/issues/334936\n* Feature flag: `forcibly_show_trial_status_popover`\n\n## Steps\n\n- [X] Determine whether the feature should apply to SaaS and/or self-managed\n - Removed from SaaS\n- [X] Determine whether the feature should apply to EE - and which tiers - and/or Core\n - code to be removed\n- [X] Determine if tracking should be kept as is, removed, or modified.\n - code to be removed\n- [X] Ensure any relevant documentation has been updated.\n - code to be removed\n- [ ] Consider changes to any `feature_category:` introduced by the experiment if ownership is changing (PM for Growth and PM for the new category as DRIs)\n- [ ] Check to see if the experiment introduced new design assets. Add them to the appropriate repos and document them if needed.\n- [ ] Optional: Migrate experiment to a default enabled [feature flag](https://docs.gitlab.com/ee/development/feature_flags) for one milestone and add a changelog. Converting to a feature flag can be skipped at the ICs discretion if risk is deemed low with consideration to both SaaS and (if applicable) self managed\n- [ ] In the next milestone, [remove the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) if applicable\n- [ ] After the flag removal is deployed, [clean up the feature/experiment feature flags](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n- [ ] Ensure the corresponding [Experiment Rollout](https://gitlab.com/groups/gitlab-org/-/boards/1352542?label_name[]=devops%3A%3Agrowth\u0026label_name[]=growth%20experiment\u0026label_name[]=experiment-rollout) issue is updated","state":"closed","created_at":"2022-01-13T20:48:51.277Z","updated_at":"2022-03-18T07:04:39.987Z","closed_at":"2022-03-03T13:59:57.202Z","closed_by":{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"},"labels":["DEPRECATED Growth-Deliverable","devops::growth","experiment::clean up","feature flag","group::acquisition","growth experiment","section::growth","type::maintenance","workflow::staging"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},{"id":10216431,"username":"syarynovskyi","name":"Serhii Yarynovskyi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10216431/avatar.png","web_url":"https://gitlab.com/syarynovskyi"}],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":{"id":9347704,"username":"gdoud","name":"Gayle Doud","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9347704/avatar.png","web_url":"https://gitlab.com/gdoud"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350300","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350300","notes":"https://gitlab.com/api/v4/projects/278964/issues/350300/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350300/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350300","relative":"#350300","full":"gitlab-org/gitlab#350300"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100609592,"iid":350293,"project_id":278964,"title":"Dynatrace MVC - Documentation for Basic Webhook Integration","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nEstablish documentation (in Dynatrace's Marketplace) for a basic webhook integration that will allow users of Dynatrace and GitLab to get started using the products together. A few possible use cases for MVC:\n\n1. How to configure a pipeline job to call out to the Dynatrace Webhook on successful deployment\n2. Subscribe to Dynatrace Webhook and send events to GitLab API to trigger a job to deploy\n\n\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n1. Set up sandbox instance following the [Dynatrace Cloud Automation Quickstart Guide](https://github.com/dt-alliances/cloud-automation-quickstart)\n2. Explore the use cases above\n3. Create docs and/or a video demo of how to establish the integration (using the [Partner Deliverables Doc](https://docs.google.com/document/d/1dlv3Y_tYGyvs2563aW1MbIafri6yuJER/edit?usp=sharing\u0026ouid=102745744910526574709\u0026rtpof=true\u0026sd=true)).\n   - Current version: https://docs.google.com/document/d/1dlv3Y_tYGyvs2563aW1MbIafri6yuJER/edit\n   - Old version: https://docs.google.com/document/d/1r4DsSYBekdguuIS-iFoW8PnrP6OcWutF/edit\n\n### Resources\n\nWalkthrough of the setup for the test VM: https://www.youtube.com/watch?v=UuFBXeCZLGo\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n\n\n### Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-01-13T19:34:33.113Z","updated_at":"2022-11-22T19:08:28.497Z","closed_at":"2022-04-12T16:07:33.316Z","closed_by":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"labels":["Deliverable","GitLab Free","GitLab Premium","GitLab Ultimate","backend","devops::manage","direction","documentation","group::integrations","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":37,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350293","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350293","notes":"https://gitlab.com/api/v4/projects/278964/issues/350293/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350293/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350293","relative":"#350293","full":"gitlab-org/gitlab#350293"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"needs_attention"},{"id":100607236,"iid":350290,"project_id":278964,"title":"Update documentation for the code Merge Request Report Widget component after Working Group improvements","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\n\u003c!-- Include the following detail as necessary:\n* What product or feature(s) affected?\n* What docs or doc section affected? Include links or paths.\n* Is there a problem with a specific document, or a feature/process that's not addressed sufficiently in docs?\n* Any other ideas or requests?\n--\u003e\n\nWe have a section of our documentation that covers the basic functionality of the initial reusable component for Merge Request widgets. https://docs.gitlab.com/ee/development/new_fe_guide/modules/widget_extensions.html\n\nDuring the past two Quarters, we've been working on improving the state of the report widgets by adding support to the specs in the UX Framework:  \n* Engineering effort: https://gitlab.com/groups/gitlab-org/-/epics/6647\n* [Report regions design guidelines](https://design.gitlab.com/regions/merge-request-reports) defined in the Pajamas Design System: https://design.gitlab.com/regions/merge-request-reports/\n\nThe documentation needs to be updated to help other authors in the future to understand how to properly leverage the new functionality to fulfill the requirements of the UX Framework.\n\n### Goal\n\nProvide enough information for any new author, looking to refactor an existing or write a new MR Report Widget, is able to learn the basics of how to leverage all the options provided by the core component to do so.\n\n### Further details\n\n\u003c!--\n* Any concepts, procedures, reference info we could add to make it easier to successfully use GitLab?\n* Include use cases, benefits, and/or goals for this work.\n* If adding content: What audience is it intended for? (What roles and scenarios?)\n  For ideas, see personas at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ or the persona labels at\n  https://gitlab.com/groups/gitlab-org/-/labels?subscribed=\u0026search=persona%3A\n--\u003e\n\nConcepts to be covered in the new docs:\n\n* Levels: how to specify the content for each level of content\n* Content sections: how to specify content for each of the avalable sections\n  * Status / icons\n  * Subject\n    * Title and description\n    * Text\n    * Meta\n  * Actions\n* Polling\n* ....anything else relevant\n\n### Proposal\n\n\u003c!-- Further specifics for how can we solve the problem. --\u003e\n\n### Who can address the issue\n\n\u003c!-- What if any special expertise is required to resolve this issue? --\u003e\n\n* @iamphill has been the core contributor for these advances\n* @jannik_lehmann volunteered to help Phil\n\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e","state":"closed","created_at":"2022-01-13T18:36:12.635Z","updated_at":"2022-06-23T19:03:55.643Z","closed_at":"2022-02-08T21:16:26.576Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Merge Request Report Widgets","Technical Writing","WorkingGroup::MergeRequestReportWidgets","devops::create","documentation","frontend","group::code review","merge request widget","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350290","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350290","notes":"https://gitlab.com/api/v4/projects/278964/issues/350290/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350290/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350290","relative":"#350290","full":"gitlab-org/gitlab#350290"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6644,"epic":{"id":337727,"iid":6644,"title":"Merge Request Report Widgets Working Group","url":"/groups/gitlab-org/-/epics/6644","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100601615,"iid":350286,"project_id":278964,"title":"Experiment cleanup: Redirect in-app trial users to the feature that they requested the trial from","description":"\u003c!-- Title suggestion: [Experiment Name] Successful Cleanup --\u003e\n\n## Summary\n\nThe experiment is currently rolled out to 100% of users and has been deemed a success.\nThe changes need to become an official part of the product.\n \n* Experiment rollout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/335824\n* Experiment engineering issue: https://gitlab.com/gitlab-org/gitlab/-/issues/273634\n* feature flag name: `feature set redirect_trial_user_to_feature`\n\n## Steps\n\n- [X] Determine whether the feature should apply to SaaS and/or self-managed\n  - SaaS only as self-managed has an entirely different trial experience\n- [X] Determine whether the feature should apply to EE - and which tiers - and/or Core\n  - free SaaS only as paid SaaS tiers currently cannont start a trial on their own in-app\n- [X] Determine if tracking should be kept as is, removed, or modified.\n  - Experiment specific tracking code can be removed \n- [x] Ensure any relevant documentation has been updated.\n- [x] Consider changes to any `feature_category:` introduced by the experiment if ownership is changing (PM for Growth and PM for the new category as DRIs)\n- [x] Check to see if the experiment introduced new design assets. Add them to the appropriate repos and document them if needed.\n- [x] Optional: Migrate experiment to a default enabled [feature flag](https://docs.gitlab.com/ee/development/feature_flags) for one milestone and add a changelog. Converting to a feature flag can be skipped at the ICs discretion if risk is deemed low with consideration to both SaaS and (if applicable) self managed\n- [x] In the next milestone, [remove the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) if applicable\n- [x] After the flag removal is deployed, [clean up the feature/experiment feature flags](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n- [x] Ensure the corresponding [Experiment Rollout](https://gitlab.com/groups/gitlab-org/-/boards/1352542?label_name[]=devops%3A%3Agrowth\u0026label_name[]=growth%20experiment\u0026label_name[]=experiment-rollout) issue is updated","state":"closed","created_at":"2022-01-13T16:56:33.679Z","updated_at":"2022-01-25T07:01:02.824Z","closed_at":"2022-01-25T07:01:02.803Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["Stretch","devops::growth","experiment::clean up","feature flag","growth experiment","section::growth","type::maintenance"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350286","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350286","notes":"https://gitlab.com/api/v4/projects/278964/issues/350286/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350286/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350286","relative":"#350286","full":"gitlab-org/gitlab#350286"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100594575,"iid":350276,"project_id":278964,"title":"Add WarningMessages to PipelineType","description":"In order to display the deprecation warnings in the pipeline page, we need to expose `warning_message` in `PipelineType`. This will also help with making the warning system more generic. \n\nThis is a follow-up that is part of this epic: https://gitlab.com/groups/gitlab-org/-/epics/6859 and this issue: https://gitlab.com/gitlab-org/gitlab/-/issues/346578","state":"closed","created_at":"2022-01-13T15:47:09.795Z","updated_at":"2022-02-18T07:02:20.464Z","closed_at":"2022-01-18T11:25:53.759Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Category:Pipeline Authoring","Deliverable","Technical Writing","auto updated","backend","backend-weight::1","devops::verify","group::pipeline authoring","section::ops","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350276","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350276","notes":"https://gitlab.com/api/v4/projects/278964/issues/350276/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350276/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350276","relative":"#350276","full":"gitlab-org/gitlab#350276"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":40214,"iid":46,"sequence":7,"group_id":9970,"title":"Pipeline Authoring: Jan 10, 2022 – Jan 23, 2022","description":"Target milestone `14.8`","state":3,"created_at":"2021-11-14T00:05:01.884Z","updated_at":"2022-01-24T00:05:02.043Z","start_date":"2022-01-10","due_date":"2022-01-23","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/40214"},"health_status":null},{"id":100592458,"iid":350269,"project_id":278964,"title":"Agent Activity Information - Backend - Iteration 2","description":"Implements backend for https://gitlab.com/gitlab-org/gitlab/-/issues/277323/\n\n\n## Definition of Done\n\n- [ ] Backend supports various event types: Commit, Agent Disconnected, token revoked\n- [ ] Backend supports activity attributes: Type, User, Timestamp, Commit (if relevant), Merge (if relevant)","state":"closed","created_at":"2022-01-13T15:12:29.542Z","updated_at":"2022-11-08T16:17:37.860Z","closed_at":"2022-11-08T16:14:50.833Z","closed_by":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"labels":["auto updated","backend","configure::backlog","devops::configure","golang","group::configure","missed-deliverable","missed:14.6","rails","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2107592,"username":"nicholasklick","name":"Nicholas Klick","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2107592/avatar.png","web_url":"https://gitlab.com/nicholasklick"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350269","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":5,"blocking_issues_count":3,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350269","notes":"https://gitlab.com/api/v4/projects/278964/issues/350269/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350269/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350269","relative":"#350269","full":"gitlab-org/gitlab#350269"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4739,"epic":{"id":135769,"iid":4739,"title":"Management interfaces for the Agent","url":"/groups/gitlab-org/-/epics/4739","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100587452,"iid":350262,"project_id":278964,"title":"[Feature flag] Rollout of `rebase_without_ci_ui`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/118825) on production,\nthat is currently behind the `rebase_without_ci_ui` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: @pburdette \n- PM: @jheimbuck_gl \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] #369447+\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-01-13T14:08:53.832Z","updated_at":"2022-08-22T14:15:59.693Z","closed_at":"2022-08-16T14:14:19.277Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","devops::verify","feature flag","feature::addition","frontend","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":43,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350262","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350262","notes":"https://gitlab.com/api/v4/projects/278964/issues/350262/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350262/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350262","relative":"#350262","full":"gitlab-org/gitlab#350262"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100582351,"iid":350257,"project_id":278964,"title":"Fix NoMethodError from Sidekiq/Deployments::HooksWorker","description":"In the Error budget [research issue](https://gitlab.com/gitlab-org/ci-cd/release-group/release/-/issues/93) for ~\"group::release\" we identified `Deployments::HooksWorker` was exceeding thresholds with `NoMethodError` and is one of the top errors.\n\nDo note that the other [issue](https://gitlab.com/gitlab-org/gitlab/-/issues/350255) should have higher priority as the count is more.\n\nSentry: https://sentry.gitlab.net/gitlab/gitlabcom/issues/3094521/\n\nLogs: https://log.gprd.gitlab.net/goto/98af1420-7471-11ec-9dd2-93d354bef8e7\n\n![Screenshot_2022-01-13_at_6.36.37_PM](/uploads/df68fdab6d29fb426789d70170e5257f/Screenshot_2022-01-13_at_6.36.37_PM.png)\n\n![Screenshot_2022-01-13_at_6.21.15_PM](/uploads/df99a4d5b911580be6f3b26002463297/Screenshot_2022-01-13_at_6.21.15_PM.png)","state":"closed","created_at":"2022-01-13T13:08:56.736Z","updated_at":"2022-05-19T19:08:05.596Z","closed_at":"2022-04-20T20:07:04.970Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Category:Environment Management","Error Budget Improvement","Next Up","Release::P2","backend","devops::release","group::release","priority::3","section::ops","severity::3","type::bug","workflow::in review"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350257","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350257","notes":"https://gitlab.com/api/v4/projects/278964/issues/350257/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350257/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350257","relative":"#350257","full":"gitlab-org/gitlab#350257"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7450,"epic":{"id":428234,"iid":7450,"title":"Release Stage Error Budget Improvements","url":"/groups/gitlab-org/-/epics/7450","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100581917,"iid":350255,"project_id":278964,"title":"Fix NotImplementedError from Sidekiq/Deployments::HooksWorker","description":"In the Error budget [research issue](https://gitlab.com/gitlab-org/ci-cd/release-group/release/-/issues/93) for ~\"group::release\" we identified `Deployments::HooksWorker` was exceeding thresholds with `NotImplementedError` and is one of the top errors.\n\nSentry: https://sentry.gitlab.net/gitlab/gitlabcom/issues/3090903\n\nLogs: https://log.gprd.gitlab.net/goto/bc0f4800-7470-11ec-9dd2-93d354bef8e7\n\n![Screenshot_2022-01-13_at_6.31.14_PM](/uploads/b676d8f13476fc57f3e13f1854173200/Screenshot_2022-01-13_at_6.31.14_PM.png)\n\n![Screenshot_2022-01-13_at_6.21.15_PM](/uploads/1cad39569dcf308426f3331b5797973b/Screenshot_2022-01-13_at_6.21.15_PM.png)\n\n## Implementation plan\n\nThis error is raised by `Gitlab::UrlBuilder` when `build` is called with a `nil` object. The stack trace points to https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/data_builder/deployment.rb#L27. This can be fixed by checking for the presence of a commit before attempting to build a URL for it. Example: \n\n```diff\ndiff --git a/lib/gitlab/data_builder/deployment.rb b/lib/gitlab/data_builder/deployment.rb\nindex a4508bc93c5..824528d8b24 100644\n--- a/lib/gitlab/data_builder/deployment.rb\n+++ b/lib/gitlab/data_builder/deployment.rb\n@@ -24,7 +24,7 @@ def build(deployment, status_changed_at)\n           short_sha: deployment.short_sha,\n           user: deployment.deployed_by.hook_attrs,\n           user_url: Gitlab::UrlBuilder.build(deployment.deployed_by),\n-          commit_url: Gitlab::UrlBuilder.build(deployment.commit),\n+          commit_url: deployment.commit ? Gitlab::UrlBuilder.build(deployment.commit) : nil,\n           commit_title: deployment.commit.title,\n           ref: deployment.ref\n         }\n\n```","state":"closed","created_at":"2022-01-13T13:02:07.476Z","updated_at":"2022-04-18T07:02:18.180Z","closed_at":"2022-04-12T20:50:13.973Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Category:Environment Management","Deliverable","Error Budget Improvement","Next Up","Release::P1","backend","devops::release","group::release","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350255","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350255","notes":"https://gitlab.com/api/v4/projects/278964/issues/350255/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350255/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350255","relative":"#350255","full":"gitlab-org/gitlab#350255"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7450,"epic":{"id":428234,"iid":7450,"title":"Release Stage Error Budget Improvements","url":"/groups/gitlab-org/-/epics/7450","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100580683,"iid":350252,"project_id":278964,"title":"Fix ActiveRecord::StaleObjectError from Environments::AutoStopWorker","description":"In the Error budget [research issue](https://gitlab.com/gitlab-org/ci-cd/release-group/release/-/issues/93) for ~\"group::release\" we identified `Environments::AutoStopWorker` was exceeding thresholds with `ActiveRecord::StaleObjectError` and is one of the top errors.\n\nSentry: https://sentry.gitlab.net/gitlab/gitlabcom/issues/3091065 \u0026 https://sentry.gitlab.net/gitlab/gitlabcom/issues/3170391\n\nLogs: https://log.gprd.gitlab.net/goto/4ac03310-746d-11ec-a649-b7cbb8e4f62e\n\n![Screenshot_2022-01-13_at_6.06.27_PM](/uploads/36ccf7a963624847a012c729a9b867a1/Screenshot_2022-01-13_at_6.06.27_PM.png)\n\n## Proposal\n\n```diff\ndiff --git a/app/models/environment.rb b/app/models/environment.rb\nindex 450ed6206d5..ef226addc2e 100644\n--- a/app/models/environment.rb\n+++ b/app/models/environment.rb\n@@ -273,7 +273,10 @@ def stop_with_action!(current_user)\n     return unless available?\n \n     stop!\n-    stop_action\u0026.play(current_user)\n+\n+    Gitlab::OptimisticLocking.retry_lock(stop_action, name: 'environment_stop_with_action') do |build|\n+      build\u0026.play(current_user)\n+    end\n   end\n \n   def reset_auto_stop\n```","state":"closed","created_at":"2022-01-13T12:39:57.433Z","updated_at":"2022-04-18T07:02:18.252Z","closed_at":"2022-04-12T15:42:19.099Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Environment Management","Deliverable","Error Budget Improvement","Next Up","Release::P1","backend","devops::release","group::release","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350252","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350252","notes":"https://gitlab.com/api/v4/projects/278964/issues/350252/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350252/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350252","relative":"#350252","full":"gitlab-org/gitlab#350252"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7450,"epic":{"id":428234,"iid":7450,"title":"Release Stage Error Budget Improvements","url":"/groups/gitlab-org/-/epics/7450","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100572777,"iid":350249,"project_id":278964,"title":"[Feature flag] Enable compliance violations GraphQL type","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to roll out [the feature](https://gitlab.com/groups/gitlab-org/-/epics/7222) on production,\nthat is currently behind the `compliance_violations_graphql_type` feature flag.\n\nThe compliance violations GraphQL type adds the ability to retrieve compliance violations via the GraphQL API. This will be used by https://gitlab.com/groups/gitlab-org/-/epics/7222\n\n## Owners\n\n- Team: Manage::Compliance\n- Most appropriate slack channel to reach out to: `#g_manage_compliance`\n- Best individual to reach out to: @rob.hunt\n- PM: @stkerr \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe swap over the UI without issues\n\n### When is the feature viable?\n\nOnce the feature flag is rolled out\n\n### What might happen if this goes wrong?\n\nTurn off the feature flag\n\n### What can we monitor to detect problems with this?\n\n#### Staging\n\n- [Grafana](https://dashboards.gitlab.net/d/stage-groups-compliance/stage-groups-compliance-group-dashboard?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gstg\u0026var-stage=main\u0026var-controller=All\u0026var-action=All\u0026from=1646812967013\u0026to=1646816567013\u0026refresh=5m)\n- [Kabana](https://nonprod-log.gitlab.net/app/discover#/?_g=(filters:!(('$state':(store:globalState),meta:(alias:!n,disabled:!f,index:ed942d00-5186-11ea-ad8a-f3610a492295,key:json.subcomponent,negate:!t,params:!(graphql_json,api_json),type:phrases),query:(bool:(minimum_should_match:1,should:!((match_phrase:(json.subcomponent:graphql_json)),(match_phrase:(json.subcomponent:api_json)))))),('$state':(store:globalState),meta:(alias:!n,disabled:!f,index:ed942d00-5186-11ea-ad8a-f3610a492295,key:json.extra.sidekiq.meta.feature_category,negate:!f,params:(query:compliance_management),type:phrase),query:(match_phrase:(json.extra.sidekiq.meta.feature_category:compliance_management)))),refreshInterval:(pause:!t,value:0),time:(from:now-1h,to:now))\u0026_a=(columns:!(),filters:!(),index:ed942d00-5186-11ea-ad8a-f3610a492295,interval:auto,query:(language:kuery,query:''),sort:!(!(json.time,desc))))\n\n#### Production\n\n- [Sentry](https://sentry.gitlab.net/gitlab/gitlabcom/issues/?environment=gprd\u0026query=feature_category%3Acompliance_management+stage%3Amain)\n- [Grafana](https://dashboards.gitlab.net/d/stage-groups-compliance/stage-groups-compliance-group-dashboard?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-controller=All\u0026var-action=All\u0026from=1646813006377\u0026to=1646816606377\u0026refresh=5m)\n- [Kabana](https://log.gprd.gitlab.net/app/discover#/?_a=h@c4dc86a\u0026_g=h@e9f5e5a)\n\n### What can we check for monitoring production after rollouts?\n\n- Look for failures in `ComplianceViolationsWorker`, `ComplianceViolation` (model), `CreateComplianceViolationsService`, `ComplianceViolationResolver` and `ComplianceViolationsFinder`.\n- Keep an eye on merge failures.\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set compliance_violations_graphql_type true --dev`\n    - [x] `/chatops run feature set compliance_violations_graphql_type true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Crosslink the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the on-call SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/6870) an estimated time this will be enabled on GitLab.com.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set compliance_violations_graphql_type \u003crollout-percentage\u003e`\n  - If the feature flag in code **DOES** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform actor-based rollout.\n    - [x] `/chatops run feature set compliance_violations_graphql_type 25 --actors`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set compliance_violations_graphql_type true`\n- [x] Announce on [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/6870) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/6870) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `compliance_violations_graphql_type`\".\n    - [ ] Execute the `/copy_metadata https://gitlab.com/gitlab-org/gitlab/-/issues/346266` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `compliance_violations_graphql_type` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/6870) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete compliance_violations_graphql_type --dev`\n    - [x] `/chatops run feature delete compliance_violations_graphql_type --staging`\n    - [x] `/chatops run feature delete compliance_violations_graphql_type`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set compliance_violations_graphql_type false\n```","state":"closed","created_at":"2022-01-13T12:09:49.942Z","updated_at":"2022-03-15T07:42:09.014Z","closed_at":"2022-03-15T07:42:09.003Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Ultimate","backend","devops::manage","feature flag","group::compliance","section::dev","type::feature","workflow::in dev"],"milestone":null,"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350249","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":41,"completed_count":25},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"25 of 41 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350249","notes":"https://gitlab.com/api/v4/projects/278964/issues/350249/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350249/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350249","relative":"#350249","full":"gitlab-org/gitlab#350249"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7222,"epic":{"id":401057,"iid":7222,"title":"Introduce concept of Merge Request Violation","url":"/groups/gitlab-org/-/epics/7222","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100571589,"iid":350247,"project_id":278964,"title":"Remove gl-md-pr-5 utility class once it's been moved to GitLab UI","description":"## Problem to solve\n\nCurrently the class `gl-md-pr-5` resides in `utilities.scss`, once that's been added to GitLab UI https://gitlab.com/gitlab-org/gitlab-ui/-/issues/1671 we can remove it in the main GitLab codebase.","state":"closed","created_at":"2022-01-13T11:44:46.209Z","updated_at":"2022-02-18T10:40:30.720Z","closed_at":"2022-02-18T10:40:30.707Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Community contribution","devops::manage","frontend","group::compliance","section::dev","type::maintenance"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":10159828,"username":"shridharbhat1998","name":"Shreedhar Bhat","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10159828/avatar.png","web_url":"https://gitlab.com/shridharbhat1998"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":10159828,"username":"shridharbhat1998","name":"Shreedhar Bhat","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10159828/avatar.png","web_url":"https://gitlab.com/shridharbhat1998"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350247","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350247","notes":"https://gitlab.com/api/v4/projects/278964/issues/350247/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350247/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350247","relative":"#350247","full":"gitlab-org/gitlab#350247"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100565163,"iid":350243,"project_id":278964,"title":"Frontend: Add the retry button to the bridge job page","description":"This is a follow up for https://gitlab.com/gitlab-org/gitlab/-/issues/345046 where the bridge job page was introduced without the retry button\nThis issue is for completing the work by adding the retry button to the page which will retry the bridge job\n\n#### [See the design issue for full proposal.](https://gitlab.com/gitlab-org/gitlab/-/issues/343256)\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/53372cc4040a0123ea80e7d82d578bf9/image.png)\n\n### Implementation plan\n\n|Iteration| Description | Link |\n|--| ------ | ------ |\n|-|DESIGN/DISCUSSION | https://gitlab.com/gitlab-org/gitlab/-/issues/343256, https://gitlab.com/gitlab-org/gitlab/-/issues/352000, https://gitlab.com/gitlab-org/gitlab/-/issues/353049, https://gitlab.com/gitlab-org/gitlab/-/issues/340194 |\n|1|BACKEND: Add route for show page | :white_check_mark:  https://gitlab.com/gitlab-org/gitlab/-/issues/347060 |\n|1|FRONTEND: Create show page | :white_check_mark: https://gitlab.com/gitlab-org/gitlab/-/issues/345046 |\n|1|BACKEND: Add functionality for retry button no 1 (retry bridge job; re-create new downstream pipeline)| https://gitlab.com/gitlab-org/gitlab/-/issues/345050 ~\"workflow::in review\" | \n|1|FRONTEND: Add button no 1 and tie it to the functionality (retry bridge job; re-create new downstream pipeline)| :point_left: **You are here** ~\"workflow::blocked\"  |\n|1| FRONTEND: Redirect old trigger jobs to the latest trigger job | https://gitlab.com/gitlab-org/gitlab/-/issues/352472 ~\"workflow::blocked\"\n|1|FRONTEND: Only show latest downstream pipeline and trigger job in the pipeline graphs| https://gitlab.com/gitlab-org/gitlab/-/issues/352124 ~\"workflow::blocked\"\n|2|BACKEND: Add functionality for retry button no 2 (retry failed/canceled jobs)| :white_check_mark: https://gitlab.com/gitlab-org/gitlab/-/issues/348904\n|2|FRONTEND: Add split button and tie it to the functionality (retry failed/canceled jobs) |https://gitlab.com/gitlab-org/gitlab/-/issues/32559 ~\"workflow::in dev\"|\n|3|BACKEND: Add functionality for retrying from the graph (or what we say is iteration 3)| https://gitlab.com/gitlab-org/gitlab/-/issues/323470 ~\"workflow::blocked\"  |\n|3|FRONTEND: Add button/icon for retrying from graph| ? |\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-01-13T10:19:25.147Z","updated_at":"2022-06-03T13:31:43.143Z","closed_at":"2022-06-03T13:31:43.126Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","FY23::Q2","auto updated","devops::verify","direction","feature::enhancement","frontend","group::pipeline authoring","section::ops","type::feature","workflow::blocked"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350243","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350243","notes":"https://gitlab.com/api/v4/projects/278964/issues/350243/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350243/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350243","relative":"#350243","full":"gitlab-org/gitlab#350243"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6947,"epic":{"id":373378,"iid":6947,"title":"Triggering and retrying trigger jobs and downstream pipelines","url":"/groups/gitlab-org/-/epics/6947","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":52750,"iid":66,"sequence":17,"group_id":9970,"title":null,"description":"Target milestone `15.1`","state":3,"created_at":"2022-04-03T00:05:01.955Z","updated_at":"2022-06-13T00:05:02.360Z","start_date":"2022-05-30","due_date":"2022-06-12","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/52750"},"health_status":null},{"id":100564935,"iid":350242,"project_id":278964,"title":"Move \"Attach a file\" option in markdown editor up into md-header-toolbar","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Problem description\n\nThe standard markdown editor has the \"Attach a file\" option on the lower right. But all other options to interact with the content (the `md-header-toolbar`) are above the text content in the upper right. When I want to attach a file, I first look into this tool bar, sometimes clicking the \"link\" icon (because it kinda looks like a paper clip), then remember this option is not in the tool bar, before I find it in the lower right. \n\n![attachment_mockup__3_](/uploads/51e692ad2f99ac858bc286d0306e4ccf/attachment_mockup__3_.png)\n\n### Proposal\n\n* Move the action to \"attach a file\" up into the `md-header-toolbar`. \n* Add `paperclip` button to toolbar\n    * Tooltip: \"Attach a file\"\n\nCurrent behaviour of the file dialog opening when the action is invoked is maintained.\n\n![image](/uploads/b42b67c330ab8573550344101f47a737/image.png)","state":"closed","created_at":"2022-01-13T10:15:31.231Z","updated_at":"2022-07-27T00:54:25.333Z","closed_at":"2022-07-27T00:54:25.318Z","closed_by":{"id":2338505,"username":"mle","name":"Michael Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338505/avatar.png","web_url":"https://gitlab.com/mle"},"labels":["GitLab Free","SUS::Non-impacting","UI polish","UX","devops::plan","feature::addition","frontend","group::project management","section::dev","severity::4","type::feature","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4544656,"username":"mbruemmer","name":"Martin Brümmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4544656/avatar.png","web_url":"https://gitlab.com/mbruemmer"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350242","notes":"https://gitlab.com/api/v4/projects/278964/issues/350242/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350242/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350242","relative":"#350242","full":"gitlab-org/gitlab#350242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100553636,"iid":350234,"project_id":278964,"title":"Move services under /services/service_ping directory into /lib directory","description":"## Background \n\n~\"group::product intelligence\" introduced number of classes implementing various aspects of Service Ping under `/services` directory before convention https://docs.gitlab.com/ee/development/reusing_abstractions.html#service-classes was introduced.\n\n## Goal\n\nMove `app/services/service_ping` directory into `/lib` in spirit of  https://docs.gitlab.com/ee/development/reusing_abstractions.html#service-classes","state":"closed","created_at":"2022-01-13T07:31:47.750Z","updated_at":"2022-05-17T06:15:42.709Z","closed_at":"2022-05-16T06:59:10.412Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["Category:Service Ping","auto updated","backend","devops::growth","group::product intelligence","maintenance::refactor","product intelligence::onboarding issue","section::growth","type::maintenance","workflow::production"],"milestone":null,"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350234","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350234","notes":"https://gitlab.com/api/v4/projects/278964/issues/350234/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350234/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350234","relative":"#350234","full":"gitlab-org/gitlab#350234"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100551801,"iid":350233,"project_id":278964,"title":"[Feature flag] Enable description of header_read_timeout_buffered_io","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to roll out https://gitlab.com/gitlab-org/gitlab/-/issues/336999 on production,\nthat is currently behind the `header_read_timeout_buffered_io` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::integrations\" \n- Most appropriate slack channel to reach out to: `#g_ecosystem_integrations`\n- Best individual to reach out to: `@Andysoiron`\n- PM: `@g.hickman` \n\n## Expectations\n\n### What are we expecting to happen?\n\nThe vulnerability described in https://gitlab.com/gitlab-org/gitlab/-/issues/336999 should be fixed with no other sideeffects.\n\n### What might happen if this goes wrong?\n\nHTTP request might fail with `Gitlab::HTTP::HeaderReadTimeout` or unexpected errors.\n\n### What can we monitor to detect problems with this?\n\n- [Sentry](https://sentry.gitlab.net/gitlab/gitlabcom/)\n\n### What can we check for monitoring production after rollouts?\n\n- [Sentry](https://sentry.gitlab.net/gitlab/gitlabcom/)\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set header_read_timeout_buffered_io true --dev`\n    - [x] `/chatops run feature set header_read_timeout_buffered_io true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/336999) an estimated time this will be enabled on GitLab.com.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - [x] `/chatops run feature set header_read_timeout_buffered_io 10`\n  - [x] `/chatops run feature set header_read_timeout_buffered_io 20`\n  - [x] `/chatops run feature set header_read_timeout_buffered_io 50`\n  - [x] `/chatops run feature set header_read_timeout_buffered_io true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/336999) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/336999) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `header_read_timeout_buffered_io`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set header_read_timeout_buffered_io false\n```","state":"closed","created_at":"2022-01-13T06:35:59.386Z","updated_at":"2022-11-22T19:08:29.218Z","closed_at":"2022-03-18T06:48:05.845Z","closed_by":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"labels":["backend","devops::manage","feature flag","feature::addition","group::integrations","missed:14.8","section::dev","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"}],"author":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350233","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":28,"completed_count":20},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"20 of 28 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350233","notes":"https://gitlab.com/api/v4/projects/278964/issues/350233/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350233/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350233","relative":"#350233","full":"gitlab-org/gitlab#350233"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100548736,"iid":350232,"project_id":278964,"title":"Use GitLab's advisory DB with cluster image scanning","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nSimilar to #349160+, we want Cluster Image Scanning to use the latest advisories from [gemnasium-db](https://gitlab.com/gitlab-org/security-products/gemnasium-db).\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\nWe need to make changes to three components, top-down:\n\n1. The `starboard-operator` Helm chart needs to accept a `dbRepository` value and write it to the `starboard-trivy-config` ConfigMap.\n\n\u003cp\u003e\n\u003cdetails\u003e\n\u003csummary\u003eToggle diff\u003c/summary\u003e\n\n```diff\ndiff --git a/deploy/helm/templates/config.yaml b/deploy/helm/templates/config.yaml\n@@ -57,6 +57,7 @@ data:\n   trivy.nonSslRegistry.{{ $key }}: {{ $registry | quote }}\n   {{- end }}\n   trivy.severity: {{ .severity | quote }}\n+  trivy.dbRepository: {{ .dbRepository | quote }}\n   {{- if .ignoreUnfixed }}\n   trivy.ignoreUnfixed: {{ .ignoreUnfixed | quote }}\n   {{- end }}\n\ndiff --git a/deploy/helm/values.yaml b/deploy/helm/values.yaml\n@@ -166,6 +166,9 @@ trivy:\n   #\n   # serverCustomHeaders: \"foo=bar\"\n\n+  # OCI registry to pull advisory databases from.\n+  dbRepository: \"ghcr.io/aquasecurity/trivy-db\"\n+\n kubeBench:\n   imageRef: docker.io/aquasec/kube-bench:v0.6.5\n```\n\n\u003c/details\u003e\n\u003c/p\u003e\n\n2. The `starboard-operator` program's Trivy plugin needs to read the `dbRepository` value from the ConfigMap and pass it along as a parameter to the `trivy-download-db` initContainers it spawns. This initContainer precedes every container scan and retrieves the advisory database.\n\n\u003cp\u003e\n\u003cdetails\u003e\n\u003csummary\u003eToggle diff\u003c/summary\u003e\n\n```diff\ndiff --git a/pkg/plugin/trivy/plugin.go b/pkg/plugin/trivy/plugin.go\n@@ -43,6 +43,7 @@ const (\n \tkeyTrivyGitHubToken            = \"trivy.githubToken\"\n \tkeyTrivySkipFiles              = \"trivy.skipFiles\"\n \tkeyTrivySkipDirs               = \"trivy.skipDirs\"\n+\tkeyTrivyDBRepository           = \"trivy.dbRepository\"\n \n \tkeyTrivyServerURL           = \"trivy.serverURL\"\n \tkeyTrivyServerTokenHeader   = \"trivy.serverTokenHeader\"\n@@ -205,6 +206,11 @@ func (c Config) setResourceLimit(configKey string, k8sResourceList *corev1.Resou\n \treturn nil\n }\n \n+func (c Config) GetDBRepository() string {\n+\tdbRepository, _ := c.GetRequiredData(keyTrivyDBRepository)\n+\treturn dbRepository\n+}\n+\n type plugin struct {\n \tclock          ext.Clock\n \tidGenerator    ext.IDGenerator\n@@ -238,6 +244,7 @@ func (p *plugin) Init(ctx starboard.PluginContext) error {\n \t\t\tkeyTrivySeverity: \"UNKNOWN,LOW,MEDIUM,HIGH,CRITICAL\",\n \t\t\tkeyTrivyMode:     string(Standalone),\n \t\t\tkeyTrivyTimeout:  \"5m0s\",\n+\t\t\tkeyTrivyDBRepository: \"ghcr.io/aquasecurity/trivy-db\",\n \n \t\t\tkeyResourcesRequestsCPU:    \"100m\",\n \t\t\tkeyResourcesRequestsMemory: \"100M\",\n@@ -405,6 +412,8 @@ func (p *plugin) getPodSpecForStandaloneMode(ctx starboard.PluginContext, config\n \t\t\t\"/tmp/trivy/.cache\",\n \t\t\t\"image\",\n \t\t\t\"--download-db-only\",\n+\t\t\t\"--db-repository\",\n+\t\t\tconfig.GetDBRepository(),\n \t\t},\n \t\tResources: requirements,\n \t\tVolumeMounts: []corev1.VolumeMount{\n@@ -1033,6 +1042,8 @@ func (p *plugin) getPodSpecForStandaloneFSMode(ctx starboard.PluginContext, conf\n \t\t\t\"--download-db-only\",\n \t\t\t\"--cache-dir\",\n \t\t\t\"/var/starboard/trivy-db\",\n+\t\t\t\"--db-repository\",\n+\t\t\tconfig.GetDBRepository(),\n \t\t},\n \t\tResources:    requirements,\n \t\tVolumeMounts: volumeMounts,\n```\n\n\u003c/details\u003e\n\u003c/p\u003e\n\n3. The trivy program needs to accept a new command-line flag `--db-repository` which determines the advisory database OCI registry.\n\n\u003cp\u003e\n\u003cdetails\u003e\n\u003csummary\u003eToggle diff\u003c/summary\u003e\n\n```diff\ndiff --git a/pkg/commands/app.go b/pkg/commands/app.go\n@@ -313,6 +313,13 @@ var (\n                EnvVars: []string{\"TRIVY_INSECURE\"},\n        }\n\n+       dbRepositoryFlag = cli.StringFlag{\n+               Name:    \"db-repository\",\n+               Usage:   \"OCI repository to retrieve trivy-db from\",\n+               Value:   \"ghcr.io/aquasecurity/trivy-db\",\n+               EnvVars: []string{\"TRIVY_DB_REPOSITORY\"},\n+       }\n+\n        // Global flags\n        globalFlags = []cli.Flag{\n                \u0026quietFlag,\n@@ -434,6 +441,7 @@ func NewImageCommand() *cli.Command {\n                        \u0026redisBackendKey,\n                        \u0026offlineScan,\n                        \u0026insecureFlag,\n+                       \u0026dbRepositoryFlag,\n                        stringSliceFlag(skipFiles),\n                        stringSliceFlag(skipDirs),\n                },\n@@ -470,6 +478,7 @@ func NewFilesystemCommand() *cli.Command {\n                        \u0026ignorePolicy,\n                        \u0026listAllPackages,\n                        \u0026offlineScan,\n+                       \u0026dbRepositoryFlag,\n                        stringSliceFlag(skipFiles),\n                        stringSliceFlag(skipDirs),\n                        stringSliceFlag(configPolicy),\ndiff --git a/pkg/commands/artifact/run.go b/pkg/commands/artifact/run.go\n@@ -120,7 +120,7 @@ func initFSCache(c Option) (cache.Cache, error) {\n func initDB(c Option) error {\n        // download the database file\n        noProgress := c.Quiet || c.NoProgress\n-       if err := operation.DownloadDB(c.AppVersion, c.CacheDir, noProgress, c.SkipDBUpdate); err != nil {\n+       if err := operation.DownloadDB(c.AppVersion, c.CacheDir, noProgress, c.SkipDBUpdate, c.DBRepository); err != nil {\n                return err\n        }\n\ndiff --git a/pkg/commands/operation/operation.go b/pkg/commands/operation/operation.go\n@@ -93,7 +93,7 @@ func (c Cache) ClearArtifacts() error {\n }\n\n // DownloadDB downloads the DB\n-func DownloadDB(appVersion, cacheDir string, quiet, skipUpdate bool) error {\n+func DownloadDB(appVersion, cacheDir string, quiet, skipUpdate bool, dbRepository string) error {\n        client := db.NewClient(cacheDir, quiet)\n        ctx := context.Background()\n        needsUpdate, err := client.NeedsUpdate(appVersion, skipUpdate)\n@@ -104,7 +104,8 @@ func DownloadDB(appVersion, cacheDir string, quiet, skipUpdate bool) error {\n        if needsUpdate {\n                log.Logger.Info(\"Need to update DB\")\n                log.Logger.Info(\"Downloading DB...\")\n-               if err = client.Download(ctx, cacheDir); err != nil {\n+               log.Logger.Infof(\"Repository: %s\", dbRepository)\n+               if err = client.Download(ctx, cacheDir, dbRepository); err != nil {\n                        return xerrors.Errorf(\"failed to download vulnerability DB: %w\", err)\n                }\n        }\ndiff --git a/pkg/commands/option/db.go b/pkg/commands/option/db.go\n@@ -14,6 +14,7 @@ type DBOption struct {\n        SkipDBUpdate   bool\n        Light          bool\n        NoProgress     bool\n+       DBRepository   string\n }\n\n // NewDBOption is the factory method to return the DBOption\n@@ -24,6 +25,7 @@ func NewDBOption(c *cli.Context) DBOption {\n                SkipDBUpdate:   c.Bool(\"skip-db-update\"),\n                Light:          c.Bool(\"light\"),\n                NoProgress:     c.Bool(\"no-progress\"),\n+               DBRepository:   c.String(\"db-repository\"),\n        }\n }\n\ndiff --git a/pkg/commands/server/run.go b/pkg/commands/server/run.go\n@@ -40,7 +40,7 @@ func run(c Config) (err error) {\n        }\n\n        // download the database file\n-       if err = operation.DownloadDB(c.AppVersion, c.CacheDir, true, c.SkipDBUpdate); err != nil {\n+       if err = operation.DownloadDB(c.AppVersion, c.CacheDir, true, c.SkipDBUpdate, c.DBRepository); err != nil {\n                return err\n        }\n\ndiff --git a/pkg/db/db.go b/pkg/db/db.go\n@@ -15,15 +15,12 @@ import (\n        \"github.com/aquasecurity/trivy/pkg/log\"\n )\n\n-const (\n-       dbRepository = \"ghcr.io/aquasecurity/trivy-db\"\n-       dbMediaType  = \"application/vnd.aquasec.trivy.db.layer.v1.tar+gzip\"\n-)\n+const dbMediaType = \"application/vnd.aquasec.trivy.db.layer.v1.tar+gzip\"\n\n // Operation defines the DB operations\n type Operation interface {\n        NeedsUpdate(cliVersion string, skip bool) (need bool, err error)\n-       Download(ctx context.Context, dst string) (err error)\n+       Download(ctx context.Context, dst string, dbRepository string) (err error)\n }\n\n type options struct {\n@@ -129,13 +126,13 @@ func (c *Client) isNewDB(meta metadata.Metadata) bool {\n }\n\n // Download downloads the DB file\n-func (c *Client) Download(ctx context.Context, dst string) error {\n+func (c *Client) Download(ctx context.Context, dst string, dbRepository string) error {\n        // Remove the metadata file under the cache directory before downloading DB\n        if err := c.metadata.Delete(); err != nil {\n                log.Logger.Debug(\"no metadata file\")\n        }\n\n-       if err := c.populateOCIArtifact(); err != nil {\n+       if err := c.populateOCIArtifact(dbRepository); err != nil {\n                return xerrors.Errorf(\"OCI artifact error: %w\", err)\n        }\n\n@@ -168,7 +165,7 @@ func (c *Client) updateDownloadedAt(dst string) error {\n        return nil\n }\n\n-func (c *Client) populateOCIArtifact() error {\n+func (c *Client) populateOCIArtifact(dbRepository string) error {\n        if c.artifact == nil {\n                repo := fmt.Sprintf(\"%s:%d\", dbRepository, db.SchemaVersion)\n                art, err := oci.NewArtifact(repo, dbMediaType, c.quiet)\n\ndiff --git a/pkg/rpc/server/listen.go b/pkg/rpc/server/listen.go\n@@ -142,7 +142,7 @@ func (w dbWorker) hotUpdate(ctx context.Context, cacheDir string, dbUpdateWg, re\n        }\n        defer os.RemoveAll(tmpDir)\n\n-       if err = w.dbClient.Download(ctx, tmpDir); err != nil {\n+       if err = w.dbClient.Download(ctx, tmpDir, \"ghcr.io/aquasecurity/trivy-db\"); err != nil {\n                return xerrors.Errorf(\"failed to download vulnerability DB: %w\", err)\n        }\n```\n\n\u003c/details\u003e\n\u003c/p\u003e\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2022-01-13T04:42:18.598Z","updated_at":"2022-06-21T12:07:30.507Z","closed_at":"2022-06-15T17:18:17.260Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Scanning","Deliverable","GitLab Ultimate","backend","devops::govern","feature::enhancement","group::security policies","missed-deliverable","missed:14.10","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":39,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350232","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350232","notes":"https://gitlab.com/api/v4/projects/278964/issues/350232/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350232/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350232","relative":"#350232","full":"gitlab-org/gitlab#350232"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7395,"epic":{"id":421746,"iid":7395,"title":"Use GitLab Advisory DB in Container Scanning","url":"/groups/gitlab-org/-/epics/7395","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100547179,"iid":350227,"project_id":278964,"title":"Update empty state of Slack Application installation page when no projects are available","description":"Fix the following [comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78094#note_808760405) from `@lvanc`:\n\u003e I think for the \"Without projects\" case can be improve by adding some extra text/links around why and how to get projects in that list. This can be a follow up issue.\n\nUsers have to have at least maintainer level access to a project to be able to add Slack, so we can mention that condition here.\n\nWe can also include a link to the documentation for completeness.\n\n### Design source \n:pencil2: [Figma project](https://www.figma.com/file/ykS95bjLoOKpStyfZBOagF/Rebuild%2Frefactor-the-Slack-Application-(%266187)?node-id=1968%3A25287)","state":"closed","created_at":"2022-01-13T03:38:36.241Z","updated_at":"2022-11-22T19:08:29.880Z","closed_at":"2022-06-01T08:05:28.654Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Category:Integrations","Deliverable","Enterprise Edition","Integration::Slack","Technical Writing","UX","devops::manage","frontend","group::integrations","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350227","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350227","notes":"https://gitlab.com/api/v4/projects/278964/issues/350227/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350227/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350227","relative":"#350227","full":"gitlab-org/gitlab#350227"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":936,"epic":{"id":5107,"iid":936,"title":"Slack Integration Backlog","url":"/groups/gitlab-org/-/epics/936","group_id":9970},"iteration":null,"health_status":null},{"id":100535477,"iid":350200,"project_id":278964,"title":"Add `workItemTypes` to `Project` in GraphQL API","description":"Currently, we can only fetch `workItemTypes` for `Group` in GraphQL API. However, to create a work item from the issue context, we need to know which work item types are available on the project scope (as we know nothing about group when we're on the Issue view).","state":"closed","created_at":"2022-01-12T19:45:14.450Z","updated_at":"2022-03-03T21:33:29.903Z","closed_at":"2022-01-18T16:52:44.052Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["GraphQL","auto updated","backend","devops::plan","group::project management","section::dev","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350200","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350200","notes":"https://gitlab.com/api/v4/projects/278964/issues/350200/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350200/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350200","relative":"#350200","full":"gitlab-org/gitlab#350200"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100535168,"iid":350197,"project_id":278964,"title":"Automate Dequarantining end-to-end test cases (v1)","description":"* [x] Define the eligibility criteria for a test to be dequarantined (**10**)\n* [x] Once defined, fetch data only from quarantined jobs\n  * Fetch the last failure issue\n  * Any existing bugs.\n  * v2: Environment it consistently failed in\n* [x] v1 Iteration: Remove the quarantine tag (https://gitlab.com/gitlab-org/quality/confiner/-/merge_requests/12+)\n  * `quarantine: { issue: ‘[ISSUE]’, type: :investigating}`\n* [x] Scalability \n  * [x] Add auto-dequarantining job to GitLab pipelines (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/83455+)\n* Open an MR to dequarantine the test with the above data\n  * [x] v1 Iteration: Bot doesn't mention anyone on the MR.\n  * v2 iteration: Automatically assign the MR to the on-call pipeline DRI for that day.\n  * v3 Iteration: Add this MR to our Pipeline triage weekly report: https://gitlab.com/gitlab-org/quality/pipeline-triage/-/issues/104\n* [x] Define a process for the MR to be reviewed by SETs in a timely fashion.\n  * [x] Update our handbook to add guidelines for the automated test failures / automating quarantining process. (https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/101351+)\n* [x] Conduct an AMA/show and tell in the Bi-Weekly Architectural meeting.","state":"closed","created_at":"2022-01-12T19:33:17.267Z","updated_at":"2022-04-05T19:37:54.169Z","closed_at":"2022-04-05T19:37:54.155Z","closed_by":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"labels":["QA","Quality","feature::addition","maintenance::workflow","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"}],"author":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"type":"ISSUE","assignee":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350197","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350197","notes":"https://gitlab.com/api/v4/projects/278964/issues/350197/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350197/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350197","relative":"#350197","full":"gitlab-org/gitlab#350197"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7372,"epic":{"id":419546,"iid":7372,"title":"Automate quarantining and dequarantining end-to-end tests","url":"/groups/gitlab-org/-/epics/7372","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":100535052,"iid":350196,"project_id":278964,"title":"Automate Quarantining end-to-end test cases (v1)","description":"- [x] Define the eligibility criteria for a testcase to be quarantined (**3**)\n  - Automated test fails 3 amount of times in a given environment\n- [x] Once defined, fetch data required to quarantine the test case (these might already exist)\n  - Fetch the last failure issue\n  - Any existing bugs.\n  - Environment it consistently failed in\n- [x] v1 Iteration: By default set the quarantine type as `investigating` \n   - `quarantine: { issue: ‘[ISSUE]’, type: :investigating}`\n- [x] Scalability - Add Ability to apply to any GitLab project\n  - [x] Create new MVC project (gem)\n  - [x] Add automated rule to GitLab (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/77809)\n  - [ ] Enable automated Quarantine rule (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78092)\n- Open an MR to quarantine the test case with the above data\n  - [x] v1 Iteration: Bot doesnt mention anyone on the MR. \n  - v2 iteration: Automatically assign the MR to the on call pipeline DRI for that day.\n  - v3 Iteration: Add this MR to our Pipeline triage weekly report : https://gitlab.com/gitlab-org/quality/pipeline-triage/-/issues/104 \n- [ ] Define a process for the MR to be reviewed by SETs in a timely fashion.\n  - [ ] Update our handbook to add guidelines for the automated test failures / automating quarantining process (https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/96758).\n- [ ] Conduct an AMA/show and tell in Bi-Weekly Architectural meeting.","state":"closed","created_at":"2022-01-12T19:30:32.743Z","updated_at":"2022-03-16T11:27:41.601Z","closed_at":"2022-01-12T19:55:12.865Z","closed_by":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"labels":["QA","Quality","maintenance::workflow","type::maintenance"],"milestone":null,"assignees":[{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"}],"author":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"type":"ISSUE","assignee":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-01-31","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350196","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":7},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350196","notes":"https://gitlab.com/api/v4/projects/278964/issues/350196/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350196/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/350201"},"references":{"short":"#350196","relative":"#350196","full":"gitlab-org/gitlab#350196"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100527052,"iid":350181,"project_id":278964,"title":"Add who requested attention to the MR List item popover","description":"Follow up to #343327.","state":"closed","created_at":"2022-01-12T16:39:11.688Z","updated_at":"2022-06-28T19:00:22.522Z","closed_at":"2022-06-28T19:00:22.486Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["Technical Writing","devops::create","documentation","frontend","group::code review","missed-deliverable","missed:14.8","section::dev","type::feature"],"milestone":{"id":610592,"iid":24,"group_id":9970,"title":"Awaiting further demand","description":"Indicates that an issue has been triaged, but is not yet on the backlog because it is awaiting further demand from customers.","state":"active","created_at":"2018-08-01T12:23:44.946Z","updated_at":"2018-08-01T12:23:44.946Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/24"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350181","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350181","notes":"https://gitlab.com/api/v4/projects/278964/issues/350181/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350181/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350181","relative":"#350181","full":"gitlab-org/gitlab#350181"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7813,"epic":{"id":485763,"iid":7813,"title":"Attention requests enhancements","url":"/groups/gitlab-org/-/epics/7813","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100524324,"iid":350173,"project_id":278964,"title":"Antivirus trigger an alert (CVE-2021-22204) on my self hosted gitlab","description":"Hi,\nI have a self hosted gitlab in 14.6 which mean im not vulnerable to CVE-2021-22204.\nBut sometimes, antivirus on the server trigger the alert CVE-2021-22204 is exploited :\n\nDetection name : Win32/Exploit.CVE-2021-22204.A\n\nURI of the detection :\n- /tmp/exifremove713970396 (deleted)\n- /var/opt/gitlab/gitlab-rails/uploads/tmp/cute.jpg087827122\n\nWhen i search for the files, they are not in the folder and all seems to be ok\nI think gitlab create this files for a couple of seconds and delete it.\n\nIs it a normal behaviour ?\n\nThanks in advance,","state":"closed","created_at":"2022-01-12T15:56:19.474Z","updated_at":"2022-12-14T18:13:59.782Z","closed_at":"2022-12-14T14:26:57.987Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["backend","customer","devops::create","group::source code","maintenance::refactor","priority::3","section::dev","security","severity::3","spike","type::maintenance","vulnerability interaction","workhorse"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[],"author":{"id":5217257,"username":"Sttiitch","name":"Wallis TOUAZI","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d4f0c19f28751ed82b52fb4ce1135a9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/Sttiitch"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":"2023-01-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350173","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350173","notes":"https://gitlab.com/api/v4/projects/278964/issues/350173/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350173/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350173","relative":"#350173","full":"gitlab-org/gitlab#350173"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100515673,"iid":350162,"project_id":278964,"title":"Add view details button to stacked table to open the drawer on small screens","description":"## Problem to solve\n\nOn small screens, the table moves into a stacked style. Visually, it is not obvious that you can click/tap on the block to open the drawer,\n\n## Proposal\n\nAdd a `View details` button to the bottom of each block which will open/close the drawer.\n\n## Design\n\n![image](/uploads/d972512b656e7339d94a0b868651d431/image.png)\n\n## Implementation\n\n~frontend weight :one: \n\n1. Add button to bottom of each blocks\n1. Open/swap/close the drawer when the button(s) is clicked\n1. Update specs\n\n**We should implement this in https://gitlab.com/gitlab-org/gitlab-ui/**\n\n**Nice to have improvements**\n\n1. Remove the hover state on the blocks (does not show on tap-based devices)\n1. Remove the ability to click on the blocks to open/swap/close the drawer","state":"closed","created_at":"2022-01-12T13:32:54.894Z","updated_at":"2022-03-08T10:48:03.069Z","closed_at":"2022-03-08T10:48:03.052Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Ultimate","devops::manage","feature flag","feature::addition","frontend","group::compliance","priority::3","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350162","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350162","notes":"https://gitlab.com/api/v4/projects/278964/issues/350162/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350162/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350162","relative":"#350162","full":"gitlab-org/gitlab#350162"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6870,"epic":{"id":364935,"iid":6870,"title":"Compliance report merge request violations frontend MVP","url":"/groups/gitlab-org/-/epics/6870","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":100500523,"iid":350136,"project_id":278964,"title":"EventStore - Log first worker argument (event name)","description":"## Problem\n\nWhen a subscriber handles a domain event, the event name and data are passed as parameters. Kibana automatically filters any non-numeric arguments.\n\n![image](/uploads/268f216f7b8c87dc38bc7865a74b166a/image.png)\n\n## Proposal\n\n```ruby\nmodule Gitlab::EventStore::Subscriber\n  include ApplicationWorker\n\n  loggable_arguments 0\nend\n```\n\nAnd remove `include ApplicationWorker` from existing subscribers.","state":"closed","created_at":"2022-01-12T09:35:20.867Z","updated_at":"2022-05-16T10:37:35.804Z","closed_at":"2022-02-10T09:44:41.686Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["backend","devops::verify","event_store","group::pipeline execution","maintenance::refactor","section::ops","type::maintenance"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350136","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350136","notes":"https://gitlab.com/api/v4/projects/278964/issues/350136/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350136/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350136","relative":"#350136","full":"gitlab-org/gitlab#350136"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7364,"epic":{"id":419101,"iid":7364,"title":"EventStore follow-ups","url":"/groups/gitlab-org/-/epics/7364","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":100500143,"iid":350135,"project_id":278964,"title":"Enable autocomplete for Contact","description":"Use newly created endpoint for contact autocomplete (quick action `/add_contact`).","state":"closed","created_at":"2022-01-12T09:29:49.500Z","updated_at":"2022-09-12T15:50:04.969Z","closed_at":"2022-02-10T14:56:43.978Z","closed_by":{"id":1933526,"username":"leetickett","name":"Lee Tickett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1933526/avatar.png","web_url":"https://gitlab.com/leetickett"},"labels":["CRM","Stretch","backend","customer","devops::plan","group::certify","section::dev","type::feature","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350135","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350135","notes":"https://gitlab.com/api/v4/projects/278964/issues/350135/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350135/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350135","relative":"#350135","full":"gitlab-org/gitlab#350135"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7346,"epic":{"id":415604,"iid":7346,"title":"Link external organizations and contacts to issues","url":"/groups/gitlab-org/-/epics/7346","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100499916,"iid":350133,"project_id":278964,"title":"Add endpoint for Contact autocomplete","description":"We need autocomplete for Contacts (`/add_contact` quick action).\n\nThe autocompletes are implemented in https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/projects/autocomplete_sources_controller.rb\n\nChanges need to be done also in the routes and the [ApplicationHelper](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/helpers/application_helper.rb#L379).","state":"closed","created_at":"2022-01-12T09:25:40.011Z","updated_at":"2022-09-12T15:50:05.428Z","closed_at":"2022-01-28T11:18:51.853Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["CRM","Stretch","backend","customer","devops::plan","group::certify","section::dev","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":0,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350133","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350133","notes":"https://gitlab.com/api/v4/projects/278964/issues/350133/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350133/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350133","relative":"#350133","full":"gitlab-org/gitlab#350133"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7346,"epic":{"id":415604,"iid":7346,"title":"Link external organizations and contacts to issues","url":"/groups/gitlab-org/-/epics/7346","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100499302,"iid":350130,"project_id":278964,"title":"EventStore - Static analyzer to ensure `handle_event` is used correctly","description":"## Problem\n\nA subscriber to a domain event is defined by including the module `Gitlab::EventStore::Subscriber`. This will provide a method `handle_event` that should be used for a safer event handling rather than using `perform`. The `handle_event` already has built-in logic to transform the raw parameters from `perform` into an `Gitlab::EventStore::Event` object.\n\n## Proposal\n\nWrite a static analyzer that warns when `perform` method is defined inside a class including `Gitlab::EventStore::Subscriber`:\n\n```ruby\n# bad\nclass MySubscriber\n  include Gitlab::EventStore::Subscriber\n\n  def perform(*args) # \u003c-- raise Rubocop offense\n    # ...\n  end\nend\n```\n\n```ruby\n# good\nclass MySubscriber\n  include Gitlab::EventStore::Subscriber\n \n  def handle_event(event)\n    # ...\n  end\nend\n```","state":"closed","created_at":"2022-01-12T09:15:11.836Z","updated_at":"2022-05-16T10:37:48.639Z","closed_at":"2022-02-15T08:02:12.220Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["backend","event_store","group::pipeline insights","maintenance::refactor","type::maintenance","workflow::in dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350130","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350130","notes":"https://gitlab.com/api/v4/projects/278964/issues/350130/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350130/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350130","relative":"#350130","full":"gitlab-org/gitlab#350130"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7364,"epic":{"id":419101,"iid":7364,"title":"EventStore follow-ups","url":"/groups/gitlab-org/-/epics/7364","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100499230,"iid":350129,"project_id":278964,"title":"EventStore - Extract shared examples to standardise testing","description":"## Problem\n\nTesting correctly that a domain event is published and consumed correctly by the registered subscribers could become complex and prone to human errors.\n\nWe need to ensure that:\n- publishing is tested properly\n- dispatching to subscribers occurs correctly\n- Use `sidekiq_inline` to ensure events are dispatched to subscribers\n- Ensure each subscriber receives the event\n- Ensure each subscriber processes the event without exceptions (e.g. `.and_call_original`)\n\n## Proposal\n\nExtract some shared examples that can be reused when testing any subscriber without an engineer to know how to properly test it all the time. Similar to how to test an idempotent worker.\n\nPerhaps we don't need to test the code end-to-end since the idea of the pub/sub is that the publisher doesn't care who consumes the event.\n\nWe need to test:\n\n- the publisher\n  - ensure that the event can be published without exceptions - this can be a shared example\n  - ensure that all declared events (in the registered subscriptions) are tested - this could be a test that iterates through all subscriptions\n- the subscriber\n  - ensure that all the subscribed events are received correctly once published - this can be a shared example\n  - ensure that all declared subscribers (in the registered subscriptions) are tested - like above, it can be included in the same test that iterates through all the subscriptions","state":"closed","created_at":"2022-01-12T09:14:25.256Z","updated_at":"2022-05-16T10:38:00.472Z","closed_at":"2022-05-06T14:47:51.095Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["backend","event_store","group::not_owned","maintenance::refactor","missed:14.10","missed:14.9","type::maintenance"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350129","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350129","notes":"https://gitlab.com/api/v4/projects/278964/issues/350129/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350129/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350129","relative":"#350129","full":"gitlab-org/gitlab#350129"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7364,"epic":{"id":419101,"iid":7364,"title":"EventStore follow-ups","url":"/groups/gitlab-org/-/epics/7364","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100499206,"iid":350128,"project_id":278964,"title":"EventStore -  Inline UpdateHeadPipelineForMergeRequestWorker within MergeRequests::UpdateHeadPipelineWorker","description":"## Problem\n\nSince [Gitlab::EventStore](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/34042) has been merged we are scheduling `UpdateHeadPipelineForMergeRequestWorker` within the subscriber `MergeRequests::UpdateHeadPipelineWorker`. This double scheduling is not necessary since `MergeRequests::UpdateHeadPipelineWorker` is already a lightweight worker.\n\n## Solution\n\nInline the code of `UpdateHeadPipelineForMergeRequestWorker` within `MergeRequests::UpdateHeadPipelineWorker`","state":"closed","created_at":"2022-01-12T09:13:49.213Z","updated_at":"2022-07-20T12:50:07.579Z","closed_at":"2022-06-21T10:21:54.728Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","backend","devops::verify","event_store","group::pipeline execution","maintenance::refactor","section::ops","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350128","notes":"https://gitlab.com/api/v4/projects/278964/issues/350128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350128","relative":"#350128","full":"gitlab-org/gitlab#350128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7364,"epic":{"id":419101,"iid":7364,"title":"EventStore follow-ups","url":"/groups/gitlab-org/-/epics/7364","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100461696,"iid":350101,"project_id":278964,"title":"gemnasium-python fails to install psycopg2-binary v2.9.2 with pipenv during dependency scanning job","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen integrating [Dependency Scanning](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/index.html#configuration) into a Python project, the job will fail at installing `psycopg2-binary` `2.9.2` with pipenv. Bumping the package version down to `2.8.2` results in a successful installation with pipenv.\n\nReference ticket: [Dependency Scanning - Python Errors](https://gitlab-federal-support.zendesk.com/agent/tickets/2140) (internal link only)\n\n### Steps to reproduce\n\nCreate a project, include `psycopg2-binary = \"==2.9.2\"` in your Pipfile, include the `Security/Dependency-Scanning.gitlab-ci.yml` template in your `.gitlab-ci.yml` file, kick off the job.\n\n### Example Project\n\n  * Project: [Ci-Testing](https://gitlab.com/dcoy/ci-testing/-/tree/python-testing-2140)\n\n### What is the current *bug* behavior?\n`gemnasium-python` cannot install the `psycopg2-binary` when locking the version to `2.9.2` in a Pipfile. If bumped down to `2.8.2`, `gemnasium-python` can install `psycopg2-binary` using `pipenv` and the Dependency Scanning job will succeed.\n\n### What is the expected *correct* behavior?\n`gemnasium-python` should install the `psycopg2-binary` package using `pipenv` from a Pipfile successfully. \n\n### Relevant logs and/or screenshots\nNo logs, however, example pass/fail jobs:\n\n  * Dependency Scanning job **passed** after knocking the `psycopg2-binary` package down to `2.8.2`: [ci-testing/-/jobs/1960020561](https://gitlab.com/dcoy/ci-testing/-/jobs/1960020561)\n  * Dependency Scanning job **failed** after bumping the `psycopg2-binary` package up to `2.9.2`: [ci-testing/-/jobs/1960031813](https://gitlab.com/dcoy/ci-testing/-/jobs/1960031813)\n\n### Output of checks\n\nThis bug happens on GitLab.com and GitLab v14.5.1\n\n#### Results of GitLab environment info\n\n#### Results of GitLab application Check\n\n### Possible fixes\nI'm not sure on this one. I saw that #206952 mentioned that installing the missing OS packages in the `before_script` section of the `gemnasium-python-dependency_scanning`, however, this shouldn't be necessary as the `psycopg2-binary` package circumvents the need to install the missing OS packages.\n\n### Implementation plan\n\nThis dependency does indeed seem to require some `libpq-dev` or a newer version of `pipenv`: https://github.com/pypa/pipenv/issues/3468\n\nThis is why using the `python-3.9` image seems to work.\n\nTherefore, adding troubleshooting steps for this type of error would be helpful.\n\n- [ ] test work-around adding `libpq-dev` when installing `psycopg2-binary` in `python 3.6` Dependency Scanning container (add job output to this issue)\n- [ ] update Dependency Scanning Troubleshooting documentation with the work-around https://docs.gitlab.com/ee/user/application_security/dependency_scanning/","state":"closed","created_at":"2022-01-11T23:43:38.821Z","updated_at":"2022-05-24T12:04:36.009Z","closed_at":"2022-05-13T13:58:11.583Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","approaching-SLO","backend","customer","devops::secure","group::composition analysis","missed-SLO","priority::2","section::sec","severity::2","type::bug","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":2889973,"username":"dcoy","name":"David Coy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/40d9e7d58cfa651b066e123418e68243?s=80\u0026d=identicon","web_url":"https://gitlab.com/dcoy"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":20,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350101","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350101","notes":"https://gitlab.com/api/v4/projects/278964/issues/350101/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350101/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350101","relative":"#350101","full":"gitlab-org/gitlab#350101"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":100461239,"iid":350099,"project_id":278964,"title":"Docs: Cluster Image Scanning: Cluster Detail Page","description":"### Problem to solve\n\nAdd docs for the new Cluster Image Scanning: Cluster Detail Page\n\n### Further details\n\n\n\n### Proposal\n\n\u003c!-- Further specifics for how can we solve the problem. --\u003e\n\n### Who can address the issue\n\n\u003c!-- What if any special expertise is required to resolve this issue? --\u003e\n\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e","state":"closed","created_at":"2022-01-11T23:21:07.015Z","updated_at":"2022-02-11T18:53:59.901Z","closed_at":"2022-02-11T18:53:59.233Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Technical Writing","devops::govern","documentation","group::security policies","missed:14.7","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":610592,"iid":24,"group_id":9970,"title":"Awaiting further demand","description":"Indicates that an issue has been triaged, but is not yet on the backlog because it is awaiting further demand from customers.","state":"active","created_at":"2018-08-01T12:23:44.946Z","updated_at":"2018-08-01T12:23:44.946Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/24"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350099","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350099","notes":"https://gitlab.com/api/v4/projects/278964/issues/350099/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350099/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350099","relative":"#350099","full":"gitlab-org/gitlab#350099"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6346,"epic":{"id":307318,"iid":6346,"title":"Cluster Image Scanning: Cluster Detail Page","url":"/groups/gitlab-org/-/epics/6346","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100459340,"iid":350094,"project_id":278964,"title":"Remove callout and replace with help text for personal access tokens","description":"## Problem to solve\n\nA callout is presented to the user when the maximum lifetime of an access token is set, which does not conform to Pajamas.\n\n## Proposal\n\n- Restrict the datepicker from allowing a user to pick a date later than the maximum life\n- Replace the callout with a description field\n  - Add 1 day to maximum lifetime count, for example a user can create an access token for 2022-01-12\n\n| Before | After no expiration | After with expiration enforcement |\n| ------ | ------------------- | --------------------------------- |\n| ![Screenshot_2022-01-11_at_16-31-58_Personal_Access_Tokens___User_Settings](/uploads/287a831075536b8eaf60e1202c9aeb17/Screenshot_2022-01-11_at_16-31-58_Personal_Access_Tokens___User_Settings.png) | ![Text_input](/uploads/d7f1cb15647828d9cd27c281106b3cf4/Text_input.png) | ![Text_input-1](/uploads/e4ecccad666aa3eca8fee3d29f648799/Text_input-1.png) |\n\n## Implementation plan\n\n- Create a `parseExpiresAtFieldData` util in `app/assets/javascripts/access_tokens/utils.js` and `ee/app/assets/javascripts/access_tokens/utils.js`. Use that util in [app/assets/javascripts/access_tokens/index.js#L19](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/access_tokens/index.js#L19)\n- Create a `_expires_at_field.html.haml` partial in `app/views/shared/access_tokens` and `ee/app/views/shared/access_tokens`. Add [app/views/shared/access_tokens/_form.html.haml#L32](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/access_tokens/_form.html.haml#L32) to these partials.\n- Pass the value of the `max_personal_access_token_lifetime` to mount element in `ee/app/views/shared/access_tokens`\n- Inject `maxDate` into [app/assets/javascripts/access_tokens/components/expires_at_field.vue](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/access_tokens/components/expires_at_field.vue).\n- Pass `maxDate` as a prop to `GlDatepicker`","state":"closed","created_at":"2022-01-11T22:03:44.459Z","updated_at":"2022-04-25T19:38:01.911Z","closed_at":"2022-03-11T21:39:27.194Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Authentication and Authorization","SUS::Impacting","Technical Writing","UI polish","UI text","UX","auto updated","candidate::14.9","devops::manage","frontend","group::authentication and authorization","section::dev","severity::4","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350094","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350094","notes":"https://gitlab.com/api/v4/projects/278964/issues/350094/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350094/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350094","relative":"#350094","full":"gitlab-org/gitlab#350094"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100458991,"iid":350092,"project_id":278964,"title":"Security::Ingestion::IngestReportSliceService causes CrossDatabaseModificationAcrossUnsupportedTablesError due to ApplicationRecord.transaction and ci_pipelines.","description":"[Security::Ingestion::IngestReportSliceService](ee/app/services/security/ingestion/ingest_report_slice_service.rb) causes CrossDatabaseModificationAcrossUnsupportedTablesError due to `ApplicationRecord.transaction` and modifying `ci_pipelines`.\n\nDue to up-coming decomposed CI database, this combination may cause issues as the write to `ci_pipelines` (which will be in the CI database) will not be able to be rolled back correctly because it is in the wrong transaction\n\n```\n$ bin/rspec ee/spec/services/security/ingestion/ingest_report_slice_service_spec.rb\nRun options: include {:focus=\u003etrue}\n\nAll examples were filtered out; ignoring {:focus=\u003etrue}\n\nTest environment set up in 7.930849 seconds\n.F\n\nFailures:\n\n  1) Security::Ingestion::IngestReportSliceService#execute when an exception happens rollsback the recent changes to not to leave the database in an inconsistent state\n     Failure/Error:\n       expect { ingest_report_slice }.to raise_error('foo')\n                                     .and not_change { pipeline.reload.updated_at }\n     \n       expected Exception with \"foo\", got #\u003cGitlab::Database::QueryAnalyzers::PreventCrossDatabaseModification::CrossDatabaseModificationAcross...e_databases.html#removing-cross-database-transactions for details on how to resolve this exception.\u003e with backtrace:\n         # ./lib/gitlab/database/query_analyzers/prevent_cross_database_modification.rb:119:in `analyze'\n         # ./lib/gitlab/database/query_analyzer.rb:63:in `block in process_sql'\n         # ./lib/gitlab/database/query_analyzer.rb:60:in `each'\n         # ./lib/gitlab/database/query_analyzer.rb:60:in `process_sql'\n         # ./lib/gitlab/database/query_analyzer.rb:28:in `block (2 levels) in hook!'\n         # ./lib/gitlab/database/query_analyzer.rb:122:in `with_ignored_recursive_calls'\n         # ./lib/gitlab/database/query_analyzer.rb:27:in `block in hook!'\n         # ./lib/gitlab/database/load_balancing/connection_proxy.rb:126:in `block in write_using_load_balancer'\n         # ./lib/gitlab/database/load_balancing/load_balancer.rb:112:in `block in read_write'\n         # ./lib/gitlab/database/load_balancing/load_balancer.rb:172:in `retry_with_backoff'\n         # ./lib/gitlab/database/load_balancing/load_balancer.rb:110:in `read_write'\n         # ./lib/gitlab/database/load_balancing/connection_proxy.rb:125:in `write_using_load_balancer'\n         # ./lib/gitlab/database/load_balancing/connection_proxy.rb:67:in `block (2 levels) in \u003cclass:ConnectionProxy\u003e'\n         # ./ee/spec/services/security/ingestion/ingest_report_slice_service_spec.rb:43:in `block (5 levels) in \u003ctop (required)\u003e'\n         # ./ee/app/services/security/ingestion/ingest_report_slice_service.rb:47:in `execute_task'\n         # ./ee/app/services/security/ingestion/ingest_report_slice_service.rb:37:in `block (2 levels) in execute'\n         # ./ee/app/services/security/ingestion/ingest_report_slice_service.rb:37:in `each'\n         # ./ee/app/services/security/ingestion/ingest_report_slice_service.rb:37:in `block in execute'\n         # ./app/models/concerns/cross_database_modification.rb:18:in `block in transaction'\n         # ./lib/gitlab/database/load_balancing/connection_proxy.rb:126:in `block in write_using_load_balancer'\n         # ./lib/gitlab/database/load_balancing/load_balancer.rb:112:in `block in read_write'\n         # ./lib/gitlab/database/load_balancing/load_balancer.rb:172:in `retry_with_backoff'\n         # ./lib/gitlab/database/load_balancing/load_balancer.rb:110:in `read_write'\n         # ./lib/gitlab/database/load_balancing/connection_proxy.rb:125:in `write_using_load_balancer'\n         # ./lib/gitlab/database/load_balancing/connection_proxy.rb:77:in `transaction'\n         # ./lib/gitlab/database.rb:265:in `block in transaction'\n         # ./lib/gitlab/database.rb:264:in `transaction'\n         # ./app/models/concerns/cross_database_modification.rb:13:in `transaction'\n         # ./ee/app/services/security/ingestion/ingest_report_slice_service.rb:36:in `execute'\n         # ./ee/spec/services/security/ingestion/ingest_report_slice_service_spec.rb:11:in `block (3 levels) in \u003ctop (required)\u003e'\n         # ./ee/spec/services/security/ingestion/ingest_report_slice_service_spec.rb:51:in `block (5 levels) in \u003ctop (required)\u003e'\n         # ./ee/spec/services/security/ingestion/ingest_report_slice_service_spec.rb:51:in `block (4 levels) in \u003ctop (required)\u003e'\n         # ./spec/spec_helper.rb:411:in `block (3 levels) in \u003ctop (required)\u003e'\n         # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n         # ./spec/spec_helper.rb:402:in `block (2 levels) in \u003ctop (required)\u003e'\n         # ./spec/spec_helper.rb:398:in `block (3 levels) in \u003ctop (required)\u003e'\n         # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n         # ./spec/spec_helper.rb:398:in `block (2 levels) in \u003ctop (required)\u003e'\n         # ./spec/support/database/prevent_cross_joins.rb:106:in `block (3 levels) in \u003cmain\u003e'\n         # ./spec/support/database/prevent_cross_joins.rb:60:in `with_cross_joins_prevented'\n         # ./spec/support/database/prevent_cross_joins.rb:106:in `block (2 levels) in \u003cmain\u003e'\n     # ./ee/spec/services/security/ingestion/ingest_report_slice_service_spec.rb:51:in `block (4 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:411:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:402:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:398:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n     # ./spec/spec_helper.rb:398:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:60:in `with_cross_joins_prevented'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (2 levels) in \u003cmain\u003e'\n\nFinished in 14.65 seconds (files took 11.77 seconds to load)\n2 examples, 1 failure\n\nFailed examples:\n\nrspec ./ee/spec/services/security/ingestion/ingest_report_slice_service_spec.rb:50 # Security::Ingestion::IngestReportSliceService#execute when an exception happens rollsback the recent changes to not to leave the database in an inconsistent state\n\n```\n\n## Potential solution\n\nThe issue only exists in specs (mocked execution). We just need to update the specs following https://gitlab.com/gitlab-org/gitlab/-/issues/350092#note_807677763\n\n## See also\n\n* https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76717\n* https://gitlab.com/gitlab-org/gitlab/-/issues/347368\n\n## Implementation Plan\n\n- ~backend Fix spec in https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/services/security/ingestion/ingest_report_slice_service_spec.rb#L43 as discussed in https://gitlab.com/gitlab-org/gitlab/-/issues/350092#note_807677763","state":"closed","created_at":"2022-01-11T21:55:38.782Z","updated_at":"2022-03-16T11:27:46.044Z","closed_at":"2022-02-01T11:41:52.855Z","closed_by":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"labels":["auto updated","backend","ci-decomposition","ci-decomposition::phase4","devops::secure","group::threat insights","quad-planning::complete-no-action","section::sec","type::maintenance"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350092","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350092","notes":"https://gitlab.com/api/v4/projects/278964/issues/350092/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350092/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350092","relative":"#350092","full":"gitlab-org/gitlab#350092"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6373,"epic":{"id":309455,"iid":6373,"title":"Decomposition: Make Secure features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6373","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100458703,"iid":350091,"project_id":278964,"title":"Gitlab::ImportExport::ObjectBuilder causes CrossDatabaseModificationAcrossUnsupportedTablesError","description":"[Gitlab::ImportExport::ObjectBuilder](lib/gitlab/import_export/project/object_builder.rb) causes CrossDatabaseModificationAcrossUnsupportedTablesError due to `Project.transaction` and `external_pull_requests`.\n\nDue to up-coming decomposed CI database, this combination may cause issues as the write to `external_pull_requests` (which will be in the CI database) will not be able to be rolled back correctly because it is in the wrong transaction\n\n## To reproduce\n\n1. Checkout https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76717\n1. Comment out `allow_cross_database_modification_within_transaction` like:\n\n```diff\ndiff --git a/lib/gitlab/import_export/project/object_builder.rb b/lib/gitlab/import_export/project/object_builder.rb\nindex 1baad4d3aaa..20aea460c8a 100644\n--- a/lib/gitlab/import_export/project/object_builder.rb\n+++ b/lib/gitlab/import_export/project/object_builder.rb\n@@ -14,11 +14,11 @@ module Project\n       # It also adds some logic around Group Labels/Milestones for edge cases.\n       class ObjectBuilder \u003c Base::ObjectBuilder\n         def self.build(*args)\n-          ::Gitlab::Database::QueryAnalyzers::PreventCrossDatabaseModification.allow_cross_database_modification_within_transaction(url: 'https://gitlab.com/gitlab-org/gitlab/-/issues/350091') do\n+          #::Gitlab::Database::QueryAnalyzers::PreventCrossDatabaseModification.allow_cross_database_modification_within_transaction(url: 'https://gitlab.com/gitlab-org/gitlab/-/issues/350091') do\n             ::Project.transaction do\n               super\n             end\n-          end\n+          #end\n         end\n \n         def initialize(klass, attributes)\n```\n\n3. Run the spec/lib/gitlab/import_export/project/tree_restorer_spec.rb spec. You will see an error like:\n\n```\n  1) Gitlab::ImportExport::Project::TreeRestorer enable ndjson import behaves like project tree restorer work properly Light JSON multiple pipelines reference the same external pull request restores external pull request for the restored pipelines\n     Failure/Error: raise CrossDatabaseModificationAcrossUnsupportedTablesError, message\n     \n     Gitlab::Database::QueryAnalyzers::PreventCrossDatabaseModification::CrossDatabaseModificationAcrossUnsupportedTablesError:\n       Cross-database data modification of 'gitlab_ci, gitlab_main' were detected within a transaction modifying the 'external_pull_requests' tables.Please refer to https://docs.gitlab.com/ee/development/database/multiple_databases.html#removing-cross-database-transactions for details on how to resolve this exception.\n     Shared Example Group: \"project tree restorer work properly\" called from ./spec/lib/gitlab/import_export/project/tree_restorer_spec.rb:1062\n     # ./lib/gitlab/database/query_analyzers/prevent_cross_database_modification.rb:101:in `analyze'\n     # ./lib/gitlab/database/query_analyzer.rb:63:in `block in process_sql'\n     # ./lib/gitlab/database/query_analyzer.rb:60:in `each'\n     # ./lib/gitlab/database/query_analyzer.rb:60:in `process_sql'\n     # ./lib/gitlab/database/query_analyzer.rb:28:in `block (2 levels) in hook!'\n     # ./lib/gitlab/database/query_analyzer.rb:122:in `with_ignored_recursive_calls'\n     # ./lib/gitlab/database/query_analyzer.rb:27:in `block in hook!'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:126:in `block in write_using_load_balancer'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:112:in `block in read_write'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:172:in `retry_with_backoff'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:110:in `read_write'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:125:in `write_using_load_balancer'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:67:in `block (2 levels) in \u003cclass:ConnectionProxy\u003e'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:126:in `block in write_using_load_balancer'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:112:in `block in read_write'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:172:in `retry_with_backoff'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:110:in `read_write'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:125:in `write_using_load_balancer'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:77:in `transaction'\n     # ./lib/gitlab/import_export/base/object_builder.rb:34:in `block in find'\n     # ./lib/gitlab/import_export/base/object_builder.rb:51:in `find_with_cache'\n     # ./lib/gitlab/import_export/base/object_builder.rb:33:in `find'\n     # ./lib/gitlab/import_export/project/object_builder.rb:36:in `find'\n     # ./lib/gitlab/import_export/base/object_builder.rb:19:in `build'\n     # ./lib/gitlab/import_export/project/object_builder.rb:19:in `block in build'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:126:in `block in write_using_load_balancer'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:112:in `block in read_write'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:172:in `retry_with_backoff'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:110:in `read_write'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:125:in `write_using_load_balancer'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:77:in `transaction'\n     # ./lib/gitlab/database.rb:265:in `block in transaction'\n     # ./lib/gitlab/database.rb:264:in `transaction'\n     # ./app/models/concerns/cross_database_modification.rb:20:in `transaction'\n     # ./lib/gitlab/import_export/project/object_builder.rb:18:in `build'\n     # ./lib/gitlab/import_export/base/relation_factory.rb:254:in `find_or_create_object!'\n     # ./lib/gitlab/import_export/base/relation_factory.rb:232:in `existing_object'\n     # ./lib/gitlab/import_export/base/relation_factory.rb:211:in `existing_or_new_object'\n     # ./lib/gitlab/import_export/base/relation_factory.rb:172:in `imported_object'\n     # ./lib/gitlab/import_export/base/relation_factory.rb:138:in `generate_imported_object'\n     # ./lib/gitlab/import_export/project/relation_factory.rb:100:in `generate_imported_object'\n     # ./lib/gitlab/import_export/base/relation_factory.rb:79:in `create'\n     # ./lib/gitlab/import_export/project/relation_factory.rb:67:in `create'\n     # ./lib/gitlab/import_export/base/relation_factory.rb:35:in `create'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:179:in `build_relation'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:76:in `process_relation_item!'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:71:in `block in process_relation!'\n     # ./lib/gitlab/import_export/json/legacy_reader.rb:93:in `\u003c\u003c'\n     # ./lib/gitlab/import_export/json/legacy_reader.rb:93:in `block (2 levels) in consume_relation'\n     # ./lib/gitlab/import_export/json/legacy_reader.rb:92:in `each'\n     # ./lib/gitlab/import_export/json/legacy_reader.rb:92:in `with_index'\n     # ./lib/gitlab/import_export/json/legacy_reader.rb:92:in `block in consume_relation'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:70:in `each'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:70:in `each'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:70:in `process_relation!'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:65:in `block in create_relations!'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:64:in `each'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:64:in `create_relations!'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:38:in `block (3 levels) in restore'\n     # ./app/models/concerns/bulk_insertable_associations.rb:54:in `with_bulk_insert'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:36:in `block (2 levels) in restore'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:33:in `block in restore'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:126:in `block in write_using_load_balancer'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:112:in `block in read_write'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:172:in `retry_with_backoff'\n     # ./lib/gitlab/database/load_balancing/load_balancer.rb:110:in `read_write'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:125:in `write_using_load_balancer'\n     # ./lib/gitlab/database/load_balancing/connection_proxy.rb:95:in `method_missing'\n     # ./lib/gitlab/import_export/group/relation_tree_restorer.rb:32:in `restore'\n     # ./lib/gitlab/import_export/project/tree_restorer.rb:33:in `restore'\n     # ./spec/lib/gitlab/import_export/project/tree_restorer_spec.rb:543:in `block (4 levels) in \u003ctop (required)\u003e'\n     # ./spec/lib/gitlab/import_export/project/tree_restorer_spec.rb:595:in `block (5 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:411:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:402:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:398:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n     # ./spec/spec_helper.rb:398:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/support/database/prevent_cross_joins.rb:60:in `with_cross_joins_prevented'\n     # ./spec/support/database/prevent_cross_joins.rb:106:in `block (2 levels) in \u003cmain\u003e'\n\n```\n\n## Potential solution\n\nUnclear. Perhaps we may need to extract out ObjectBuilder for CI tables to its own builder object.\n\n\n## See also\n\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76717\n- https://gitlab.com/gitlab-org/gitlab/-/issues/347368","state":"closed","created_at":"2022-01-11T21:45:23.282Z","updated_at":"2022-01-31T10:09:48.299Z","closed_at":"2022-01-31T10:09:48.278Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Importer:Project Export/Import","Next Up","auto updated","ci-decomposition","ci-decomposition::phase4","devops::manage","group::import","milestone::p1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350091","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350091","notes":"https://gitlab.com/api/v4/projects/278964/issues/350091/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350091/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350091","relative":"#350091","full":"gitlab-org/gitlab#350091"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6168,"epic":{"id":287568,"iid":6168,"title":"Decompose GitLab.com's database to improve scalability","url":"/groups/gitlab-org/-/epics/6168","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100458321,"iid":350089,"project_id":278964,"title":"GitLab Migration - Update user documentation","description":"## Problem to solve\n\nPer [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/339412#note_776837370) and [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/339411#note_777016840), our [user documentation](https://docs.gitlab.com/ee/user/group/import/) of GitLab Migration is outdated.\n\n## Proposed Solution\n\nUpdate the [user documentation](https://docs.gitlab.com/ee/user/group/import/) to ensure that it reflects all the work done in https://gitlab.com/groups/gitlab-org/-/epics/6681.\n\nIf needed, update the [development docs](https://docs.gitlab.com/ee/development/bulk_import.html), as well.\n\n## Documentation\n\nFollowing documentation should be updated with the objects/fields added in this issue:\n* [x] User docs: https://docs.gitlab.com/ee/user/group/import/\n* [x] Dev docs: https://docs.gitlab.com/ee/development/bulk_import.html\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-01-11T21:39:08.000Z","updated_at":"2022-12-15T11:21:11.554Z","closed_at":"2022-06-14T12:40:22.479Z","closed_by":{"id":11342168,"username":"carlad-gl","name":"Carla Drago","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11342168/avatar.png","web_url":"https://gitlab.com/carlad-gl"},"labels":["Category:Importers","Deliverable","GitLab Core","Importer:GitLab Migration","Next Up","backend","devops::manage","direction","documentation","group::import","milestone::p2","missed-deliverable","missed:14.10","missed:14.8","missed:14.9","missed:15.0","quad-planning::complete-no-action","section::dev","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350089","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350089","notes":"https://gitlab.com/api/v4/projects/278964/issues/350089/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350089/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350089","relative":"#350089","full":"gitlab-org/gitlab#350089"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6681,"epic":{"id":342210,"iid":6681,"title":"GitLab Migration - Migrate Projects MVC","url":"/groups/gitlab-org/-/epics/6681","group_id":9970,"human_readable_end_date":"Dec 7, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100442096,"iid":350055,"project_id":278964,"title":"Use default_enabled: yaml for usage_data increment_counter API","description":"# Summary\n\nUse the default value for the feature flag defined in YAML for events tracked using Redis API\n\n`POST /usage_data/increment_counter`\n\nhttps://docs.gitlab.com/ee/development/service_ping/implement.html#usagedata-api-tracking\n\n# Why?\n\nCurrently is not possible to enable feature flags for events that are tracking events using this method for self-managed instances. \n\n# Details\n\nWith this method, we track the regular Redis counter. Each time a post request is received we increment a counter with the name of the event.\n\nFor example [`usage_data_static_site_editor_commits`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/feature_flags/development/usage_data_static_site_editor_commits.yml) it is not possible to enable the feature flag for self-managed instances and have data in Service Ping for them.\n\nMore events using this API are added with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/77866\n\nRelated MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/77866\n\nThe initial implementation was done [here](https://gitlab.com/gitlab-org/gitlab/-/commit/9455a8b52ecb0e2f63ae1ca8a5453765868c664b)","state":"closed","created_at":"2022-01-11T16:03:49.886Z","updated_at":"2022-01-31T10:57:29.612Z","closed_at":"2022-01-31T10:57:29.594Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["backend","devops::growth","feature flag","group::product intelligence","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350055","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350055","notes":"https://gitlab.com/api/v4/projects/278964/issues/350055/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350055/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350055","relative":"#350055","full":"gitlab-org/gitlab#350055"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100431501,"iid":350038,"project_id":278964,"title":"Planning for suggested reviewers","description":"## Background\n\nIn https://gitlab.com/gitlab-org/ux-research/-/issues/1664 designs for the upcoming suggested reviewers feature were validated. This work now needs to be broken down in to deliverable pieces for implementation in future milestones\n\n1. Validation: https://gitlab.com/gitlab-org/ux-research/-/issues/1664\n1. Designs: https://gitlab.com/gitlab-org/gitlab/-/issues/341873","state":"closed","created_at":"2022-01-11T14:15:32.703Z","updated_at":"2022-02-18T07:01:12.560Z","closed_at":"2022-02-17T14:32:35.837Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Review Workflow","Deliverable","auto updated","devops::create","frontend","group::code review","section::dev","spike","type::feature","workflow::planning breakdown"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":7,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/350038","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/350038","notes":"https://gitlab.com/api/v4/projects/278964/issues/350038/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/350038/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#350038","relative":"#350038","full":"gitlab-org/gitlab#350038"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6113,"epic":{"id":282909,"iid":6113,"title":"Applied ML customer facing MVC of integration of unreview","url":"/groups/gitlab-org/-/epics/6113","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100425223,"iid":349988,"project_id":278964,"title":"Leverage ETag caching in on-demand scans index page","description":"The on-demand scans index page shows lists of scans that are being kept up-to-date by polling the API every second. This can have a significant performance impact as this results in the DB being hit on every API call.\n\nTo reduce the server load, let's leverage ETag caching as well as a visibility check to pause the polling when the browser tab is hidden.\n\nWe have done something similar to fetch pipeline counts in the same page, so the same logic can be reused.\n\n* [x] API calls leverage ETag caching.\n* [x] Polling is paused when the browser tab is hidden.\n* [x] Increase polling interval.","state":"closed","created_at":"2022-01-11T12:48:17.448Z","updated_at":"2022-01-19T18:53:28.969Z","closed_at":"2022-01-19T09:23:37.287Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","Deliverable","devops::secure","group::dynamic analysis","performance-refinement","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/349988","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/349988","notes":"https://gitlab.com/api/v4/projects/278964/issues/349988/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/349988/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#349988","relative":"#349988","full":"gitlab-org/gitlab#349988"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":100424833,"iid":349986,"project_id":278964,"title":"Remove using distinct sql clause for Environment associations preloading","description":"As part of [`last_deployment`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/environment.rb#L29) association we were using `DISTINCT ON` SQL\n\n```sql\nSELECT\n    DISTINCT ON (environment_id) deployments.*\nFROM\n    \"deployments\"\nWHERE\n    \"deployments\".\"status\" = 2\n    AND \"deployments\".\"environment_id\" IN (137, 8098355)\nORDER BY\n    environment_id,\n    deployments.id DESC\n```\nand it is not good in terms of performance. See issue https://gitlab.com/gitlab-org/gitlab/-/issues/345672\n\nWe are [introducing](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75767) a custom preloader which does preload `with_union` and it is more efficient. So clean up the other places (old callers) where [`distinct_on_environment`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/deployment.rb#L166) is used.\n\nMore details: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75767#note_806416386","state":"closed","created_at":"2022-01-11T12:41:14.583Z","updated_at":"2022-08-05T10:07:46.835Z","closed_at":"2022-08-05T10:07:46.815Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Environment Management","Release::P2","auto updated","devops::release","group::release","maintenance::refactor","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/349986","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/349986","notes":"https://gitlab.com/api/v4/projects/278964/issues/349986/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/349986/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#349986","relative":"#349986","full":"gitlab-org/gitlab#349986"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8433,"epic":{"id":572223,"iid":8433,"title":"Resolve Environment Serializer's complexity and fragility","url":"/groups/gitlab-org/-/epics/8433","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100423365,"iid":349977,"project_id":278964,"title":"[Feature flag] Rollout of `ci_order_subsequent_jobs_by_stage`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\n`ci_order_subsequent_jobs_by_stage`\n\n- Introduced in: !77528\n- Bug issue: #341561\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n- PM: `@dhershkovitch`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\nWe should not see an increase of 500 statuses...\n\n* `Projects::PipelinesController#retry` =\u003e https://log.gprd.gitlab.net/goto/bac2a11bcfe899fe231cc1ead3715cea\n* `Projects::JobsController#retry` =\u003e https://log.gprd.gitlab.net/goto/b6ff8889b6f9ce43b3923e1057cd82e5\n* `Projects::JobsController#play` =\u003e https://log.gprd.gitlab.net/goto/ae7e1c66c95871772c3f02fe9ef8fbe3\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_order_subsequent_jobs_by_stage true --dev`\n    - [x] `/chatops run feature set ci_order_subsequent_jobs_by_stage true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab ci_order_subsequent_jobs_by_stage true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss ci_order_subsequent_jobs_by_stage true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com ci_order_subsequent_jobs_by_stage true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org ci_order_subsequent_jobs_by_stage true`\n    - [ ] `/chatops run feature set --group=gitlab-com ci_order_subsequent_jobs_by_stage true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e ci_order_subsequent_jobs_by_stage true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set ci_order_subsequent_jobs_by_stage \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_order_subsequent_jobs_by_stage \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_order_subsequent_jobs_by_stage true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_order_subsequent_jobs_by_stage`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_order_subsequent_jobs_by_stage` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete ci_order_subsequent_jobs_by_stage --dev`\n    - [x] `/chatops run feature delete ci_order_subsequent_jobs_by_stage --staging`\n    - [x] `/chatops run feature delete ci_order_subsequent_jobs_by_stage`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_order_subsequent_jobs_by_stage false\n```","state":"closed","created_at":"2022-01-11T12:16:13.966Z","updated_at":"2022-03-06T18:40:29.705Z","closed_at":"2022-02-09T20:15:04.669Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["DEPRECATE_pipeline authoring","backend","feature flag","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/349977","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":15},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"15 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/349977","notes":"https://gitlab.com/api/v4/projects/278964/issues/349977/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/349977/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#349977","relative":"#349977","full":"gitlab-org/gitlab#349977"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100420662,"iid":349975,"project_id":278964,"title":"Puma Errors: failing requests Projects::Ci::PipelineEditorController#show","description":"As a part of investigating our error budget we would like to look into the failing requests for `Projects::Ci::PipelineEditorController#show\n `\n\n\n| Enpoint | 7days average| User Impact\n| ------ | ------ |-----|\n| Projects::Ci::PipelineEditorController#show| | Is there a user impact? |\n\n### Investigation\n| Description | Issue link |\n| ------ | ------ |\n| GroupDestroyWorker failure - ci_pipeline_variables (reassigned to ~\"group::workspace\") | ~~https://gitlab.com/gitlab-org/gitlab/-/issues/346170~~ |\n| Sidekiq Execution Apdex: slow jobs for Ci::ExternalPullRequests::CreatePipelineWorker | https://gitlab.com/gitlab-org/gitlab/-/issues/349976 |\n| Puma Errors: failing requests for GraphqlController#execute | https://gitlab.com/gitlab-org/gitlab/-/issues/349973 |\n| Puma Apdex: slow requests GET /api/:version/projects/:id/ci/lint | https://gitlab.com/gitlab-org/gitlab/-/issues/349971 |\n| Puma Errors: failing requests for GET /api/:version/projects/:id/ci/lint | https://gitlab.com/gitlab-org/gitlab/-/issues/349972 |\n| Puma Errors: failing requests for Projects::Ci::LintsController#create | https://gitlab.com/gitlab-org/gitlab/-/issues/349974 |\n| **Puma Errors: failing requests Projects::Ci::PipelineEditorController#show** | :point_left: You are here  |\n| Puma Apdex: slow requests GET /api/:version/projects/:id/variables | https://gitlab.com/gitlab-org/gitlab/-/issues/349970 |\n| Puma Apdex: slow requests for GET /api/:version/projects/:id/pipelines/:pipeline_id/variables | https://gitlab.com/gitlab-org/gitlab/-/issues/349969 |\n| Puma Apdex: slow requests for GraphqlController#execute: getCiConfigData and getPipeline | https://gitlab.com/gitlab-org/gitlab/-/issues/349968 |\n| Puma Apdex: failing requests for GraphqlController#execute: getCiConfigData - conversion exceptions | https://gitlab.com/gitlab-org/gitlab/-/issues/362547 |","state":"closed","created_at":"2022-01-11T11:40:36.408Z","updated_at":"2022-05-16T20:13:12.672Z","closed_at":"2022-02-16T20:51:23.899Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Error Budgets","Category:Pipeline Authoring","Error Budget Improvement","auto updated","backend","devops::verify","group::pipeline authoring","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/349975","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/349975","notes":"https://gitlab.com/api/v4/projects/278964/issues/349975/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/349975/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#349975","relative":"#349975","full":"gitlab-org/gitlab#349975"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7360,"epic":{"id":418350,"iid":7360,"title":"Investigate PA error budget","url":"/groups/gitlab-org/-/epics/7360","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":{"id":42490,"iid":50,"sequence":9,"group_id":9970,"title":"Pipeline Authoring: February 7, 2022 - February 20, 2022","description":"Target milestone `14.9`","state":3,"created_at":"2021-12-12T00:05:02.309Z","updated_at":"2022-02-21T00:05:02.227Z","start_date":"2022-02-07","due_date":"2022-02-20","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/42490"},"health_status":"on_track"},{"id":100402948,"iid":349953,"project_id":278964,"title":"Redirect user to the blob page instead if the WebIDE after Replace/Delete","description":"### Description\n\nAs part of the [ongoing blob refactor](https://gitlab.com/groups/gitlab-org/-/epics/5531) when a user tries to Replace or Delete a blob in a project to which the user does not have access to we currently redirect the user to the WebIDE instead of the blob after the project has been forked.\n\nWe need to ensure that the user is redirected to the view blob page after a successful fork.\n\n### Ensure the following specs pass with the refactor FF enabled\n\n- [user_replaces_files_spec](https://gitlab.com/gitlab-org/gitlab/blob/master/spec/features/projects/files/user_replaces_files_spec.rb)\n- [user_deletes_files_spec.rb](https://gitlab.com/gitlab-org/gitlab/blob/master/spec/features/projects/files/user_deletes_files_spec.rb)","state":"closed","created_at":"2022-01-11T07:21:34.522Z","updated_at":"2022-03-13T14:04:02.897Z","closed_at":"2022-02-24T09:11:18.381Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","auto updated","backend","devops::create","frontend","group::source code","priority::3","section::dev","severity::3","type::bug"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/349953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/349953","notes":"https://gitlab.com/api/v4/projects/278964/issues/349953/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/349953/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#349953","relative":"#349953","full":"gitlab-org/gitlab#349953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":100398699,"iid":349949,"project_id":278964,"title":"Fix Incident sidebar in Issue Boards","description":"In issue boards, when clicking an incident card, the issue sidebar displays. This sidebar should be fixed to display thge incident sidebar.\n\nChanges required:\n- Update title to `Incident details` instead of `Issue details`.\n- Hide Epic widget\n- Hide Iteration widget\n- Hide Weight widget\n- Add Severity widget\n\n| Current | Expected (incident page) |\n| ------ | ------ |\n| ![Screenshot_from_2022-01-11_15-03-05](/uploads/7ef8ad4f98e27f2b95e8f3a60a11ffef/Screenshot_from_2022-01-11_15-03-05.png) | ![Screenshot_from_2022-01-11_15-01-53](/uploads/07783d7fcda68d3d0b033f73e15b0528/Screenshot_from_2022-01-11_15-01-53.png) |","state":"closed","created_at":"2022-01-11T05:06:07.493Z","updated_at":"2022-01-13T22:19:50.613Z","closed_at":"2022-01-13T22:19:50.595Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["boards","devops::plan","frontend","group::product planning","section::dev","type::bug","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/349949","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/349949","notes":"https://gitlab.com/api/v4/projects/278964/issues/349949/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/349949/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#349949","relative":"#349949","full":"gitlab-org/gitlab#349949"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5596,"epic":{"id":225594,"iid":5596,"title":"GraphQL boards bugs","url":"/groups/gitlab-org/-/epics/5596","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100389593,"iid":349933,"project_id":278964,"title":"Subgroup owners not able to view compliance frameworks in subgroup settings","description":"## Overview\n\nWhen a user is an `Owner` of a subgroup but a maintainer or lower in the root group that has compliance frameworks available, an error is shown when attempting to view the list of compliance frameworks available to the subgroup.\n\n## How to reproduce\n\n* Create a group and subgroup within it.\n* In the root group, create a compliance framework.\n* Add a user with Developer permissions to the root group.\n* Give that same user Owner permissions in the subgroup directly.\n* As that user, attempt to view the list of compliance frameworks either via the API or in the group settings page.\n* Note that an error is returned because the user doesn't have Owner permissions in the root group.\n\n## Proposed resolution\n\n* ~~Owners~~ All users in subgroups _should have read-only access to all of the compliance frameworks in the root group._ \n\n\u003cdetails\u003e\u003csummary\u003eOriginal bug report\u003c/summary\u003e\n\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen trying to enable compliance framework at the group level, this error appears\n\n![image](/uploads/d9ece7705a5a52ad61497dbf1eacb572/image.png)\n\n### Steps to reproduce\n\n- Ensure group owner permission\n- Within the group \u003e click menu\n- Settings \u003e General\n- Expand Compliance Frameworks section\n- Enable\n- Error appears\n\n### Example Project\n\n[Internal Link](https://gitlab.com/groups/gitlab-com/account-management/templates/-/edit)\n\n### What is the current *bug* behavior?\n\n`Error fetching compliance framework data, please refresh page`\n\n### What is the expected *correct* behavior?\n\nThe settings should allow me/customer to be able to toggle compliance frameworks on this group level\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/d9ece7705a5a52ad61497dbf1eacb572/image.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nNone currently\n\ncc: @weitzel.jason-heb @djensen\n\u003c/details\u003e","state":"closed","created_at":"2022-01-10T22:47:29.659Z","updated_at":"2022-02-03T09:51:53.816Z","closed_at":"2022-02-03T09:51:53.800Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Compliance Management","backend","customer","devops::manage","group::compliance","priority::2","reproduced on GitLab.com","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":7543823,"username":"jtaylor06","name":"Jose Taylor","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7543823/avatar.png","web_url":"https://gitlab.com/jtaylor06"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":23,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/349933","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/349933","notes":"https://gitlab.com/api/v4/projects/278964/issues/349933/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/349933/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#349933","relative":"#349933","full":"gitlab-org/gitlab#349933"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100378150,"iid":349907,"project_id":278964,"title":"WAF blocks requests of users that try to create new merge requests via the GitLab UI","description":"### Summary\n\nWhen using a web application firewall with GitLab, users creating new merge requests via the GitLab UI are blocked. \n\nWhen there is an MR create action via the GitLab UI with the _**\"Delete source branch when merge request is accepted.\"**_ option selected, a duplicate parameter/form data is submitted. This duplicate parameter/form data triggers a blocking action from the WAF due to a suspected evasion attack.\n\nThis duplicate key or parameter with different values (0 and 1) will cause the WAF policy to block the request. \n\n### Steps to reproduce\n\n**1.** Put Gitlab behind a WAF\n\n**2.** Create a new Merge Request via the GitLab UI\n\n**3.** On the \"New merge request\" screen, select under \"Merge options\" - \"Delete source branch when merge request is accepted\"\n\n**4.** Click \"Create merge request\"\n\nThe resulting POST request sent by the GitLab contains the following payload:\n\n```\nmerge_request%5Bforce_remove_source_branch%5D=0\u0026merge_request%5Bforce_remove_source_branch%5D=1\n````\n\nwhich decodes to:\n\n```\nmerge_request[force_remove_source_branch]: 0\nmerge_request[force_remove_source_branch]: 1\n````\n\n### What is the current *bug* behavior?\n\nPer [/app/views/shared/issuable/form/_merge_params.html.haml#L12-25](https://gitlab.com/gitlab-org/gitlab/blob/a98ecff0abb6115f5fbd36364f1565b9a93811cb/app/views/shared/issuable/form/_merge_params.html.haml#L12-25):\n\n```\nhaml\n    - if issuable.can_remove_source_branch?(current_user)\n      .form-check.gl-mb-3\n        = hidden_field_tag 'merge_request[force_remove_source_branch]', '0', id: nil\n        = check_box_tag 'merge_request[force_remove_source_branch]', '1', issuable.force_remove_source_branch?, class: 'form-check-input'\n        = label_tag 'merge_request[force_remove_source_branch]', class: 'form-check-label' do\n          Delete source branch when merge request is accepted.\n    - if !project.squash_never?\n      .form-check\n        - if project.squash_always?\n          = hidden_field_tag 'merge_request[squash]', '1', id: nil\n          = check_box_tag 'merge_request[squash]', '1', project.squash_enabled_by_default?, class: 'form-check-input', disabled: 'true'\n        - else\n          = hidden_field_tag 'merge_request[squash]', '0', id: nil\n          = check_box_tag 'merge_request[squash]', '1', issuable_squash_option?(issuable, project), class: 'form-check-input'\n```\n\nThe create MR form is still using the HAML methods, and we appear to inject the same form field twice if its default value is on.\n\nHere's an example form data:\n\n```\nmerge_request[title]=Update+README.md\u0026merge_request_diff_head_sha=8daaa1cb9805521c94a08fa7d599a75cbddbff97\u0026merge_request[description]=A+goal\u0026merge_request[assignee_ids][]=1\u0026merge_request[reviewer_ids][]=0\u0026merge_request[approval_rules_attributes][][id]=\u0026merge_request[approval_rules_attributes][][approvals_required]=0\u0026merge_request[approval_rules_attributes][][name]=\u0026merge_request[approval_rules_attributes][][user_ids][]=\u0026merge_request[approval_rules_attributes][][group_ids][]=\u0026merge_request[label_ids][]=\u0026merge_request[update_blocking_merge_request_refs]=false\u0026merge_request[force_remove_source_branch]=0\u0026merge_request[force_remove_source_branch]=1\u0026merge_request[squash]=0\u0026merge_request[lock_version]=0\u0026merge_request[source_project_id]=16\u0026merge_request[source_branch]=test\u0026merge_request[target_project_id]=16\u0026merge_request[target_branch]=main\n```\n\nRelevant bit in the above is:\n\n\n```\nmerge_request[force_remove_source_branch]=0\u0026merge_request[force_remove_source_branch]=1\n```\n\nGoing by the implementation link above, the same issue occurs for the squash option on the form too.\n\n\n### What is the expected *correct* behavior?\n\nWhen there is an MR create action via the GitLab UI with the _**\"Delete source branch when merge request is accepted.\"**_ option selected, there should not be a duplicate parameter/form data sent.\n\nThis would prevent the WAF from suspecting an evasion attack (and blocking the request), as there would only be one parameter passed instead of a duplicate as well.\n\n\n### Possible fixes\n\n**1.** The hidden field lines above can probably be removed away to address the issue.\n\n**2.** A Vue.js form rewrite would also address this unintentionally.","state":"closed","created_at":"2022-01-10T17:08:04.813Z","updated_at":"2022-09-21T12:01:13.204Z","closed_at":"2022-09-12T09:12:49.478Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Category:WAF","Deliverable","auto updated","bug::availability","customer","devops::create","frontend","group::source code","priority::2","section::dev","securitybot::ignore","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":4828790,"username":"gyoachum","name":"Gabriel Yoachum","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4828790/avatar.png","web_url":"https://gitlab.com/gyoachum"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":33,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2022-03-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/349907","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/349907","notes":"https://gitlab.com/api/v4/projects/278964/issues/349907/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/349907/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#349907","relative":"#349907","full":"gitlab-org/gitlab#349907"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100376458,"iid":349903,"project_id":278964,"title":"FE: Enable \"Configure with a Merge Request\" button for Container Scanning","description":"## Why are we doing this work\n\nWe want to allow users to enable container scanning in the UI via an MR.\n\n## Relevant links\n\n* https://gitlab.com/groups/gitlab-org/-/epics/6334\n* https://gitlab.com/gitlab-org/gitlab/-/issues/349902 introduces the GraphQL mutation for configuring Container Scanning.\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n## Implementation plan\n\n```diff\ndiff --git a/app/assets/javascripts/security_configuration/components/constants.js b/app/assets/javascripts/security_configuration/components/constants.js\nindex 034dba29196..971706c941e 100644\n--- a/app/assets/javascripts/security_configuration/components/constants.js\n+++ b/app/assets/javascripts/security_configuration/components/constants.js\n@@ -217,6 +217,10 @@ export const securityFeatures = [\n     helpPath: CONTAINER_SCANNING_HELP_PATH,\n     configurationHelpPath: CONTAINER_SCANNING_CONFIG_HELP_PATH,\n     type: REPORT_TYPE_CONTAINER_SCANNING,\n+\n+    // This field will eventually come from the backend, the progress is\n+    // tracked in https://gitlab.com/gitlab-org/gitlab/-/issues/331621\n+    canEnableByMergeRequest: true,\n   },\n   {\n     name: CLUSTER_IMAGE_SCANNING_NAME,\ndiff --git a/ee/app/assets/javascripts/security_configuration/components/constants.js b/ee/app/assets/javascripts/security_configuration/components/constants.js\nindex bd9175957ec..53d8ec33b5c 100644\n--- a/ee/app/assets/javascripts/security_configuration/components/constants.js\n+++ b/ee/app/assets/javascripts/security_configuration/components/constants.js\n@@ -1,7 +1,11 @@\n import { s__ } from '~/locale';\n import { featureToMutationMap as featureToMutationMapCE } from '~/security_configuration/components/constants';\n-import { REPORT_TYPE_DEPENDENCY_SCANNING } from '~/vue_shared/security_reports/constants';\n+import {\n+  REPORT_TYPE_CONTAINER_SCANNING,\n+  REPORT_TYPE_DEPENDENCY_SCANNING,\n+} from '~/vue_shared/security_reports/constants';\n import configureDependencyScanningMutation from '../graphql/configure_dependency_scanning.mutation.graphql';\n+import configureContainerScanningMutation from '../graphql/configure_container_scanning.mutation.graphql';\n \n export const SMALL = 'SMALL';\n export const MEDIUM = 'MEDIUM';\n@@ -32,6 +36,17 @@ export const featureToMutationMap = {\n       },\n     }),\n   },\n+  [REPORT_TYPE_CONTAINER_SCANNING]: {\n+    mutationId: 'configureContainerScanning',\n+    getMutationPayload: (projectPath) =\u003e ({\n+      mutation: configureContainerScanningMutation,\n+      variables: {\n+        input: {\n+          projectPath,\n+        },\n+      },\n+    }),\n+  },\n };\n \n export const CONFIGURATION_SNIPPET_MODAL_ID = 'CONFIGURATION_SNIPPET_MODAL_ID';\ndiff --git a/ee/app/assets/javascripts/security_configuration/graphql/configure_container_scanning.mutation.graphql b/ee/app/assets/javascripts/security_configuration/graphql/configure_container_scanning.mutation.graphql\nnew file mode 100644\nindex 00000000000..a0be87d4b1a\n--- /dev/null\n+++ b/ee/app/assets/javascripts/security_configuration/graphql/configure_container_scanning.mutation.graphql\n@@ -0,0 +1,6 @@\n+mutation configureContainerScanning($input: ConfigureContainerScanningInput!) {\n+  configureContainerScanning(input: $input) {\n+    successPath\n+    errors\n+  }\n+}\n\n```\n\n~\"devops::protect\" ~\"group::container security\" ~\"section::sec\" ~\"Category:Container Scanning\"","state":"closed","created_at":"2022-01-10T16:33:32.495Z","updated_at":"2022-02-21T03:20:50.166Z","closed_at":"2022-02-18T23:20:31.822Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["devops::govern","feature::addition","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[],"author":{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/349903","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/349903","notes":"https://gitlab.com/api/v4/projects/278964/issues/349903/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/349903/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#349903","relative":"#349903","full":"gitlab-org/gitlab#349903"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6334,"epic":{"id":307104,"iid":6334,"title":"Allow users to enable container scanning in the UI via an MR","url":"/groups/gitlab-org/-/epics/6334","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100375752,"iid":349902,"project_id":278964,"title":"Add GraphQL mutation for adding Container Scanning configuration to a project","description":"## Why are we doing this work\n\nWe want to allow users to enable container scanning in the UI via an MR.\n\n## Relevant links\n\n* https://gitlab.com/groups/gitlab-org/-/epics/6334\n* https://gitlab.com/gitlab-org/gitlab/-/issues/349899 introduces the service used by the mutation.\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n* [x] ~backend Introduce a `configureContainerScanning` mutation, similiar to the existing [`configureDependencyScanning`](https://gitlab.com/gitlab-org/gitlab/-/blob/a749adf49525b0426e47b982f3ef5eb78d4165e1/ee/app/graphql/mutations/security/ci_configuration/configure_dependency_scanning.rb) one. Use the newly introduced [`ContainerScanningCreateService`](https://gitlab.com/gitlab-org/gitlab/-/issues/349899) to create the MR, and respond with the URL of the newly created MR.","state":"closed","created_at":"2022-01-10T16:23:38.670Z","updated_at":"2022-02-14T03:21:31.584Z","closed_at":"2022-02-08T15:40:00.402Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Scanning","backend","devops::govern","feature::addition","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/349902","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/349902","notes":"https://gitlab.com/api/v4/projects/278964/issues/349902/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/349902/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#349902","relative":"#349902","full":"gitlab-org/gitlab#349902"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6334,"epic":{"id":307104,"iid":6334,"title":"Allow users to enable container scanning in the UI via an MR","url":"/groups/gitlab-org/-/epics/6334","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100375203,"iid":349899,"project_id":278964,"title":"Add service for adding Container Scanning configuration to .gitlab-ci.yml","description":"## Why are we doing this work\n\nWe want to allow users to enable container scanning in the UI via an MR.\n\n## Relevant links\n\n* https://gitlab.com/groups/gitlab-org/-/epics/6334\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n* [x] ~backend Introduce a `ContainerScanningBuildAction` build action similiar to the existing [`DependencyScanningBuildAction`](https://gitlab.com/gitlab-org/gitlab/-/blob/a749adf49525b0426e47b982f3ef5eb78d4165e1/lib/security/ci_configuration/dependency_scanning_build_action.rb). The build action (1) includes the `Security/Container-Scanning.gitlab-ci.yml` template into a project's `.gitlab-ci.yml` and (2) includes a commented-out `container_scanning.variables` block containing the `DOCKER_{IMAGE,USER,PASSWORD}` keys. For a fresh project, the resulting `.gitlab-ci.yml` looks as follows:\n\n```yaml\n# You can override the included template(s) by including variable overrides\n# SAST customization: https://docs.gitlab.com/ee/user/application_security/sast/#customizing-the-sast-settings\n# Secret Detection customization: https://docs.gitlab.com/ee/user/application_security/secret_detection/#customizing-settings\n# Dependency Scanning customization: https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#customizing-the-dependency-scanning-settings\n# Note that environment variables can be set in several places\n# See https://docs.gitlab.com/ee/ci/variables/#cicd-variable-precedence\n\n# container_scanning:\n#   variables:\n#     DOCKER_IMAGE: ...\n#     DOCKER_USER: ...\n#     DOCKER_PASSWORD: ...\n\ninclude:\n  - template: Security/Container-Scanning.gitlab-ci.yml\n```\n\n* [ ] ~backend Introduce a `ContainerScanningCreateService` service similiar to the existing [`DependencyScanningCreateService`](https://gitlab.com/gitlab-org/gitlab/-/blob/a749adf49525b0426e47b982f3ef5eb78d4165e1/app/services/security/ci_configuration/dependency_scanning_create_service.rb) one. On excecution, the service updates or creates the `.gitlab-ci.yml` and injects the Container Scanning template, using the newly introduced `ContainerScanningBuildAction`. The service succeeds with a `branch_name` and a `success_path`.","state":"closed","created_at":"2022-01-10T16:13:39.142Z","updated_at":"2022-02-14T03:21:31.617Z","closed_at":"2022-02-08T17:54:56.771Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Scanning","auto updated","backend","devops::govern","feature::addition","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/349899","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/349899","notes":"https://gitlab.com/api/v4/projects/278964/issues/349899/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/349899/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#349899","relative":"#349899","full":"gitlab-org/gitlab#349899"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6334,"epic":{"id":307104,"iid":6334,"title":"Allow users to enable container scanning in the UI via an MR","url":"/groups/gitlab-org/-/epics/6334","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]