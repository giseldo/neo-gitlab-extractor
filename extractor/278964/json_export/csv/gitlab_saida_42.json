[{"id":97419515,"iid":345814,"project_id":278964,"title":"Ensure Code intelligence works in conjunction with HighlightJS","description":"As part of [highlighting source code using HighlightJS](https://gitlab.com/groups/gitlab-org/-/epics/7146) we need to ensure that our [Code intelligence](https://docs.gitlab.com/ee/user/project/code_intelligence.html) still works as expected.","state":"closed","created_at":"2021-11-16T12:18:59.335Z","updated_at":"2022-04-18T07:01:05.305Z","closed_at":"2022-04-12T15:15:08.661Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","frontend","group::source code","section::dev","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345814","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345814","notes":"https://gitlab.com/api/v4/projects/278964/issues/345814/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345814/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345814","relative":"#345814","full":"gitlab-org/gitlab#345814"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7146,"epic":{"id":387817,"iid":7146,"title":"Highlight source code syntax on the frontend using HighlightJS","url":"/groups/gitlab-org/-/epics/7146","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97419475,"iid":345813,"project_id":278964,"title":"Ensure Sourcegraph integration works in conjunction with HighlightJS","description":"As part of [highlighting source code using HighlightJS](https://gitlab.com/groups/gitlab-org/-/epics/7146) we need to ensure that our [Sourcegraph integration](https://docs.gitlab.com/ee/integration/sourcegraph.html) still works as expected.","state":"closed","created_at":"2021-11-16T12:17:59.813Z","updated_at":"2022-01-19T07:15:06.423Z","closed_at":"2022-01-19T07:15:06.406Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","frontend","group::source code","section::dev"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345813","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345813","notes":"https://gitlab.com/api/v4/projects/278964/issues/345813/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345813/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345813","relative":"#345813","full":"gitlab-org/gitlab#345813"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7146,"epic":{"id":387817,"iid":7146,"title":"Highlight source code syntax on the frontend using HighlightJS","url":"/groups/gitlab-org/-/epics/7146","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97419357,"iid":345812,"project_id":278964,"title":"Add a feature flag for syntax highlighting using HighlightJS","description":"We need to add a feature flag for enabling/disabling HighlightJS.\n\nTurning the feature flag off should disable HighlightJS and fallback to highlighting on the backend using Rogue.","state":"closed","created_at":"2021-11-16T12:15:25.401Z","updated_at":"2021-12-18T07:00:49.460Z","closed_at":"2021-11-25T09:16:03.654Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","frontend","group::source code","section::dev"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345812","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345812","notes":"https://gitlab.com/api/v4/projects/278964/issues/345812/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345812/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345812","relative":"#345812","full":"gitlab-org/gitlab#345812"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7146,"epic":{"id":387817,"iid":7146,"title":"Highlight source code syntax on the frontend using HighlightJS","url":"/groups/gitlab-org/-/epics/7146","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97419253,"iid":345810,"project_id":278964,"title":"Add support for HighlightJS on the Monokai theme","description":"As part of [highlighting source code using HighlightJS](https://gitlab.com/groups/gitlab-org/-/epics/7146) we need to ensure that [our syntax themes](https://docs.gitlab.com/ee/user/profile/preferences.html#syntax-highlighting-theme) still work as expected.\n\nThis issue is about adding support for HighlightJS on the **Monnokai theme**.","state":"closed","created_at":"2021-11-16T12:13:18.875Z","updated_at":"2022-05-24T12:00:06.156Z","closed_at":"2022-04-21T05:57:34.722Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","frontend","group::source code","section::dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345810","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345810","notes":"https://gitlab.com/api/v4/projects/278964/issues/345810/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345810/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345810","relative":"#345810","full":"gitlab-org/gitlab#345810"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7146,"epic":{"id":387817,"iid":7146,"title":"Highlight source code syntax on the frontend using HighlightJS","url":"/groups/gitlab-org/-/epics/7146","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97419244,"iid":345809,"project_id":278964,"title":"Add support for HighlightJS on the Solarized Dark theme","description":"As part of [highlighting source code using HighlightJS](https://gitlab.com/groups/gitlab-org/-/epics/7146) we need to ensure that [our syntax themes](https://docs.gitlab.com/ee/user/profile/preferences.html#syntax-highlighting-theme) still work as expected.\n\nThis issue is about adding support for HighlightJS on the **Solarized Dark theme**.","state":"closed","created_at":"2021-11-16T12:13:05.901Z","updated_at":"2022-05-24T12:00:06.216Z","closed_at":"2022-04-21T05:57:45.320Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","frontend","group::source code","section::dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345809","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345809","notes":"https://gitlab.com/api/v4/projects/278964/issues/345809/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345809/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345809","relative":"#345809","full":"gitlab-org/gitlab#345809"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7146,"epic":{"id":387817,"iid":7146,"title":"Highlight source code syntax on the frontend using HighlightJS","url":"/groups/gitlab-org/-/epics/7146","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97419200,"iid":345808,"project_id":278964,"title":"Add support for HighlightJS on the Solarized Light theme","description":"As part of [highlighting source code using HighlightJS](https://gitlab.com/groups/gitlab-org/-/epics/7146) we need to ensure that [our syntax themes](https://docs.gitlab.com/ee/user/profile/preferences.html#syntax-highlighting-theme) still work as expected.\n\nThis issue is about adding support for HighlightJS on the **Solarized Light theme**.","state":"closed","created_at":"2021-11-16T12:12:45.982Z","updated_at":"2022-04-21T05:58:05.155Z","closed_at":"2022-04-21T05:58:05.127Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","auto updated","devops::create","frontend","group::source code","missed:14.8","section::dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345808","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345808","notes":"https://gitlab.com/api/v4/projects/278964/issues/345808/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345808/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345808","relative":"#345808","full":"gitlab-org/gitlab#345808"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7146,"epic":{"id":387817,"iid":7146,"title":"Highlight source code syntax on the frontend using HighlightJS","url":"/groups/gitlab-org/-/epics/7146","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97419184,"iid":345807,"project_id":278964,"title":"Add support for HighlightJS on the Dark theme","description":"As part of [highlighting source code using HighlightJS](https://gitlab.com/groups/gitlab-org/-/epics/7146) we need to ensure that [our syntax themes](https://docs.gitlab.com/ee/user/profile/preferences.html#syntax-highlighting-theme) still work as expected.\n\nThis issue is about adding support for HighlightJS on the **Dark theme**.","state":"closed","created_at":"2021-11-16T12:12:24.502Z","updated_at":"2022-04-18T07:01:05.351Z","closed_at":"2022-04-07T07:52:59.917Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","frontend","group::source code","section::dev","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345807","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345807","notes":"https://gitlab.com/api/v4/projects/278964/issues/345807/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345807/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345807","relative":"#345807","full":"gitlab-org/gitlab#345807"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7146,"epic":{"id":387817,"iid":7146,"title":"Highlight source code syntax on the frontend using HighlightJS","url":"/groups/gitlab-org/-/epics/7146","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97419169,"iid":345806,"project_id":278964,"title":"Add support for HighlightJS on the Light theme","description":"As part of [highlighting source code using HighlightJS](https://gitlab.com/groups/gitlab-org/-/epics/7146) we need to ensure that [our syntax themes](https://docs.gitlab.com/ee/user/profile/preferences.html#syntax-highlighting-theme) still work as expected.\n\nThis issue is about adding support for HighlightJS on the **Light theme**.","state":"closed","created_at":"2021-11-16T12:12:07.986Z","updated_at":"2022-04-14T10:32:28.959Z","closed_at":"2022-01-19T07:16:43.394Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","frontend","group::source code","missed-deliverable","missed:14.6","section::dev"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345806","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345806","notes":"https://gitlab.com/api/v4/projects/278964/issues/345806/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345806/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345806","relative":"#345806","full":"gitlab-org/gitlab#345806"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7146,"epic":{"id":387817,"iid":7146,"title":"Highlight source code syntax on the frontend using HighlightJS","url":"/groups/gitlab-org/-/epics/7146","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97416823,"iid":345795,"project_id":278964,"title":"Frontend: Provide visibility for shared runner usage for user namespaces","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release Notes\n\nTracking how many of your [CI Minutes](https://docs.gitlab.com/ee/ci/pipelines/cicd_minutes.html#how-cicd-minutes-are-calculated) you are using each month for public projects is hard, especially across projects. \n\nNow each namespace's CI Minute usage is displayed along side the Runner Duration in the Usage Quota. You can see how many minutes each project has used by month and how minute usage is trending overtime.\n\n### Problem to solve \n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/340504/ we are adding a section under Analytics\u003e\u003eCI/CD at group level to expose shared runner usage. We should treat top-level groups and user namespaces the same with regards to this data. But user namespaces don't have Analytics section.\n\n\n### User experience goal\n\nUsers should be able to get access to the shared runner usage for the projects under the namespace.\n\n\n### Proposal\n\n`Scope of this issue:`\n\n1. Change text for existing CI Minutes usage to `CI/CD minutes` everywhere on usage quota page\n1. Add a padding under `Pipelines` tab and and change header font size\n1. Introduce `Shared runners usage` tab with popover for `Monthly usage` charts only\n\n`Not in scope of this issue`\n1. Introduce `Shared runners usage` tab with popover for `By project` charts only\n2. Add shared runner duration consumption information to the table below\n\n\n\u003e We accumulate `shared runners duration` at root-namespace level but we also have the usage per project. We should be able to display the equivalent chart as `User Settings \u003e Usage Quotas \u003e CI minutes usage by project`.\n\n### Availability \u0026 Testing\n\nEnsure we have feature tests for this page.\n\n### What does success look like, and how can we measure that?\n\n- User is able to access the `shared runners duration` analytics for their personal namespace.\n- This Analytics page (like Usage Quotas page) is only available to the namespace owner.\n- This new page is documented for User Namespaces and Groups in https://docs.gitlab.com/ee/ci/pipelines/cicd_minutes.html\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-11-16T11:24:13.983Z","updated_at":"2022-05-20T14:47:37.078Z","closed_at":"2022-04-29T13:21:05.113Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["CI minutes","Category:Continuous Integration","FY23::Q2","GitLab Free","GitLab Premium","GitLab Ultimate","OKR","SUS::Impacting","Stretch","Technical Writing","UI text","UX","Verify::P2","customer","devops::verify","direction","documentation","frontend","group::pipeline execution","release post item","release post item::in review","section::ops","severity::1","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":6115425,"username":"v_mishra","name":"Veethika M","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f09a3a0badac17a57e28b4e18a45c1c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/v_mishra"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":42,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345795","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345795","notes":"https://gitlab.com/api/v4/projects/278964/issues/345795/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345795/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345795","relative":"#345795","full":"gitlab-org/gitlab#345795"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7561,"epic":{"id":442014,"iid":7561,"title":"CI minutes and Runner Duration Visibility Charts MVC","url":"/groups/gitlab-org/-/epics/7561","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97402140,"iid":345774,"project_id":278964,"title":"Background migration to fix location data mismatch in vulnerability_occurrences","description":"## Why are we doing this work\n\nWhile working on https://gitlab.com/gitlab-org/gitlab/-/issues/342025 we found that there were some records in `vulnerability_occurrences` table where `location` did not match with `raw_metadata-\u003e'location'`. This should be fixed by creating a background migration to update `location` with value from `raw_metadata-\u003e'location'`.\n\n## Relevant links\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/342025#note_731003176\n\n## Non-functional requirements\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n- [ ] ~backend ~database  Create a background migration to update `location` with value from `raw_metadata-\u003e'location'`","state":"closed","created_at":"2021-11-16T07:34:57.254Z","updated_at":"2021-11-19T04:50:09.646Z","closed_at":"2021-11-19T04:49:06.953Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Vulnerability Management","[deprecated] Accepting merge requests","auto updated","backend","database","devops::secure","group::threat insights","section::sec","type::maintenance","workflow::ready for development"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[],"author":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345774","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345774","notes":"https://gitlab.com/api/v4/projects/278964/issues/345774/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345774/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345774","relative":"#345774","full":"gitlab-org/gitlab#345774"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97393919,"iid":345770,"project_id":278964,"title":"Refactor secrets analyzer in preparation for gitleaks v8","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n[Gitleaks v8](https://github.com/zricethezav/gitleaks/issues/683) is coming. It's a massive speed improvement that comes through a simplification of the scanner itself. As such, there will need to be large changes to the secrets analyzer to prepare it for the new version.\n\n### Tasks\n- [x] Update analyzer code to support gitleaks v8","state":"closed","created_at":"2021-11-16T02:58:26.368Z","updated_at":"2022-01-11T06:03:48.676Z","closed_at":"2021-12-21T02:06:44.964Z","closed_by":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"labels":["Category:Secret Detection","Deliverable","backend","devops::secure","documentation","group::static analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"}],"author":{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"},"type":"ISSUE","assignee":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345770","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345770","notes":"https://gitlab.com/api/v4/projects/278964/issues/345770/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345770/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345770","relative":"#345770","full":"gitlab-org/gitlab#345770"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97392021,"iid":345763,"project_id":278964,"title":"Improve audit event spec for group saml provider changes","description":"Follow-up from \"Add group SAML configuration changes to group audit events\"\n\nThe following discussion from !73656 should be addressed:\n\n- [ ] @tkuah started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73656#note_733937680): \n\n    \u003e I think we lost the assertion on the message for the audit event. At the least we should assert that each message contains the right attribute name. Bonus if we can assert on attribute value. (see https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73656#note_731279322 for previous context)\n    \u003e \n    \u003e Happy to follow-up here","state":"closed","created_at":"2021-11-16T01:38:42.621Z","updated_at":"2021-11-17T03:26:00.621Z","closed_at":"2021-11-17T03:26:00.598Z","closed_by":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"labels":["Quality::test-gap","backend","devops::manage","group::compliance","priority::3","section::dev","type::feature","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":9821577,"username":"huzaifaiftikhar1","name":"Huzaifa Iftikhar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9821577/avatar.png","web_url":"https://gitlab.com/huzaifaiftikhar1"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345763","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345763","notes":"https://gitlab.com/api/v4/projects/278964/issues/345763/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345763/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345763","relative":"#345763","full":"gitlab-org/gitlab#345763"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97387394,"iid":345755,"project_id":278964,"title":"Create a background job for package files cleanup","description":"### Context\n\nEvery day, the GitLab Package Registry is used to publish many thousands of packages. When a package is uploaded, it may include several files. For package manager formats that allow duplicate uploads, it's possible that they can include many files. For example, for Maven, you likely publish a version of a package and also publish daily snapshots of that package. But those older snapshot files are not useful. So, you'd like to programmatically delete them. \n\nAs part of the epic https://gitlab.com/groups/gitlab-org/-/epics/5152, the Package group aims to deliver package-cleanup policies to help you manage storage for the Package Registry. As an MVC, we'll focus on removing old, unused files. \n\nTo do so, we will:\n\n- Create a background job to scalably handle the marking and deletion of files. (That's this issue)\n- Create a GraphQL endpoint to help CRUD the policies. https://gitlab.com/gitlab-org/gitlab/-/issues/346153\n- Add this functionality to your project's settings. https://gitlab.com/gitlab-org/gitlab/-/issues/227233\n\n### Problem to solve\n\nWhy a background job?\n\n* Having a simple API endpoint to execute the cleanup will not scale. We will be forced to limit the number of packages and/or package files targeted/deleted. It is what we have with the [API](https://docs.gitlab.com/ee/api/container_registry.html#delete-registry-repository-tags-in-bulk) for container tags bulk delete (see the warning message in the docs).\n* Long term, a background job will be required. No reason to put off the inevitable. \n\n### Proposal\n\n~~Create a background job that will use a single parameter `keep_n` to mark package files for deletion.~~ :point_left_tone2: **Note**: This is the cleanup policy background job that will be implemented in gitlab-org/gitlab#346153 and not here.\n\n1. Add a way to mark package files as destroyed.\n2. Add background job 1 (scheduled cron job) to find marked package files and enqueue background job 2 (limited capacity worker) to do the destruction.\n3. Add background job 2 to destroy package files.\n\n#### Further details\n\n* Mark package files as `destroyed`.\n* Make sure that `destroyed` package files are never considered by UI, APIs, services. (\u003c- that's the \"they are lost forever\" step)\n* Create a cron background job that will check if there is any `destroyed` package file. If there is any enqueue a number of cleanup package files jobs. That number could be an application setting or we could start with something hardcoded like `2`.\n* Implement the cleanup package file background job.\n* :warning: (Note @10io ) We will need logged statistics so that we can build a Kibana dashboard for these. Eg. we need to know how many `destroyed` package file they are to be cleanup at any time.\n\n#### Estimation\n\n1. 2 MRs\n   1. `destroyed` mark + update in APIs/services. Weight `2`.\n   1. Both background jobs. This is known territory as it's very similar to what has been implemented for the dependency proxy. Barring any surprise, this is straightforward but it's quite a bunch of new objects/services to implement. Weight `2`.","state":"closed","created_at":"2021-11-15T22:13:53.665Z","updated_at":"2022-02-15T14:31:25.313Z","closed_at":"2022-01-20T10:59:10.530Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","Deliverable","GraphQL","Package:P1","backend","devops::package","group::package registry","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},{"id":9182939,"username":"hortiz5","name":"Hugo Ortiz","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9182939/avatar.png","web_url":"https://gitlab.com/hortiz5"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":38,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345755","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345755","notes":"https://gitlab.com/api/v4/projects/278964/issues/345755/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345755/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345755","relative":"#345755","full":"gitlab-org/gitlab#345755"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5152,"epic":{"id":177448,"iid":5152,"title":"Package Registry cleanup policies MVC","url":"/groups/gitlab-org/-/epics/5152","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97385424,"iid":345751,"project_id":278964,"title":"Enable smooth scrolling when using the Jump To Next Unresolved Discussion button","description":"It would be better to avoid a jarring jump so that users using the \u003cspan title=\"Jump To Next Unresolved Discussion\"\u003eJTNUD\u003csup\u003e1\u003c/sup\u003e\u003c/span\u003e button can maintain context with where the scroll is taking them.\n\nOne way to do this is with the smooth-scrolling feature of automatic scrolls.\n\nThis may require some configuration of the existing Virtual Scrolling library to enable smooth scrolling.","state":"closed","created_at":"2021-11-15T21:13:15.422Z","updated_at":"2022-10-21T12:01:35.970Z","closed_at":"2022-10-19T13:06:58.617Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","UX","devops::create","feature::enhancement","frontend","group::code review","merge requests","section::dev","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345751","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345751","notes":"https://gitlab.com/api/v4/projects/278964/issues/345751/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345751/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345751","relative":"#345751","full":"gitlab-org/gitlab#345751"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97385398,"iid":345749,"project_id":278964,"title":"[Research] Conduct support staff interviews for improvement of admin tool","description":"This issue is to discuss efforts to conduct support staff interviews for the improvement of the CDot Admin tool.\n\nResearch goals: Understand how team members are doing these tasks now. Are the tasks as efficient as they could be? Is it learnable and intuitive? Deeper dive into the JTBD.\n\n**Tasks:**\n1. Generate a license\n1. Resend a license\n1. Find customers by groups namespace/email","state":"closed","created_at":"2021-11-15T21:12:09.553Z","updated_at":"2022-04-21T19:53:28.716Z","closed_at":"2022-04-21T19:53:28.698Z","closed_by":{"id":4089849,"username":"jackib","name":"Jacki Bauer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/45cb9a7b286a89f770f76d90b6cf33fd?s=80\u0026d=identicon","web_url":"https://gitlab.com/jackib"},"labels":["Maintenance and Support","UX","UX research","[deprecated] Accepting merge requests","[deprecated] Category:Provision","auto updated","devops::fulfillment","group::provision","section::fulfillment","severity::4"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345749","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345749","notes":"https://gitlab.com/api/v4/projects/278964/issues/345749/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345749/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345749","relative":"#345749","full":"gitlab-org/gitlab#345749"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6563,"epic":{"id":325682,"iid":6563,"title":"Improve the UX for Support Admin Tool","url":"/groups/gitlab-org/-/epics/6563","group_id":9970},"iteration":null,"health_status":null},{"id":97385323,"iid":345748,"project_id":278964,"title":"Change the threshold line for where a comment is \"seen\"","description":"Since the threshold for having \"seen\" a discussion is at the page's 50% vertical line, there are situations where a user might load into the page and immediately mark a discussion (or multiple discussions) as seen.\n\nThe Jump To Next Unresolved Discussion button will then go to the next discussion.\n\nHowever, because a user action didn't mark the discussions as \"seen\", the Jump button will go to what is probably an unexpected location; the user is probably expecting to go to the first unresolved discussion the first time they click the button.\n\nWe should move the threshold to a location that minimizes the chances of this occurring, or set an exclusion that doesn't mark discussions as \"seen\" until a user has initiated a scroll input.\n\n[Video](https://www.youtube.com/watch?v=zh_pgMfWXU8) [from](https://gitlab.com/gitlab-org/gitlab/-/issues/345748#note_735080897) @annabeldunstone.","state":"closed","created_at":"2021-11-15T21:08:24.469Z","updated_at":"2022-10-21T12:01:36.141Z","closed_at":"2022-10-04T23:02:45.634Z","closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"labels":["Category:Code Review Workflow","Deliverable","devops::create","feature::enhancement","frontend","group::code review","merge requests","missed-deliverable","missed:15.1","priority::3","section::dev","severity::4","type::feature","workflow::blocked"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345748","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345748","notes":"https://gitlab.com/api/v4/projects/278964/issues/345748/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345748/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345748","relative":"#345748","full":"gitlab-org/gitlab#345748"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97382865,"iid":345746,"project_id":278964,"title":"DAST crawl report","description":"### Problem to solve\n\nDebugging DAST issues on customer websites can be challenging. Often the website under test is not accessible outside the customer's local network, making it difficult to see what problems might be encountered during the scan.\n\n### Proposal\n\nBrowser-based DAST scanner currently offers engineers two aids to assist in debugging. Logging and the [authentication report](https://docs.gitlab.com/ee/user/application_security/dast/#configure-the-authentication-debug-output). \n\nTo assist engineers in debugging add `DAST_CRAWL_REPORT`. Setting `DAST_CRAWL_REPORT` to `true` would take a snapshot of each screen and the complete DOM after each navigation is complete so that engineers will have more information when debugging customer issues.\n\nExample usage\n\n```yaml\ndast:\n  variables:\n    DAST_WEBSITE: \"https://example.com\"\n    ...\n    DAST_CRAWL_REPORT: \"true\"\n    DAST_BROWSER_SCAN: \"true\"\n  artifacts:\n    paths: [gl-dast-debug-crawl-report.html]\n    when: always\n```\n\nThe report would only be available for customers using the browser-based DAST scanner. \n\nThis report has the potential to be huge, so the number of pages to report on should be restricted. A possible iteration could be to only report on certain sections of the site by URL.\n\n### Implementation Plan\n\n- [ ] Add report functionality to browser-based DAST scanner\n  - [x] Screen shot\n  - [x] DOM\n  - [ ] Path\n  - [ ] Headers\n  - [ ] session info\n- [x] Enable the configuration in DAST and pass to browser-based DAST scanner, (throw error when `DAST_CRAWL_REPORT` is `true` but `DAST_BROWSER_SCAN` is `false`\n- [ ] ~~Document the functionality~~ This is an undocumented feature at this stage.","state":"closed","created_at":"2021-11-15T20:10:30.293Z","updated_at":"2022-01-31T03:23:18.398Z","closed_at":"2022-01-25T08:20:27.450Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","dast::browserker","devops::secure","group::dynamic analysis","missed:14.6","missed:14.7","section::sec","type::feature","workflow::in dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345746","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345746","notes":"https://gitlab.com/api/v4/projects/278964/issues/345746/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345746/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345746","relative":"#345746","full":"gitlab-org/gitlab#345746"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97382315,"iid":345745,"project_id":278964,"title":"Global Search - Header Search Refactor Regressions/Follow Ups","description":"### What/Why\n\nThis issue will be a catch-all for all issues raised as part of the Header Search Refactor: https://gitlab.com/gitlab-org/gitlab/-/issues/297396 and Regression Testing on Staging\n\nBefore we remove the Feature Flag we will want to acknowledge/address each of these concerns\n\n### Optimization\n\n| Description | Link | Comments | MR |\n| ------ | ------ | ------ | ------ |\n| **Import Vue App on Search Focus** | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68681#note_763161800 | This is a high priority fix. We are causing a large amount of bloat in the `main.js` | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76594 | \n\n### Regression\n\n| Description | Link | Comments | MR |\n| ------ | ------ | ------ | ------ |\n| **User searches too fast and gets empty search query** | https://gitlab.com/gitlab-org/gitlab/-/issues/345745#note_752097677 | This is a high priority to fix.  The fix is to decouple the model updating from the debounce (which is for the autocomplete query) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76496 | \n| **S key should focus search box** | https://gitlab.com/gitlab-org/gitlab/-/issues/345745#note_755156321 | This is an existing feature that should be replicated | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76467 | \n| **All GitLab query sending scope=null** | https://gitlab.com/gitlab-org/gitlab/-/issues/345745#note_755164245 | This could be caught by anti-abuse logic later, we should clear this param when null | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76475 | \n| **Personal project, scoped search unclickable** | https://gitlab.com/gitlab-org/gitlab/-/issues/345745#note_755192285 | This is a high priority to fix. This does work when a user clicks enter however. | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76475 | \n\n### UX/UI\n\n| Description | Link | Comments | MR |\n| ------ | ------ | ------ | ------ |\n| **Search input has new border** | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74244#note_731485313 | This is a box-shadow that is added via the `.form-control` class from Bootstrap | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76804 |\n| **Placeholder text when focused is faint** | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74244#note_731485313 \u003cbr /\u003e\u003cbr /\u003e https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70222#note_699412853  includes suggestion for fix | This needs to be addressed before go live | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76778 |\n| **Placeholder text has been reverted to old text** | Reverted from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64146 | A simple fix of updating this back to \"Search GitLab\" | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/77540 |\n\n### A11y\n\n| Description | Link | Comments | MR |\n| ------ | ------ | ------ | ------ |\n| **aria-live is interrupted by input focus on NVDA** | https://gitlab.com/gitlab-org/gitlab/-/issues/346394 | There is no clear path to fixing this at the moment and may be a NVDA issue. | Non-Priority |\n| **aria-live is not supported when using Firefox x VoiceOver** | https://gitlab.com/gitlab-org/gitlab/-/issues/346391 | This is a browser/software specific issue.  Since Safari x VoiceOver is the standard we are okay taking this debt on for now. | Non-Priority |\n\n### Feature Followups\n\n| Description | Link | Comments | MR |\n| ------ | ------ | ------ | ------ |\n| **Handle errors inline rather than with Flash** | https://gitlab.com/gitlab-org/gitlab/-/issues/341287 | This would be cleaner but Flash is a standard way of communicating errors so this is a low priority. | Non-Priority |","state":"closed","created_at":"2021-11-15T20:01:20.808Z","updated_at":"2022-05-30T16:00:47.167Z","closed_at":"2022-02-01T15:18:23.632Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Category:Global Search","UX","auto updated","devops::data_stores","found:staging.gitlab.com","frontend","global nav","group::global search","javascript","section::enablement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345745","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345745","notes":"https://gitlab.com/api/v4/projects/278964/issues/345745/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345745/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345745","relative":"#345745","full":"gitlab-org/gitlab#345745"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97382007,"iid":345743,"project_id":278964,"title":"Cancellation of github repo import forwards to gitlab user profile \"auth\"","description":"### What's the bug behaviour\n\nwhen trying to import a github project, but cancelling the workflow you get redirected to gitlab.com/auth, which is a gitlab user and not an authentication callback page, probably due to a configuration mismatch.\n\nthis might be misleading for some users and is probably only a minor issue, however _technically_ the user \"auth\" could use the profile feature to display fake information that might mislead unexperienced gitlab users into thinking it is an official page\n\n### Steps to reproduce:\n\n1. \"import project\" ( https://gitlab.com/projects/new#import_project )\n2. \"github\" (while NOT having gitlab as an authorized oauth app in github (https://github.com/settings/applications)\n3. press \"cancel\" on the github oauth authorization page https://github.com/login/oauth/authorize\n\nOR\n\n1. Sign out from GitLab\n1. Go to the login page (https://gitlab.com/users/sign_in)\n1. Click the `GitHub` button and enter your GH login and password if required\n1. Click the `Cancel` button on the `Authorize GitLab.com` page \n\nyou will then get redirected to gitlab.com/auth\n\n![Screenshot_2022-01-11_at_20.52.47](/uploads/60840dcdd87e612270eda7903afea20a/Screenshot_2022-01-11_at_20.52.47.png)\n\n### What is correct behaviour\n\nAfter the presses \"cancel\" on the GitHub oauth authorization page, they should be redirected back to the `project/new#import_project` page.\n\n### Possible fixes\n\nImplement additional redirect from https://gitlab.com/users/auth?error=access_denied\u0026state=xyz to the project/new#import_project page. Utilize the state parameter to distinguish between import and non-related import OAuth (or even better - provide \"return url\" inside state and perform proper redirect \"fixing\" GitHub bug)","state":"closed","created_at":"2021-11-15T19:53:39.027Z","updated_at":"2022-12-21T12:04:10.494Z","closed_at":"2022-12-12T12:17:33.705Z","closed_by":{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"},"labels":["Deliverable","Importer:GitHub","SoftServe::Import","[deprecated] Accepting merge requests","devops::manage","group::import","priority::4","section::dev","security","severity::4","type::bug","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"}],"author":{"id":605103,"username":"cy4n","name":"Christian Khn","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/605103/avatar.png","web_url":"https://gitlab.com/cy4n"},"type":"ISSUE","assignee":{"id":11311967,"username":"cervols-ext","name":"Tetiana Zavediuk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11311967/avatar.png","web_url":"https://gitlab.com/cervols-ext"},"user_notes_count":25,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345743","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345743","notes":"https://gitlab.com/api/v4/projects/278964/issues/345743/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345743/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345743","relative":"#345743","full":"gitlab-org/gitlab#345743"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3050,"epic":{"id":39430,"iid":3050,"title":" GitHub Importer bugs","url":"/groups/gitlab-org/-/epics/3050","group_id":9970},"iteration":null,"health_status":null},{"id":97378534,"iid":345738,"project_id":278964,"title":"Large response body causes outofmemory error","description":"When an API response body is 130MB of data with a text content-type (json, html, etc.) the scanner crashes with an OutOfMemory exception. When the exception occurs the scanner has converted the 130MB to a string, then tries to match a regex.\n\nThis issue is affecting a customer POC.\n\n### Investigation\n\nThe `CustomBinaryReader` kept a history of data it has read. The only use is in the older proxy code for debug messages. The memory usage quickly grows.\n\n### Proposal\n\nDisable use of `History` in `CustomBinaryReaderBase`.\n\nLimit will be set to 1MB.\n\n1. [x] Add integration test \n1. [x] Disable use of `History` on `CustomBinaryReaderBase`\n1. [x] Add max response body length guards\n1. [x] Publish new container\n1. [x] Notify support team","state":"closed","created_at":"2021-11-15T18:47:39.409Z","updated_at":"2021-11-16T16:47:50.722Z","closed_at":"2021-11-16T16:47:50.709Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","priority::2","section::sec","severity::3","type::bug","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345738","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345738","notes":"https://gitlab.com/api/v4/projects/278964/issues/345738/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345738/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345738","relative":"#345738","full":"gitlab-org/gitlab#345738"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97371760,"iid":345724,"project_id":278964,"title":"DAST \"Manage scans\" not showing in Security Configuration","description":"### Summary\n\nSince https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72631, the `Manage scans` button has disappeared from the Security Configuration page.\n\nThe logic around what card can be shown likely has been consolidated while moving the configuration presented to FOSS, but it might not account for the fact that DAST profiles management isn't a regular scanner but a standalone configuration page.\n\nAdditionally, it looks like the `Manage corpus` button in **Corpus management** now always shows up but is hidden if the above MR is reverted.\n\n### Steps to reproduce\n\nOn GitLab.com, visit any project's Security Configuration page.\n\n### Example Project\n\nAny project.\n\n### What is the current *bug* behavior?\n\n* The `Manage scans` button does not show up.\n* The `Manage corpus` buttons shows up.\n\n### What is the expected *correct* behavior?\n\n* The `Manage scans` button shows up.\n* The `Manage corpus` buttons does not show up?\n\n### Relevant logs and/or screenshots\n\n#### DAST profiles\n\n| Before https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72631 | After https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72631 |\n| ------ | ------ |\n| ![Screen_Shot_2021-11-15_at_5.36.15_PM](/uploads/ccb9eac38126437bc0d49bcbb0714c03/Screen_Shot_2021-11-15_at_5.36.15_PM.png) | ![Screen_Shot_2021-11-15_at_5.38.05_PM](/uploads/d518af98a45332e69e1cdbaabda2a2f7/Screen_Shot_2021-11-15_at_5.38.05_PM.png) |\n\n#### Corpus management\n\n| Before https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72631 | After https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72631 |\n| ------ | ------ |\n| ![Screen_Shot_2021-11-15_at_5.37.15_PM](/uploads/baeb1e00a4a9f63f173ac24a0ef219c0/Screen_Shot_2021-11-15_at_5.37.15_PM.png) | ![Screen_Shot_2021-11-15_at_5.38.15_PM](/uploads/b3981030417e3fe6144f06450b3dd002/Screen_Shot_2021-11-15_at_5.38.15_PM.png) |\n\n\n### Possible fixes\n\nAn obvious fix might be to always expose the configuration path, but this might not be the proper way.\n\n```patch\ndiff --git a/ee/lib/ee/gitlab/security/scan_configuration.rb b/ee/lib/ee/gitlab/security/scan_configuration.rb\nindex d29e61050f4..cdfa6bd1b7c 100644\n--- a/ee/lib/ee/gitlab/security/scan_configuration.rb\n+++ b/ee/lib/ee/gitlab/security/scan_configuration.rb\n@@ -13,7 +13,7 @@ def configured?\n         end\n \n         def configuration_path\n-          configurable_scans[type] if available? || type == :corpus_management\n+          configurable_scans[type] if available? || type == :corpus_management || type == :dast_profiles\n         end\n \n         private\n```\n\n/cc @mfangman @brytannia","state":"closed","created_at":"2021-11-15T16:40:11.117Z","updated_at":"2021-12-14T16:18:13.514Z","closed_at":"2021-11-16T17:21:34.107Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","priority::1","section::sec","severity::2","type::bug","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345724","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345724","notes":"https://gitlab.com/api/v4/projects/278964/issues/345724/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345724/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345724","relative":"#345724","full":"gitlab-org/gitlab#345724"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97370249,"iid":345719,"project_id":278964,"title":"Follow-up from \"Add additional project details to the user before deleting\"","description":"The following discussion from !71961 should be addressed:\n\n- [ ] @georgekoltsov started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71961#note_702520897):  (+5 comments)\n\n    \u003e I believe they cover more cases. There is also a service for `ForksCount` that we can use too.","state":"closed","created_at":"2021-11-15T16:11:34.812Z","updated_at":"2022-01-31T10:49:26.195Z","closed_at":"2022-01-31T10:49:25.754Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["backend","devops::manage","frontend","group::compliance","section::dev","type::maintenance"],"milestone":null,"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345719","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345719","notes":"https://gitlab.com/api/v4/projects/278964/issues/345719/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345719/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345719","relative":"#345719","full":"gitlab-org/gitlab#345719"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97359803,"iid":345705,"project_id":278964,"title":"Ensure proper validation for GIT url is performed for all requests","description":"https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72323 introduced url validation for GIT imports, but according to https://gitlab.com/gitlab-org/gitlab/-/issues/340435#note_732328082 we are still receiving errors, coming from Git validation\n\nI've identified two sources of problem:\n\n* it is possible to bypass validation by pasting URL and hitting Enter without blurring field\n* there is another form (importing repository when you create project **without** repository and after that initialize a repository inside project via import)\n\nWe need to bring consistency of validation across all the GitLab","state":"closed","created_at":"2021-11-15T14:27:24.052Z","updated_at":"2022-11-17T08:04:00.018Z","closed_at":"2022-02-23T13:14:30.485Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","Deliverable","Importer:Git","Next Up","auto updated","devops::manage","frontend","group::import","milestone::p3","quad-planning::complete-no-action","section::dev","type::bug","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345705","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345705","notes":"https://gitlab.com/api/v4/projects/278964/issues/345705/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345705/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345705","relative":"#345705","full":"gitlab-org/gitlab#345705"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3128,"epic":{"id":44070,"iid":3128,"title":"Repo by URL Importer","url":"/groups/gitlab-org/-/epics/3128","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97359068,"iid":345704,"project_id":278964,"title":"Show what data will not be migrated during GitLab migration","description":"https://gitlab.com/gitlab-org/gitlab/-/issues/341422 introduced ~backend API to report about migration limitations when connecting to instance, running old version of GitLab\n\nThis issue is about exposing this information to end-user in friendly way.\nI'm basing my proposal on following assumptions:\n\n* User by-default assuming that everything is migrated. We are providing explicit link to docs to define what \"everything\" means. This issue is not about communicating what **will be** migrated\n* We don't want to annoy users with extra warnings\n* We need to clearly communicate why limitations are in effect\n* Since there are two instances of GitLab (source \u0026 target) involved we need to clearly communicate which one is problematic :)\n\nMy proposal:\n![Screenshot_from_2021-11-15_16-14-58](/uploads/47c3094557fc83330f0d31b117d6c2f4/Screenshot_from_2021-11-15_16-14-58.png)\n\nSuggested wording:\n\n```\nTitle: https://gitlab.example.com is running outdated GitLab version (v.14.2.0)\n\nFollowing data will not be migrated: \n* projects (require v14.4.0)\n* some-other-stuff (require v14.3.0)\n\nContact system administrator of https://gitlab.example.com to upgrade GitLab if you need this data in your migration\n```\n\n\n\nWDYT @hdelalic?\n\n/cc @wortschi","state":"closed","created_at":"2021-11-15T14:16:10.689Z","updated_at":"2022-01-25T16:47:53.048Z","closed_at":"2021-12-29T12:25:17.047Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","Deliverable","Importer:GitLab Migration","Next Up","auto updated","devops::manage","frontend","group::import","section::dev","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345704","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345704","notes":"https://gitlab.com/api/v4/projects/278964/issues/345704/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345704/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345704","relative":"#345704","full":"gitlab-org/gitlab#345704"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4613,"epic":{"id":126554,"iid":4613,"title":"GitLab Migration - UX improvements","url":"/groups/gitlab-org/-/epics/4613","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":97354963,"iid":345701,"project_id":278964,"title":"Make rate limit for users get by id endpoint configurable","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73069 a rate limit for `/api/v4/users/id` endpoint was added. The admin users are allowed to bypass the rate limit, see reasons here: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73069#note_733627985\n\nIt's been suggested to make the rate limit configurable and also understand who and why would be exceeding that limit and how to best support them - that's the aim of this issue.","state":"closed","created_at":"2021-11-15T13:46:20.368Z","updated_at":"2022-01-18T11:09:00.036Z","closed_at":"2022-01-18T11:09:00.030Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["auto updated","backend"],"milestone":null,"assignees":[],"author":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345701","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345701","notes":"https://gitlab.com/api/v4/projects/278964/issues/345701/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345701/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345701","relative":"#345701","full":"gitlab-org/gitlab#345701"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97342811,"iid":345694,"project_id":278964,"title":"[UserCap BE]: Billable members without pending members","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/4315, we introduced a `User Cap` setting for self-managed admins to prevent accidental user overages, now we are doing the same for SaaS group owners to prevent accidental overages.\n\nThis work will be broken down into the following backend steps:\n\n- [Add user cap setting](https://gitlab.com/gitlab-org/gitlab/-/issues/332590) \n- [Adding/inviting members](https://gitlab.com/gitlab-org/gitlab/-/issues/332592)\n- [Notifications](https://gitlab.com/gitlab-org/gitlab/-/issues/332595)\n- [Member management](https://gitlab.com/gitlab-org/gitlab/-/issues/332596) \n- [Auto approval](https://gitlab.com/gitlab-org/gitlab/-/issues/334381)\n- [Approval Modal](https://gitlab.com/gitlab-org/gitlab/-/issues/334822)\n- [Group access modifications](https://gitlab.com/gitlab-org/gitlab/-/issues/332598)\n- [Group sharing](https://gitlab.com/gitlab-org/gitlab/-/issues/332601)\n- [UserCap availability](https://gitlab.com/gitlab-org/gitlab/-/issues/342227)\n- **Billable members** :point_left_tone3: we are here\n\nFor this issue, we should prevent members in a `pending`/`awaiting` state from being considered billable for a group.\n\n\n\n## Relevant links\n\n- Discussion around this requirement: https://gitlab.com/gitlab-org/gitlab/-/issues/332596#note_725450369\n\n## Implementation plan\n\n- [ ] Modify billable member methods to exclude awaiting members e.g. [here](https://gitlab.com/gitlab-org/gitlab/blob/d89f5fe82a885e2de77e4e752115aa3cb0dddc4e/ee/app/models/ee/group.rb#L534) and [here](https://gitlab.com/gitlab-org/gitlab/blob/d89f5fe82a885e2de77e4e752115aa3cb0dddc4e/ee/app/models/ee/group.rb#L576)\n\n_**We should consider the use of a feature flag for this given it's implication on billing**_\n\n### Additional notes\n\n* The `Member` class already defines an `active` scope which relates to the `User` state, not the `Member` state, [here](https://gitlab.com/gitlab-org/gitlab/blob/d89f5fe82a885e2de77e4e752115aa3cb0dddc4e/app/models/member.rb#L81), which may be confusing\n* This change will likely need involvement from the ~database team for discussion around query performance/plans \n* We will also need to update the documentation around this area to be clear that pending/awaiting members are not billable. If it's not already there by the time this issue is worked on, we could add a new section to [Groups](https://docs.gitlab.com/ee/user/group/#prevent-users-from-requesting-access-to-a-group) for User Cap related docs\n* We should consider the impact of this change on related classes such as `GitlabSubscription` with regards to the seat usage calculations","state":"closed","created_at":"2021-11-15T11:38:50.849Z","updated_at":"2022-03-24T10:50:17.723Z","closed_at":"2022-02-22T16:22:20.650Z","closed_by":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"labels":["[deprecated] Category:Utilization","auto updated","backend","devops::fulfillment","group::utilization","missed:14.6","missed:14.7","missed:14.8","quad-planning::complete-no-action","section::fulfillment","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345694","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345694","notes":"https://gitlab.com/api/v4/projects/278964/issues/345694/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345694/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345694","relative":"#345694","full":"gitlab-org/gitlab#345694"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6862,"epic":{"id":364252,"iid":6862,"title":"SaaS User Cap - MVC","url":"/groups/gitlab-org/-/epics/6862","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97335952,"iid":345687,"project_id":278964,"title":"Ci minutes usage by month shows reverse chart","description":"## Problem\n\nThe `CI minutes usage by month` chart shows recent months on the left and old months on the right.\n\n![image](/uploads/919c58e951b74feb4cd6c293e59e6943/image.png)\n\n## Expected behavior\n\nThe historical data should read from left to right","state":"closed","created_at":"2021-11-15T10:05:05.680Z","updated_at":"2021-12-13T13:41:49.614Z","closed_at":"2021-12-06T15:33:22.604Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["CI minutes","Category:Continuous Integration","devops::verify","frontend","group::pipeline execution","priority::3","section::ops","severity::4","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345687","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345687","notes":"https://gitlab.com/api/v4/projects/278964/issues/345687/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345687/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345687","relative":"#345687","full":"gitlab-org/gitlab#345687"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97328465,"iid":345678,"project_id":278964,"title":"Multi Access Levels in Deployment Approval (API-base)","description":"### Release Notes\nPreviously, the deployment approval feature supported a simple model where the ability to execute a deployment and to approve a deployment were both controlled with a single list of users. With this update, you have more flexibility with these rules and can specify multiple levels for control using the API. One particular model is when there is separation of duties between deployment executors and approvers in your organization. Another model is when approval is needed separately from multiple levels such as a QA tester group and a security group.\n\n## Problem\n\nIn the initial [MVC](https://gitlab.com/gitlab-org/gitlab/-/issues/343864), **both** Deployment Executors and Deployment Approvers were managed in the [**same** access level](https://docs.gitlab.com/ee/ci/environments/protected_environments.html#protecting-environments). This could be a problem that Approvers can accidentally gain an access to the critical environment, where they are supposed to approve/reject only. To resolve the problem, we should separate access levels between executors and approvers. For example:\n\n* Production Environment:\n  * Who can deploy?: @operator-group\n  * Needs approval for deployment?:\n    * At least one approval from @qa-tester-group\n    * At least one approval from @security-group\n\n## Proposal\n\nLet users to define separate lists. To illustrate:\n\n```\nproduction environment:\n  - Required one approval from @qa-group\n  - Required two approvals from @security-group\n```\n\nand the deployment job won't be triggered until all of the approval conditions are satistifed.\n\n## Technical Proposal\n\nAdd `protected_environment_approval_access_levels` table as a clone of `protected_environment_deploy_access_levels` table. The functionalities are the same, but the data can be distinguished.\n\n## Related Issues\n\n- [First-class concept for Deployment Approval (API Based)](https://gitlab.com/gitlab-org/gitlab/-/issues/343864#note_730963447)\n- [Tech Eval Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/344233#note_731043952)","state":"closed","created_at":"2021-11-15T08:18:37.752Z","updated_at":"2022-10-19T18:35:52.185Z","closed_at":"2022-04-18T05:31:37.448Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Environment Management","Category:Release Orchestration","Deliverable","GitLab Premium","Next Up","Release::P1","auto updated","automation:ml","devops::release","group::release","missed-deliverable","missed:14.9","release post item::in review","section::ops","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":40,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345678","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345678","notes":"https://gitlab.com/api/v4/projects/278964/issues/345678/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345678/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345678","relative":"#345678","full":"gitlab-org/gitlab#345678"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7819,"epic":{"id":486646,"iid":7819,"title":"(Viable maturity) Deployment Approvals","url":"/groups/gitlab-org/-/epics/7819","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":97325916,"iid":345674,"project_id":278964,"title":"Purchase CI minutes fail for namespace without active subscription or other addon purchase","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nPurchase CI minutes fail when the namespace doesn't have a active subscription or already had addon purchase. Sentry message it tries to log :point_down: \n\n![image](/uploads/ef0f799459cee2632967fa67e6955132/image.png)\n\n\n**Note**: Purchase CI minutes works when group has an active subscription, or already had add-on purchase.\n\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\n1. Log into GitLab.com\n1. Create a new free group with a blank project\n1. Go to Group's usage quota page and click `buy addition minutes` link\n1. fill in the checkout form and click `confirm purchase`\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-11-15T07:30:49.285Z","updated_at":"2022-05-02T16:11:15.826Z","closed_at":"2021-11-16T17:01:35.339Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","Unplanned","backend","devops::fulfillment","found:staging.gitlab.com","frontend","group::purchase","priority::2","section::fulfillment","severity::2","type::bug","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345674","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345674","notes":"https://gitlab.com/api/v4/projects/278964/issues/345674/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345674/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345674","relative":"#345674","full":"gitlab-org/gitlab#345674"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6574,"epic":{"id":327000,"iid":6574,"title":"Move CI Minutes purchase flows to GitLab.com UI (Group namespaces only)","url":"/groups/gitlab-org/-/epics/6574","group_id":9970,"human_readable_end_date":"Dec 10, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97323515,"iid":345672,"project_id":278964,"title":"Database Query Timeout happens when accessing  Environment page","description":"## Problem\n\nWhen you access to [the environment page on `www-gitlab-com` project](https://gitlab.com/gitlab-com/www-gitlab-com/-/environments), you could encounter an 500 error due to database query timeout.\n\n## Query encountered timeout\n\n```\nSELECT\n    DISTINCT ON (environment_id) deployments.*\nFROM\n    \"deployments\"\nWHERE\n    \"deployments\".\"status\" = 2\n    AND \"deployments\".\"environment_id\" IN (137, 8098355)\nORDER BY\n    environment_id,\n    deployments.id DESC\n```\n\nThis is executed when `last_deployment` is [preloaded for EnvironmentSerializer](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/serializers/environment_serializer.rb#L68). \n\nConfirmed with the following queries:\n\n```\n# Timeout\nproject.environments.preload(:last_deployment).with_state(:available).where(id: [137, 8098355])\n\n# OK\nproject.environments.with_state(:available).where(id: [137, 8098355])\n```\n\n## Current Query Performance\n\n```\nTime: 2.783 min\n  - planning: 3.673 ms\n  - execution: 2.783 min\n    - I/O read: 2.719 min\n    - I/O write: 0.000 ms\n```\n\n```\n Unique  (cost=293258.52..294295.37 rows=130226 width=144) (actual time=166763.118..166922.576 rows=1 loops=1)\n   Buffers: shared hit=170937 read=208434 dirtied=5223\n   I/O Timings: read=163141.890 write=0.000\n   -\u003e  Sort  (cost=293258.52..293776.94 rows=207370 width=144) (actual time=166763.114..166852.336 rows=554610 loops=1)\n         Sort Key: deployments.environment_id, deployments.id DESC\n         Sort Method: external merge  Disk: 79232kB\n         Buffers: shared hit=170937 read=208434 dirtied=5223\n         I/O Timings: read=163141.890 write=0.000\n         -\u003e  Index Scan using index_deployments_on_environment_id_status_and_finished_at on public.deployments  (cost=0.57..274945.83 rows=207370 width=144) (actual time=6.004..165051.207 rows=554610 loops=1)\n               Index Cond: ((deployments.environment_id = ANY ('{137,8098355}'::integer[])) AND (deployments.status = 2))\n               Buffers: shared hit=170934 read=208434 dirtied=5223\n               I/O Timings: read=163141.890 write=0.000\n```\n\nhttps://gitlab.slack.com/archives/CLJMDRD8C/p1636957713446900\n\n## Proposal\n\nCreate the following index:\n\n`exec CREATE INDEX super_efficient_index_2 ON deployments USING btree (environment_id, id DESC) WHERE status = 2;`\n\nhttps://gitlab.slack.com/archives/CLJMDRD8C/p1636960681455300?thread_ts=1636960678.454000\u0026cid=CLJMDRD8C\n\n## Sentry\n\n`ActiveRecord::QueryCanceled: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout`\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/issues/2921774/?referrer=gitlab_plugin\n\n```\nPG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n\n  lib/gitlab/database/load_balancing/connection_proxy.rb:111:in `block in read_using_load_balancer'\n    connection.send(...)\n  lib/gitlab/database/load_balancing/load_balancer.rb:55:in `read'\n    return yield connection\n  lib/gitlab/database/load_balancing/connection_proxy.rb:110:in `read_using_load_balancer'\n    @load_balancer.read do |connection|\n  lib/gitlab/database/load_balancing/connection_proxy.rb:55:in `select_all'\n    read_using_load_balancer(:select_all, arel, name, binds)\n  app/serializers/environment_serializer.rb:57:in `batch_load'\n    resource.all.to_a.tap do |environments|\n...\n(215 additional frame(s) were not displayed)\n\nActiveRecord::QueryCanceled: PG::QueryCanceled: ERROR:  canceling statement due to statement timeout\n```","state":"closed","created_at":"2021-11-15T06:26:36.024Z","updated_at":"2022-01-21T09:16:24.412Z","closed_at":"2022-01-21T09:16:10.733Z","closed_by":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"labels":["Category:Environment Management","Next Up","Release::P2","backend","bug::performance","devops::release","group::release","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345672","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345672","notes":"https://gitlab.com/api/v4/projects/278964/issues/345672/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345672/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345672","relative":"#345672","full":"gitlab-org/gitlab#345672"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97320802,"iid":345664,"project_id":278964,"title":"Deleting pipeline causes CrossDatabaseModificationAcrossUnsupportedTablesError when nullifying package_build_infos and package_file_build_infos relations","description":"Per https://docs.gitlab.com/ee/development/database/multiple_databases.html#removing-cross-database-transactions we do not allow you to write to 2 different databases within the context of a single transaction. Right now deleting a pipeline triggers `dependent: :nullify` for [`package_build_infos`](https://gitlab.com/gitlab-org/gitlab/-/blob/7a93bb050fcdbffb7e3b33a8c2b93260d2fb8a98/app/models/ci/pipeline.rb#L85) and [`package_file_build_infos`](https://gitlab.com/gitlab-org/gitlab/-/blob/7a93bb050fcdbffb7e3b33a8c2b93260d2fb8a98/app/models/ci/pipeline.rb#L86) which gets nested in the same transaction as the pipeline deletion. We cannot use `dependent: :nullify` across databases unfortunately. This was added to replace the foreign key constraint in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70614 in an effort to help with decomposition but `dependent: :nullify` is just as much of a problem as the FK relation (in fact it's a little worse as these block a slightly early phase ~\"sharding-blocker::phase4\" of our rollout plan).\n\n## Possible solutions\n\nSee https://docs.gitlab.com/ee/development/database/multiple_databases.html#removing-cross-database-transactions .\n\nThis will probably be best handled with \"loose foreign keys\" https://docs.gitlab.com/ee/development/database/loose_foreign_keys.html\n\n## Validating a fix\n\nThis problem causes us to add (at least) `./spec/controllers/projects/pipelines_controller_spec.rb` to the [cross modification allowlist](https://gitlab.com/gitlab-org/gitlab/-/blob/7a93bb050fcdbffb7e3b33a8c2b93260d2fb8a98/spec/support/database/cross-database-modification-allowlist.yml#L34) and as such a fix should allow us to remove it from the allowlist. There may be some other cross-modification failures or false positives in the spec that we need to workaround to see and fix this failure.","state":"closed","created_at":"2021-11-15T04:45:46.135Z","updated_at":"2021-12-18T07:02:11.093Z","closed_at":"2021-12-09T09:06:36.898Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","Deliverable","Package:P1","auto updated","ci-decomposition","ci-decomposition::phase4","devops::package","group::package registry","package:active","section::ops","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345664","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345664","notes":"https://gitlab.com/api/v4/projects/278964/issues/345664/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345664/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345664","relative":"#345664","full":"gitlab-org/gitlab#345664"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6379,"epic":{"id":309971,"iid":6379,"title":"Decomposition: Make Ops features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6379","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97313698,"iid":345657,"project_id":278964,"title":"Stored XSS on issue comments and other pages which contain notes","description":"**[HackerOne report #1398305](https://hackerone.com/reports/1398305)** by `jarij` on 2021-11-11, assigned to @nmalcolm:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nThis report contains two XSS sanitization bypasses:\n\n* The [SyntaxHighlightFilter](https://gitlab.com/gitlab-org/gitlab/-/blob/c2e5d7b89b84cc5b44575592bb706ef75c3d1bbb/lib/banzai/filter/syntax_highlight_filter.rb) creates html from unsanitized data. This can be used to bypass the XSS filter on the server-side. \n\n```ruby  \n def highlight_node(node)  \n...  \nsourcepos = node.parent.attr('data-sourcepos')  \n...  \nsourcepos_attr = sourcepos ? \"data-sourcepos=\\\"#{sourcepos}\\\"\" : \"\"\n\n highlighted = %(\u003cpre #{sourcepos_attr} class=\"#{css_classes}\"  \n                             lang=\"#{language}\"  \n                             #{lang_params}  \n                             v-pre=\"true\"\u003e\u003ccode\u003e#{code}\u003c/code\u003e\u003c/pre\u003e)  \n```\n\n* The [gl-emoji](https://gitlab.com/gitlab-org/gitlab/-/blob/5b0bedde99d676116221b56ad75fa89ccf8a9f28/app/assets/javascripts/behaviors/gl_emoji.js) custom element can be used to bypass the gitlab-ui `v-safe-html` directive sanitization on the frontend side by injecting the payload into the name attribute:\n\n```js  \nexport function emojiImageTag(name, src) {  \n  return `\u003cimg class=\"emoji\" title=\":${name}:\" alt=\":${name}:\" src=\"${src}\" width=\"20\" height=\"20\" align=\"absmiddle\" /\u003e`;  \n}\n```\n\n* Gitlab SaaS is not vulnerable because this report does not include CSP bypass. I'm currently working on this.\n\n#####  Steps to reproduce\n\n![xss-poc.webm](https://h1.sec.gitlab.net/a/55b6328d-96b3-4039-98ca-17bcc1342f8a/xss-poc.webm)\n\n1. Launch self-managed Gitlab instance  \n2. Create issue  \n3. Copy and paste the following payload into the comment field:\n\n```  \n\u003cpre data-sourcepos=\"\u0026#34; href=\u0026#34;x\u0026#34;\u003e\u003c/pre\u003e  \n\u003cgl-emoji data-name='\u0026#34;x=\u0026#34y\u0026#34 onload=\u0026#34;alert(document.location.href)\u0026#34;' data-unicode-version='x'\u003e  \nabc  \n\u003c/gl-emoji\u003e  \n\u003cpre x=\u0026#34;\"\u003e  \n\u003ccode\u003e\u003c/code\u003e\u003c/pre\u003e  \n```\n\n######  Results of GitLab environment info\n\n```  \n###  gitlab-rake gitlab:env:info         \n\nSystem information  \nSystem:  \nProxy:          no  \nCurrent User:   git  \nUsing RVM:      no  \nRuby Version:   2.7.4p191  \nGem Version:    3.1.4  \nBundler Version:2.1.4  \nRake Version:   13.0.6  \nRedis Version:  6.0.16  \nGit Version:    2.33.0.  \nSidekiq Version:6.2.2  \nGo Version:     unknown\n\nGitLab information  \nVersion:        14.4.2-ee  \nRevision:       84aa6daaffd  \nDirectory:      /opt/gitlab/embedded/service/gitlab-rails  \nDB Adapter:     PostgreSQL  \nDB Version:     12.7  \nURL:            http://localhost:8888  \nHTTP Clone URL: http://localhost:8888/some-group/some-project.git  \nSSH Clone URL:  git@localhost:some-group/some-project.git  \nElasticsearch:  no  \nGeo:            no  \nUsing LDAP:     no  \nUsing Omniauth: yes  \nOmniauth Providers:\n\nGitLab Shell  \nVersion:        13.21.1  \nRepository storage paths:  \n- default:      /var/opt/gitlab/git-data/repositories  \nGitLab Shell path:              /opt/gitlab/embedded/service/gitlab-shell  \nGit:            /opt/gitlab/embedded/bin/git  \n```\n\n####  Impact\n\nAttacker who can comment on issue will be able to XSS users that visit that issue. This also affects other pages where comments can be posted, such as snippets.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [xss-poc.webm](https://h1.sec.gitlab.net/a/55b6328d-96b3-4039-98ca-17bcc1342f8a/xss-poc.webm)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2021-11-14T23:34:30.735Z","updated_at":"2022-11-04T19:59:04.449Z","closed_at":"2022-01-12T11:42:12.729Z","closed_by":{"id":5054702,"username":"vdesousa","name":"Vitor Meireles De Sousa","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f44d19f10d5b0c54a02e79c13812ff77?s=80\u0026d=identicon","web_url":"https://gitlab.com/vdesousa"},"labels":["Deliverable","HackerOne","Weakness::CWE-79","approaching-SLO","devops::create","frontend","group::code review","priority::2","section::dev","security","severity::2","type::bug","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":37,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-12-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345657","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345657","notes":"https://gitlab.com/api/v4/projects/278964/issues/345657/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345657/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345657","relative":"#345657","full":"gitlab-org/gitlab#345657"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97262644,"iid":345629,"project_id":278964,"title":"Refactor container-security analyzer specs to better handle Environment stub","description":"## Summary\n\nCurrently we are using `allow(ENV).to receive(:fetch)` or `allow(ENV).to receive(:[])`, because of that we might not detect when someone is changing methods between `:[]` and `:fetch` and introduce a regression. We need to change it to make sure we can detect these changes.\n\n## Improvements\n\n* modify how we prepare environment variables in specs,\n\n## Risks\n\n* we are modifying only specs and how we are preparing environment variables, so there is no risk that this will introduce a regression,\n\n## Involved components\n\n* tests,\n\n## Implementation plan\n\n- [ ] ~backend consider using https://github.com/thoughtbot/climate_control gem to handle Environment modifications for tests and refactor all tests to use it,","state":"closed","created_at":"2021-11-12T20:28:54.696Z","updated_at":"2022-01-18T08:14:19.999Z","closed_at":"2022-01-18T08:14:19.982Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["backend","devops::govern","follow-up","group::security policies","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345629","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345629","notes":"https://gitlab.com/api/v4/projects/278964/issues/345629/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345629/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345629","relative":"#345629","full":"gitlab-org/gitlab#345629"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97260712,"iid":345623,"project_id":278964,"title":"kics SELinux support","description":"## Proposal\n\nEnsure [kics](https://gitlab.com/gitlab-org/security-products/analyzers/kics) has [SELinux support](https://docs.gitlab.com/ee/user/application_security/sast/index.html#running-sast-in-selinux)\n\n## Tasks\n\n* [x] Follow steps in https://gitlab.com/gitlab-org/gitlab/-/issues/323118 for kics.","state":"closed","created_at":"2021-11-12T19:31:37.367Z","updated_at":"2021-11-18T07:03:00.411Z","closed_at":"2021-11-12T20:22:34.719Z","closed_by":{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"},"labels":["Category:SAST","Deliverable","backend","devops::secure","group::static analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"}],"author":{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"},"type":"ISSUE","assignee":{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345623","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345623","notes":"https://gitlab.com/api/v4/projects/278964/issues/345623/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345623/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345623","relative":"#345623","full":"gitlab-org/gitlab#345623"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6658,"epic":{"id":338519,"iid":6658,"title":"SAST IaC scanning analyzer","url":"/groups/gitlab-org/-/epics/6658","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97260616,"iid":345621,"project_id":278964,"title":"force_company_trial experiment clean up","description":"\n## Summary\n\nThe experiment is currently rolled out to 0% of users and has been deemed invalidated .\nThe experiment code needs to be removed. \n\n## Steps\n\n- [ ] determine if any of the tracking should be moved to standard snowplow events\n- [ ] remove experiment code","state":"closed","created_at":"2021-11-12T19:26:15.266Z","updated_at":"2022-01-13T15:50:48.053Z","closed_at":"2022-01-13T15:50:48.033Z","closed_by":{"id":4068412,"username":"mkarampalas","name":"Michael Karampalas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b1427f54773954af4d75c5514504229b?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkarampalas"},"labels":["devops::growth","feature flag","group::adoption DEPRECATED","growth experiment","missed:14.6","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"}],"author":{"id":4068412,"username":"mkarampalas","name":"Michael Karampalas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b1427f54773954af4d75c5514504229b?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkarampalas"},"type":"ISSUE","assignee":{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345621","notes":"https://gitlab.com/api/v4/projects/278964/issues/345621/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345621/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345621","relative":"#345621","full":"gitlab-org/gitlab#345621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97260234,"iid":345620,"project_id":278964,"title":"Design: Refine UX Roadmap","description":"Capturing work for refining the [UX Roadmap epic](https://gitlab.com/groups/gitlab-org/-/epics/7013) for Monitor during 14.6.","state":"closed","created_at":"2021-11-12T19:12:59.006Z","updated_at":"2021-12-13T16:48:31.845Z","closed_at":"2021-12-10T22:19:23.618Z","closed_by":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"labels":["Category:Incident Management","UX","auto updated","devops::monitor","group::respond","section::ops"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345620","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345620","notes":"https://gitlab.com/api/v4/projects/278964/issues/345620/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345620/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345620","relative":"#345620","full":"gitlab-org/gitlab#345620"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7013,"epic":{"id":377231,"iid":7013,"title":"UX Roadmap - Monitor:Respond FY2023","url":"/groups/gitlab-org/-/epics/7013","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e423\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":97258452,"iid":345615,"project_id":278964,"title":"License scanning job completes but does not update UI","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nCustomer reported, on [zd-234752(internal)](https://gitlab.zendesk.com/agent/tickets/234752) that [License Compliance job](https://docs.gitlab.com/ee/user/compliance/license_compliance/) successfully completes but does fails to find any licenses. The `gl-license-scanning-report.json` report shows empty. \n\nThis was reported on a Self Managed instance `v14.2.3`, and `v14.4.2`, and reproduce on gitlab.com\n\nSee job analyzer output trace below. \n\n```\n++ /run.sh analyze .\nSelecting previously unselected package asdf.\n(Reading database ... 19561 files and directories currently installed.)\nPreparing to unpack .../asdf_0.7.8-1_amd64.deb ...\nUnpacking asdf (0.7.8-1) ...\nSetting up asdf (0.7.8-1) ...\nAdded development to the ignored groups\nAdded develop to the ignored groups\nAdded test to the ignored groups\nlicense_management report --prepare-no-fail --format=json --save=gl-license-scanning-report.json --no-recursive --no-debug\nLicenseFinder::Maven: \u001b[32mis active\u001b[0m\nSelecting previously unselected package java-8.\n(Reading database ... 21882 files and directories currently installed.)\nPreparing to unpack .../toolcache/java-8_8-1_amd64.deb ...\nUnpacking java-8 (8-1) ...\nSetting up java-8 (8-1) ...\njava 8 is already installed\n+ exit 0\n```\n\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n- Create a new project.\n- Copy a public java project. e.g. [public project](https://gitlab.com/org.hsmith.medium/automating-java-projects-with-gitlab)\n- Configure basic License compliance template in `.gitlab-ci.yml`\n\n```\ninclude:\n  - template: License-Scanning.gitlab-ci.yml\n\nlicense_scanning:\n  variables:\n    CI_DEBUG_TRACE: \"true\"\n```\n- Run pipeline\n\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n[Example project](https://gitlab.com/gitlab-gold/ggutierrez/234752-11nov21)\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nLicense scanning job for Maven project does not seem to find any license\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nLicense scanning job for Maven project should find license for dependencies and project.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n[gl-license-scanning-report.json](/uploads/4b48baecdf119a2118a0b36e7b8ff755/gl-license-scanning-report.json)\n\n[license_scanning_with_debug.log](/uploads/f66da5dd965f59cea16f3f311736f132/license_scanning_with_debug.log)\n\n[runner.yaml](/uploads/3ab1964762e002052baf4ae6067f44ff/runner.yaml)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\nSystem information\nSystem:\nProxy:          GITLAB_GITLAB_PAGES_SERVICE_PORT_HTTP_GITLAB_PAGES_PROXY: 8090\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.7.4p191\nGem Version:    3.2.19\nBundler Version:2.2.19\nRake Version:   13.0.6\nRedis Version:  unknown\nGit Version:    unknown\nSidekiq Version:6.2.2\nGo Version:     unknown\n\nGitLab information\nVersion:        14.4.2-ee\nRevision:       84aa6daaffd\nDirectory:      /srv/gitlab\nDB Adapter:     PostgreSQL\nDB Version:     12.8\nURL:            https://gitlab.devops.arek.fi\nHTTP Clone URL: https://gitlab.devops.arek.fi/some-group/some-project.git\nSSH Clone URL:  git@gitlab.devops.arek.fi:some-group/some-project.git\nElasticsearch:  no\nGeo:            no\nUsing LDAP:     no\nUsing Omniauth: no\n\nGitLab Shell\nVersion:        13.21.1\nRepository storage paths:\n- default:      /var/opt/gitlab/repo\nGitLab Shell path:              /home/git/gitlab-shell\nGit:            /usr/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\ngitlab-rake gitlab:check SANITIZE=true\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.21.1 ? ... OK (13.21.1)\nRunning /home/git/gitlab-shell/bin/check\ngitlab-shell self-check failed\n  Try fixing it:\n  Make sure GitLab is running;\n  Check the gitlab-shell configuration file:\n  sudo -u git -H editor /home/git/gitlab-shell/config.yml\n  Please fix the error above and rerun the checks.\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... no\n  Try fixing it:\n  sudo -u git -H RAILS_ENV=production bin/background_jobs start\n  For more information see:\n  doc/install/installation.md in section \"Install Init Script\"\n  see log/sidekiq.log for possible errors\n  Please fix the error above and rerun the checks.\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... no\nTrying to fix error automatically. ...Failed\n  Try fixing it:\n  sudo -u git -H \"/usr/bin/git\" config --global core.autocrlf \"input\"\n  For more information see:\n  doc/install/installation.md in section \"GitLab\"\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... skipped (no tmp uploads folder yet)\nInit script exists? ... no\n  Try fixing it:\n  Install the init script\n  For more information see:\n  doc/install/installation.md in section \"Install Init Script\"\n  Please fix the error above and rerun the checks.\nInit script up-to-date? ... can't check because of previous errors\nProjects have namespace: ...\n235/3 ... yes\n235/4 ... yes\n235/5 ... yes\n235/6 ... yes\n26/7 ... yes\n185/14 ... yes\n26/18 ... yes\n68/23 ... yes\n235/24 ... yes\n58/26 ... yes\n235/28 ... yes\n26/30 ... yes\n26/35 ... yes\n78/36 ... yes\n78/37 ... yes\n74/38 ... yes\n26/39 ... yes\n26/41 ... yes\n26/43 ... yes\n79/45 ... yes\n78/46 ... yes\n5/51 ... yes\n74/54 ... yes\n198/59 ... yes\n79/60 ... yes\n26/61 ... yes\n58/62 ... yes\n235/76 ... yes\n231/86 ... yes\n79/87 ... yes\n74/89 ... yes\n78/92 ... yes\n231/94 ... yes\n186/95 ... yes\n124/96 ... yes\n185/97 ... yes\n5/104 ... yes\n186/108 ... yes\n169/110 ... yes\n186/111 ... yes\n68/112 ... yes\n141/113 ... yes\n140/114 ... yes\n141/117 ... yes\n58/118 ... yes\n186/119 ... yes\n235/120 ... yes\n141/122 ... yes\n186/125 ... yes\n725/127 ... yes\n725/128 ... yes\n185/129 ... yes\n161/131 ... yes\n26/132 ... yes\n235/133 ... yes\n78/141 ... yes\n340/155 ... yes\n231/158 ... yes\n185/164 ... yes\n186/165 ... yes\n186/166 ... yes\n231/167 ... yes\n186/168 ... yes\n177/169 ... yes\n169/171 ... yes\n231/173 ... yes\n229/175 ... yes\n229/176 ... yes\n229/177 ... yes\n181/178 ... yes\n181/179 ... yes\n58/182 ... yes\n229/186 ... yes\n95/187 ... yes\n190/192 ... yes\n161/194 ... yes\n78/196 ... yes\n141/197 ... yes\n195/198 ... yes\n185/199 ... yes\n58/201 ... yes\n58/202 ... yes\n195/203 ... yes\n196/204 ... yes\n196/205 ... yes\n169/206 ... yes\n229/226 ... yes\n236/231 ... yes\n236/232 ... yes\n161/235 ... yes\n231/353 ... yes\n231/354 ... yes\n287/362 ... yes\n287/363 ... yes\n287/364 ... yes\n169/365 ... yes\n294/366 ... yes\n236/370 ... yes\n230/372 ... yes\n146/373 ... yes\n230/375 ... yes\n186/376 ... yes\n185/377 ... yes\n186/378 ... yes\n186/379 ... yes\n310/380 ... yes\n186/382 ... yes\n230/384 ... yes\n725/386 ... yes\n317/389 ... yes\n317/391 ... yes\n317/392 ... yes\n317/395 ... yes\n186/396 ... yes\n186/397 ... yes\n314/398 ... yes\n5/399 ... yes\n5/400 ... yes\n310/402 ... yes\n186/404 ... yes\n314/406 ... yes\n58/407 ... yes\n333/408 ... yes\n314/409 ... yes\n317/410 ... yes\n317/411 ... yes\n186/414 ... yes\n26/415 ... yes\n78/418 ... yes\n314/419 ... yes\n236/420 ... yes\n314/421 ... yes\n314/422 ... yes\n340/423 ... yes\n340/424 ... yes\n341/425 ... yes\n185/427 ... yes\n340/428 ... yes\n78/429 ... yes\n340/430 ... yes\n161/431 ... yes\n815/434 ... yes\n340/435 ... yes\n314/437 ... yes\n314/438 ... yes\n161/439 ... yes\n78/441 ... yes\n230/442 ... yes\n314/443 ... yes\n350/451 ... yes\n236/452 ... yes\n179/455 ... yes\n185/456 ... yes\n186/457 ... yes\n281/458 ... yes\n314/459 ... yes\n58/461 ... yes\n341/462 ... yes\n185/463 ... yes\n317/464 ... yes\n190/465 ... yes\n314/466 ... yes\n314/467 ... yes\n314/468 ... yes\n314/469 ... yes\n185/470 ... yes\n186/471 ... yes\n185/473 ... yes\n185/474 ... yes\n231/476 ... yes\n169/477 ... yes\n186/479 ... yes\n185/480 ... yes\n314/481 ... yes\n340/482 ... yes\n317/483 ... yes\n341/487 ... yes\n314/488 ... yes\n281/491 ... yes\n675/3017 ... yes\n341/3018 ... yes\n281/3020 ... yes\n341/3021 ... yes\n341/3022 ... yes\n341/3023 ... yes\n699/3024 ... yes\n699/3025 ... yes\n699/3026 ... yes\n699/3027 ... yes\n699/3028 ... yes\n699/3029 ... yes\n699/3030 ... yes\n699/3031 ... yes\n699/3032 ... yes\n699/3033 ... yes\n701/3034 ... yes\n701/3035 ... yes\n701/3036 ... yes\n701/3037 ... yes\n701/3038 ... yes\n701/3039 ... yes\n701/3040 ... yes\n701/3041 ... yes\n701/3042 ... yes\n701/3043 ... yes\n700/3044 ... yes\n700/3045 ... yes\n700/3046 ... yes\n700/3047 ... yes\n700/3048 ... yes\n700/3049 ... yes\n700/3050 ... yes\n700/3051 ... yes\n700/3052 ... yes\n700/3053 ... yes\n702/3054 ... yes\n702/3055 ... yes\n702/3056 ... yes\n702/3057 ... yes\n702/3058 ... yes\n702/3059 ... yes\n702/3060 ... yes\n702/3061 ... yes\n702/3062 ... yes\n702/3063 ... yes\n704/3064 ... yes\n704/3065 ... yes\n704/3066 ... yes\n704/3067 ... yes\n704/3068 ... yes\n704/3069 ... yes\n704/3070 ... yes\n704/3071 ... yes\n704/3072 ... yes\n704/3073 ... yes\n705/3074 ... yes\n705/3075 ... yes\n705/3076 ... yes\n705/3077 ... yes\n705/3078 ... yes\n705/3079 ... yes\n705/3080 ... yes\n705/3081 ... yes\n705/3082 ... yes\n705/3083 ... yes\n703/3084 ... yes\n703/3085 ... yes\n703/3086 ... yes\n703/3087 ... yes\n703/3088 ... yes\n703/3089 ... yes\n703/3090 ... yes\n703/3091 ... yes\n703/3092 ... yes\n703/3093 ... yes\n706/3094 ... yes\n706/3095 ... yes\n706/3096 ... yes\n706/3097 ... yes\n706/3098 ... yes\n706/3099 ... yes\n706/3100 ... yes\n706/3101 ... yes\n706/3102 ... yes\n706/3103 ... yes\n709/3104 ... yes\n709/3105 ... yes\n709/3106 ... yes\n709/3107 ... yes\n709/3108 ... yes\n709/3109 ... yes\n709/3110 ... yes\n709/3111 ... yes\n709/3112 ... yes\n709/3113 ... yes\n708/3114 ... yes\n708/3115 ... yes\n708/3116 ... yes\n708/3117 ... yes\n708/3118 ... yes\n708/3119 ... yes\n708/3120 ... yes\n708/3121 ... yes\n708/3122 ... yes\n708/3123 ... yes\n707/3124 ... yes\n707/3125 ... yes\n707/3126 ... yes\n707/3127 ... yes\n707/3128 ... yes\n707/3129 ... yes\n707/3130 ... yes\n707/3131 ... yes\n707/3132 ... yes\n707/3133 ... yes\n713/3134 ... yes\n713/3135 ... yes\n713/3136 ... yes\n713/3137 ... yes\n713/3138 ... yes\n713/3139 ... yes\n713/3140 ... yes\n713/3141 ... yes\n713/3142 ... yes\n713/3143 ... yes\n710/3144 ... yes\n710/3145 ... yes\n710/3146 ... yes\n710/3147 ... yes\n710/3148 ... yes\n710/3149 ... yes\n710/3150 ... yes\n710/3151 ... yes\n710/3152 ... yes\n710/3153 ... yes\n714/3154 ... yes\n714/3155 ... yes\n714/3156 ... yes\n714/3157 ... yes\n714/3158 ... yes\n714/3159 ... yes\n714/3160 ... yes\n714/3161 ... yes\n714/3162 ... yes\n714/3163 ... yes\n711/3164 ... yes\n711/3165 ... yes\n711/3166 ... yes\n711/3167 ... yes\n711/3168 ... yes\n711/3169 ... yes\n711/3170 ... yes\n711/3171 ... yes\n711/3172 ... yes\n711/3173 ... yes\n712/3174 ... yes\n712/3175 ... yes\n712/3176 ... yes\n712/3177 ... yes\n712/3178 ... yes\n712/3179 ... yes\n712/3180 ... yes\n712/3181 ... yes\n712/3182 ... yes\n712/3183 ... yes\n715/3184 ... yes\n715/3185 ... yes\n715/3186 ... yes\n715/3187 ... yes\n715/3188 ... yes\n715/3189 ... yes\n715/3190 ... yes\n715/3191 ... yes\n715/3192 ... yes\n715/3193 ... yes\n718/3194 ... yes\n718/3195 ... yes\n718/3196 ... yes\n718/3197 ... yes\n718/3198 ... yes\n718/3199 ... yes\n718/3200 ... yes\n718/3201 ... yes\n718/3202 ... yes\n718/3203 ... yes\n717/3204 ... yes\n717/3205 ... yes\n717/3206 ... yes\n717/3207 ... yes\n717/3208 ... yes\n717/3209 ... yes\n717/3210 ... yes\n717/3211 ... yes\n717/3212 ... yes\n717/3213 ... yes\n719/3214 ... yes\n719/3215 ... yes\n719/3216 ... yes\n719/3217 ... yes\n719/3218 ... yes\n719/3219 ... yes\n719/3220 ... yes\n719/3221 ... yes\n719/3222 ... yes\n719/3223 ... yes\n716/3224 ... yes\n716/3225 ... yes\n716/3226 ... yes\n716/3227 ... yes\n716/3228 ... yes\n716/3229 ... yes\n716/3230 ... yes\n716/3231 ... yes\n716/3232 ... yes\n716/3233 ... yes\n722/3234 ... yes\n722/3235 ... yes\n722/3236 ... yes\n722/3237 ... yes\n722/3238 ... yes\n722/3239 ... yes\n722/3240 ... yes\n722/3241 ... yes\n722/3242 ... yes\n722/3243 ... yes\n721/3244 ... yes\n721/3245 ... yes\n721/3246 ... yes\n721/3247 ... yes\n721/3248 ... yes\n721/3249 ... yes\n721/3250 ... yes\n721/3251 ... yes\n721/3252 ... yes\n721/3253 ... yes\n723/3254 ... yes\n723/3255 ... yes\n723/3256 ... yes\n723/3257 ... yes\n723/3258 ... yes\n723/3259 ... yes\n723/3260 ... yes\n723/3261 ... yes\n723/3262 ... yes\n723/3263 ... yes\n720/3264 ... yes\n720/3265 ... yes\n720/3266 ... yes\n720/3267 ... yes\n720/3268 ... yes\n720/3269 ... yes\n720/3270 ... yes\n720/3271 ... yes\n720/3272 ... yes\n720/3273 ... yes\n725/3275 ... yes\n78/3276 ... yes\n185/3277 ... yes\n185/3278 ... yes\n411/3279 ... yes\n231/3281 ... yes\n185/3282 ... yes\n185/3283 ... yes\n190/3284 ... yes\n832/3285 ... yes\n281/3286 ... yes\n410/3287 ... yes\n186/3288 ... yes\n186/3289 ... yes\n314/3291 ... yes\n185/3294 ... yes\n808/3295 ... yes\n808/3296 ... yes\n58/3297 ... yes\n118/3298 ... yes\n185/3299 ... yes\n185/3300 ... yes\n410/3308 ... yes\n815/3309 ... yes\n169/3312 ... yes\n816/3313 ... yes\n818/3314 ... yes\n817/3315 ... yes\n819/3316 ... yes\n821/3318 ... yes\n317/3319 ... yes\n186/3320 ... yes\n281/3321 ... yes\n832/3322 ... yes\n118/3323 ... yes\n118/3324 ... yes\n118/3325 ... yes\n118/3326 ... yes\n70/3327 ... yes\n58/3328 ... yes\n180/3329 ... yes\n847/3339 ... yes\n186/3340 ... yes\n185/3348 ... yes\n832/3349 ... yes\n832/3350 ... yes\n340/3352 ... yes\n861/3354 ... yes\n861/3355 ... yes\n58/3356 ... yes\n862/3357 ... yes\n862/3358 ... yes\n340/3361 ... yes\n410/3362 ... yes\n832/3363 ... yes\n410/3364 ... yes\n281/3366 ... yes\n118/3367 ... yes\n118/3368 ... yes\n861/3379 ... yes\n861/3380 ... yes\n861/3382 ... yes\n169/3389 ... yes\n281/3390 ... yes\n861/3396 ... yes\n863/3398 ... yes\n863/3407 ... yes\n863/3409 ... yes\n863/3412 ... yes\n863/3413 ... yes\n863/3414 ... yes\n808/3415 ... yes\n885/3416 ... yes\n886/3418 ... yes\n886/3419 ... yes\n886/3420 ... yes\n886/3421 ... yes\n886/3422 ... yes\n886/3423 ... yes\n886/3424 ... yes\n886/3425 ... yes\n886/3426 ... yes\n886/3427 ... yes\n886/3428 ... yes\n886/3429 ... yes\n886/3430 ... yes\n886/3431 ... yes\n886/3432 ... yes\n886/3433 ... yes\n886/3434 ... yes\n886/3435 ... yes\n886/3436 ... yes\n886/3437 ... yes\n886/3438 ... yes\n281/3439 ... yes\n863/3440 ... yes\n815/3441 ... yes\nRedis version \u003e= 5.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.4)\nGit version \u003e= 2.33.0 ? ... no\nYour git bin path is \"/usr/bin/git\"\n  Try fixing it:\n  Update your git to a version \u003e= 2.33.0 from Unknown\n  Please fix the error above and rerun the checks.\nGit user has default SSH configuration? ... yes\nActive users: ... 195\nIs authorized keys file accessible? ... skipped (authorized keys not enabled)\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\nElasticsearch version 7.x (6.4 - 6.x deprecated to be removed in 13.8)? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\n===============================================================================================================================================\n\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/blob/1895cfbf64832889a4ec3c13815bff6363bb0148/lib/license/management/tool_box.rb#L15-L15). \n\nWe need to timebox 2 days for further investigation.","state":"closed","created_at":"2021-11-12T18:15:28.096Z","updated_at":"2022-07-13T16:04:17.580Z","closed_at":"2022-07-13T16:04:17.384Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:License Compliance","GitLab Ultimate","Stretch","[deprecated] Accepting merge requests","backend","customer","devops::secure","group::composition analysis","priority::4","section::sec","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":7922794,"username":"gerardo","name":"Gerardo Gutierrez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/107f2254e95c85808cd44699e6f97616?s=80\u0026d=identicon","web_url":"https://gitlab.com/gerardo"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345615","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345615","notes":"https://gitlab.com/api/v4/projects/278964/issues/345615/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345615/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/333839"},"references":{"short":"#345615","relative":"#345615","full":"gitlab-org/gitlab#345615"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97256948,"iid":345612,"project_id":278964,"title":"FE: Split up Rule-mode rule/yaml previewer","description":"## Summary\n\n- The Policy preview `rule` and `yaml` tabs is confusing for users\n- Users want them broken up into their own sections\n\n## Design\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/d901ab54ea76b348b8fc347c81384376/image.png)\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/334848/designs/approval-policy-tokens.png\n\n## Implementation\n\n- [x] ~frontend the preview for yaml mode should be the right column\n  - [ ] update [network_policy_editor](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/network_policy/network_policy_editor.vue#L292) to display only the yaml preview\n- [x] ~frontend the preview for rule mode should be moved to the bottom of the screen\n  - [ ] ~frontend update [network_policy_editor](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/network_policy/network_policy_editor.vue#L292) to display the rule preview at the bottom\n- [ ] ~frontend restructure/abstract out the previews in the [network_policy_editor](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/network_policy/network_policy_editor.vue) to generic components in `ee/app/assets/javascripts/threat_monitoring/components/policy_editor` to be reused for future policy types (there are going to be, like, 5+ different policy types and they are all going to want this.). Maybe just abstract it out into [policy_editor_layout](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/policy_editor_layout.vue)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-11-12T17:51:11.704Z","updated_at":"2021-12-18T07:03:26.994Z","closed_at":"2021-12-13T17:06:26.338Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Security Policy Management","Deliverable","Enterprise Edition","GitLab Ultimate","auto updated","devops::govern","direction","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345612","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345612","notes":"https://gitlab.com/api/v4/projects/278964/issues/345612/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345612/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345612","relative":"#345612","full":"gitlab-org/gitlab#345612"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6611,"epic":{"id":332582,"iid":6611,"title":"Follow-on Improvements for the Security Policy Editor","url":"/groups/gitlab-org/-/epics/6611","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97251094,"iid":345605,"project_id":278964,"title":"Hide settings search bar in group and user's usage quota page","description":"## Problem\n\nThe group's usage quota page has a search filter at the top of the page, which is in this case not useful to users since there isn't a lot on the page to filter.\n\n![Screen_Shot_2021-11-12_at_3.44.00_PM](/uploads/457bdefa1d89d14751da57e670e3347a/Screen_Shot_2021-11-12_at_3.44.00_PM.png)\n\n## Proposal\n\nHide the search filter from the group's usage quota.\n\nConsider removing the search initialization from JS in [`app/assets/javascripts/pages/projects/usage_quotas/index.js#L3`](https://gitlab.com/gitlab-org/gitlab/blob/3405a25038ca90bba486a379fc0a69256be6fb92/app/assets/javascripts/pages/projects/usage_quotas/index.js#L3)","state":"closed","created_at":"2021-11-12T16:09:48.420Z","updated_at":"2021-12-07T14:23:10.802Z","closed_at":"2021-12-07T14:23:10.789Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["[deprecated] Category:Utilization","[deprecated] ","auto updated","devops::fulfillment","feature::enhancement","frontend","group::utilization","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345605","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345605","notes":"https://gitlab.com/api/v4/projects/278964/issues/345605/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345605/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345605","relative":"#345605","full":"gitlab-org/gitlab#345605"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97250469,"iid":345603,"project_id":278964,"title":"Add REST API to manage Cluster Agents","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\nGitLab now includes a REST API to manage Agents and Agent Tokens. This supplements the existing GraphQL API.\n\n### Problem to solve\n\nMany community tools rely on GitLab's REST API. With only a GraphQL API to manage agents, these tools are not able to manage agents and agent tokens.\n\n### Proposal\n\nAdd a rest API to manage `Cluster::Agent` and `Cluster::AgentToken`\n\nThe proposed API endpoints are described in [the OpenAPI proposal MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/75506) and [can be viewed here](https://gitlab.com/gitlab-org/gitlab/-/blob/345603-add-rest-api-to-manage-cluster-agents/doc/api/openapi/agent.openapi.yaml)\n\n### Definition of Done\n\n- [ ] Add REST API (CRUD) endpoints for `Cluster::Agent`\n- [ ] Add REST API (CRUD) endpoints for `Cluster::AgentToken`\n- [ ] Optional: Project endpoint should return list of agent ids\n- [ ] Update Agent documentation to add REST API details\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n--\u003e\n\n### Metrics\n\n\u003c!-- How are you going to track uage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-11-12T15:59:31.057Z","updated_at":"2021-12-02T15:17:10.791Z","closed_at":"2021-12-02T15:17:10.384Z","closed_by":{"id":2107592,"username":"nicholasklick","name":"Nicholas Klick","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2107592/avatar.png","web_url":"https://gitlab.com/nicholasklick"},"labels":["GitLab Free","[deprecated] Accepting merge requests","candidate::14.7","devops::configure","group::configure","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":2107592,"username":"nicholasklick","name":"Nicholas Klick","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2107592/avatar.png","web_url":"https://gitlab.com/nicholasklick"}],"author":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"type":"ISSUE","assignee":{"id":2107592,"username":"nicholasklick","name":"Nicholas Klick","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2107592/avatar.png","web_url":"https://gitlab.com/nicholasklick"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345603","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345603","notes":"https://gitlab.com/api/v4/projects/278964/issues/345603/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345603/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345603","relative":"#345603","full":"gitlab-org/gitlab#345603"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97248471,"iid":345598,"project_id":278964,"title":"Random registry push failures due to ActiveRecord::RecordInvalid (Validation failed: Name has already been taken)","description":"This is a followup of https://gitlab.com/gitlab-org/gitlab/-/issues/215715 \n\nIn %14.1 we delivered a fix, but in %\"14.3\" we heard back on how this was not totally solved. In the previous month more feedback has been received and more details on how to reproduce this bug.\n\n### Summary\n\nPodman gets error copying image to the remote destination: Error trying to reuse blob sha256:dbfdadd47341d8fef76248007931eade2b2039a376eb9e38861916be0cb06d40 at destination: unexpected http code: 422 (Unprocessable Entity)\n\nNote this error only occurs on initial push attempt, all subsequent pushes are successful.\n\n### Steps to reproduce\n\nCreate Group/Project, ensure Container Registry is enabled. Authenticate podman to registry. Use podman to push image to the remote gitlab registry.\n\nThis issue can also be reproduced with other tools and not just podman. Another examples: https://gitlab.com/gitlab-org/charts/gitlab/-/issues/2590 and https://gitlab.com/gitlab-org/gitlab/-/issues/340522\n\n\n\n### Example Project\n\nNA\n\n### What is the current *bug* behavior?\n\nError is produced:\n\n```\n[root@localhost]# podman push localhost/hello/world:latest registry.example.com:4567/container-images/images/hello/world:latest\nGetting image source signatures\nCopying blob ebc8bce41e75 skipped: already exists  \nCopying blob 3115593a9788 skipped: already exists  \nCopying blob 877b494a9f30 skipped: already exists  \nCopying blob 27fe649c2f1d skipped: already exists  \nCopying blob 25ba9f7b8f48 skipped: already exists  \nCopying blob 662009dcc419 [--------------------------------------] 0.0b / 0.0b\nError: Error copying image to the remote destination: Error trying to reuse blob sha256:dbfdadd47341d8fef76248007931eade2b2039a376eb9e38861916be0cb06d40 at destination: unexpected http code: 422 (Unprocessable Entity), URL: https://registry.example.com:8881/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\n```\n\n### What is the expected *correct* behavior?\n\nPush should complete with no errors and send metadata\n\n### Relevant logs and/or screenshots\n\n```\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nStarted GET \"/jwt/auth?account=root\u0026scope=repository%3Acontainer-images%2Fimages%2Fhello%2Fworld%3Apull%2Cpush\u0026service=container_registry\" for 172.30.30.10 at 2020-04-24 20:35:17 +0000\nProcessing by JwtController#auth as HTML\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\nProcessing by JwtController#auth as HTML\nProcessing by JwtController#auth as HTML\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\nProcessing by JwtController#auth as HTML\nProcessing by JwtController#auth as HTML\nProcessing by JwtController#auth as HTML\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\n  Parameters: {\"account\"=\u003e\"root\", \"scope\"=\u003e\"repository:container-images/images/hello/world:pull,push\", \"service\"=\u003e\"container_registry\"}\nCompleted 200 OK in 185ms (Views: 0.3ms | ActiveRecord: 14.3ms | Elasticsearch: 0.0ms | Allocations: 15307)\nCompleted 422 Unprocessable Entity in 189ms (ActiveRecord: 20.8ms | Elasticsearch: 0.0ms | Allocations: 19141)\n\nActiveRecord::RecordInvalid (Validation failed: Name has already been taken):\n\napp/models/container_repository.rb:94:in `tap'\napp/models/container_repository.rb:94:in `create_from_path!'\nlib/gitlab/metrics/instrumentation.rb:161:in `block in create_from_path!'\n```\n\n### Output of checks\n\nNA\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\nSystem information\nSystem:\t\t\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.6.5p114\nGem Version:\t2.7.10\nBundler Version:1.17.3\nRake Version:\t12.3.3\nRedis Version:\t5.0.7\nGit Version:\t2.24.1\nSidekiq Version:5.2.7\nGo Version:\tunknown\n\nGitLab information\nVersion:\t12.9.2\nRevision:\tac5568eb5d8\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t10.12\nURL:\t\thttps://puppet.dw.lab:8881\nHTTP Clone URL:\thttps://puppet.dw.lab:8881/some-group/some-project.git\nSSH Clone URL:\tssh://git@puppet.dw.lab:8882/some-group/some-project.git\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers: \n\nGitLab Shell\nVersion:\t12.0.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\nGit:\t\t/opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 12.0.0 ? ... OK (12.0.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... skipped (no tmp uploads folder yet)\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ... \n2/1 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.5.3 ? ... yes (2.6.5)\nGit version \u003e= 2.22.0 ? ... yes (2.24.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 1\nIs authorized keys file accessible? ... yes\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/container_repository.rb#L96-103\n\nIssue appears to be a race condition in caused by the jwt token service. Possible that multiple unsaved ContainerRepository objects are getting instantiated but not persisted yet. Then at some point are attempting to persist but failing validation. I have a fix that I will MR against this issue that catches the exception and will instead do a lookup of the persisted model.","state":"closed","created_at":"2021-11-12T15:30:18.849Z","updated_at":"2021-12-14T07:44:24.744Z","closed_at":"2021-12-13T22:52:17.509Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Authentication and Authorization","Category:Container Registry","Deliverable","Package:P1","backend","customer","devops::package","group::package registry","ruby","section::ops","sup-eng-contrib-potential","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":9516393,"username":"michelletorres","name":"Michelle Torres","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9516393/avatar.png","web_url":"https://gitlab.com/michelletorres"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":63,"merge_requests_count":0,"upvotes":11,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345598","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345598","notes":"https://gitlab.com/api/v4/projects/278964/issues/345598/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345598/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345598","relative":"#345598","full":"gitlab-org/gitlab#345598"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":97244841,"iid":345596,"project_id":278964,"title":"Move registry frontend code under `packages_and_registries`","description":"With the addition of the `infrastructure_registry` and the `dependency_proxy` we have finalised a new root folder for the stage frontend code in `packages_and_registries`\n\nThe folder name mimics the menu entry in the product and makes it easier for any contributor to locate the relative code.\n\nThe `container registry` code sits outside of this folder in the `registry` folder.\n\nWe should move the `registry` folder to `packages_and_registries/container_registry` for consistency and easy to contribute.","state":"closed","created_at":"2021-11-12T14:31:09.340Z","updated_at":"2021-11-17T12:05:35.706Z","closed_at":"2021-11-17T12:05:35.683Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicol Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Container Registry","Package:P2","Stretch","devops::package","frontend","group::package registry","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicol Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicol Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicol Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345596","notes":"https://gitlab.com/api/v4/projects/278964/issues/345596/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345596/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345596","relative":"#345596","full":"gitlab-org/gitlab#345596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97240226,"iid":345592,"project_id":278964,"title":"Minimize security impact from mermaid XSS","description":"### Problem\n\nThe mermaid gem is a security problem and has caused numerous XSS - https://gitlab.com/gitlab-com/gl-security/appsec/appsec-team/-/issues/172\n\nTwo recent security issues\n1. https://gitlab.com/gitlab-org/gitlab/-/issues/345452\n1. https://gitlab.com/gitlab-org/gitlab/-/issues/345035\n\n### Impact\n\nEven though these XSSes are security vulnerabilities in 3rd party library, which should be fixed upstream. We should also take considerable action to minimize its impact on gitlab.com and self hosted instances.\n\n### Ideas\n\n1. Render sanitized SVG\n1. Using sandboxed iframe\n1. Get rid of `mermaid` and move to different vendor\n\n\n### Note\n\n:warning: **This is a public issue**","state":"closed","created_at":"2021-11-12T13:24:41.688Z","updated_at":"2021-11-18T06:07:45.432Z","closed_at":"2021-11-17T00:05:14.114Z","closed_by":{"id":4992072,"username":"dcouture","name":"Dominic Couture","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4992072/avatar.png","web_url":"https://gitlab.com/dcouture"},"labels":["frontend","group::analyzer frontend","security","type::feature"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345592","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345592","notes":"https://gitlab.com/api/v4/projects/278964/issues/345592/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345592/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/342208"},"references":{"short":"#345592","relative":"#345592","full":"gitlab-org/gitlab#345592"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97237218,"iid":345589,"project_id":278964,"title":"[VSA] Use the in-operator optimization when loading records","description":"The aggregated group-level queries for loading the `records` endpoint are not very efficient due to the `IN` query on `group_id`. Example: https://explain.depesz.com/s/WJEa\n\nThis would be a good candidate for the in operator optimization: https://docs.gitlab.com/ee/development/database/efficient_in_operator_queries.html\n\n**How:**\n\nIn the [data_collector](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/analytics/cycle_analytics/aggregated/data_collector.rb) method we build a scope with the `BaseQueryBuilder` class. This scope is used to calculate various metrics: median, average, count, records\n\nWhen the `records` method is called we can build a slightly different version of the `BaseQueryBuilder` scope to use the IN query optimization.\n\nExample:\n\n```ruby\ndef records_fetcher\n  base_query = if group_stage? \u0026\u0026 has_any_filter_params? # author_id or milestone_id or labal_ids \n    query # use the \"original\" base query\n  else\n    BaseQueryBuilder.new(stage: stage, params: params).build_in_operator_optimized_query\n  end\n\n  RecordsFetcher.new(stage: stage, query: base_query, params: params)\nend\n```\n\nThe `build_in_operator_optimized_query` method would do something like this: https://docs.gitlab.com/ee/development/database/efficient_in_operator_queries.html#basic-usage-of-querybuilder","state":"closed","created_at":"2021-11-12T12:34:28.553Z","updated_at":"2022-01-31T07:58:36.056Z","closed_at":"2022-01-31T07:58:35.835Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Value Stream Management","auto updated","backend","devops::manage","group::optimize","missed:14.7","priority::2","section::dev","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345589","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345589","notes":"https://gitlab.com/api/v4/projects/278964/issues/345589/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345589/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345589","relative":"#345589","full":"gitlab-org/gitlab#345589"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6046,"epic":{"id":274497,"iid":6046,"title":"[VSA] Date range filter should apply to end events","url":"/groups/gitlab-org/-/epics/6046","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":97234935,"iid":345587,"project_id":278964,"title":"[Feature flag] Rollout of `ci_fix_order_of_subsequent_jobs`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the bug fix](https://gitlab.com/gitlab-org/gitlab/-/issues/341561) on production,\nthat is currently behind the `ci_fix_order_of_subsequent_jobs` feature flag.\n\n- Issue: #341561\n- MR: !81087\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n- PM: `@dhershkovitch`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe expect that the bug that [stated in the MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81087#screenshots-or-screen-recordings) will be disappeared.\n\n### What might happen if this goes wrong?\n\nIf we did something wrong, the run order of CI jobs could be wrong or some jobs might not run at all.\n\nWe can disable the feature flag.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set ci_fix_order_of_subsequent_jobs true --dev`\n    - [x] `/chatops run feature set ci_fix_order_of_subsequent_jobs true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab ci_fix_order_of_subsequent_jobs true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss ci_fix_order_of_subsequent_jobs true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com ci_fix_order_of_subsequent_jobs true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org ci_fix_order_of_subsequent_jobs true`\n    - [ ] `/chatops run feature set --group=gitlab-com ci_fix_order_of_subsequent_jobs true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e ci_fix_order_of_subsequent_jobs true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be:\n\n- Executed in the `#production` slack channel.\n- Cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set ci_fix_order_of_subsequent_jobs \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_fix_order_of_subsequent_jobs \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_fix_order_of_subsequent_jobs true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_fix_order_of_subsequent_jobs`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_fix_order_of_subsequent_jobs` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_fix_order_of_subsequent_jobs --dev`\n    - [ ] `/chatops run feature delete ci_fix_order_of_subsequent_jobs --staging`\n    - [ ] `/chatops run feature delete ci_fix_order_of_subsequent_jobs`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_fix_order_of_subsequent_jobs false\n```","state":"closed","created_at":"2021-11-12T11:48:25.508Z","updated_at":"2022-04-07T10:26:05.510Z","closed_at":"2022-04-07T10:26:05.486Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature flag","group::pipeline authoring","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345587","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345587","notes":"https://gitlab.com/api/v4/projects/278964/issues/345587/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345587/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345587","relative":"#345587","full":"gitlab-org/gitlab#345587"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97214525,"iid":345567,"project_id":278964,"title":"Set Custom SLIs for Web and API endpoints on Testing","description":"##Context\n\nFollowing the steps from https://gitlab.com/gitlab-com/gl-infra/scalability/-/issues/1315#next-steps, identify the endpoints owned by ~\"group::testing\" that would require a latency target \u003e 1 second, and set a new target duration for those endpoints.\n\n### Web/API Endpoints identified that require custom targets\n\n| Endpoint                                                            | New target duration | Custom SLI set? |\n| ------------------------------------------------------------------- | ------------------- | --------------- |\n| `GET /api/projects/:id/pipelines/:pipeline_id/test_report`          | 5 seconds           | :white_check_mark: |\n| `POST /api/jobs/:id/artifacts`                                      | 5 seconds           | :white_check_mark: |\n| `GET /api/projects/:id/jobs/artifacts/:ref_name/raw/*artifact_path` | 5 seconds           | :white_check_mark: |\n| `GraphqlController#execute`                                         | 3.5 seconds         |  not supported |\n| `POST /api/jobs/:id/artifacts/authorize`                            | 3.5 seconds         | :white_check_mark: |\n| `GET /api/jobs/:id/artifacts`                                       | 2.5 seconds         | :white_check_mark: |\n\n\nNote that the goal for completing this exercise is by **Dec 1 2021**.\n\n## Steps\n\n* [ ] 1. Locate all CI jobs REST API and controller endpoints\n  * For now, using the [Elastic dashboard](https://log.gprd.gitlab.net/app/visualize#/create?type=table\u0026indexPattern=7092c4e2-4eb5-46f2-8305-a7da2edad090\u0026_a=h@774aacf\u0026_g=(time:(from:'now-7d',to:'now'))) is the easiest way to get to the list of endpoints. As written in the [documentation](https://docs.gitlab.com/ee/development/application_slis/rails_request_apdex.html#error-budget-attribution-and-ownership). So from the Stage Group Dashboard, in the error budget attribution row, follow the \"Puma Apdex\" link to see a list of endpoints and the duration targets they meet or exceed.\n* [ ] 2. Select a target duration for each endpoint by consulting [the duration table](https://gitlab.com/gitlab-com/gl-infra/scalability/-/issues/1315#what-target-duration-options-are-available) and following the [steps for determining a custom duration](https://docs.gitlab.com/ee/development/application_slis/rails_request_apdex.html#how-to-adjust-the-urgency)\n* [ ] 3. Where the duration we want differs from the default (1 second), add a custom target duration to the endpoint. **Involve a [Scalability team member](https://about.gitlab.com/handbook/engineering/infrastructure/team/scalability/#team-members) in the review**","state":"closed","created_at":"2021-11-12T06:42:34.797Z","updated_at":"2022-06-02T08:59:30.203Z","closed_at":"2022-02-10T05:34:14.395Z","closed_by":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"labels":["Category:Code Testing and Coverage","FY22::Q4","OKR","Observability","Verify::P2","auto updated","backend","devops::verify","group::pipeline insights","needs investigation","onboarding","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"}],"author":{"id":5709468,"username":"cheryl.li","name":"Cheryl Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709468/avatar.png","web_url":"https://gitlab.com/cheryl.li"},"type":"ISSUE","assignee":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"user_notes_count":39,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345567","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345567","notes":"https://gitlab.com/api/v4/projects/278964/issues/345567/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345567/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345567","relative":"#345567","full":"gitlab-org/gitlab#345567"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97214460,"iid":345566,"project_id":278964,"title":"Set Custom SLIs for Web and API endpoints on Pipeline Authoring","description":"Following the steps from https://gitlab.com/gitlab-com/gl-infra/scalability/-/issues/1315#next-steps, identify the endpoints owned by ~\"group::pipeline authoring\" that would require a latency target \u003e 1 second, and set a new target duration for those endpoints.\n\n### Web/API Endpoints identified that require custom targets\n\n| Endpoint | Type | New target duration | User Impact | Custom SLI set? |\n| ------ | ------ | ------ | ----- | ----- |\n| `POST /api/projects/:id/ci/lint` | API | 5 seconds  | No | |\n| `GET /api/projects/:id/ci/lint` | API | 5 seconds  | No | |\n| `GET /api/:version/projects/:id/pipelines/:pipeline_id/variables` | API | 5 seconds  | No | |\n| `Projects::Ci::LintsController#create.json` | Web | 5 seconds  | Yes | |\n| `Projects::Ci::PipelineEditorController#show` | Web | 5 seconds  | Yes | |\n| `Projects::VariablesController#update.json` | Web | 5 seconds  | Yes  | |\n| `Projects::VariablesController#show.json` | Web | 5 seconds  | Yes | |\n| `Groups::VariablesController#show.json` | Web | 5 seconds  | No | |\n\nNote that the goal for completing this exercise is by **Dec 1 2021**.\n\nThe related MR to remove ignored_components is https://gitlab.com/gitlab-com/runbooks/-/merge_requests/4160","state":"closed","created_at":"2021-11-12T06:40:58.180Z","updated_at":"2022-04-05T19:11:12.712Z","closed_at":"2021-12-06T11:45:06.678Z","closed_by":{"id":722076,"username":"matteeyah","name":"Matija upi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"labels":["FY22::Q4","OKR","Observability","auto updated","backend","devops::verify","group::pipeline authoring","needs investigation","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija upi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":5709468,"username":"cheryl.li","name":"Cheryl Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709468/avatar.png","web_url":"https://gitlab.com/cheryl.li"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija upi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-12-01","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345566","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345566","notes":"https://gitlab.com/api/v4/projects/278964/issues/345566/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345566/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345566","relative":"#345566","full":"gitlab-org/gitlab#345566"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":36608,"iid":37,"sequence":4,"group_id":9970,"title":"Pipeline Authoring: November 29, 2021 - December 12, 2021","description":"Target milestone `14.6`","state":3,"created_at":"2021-10-05T20:42:58.379Z","updated_at":"2021-12-21T15:27:59.954Z","start_date":"2021-11-29","due_date":"2021-12-12","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36608"},"health_status":null},{"id":97213936,"iid":345564,"project_id":278964,"title":"Users can import members from projects that they are not a maintainer on through API","description":"**[HackerOne report #1356100](https://hackerone.com/reports/1356100)** by `joaxcar` on 2021-10-01, assigned to GitLab Team:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nSecurity patch 14.3.1 fixed ([link to patch notes](https://about.gitlab.com/releases/2021/09/30/security-release-gitlab-14-3-1-released/#low-privileged-users-can-import-users-from-projects-that-they-they-are-not-a-maintainer-on) and [link to commit](https://gitlab.com/gitlab-org/gitlab/-/commit/63ba9ad2a1067eb74df493e273707bb64a13a197)) an issue where a maintainer in one project could import members from another project while not being a maintainer in that target project. This is now enforced in the GitLab UI and any requests putting the target project as a project where the user is not maintainer will fail.\n\nThis check is not enforced if the same user uses the API endpoint `/projects/:id/import_project_members/:project_id` [documentation](https://docs.gitlab.com/ee/api/projects.html#import-project-members). As long as the user have maintainer access to the project with id `:id` the users can import members from any target `:project_id` as long as it is visible for the user. That is all public projects and any private project where the user have a role `Guest` or higher.\n\n#####  Steps to reproduce\n\n1. Create a two users `user1` and `user2`  \n2. Log in as `user1` and create a public project `project1` in the users namespace `user1`  \n3. Make a note of the project ID, we call it `ID1`  \n4. Log in as `user2` and create a private project `project2`  \n5. Make a note of the project ID, we call it `ID2`  \n6. Go to https://gitlab.com/-/profile/personal_access_tokens and create an access token for `user2`, lets call it `TOKEN1`  \n7. Send this request in a terminal (replacing \u003cTOKEN\u003e, \u003cID2\u003e and \u003cID1\u003e)  \n   ```  \n   curl --request POST --header \"PRIVATE-TOKEN: \u003cTOKEN1\u003e\" \"https://gitlab.com/api/v4/projects/\u003cID2\u003e/import_project_members/\u003cID1\u003e\"  \n   ```  \n8. Go to https://gitlab.com/user2/project2/-/project_members and verify that `user1` is imported from the public project where `user2` is not a member\n\n#####  Impact\n\nImporting members is supposed to be an action that is restricted to users who are maintainers on both target projects. The API allows users to bypass this restriction.\n\n\n#####  What is the current *bug* behavior?\n\nThe API endpoint does not validate the role of the requester as the UI does\n\n#####  What is the expected *correct* behavior?\n\nThe API should work as the functionality in the UI\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n####  Impact\n\nImporting members is supposed to be an action that is restricted to users who are maintainers on both target projects. The API allows users to bypass this restriction.\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2021-11-12T06:25:44.389Z","updated_at":"2022-02-14T13:54:30.726Z","closed_at":"2022-01-12T11:42:15.615Z","closed_by":{"id":5054702,"username":"vdesousa","name":"Vitor Meireles De Sousa","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f44d19f10d5b0c54a02e79c13812ff77?s=80\u0026d=identicon","web_url":"https://gitlab.com/vdesousa"},"labels":["HackerOne","Weakness::CWE-284","devops::plan","group::project management","priority::4","section::dev","security","security-backlog::review-complete","severity::4","type::bug","workflow::awaiting security release"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-01-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345564","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345564","notes":"https://gitlab.com/api/v4/projects/278964/issues/345564/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345564/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345564","relative":"#345564","full":"gitlab-org/gitlab#345564"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97213190,"iid":345561,"project_id":278964,"title":"Remove vulnerability_occurrences_location_temp_index temporary index","description":"## Why are we doing this work\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/72788 introduced background migration to populate `location` in `vulnerability_occurrences` that contains nil values. In order to speed up the migration, an index (`vulnerability_occurrences_location_temp_index`) was added on `id` column. Once the background migration is complete, it should be removed because it is not useful for application purposes.\n\n## Relevant links\n\n- Background migration [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72788)\n\n\n## Implementation plan\n\n- [x] ~database Create a migration to remove the index","state":"closed","created_at":"2021-11-12T06:08:06.815Z","updated_at":"2021-12-21T06:06:48.726Z","closed_at":"2021-12-21T06:06:36.254Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Vulnerability Management","backend","database","devops::secure","group::security policies","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345561","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345561","notes":"https://gitlab.com/api/v4/projects/278964/issues/345561/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345561/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345561","relative":"#345561","full":"gitlab-org/gitlab#345561"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97203194,"iid":345550,"project_id":278964,"title":"Update translations levels (Dec 2021)","description":"## Introduction\n\nWith the implementation of the feature to show the [translation coverage](https://gitlab.com/gitlab-org/gitlab/-/issues/328430) in the language selection dropdown, the translation levels need to be updated on a monthly cadence. \n\n## Proposal\n\nOnce the monthly merge of the new translations is complete, update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) from Crowdin.\n\n## Documentation\n\n* https://docs.gitlab.com/ee/development/i18n/merging_translations.html#manually-update-the-translation-levels\n\n#### ToDo\n* [x] After cloning: update Title, set Milestone, Due date (15th), Related to previous month's issue.\n* [x] After the 1st of the month: assign to yourself, set ~2526320 \n* [x] Complete the [regular monthly merge](https://gitlab.com/groups/gitlab-org/-/epics/3571) of translations from Crowdin.\n* [x] Get the translation levels (% approved words) from [Crowdin](https://crowdin.com/project/gitlab-ee).\n* [x] Create an MR to update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43).\n* [x] Associate that MR to this issue.\n* [x] Complete the MR.\n* [x] When done, clone [this template issue](https://gitlab.com/gitlab-org/gitlab/-/issues/339985) for the next milestone.","state":"closed","created_at":"2021-11-11T23:48:04.492Z","updated_at":"2022-03-28T19:16:26.261Z","closed_at":"2021-12-07T00:11:45.837Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delali","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5247073,"username":"hdelalic","name":"Haris Delali","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delali","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":5247073,"username":"hdelalic","name":"Haris Delali","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-12-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345550","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345550","notes":"https://gitlab.com/api/v4/projects/278964/issues/345550/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345550/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345550","relative":"#345550","full":"gitlab-org/gitlab#345550"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":97203109,"iid":345549,"project_id":278964,"title":"Merge i18n translations (Dec 2021)","description":"Merge the latest i18n translations from Crowdin on a monthly cadence.\n\nDocumentation available here: https://docs.gitlab.com/ee/development/i18n/merging_translations.html\n\n#### ToDo\n* [x] After cloning: update Title, set Milestone, Due date (15th), Related to previous month's issue.\n* [x] After the 1st of the month: assign to yourself, set ~2526320 \n* [x] If needed, configure the [GitLab-Crowdin integration](https://docs.gitlab.com/ee/development/i18n/merging_translations.html#recreate-the-gitlab-integration-in-crowdin)\n* [x] Kick off a sync from [Crowdin](https://crowdin.com/project/gitlab-ee/apps/system/gitlab)\n* [x] Find the [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026author_username=gitlab-crowdin-bot) created by @gitlab-crowdin-bot and associate it with this issue\n* [x] Complete the MR\n* [x] Update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) with the latest numbers. (Find the issue [here](https://gitlab.com/groups/gitlab-org/-/epics/3571))\n* [x] When done, clone [this template issue](https://gitlab.com/gitlab-org/gitlab/-/issues/339980) for the next milestone.","state":"closed","created_at":"2021-11-11T23:44:29.584Z","updated_at":"2022-03-28T19:16:26.307Z","closed_at":"2021-12-07T00:10:02.433Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delali","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5247073,"username":"hdelalic","name":"Haris Delali","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delali","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":5247073,"username":"hdelalic","name":"Haris Delali","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-12-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345549","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345549","notes":"https://gitlab.com/api/v4/projects/278964/issues/345549/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345549/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345549","relative":"#345549","full":"gitlab-org/gitlab#345549"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":97199969,"iid":345543,"project_id":278964,"title":"Pipelines Created by Group Bots Cannot Pull Git Repository","description":"### Summary\n\nIf a pipeline is created using the [Pipelines API](https://docs.gitlab.com/ee/api/pipelines.html#create-a-new-pipeline) using a [Group Access Token](https://docs.gitlab.com/ee/user/project/settings/project_access_tokens.html#create-a-group-access-token) with a Group Bot that has access to the Project - the Pipeline is successfully created - but the due to the fact that the Group Bot is not considered a `project.bot` - the `build_access_token_check` returns - and pulling the Git repository in the pipeline fails with: \n\n```\nremote: HTTP Basic: Access denied\n```\n\n### Steps to reproduce\n\n1. Create a [Group Access Token](https://docs.gitlab.com/ee/user/project/settings/project_access_tokens.html#create-a-group-access-token)\n2. [Create a Pipeline](https://docs.gitlab.com/ee/api/pipelines.html#create-a-new-pipeline) in a project belonging to the group using the token: e.g. `curl --request POST --header \\\"PRIVATE-TOKEN: ${GROUP_ACCESS_TOKEN}\\\" --form ref=main \\\"https://gitlab.example.com/api/v4/projects/project_id/pipeline\\\"`\n3. The pipeline is successfully created, but will result in a `401` being returned from `Repositories::GitHttpController` due to the fact that the group bot [isn't considered a `project.bot`](https://gitlab.com/gitlab-org/gitlab/blob/v14.4.2-ee/lib/gitlab/auth.rb#L312) \n\n### Related Discussion\n\nI know that we implemented a fix for using Group Access Tokens for regular Git-over-HTTPS operations in !65788 fixing #330718 - and that was meant from the comments to be a stop gap until [Service Accounts](https://gitlab.com/groups/gitlab-org/-/epics/6777) are implemented.  \n\nThis may not be a ~\"type::bug\" - and it may be that Group Bots aren't considered Project Bots by design - but it does result in a confusing experience when the Pipeline is successfully created - but the pipeline can't pull the git repository for the project.\n\n## Proposal\n\u003e `@serenafang :`\n\u003e\n\u003e Since group tokens are being introduced [this MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/77449), I think we could [implement this bug fix as described](https://gitlab.com/gitlab-org/gitlab/-/issues/345543#note_733799420) after the MR merges :thumbsup:","state":"closed","created_at":"2021-11-11T21:50:15.354Z","updated_at":"2022-03-26T14:56:13.071Z","closed_at":"2022-01-24T22:09:58.064Z","closed_by":{"id":114023,"username":"fh1ch","name":"Fabio Huser","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/114023/avatar.png","web_url":"https://gitlab.com/fh1ch"},"labels":["Category:Authentication and Authorization","Community contribution","[deprecated] Accepting merge requests","backend","candidate::14.8","customer","devops::manage","group::authentication and authorization","section::dev","type::bug","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[],"author":{"id":3543077,"username":"jayo","name":"Jason Young","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ad2847a3f399fc5bcb10f0e57911aa58?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayo"},"type":"ISSUE","assignee":null,"user_notes_count":22,"merge_requests_count":0,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345543","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345543","notes":"https://gitlab.com/api/v4/projects/278964/issues/345543/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345543/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345543","relative":"#345543","full":"gitlab-org/gitlab#345543"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97193697,"iid":345538,"project_id":278964,"title":"Enforce job name length to 255 characters in the database","description":"## Problem\n\nCurrently, when a user attempts to enter a job name into `ci_builds.name` that exceeds 255 characters, the page encounters a `500` error.  This is because there is a mismatch between what the frontend allows vs what the backend can accommodate.  The initial proposal is to implement add a length validation [here](https://gitlab.com/gitlab-org/gitlab/-/blob/197b1c3e8215fae5e5d2cbf0213922e726b2e569/lib/gitlab/ci/config/entry/processable.rb#L24-25).\n\n## Proposal\n\nIt may be worth matching the validation before the next major release of [%15.0](https://gitlab.com/groups/gitlab-org/-/milestones/65) so when we incorporate the ~\"breaking change\", we will have an even higher level of confidence and near-zero risk of enforcing this limit so the HTTP 500 error can't occur.  That way, this is fully covered from any possibility of encountering a job length beyond that many characters.","state":"closed","created_at":"2021-11-11T19:32:31.434Z","updated_at":"2022-05-03T09:34:41.203Z","closed_at":"2022-03-23T15:19:47.467Z","closed_by":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"labels":["Category:Pipeline Authoring","[deprecated] Accepting merge requests","approaching-SLO","backend","backend-weight::1","devops::verify","group::pipeline authoring","priority::4","section::ops","severity::4","type::bug"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"type":"ISSUE","assignee":null,"user_notes_count":33,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345538","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345538","notes":"https://gitlab.com/api/v4/projects/278964/issues/345538/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345538/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345538","relative":"#345538","full":"gitlab-org/gitlab#345538"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97191368,"iid":345534,"project_id":278964,"title":"Add Release API Endpoints for Groups","description":"## Overview\n\nOften users want to fetch all of the Releases from all subsequent projects at a specific group, but we only have [project-level API](https://docs.gitlab.com/ee/api/releases/#list-releases) today. We should add group-level API as well.\n\nThis endpoint can also be used for the [endpoint refactoring](https://gitlab.com/gitlab-org/gitlab/-/issues/334986) in the future.\n\n## Implementation plan\n\n- Create one Grape API endpoint for getting Releases for all projects within a group\n  - See [current implementation](app/controllers/groups/releases_controller.rb) for things we might want to reuse\n- Requirements:\n  - Should be possible to order by `created_at: :desc`\n  - Return at least `id` and `tag` fields\n  - Pagination\n- To test compatibility with frontend, the new API path can be passed to the frontend here: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/helpers/search_helper.rb#L356\n  - See example usage below\n\n## Example usage\n\nCurrent endpoint: https://gitlab.com/groups/gitlab-org/-/releases.json\n\n![Screen_Shot_2021-11-15_at_3.07.37_PM](/uploads/40d421d40f0ef9143bebbcb2eade5d6b/Screen_Shot_2021-11-15_at_3.07.37_PM.png)\n\n### Release notes\nWe have added a new endpoint for the [Groups API](https://docs.gitlab.com/ee/api/groups.html) that allows releases to be retrieved for all projects within a group.","state":"closed","created_at":"2021-11-11T18:39:06.561Z","updated_at":"2022-04-13T19:46:16.165Z","closed_at":"2022-04-12T17:53:24.978Z","closed_by":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"labels":["Category:Release Orchestration","GitLab Free","Next Up","api","backend","devops::release","documentation","group::release","missed:14.7","missed:14.8","release post item","release post item::in review","section::ops","type::maintenance"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"}],"author":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"type":"ISSUE","assignee":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345534","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345534","notes":"https://gitlab.com/api/v4/projects/278964/issues/345534/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345534/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345534","relative":"#345534","full":"gitlab-org/gitlab#345534"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97190406,"iid":345533,"project_id":278964,"title":"Migrate test reports to belong to work items","description":"On https://gitlab.com/gitlab-org/gitlab/-/issues/342496 we did create associated issues to all requirements with a background migration. It is\npart of [a plan to deprecate old requirement objects](https://gitlab.com/gitlab-org/gitlab/-/issues/323779#completion).  \n\nWe can now also migrate `RequirementsManagement::TestReport` to belong to issues(work items) instead of requirements with the following steps:  \n\n1. Remove `requirements_test_reports_requirement_id_xor_issue_id` constraint from database **1**\n1. Add callback to `RequirementsManagement::TestReport` model to populate `issue_id` with requirement associated issue id **1**\n1. Create a background migration to populate old records `issue_id` column with requirement associated issue id **3**\n1. Change old code to use the new requirement associated issue on models, services, API etc. **2**\n\n### After Requirement reference (on TestReport model) gets fully deprecated\n\n1. Mark old column `requirement_id` to be ignored **1**\n1. Remove `requirement_id` column **1**","state":"closed","created_at":"2021-11-11T18:14:57.711Z","updated_at":"2022-11-09T21:52:36.907Z","closed_at":"2021-11-16T17:42:55.070Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Category:Requirements Management","backend","database","devops::plan","feature::enhancement","group::certify","section::dev","type::feature"],"milestone":null,"assignees":[],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345533","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345533","notes":"https://gitlab.com/api/v4/projects/278964/issues/345533/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345533/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345533","relative":"#345533","full":"gitlab-org/gitlab#345533"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5171,"epic":{"id":178701,"iid":5171,"title":"Work Items - Migrate Requirements to Work Items","url":"/groups/gitlab-org/-/epics/5171","group_id":9970,"human_readable_end_date":"Apr 30, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":97180989,"iid":345521,"project_id":278964,"title":"Update NPM QA specs to use unique package names","description":"## :fire: Situation\n\nFrom https://gitlab.com/gitlab-com/gl-infra/production/-/issues/5908#note_730931593, we discovered that using a static package name in the NPM QA specs is not a wise idea. This introduces a flakiness.\n\n\n## :fire_engine: Solution\n\nFor increased reliability, always unique package names in _all_ package QA specs.","state":"closed","created_at":"2021-11-11T15:51:59.801Z","updated_at":"2021-11-22T14:44:57.289Z","closed_at":"2021-11-22T14:44:57.255Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","[deprecated] Accepting merge requests","auto updated","backend","devops::package","group::package registry","npm Registry","ruby","section::ops","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345521","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345521","notes":"https://gitlab.com/api/v4/projects/278964/issues/345521/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345521/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345521","relative":"#345521","full":"gitlab-org/gitlab#345521"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97177610,"iid":345512,"project_id":278964,"title":"Event transition definition - BackgroundMigration::BatchedMigration","description":"Currently, we don't have any transition rules. We can move a batched background migration from any state to any state. Also, we don't validate the batched background migration data before we move it to a new state. This could lead to unsuspected behavior. \n\nExample: We found a [migration](https://gitlab.com/gitlab-org/gitlab/-/issues/342352) in state 'finished' with failed jobs. \n\nI suggest that we define the different transitions and we validate the data before we move to a new state. \n\n(Please double-check the data below, I am not 100% sure)\n\n```mermaid\nflowchart LR\n   active \u003c--\u003e paused\n   active ----\u003e finished\n   active --\u003e finalizing\n   active \u003c--\u003e failed\n   finalizing --\u003e failed\n   finalizing --\u003e finished\n```  \n\nStates description:\n\n- **Active**: Ready to be picked by the runner / Running background jobs\n- **Finalizing**: Running background jobs\n- **Failed**: Failed migration\n- **Finished**: Completed migration\n- **Paused**: Not visible to the runner\n\nTransition rules:\n\n- :active =\u003e [:paused, :finalizing, :finished, :failed]\n- :paused =\u003e :active\n- :finalizing =\u003e [:finished, :failed]\n- :failed =\u003e :active\n- :finished =\u003e nil\n\nValidations:\n- **Failed**: At least one background job failed\n- **Finished**: All background jobs are completed","state":"closed","created_at":"2021-11-11T15:08:04.016Z","updated_at":"2022-10-02T16:03:54.232Z","closed_at":"2022-09-30T08:26:09.166Z","closed_by":{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"},"labels":["Category:Database","Engineering Allocation","auto updated","backend","database::active","devops::data_stores","group::database","missed:14.6","missed:14.7","missed:15.4","section::enablement","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"}],"author":{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"},"type":"ISSUE","assignee":{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345512","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345512","notes":"https://gitlab.com/api/v4/projects/278964/issues/345512/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345512/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345512","relative":"#345512","full":"gitlab-org/gitlab#345512"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7453,"epic":{"id":428833,"iid":7453,"title":"Batched Background Migrations: Improve batch handling","url":"/groups/gitlab-org/-/epics/7453","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":97177231,"iid":345510,"project_id":278964,"title":"Fix SAML SSO redirects for pseudonymized URLS for Snowplow tracking","description":"Corrective action for https://gitlab.com/gitlab-org/gitlab/-/issues/345417\n\nThe Group SSO Controller is skipping the `:group` method before it executes. The URL-pseudonymization code that gets included on every page is checking if `group` is defined. By calling `group` for tracking the pseudonymized URL, it caused an endless redirect.","state":"closed","created_at":"2021-11-11T15:01:55.994Z","updated_at":"2021-12-20T15:29:52.786Z","closed_at":"2021-11-22T06:38:29.754Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["Unplanned","backend","corrective action","devops::growth","group::product intelligence","missed:14.5","section::growth","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-11-25","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345510","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345510","notes":"https://gitlab.com/api/v4/projects/278964/issues/345510/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345510/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345510","relative":"#345510","full":"gitlab-org/gitlab#345510"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97168395,"iid":345502,"project_id":278964,"title":"Migrate Status Checks: Create status checks extension","description":"## Problem to solve\n\nFor https://gitlab.com/groups/gitlab-org/-/epics/7066 we want to migrate the existing status checks merge request widget to the new [merge request reports framework](https://design.gitlab.com/regions/merge-request-reports).\n\n## Required reading\n\n- [Figma designs](https://www.figma.com/file/qEddyqCrI7kPSBjGmwkZzQ/Component-library?node-id=40674%3A48504)\n- [Merge request reports - Pajamas](https://design.gitlab.com/regions/merge-request-reports)\n\n## Design screenshot\n\n![image](https://gitlab.com/groups/gitlab-org/-/uploads/2d8b5766c21fac69af893666e179a808/Status_checks.png)\n\n## Spike\n\nThere is a spike https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74200 that can be used as inspiration or a foundation to migrate the status checks to the new framework.\n\n## Implementation\n\n~frontend weight :four: \n\n1. [x] Only show the extension when the `refactorMrWidgetsExtensions` `refactorMrWidgetsExtensionsUser` ~\"feature flag\" is enabled.\n1. [x] Create a new status checks extension that mirrors the behaviour of the existing widget using the new framework.\n    - The new `retry` button will be added in https://gitlab.com/gitlab-org/gitlab/-/issues/345253.\n    - Known issues with the widgets core: https://gitlab.com/gitlab-org/gitlab/-/issues/345501 and https://gitlab.com/gitlab-org/gitlab/-/issues/345499.\n1. [x] Add specs for the new extension.","state":"closed","created_at":"2021-11-11T13:01:45.418Z","updated_at":"2021-12-07T08:03:07.727Z","closed_at":"2021-12-07T08:01:10.038Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["devops::manage","feature::enhancement","frontend","group::compliance","merge request widget","priority::2","section::dev","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345502","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345502","notes":"https://gitlab.com/api/v4/projects/278964/issues/345502/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345502/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345502","relative":"#345502","full":"gitlab-org/gitlab#345502"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7066,"epic":{"id":380799,"iid":7066,"title":"Migrate status checks to the merge request reports framework","url":"/groups/gitlab-org/-/epics/7066","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97166583,"iid":345501,"project_id":278964,"title":"Report Widgets Core: The last row of the full report is not selectable","description":"## Context\n\nWhen the full report is shown, its last row's text is not selectable.\n\n## Required reading\n\nPlease ensure that:\n* all the code written implements the rules of Accessibility https://design.gitlab.com/regions/merge-request-reports#accessibility\n* you're familiar with the overall goal https://www.figma.com/file/qEddyqCrI7kPSBjGmwkZzQ/Component-library?node-id=38193%3A30482\n\n## Task\n\nMake the last row of the full list selectable.\n\n![Kapture_2021-11-10_at_16.31.30](https://gitlab.com/groups/gitlab-org/-/uploads/5554840eb17289cfaf1ad836eb594614/Kapture_2021-11-10_at_16.31.30.gif)","state":"closed","created_at":"2021-11-11T12:26:31.467Z","updated_at":"2021-12-09T10:29:50.364Z","closed_at":"2021-12-09T10:29:50.343Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["WorkingGroup::MergeRequestReportWidgets","devops::manage","frontend","group::compliance","priority::2","section::dev","severity::4","type::bug","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345501","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345501","notes":"https://gitlab.com/api/v4/projects/278964/issues/345501/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345501/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345501","relative":"#345501","full":"gitlab-org/gitlab#345501"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6647,"epic":{"id":337766,"iid":6647,"title":"[MR Widget Eng] Update core MR Widget extension component to fully support the design guidelines","url":"/groups/gitlab-org/-/epics/6647","group_id":9970,"human_readable_end_date":"Jan 29, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97166569,"iid":345499,"project_id":278964,"title":"Report Widgets Core: The label is not vertically centered while loading","description":"## Context\n\nThe loading label is not vertically centered.\n\n## Required reading\n\nPlease ensure that:\n* all the code written implements the rules of Accessibility https://design.gitlab.com/regions/merge-request-reports#accessibility\n* you're familiar with the overall goal https://www.figma.com/file/qEddyqCrI7kPSBjGmwkZzQ/Component-library?node-id=38193%3A30482\n\n## Task\n\nVertically center the label and loading icon while fetching.\n\n![image](/uploads/5ba389b2c9d28a6091be6bca1a36a55a/image.png)","state":"closed","created_at":"2021-11-11T12:26:01.009Z","updated_at":"2021-12-02T10:18:20.153Z","closed_at":"2021-12-02T10:18:20.139Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["WorkingGroup::MergeRequestReportWidgets","devops::manage","frontend","group::compliance","priority::4","section::dev","severity::4","type::bug"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345499","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345499","notes":"https://gitlab.com/api/v4/projects/278964/issues/345499/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345499/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345499","relative":"#345499","full":"gitlab-org/gitlab#345499"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6647,"epic":{"id":337766,"iid":6647,"title":"[MR Widget Eng] Update core MR Widget extension component to fully support the design guidelines","url":"/groups/gitlab-org/-/epics/6647","group_id":9970,"human_readable_end_date":"Jan 29, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97166519,"iid":345498,"project_id":278964,"title":"Report Widgets Actions: Add support for callbacks on tertiary button","description":"## Context\n\nFor https://gitlab.com/groups/gitlab-org/-/epics/7066 we need to be able to call the `fetchCollapsedData` method again to retry when the fetch failed.\n\nCurrently the widget actions only support adding a `href` on the button.\n\n## Required reading\n\nPlease ensure that:\n* all the code written implements the rules of Accessibility https://design.gitlab.com/regions/merge-request-reports#accessibility\n* you're familiar with the overall goal https://www.figma.com/file/qEddyqCrI7kPSBjGmwkZzQ/Component-library?node-id=38193%3A30482\n\n## Task\n\nAdd support for callbacks on the tertiary buttons.\n\n![image](/uploads/ed369389d35030dc067086ddbcef79c6/image.png)","state":"closed","created_at":"2021-11-11T12:25:13.536Z","updated_at":"2021-11-15T10:45:23.417Z","closed_at":"2021-11-15T10:45:23.358Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["WorkingGroup::MergeRequestReportWidgets","devops::manage","feature::enhancement","frontend","group::compliance","section::dev","type::feature"],"milestone":null,"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345498","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345498","notes":"https://gitlab.com/api/v4/projects/278964/issues/345498/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345498/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345498","relative":"#345498","full":"gitlab-org/gitlab#345498"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6647,"epic":{"id":337766,"iid":6647,"title":"[MR Widget Eng] Update core MR Widget extension component to fully support the design guidelines","url":"/groups/gitlab-org/-/epics/6647","group_id":9970,"human_readable_end_date":"Jan 29, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97166418,"iid":345497,"project_id":278964,"title":"Report Widgets Core: Add support for hiding the dropdown","description":"## Context\n\nFor https://gitlab.com/groups/gitlab-org/-/epics/7066 we want to hide the collapse dropdown when `fetchCollapsedData` fails.\n\nThus we need to add support for hiding the dropdown.\n\n## Required reading\n\nPlease ensure that:\n* all the code written implements the rules of Accessibility https://design.gitlab.com/regions/merge-request-reports#accessibility\n* you're familiar with the overall goal https://www.figma.com/file/qEddyqCrI7kPSBjGmwkZzQ/Component-library?node-id=38193%3A30482\n\n## Task\n\nAdd support for hiding the collapse dropdown and its border.\n\n![image](/uploads/ed369389d35030dc067086ddbcef79c6/image.png)","state":"closed","created_at":"2021-11-11T12:23:39.332Z","updated_at":"2021-11-25T13:20:39.732Z","closed_at":"2021-11-25T13:20:39.720Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["WorkingGroup::MergeRequestReportWidgets","devops::manage","feature::enhancement","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345497","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345497","notes":"https://gitlab.com/api/v4/projects/278964/issues/345497/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345497/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345497","relative":"#345497","full":"gitlab-org/gitlab#345497"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6647,"epic":{"id":337766,"iid":6647,"title":"[MR Widget Eng] Update core MR Widget extension component to fully support the design guidelines","url":"/groups/gitlab-org/-/epics/6647","group_id":9970,"human_readable_end_date":"Jan 29, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97166259,"iid":345496,"project_id":278964,"title":"Report Widgets Core: Add support for fetch failures","description":"## Context\n\nFor https://gitlab.com/groups/gitlab-org/-/epics/7066 we need to display an error message when `fetchCollapsedData` fails.\n\nThe widget base does not provide an easy hook / message to display a failure message or handle the error.\n\n## Required reading\n\nPlease ensure that:\n* all the code written implements the rules of Accessibility https://design.gitlab.com/regions/merge-request-reports#accessibility\n* you're familiar with the overall goal https://www.figma.com/file/qEddyqCrI7kPSBjGmwkZzQ/Component-library?node-id=38193%3A30482\n\n## Task\n\nAdd support for rendering a failure message when a fetch fails. Possible solutions:\n\n- Add a `i18n.failure` option.\n- Add a hook to call when fetching fails with the error.\n\n![image](/uploads/ed369389d35030dc067086ddbcef79c6/image.png)","state":"closed","created_at":"2021-11-11T12:20:57.406Z","updated_at":"2021-11-25T13:21:40.006Z","closed_at":"2021-11-25T13:21:39.993Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["WorkingGroup::MergeRequestReportWidgets","devops::manage","feature::enhancement","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345496","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345496","notes":"https://gitlab.com/api/v4/projects/278964/issues/345496/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345496/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345496","relative":"#345496","full":"gitlab-org/gitlab#345496"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6647,"epic":{"id":337766,"iid":6647,"title":"[MR Widget Eng] Update core MR Widget extension component to fully support the design guidelines","url":"/groups/gitlab-org/-/epics/6647","group_id":9970,"human_readable_end_date":"Jan 29, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97163446,"iid":345491,"project_id":278964,"title":"[Feature flag] Rollout display_outdated_line_diff","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [display change that made thread outdated](https://gitlab.com/gitlab-org/gitlab/-/issues/24468) on production,\nthat is currently behind the `display_outdated_line_diff` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::code review\" \n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: `@iamphill`\n- PM: `@phikai`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe should be able to see a button that will trigger an async request to get the change that made the thread outdated.\n\n### What might happen if this goes wrong?\n\n- We may display the incorrect diff\n- The cache may grow very quickly\n\nWe can either turn the feature flag off, which should be enough. Or revert https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72597\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be:\n\n- Executed in the `#production` slack channel.\n- Cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-11-11T11:39:49.569Z","updated_at":"2022-02-24T04:50:18.652Z","closed_at":"2022-02-24T04:50:18.614Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["feature flag","feature::addition","missed:14.6","missed:14.7","missed:14.8","type::feature"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345491","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345491","notes":"https://gitlab.com/api/v4/projects/278964/issues/345491/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345491/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345491","relative":"#345491","full":"gitlab-org/gitlab#345491"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97163015,"iid":345488,"project_id":278964,"title":"Enable certain features by default for dev and testing","description":"Corrective action from issue https://gitlab.com/gitlab-org/gitlab/-/issues/345417\n\n\u003e For development or test environments, can we find ways to enable certain features by default? It was not obvious to me that both Snowplow and this mask_page_urls flag were needed to see this problem. Plus, it took us a few minutes to get group SAML working, but I doubt most people even have a test group with SAML set up. Perhaps we need to formalize the issue-reproduce (https://staging.gitlab.com/issue-reproduce) group so that any feature developed can be validated quickly on GitLab.com.\n\n---\n\n\u003e For development or test environments, can we find ways to enable certain features by default?\n\nOne of the proposals from this issue handles the idea of having Snowplow enabled by default on development and test environment. Some considerations:\n\n- [Enabling Snowplow](https://docs.gitlab.com/ee/development/snowplow/index.html#enable-snowplow-tracking) is fairly easy. And it's enabled on production.\n- [Enabling Snowplow Micro](https://docs.gitlab.com/ee/development/snowplow/implementation.html#snowplow-micro) on development is straightforward, and we're [actively working](https://gitlab.com/groups/gitlab-org/-/epics/6102) on making it more accessible to developers.\n- Snowplow doesn't impact performance negatively.","state":"closed","created_at":"2021-11-11T11:33:33.737Z","updated_at":"2022-06-16T01:51:47.052Z","closed_at":"2021-12-10T19:57:24.251Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel Garca","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["Unplanned","corrective action","devops::growth","frontend","group::product intelligence","missed:14.5","section::growth","type::maintenance","workflow::in dev"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel Garca","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel Garca","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-11-25","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345488","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345488","notes":"https://gitlab.com/api/v4/projects/278964/issues/345488/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345488/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345488","relative":"#345488","full":"gitlab-org/gitlab#345488"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6102,"epic":{"id":281125,"iid":6102,"title":"Snowplow development workflow improvements","url":"/groups/gitlab-org/-/epics/6102","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97162575,"iid":345487,"project_id":278964,"title":"Improve rollout issue language to specify when a feature is applicable","description":"Corrective action from issue https://gitlab.com/gitlab-org/gitlab/-/issues/345417\n\nImprove rollout issue  to specify the cases when a feature is applicable in this case was not obvious that Snowplow should be enabled\n\n[Feature Flag Roll Out.md template](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20Flag%20Roll%20Out.md)","state":"closed","created_at":"2021-11-11T11:26:26.704Z","updated_at":"2022-03-16T11:30:15.120Z","closed_at":"2021-11-16T08:20:03.567Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Unplanned","corrective action","devops::growth","group::product intelligence","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-11-18","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345487","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345487","notes":"https://gitlab.com/api/v4/projects/278964/issues/345487/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345487/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345487","relative":"#345487","full":"gitlab-org/gitlab#345487"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97162262,"iid":345486,"project_id":278964,"title":"Improve rollout issue with explicit language for enabling  a feature flag globally","description":"Corrective action from issue https://gitlab.com/gitlab-org/gitlab/-/issues/345417\n\n\nPer gitlab-com/gl-infra/delivery#2112 , we should improve the language of the feature flag rollout to be more explicit about when to mention #support_gitlab-com and automate the posting when a feature flag has been enabled globally. I suggest that we perhaps strengthen the language to mention the feature flag no matter what since it's hard to know if something is user-visible.\n\n\n[Feature Flag Roll Out.md template](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20Flag%20Roll%20Out.md)","state":"closed","created_at":"2021-11-11T11:21:06.007Z","updated_at":"2021-12-07T03:48:03.947Z","closed_at":"2021-12-07T03:47:54.573Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["auto updated","needs weight","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-11-18","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345486","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345486","notes":"https://gitlab.com/api/v4/projects/278964/issues/345486/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345486/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345486","relative":"#345486","full":"gitlab-org/gitlab#345486"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97161991,"iid":345485,"project_id":278964,"title":"Add automated QA tests for group SAML and Snowplow integration enabled","description":"Corrective action from issue https://gitlab.com/gitlab-org/gitlab/-/issues/345417\n\n- We should be testing group SAML in combination with Snowplow enabled/disabled in automated QA tests.","state":"closed","created_at":"2021-11-11T11:15:49.402Z","updated_at":"2022-03-16T11:30:16.158Z","closed_at":"2021-11-26T12:49:38.354Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikoaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["backend","corrective action","devops::growth","group::product intelligence","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikoaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikoaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-11-22","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345485","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345485","notes":"https://gitlab.com/api/v4/projects/278964/issues/345485/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345485/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345485","relative":"#345485","full":"gitlab-org/gitlab#345485"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97160228,"iid":345478,"project_id":278964,"title":"Project Reporters/Developers can see usage quota using graphql","description":"**[HackerOne report #1392773](https://hackerone.com/reports/1392773)** by `ashish_r_padelkar` on 2021-11-06, assigned to @ngeorge1:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nHello,\n\nAs per permission documentation at `https://docs.gitlab.com/ee/user/permissions.html` `View Usage quota` can only been seen by project Maintainers.\n\nHowever, using the graphql query, user with reporter or developer roles can too see these info.\n\n#####  Steps to reproduce\n\n1. Login as Reporter or Developer in any project and navigate to `https://gitlab.com/\u003cNameSpace\u003e/\u003cProjectName\u003e/-/usage_quotas#storage-quota-tab` and you will receive 404 error page which is expected behaviour as per documentation.\n\n2. Now run a below graphql query . (This graphql query is actually sent in background when maintainers open their usage quota page)\n\n```  \nPOST /api/graphql HTTP/2  \nHost: gitlab.com  \nCookie: \u003cYourCookie\u003e  \nContent-Length: 451  \nX-Gitlab-Feature-Category: utilization  \nX-Csrf-Token: \u003cYourCSRFToken\u003e  \nSec-Ch-Ua-Mobile: ?0  \nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36  \nContent-Type: application/json  \nAccept: */*  \nSec-Ch-Ua-Platform: \"macOS\"  \nSec-Ch-Ua: \"Google Chrome\";v=\"95\", \"Chromium\";v=\"95\", \";Not A Brand\";v=\"99\"  \nOrigin: https://gitlab.com  \nSec-Fetch-Site: same-origin  \nSec-Fetch-Mode: cors  \nSec-Fetch-Dest: empty  \nReferer: https://gitlab.com/g2423/githubimport/-/usage_quotas  \nAccept-Encoding: gzip, deflate  \nAccept-Language: en-US,en;q=0.9\n\n[{\"operationName\":\"getProjectStorageCount\",\"variables\":{\"fullPath\":\"g2423/githubimport\"},\"query\":\"query getProjectStorageCount($fullPath: ID!) {\\n  project(fullPath: $fullPath) {\\n    id\\n    statistics {\\n      buildArtifactsSize\\n      pipelineArtifactsSize\\n      lfsObjectsSize\\n      packagesSize\\n      repositorySize\\n      snippetsSize\\n      storageSize\\n      uploadsSize\\n      wikiSize\\n      __typename\\n    }\\n    __typename\\n  }\\n}\\n\"}]  \n```\n\nReplace `fullPath` with your project full path and send the request.\n\n3. You should see all the usage quota in response which is expected to be seen only by project Maintainers as per documentation.\n\n\n\n#####  What is the current *bug* behavior?\n\nProject reporters or developers can see usage quota using graphql query.\n\n#####  What is the expected *correct* behavior?\n\nOnly Maintainers should be able to see this as per documentation.\n\n\n\n#####  Output of checks\n\n This bug happens on GitLab.com\n\nRegards,  \nAshish\n\n####  Impact\n\nProject Reporters/Developers can see usage quota using graphql\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2021-11-11T10:48:36.737Z","updated_at":"2022-04-13T20:48:39.425Z","closed_at":"2022-02-28T16:00:36.780Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","Deliverable","HackerOne","Weakness::CWE-284","backend","bug::vulnerability","devops::plan","group::project management","priority::3","section::dev","security","security-backlog::review-complete","severity::3","type::bug","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-01-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345478","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345478","notes":"https://gitlab.com/api/v4/projects/278964/issues/345478/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345478/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345478","relative":"#345478","full":"gitlab-org/gitlab#345478"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97147555,"iid":345457,"project_id":278964,"title":"Invalid - 1 value for usage_data field in VersionApp","description":"# Summary\n\nhttps://sentry.gitlab.net/gitlab/versiongitlabcom/issues/2982183/?referrer=slack\n\n# Details\n\nWe get an error when we try to create a service ping in VersionApp\n\nThis looks like is a -1 value for a field that doesn't accept this type of data.\n\nThe problematic fields is f[ilesystems for which we expect an array](https://gitlab.com/gitlab-services/version-gitlab-com/-/blob/master/db/schema.rb#L192)\n\n```ruby\ngitaly: {\nfilesystems: -1, \nservers: 1, \nve\n```\n\n# Why we should fix this?\n\nAt the moment of creating this issue, this happened once. \nIn this case, we miss this service ping payload.","state":"closed","created_at":"2021-11-11T07:29:42.969Z","updated_at":"2021-11-16T07:19:47.273Z","closed_at":"2021-11-16T07:18:13.048Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["[deprecated] Accepting merge requests","devops::growth","group::product intelligence","section::growth","type::bug","won't do"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345457","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345457","notes":"https://gitlab.com/api/v4/projects/278964/issues/345457/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345457/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345457","relative":"#345457","full":"gitlab-org/gitlab#345457"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97144137,"iid":345451,"project_id":278964,"title":"Remove defaultMergeCommitMessageWithDescription GraphQL API field","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64437 and 14.5, we started deprecating the `defaultMergeCommitMessageWithDescription` GraphQL API field as it's no longer present in the UI.\n\nSince it's been deprecated we can only remove it after at least 6 releases.","state":"closed","created_at":"2021-11-11T05:50:48.830Z","updated_at":"2022-05-24T12:00:24.775Z","closed_at":"2022-04-29T01:30:46.508Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","Technical Writing","backend","devops::create","docs::improvement","group::code review","section::dev","tw-weight::3","type::maintenance"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345451","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345451","notes":"https://gitlab.com/api/v4/projects/278964/issues/345451/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345451/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345451","relative":"#345451","full":"gitlab-org/gitlab#345451"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97137355,"iid":345434,"project_id":278964,"title":"BE: Extend container-scanning analyzer with OS packages dependency list generation","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nThe first iteration of OS dependency report for Container Scanning relies on running the scanner twice: one for the vulnerabilities (reported in `gl-container-scanning.json`) and one for the dependencies (reported in `gl-dependency-scanning.json`).\n\nWhenever possible, we'd like to run the scanner only once, and then report the findings/dependencies accordingly.\n\n\n## Relevant links\n\n* [Epic](https://gitlab.com/groups/gitlab-org/-/epics/6698)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\nTo address that need we need to update analyzer to generate additional report for that and CI/CD template for Container Scanning to support that.\n\nFor Trivy, we can use `--list-all-pkgs` flag to generate `dependency-scanning` report that we can use in `Security \u0026 Compliance -\u003e Dependency List`.\n\n\n- [x] Documentation: add documentation to [Container Scanning section](https://docs.gitlab.com/ee/user/application_security/container_scanning/) that the analyzer is performing Dependency Scanning scan by default and add information about ability to disable it,\n- [x] Feature flag: no feature flag, but we could consider adding a separate variable to the analyzer to be able to disable the Dependency List generation\n- [-] Performance:\n- [-] Testing:\n\n\n## Implementation plan\n- [x] ~backend ~\"ci::templates\" modify `Security/Container-Scanning` template to accept additional artifact for `dependency-scanning` report,\n- [x] ~backend extend [analyzer](https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning) with additional ability to perform scan to get a list of all packages installed in the container and generate report based on the [schema](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/master/dist/dependency-scanning-report-format.json),\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-11-11T00:33:37.728Z","updated_at":"2021-12-18T07:03:27.030Z","closed_at":"2021-12-07T15:45:31.972Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["Category:Container Scanning","Deliverable","GitLab Ultimate","backend","devops::govern","direction","documentation","group::security policies","section::sec","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345434","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345434","notes":"https://gitlab.com/api/v4/projects/278964/issues/345434/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345434/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345434","relative":"#345434","full":"gitlab-org/gitlab#345434"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6698,"epic":{"id":343749,"iid":6698,"title":"Display Container Scanning Packages in GitLab's Dependency List","url":"/groups/gitlab-org/-/epics/6698","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97136790,"iid":345432,"project_id":278964,"title":"Address missing definitions for Snowplow Event Dictionary","description":"After closing #329554, #333993 and #333992. We need to verify that we're covering all Snowplow events. We could do this by querying distinct events from Sisense and ensuring we have definitions for all of them.","state":"closed","created_at":"2021-11-11T00:04:01.219Z","updated_at":"2022-02-04T03:00:13.441Z","closed_at":"2021-12-17T01:55:34.870Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel Garca","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["auto updated","backend","devops::growth","feature::enhancement","group::product intelligence","section::growth","type::feature","workflow::blocked"],"milestone":null,"assignees":[],"author":{"id":5412956,"username":"agarciatesares","name":"Axel Garca","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345432","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345432","notes":"https://gitlab.com/api/v4/projects/278964/issues/345432/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345432/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345432","relative":"#345432","full":"gitlab-org/gitlab#345432"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5247,"epic":{"id":185219,"iid":5247,"title":"Snowplow Dictionary","url":"/groups/gitlab-org/-/epics/5247","group_id":9970,"human_readable_end_date":"May 30, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97132442,"iid":345424,"project_id":278964,"title":"Provide authenticity for streamed audit events","description":"Audit events can be streamed from a GitLab instance to an independent destination. See https://gitlab.com/groups/gitlab-org/-/epics/5925\n\n## Problem\n\n* Currently it is possible to spoof streamed audit events as there is no way to verify that an incoming audit event is legitimate.\n\n## Proposed Solution\n\n* Add authentication header to outbound streamed events that the consumer can validate.\n* This should be generated by the application on a per-destination basis.\n\n## Implementation Plan\n\n* Add new field `verification_token` to `external_audit_event_destinations` table. It should be not null.\n* ~~Update GraphQL creation mutation to require the input of a token.~~\n  * In hindsight, this won't work for existing destinations. It should be auto-generated and available to the user via the API.\n* Update payload worker to send the token as part of the request headers.\n\n\u003cdetails\u003e\u003csummary\u003eDiscussion before implementation was decided:\u003c/summary\u003e\n\nOne of the open questions was:\n\n\u003e Security requirements?\n\u003e \n\u003e 1. Do we require any sort of authentication before sending? Encrypted/cleartext? Dig in as part of implementation planning.\n\u003e 1. Do they need requests to be signed by GitLab (or the self-hosted instance yes)?\n\u003e    1. *Intuition says yes*\n\n## Proposal - Interim\n\n  - When we publicly release streamed audit events, make a note in the documentation that this feature is a TODO.\n  - Suggest interim measures such as validating the IP address or TLS certificate presented by the sender? (Does GitLab.com use a known set of IP addresses? Self-hosted customers might have more luck here)\n\n## Questions\n\n  - Does a pattern for this exist already? I.e. a GitLab signing key? Does it exist for .com _and_ self-hosted, or just one or the other?\n\n## Potential solutions\n\n  - A GitLab-generated private key signs messages, and the destination validates the signature using the public key\n    + Pros: \n      * Standard way of doing things. (Learn more: https://auth0.com/blog/how-to-explain-public-key-cryptography-digital-signatures-to-anyone/)\n      * Probably easier to hide a private key and prevent arbitrary users from reading it (impersonation / spoofing)\n    + Cons: \n      * have to generate and securely store a private key\n      * users might want to bring their own signing keys\n      * keys need to be distributed to whatever parts of the stack emits the message (might be hard in a k8s cluster?...)\n  - A user-generated / visible simple secret is shown in the UI, and sent as a header\n    + Pros:\n      * Very simple\n    + Cons:\n      * Anyone with access to that part of the UI or the DB can see the secret (we could make it one-time visible?)\n\u003c/details\u003e","state":"closed","created_at":"2021-11-10T21:29:41.140Z","updated_at":"2022-11-03T23:46:30.365Z","closed_at":"2022-01-21T11:15:31.442Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Events","GraphQL","backend","devops::manage","group::compliance","priority::2","section::dev","security","severity::2","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":9820844,"username":"nmalcolm","name":"Nick Malcolm","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9820844/avatar.png","web_url":"https://gitlab.com/nmalcolm"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":38,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-12-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345424","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345424","notes":"https://gitlab.com/api/v4/projects/278964/issues/345424/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345424/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345424","relative":"#345424","full":"gitlab-org/gitlab#345424"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5925,"epic":{"id":263863,"iid":5925,"title":"Streaming Audit Events to user-defined location","url":"/groups/gitlab-org/-/epics/5925","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":97123997,"iid":345411,"project_id":278964,"title":"Follow-up from \"Add section for permanent experiment implementation concerns\"","description":"The following discussion from !74106 should be addressed:\n\n- [x] @dreedy started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74106#note_729956272): \n\n    \u003e ```suggestion:-6+0\n    \u003e ## Experiment Promotion Concerns\n    \u003e \n    \u003e _Items to be considered if candidate experience is to become a permanent part of GitLab_\n    \u003e \n    \u003e \u003c!-- \n    \u003e Add a list of items raised during MR review or otherwise that may need further thought/consideration\n    \u003e before becoming permanent parts of the product.\n    \u003e ```","state":"closed","created_at":"2021-11-10T18:11:07.535Z","updated_at":"2022-03-16T11:30:18.782Z","closed_at":"2021-11-10T19:36:28.626Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["devops::growth","group::acquisition","section::growth","type::maintenance"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345411","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345411","notes":"https://gitlab.com/api/v4/projects/278964/issues/345411/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345411/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345411","relative":"#345411","full":"gitlab-org/gitlab#345411"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97111357,"iid":345401,"project_id":278964,"title":"Editing an open Merge Request results in expected changes to code owners not being applied","description":"### Summary\n\nIf you edit an existing merge request from a source branch to a target branch (e.g. master to developer) and change it so it is merging from the same source branch but to a different target branch and then save. Then the changes are not reflected in the \"code owners\" and in the count within the \"changes\" tab.\n\n\n### Steps to reproduce\n\n1. Create a GitLab SaaS project and add three branches to the repo (e.g. master, developer, 6.0.0)\n1. Add two files (for the purpose of demonstration, e.g. ListLength.py and factornumber.py) to the repo.\n1. Add two different \"code owners\" for each file\n1. Ensure that the branches are all merged/synched from master\n1. Commit a single line change to file \"factornumber.py\" on branch 6.0.0 and commit the same change to the same file on the master branch so that they are the same.\n1. On the master branch commit a single file change to file \"ListLength.py\".\n1. Create an MR from branch master to developer, note there are two code owners one for each python file where changes have occurred, as shown below:\n![image](/uploads/a6a701beff9f85e58b21d6ee1741216a/image.png)\n1. Note that the changes being applied to both files\n![image](/uploads/912a4a324a161ab85022105b0b6179ee/image.png)\n1. Do not complete the merge, instead Edit the MR and change merge request from master to branch 6.0.0 \n![image](/uploads/b2f02c8d2bd6405f022e40f71ad6e57e/image.png)\n1. Now note that even though only one file will now be updated ListLength.py that the code owner of factornumber.py is still highlighted.\n![image](/uploads/c5293389d3237bd85d5b7c7474f699d2/image.png)\n1. Also, note that the Changes tab is showing 2 changes even though only one change is performed:\n![image](/uploads/94c62a34fab82fc3dbe04c69add85f9c/image.png)\n\n### Example Project\n\nhttps://gitlab.com/gitlab-gold/johnlyttle/code-owner-test\n\n### What is the current *bug* behavior?\n\nWhen editing the Merge Request it should only display the \"code owner\" of the file \"ListLength.py\" as this is the only file being updated. The \"changes\" tab should display a count of 1 instead of 2 as only 1 change is being merged.\n\n### What is the expected *correct* behavior?\n\nWhen the edited MR is updated, it should reflect the correct status of \"code owners\" and \"changes\"\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com --\u003e GitLab Enterprise Edition 14.5.0-pre 1024c08f50f","state":"closed","created_at":"2021-11-10T15:48:24.589Z","updated_at":"2022-06-23T14:56:09.400Z","closed_at":"2022-06-17T16:30:55.316Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["Category:Source Code Management","Code Owners","Deliverable","backend","customer","devops::create","group::code review","merge requests","missed-SLO","priority::2","section::dev","severity::2","type::bug","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":8108602,"username":"jlyttle","name":"John Lyttle","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8108602/avatar.png","web_url":"https://gitlab.com/jlyttle"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345401","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345401","notes":"https://gitlab.com/api/v4/projects/278964/issues/345401/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345401/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345401","relative":"#345401","full":"gitlab-org/gitlab#345401"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97110202,"iid":345398,"project_id":278964,"title":"[Feature flag] Enable Switch between editing in Content Editor and raw Markdown","description":"## Summary\n\nThis issue is to rollout [Switch between editing in Content Editor and raw Markdown](https://gitlab.com/gitlab-org/gitlab/-/issues/342729) on production,\nthat is currently behind the `wiki_switch_between_content_editor_raw_markdown` feature flag.\n\nThis feature allows \n\n### Related issues\n\n- [Design exploration for toggling between Content Editor and editing source](https://gitlab.com/gitlab-org/gitlab/-/issues/341512)\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: @gl-editor \n- Most appropriate slack channel to reach out to: `#g_create_editor`\n- Best individual to reach out to: @ealcantara @himkp \n- PM: @ericschurter \n\n## Stakeholders\n\n- @mle \n- @oregand \n\n## Expectations\n\n### What are we expecting to happen?\n\nThis section describes the current behavior of editing Markdown in the Wiki and the new behavior after enabling the feature flag. \n\n### Current behavior\n\nWe will change the mechanism to switch between the Content Editor and the Classic Markdown Editor in Wikis. Currently, the Wiki edit page displays a prompt to encourage the user to try the Content Editor. This prompt cant be permanently dismissed. \n\nWhen switching back to the Classic Markdown Editor, the Wiki edit form doesnt preserve the changes in the Content Editor and rolls back to the unmodified markdown that was loaded from the backend. \n\n### New Behavior\n\n- The user toggles between the Classic Markdown Editor and the Content Editor by clicking the \"Switch to rich text\" / \"Edit source\" link buttons.  \n- The Wiki edit form will save the last editor chosen by the user as a web browser preference in local storage. \n\n### Screenshots\n\n| Before | After |\n| ------ | ------ |\n| ![before-one](/uploads/21e1d94c1576ab29e226d63c4def9513/before-one.png)  | ![image](/uploads/e4950a2670f4513bcb286b1c1a3ccc46/image.png) |\n| ![before-two](/uploads/260a3b95aabc6c3f20492fb0429800ee/before-two.png)  |  |\n\n### What might happen if this goes wrong?\n\n- The main risk with this change is that the user may report unexpected changes in the Wiki pages content when switching between the Content Editor and the Classic Markdown Editor. \n- The user may report that the default editor is not their preferred choice. \n\nWe can rollback the feature flag and switch to the previous approach to switch between the Content Editor and Classic Markdown editor. \n\n### What can we monitor to detect problems with this?\n\n- Stay alert to reports in the [Content Editor feedback issue](https://gitlab.com/gitlab-org/gitlab/-/issues/332629)\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set wiki_switch_between_content_editor_raw_markdown true --dev`\n    - [x] `/chatops run feature set wiki_switch_between_content_editor_raw_markdown true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org wiki_switch_between_content_editor_raw_markdown true`\n    - [x] `/chatops run feature set --group=gitlab-com wiki_switch_between_content_editor_raw_markdown true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [x] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be:\n\n- Executed in the `#production` slack channel.\n- Cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set wiki_switch_between_content_editor_raw_markdown \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set wiki_switch_between_content_editor_raw_markdown \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set wiki_switch_between_content_editor_raw_markdown true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete wiki_switch_between_content_editor_raw_markdown --dev`\n    - [ ] `/chatops run feature delete wiki_switch_between_content_editor_raw_markdown --staging`\n    - [ ] `/chatops run feature delete wiki_switch_between_content_editor_raw_markdown\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set wiki_switch_between_content_editor_raw_markdown false\n```\n\n## Availability and Testing\n\nPlease assign the SET (@a_mcdonald) to the MR that removes the feature flag as we will need to remove the ff flow from the `content_editor_spec` E2E test (see https://gitlab.com/gitlab-org/gitlab/-/issues/346149 for more details) to prevent it from breaking in pipelines.","state":"closed","created_at":"2021-11-10T15:32:57.701Z","updated_at":"2022-04-18T07:01:26.114Z","closed_at":"2022-03-30T13:12:42.744Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Deliverable","devops::create","feature flag","feature::addition","group::editor","missed-deliverable","missed:14.8","quad-planning::complete-action","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3540517,"username":"ealcantara","name":"Enrique Alcntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":3540517,"username":"ealcantara","name":"Enrique Alcntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"type":"ISSUE","assignee":{"id":3540517,"username":"ealcantara","name":"Enrique Alcntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"user_notes_count":36,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345398","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":33,"completed_count":18},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"18 of 33 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345398","notes":"https://gitlab.com/api/v4/projects/278964/issues/345398/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345398/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345398","relative":"#345398","full":"gitlab-org/gitlab#345398"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97107260,"iid":345391,"project_id":278964,"title":"Visualize the reasoning why a Service Ping failed","description":"# Summary\n\nAdd a way to visualize the errors we collect from self-managed instances when a Service Ping fails\n\nErrors are collect with the changes introduced here https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78028/diffs\n\n# Why?\n\nThis could help us understand the reason of a failure and give us information on how can be fixed\n\n# Details \n\nWith https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78028/diffs we added a POST request that returns a JSON in case of exception.\n\nWhen we release the 14.8 version we will start receiving these logs \n\nLogs format(This was from a test) \n\n```\nFeb 17 15:20:06.343 | production-5576b8b87-h7d5c | I, [2022-02-17T13:20:06.343318 #84]  INFO -- : [55ccaf4cfde827f882f4227517a33fef]   Parameters: {\"error\"=\u003e{\"time\"=\u003e\"2022-02-17T13:20:05.712Z\", \"uuid\"=\u003e\"02333324-1cd7-4c3b-a45b-a4993f05fb1d\", \"hostname\"=\u003e\"127.0.0.1\", \"version\"=\u003e\"14.8.0-pre\", \"message\"=\u003e\"Error to be logged 1\", \"elapsed\"=\u003e20.1}, \"usage_ping_error\"=\u003e{\"error\"=\u003e{\"time\"=\u003e\"2022-02-17T13:20:05.712Z\", \"uuid\"=\u003e\"02333324-1cd7-4c3b-a45b-a4993f05fb1d\", \"hostname\"=\u003e\"127.0.0.1\", \"version\"=\u003e\"14.8.0-pre\", \"message\"=\u003e\"Error to be logged 1\", \"elapsed\"=\u003e20.1}}}\n```\n\n## Testing\n\nUpdate unit tests and make sure QA pipelines are passing with these changes","state":"closed","created_at":"2021-11-10T14:54:44.849Z","updated_at":"2022-06-21T12:06:31.758Z","closed_at":"2022-05-16T07:08:49.350Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Category:Service Ping","Deliverable","PI System Reliability and Monitoring","VersionApp","backend","devops::growth","group::product intelligence","section::growth","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345391","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345391","notes":"https://gitlab.com/api/v4/projects/278964/issues/345391/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345391/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345391","relative":"#345391","full":"gitlab-org/gitlab#345391"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7033,"epic":{"id":378924,"iid":7033,"title":"Insights into Service Ping Timeouts","url":"/groups/gitlab-org/-/epics/7033","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97107241,"iid":345390,"project_id":278964,"title":"Build a dashboard with an overview of Failed vs Completed Service Pings","description":"# Summary\n\nBuild a dashboard in Sisense with an overview Failed vs Completed Service Pings. This should be added to the existing [Service Ping Health dashboard](http://app.periscopedata.com/app/gitlab/968489/Product-Intelligence---Service-Ping-Health) created in https://gitlab.com/gitlab-org/gitlab/-/issues/346431\n\n# Why\n\n- This will help us understand the success rate of service ping generation\n- Report us why some service ping fails and if there is anything we can improve or fix.\n\n# Details\n\nThe data will arrive in service ping payload with https://gitlab.com/gitlab-org/gitlab/-/issues/345389\n\n# Proposed charts\n\n- Can we add details about the failures from https://gitlab.com/gitlab-org/gitlab/-/issues/295289?","state":"closed","created_at":"2021-11-10T14:54:23.530Z","updated_at":"2022-05-10T01:16:15.309Z","closed_at":"2022-05-10T01:16:15.292Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["Category:Service Ping","PI System Reliability and Monitoring","backend","devops::growth","group::product intelligence","missed:14.10","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345390","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345390","notes":"https://gitlab.com/api/v4/projects/278964/issues/345390/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345390/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345390","relative":"#345390","full":"gitlab-org/gitlab#345390"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7033,"epic":{"id":378924,"iid":7033,"title":"Insights into Service Ping Timeouts","url":"/groups/gitlab-org/-/epics/7033","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97107215,"iid":345389,"project_id":278964,"title":"Track failed Service Pings for self-managed instances","description":"# Summary\n\nTrack failed Service Pings for self-managed instances\n\nWith this issue, we add minimal information about failing service ping.\n\n[Duration and failing reason could be added in follow-up issues](https://gitlab.com/gitlab-org/gitlab/-/issues/345391) \n\n# Why \n\nWe currently don't have insights when a Service Ping from Self Managed instances failed. This could happen due to multiple reasons either a Service Ping metric times out, or the Sidekiq job times out before.\n\n# Requirements\n\n- Service Ping payload should include extra information if a generation failed and the reason for the failure.\n\n# Proposal\n\nNote: This is a proposal, more ideas could come up, the final solution we implement can be discussed with the team.\n\n- Add a new key path dedicated to extra information about Service Ping generation\n- Add information if Service Ping failed and the reason inside the new key path\n- New keypath could be called meta, extra(this is just a suggestion, please add more proposals)\n- Note that we have the service ping filtering and we add only metrics that have a metric definition.\n- This could be added at the very end of the service ping generation. \n- Check with the data team if having this field will be ok with the data processes we have in place\n\n# Example of payload with the extra information\n\n## successful service ping\n```ruby\n{\n uuid:  '0000-0000-0000'\n counts: {\n   issues: 1000,\n  }\n extra(meta): {\n   generation: {\n     status: success\n     duration: 3600(total time in seconds) # this can be a follow up issue\n   }\n }\n}\n```\n\n## broken service ping\n\n```ruby\n\n{\n extra(meta): {\n   generation: {\n     status: failed,\n     duration: 3600(total time in seconds), # this can be a follow up issue\n     error: Sidekiq timeout # this can be a follow up issue\n   }\n }\n}\n```","state":"closed","created_at":"2021-11-10T14:54:04.801Z","updated_at":"2022-05-09T07:41:59.781Z","closed_at":"2022-01-25T20:38:11.909Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["PI System Reliability and Monitoring","backend","devops::growth","group::product intelligence","missed:14.6","missed:14.7","section::growth","type::feature","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345389","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345389","notes":"https://gitlab.com/api/v4/projects/278964/issues/345389/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345389/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345389","relative":"#345389","full":"gitlab-org/gitlab#345389"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7033,"epic":{"id":378924,"iid":7033,"title":"Insights into Service Ping Timeouts","url":"/groups/gitlab-org/-/epics/7033","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97102504,"iid":345386,"project_id":278964,"title":"Coverage check approval rule is ignored","description":"### Summary\n\nMerge requests with decreased code coverage do not require approval before merging even if a `coverage check approval rule`is configured.\n\n### Steps to reproduce\n\n1. Create a new project under a PREMIUM license\n2. Enable the `coverage check approval rule` for all branches and with one approval required by a user that is not me.\n\n![Screen_Shot_2021-11-10_at_14.40.23](/uploads/ed97c91444deeed9b13048801adb9083/Screen_Shot_2021-11-10_at_14.40.23.png)\n\n3. Add a `gitlab-ci.yml` with code coverage and configuration for the extraction\n\n```\ntest:\n  stage: test\n  script:\n    - echo \"Code coverage is 10%\"\n  coverage: '/^Code coverage is ([^%]+)/'\n```\n\n4. Create a merge request decreasing the reported code coverage by the test job\n\n![Screen_Shot_2021-11-10_at_14.44.39](/uploads/792ebf54e8aef3ac1d055a71821e7bab/Screen_Shot_2021-11-10_at_14.44.39.png)\n\n\n### Example Project\n\nhttps://gitlab.com/newcubator/coverage-approval-rule-test\n\n### What is the current *bug* behavior?\n\nThe merge request can be merged by myself and no approval is required although a decrease in code coverage is listed in the mr.\n\n![Screen_Shot_2021-11-10_at_14.46.21](/uploads/9ca14e329408f9bd8c9f1a1fd4e7cbdb/Screen_Shot_2021-11-10_at_14.46.21.png)\n\n### What is the expected *correct* behavior?\n\nMerging the MR by myself should not be possible and the button should be disabled until the mr gets a approval by the configured user in the coverage check approval rule.\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2021-11-10T13:52:00.670Z","updated_at":"2022-05-06T02:51:40.419Z","closed_at":"2022-05-06T02:51:40.398Z","closed_by":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"labels":["Category:Code Testing and Coverage","[deprecated] Accepting merge requests","approaching-SLO","customer","devops::verify","group::pipeline insights","missed-SLO","missed:14.6","onboarding","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":427855,"iid":11,"group_id":9970,"title":"Next 4-7 releases","description":"Bigger issues we plan to ship in the next 4-7 releases, but don't have a designated release yet. \r\n\r\nDO NOT add small changes, bugs, regressions to this milestone.","state":"active","created_at":"2017-12-11T16:26:55.828Z","updated_at":"2018-08-17T11:09:43.594Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/11"},"assignees":[],"author":{"id":1316569,"username":"jansauer","name":"Jan Sauer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3dd8d9585a4a6cce6e3f1a57953614c1?s=80\u0026d=identicon","web_url":"https://gitlab.com/jansauer"},"type":"ISSUE","assignee":null,"user_notes_count":29,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345386","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345386","notes":"https://gitlab.com/api/v4/projects/278964/issues/345386/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345386/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345386","relative":"#345386","full":"gitlab-org/gitlab#345386"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97101518,"iid":345382,"project_id":278964,"title":"Cleanup for MigrateRequirementsToWorkItems background migration","description":"On https://gitlab.com/gitlab-org/gitlab/-/issues/342496 a background migration was created to move `requirements` into `issues` table and keep them in sync.  \n\nThe migration already ran in production from **14.5**. We can now clean up following https://docs.gitlab.com/ee/development/background_migrations.html#cleaning-up instructions.  \n\nWe have no pending jobs in production, after the cleanup happens the query below should return 0:  \n\n``` SQL\ngitlabhq_production=\u003e Select COUNT(*) from background_migration_jobs WHERE class_name = 'MigrateRequirementsToWorkItems' \\g\n count \n-------\n   421\n(1 row)\n\n```","state":"closed","created_at":"2021-11-10T13:37:45.059Z","updated_at":"2022-09-12T15:50:24.896Z","closed_at":"2021-12-15T14:40:56.534Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Background Processing","Deliverable","backend","devops::plan","group::certify","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345382","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345382","notes":"https://gitlab.com/api/v4/projects/278964/issues/345382/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345382/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345382","relative":"#345382","full":"gitlab-org/gitlab#345382"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97084898,"iid":345371,"project_id":278964,"title":"Limit audit events controller to 31 days date range","description":"## Problem to solve\n\nPrompted by @huzaifaiftikhar1's [question](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73741#note_729089945) I noticed that the maximum date range of `31` days for filtering audit events [[docs](https://docs.gitlab.com/ee/administration/audit_events.html#search)] is only enforced in the [frontend](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/audit_events/constants.js#L60) and not in the ~backend in our audit events controllers. This means that a user can select a range of more than 31 days by editing the URL query.\n\n## Screenshot\n\n| `[GDK_HOST]/admin/audit_logs?created_after=2021-06-01\u0026created_before=2021-10-31` |\n| ------ |\n| ![image](/uploads/5922a41b758487a63157c81f834a89a6/image.png) |\n\n## Suggested solution\n\nUpdate the audit events controller to enforce the maximum date range of `31` days.\n\n## Implementation guide\n\n- [ ] Update audit events controllers (instance, group, project)\n- [ ] Update controller specs","state":"closed","created_at":"2021-11-10T11:06:58.736Z","updated_at":"2022-03-29T10:25:32.284Z","closed_at":"2022-03-23T06:49:16.921Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["Category:Audit Events","Eng-Inter-Dept::Rate Limits","availability::limit","backend","bug::performance","devops::manage","group::compliance","maintenance::refactor","priority::2","section::dev","severity::3","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345371","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345371","notes":"https://gitlab.com/api/v4/projects/278964/issues/345371/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345371/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345371","relative":"#345371","full":"gitlab-org/gitlab#345371"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97083816,"iid":345368,"project_id":278964,"title":"Request attention quick action","description":"For users who use quick actions a lot this will helpful to quickly request attention from an assignee or a reviewer.\n\nIdeally the quick action dropdown should only contain current assignees and reviewers.\n\n### Proposal\n\n* `/attention @user1 @user2            Request attention from assignee(s) or reviewer(s)`\n* `/remove_attention @user1 @user2                           Remove attention request(s)`","state":"closed","created_at":"2021-11-10T10:49:56.698Z","updated_at":"2022-02-18T07:01:12.841Z","closed_at":"2022-02-10T16:25:20.197Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Technical Writing","devops::create","documentation","frontend","group::code review","quad-planning::complete-action","section::dev","type::feature","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345368","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345368","notes":"https://gitlab.com/api/v4/projects/278964/issues/345368/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345368/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345368","relative":"#345368","full":"gitlab-org/gitlab#345368"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5331,"epic":{"id":195597,"iid":5331,"title":"Merge requests that require my attention","url":"/groups/gitlab-org/-/epics/5331","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97083719,"iid":345367,"project_id":278964,"title":"Create system note for attention requests","description":"When a user requests attention manually from an assignee or reviewer we should create a system note to record this status change.","state":"closed","created_at":"2021-11-10T10:48:23.223Z","updated_at":"2021-12-18T07:00:55.843Z","closed_at":"2021-12-02T09:17:45.396Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","backend","devops::create","frontend","group::code review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345367","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345367","notes":"https://gitlab.com/api/v4/projects/278964/issues/345367/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345367/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345367","relative":"#345367","full":"gitlab-org/gitlab#345367"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5331,"epic":{"id":195597,"iid":5331,"title":"Merge requests that require my attention","url":"/groups/gitlab-org/-/epics/5331","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97083612,"iid":345366,"project_id":278964,"title":"Send email notification for attention required","description":"When a user manual requests attention from an assignee or reviewer we should send an email notification to that user.","state":"closed","created_at":"2021-11-10T10:47:17.878Z","updated_at":"2021-12-18T07:00:55.963Z","closed_at":"2021-11-30T12:49:20.910Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","backend","devops::create","frontend","group::code review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345366","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345366","notes":"https://gitlab.com/api/v4/projects/278964/issues/345366/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345366/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345366","relative":"#345366","full":"gitlab-org/gitlab#345366"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5331,"epic":{"id":195597,"iid":5331,"title":"Merge requests that require my attention","url":"/groups/gitlab-org/-/epics/5331","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97083508,"iid":345365,"project_id":278964,"title":"Automate removal of attention required state","description":"When the user does any of the following actions we should remove the attention required state.\n\n1. They approve the MR.\n1. They add someone as an Assignee or Reviewer.\n1. They request attention from an **existing** Assignee or Reviewer.\n1. Someone removes them as an Assignee or Reviewer.\n1. The MR is merged or closed.","state":"closed","created_at":"2021-11-10T10:45:34.953Z","updated_at":"2022-01-10T17:47:37.078Z","closed_at":"2021-12-08T11:56:42.688Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","backend","design-weight::1","devops::create","frontend","group::code review","section::dev","type::feature","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345365","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345365","notes":"https://gitlab.com/api/v4/projects/278964/issues/345365/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345365/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345365","relative":"#345365","full":"gitlab-org/gitlab#345365"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5331,"epic":{"id":195597,"iid":5331,"title":"Merge requests that require my attention","url":"/groups/gitlab-org/-/epics/5331","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97069861,"iid":345359,"project_id":278964,"title":"Squash commit message does not honor regex settings","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen squashing a MR for a fast forward merge the squashed commit message is allowed to not match the commit message regex set on the project.\n\nReproducing it:\n1. Create a new repo initialised with a readme.\n2. Add the commit message regex. Can be anything\n3. Set merge requests to fast forward\n4. Create a MR with two semantic commits\n5. Tick Squash commits\n6. Change the squash commit message to something that doesn't match the regex\n7. Merge. Push Rule does not validate squash commit.\n\n[ZD GitLab Internal](https://gitlab.zendesk.com/agent/tickets/249275)","state":"closed","created_at":"2021-11-10T08:17:42.905Z","updated_at":"2022-11-02T14:24:03.012Z","closed_at":"2022-10-13T13:31:25.658Z","closed_by":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"labels":["Category:Source Code Management","Deliverable","approaching-SLO","automation:ml","backend","customer","devops::create","group::source code","missed-SLO","priority::2","regression","regression:14.8","section::dev","severity::2","type::bug","workflow::post-deploy-db-production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":12417044,"username":"j.seto","name":"Jerry Seto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12417044/avatar.png","web_url":"https://gitlab.com/j.seto"}],"author":{"id":1917618,"username":"mrjkc","name":"Julius Kvedaras","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d3e584486e9fd2c0db555061566b18c8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mrjkc"},"type":"ISSUE","assignee":{"id":12417044,"username":"j.seto","name":"Jerry Seto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12417044/avatar.png","web_url":"https://gitlab.com/j.seto"},"user_notes_count":31,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345359","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345359","notes":"https://gitlab.com/api/v4/projects/278964/issues/345359/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345359/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345359","relative":"#345359","full":"gitlab-org/gitlab#345359"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97067026,"iid":345356,"project_id":278964,"title":"[Feature flag] Rollout of `shimo_integration`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [Integrate Shimo](https://gitlab.com/gitlab-org/gitlab/-/issues/343386) on production,\nthat is currently behind the `shimo_integration` feature flag.\n\nUse Shimo as a Wiki tool.\n\n## Owners\n\n- Team: ~\"group::integrations\" \n- Most appropriate slack channel to reach out to: `#g_ecosystem_integrations`\n- Best individual to reach out to: @.luke (GitLab.com assisting @icbd from JH)\n- PM: @lpeng1991\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nThe feature should be enabled with no negative effects to services.\n\nAfter saving the integration of shimo, will get a `Shimo` sidebar menu.\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n1. Partial Rollout on GitLab.com with testing groups\n1. Monitor Sentry for errors\n1. Monitor Kibana and Prometheus latency for all actions of `Projects::Integrations::ShimoController`\n1. Rollout Feature for everyone\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set shimo_integration true --dev`\n    - [x] `/chatops run feature set shimo_integration true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab shimo_integration true`\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab-foss shimo_integration true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com shimo_integration true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org shimo_integration true`\n    - [x] `/chatops run feature set --group=gitlab-com shimo_integration true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --user=\u003cyour-username\u003e shimo_integration true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [x] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be:\n\n- Executed in the `#production` slack channel.\n- Cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set shimo_integration \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set shimo_integration \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set shimo_integration true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `shimo_integration` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete shimo_integration --dev`\n    - [x] `/chatops run feature delete shimo_integration --staging`\n    - [x] `/chatops run feature delete shimo_integration`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set shimo_integration false\n```","state":"closed","created_at":"2021-11-10T07:23:08.588Z","updated_at":"2022-11-22T19:12:08.594Z","closed_at":"2022-09-07T23:32:05.177Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Community contribution","Integration::Shimo","JiHu contribution","automation:ml","automation:ml wrong","devops::manage","feature flag","group::integrations","missed:14.10","missed:14.5","missed:14.6","missed:14.7","missed:14.8","missed:14.9","missed:15.0","missed:15.1","missed:15.2","missed:15.3","section::dev","type::maintenance"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":88518,"username":"chaomao","name":"MAO Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/88518/avatar.png","web_url":"https://gitlab.com/chaomao"},{"id":2556296,"username":"icbd","name":"Baodong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2556296/avatar.png","web_url":"https://gitlab.com/icbd"},{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2556296,"username":"icbd","name":"Baodong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2556296/avatar.png","web_url":"https://gitlab.com/icbd"},"type":"ISSUE","assignee":{"id":88518,"username":"chaomao","name":"MAO Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/88518/avatar.png","web_url":"https://gitlab.com/chaomao"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345356","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":37,"completed_count":35},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"35 of 37 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345356","notes":"https://gitlab.com/api/v4/projects/278964/issues/345356/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345356/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345356","relative":"#345356","full":"gitlab-org/gitlab#345356"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97053692,"iid":345343,"project_id":278964,"title":"Update project permissions on e2e projects","description":"### Problem\n\nGetting spam/phishing MRs on the API Security e2e test projects.\n\n### Proposal\n\nChange the project permissions to only allow project members to submit MRs.\n\n1. Set 'Only Project Members' on Settings -\u003e General -\u003e Visibility, project features, permissions -\u003e Repository -\u003e Merge Requests\n1. Repeat for each project in api-fuzzing-e2e","state":"closed","created_at":"2021-11-10T00:23:59.483Z","updated_at":"2021-11-10T02:00:30.970Z","closed_at":"2021-11-10T02:00:16.816Z","closed_by":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"labels":["Category:DAST","GitLab Ultimate","auto updated","backend","devops::secure","group::dynamic analysis","workflow::scheduling"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345343","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345343","notes":"https://gitlab.com/api/v4/projects/278964/issues/345343/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345343/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345343","relative":"#345343","full":"gitlab-org/gitlab#345343"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97052334,"iid":345336,"project_id":278964,"title":"Filtering issue boards by iterationId is not working in Graphql","description":"While investigating the functionality of filtering issue boards, we found that filtering issues from a board by `iterationId` is not currently working\n\ncc @digitalmoksha @mcelicalderonG @jlear \n\nAdditional context: https://gitlab.slack.com/archives/C014C5S4TK4/p1636485294079900","state":"closed","created_at":"2021-11-09T23:46:30.396Z","updated_at":"2021-11-13T00:22:09.015Z","closed_at":"2021-11-13T00:22:08.999Z","closed_by":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"labels":["GraphQL","auto updated","backend","devops::plan","section::dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345336","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345336","notes":"https://gitlab.com/api/v4/projects/278964/issues/345336/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345336/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345336","relative":"#345336","full":"gitlab-org/gitlab#345336"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97042881,"iid":345326,"project_id":278964,"title":"Race condition can cause session setup to fail","description":"### Problem\n\nWhen running API Security the scanner is started as a background process. We then run the `worker-entry` python script which waits for the scanners API port to become available then makes a REST API call to start the scanning session. Today we have had several jobs in pipelines fail because the REST API call happened before the scanner was ready.\n\nWhen would a customer see this?\n\n1. If we add a slow db migration script\n1. If the customer has a slow runner\n\n### Proposal\n\nAdd basic retry logic around our session setup REST API call. We shouldn't have to worry about backing off here, because we already have that logic when waiting for the HTTP port to become available.\n\n* Retry up to 10 times.\n* Wait 1 seconds between each attempt\n\nTasks:\n\n1. [x] Add retry logic to `launch` method\n1. [x] Add a unit test to worker-entry\n1. [x] Publish new container","state":"closed","created_at":"2021-11-09T20:21:23.974Z","updated_at":"2021-11-11T23:06:41.888Z","closed_at":"2021-11-11T23:06:41.871Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","GitLab Ultimate","auto updated","backend","devops::secure","group::dynamic analysis","priority::3","section::sec","severity::3","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345326","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345326","notes":"https://gitlab.com/api/v4/projects/278964/issues/345326/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345326/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345326","relative":"#345326","full":"gitlab-org/gitlab#345326"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97040513,"iid":345323,"project_id":278964,"title":"FE: Create filter for 'Source'","description":"## Why are we doing this work\n- with inherited policies showing up on the policies list, a user will want to filter the policies by source\n\n## Relevant links\n![group-level policies list design](https://gitlab.com/groups/gitlab-org/-/uploads/4c69be8a2f8b9d11c053b1ce0f9f8c49/mvc-group-level.png)\n\n\n## Non-functional requirements\n- [ ] Documentation:\n- [x] Testing:\n\n\n## Implementation plan\n- [x] ~frontend create a policy source filter at `ee/app/assets/javascripts/threat_monitoring/components/policies/filters/policy_source_filter`\n- [x] ~frontend move [policy_type_filter](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_type_filter.vue) to `ee/app/assets/javascripts/threat_monitoring/components/policies/filters/policy_type_filter`\n- [x] ~frontend move [policy_environments](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_environments.vue) to `ee/app/assets/javascripts/threat_monitoring/components/policies/policy_environments`\n- [x] ~frontend modify [policies_list.vue](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policies/policies_list.vue) to show a the policy source filter","state":"closed","created_at":"2021-11-09T19:49:46.448Z","updated_at":"2022-07-18T03:21:42.773Z","closed_at":"2022-07-14T19:52:29.066Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["devops::govern","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345323","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":5},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345323","notes":"https://gitlab.com/api/v4/projects/278964/issues/345323/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345323/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345323","relative":"#345323","full":"gitlab-org/gitlab#345323"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4425,"epic":{"id":114110,"iid":4425,"title":"Group Level Policy Management","url":"/groups/gitlab-org/-/epics/4425","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97040488,"iid":345322,"project_id":278964,"title":"[Feature flag] Enable `:group_security_policies` feature flag","description":"## Summary\n\nThis issue is to rollout [group-level scan execution policies](https://gitlab.com/groups/gitlab-org/-/epics/4425) on production,\nthat is currently behind the `:group_security_policies` feature flag.\n\n\n## Owners\n\n- Team: ~\"group::container security\" \n- Most appropriate slack channel to reach out to: `#g_protect_container_security`\n- Best individual to reach out to: @aturinske (Alexander Turinske)\n- PM: Sam White\n\n## Expectations\n\n### What are we expecting to happen?\n\n- a user can create a group-level scan execution security policy and it will show up on all the sub-groups/projects\n\n### What might happen if this goes wrong?\n\n- the user will not be able to create a group-level scan execution security policy and it will not show up on all the sub-groups/projects\n\n### What can we monitor to detect problems with this?\n\n- #is_this_known\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set group_security_policies true --dev`\n    - [ ] `/chatops run feature set group_security_policies true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org group_security_policies true`\n    - [ ] `/chatops run feature set --group=gitlab-com group_security_policies true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be:\n\n- Executed in the `#production` slack channel.\n- Cross-posted (with the command results) to the responsible team's slack channel (`#g_protect_container_security`).\n\n- [ ] Announce on [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/4425) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `group_security_policies`\".\n    - [ ] Execute the `/copy_metadata https://gitlab.com/gitlab-org/gitlab/-/issues/345322` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `group_security_policies` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete group_security_policies --dev`\n    - [ ] `/chatops run feature delete group_security_policies --staging`\n    - [ ] `/chatops run feature delete group_security_policies`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set group_security_policies false\n```","state":"closed","created_at":"2021-11-09T19:49:32.799Z","updated_at":"2022-03-28T03:21:34.670Z","closed_at":"2022-03-22T03:36:04.033Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["[deprecated] Accepting merge requests","devops::govern","feature flag","feature::addition","group::security policies","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345322","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":41,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 41 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345322","notes":"https://gitlab.com/api/v4/projects/278964/issues/345322/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345322/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345322","relative":"#345322","full":"gitlab-org/gitlab#345322"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4425,"epic":{"id":114110,"iid":4425,"title":"Group Level Policy Management","url":"/groups/gitlab-org/-/epics/4425","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97040452,"iid":345321,"project_id":278964,"title":"FE: Update project details drawer to include Source information","description":"## Why are we doing this work\n- with inherited policies showing up on the policies list, a user will want to see the source in the details drawer\n\n\n## Relevant links\n| Screenshot 1 | Screenshot 2 |\n| - | - |\n| ![group-level drawer design](https://gitlab.com/groups/gitlab-org/-/uploads/079ebd70a2f2a54616810fd53b7393e5/mvc-group-level-drawer-open-editable.png) | ![group-level inherited drawer design](https://gitlab.com/groups/gitlab-org/-/uploads/f07bd2cdf96415ae49bf4b85cdfc3e63/mvc-group-level-drawer-open-readonly.png) |\n\n\n## Non-functional requirements\n- [ ] Documentation:\n- [ ] Testing:\n\n\n## Implementation plan\n- [x] ~frontend modify [scan_execution_policies query](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/graphql/queries/scan_execution_policies.query.graphql) to retrieve source information\n- [x] ~frontend update [scan execution policy drawer component](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_drawer/scan_execution_policy.vue) to include source information","state":"closed","created_at":"2021-11-09T19:49:11.658Z","updated_at":"2022-06-13T16:52:10.671Z","closed_at":"2022-06-13T16:52:10.640Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["devops::govern","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345321","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345321","notes":"https://gitlab.com/api/v4/projects/278964/issues/345321/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345321/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345321","relative":"#345321","full":"gitlab-org/gitlab#345321"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4425,"epic":{"id":114110,"iid":4425,"title":"Group Level Policy Management","url":"/groups/gitlab-org/-/epics/4425","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97040433,"iid":345320,"project_id":278964,"title":"FE: Update policies list page to show inherited policies","description":"## Why are we doing this work\n- users want to see inherited policies in the policies list (e.g. this project/group/namespace/instance)\n\n\n## Relevant links\n![inherited policies design](https://gitlab.com/groups/gitlab-org/-/uploads/4c69be8a2f8b9d11c053b1ce0f9f8c49/mvc-group-level.png)\n\n\n## Non-functional requirements\n- [ ] Documentation:\n- [ ] Testing:\n\n\n## Implementation plan\n- [x] ~frontend modify [scan_execution_policies](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/graphql/queries/scan_execution_policies.query.graphql) to show inherited policies","state":"closed","created_at":"2021-11-09T19:48:59.120Z","updated_at":"2022-05-30T14:28:01.861Z","closed_at":"2022-05-24T07:55:57.018Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["devops::govern","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345320","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345320","notes":"https://gitlab.com/api/v4/projects/278964/issues/345320/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345320/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345320","relative":"#345320","full":"gitlab-org/gitlab#345320"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4425,"epic":{"id":114110,"iid":4425,"title":"Group Level Policy Management","url":"/groups/gitlab-org/-/epics/4425","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97040343,"iid":345318,"project_id":278964,"title":"Create group `policies#edit` page","description":"## Why are we doing this work\n- a user wants to be able to edit group-wide policies\n\n## Relevant links\n![group-level policies editor design](https://gitlab.com/groups/gitlab-org/-/uploads/bac8dc3dd85be12462cb4e90dfda40cb/create-policy-group-level.png)\n\n\n## Non-functional requirements\n- [ ] Documentation:\n- [ ] Feature flag: `:group_security_policies`\n- [ ] Testing:\n\n\n## Implementation plan\n- [x] ~backend Create `groups/\u003cGROUP_NAME\u003e/-/security/policies/\u003cPOLICY_NAME\u003e/edit?environment_id=\u003cENV_ID\u003e\u0026type=\u003cTYPE\u003e\u0026kind=\u003cKIND\u003e` path to create a new policy\n  - new controller:`ee/app/controllers/groups/security/policies_controller.rb`, new route:`#edit`, new view: `ee/app/views/groups/security/policies/edit.html.haml`\n  - The `Group::Security::PoliciesController#edit` method needs to be filled out \n  - The helper method in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84393#note_901447787 is used to populate this page as well.\n- [x] ~frontend copy [`ee/app/assets/javascripts/pages/projects/security/policies/edit/index.js`](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/pages/projects/security/policies/edit/index.js) to create the `ee/app/assets/javascripts/pages/group/security/policies/edit/index.js`\n- [x] ~frontend modify [update_scan_execution_policies query](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/graphql/mutations/create_scan_execution_policy.mutation.graphql) (or create a new group-level one) to create/update/destroy group-level policies\n- [x] ~frontend modify [policies_editor.vue](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/policy_editor.vue) to work for group-level policies \n- [x] ~frontend show an informational alert that the policy will affect many projects and link back to the `Group Overview` page","state":"closed","created_at":"2021-11-09T19:48:31.308Z","updated_at":"2022-06-06T03:41:18.317Z","closed_at":"2022-05-31T17:35:56.131Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["backend","backend complete","devops::govern","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345318","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":5},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345318","notes":"https://gitlab.com/api/v4/projects/278964/issues/345318/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345318/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345318","relative":"#345318","full":"gitlab-org/gitlab#345318"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4425,"epic":{"id":114110,"iid":4425,"title":"Group Level Policy Management","url":"/groups/gitlab-org/-/epics/4425","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97040318,"iid":345317,"project_id":278964,"title":"Create group `policies#new` page","description":"## Why are we doing this work\n- a user wants to be able to create group-wide policies\n\n## Relevant links\n![group-level policies editor design](https://gitlab.com/groups/gitlab-org/-/uploads/bac8dc3dd85be12462cb4e90dfda40cb/create-policy-group-level.png)\n\n\n## Non-functional requirements\n- [ ] Documentation:\n- [ ] Feature flag: `:group_security_policies`\n- [ ] Testing:\n\n\n## Implementation plan\n- [x] ~backend Create `groups/\u003cGROUP_NAME\u003e/-/security/policies/new` path to create a new policy\n  - new controller:`ee/app/controllers/groups/security/policies_controller.rb`, new route:`#new`, new view: `ee/app/views/groups/security/policies/new.html.haml`\n- [x] ~backend ensure all the correct information is being passed to the ~frontend (per https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84393#note_901447787)\n  - [x] modify `policies_helper.rb` to work for group policies and project policies\n- [x] ~frontend copy [`ee/app/assets/javascripts/pages/projects/security/policies/new/index.js`](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/pages/projects/security/policies/new/index.js) to create the `ee/app/assets/javascripts/pages/group/security/policies/new/index.js`\n- [x] ~frontend modify [update_scan_execution_policies query](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/graphql/mutations/create_scan_execution_policy.mutation.graphql) (or create a new group-level one) to create/update/destroy group-level policies\n- [x] ~frontend modify [policies_editor.vue](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/policy_editor.vue) to work for group-level policies \n- [x] ~frontend show an informational alert that the policy will affect many projects and link back to the `Group Overview` page","state":"closed","created_at":"2021-11-09T19:48:14.558Z","updated_at":"2022-06-06T03:41:18.369Z","closed_at":"2022-05-31T17:35:26.649Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["backend","backend complete","devops::govern","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345317","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":7},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345317","notes":"https://gitlab.com/api/v4/projects/278964/issues/345317/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345317/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345317","relative":"#345317","full":"gitlab-org/gitlab#345317"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4425,"epic":{"id":114110,"iid":4425,"title":"Group Level Policy Management","url":"/groups/gitlab-org/-/epics/4425","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97040298,"iid":345316,"project_id":278964,"title":"Create `Group =\u003e Security =\u003e Policies` page and create `:group_security_policies` feature flag","description":"## Why are we doing this work\n- a user wants to be able to create group-wide policies\n\n## Relevant links\n![group-level policies list design](https://gitlab.com/groups/gitlab-org/-/uploads/4c69be8a2f8b9d11c053b1ce0f9f8c49/mvc-group-level.png)\n\n\n## Non-functional requirements\n- [ ] Documentation:\n- [ ] Feature flag: `:group_security_policies`\n- [ ] Testing:\n\n\n## Implementation plan\n- [x] ~backend Create `groups/\u003cGROUP_NAME\u003e/-/security/policies` path to display the list of the group's policies\n  - new controller:`ee/app/controllers/groups/security/policies_controller.rb`, new route:`#index`, new view: `ee/app/views/groups/security/policies/index.html.haml`\n- [x] ~frontend copy [`ee/app/assets/javascripts/pages/projects/security/policies/index/index.js`](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/pages/projects/security/policies/index/index.js) to create the `ee/app/assets/javascripts/pages/group/security/policies/index/index.js`\n- [x] ~frontend update policy project linking to work for groups by switching from `projectPath` to `namespacePath` in the existing code\n- [x] ~frontend modify [scan_execution_policies query](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/graphql/queries/scan_execution_policies.query.graphql) to retrieve group-level policies\n  - [x] when the group-level scan execution policies query is complete on the ~backend , enable it on the ~frontend with the following patch \n\u003cdetails\u003e\u003csummary\u003ePatch\u003c/summary\u003e\n\n```bash\ndiff --git a/ee/app/assets/javascripts/threat_monitoring/graphql/queries/group_scan_execution_policies.query.graphql b/ee/app/assets/javascripts/threat_monitoring/graphql/queries/group_scan_execution_policies.query.graphql\nindex 9e14b368027..028e824720b 100644\n--- a/ee/app/assets/javascripts/threat_monitoring/graphql/queries/group_scan_execution_policies.query.graphql\n+++ b/ee/app/assets/javascripts/threat_monitoring/graphql/queries/group_scan_execution_policies.query.graphql\n@@ -1,5 +1,5 @@\n query groupScanExecutionPolicies($fullPath: ID!) {\n-  group(fullPath: $fullPath) @client {\n+  group(fullPath: $fullPath) {\n     id\n     scanExecutionPolicies {\n       nodes {\ndiff --git a/ee/spec/frontend/threat_monitoring/components/policies/policies_list_spec.js b/ee/spec/frontend/threat_monitoring/components/policies/policies_list_spec.js\nindex 500e47075cb..285f4dd19c1 100644\n--- a/ee/spec/frontend/threat_monitoring/components/policies/policies_list_spec.js\n+++ b/ee/spec/frontend/threat_monitoring/components/policies/policies_list_spec.js\n@@ -7,6 +7,7 @@ import PoliciesList from 'ee/threat_monitoring/components/policies/policies_list\n import PolicyDrawer from 'ee/threat_monitoring/components/policy_drawer/policy_drawer.vue';\n import { NAMESPACE_TYPES, PREDEFINED_NETWORK_POLICIES } from 'ee/threat_monitoring/constants';\n import networkPoliciesQuery from 'ee/threat_monitoring/graphql/queries/network_policies.query.graphql';\n+import groupScanExecutionPoliciesQuery from 'ee/threat_monitoring/graphql/queries/group_scan_execution_policies.query.graphql';\n import projectScanExecutionPoliciesQuery from 'ee/threat_monitoring/graphql/queries/project_scan_execution_policies.query.graphql';\n import scanResultPoliciesQuery from 'ee/threat_monitoring/graphql/queries/scan_result_policies.query.graphql';\n import createStore from 'ee/threat_monitoring/store';\n@@ -17,6 +18,7 @@ import waitForPromises from 'helpers/wait_for_promises';\n import {\n   networkPolicies,\n   projectScanExecutionPolicies,\n+  groupScanExecutionPolicies,\n   scanResultPolicies,\n } from '../../mocks/mock_apollo';\n import {\n@@ -43,10 +45,12 @@ const networkPoliciesSpy = networkPolicies(mockNetworkPoliciesResponse);\n const projectScanExecutionPoliciesSpy = projectScanExecutionPolicies(\n   mockScanExecutionPoliciesResponse,\n );\n+const groupScanExecutionPoliciesSpy = groupScanExecutionPolicies(mockScanExecutionPoliciesResponse);\n const scanResultPoliciesSpy = scanResultPolicies(mockScanResultPoliciesResponse);\n const defaultRequestHandlers = {\n   networkPolicies: networkPoliciesSpy,\n   projectScanExecutionPolicies: projectScanExecutionPoliciesSpy,\n+  groupScanExecutionPolicies: groupScanExecutionPoliciesSpy,\n   scanResultPolicies: scanResultPoliciesSpy,\n };\n const pendingHandler = jest.fn(() =\u003e new Promise(() =\u003e {}));\n@@ -98,6 +102,7 @@ describe('PoliciesList component', () =\u003e {\n           apolloProvider: createMockApollo([\n             [networkPoliciesQuery, requestHandlers.networkPolicies],\n             [projectScanExecutionPoliciesQuery, requestHandlers.projectScanExecutionPolicies],\n+            [groupScanExecutionPoliciesQuery, requestHandlers.groupScanExecutionPolicies],\n             [scanResultPoliciesQuery, requestHandlers.scanResultPolicies],\n           ]),\n           stubs: {\n@@ -275,6 +280,9 @@ describe('PoliciesList component', () =\u003e {\n     it('fetches policies', () =\u003e {\n       expect(requestHandlers.networkPolicies).not.toHaveBeenCalled();\n       expect(requestHandlers.projectScanExecutionPolicies).not.toHaveBeenCalled();\n+      expect(requestHandlers.groupScanExecutionPolicies).toHaveBeenCalledWith({\n+        fullPath: groupFullPath,\n+      });\n       expect(requestHandlers.scanResultPolicies).not.toHaveBeenCalled();\n     });\n   });\ndiff --git a/ee/spec/frontend/threat_monitoring/mocks/mock_apollo.js b/ee/spec/frontend/threat_monitoring/mocks/mock_apollo.js\nindex c66cff449f2..32a4b7bf0c9 100644\n--- a/ee/spec/frontend/threat_monitoring/mocks/mock_apollo.js\n+++ b/ee/spec/frontend/threat_monitoring/mocks/mock_apollo.js\n@@ -59,6 +59,19 @@ export const projectScanExecutionPolicies = (nodes) =\u003e\n     },\n   });\n \n+export const groupScanExecutionPolicies = (nodes) =\u003e\n+  jest.fn().mockResolvedValue({\n+    data: {\n+      group: {\n+        id: '3',\n+        __typename: 'Group',\n+        scanExecutionPolicies: {\n+          nodes,\n+        },\n+      },\n+    },\n+  });\n+\n export const scanResultPolicies = (nodes) =\u003e\n   jest.fn().mockResolvedValue({\n     data: {\n\n```\n\n\u003c/details\u003e\n\n- [x] ~frontend modify [policies_list.vue](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policies/policies_list.vue) to work for group-level policies\n- [x] ~backend ensure the correct information is being passed to the ~frontend\n  - [x] update `assigned_policy_project` and `disable_security_policy_project` in [groups/security/policies/index.html.haml](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/views/groups/security/policies/index.html.haml) to pass back the correct information","state":"closed","created_at":"2021-11-09T19:47:57.929Z","updated_at":"2022-06-21T12:07:30.667Z","closed_at":"2022-05-17T16:34:06.428Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Deliverable","backend","devops::govern","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/345316","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":8},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/345316","notes":"https://gitlab.com/api/v4/projects/278964/issues/345316/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/345316/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#345316","relative":"#345316","full":"gitlab-org/gitlab#345316"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4425,"epic":{"id":114110,"iid":4425,"title":"Group Level Policy Management","url":"/groups/gitlab-org/-/epics/4425","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]