[{"id":109651687,"iid":364393,"project_id":278964,"title":"Backend: Add `partition_id` column to selected CI database tables","description":"## Description\n\nThis issue is part of the [CI/CD data time-decay](https://docs.gitlab.com/ee/architecture/blueprints/ci_data_decay/) implementation effort, see more details in the [pipeline partitioning design document](https://docs.gitlab.com/ee/architecture/blueprints/ci_data_decay/pipeline_partitioning.html).\n\nAs the first iteration towards implementing pipelines data partitioning, we want to add `partition_id` column to the 6 selected database tables:\n\n| Table name            | Total size | Index size |\n|-----------------------|------------|------------|\n| ci_builds             | 3.5 TB     | 1 TB       |\n| ci_builds_metadata    | 1.8 TB     | 150 GB     |\n| ci_job_artifacts      | 600 GB     | 300 GB     |\n| ci_pipelines          | 400 GB     | 300 GB     |\n| ci_stages             | 200 GB     | 120 GB     |\n| ci_pipeline_variables | 100 GB     | 20 GB      |\n| (…around 40 more)     |            |            |\n\nIn order to add that column efficiently we may want to use a `DEFAULT` value of 100 or 1000. For more details about what do these numbers represent, see pipelines data partitioning design doc, liked above.\n\n/cc @jheimbuck_gl @marknuzzo","state":"closed","created_at":"2022-06-06T13:56:22.294Z","updated_at":"2023-01-10T15:52:51.915Z","closed_at":"2022-09-08T07:28:40.597Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["CI data partitioning","FY23::Q3","OKR","Verify::P2","backend","ci::scaling","devops::verify","group::pipeline execution","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364393","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364393","notes":"https://gitlab.com/api/v4/projects/278964/issues/364393/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364393/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364393","relative":"#364393","full":"gitlab-org/gitlab#364393"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5417,"epic":{"id":206291,"iid":5417,"title":"Partition CI/CD pipelines data","url":"/groups/gitlab-org/-/epics/5417","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":109647422,"iid":364390,"project_id":278964,"title":"Reduce ProcessCommitWorker memory allocation","description":"In https://gitlab.com/gitlab-com/gl-infra/capacity-planning/-/issues/3#note_969399559 we've noticed that the `urgent-other` shard in Sidekiq is suffering from a lot of OOM kills.\n\n[Thanos](https://thanos.gitlab.net/graph?g0.expr=sort_desc(sum%20by%20(node_type)%20(label_replace(increase(node_vmstat_oom_kill%7Benv%3D%22gprd%22%2C%20node!%3D%22%22%7D%5B1d%5D)%2C%20%22node_type%22%2C%20%22%241%22%2C%20%22node%22%2C%20%22(.*)%5C%5C-(.*)%5C%5C-(.*)%22)))\u0026g0.tab=0\u0026g0.stacked=0\u0026g0.range_input=2w\u0026g0.max_source_resolution=0s\u0026g0.deduplicate=1\u0026g0.partial_response=0\u0026g0.store_matches=%5B%5D)\n\nIn the logs, we could see that the `ProcessCommitWorker` is having some instances where it allocates more than 1 GB of memory:\n\n![image](/uploads/7cb5705926739d913346ec85353fb97e/image.png)\n[source](https://log.gprd.gitlab.net/goto/2bd2f230-e597-11ec-b86b-d963a1a6788e)\n\nThere's even some cases where it allocated more than 30GB of memory: [Source](https://log.gprd.gitlab.net/goto/370d2200-e598-11ec-b86b-d963a1a6788e)\n\nWe should reduce this to avoid the containers getting killed when we're close to running out of memory.","state":"closed","created_at":"2022-06-06T12:58:40.908Z","updated_at":"2022-11-15T08:05:10.389Z","closed_at":"2022-09-20T09:21:53.040Z","closed_by":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"labels":["Category:Source Code Management","Deliverable","GitLab.com Resource Saturation","backend","bug::performance","devops::create","group::source code","infradev","missed-deliverable","missed:15.3","priority::2","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"user_notes_count":41,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364390","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364390","notes":"https://gitlab.com/api/v4/projects/278964/issues/364390/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364390/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364390","relative":"#364390","full":"gitlab-org/gitlab#364390"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109636648,"iid":364375,"project_id":278964,"title":"Frontend: Migrate CI/CD Settings \u003e Variables from VueX to GraphQL","description":"## Summary\n\nThe variables setting still uses REST endpoints. Since we're trying to implement all new features in GraphQL, this is a good opportunity to migrate the variables setting to use GraphQL.\n\n## Proposal\n\nPer https://gitlab.com/gitlab-org/gitlab/-/issues/361934#note_969735330:\n\n* Develop this behind a ff\n* Setup apollo in the vue app for variables\n* Make an new graphQL query to get the variables (for group and projects)\n* New mutation query to set the value of variables (for group and projects)\n\n## Implementation Table\n\n| Description | MR |\n| ------ | ------ |\n| Adds a feature flag for variables graphQL app | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89332 |\n| Add Modal and dropdown component | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/94238 |\n| Add Table and Settings components | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/94244/ |\n| Add Admin specific code | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/94267/ |\n| Add group specific code | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/94385/ |\n| Add project specific code | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/94388 |\n| Fix type dropdown issue | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/96051|\n| Progressive loading for 100+ variables | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97176 |\n| Rpllout feature flag | https://gitlab.com/gitlab-org/gitlab/-/issues/364423 |\n\n\u003c!--\n## Documentation \n\n_NOTE: This section is optional, but can be used for easy access to any relevant documentation URLs._\n--\u003e\n\n## Links/References","state":"closed","created_at":"2022-06-06T09:02:30.942Z","updated_at":"2023-01-05T18:30:49.462Z","closed_at":"2022-10-04T19:08:28.190Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","auto updated","devops::verify","frontend","group::pipeline authoring","maintenance::refactor","missed:15.4","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364375","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364375","notes":"https://gitlab.com/api/v4/projects/278964/issues/364375/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364375/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364375","relative":"#364375","full":"gitlab-org/gitlab#364375"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8209,"epic":{"id":542230,"iid":8209,"title":"Variables work for PA kickoff","url":"/groups/gitlab-org/-/epics/8209","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":{"id":69697,"iid":84,"sequence":26,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-07-11T00:05:03.302Z","updated_at":"2022-10-17T00:05:02.143Z","start_date":"2022-10-03","due_date":"2022-10-16","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/69697"},"health_status":"on_track"},{"id":109623630,"iid":364361,"project_id":278964,"title":"VSA `end_event_timestamp` null at the group level","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe `end_event_timestamp` column is currently `null` for [group value stream analytics](https://gitlab.com/groups/gitlab-org/-/analytics/value_stream_analytics?created_after=2022-05-08\u0026created_before=2022-06-06\u0026value_stream_id=1341\u0026stage_id=4185\u0026sort=end_event\u0026direction=desc\u0026page=1). It appears to be correctly populated at [the project level](https://gitlab.com/gitlab-org/gitlab/-/value_stream_analytics?created_after=2022-05-08\u0026created_before=2022-06-06\u0026stage_id=issue\u0026sort=end_event\u0026direction=desc\u0026page=1).\n\n### Steps to reproduce\n\n1. Navigate to [group VSA](https://gitlab.com/groups/gitlab-org/-/analytics/value_stream_analytics)\n2. Select any stage (other than the `overview`)\n3. The \"Last event\" column is blank\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nLooking at a sample of the json response, the `end_event_timestamp` is empty\n```json\n  {\n    \"title\": \"2022-06-05 Test session report | package-and-qa\",\n    \"author\": {\n      ...\n    },\n    ...\n    \"total_time\": {\n      \"seconds\": 4\n    },\n    \"created_at\": \"about 4 hours ago\",\n    ...\n    \"end_event_timestamp\": null\n  },\n```\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n| Group VSA | Project VSA |\n|---|---|\n|![Screen_Shot_2022-06-06_at_11.37.14_am](/uploads/7ec92f50ae3e4c13196abd343fb0bb43/Screen_Shot_2022-06-06_at_11.37.14_am.png)|![Screen_Shot_2022-06-06_at_12.16.45_pm](/uploads/ae2c77302da8c7d33a9f4a6a378ea4d3/Screen_Shot_2022-06-06_at_12.16.45_pm.png)|\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-06-06T02:17:37.711Z","updated_at":"2022-06-16T11:05:13.680Z","closed_at":"2022-06-16T11:05:13.589Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Category:Value Stream Management","backend","devops::manage","group::optimize","priority::1","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364361","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364361","notes":"https://gitlab.com/api/v4/projects/278964/issues/364361/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364361/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364361","relative":"#364361","full":"gitlab-org/gitlab#364361"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109606763,"iid":364345,"project_id":278964,"title":"Follow-up from \"Introduce new New Service Ping metric - UMAU\"","description":"## Summary\n\nInside TimeFrame helper we have a dedicated method to select 4 weeks time range based on a column https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/usage/time_frame.rb#L20\n\nHowever, [DatabaseMetric](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/usage/metrics/instrumentations/database_metric.rb#L109) currently doest have an option to use any custom column, only the default one (defined in the method above).\n\nCurrently we can override the `time_fame` method, something like https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88631#note_969071444, but it seems like refactoring makes a lot of sense here.\n\n## Improvements\n\nRefactor DatabaseMetric class to e able to use a custom column for time range based metrics.\n\n## Risks\n\n\u003c!--\nPlease list features that can break because of this refactoring and how you intend to solve that.\n--\u003e\n\n## Involved components\n\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n## Optional: Intended side effects\n\n\u003c!--\nIf the refactoring involves changes apart from the main improvements (such as a better UI), list them here.\nIt may be a good idea to create separate issues and link them here.\n--\u003e\n\n\n## Optional: Missing test coverage\n\n\u003c!--\nIf you are aware of tests that need to be written or adjusted apart from unit tests for the changed components,\nplease list them here.\n--\u003e\n\n\u003c!--\nPlease select the appropriate label from the following:\n    ~\"feature::addition\"\n    ~\"type::maintenance\"\n    ~\"maintenance::refactor\"\n    ~\"maintenance::pipelines\"\n    ~\"maintenance::workflow\"\n--\u003e","state":"closed","created_at":"2022-06-05T06:48:34.157Z","updated_at":"2022-07-28T09:59:40.509Z","closed_at":"2022-07-28T09:59:40.491Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["automation:ml","automation:ml wrong","backend","devops::analytics","group::product intelligence","maintenance::refactor","section::analytics","type::maintenance","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364345","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364345","notes":"https://gitlab.com/api/v4/projects/278964/issues/364345/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364345/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364345","relative":"#364345","full":"gitlab-org/gitlab#364345"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109582540,"iid":364317,"project_id":278964,"title":"Refactor empty state in `groups/components/app.vue` from HAML to Vue","description":"## Summary\n\nFollow-up to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84397#note_971312865\n\nThe empty state in `groups/components/app.vue` is shown by using DOM manipulation to unhide some HAML. This is kind of hacky and we should refactor these empty states to Vue so they are easier to manage and understand. \n\n## Improvements\n\n- Reduce technical debit\n\n## Risks\n\nLow risk, minor refactor\n\n## Involved components\n\n- [app/assets/javascripts/groups/components/app.vue#L215](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/groups/components/app.vue#L215)\n- [app/views/groups/_archived_projects.html.haml](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/groups/_archived_projects.html.haml)\n- [app/views/groups/_shared_projects.html.haml](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/groups/_shared_projects.html.haml)\n\n\u003c!--\nPlease select the appropriate label from the following:\n    ~\"feature::addition\"\n    ~\"type::maintenance\"\n    ~\"maintenance::refactor\"\n    ~\"maintenance::pipelines\"\n    ~\"maintenance::workflow\"\n--\u003e","state":"closed","created_at":"2022-06-03T22:11:04.030Z","updated_at":"2022-12-21T12:03:34.693Z","closed_at":"2022-12-14T19:31:29.239Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","devops::manage","frontend","group::organization","maintenance::refactor","milestone::p2","missed-deliverable","missed:15.2","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364317","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364317","notes":"https://gitlab.com/api/v4/projects/278964/issues/364317/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364317/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364317","relative":"#364317","full":"gitlab-org/gitlab#364317"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109582052,"iid":364313,"project_id":278964,"title":"Popover for group mentions doesn't work","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIf you hover over a group mention the popover is shown but nothing loads.\n\n### Steps to reproduce\n\n1. Navigate to https://gitlab.com/gitlab-org/gitlab-ui/-/issues/1815#note_970709060\n2. Hover over `@gitlab-org/maintainers/gitlab-ui`\n\n### What is the current *bug* behavior?\n\nPopover is shown but nothing loads\n\n### What is the expected *correct* behavior?\n\nEither:\n\n1. Popover is not shown\n2. Popover is shown with relevant info about the group\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2022-06-03_at_2.37.47_PM](/uploads/d092d34c065411af7f473a6c7bc24c83/Screen_Shot_2022-06-03_at_2.37.47_PM.png)\n\n### Proposal \n\nAs an MVC disable popovers for groups mentions\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-06-03T21:42:52.449Z","updated_at":"2022-07-21T12:02:09.005Z","closed_at":"2022-06-23T00:00:45.731Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Deliverable","SUS::Impacting","UX","devops::manage","frontend","group::organization","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364313","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364313","notes":"https://gitlab.com/api/v4/projects/278964/issues/364313/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364313/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364313","relative":"#364313","full":"gitlab-org/gitlab#364313"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109575980,"iid":364302,"project_id":278964,"title":"Improve column widths in MR approvers table","description":"## Problem to Solve\n\nIdentified in `.com` on this MR https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/102279.\n\nIn this case, I'd expect the `Approved By` column to be wider than the `Approvers` column :shrug:\n\n![Screen_Shot_2022-06-03_at_1.38.27_PM](/uploads/99f1749102d92b4b80cd35705342d57c/Screen_Shot_2022-06-03_at_1.38.27_PM.png)\n\n## Proposal\n\nthe avatars of the approvers should stay on one line (or wrap to two lines).","state":"closed","created_at":"2022-06-03T18:41:12.131Z","updated_at":"2022-08-08T06:53:24.067Z","closed_at":"2022-08-08T06:53:24.023Z","closed_by":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"labels":["SUS::Impacting","UX","approvals","devops::create","frontend","group::code review","maintenance::usability","merge request widget","merge requests","missed:15.2","priority::3","section::dev","severity::4","type::maintenance","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":10539680,"username":"slashmanov","name":"Stanislav Lashmanov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10539680/avatar.png","web_url":"https://gitlab.com/slashmanov"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364302","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364302","notes":"https://gitlab.com/api/v4/projects/278964/issues/364302/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364302/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364302","relative":"#364302","full":"gitlab-org/gitlab#364302"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109575489,"iid":364296,"project_id":278964,"title":"Remove feature flag: ajax_new_deploy_token","description":"Remove `ajax_new_deploy_token` feature flag that was introduced in 12.10","state":"closed","created_at":"2022-06-03T18:23:28.058Z","updated_at":"2022-11-09T12:05:18.040Z","closed_at":"2022-11-09T12:05:18.012Z","closed_by":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"labels":["Category:Continuous Delivery","Release::P2","backend","backend-weight::1","devops::release","group::release","section::ops","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"}],"author":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"type":"ISSUE","assignee":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364296","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364296","notes":"https://gitlab.com/api/v4/projects/278964/issues/364296/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364296/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364296","relative":"#364296","full":"gitlab-org/gitlab#364296"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109574572,"iid":364290,"project_id":278964,"title":"Display an image's shortened path with an option to expand","description":"### Context\n\nWhen you have many image repositories in your container registry, it's important that you can quickly scan the list of images and find the one you are looking for, so you can validate it's correct or troubleshoot when something has gone wrong. \n\n### Problem to solve\n\nThe problem is that the current user interface displays the full path in the UI. This makes it very difficult to find the image repository you are looking for. Why? Because the full path can be very long and difficult for your eyes to quickly parse. \n\n### Proposal\n\n- By default, display the shortened path of an image, this will allow users to quickly scan their image repository list and find what they are looking for. \n- Give users the option to expand a given image name and view the full path. \n- Give users the ability to copy the full image path, so they can use it in their pipeline definition files or from the command line.\n- Measure the number of clicks on the ellipsis that allows users to view the full path. (This will help inform if a more global setting is needed)\n\n\n#### Solution\n##### How the path displays in UI\nThis proposal was informed by the following [survey](https://gitlab.com/gitlab-org/ux-research/-/issues/1868)\n\n* Hide the `company/group/sub-group` from the path in the UI by default, with an option to expand it. Keep the sub repositories in the path `sub1/sub2/sub3`\n\n\n![image](/uploads/9e256747d8a8f5d58147785fcc65e453/image.png)\n| Currently shown in UI | Proposal |\n| ------ | ------ |\n| `company/group/project/ Root image` | `project/ Root image` |\n| `company/group/project/image` | `project/image` |\n| `company/group/project/sub1/sub2/sub3` | `project/sub1/sub2/sub3` |\n\n##### Copy button\n\nThe copy button should still copy the entire path\n![image](/uploads/e3bfcf878d44a76f3c601f39e49569ef/image.png)\n| What's shown in the UI | What the copy button copies |\n| ------ | ------ |\n| `project/image` | `registry.gitlab.com/company/group/project/image`|\n\n### Implementation\n\n* In group context, the ~GraphQL query needs to return extra fields related to project path to implement as mentioned in the [table](https://gitlab.com/groups/gitlab-org/-/epics/8185#how-the-path-displays-in-ui) since its hard to determine the project path from the existing `path` field on the group query.\n\n#### Tracking button clicks\nWe should track how often the ellipsis button is clicked each time the user is on the page. If the user clicks on every row to expand the full path, we know that we're inconveniencing the user. \n![Screen_Shot_2022-06-07_at_14.36.33](/uploads/3ee7f6d01ffe5223fe41afa7f077d09d/Screen_Shot_2022-06-07_at_14.36.33.png)\n\n#### Phased rollout\nWe could considering rolling out the truncation with the ellipsis button to a small subset of users, tracking how often users are clicking the ellipsis button and then making a determination to roll out further.","state":"closed","created_at":"2022-06-03T17:51:21.902Z","updated_at":"2022-11-04T01:31:06.488Z","closed_at":"2022-07-13T21:00:33.704Z","closed_by":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"labels":["Category:Container Registry","Deliverable","FY23::Q1","OKR","Package:P1","UX","auto updated","devops::package","feature::enhancement","frontend","frontend-weight::2","group::package registry","priority::2","section::ops","severity::2","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364290","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364290","notes":"https://gitlab.com/api/v4/projects/278964/issues/364290/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364290/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364290","relative":"#364290","full":"gitlab-org/gitlab#364290"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8185,"epic":{"id":539198,"iid":8185,"title":"Improve filter behavior in container registry","url":"/groups/gitlab-org/-/epics/8185","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109574555,"iid":364289,"project_id":278964,"title":"Stop appending Root image in the frontend","description":"### Context\n\nWhen you have many image repositories in your container registry, it's important that you can easily search for them, so that you can efficiently find the one you are looking for and validate that it's correct or troubleshoot when something has gone wrong. \n\n\n### Problem to solve\n\nBut, if you publish an image without a tag name, we display `Root image` in the UI. Based on recent user research, we learned that users found this confusing and not helpful. \n\n### Proposal\n\nStop appending Root image in the Container Registry UI.\n\n| Currently shown in UI | Proposal |\n| ------ | ------ |\n| `company/group/project/ Root image` | `project` |\n\n#### Breadcrumb\nNo longer show `Root image` in breadcrumb on the image repository detail page. Instead, show the name of the project.\n\n| Before | After |\n| ------ | ------ |\n| ![Screen_Shot_2022-06-07_at_14.45.26](/uploads/9b65960ab435804f7a13d5704ee94e02/Screen_Shot_2022-06-07_at_14.45.26.png) | ![Screen_Shot_2022-06-07_at_14.45.52](/uploads/85c7fb90df47411dcd2cea66ec020332/Screen_Shot_2022-06-07_at_14.45.52.png) |\n\n#### Title\nNo longer show `Root image` as title on the image repository detail page. Instead, show the name of the project.\n\n### Implementation\n\n* All changes needed are contained within https://gitlab.com/gitlab-org/gitlab/-/tree/master/app/assets/javascripts/packages_and_registries/container_registry/explorer","state":"closed","created_at":"2022-06-03T17:50:29.537Z","updated_at":"2022-08-03T02:20:31.395Z","closed_at":"2022-07-05T13:23:27.724Z","closed_by":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"labels":["Category:Container Registry","Deliverable","FY23::Q1","OKR","UX","devops::package","feature::enhancement","frontend","frontend-weight::1","group::package registry","priority::2","section::ops","severity::2","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":11214192,"username":"rchanila","name":"Rahul Chanila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11214192/avatar.png","web_url":"https://gitlab.com/rchanila"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364289","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364289","notes":"https://gitlab.com/api/v4/projects/278964/issues/364289/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364289/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364289","relative":"#364289","full":"gitlab-org/gitlab#364289"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8185,"epic":{"id":539198,"iid":8185,"title":"Improve filter behavior in container registry","url":"/groups/gitlab-org/-/epics/8185","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109571837,"iid":364286,"project_id":278964,"title":"Dropping user_details.other_role column","description":"Followup from https://gitlab.com/gitlab-org/growth/team-tasks/-/issues/282\n\nWe [use 3-step column drop](https://docs.gitlab.com/ee/development/database/avoiding_downtime_in_migrations.html#dropping-columns)\n\n1. [x] Ignore the user_details.other_role column https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88901\n1. [x] Opened an issue for the data team to keep the column but remove loading it to the warehouse\n2. [x] Drop user_details.other_role column 15.4\n3. [x] Remove the ignore rule 15.5 !98585","state":"closed","created_at":"2022-06-03T16:51:32.225Z","updated_at":"2022-09-30T11:55:45.111Z","closed_at":"2022-09-30T11:55:45.068Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["Next Up","devops::growth","group::acquisition","missed:15.3","missed:15.4","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364286","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364286","notes":"https://gitlab.com/api/v4/projects/278964/issues/364286/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364286/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364286","relative":"#364286","full":"gitlab-org/gitlab#364286"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109571728,"iid":364285,"project_id":278964,"title":"MR Error message sends indicates inability to merge but other UI elements indicate otherwise","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nI experienced this bug with [this MR](https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/104389. I saw the following two confusing views. This error is especially confusing if the merge button is also clickable, and/or people with write access can merge.\n\nI closed the MR without attempted to merge.\n\n\n![Screen_Shot_2022-05-31_at_4.10.26_PM](/uploads/f2e67192506bb4fca2331d99c5378b7a/Screen_Shot_2022-05-31_at_4.10.26_PM.png))\n\n![image](/uploads/82cce31bef7e37e778a8446c993f8ab2/image.png)\n\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-06-03T16:47:52.416Z","updated_at":"2022-07-21T12:01:29.293Z","closed_at":"2022-07-14T10:33:11.148Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","SUS::Impacting","Technical Writing","UI text","UX","devops::create","documentation","frontend","group::code review","merge requests","priority::2","section::dev","severity::3","type::bug","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":4089849,"username":"jackib","name":"Jacki Bauer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/45cb9a7b286a89f770f76d90b6cf33fd?s=80\u0026d=identicon","web_url":"https://gitlab.com/jackib"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364285","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364285","notes":"https://gitlab.com/api/v4/projects/278964/issues/364285/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364285/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364285","relative":"#364285","full":"gitlab-org/gitlab#364285"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109559943,"iid":364270,"project_id":278964,"title":"Document cleanup policies for packages","description":"## :fire: Problem\n\nUpdate the ~documentation to add a section for cleanup policies for packages.\n\nWe're not sure if this will be included in an existing implementation MR or in a dedicated MR.\n\n## :fire_engine: Solution\n\n* Update the ~documentation for cleanup policies for packages.\n* Make sure we explicitly state that the cleanup policies settings access is granted for maintainer access only.","state":"closed","created_at":"2022-06-03T12:59:20.633Z","updated_at":"2022-09-19T18:29:11.723Z","closed_at":"2022-07-20T07:50:42.163Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","devops::package","documentation","group::package registry","missed:15.1","package:active","section::ops","type::feature","workflow::in dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364270","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364270","notes":"https://gitlab.com/api/v4/projects/278964/issues/364270/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364270/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364270","relative":"#364270","full":"gitlab-org/gitlab#364270"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5152,"epic":{"id":177448,"iid":5152,"title":"Package Registry cleanup policies MVC","url":"/groups/gitlab-org/-/epics/5152","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109539695,"iid":364249,"project_id":278964,"title":"Backend: Unbounded check in build trace section timestamp prevents a CI trace from being loaded","description":"**[HackerOne report #1587261](https://hackerone.com/reports/1587261)** by `exem_pt` on 2022-05-31, assigned to @cmaxim:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n\u003e NOTE! Thanks for submitting a report! Please replace *all* the (parenthesized) sections below with the pertinent details. Remember, the more detail you provide, the easier it is for us to triage and respond quickly, so be sure to take your time filling out the report!\n\n#####  Summary\n\nIf an attacker has control over the printed contents of a CI job trace, either via access to the `.gitlab-ci.yml` file, or as part of a related supply chain security issue, they may prevent access to the CI job trace, effectively hiding their tracks. They may do this by using the \"custom collapsible sections\" feature: https://docs.gitlab.com/ee/ci/jobs/#custom-collapsible-sections with an out-of-bounds timestamp.\n\n#####  Steps to reproduce\n\n1. Create a `.gitlab-ci.yml` file with the following contents:\n\n```  \nstages:  \n  - build\n\nbuild-job:  \n  stage: build  \n  before_script: |  \n    timed() {  \n      timedcnt=$((timedcnt+1))  \n      echo -e \"section_start:$(date +%s):timed_$timedcnt\\r\\e[0KTimed command $timedcnt\"  \n      \"$@\"  \n      echo -e \"section_end:9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999:timed_$timedcnt\\r\\e[0K\"  \n    }  \n    sleeptalk() {  \n      sleep $1  \n      shift  \n      echo \"$@\"  \n    }  \n  script: |  \n    timed sleeptalk 5 Five bottles of beer on the wall, five bottles of beer, take one down and pass it around, four bottles of beer on the wall  \n    timed sleeptalk 4 Four bottles of beer on the wall, four bottles of beer, take one down and pass it around, three bottles of beer on the wall  \n    timed sleeptalk 3 Three bottles of beer on the wall, three bottles of beer, take one down and pass it around, two bottles of beer on the wall  \n    timed sleeptalk 2 Two bottles of beer on the wall, two bottles of beer, take one down and pass it around, one bottle of beer on the wall  \n    timed sleeptalk 1 One bottle of beer on the wall, one bottle of beer, take one down and pass it around, no more bottles of beer on the wall  \n    timed sleeptalk 0 No more bottles of beer on the wall, no more bottles of beer, go to the store and buy some more, five bottles of beer on the wall  \n```\n\n2. Wait for the job to finish  \n3. Attempt to load the job output  \n4. See that the `trace.json` network request (such as https://gitlab.com/xxx/yyy/-/jobs/zzz/trace.json?state=) will return a 500, preventing the job trace from being displayed\n\n#####  Impact\n\nIt's possible for Developer-role and above users with access to the `.gitlab-ci.yml` file to prevent their job trace from being reviewed/audited by other people, allowing them to perform actions inside a job that may otherwise go unscrutinised.\n\nAdditionally, if there was a supply-chain issue, if unmitigated, this could be a common way for attackers that compromise the supply chain to go undetected for longer (as an example, if someone took over an npm package and made it echo out the relevant section_start/section_end parts and that content was in a GitLab CI/CD job, you would not be able to see it due to the HTTP 500 error).\n\n#####  Examples\n\nAn example job was run here: https://gitlab.com/davebarr/ci-testing/-/jobs/2526993347 - this project is currently set to Private. If you need access, let me know, but the example `.gitlab-ci.yml` file above should be make this easy to replicate.\n\n#####  What is the current *bug* behavior?\n\nhttps://gitlab.com/davebarr/ci-testing/-/jobs/2526993347 fails to load.\n\n#####  What is the expected *correct* behavior?\n\nhttps://gitlab.com/davebarr/ci-testing/-/jobs/2526993347 loads successfully.\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n####  Impact\n\nIt's possible for Developer-role and above users with access to the `.gitlab-ci.yml` file to prevent their job trace from being reviewed/audited by other people, allowing them to perform actions inside a job that may otherwise go unscrutinised.\n\nAdditionally, if there was a supply-chain issue, if unmitigated, this could be a common way for attackers that compromise the supply chain to go undetected for longer (as an example, if someone took over an npm package and made it echo out the relevant section_start/section_end parts and that content was in a GitLab CI/CD job, you would not be able to see it due to the HTTP 500 error).\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues\n\n\n## Possible solution\n\nLimit the duration value before extracting the time parts:\n\n```diff\ndiff --git a/lib/gitlab/ci/ansi2json/line.rb b/lib/gitlab/ci/ansi2json/line.rb\nindex e48080993ab..25c38ac5247 100644\n--- a/lib/gitlab/ci/ansi2json/line.rb\n+++ b/lib/gitlab/ci/ansi2json/line.rb\n@@ -80,7 +80,7 @@ def set_as_section_header\n         end\n \n         def set_section_duration(duration_in_seconds)\n-          duration = ActiveSupport::Duration.build(duration_in_seconds.to_i)\n+          duration = ActiveSupport::Duration.build(duration_in_seconds.to_i.clamp(0, 1.year))\n           hours = duration.in_hours.floor\n           hours = hours \u003e 0 ? \"%02d\" % hours : nil\n           minutes = \"%02d\" % duration.parts[:minutes].to_i\n```\n\nI think an upper limit of 1 year is more than sufficient since the jobs are timing out after a few hours.","state":"closed","created_at":"2022-06-03T06:21:56.336Z","updated_at":"2022-11-03T03:28:23.760Z","closed_at":"2022-09-29T01:04:33.336Z","closed_by":{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"},"labels":["Category:Continuous Integration","Deliverable","HackerOne","Weakness::CWE-400","backend","devops::verify","good for new contributors","group::pipeline execution","missed-SLO","missed-deliverable","missed:15.4","onboarding","priority::3","section::ops","security","severity::3","type::bug"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":12411397,"username":"tianwenchen","name":"Tianwen Chen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4219e592c672f4bd062add405865f9aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/tianwenchen"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-08-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364249","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364249","notes":"https://gitlab.com/api/v4/projects/278964/issues/364249/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364249/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364249","relative":"#364249","full":"gitlab-org/gitlab#364249"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109538757,"iid":364247,"project_id":278964,"title":"Gemnasium can't build Docker.fips image","description":"## Summary\n\nThe `build tmp image fips` job in the `gemnasium` pipeline is [currently failing](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/jobs/2537832152) with the following error:\n\n```shell\nError: Unable to find a match: php php-common php-zip php-json php-xml php-mbstring\n```\n\nThis occurs when trying to install `php` in [`Dockerfile.fips`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/2e0a577/build/gemnasium/Dockerfile.fips#L74):\n\n```shell\nyum -y -q install --disableplugin=subscription-manager php php-common php-zip php-json php-xml php-mbstring\n```\n\nThis can be reproduced using the same base image `registry.access.redhat.com/ubi9/nodejs-14` as the [`Dockerfile.fips`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/2e0a577/build/gemnasium/Dockerfile.fips#L25) uses:\n\n```shell\ndocker run -u 0 -it --rm -v \"$PWD:/src\" registry.access.redhat.com/ubi8/nodejs-14 bash\n\nbash-4.4# yum -y -q update --disableplugin=subscription-manager \u0026\u0026 \\\n\u003e  yum -y -q upgrade --disableplugin=subscription-manager \u0026\u0026 \\\n\u003e  yum -y -q install --disableplugin=subscription-manager php\nError: Unable to find a match: php\n```\n\nSearching for the `php` package also fails:\n\n```\nbash-4.4# yum search php\nUpdating Subscription Management repositories.\nUnable to read consumer identity\n\nThis system is not registered with an entitlement server. You can use subscription-manager to register.\n\nLast metadata expiration check: 0:00:23 ago on Fri Jun  3 04:24:58 2022.\nNo matches found.\n```\n\nFor some reason, the image is unable to find the `php` package, even though it exists in the [remote repository](https://cdn-ubi.redhat.com/content/public/ubi/dist/ubi8/8/x86_64/appstream/os/Packages/p):\n\n```shell\n[FILE] php-8.0.13-2.module+el8.6.0+13..\u003e 02-Jun-2022 10:58      -  \n[FILE] php-common-8.0.13-2.module+el8..\u003e 02-Jun-2022 10:58      -  \n[FILE] php-json-7.4.19-2.module+el8.6..\u003e 02-Jun-2022 10:58      -  \n[FILE] php-mbstring-8.0.13-2.module+e..\u003e 02-Jun-2022 10:58      -  \n[FILE] php-xml-8.0.13-2.module+el8.6...\u003e 02-Jun-2022 10:58      -  \n```\n\nThe above file list shows that the packages in the remote repository have been updated at `02-Jun-2022 10:58 UTC`, and the last successful `build tmp image fips` job in `gemnasium` was at [02-Jun-2022 7:11 UTC](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/jobs/2537000878), approximately 4 hours before the remote repository was updated. The first failed `build tmp image fips` job occurred at [02-Jun-2022 8:17 UTC](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/jobs/2537000878).\n\nIt seems that the recent changes to the remote repository are preventing the `php` package from being found. The same failure also happens with the `ruby` and `rubygem-json` packages:\n\n```shell\nbash-4.4# yum install -y ruby\nLast metadata expiration check: 0:00:11 ago on Fri Jun  3 05:20:55 2022.\nAll matches were filtered out by modular filtering for argument: ruby\nError: Unable to find a match: ruby\n```\n\nSomething else that's interesting is that most of the above `php` packages are for `v8.0.13-2`, meanwhile, the current version of `php` in `registry.gitlab.com/security-products/gemnasium:3.0.2-fips` is `7.2.24`:\n\n```shell\ndocker run -it --rm registry.gitlab.com/security-products/gemnasium:3.0.2-fips yum info php\n\nName         : php\nVersion      : 7.2.24\nRelease      : 1.module+el8.2.0+4601+7c76a223\nArchitecture : x86_64\nSize         : 4.8 M\nSource       : php-7.2.24-1.module+el8.2.0+4601+7c76a223.src.rpm\nRepository   : @System\nFrom repo    : ubi-8-appstream\nSummary      : PHP scripting language for creating dynamic web sites\nURL          : http://www.php.net/\nLicense      : PHP and Zend and BSD and MIT and ASL 1.0\n```\n \nAlso, if we look at the [Red Hat Enterprise Linux Application Streams Life Cycle](https://access.redhat.com/support/policy/updates/rhel-app-streams-life-cycle) page and search the `RHEL 8 Application Streams Release Life Cycle` for `php`, it shows that `php 7.2` has been retired as of `May 2021`:\n\n![image](/uploads/405826378e41bffc7127b9cf9edb8dda/image.png)\n\n/cc @gonzoyumo @fcatteau","state":"closed","created_at":"2022-06-03T05:51:58.004Z","updated_at":"2022-06-06T01:56:53.159Z","closed_at":"2022-06-03T10:49:49.886Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","group::composition analysis","maintenance::pipelines","priority::1","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364247","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364247","notes":"https://gitlab.com/api/v4/projects/278964/issues/364247/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364247/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364247","relative":"#364247","full":"gitlab-org/gitlab#364247"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109533151,"iid":364235,"project_id":278964,"title":"[VSA] Selected projects not reflected in tooltip","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhile verifying https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88613 I noticed that the number of selected projects isnt reflected in the task\nby type chart description.\n\nProject filters apply to the chart, and should be reflected in the wording of the tooltip.\n\n### Steps to reproduce\n\n1. Navigate to value stream analytics for a group\n2. Select 1 or more projects\n3. Hover over the tasks by type tooltip\n\n### What is the current *bug* behavior?\n\nThe number of projects isnt reflected in the tooltip\n\n### What is the expected *correct* behavior?\n\nWe already have the code to include the count of projects https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/analytics/cycle_analytics/components/type_of_work_charts.vue#L62, but it seems the `selectedProjectIds` value isnt getting set correctly in the vuex store.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2022-06-03_at_11.03.01_am](/uploads/77c1d90b386ba28cf14377082a7c05cd/Screen_Shot_2022-06-03_at_11.03.01_am.png)\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-06-03T01:13:30.917Z","updated_at":"2022-08-21T12:02:14.808Z","closed_at":"2022-08-01T08:59:08.572Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","Deliverable","SUS::Impacting","Technical Writing","UI text","UX","automation:ml","devops::manage","frontend","group::optimize","priority::3","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364235","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364235","notes":"https://gitlab.com/api/v4/projects/278964/issues/364235/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364235/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364235","relative":"#364235","full":"gitlab-org/gitlab#364235"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109530065,"iid":364229,"project_id":278964,"title":"Multiple failures in fulfillment/purchase E2E tests","description":"\u003c!---\nBefore opening a new QA failure issue, make sure to first search for it in the\nQA failures board: https://gitlab.com/groups/gitlab-org/-/boards/1385578\n\nThe issue should have the following:\n\n- The relative path of the failing spec file in the title, e.g. if the login\n  test fails, include `qa/specs/features/browser_ui/1_manage/login/log_in_spec.rb` in the title.\n  This is required so that existing issues can easily be found by searching for the spec file.\n- If the issue is about multiple test failures, include the path for each failing spec file in the description.\n- A link to the failing job.\n- The stack trace from the job's logs in the \"Stack trace\" section below.\n- A screenshot (if available), and HTML capture (if available), in the \"Screenshot / HTML page\" section below.\n- A link to the corresponding test case(s) in the summary.\n---\u003e\n\n### Summary\n\nFailing job(s): https://ops.gitlab.net/gitlab-org/quality/staging/-/jobs/7261420\n\nFailing spec(s):\n- ./qa/specs/features/ee/browser_ui/11_fulfillment/purchase/free_trial_spec.rb:75 # Fulfillment Purchase starts a free trial when on billing page with only one eligible namespace registers for a new trial\n- ./qa/specs/features/ee/browser_ui/11_fulfillment/purchase/upgrade_group_spec.rb:38 # Fulfillment Purchase group plan upgrades from free to ultimate\n- ./qa/specs/features/ee/browser_ui/11_fulfillment/purchase/upgrade_group_spec.rb:64 # Fulfillment Purchase group plan with existing CI minutes pack upgrades from free to premium with correct CI minutes\n- ./qa/specs/features/ee/browser_ui/11_fulfillment/purchase/free_tier_group_namespace_spec.rb:51 # Fulfillment free tier group namespace displays correct information in billing settings\n- ./qa/specs/features/ee/browser_ui/11_fulfillment/purchase/purchase_ci_spec.rb:67 # Fulfillment Purchase CI minutes with an active subscription adds additional minutes to group namespace\n- ./qa/specs/features/ee/browser_ui/11_fulfillment/purchase/purchase_storage_spec.rb[1:2:1:1]' # Fulfillment purchase storage with an active subscription behaves like Purchase storage adds additional storage to group namespace\n\n\nCorresponding test case(s):\n\n### Stack trace\n\n```\ntimed out after 30 seconds, waiting for true condition on #\u003cWatir::Anchor: located: false; {:css=\u003e\"[data-qa-selector=\\\"start_your_free_trial\\\"]\", :tag_name=\u003e\"a\"}\u003e\n```\n\n```\ntimed out after 30 seconds, waiting for true condition on #\u003cWatir::Anchor: located: false; {:css=\u003e\"[data-qa-selector=\\\"upgrade_to_ultimate\\\"]\", :tag_name=\u003e\"a\"}\u003e\n```\n\n```\ntimed out after 30 seconds, waiting for true condition on #\u003cWatir::Anchor: located: false; {:css=\u003e\"[data-qa-selector=\\\"upgrade_to_premium\\\"]\", :tag_name=\u003e\"a\"}\u003e\n```\n\n```\ntimed out after 30 seconds, waiting for true condition on #\u003cWatir::Button: located: false; {:css=\u003e\"[data-qa-selector=\\\"refresh_seats\\\"]\", :tag_name=\u003e\"button\"}\u003e\n```\n\n### Screenshot / HTML page\n\n\u003c!--\nAttach the screenshot and HTML snapshot of the page from the job's artifacts:\n1. Download the job's artifacts and unarchive them.\n1. Open the `gitlab-qa-run-2020-*/gitlab-{ce,ee}-qa-*/{,ee}/{api,browser_ui}/\u003cpath to failed test\u003e` folder.\n1. Select the `.png` and `.html` files that appears in the job logs (look for `HTML screenshot: /path/to/html/page.html` / `Image screenshot: `/path/to/html/page.png`).\n1. Drag and drop them here.\n\nNote: You don't need to include a screenshot if the information it contains can be included as text. Include the text instead.\nE.g., error 500/404, \"Retry later\" errors, etc.\n\nIf you include multiple screenshots it can be helpful to hide all but the first in a details/summary element, to avoid excessive scrolling:\n\n\u003cdetails\u003e\u003csummary\u003eExpand for screenshot\u003c/summary\u003e\n  drag and drop the screenshot here\n\u003c/details\u003e\n--\u003e\n\n![image](/uploads/52e7b708a44f11fda13692904b2efd3b/image.png)\n\n\n### Possible fixes\n\nLooks like there were changes to UI/selectors that broke our tests\n\n\u003c!-- Default due date. --\u003e\n\u003c!-- Base labels. --\u003e\n\u003c!-- Test failure type label, please use just one.--\u003e\n\u003c!--\nChoose the stage that appears in the test path, e.g. ~\"devops::create\" for\n`qa/specs/features/browser_ui/3_create/web_ide/add_file_template_spec.rb`.\n--\u003e\n\u003c!--\nSelect a label for where the failure was found, e.g. if the failure occurred in\na nightly pipeline, select ~\"found:nightly\".\n--\u003e\n\u003c!--\nhttps://about.gitlab.com/handbook/engineering/quality/guidelines/#priorities:\n- ~\"priority::1\": Tests that are needed to verify fundamental GitLab functionality.\n- ~\"priority::2\": Tests that deal with external integrations which may take a longer time to debug and fix.\n--\u003e\n\u003c!-- Select the current milestone if ~\"priority::1\" or the next milestone if ~\"priority::2\". --\u003e","state":"closed","created_at":"2022-06-02T22:03:57.702Z","updated_at":"2022-08-30T02:32:52.032Z","closed_at":"2022-06-08T22:51:38.267Z","closed_by":{"id":5803275,"username":"chloeliu","name":"Chloe Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5803275/avatar.png","web_url":"https://gitlab.com/chloeliu"},"labels":["QA","Quality","auto updated","devops::growth","failure::new","found:staging.gitlab.com","group::acquisition","priority::1","section::growth","test","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":5407295,"username":"a_mcdonald","name":"Anastasia McDonald","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1bb6df5df2f37b7a058f0f1d6d2b64d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/a_mcdonald"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-06-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364229","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364229","notes":"https://gitlab.com/api/v4/projects/278964/issues/364229/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364229/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364229","relative":"#364229","full":"gitlab-org/gitlab#364229"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109519901,"iid":364218,"project_id":278964,"title":"Pipeline Security - Scan details shows only DAST download options","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nDownload options within the Pipeline =\u003e Security =\u003e Scan Details module all show DAST items. They should have items for the respective scanner. \n\n\n### Steps to reproduce\n\n1. Navigate to a pipeline details page (for a pipeline that ran security scanning)\n2. Click the Security tab\n3. Within the `Scan Details` you will notice that the `download results` buttons all display DAST, and only DAST items. \n\n\n### Example Project\n\nhttps://gitlab.com/gitlab-examples/security/security-reports/-/pipelines/554361586/security\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/7eaa70e15970e1033b294d3f0c610252/image.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-06-02T16:44:10.880Z","updated_at":"2022-06-21T15:43:43.169Z","closed_at":"2022-06-21T02:38:40.688Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["devops::secure","frontend","group::composition analysis","priority::2","section::sec","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":5412787,"username":"nmccorrison","name":"Neil McCorrison","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5412787/avatar.png","web_url":"https://gitlab.com/nmccorrison"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364218","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364218","notes":"https://gitlab.com/api/v4/projects/278964/issues/364218/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364218/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364218","relative":"#364218","full":"gitlab-org/gitlab#364218"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109518624,"iid":364211,"project_id":278964,"title":"Fix in-app checkout column sizes","description":"Because we haven’t defined the width of either column, both columns will fluctuate according to their contents. For the paid tier subscription checkout flow, this is mostly fine by default. For the additional Storage flow, it is too even (we would like the right-side bar to be narrower). And for the CI Minutes checkout flow, the right-side bar is _way_ too skinny.\n\nBut for the CI Minutes \u0026 Storage flows, the column widths are off:\n\n| Paid Tier | Storage | CI Minutes\n|---|---|---\n| ![image](/uploads/2e37631342e4ef741aecbbc81ffeaf52/image.png) | ![image](/uploads/77f0f4848c34f36156c132f202fc8187/image.png) | ![image](/uploads/b0b7ed368411bad4289fe86de211239b/image.png)\n| Right-side bar is a bit too wide | Right-side bar is too wide | Right-side bar is _way_ too skinny\n\n## Other Info\n\n- [MR Comment that caught this issue](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/84637#note_969415378)\n- [Original Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/352166/)\n- [Original Design Specs](https://www.figma.com/file/Wn7kC7imZBSeiLLC5R3L4P/Layout-full-page-forms?node-id=946%3A16975)","state":"closed","created_at":"2022-06-02T16:12:51.496Z","updated_at":"2022-07-19T18:26:10.696Z","closed_at":"2022-06-14T20:51:21.405Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["SUS::Impacting","UI polish","devops::growth","feature::enhancement","frontend","group::acquisition","section::growth","severity::4","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364211","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364211","notes":"https://gitlab.com/api/v4/projects/278964/issues/364211/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364211/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364211","relative":"#364211","full":"gitlab-org/gitlab#364211"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109516668,"iid":364203,"project_id":278964,"title":"“Deleted source branch” is incorrectly shown after MR is merged","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe “Deleted source branch” message is incorrectly shown in the MR merge widget after it's merged.\n\n### Steps to reproduce\n\n1. Create an MR\n2. Set the MR to **not** delete the source branch\n3. Merge the MR\n4. See the merge widget\n\n### Example Project\n\nhttps://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/104521\n\n### What is the current *bug* behavior?\n\nEven when the source branch was not deleted, the merge widget says it was.\n\n### What is the expected *correct* behavior?\n\nIf the source branch was not deleted, the “Deleted source branch” message should not appear.\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/186a3f7d60e80415b133b4beace94bcb/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2022-06-02T15:31:00.879Z","updated_at":"2022-10-21T12:01:35.845Z","closed_at":"2022-09-22T15:47:40.174Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Deliverable","devops::create","frontend","group::code review","merge request widget","merge requests","missed-deliverable","missed:15.2","missed:15.3","missed:15.4","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364203","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364203","notes":"https://gitlab.com/api/v4/projects/278964/issues/364203/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364203/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364203","relative":"#364203","full":"gitlab-org/gitlab#364203"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5589,"epic":{"id":224926,"iid":5589,"title":"Restructure MR merge widget","url":"/groups/gitlab-org/-/epics/5589","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109516431,"iid":364202,"project_id":278964,"title":"Update project fork button to use buttons with badges","description":"### Proposal\n\nUpdate the project fork button to use [Buttons with badges](https://design.gitlab.com/components/button#examples)\n\n![image](/uploads/afac9c6ab667c0b56bfc1a2ff56af39e/image.png)","state":"closed","created_at":"2022-06-02T15:26:16.134Z","updated_at":"2022-08-21T12:02:06.638Z","closed_at":"2022-08-04T18:11:26.142Z","closed_by":{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"},"labels":["Deliverable","SUS::Impacting","UX","auto updated","devops::manage","frontend","group::organization","maintenance::usability","quad-planning::complete-no-action","section::dev","severity::4","type::maintenance","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364202","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364202","notes":"https://gitlab.com/api/v4/projects/278964/issues/364202/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364202/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364202","relative":"#364202","full":"gitlab-org/gitlab#364202"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8400,"epic":{"id":568335,"iid":8400,"title":"Organization UI improvements (low effort)","url":"/groups/gitlab-org/-/epics/8400","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":109516332,"iid":364201,"project_id":278964,"title":"Update project star button to use buttons with badges","description":"### Proposal\n\nUpdate project star/unstar button to use [Buttons with badges](https://design.gitlab.com/components/button#examples)\n\n![image](/uploads/ff6f56a40cb7f76e964a0ff2183befcf/image.png)","state":"closed","created_at":"2022-06-02T15:23:52.827Z","updated_at":"2022-08-21T12:02:06.683Z","closed_at":"2022-08-04T18:13:48.026Z","closed_by":{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"},"labels":["Deliverable","SUS::Impacting","UX","auto updated","devops::manage","frontend","group::organization","maintenance::usability","quad-planning::complete-no-action","section::dev","severity::4","type::maintenance","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364201","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364201","notes":"https://gitlab.com/api/v4/projects/278964/issues/364201/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364201/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364201","relative":"#364201","full":"gitlab-org/gitlab#364201"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8400,"epic":{"id":568335,"iid":8400,"title":"Organization UI improvements (low effort)","url":"/groups/gitlab-org/-/epics/8400","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":109514331,"iid":364195,"project_id":278964,"title":"Retain scroll position when using `b` copy branch shortcut","description":"### Issue\n\nWhen you use the `b` shortcut on a merge request to copy the branch name, the page scrolls to the top (to the `Copy branch` button)\n\n### Proposal\n\nRetain current scroll position on page","state":"closed","created_at":"2022-06-02T14:48:46.583Z","updated_at":"2022-09-21T12:01:42.634Z","closed_at":"2022-09-12T18:10:03.647Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Category:Code Review Workflow","Deliverable","devops::create","feature::enhancement","frontend","group::code review","missed-deliverable","missed:15.2","missed:15.3","section::dev","shortcuts","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":7,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364195","notes":"https://gitlab.com/api/v4/projects/278964/issues/364195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364195","relative":"#364195","full":"gitlab-org/gitlab#364195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109509979,"iid":364192,"project_id":278964,"title":"Replace Project topics icon","description":"### Problem to solve\n\nProject topics are using the `tag` icon, which can be confused with the [tag feature](https://docs.gitlab.com/ee/topics/git/tags.html).\n\n### Proposal\n\nRemove the `tag` icon and replace it with a `Topics:` label.\n\n![image](/uploads/3410716d34d3cc6e9006caf7cff3be7b/image.png)\n\nThis proposal also includes moving topics above the project description\n\nRelated issue: https://gitlab.com/gitlab-org/gitlab-svgs/-/issues/257","state":"closed","created_at":"2022-06-02T13:42:17.875Z","updated_at":"2022-11-16T11:47:39.708Z","closed_at":"2022-08-04T16:45:06.112Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","SUS::Impacting","UX","auto updated","devops::manage","frontend","group::organization","maintenance::usability","quad-planning::complete-no-action","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":3719688,"username":"mnichols1","name":"Mike Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3719688/avatar.png","web_url":"https://gitlab.com/mnichols1"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364192","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364192","notes":"https://gitlab.com/api/v4/projects/278964/issues/364192/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364192/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364192","relative":"#364192","full":"gitlab-org/gitlab#364192"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8400,"epic":{"id":568335,"iid":8400,"title":"Organization UI improvements (low effort)","url":"/groups/gitlab-org/-/epics/8400","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":109500933,"iid":364183,"project_id":278964,"title":"Use Zuora CSP Concern in Subscriptions Controller","description":"#### What to do\n\nAfter https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89014/ has been merged, we can use the same `Concern` in the [`SubscriptionsController`](https://gitlab.com/gitlab-org/gitlab/-/blob/a220af77f688ecfa7507d8325e040f6f0a2e6475/ee/app/controllers/subscriptions_controller.rb).\n\n#### Guidance for local setup/verification\n\n1. Make sure you're running `gdk` with `GITLAB_SIMULATE_SAAS=true`\n1. Make sure to run CustomersDot (installation [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/main/doc/setup/basic_installation.md))\n1. Try purchase a plan or add-ons for a Group via GitLab.com (if you don't have a Group, create one)\n    - visit `http://localhost:3000/groups/\u003cyour-group-name\u003e/-/billings`\n    - click `Upgrade` for any of the plans\n    - (Alternatively, try to manually navigate one of these paths:)\n      - `/-/subscriptions/buy_minutes?selected_group=\u003cyour-group-id\u003e`\n      - `/-/subscriptions/new?namespace_id=8712880\u0026plan_id=2c92a00d76f0d5060176f2fb0a5029ff`\n1. The Zuora iframe should load correctly","state":"closed","created_at":"2022-06-02T11:30:40.438Z","updated_at":"2022-08-30T21:29:58.481Z","closed_at":"2022-07-05T01:25:20.701Z","closed_by":{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"},"labels":["Category:Purchase","Unplanned","backend","devops::fulfillment","group::billing and subscription management","maintenance::refactor","onboarding","section::fulfillment","type::maintenance","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":10769415,"username":"minahilnichols","name":"Minahil Nichols","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10769415/avatar.png","web_url":"https://gitlab.com/minahilnichols"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364183","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364183","notes":"https://gitlab.com/api/v4/projects/278964/issues/364183/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364183/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364183","relative":"#364183","full":"gitlab-org/gitlab#364183"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109492455,"iid":364180,"project_id":278964,"title":"Ensure methods on `IncomingEmail` are available on `ServiceDeskEmail`","description":"A missing class method on [`ServiceDeskEmail`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/service_desk_email.rb) that was expected resulted in https://gitlab.com/gitlab-org/gitlab/-/issues/364118+ with the user experience of emails silently lost.\n\n`ServiceDeskEmail` is substituted for `IncomingEmail` when an email is being ingested using the Service Desk custom mailbox workflow. \n\nMethods on [`IncomingEmail`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/incoming_email.rb) that are called in this workflow need to be available on both classes.\n\nThere are two ways to do this, both are fine:\n\n* Common methods in `IncomingEmail` and `ServiceDeskEmail` are implemented on a superclass and only included in each subclass if they deviate from the default implementation,\n* Implement an `Email` interface and include it in each class. The interface implements all expected methods but raises `NotImplementedError` in each, enforcing that each is implemented in every `*Email` class.","state":"closed","created_at":"2022-06-02T08:44:07.749Z","updated_at":"2023-01-12T00:32:55.935Z","closed_at":"2022-11-08T20:37:40.879Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Category:Service Desk","Stretch","backend","devops::plan","group::respond","maintenance::refactor","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364180","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364180","notes":"https://gitlab.com/api/v4/projects/278964/issues/364180/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364180/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364180","relative":"#364180","full":"gitlab-org/gitlab#364180"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109474086,"iid":364153,"project_id":278964,"title":"Update banner messaging in billing page after a subscription purchase","description":"After a purchase of a subscription using the in-app checkout flow, once you navigate back to the billing page for the group that just upgraded, it still says you’re on the free plan and has options for starting a trial or purchasing any of the paid tiers.\n\nMy hunch is that the page gets cached so that it will load more quickly (since it has to make a call or two to the CustomersDot app), and we should bust that cache in the event of a subscription change (if it is easy enough to do so).\n\n## Proposal\n\n#### ↩️ Redirect to the billing page after a successful purchase\n\nWhen completing the purchase, redirect the user to the billing page (e.g., `groups/\u003cgroup-namespace\u003e/-/billings`). See [here](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/controllers/subscriptions_controller.rb#L133).\n\n#### 🟢 Update the message in the success banner to account for async operation\n\nDisplay an additional text in the success banner that says:\n\n\u003e **Thanks for your purchase!**\n\u003e\n\u003e You have successfully purchased an Ultimate plan subscription for 1 user. You'll receive a receipt via email. Your purchase may take a minute to sync, so refresh the page if you don't see it yet.\n\nAdditionally, update the [alert variant](https://design.gitlab.com/components/alert#variants) to be of type `success`.\n\n## Implementation plan\n\n| Description | MR |\n|-|-|\n| Update success banner to account for async operation | gitlab-org/gitlab!96220 |","state":"closed","created_at":"2022-06-02T00:20:34.823Z","updated_at":"2022-09-28T10:01:49.224Z","closed_at":"2022-09-23T08:12:25.068Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","UX","auto updated","devops::fulfillment","feature::enhancement","frontend","group::purchase","missed:15.4","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":33,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364153","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364153","notes":"https://gitlab.com/api/v4/projects/278964/issues/364153/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364153/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364153","relative":"#364153","full":"gitlab-org/gitlab#364153"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109471582,"iid":364147,"project_id":278964,"title":"Groups can have no owner after deleting members","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nRecently, via [this ticket (internal only)](https://gitlab.zendesk.com/agent/tickets/280182) a case was brought up where a group was left without an owner.\n\n### Steps to reproduce\n\n* Create group `sabine_test_1`\n* Create group `sabine_test_2`\n* Invite user `sabine.denk14dev_2` to group `sabine_test_1` as `maintainer`\n* Invite user `sabine.denk14dev_1` to group `sabine_test_2` as `owner`\n* Invite group `sabine_test_2` as `owner` to `sabine_test_1`\n* Leave group `sabine_test_1`\n* Access `https://gitlab.com/groups/sabine_test_1/-/group_members` \\\\ only one `maintainer` was visible, but also the group `sabine_test_2` as `owner`\n* In `https://gitlab.com/groups/sabine_test_1/-/group_members` -\u003e `Groups` -\u003e delete group membership\n\nResult: `https://gitlab.com/sabine_test_1` \\\\ it will have one `maintainer` (`sabine.denk14dev_2`) and no `owner`\n\n### Example Project\n\n1. [this ticket (internal only)](https://gitlab.zendesk.com/agent/tickets/280182) and [this issue (internal only)](https://gitlab.com/gitlab-com/gl-security/security-operations/sirt/operations/-/issues/2242), we were unable to determine what the exact cause was.\n2. https://gitlab.zendesk.com/agent/tickets/326602\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nA group is left without owners\n\n### What is the expected *correct* behavior?\n\nGroups should never be left without owners\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\nGitLab.com, GitLab Enterprise Edition 15.4.0-pre 7ca37c2b1af","state":"closed","created_at":"2022-06-01T22:48:06.445Z","updated_at":"2023-01-12T07:47:39.308Z","closed_at":"2022-11-29T10:13:58.763Z","closed_by":{"id":11485419,"username":"lohrc","name":"Christina Lohr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485419/avatar.png","web_url":"https://gitlab.com/lohrc"},"labels":["Deliverable","Support Priority","approaching-SLO","backend","customer","devops::manage","group::organization","milestone::p1","missed-SLO","priority::2","release post item","reproduced on GitLab.com","section::dev","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":10333504,"username":"ulisesf","name":"Ulises Fierro","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10333504/avatar.png","web_url":"https://gitlab.com/ulisesf"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364147","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364147","notes":"https://gitlab.com/api/v4/projects/278964/issues/364147/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364147/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364147","relative":"#364147","full":"gitlab-org/gitlab#364147"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8184,"epic":{"id":539079,"iid":8184,"title":"Group sharing enhancements","url":"/groups/gitlab-org/-/epics/8184","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":109467338,"iid":364144,"project_id":278964,"title":"[Feature flag] Enable SAML Group Sync retain default membership","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88064) on production,\nthat is currently behind the `saml_group_sync_retain_default_membership` feature flag.\n\n## Owners\n\n- Team: ~\"group::authentication and authorization\" \n- Most appropriate slack channel to reach out to: `#g_manage_auth`\n- Best individual to reach out to: @dblessing\n- PM: @hsutor \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nBehavior should not be surprising/unexpected or upsetting to users. Most are already accounting for the current, undesirable behavior. \n\n### When is the feature viable?\n\nAfter a few days of being enabled, we should be able to call the feature 'viable'. \n\n### What might happen if this goes wrong?\n\nFeature flag can be disabled. The result of disabling the flag will be that users who were being added/updated back to the default membership role when the flag was enabled will be removed on next sign in. \n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] **Remove documentation reference in SAML Group Sync docs**\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set saml_group_sync_retain_default_membership false\n```","state":"closed","created_at":"2022-06-01T20:35:23.923Z","updated_at":"2022-10-24T17:51:22.473Z","closed_at":"2022-10-24T17:45:10.001Z","closed_by":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"labels":["[deprecated] 🍎","devops::manage","feature flag","group::authentication and authorization","missed-deliverable","missed:15.4","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364144","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":52,"completed_count":35},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"35 of 52 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364144","notes":"https://gitlab.com/api/v4/projects/278964/issues/364144/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364144/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364144","relative":"#364144","full":"gitlab-org/gitlab#364144"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109466781,"iid":364142,"project_id":278964,"title":"Geo Replicables - Revisiting the existing UI functionality","description":"## Prelude\n\nRelated to the following Issues:\n\nUnboxing the Geo Replication UI: https://gitlab.com/gitlab-org/gitlab/-/issues/361612 \u003cbr /\u003e\nSupporting Resync/Reverify in SFF: https://gitlab.com/gitlab-org/gitlab/-/issues/216100\n\nIt has been quite a long time since we implemented the generic frontend for SSF into the Geo UI! [Just shy of two years to be exact](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/35443)!\n\nAt the time SSF was not very mature and lots and lots of unknowns existed that resulted in us creating a MVC to get the ball rolling.  As SSF has matured we haven't looked back into the UI and checked in on what the SSF UI offered in comparison to the legacy views like Projects.\n\n## How the Geo Replication UI displays Replicables\n\n1. **Not supported (???)** - No Geo Replication view exists.\n1. **Type A (\u003c 12.6)** - View is built specifically in HAML and served via Rails Controller.\n1. **Type B (12.6 - 13.0)** - View is built specifically in Vue and served via RESTful API.\n1. **Type C (\u003e 13.0)** - View is built generically in Vue and served via GraphQL API.\n\n**As of 2022-06-01**\n\n| DataType | Type |\n| ------ | ------ |\n| Wikis | Not supported |\n| Container Repositories | Not supported |\n| Projects | Type A |\n| Designs | Type B|\n| All SSF Replicables (everything else) | Type C |\n\n## UI Functionality Support per Type\n\n_Not supported data types omitted from these tables as none of the following functionality exists._\n\n- :white_check_mark: - Full Support\n- :x: - No Support\n\n**Table view with pagination**\n\n| Type | Support|\n| ------ | ------ |\n| Type A | :white_check_mark: |\n| Type B | :white_check_mark: |\n| Type C | :white_check_mark: |\n\n**Last Verified/Checked Information**\n\n| Type | Support|\n| ------ | ------ |\n| Type A | :white_check_mark: |\n| Type B | :x: |\n| Type C | :x:  |\n\n**Filtering table by Status/Keyword**\n\n| Type | Support|\n| ------ | ------ |\n| Type A | :white_check_mark: |\n| Type B | :white_check_mark: |\n| Type C | :x:  |\n\n**Resync Replicables**\n\n| Type | Support|\n| ------ | ------ |\n| Type A | :white_check_mark: |\n| Type B | :white_check_mark: |\n| Type C | :x:  |\n\n**Reverify Replicables**\n\n| Type | Support|\n| ------ | ------ |\n| Type A | :white_check_mark: |\n| Type B | :x: |\n| Type C | :x:  |\n\n## UI Screenshots side-by-side\n\n| Type A | Type B | Type C |\n| ------ | ------ | ------ |\n| ![A](/uploads/0e853357a477bd082a6d0739d19cf4b7/A.png) | ![Screen_Shot_2022-06-01_at_3.07.32_PM](/uploads/d32f448d6d458720ca7c4d2c916ab274/Screen_Shot_2022-06-01_at_3.07.32_PM.png) | ![Screen_Shot_2022-06-01_at_3.07.49_PM](/uploads/bc1864d1246574927a13c68c87461217/Screen_Shot_2022-06-01_at_3.07.49_PM.png) |\n\n## Thoughts/Discoveries\n\nThe last time we worked heavily in this UI we had only 1 or 2 SSF replicables and it wasn't a very heavy part of the Geo experience.  After reviewing things after all this time it is clear that SSF replicables (Type C) is the **vast majority of data** in this UI.  Yet almost off the existing functionality users have in the legacy Geo replicables (Type A) is non-existent for this replicables.\n\nNow that SSF is getting close to consuming all replicables it is becoming very important that we start bringing this functionality to the UI before we convert Projects (this last Type A).  If we don't have this functionality the \"upgrade\" to SSF will actually be a large degradation if functionality for the user.\n\n## Potential issues going forward\n\nWe have been caught in a bit of a trap of waiting for the conversion of all replicables to SSF before we start trying to add functionality to the UI.  As noted in the thoughts section above this is sort of a bind because we also need the functionality to do the conversion properly.\n\nFrom this point forward I think it is in our best interest to focus on SSF Replicables (Type C) when considering Geo functionality enhancements.  The code is currently organized in a fashion to allow \"conditional logic\" for legacy replicables and is already doing so throughout the frontend.  This means we can add code that only effects SSF replicables while leaving the legacy views alone without any serious fear of regressions.\n\n## Questions for Backend Geo Team members\n\n1. Do we have the ability in SSF to support any/all of the missing functionality broken down above?\n    - What is the LOE to add support to SSF for any of the functionality we currently **do not** support.\n2. Do we see any concerns of exposing this functionality to the Geo Replicables GraphQL endpoint?\n3. Did I miss any edge case scenarios for these views?\n4. Are we okay with the idea to focus on Type C replicables with the assumption Type A and Type B will eventually move over to SSF?\n\n## Proposal\n\n1. Expose/Add all missing functionality currently available on Type A Replicables to SSF Replicables (Type C).\n2. Enhance the Geo Replicables GraphQL endpoint to expose and support all functionality.\n3. Hook everything up in the Vue frontend.\n\n\ncc/ @geo-team \n\nSpecial thanks to @mkozono and @sunjungp for exploring these gaps in functionality today in our 1/1s :tada:","state":"closed","created_at":"2022-06-01T20:22:14.773Z","updated_at":"2022-06-08T19:57:18.809Z","closed_at":"2022-06-08T19:57:18.228Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Geo Administration","GraphQL","UX","api","backend","devops::enablement","feature::enhancement","frontend","group::geo","section::enablement","type::feature","workflow::solution validation"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364142","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364142","notes":"https://gitlab.com/api/v4/projects/278964/issues/364142/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364142/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364142","relative":"#364142","full":"gitlab-org/gitlab#364142"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109462069,"iid":364128,"project_id":278964,"title":"Introduce new models for customizable roles","description":"First step based on the [technical discovery](https://gitlab.com/gitlab-org/gitlab/-/issues/352891#note_993031741):\n\n\u003e create a new model `Role` with a 2 columns for now: `base_access_level`, `download_code`. Add association via `Member#role_id`","state":"closed","created_at":"2022-06-01T18:18:43.779Z","updated_at":"2022-08-21T12:01:57.085Z","closed_at":"2022-07-29T08:53:12.753Z","closed_by":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"labels":["Category:Permissions","Deliverable","auto updated","backend","candidate::15.2","devops::manage","group::authentication and authorization","quad-planning::complete-no-action","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"}],"author":{"id":9425173,"username":"hsutor","name":"Hannah Sutor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9425173/avatar.png","web_url":"https://gitlab.com/hsutor"},"type":"ISSUE","assignee":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364128","notes":"https://gitlab.com/api/v4/projects/278964/issues/364128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364128","relative":"#364128","full":"gitlab-org/gitlab#364128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8408,"epic":{"id":569199,"iid":8408,"title":"Customizable roles MVC - Technical Performance","url":"/groups/gitlab-org/-/epics/8408","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":109453150,"iid":364112,"project_id":278964,"title":"[Feature flag] Enable rename_integrations_workers","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout the renamed workers for https://gitlab.com/gitlab-org/gitlab/-/issues/330670 on production,\nwhich are currently behind the `rename_integrations_workers` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nIn %15.1 we renamed some workers related to integrations in these MRs:\n\n* https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88558: `ProjectServiceWorker` → `Integrations::ExecuteWorker`\n* https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88579: `IrkerWorker` → `Integrations::IrkerWorker`\n* https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88582: `Clusters::Applications::(Activate|Deactive)ServiceWorker` → `Clusters::Applications::(Activate|Deactivate)IntegrationWorker`\n\nThe old classes and their queues were kept to preserve backwards-compatibility. In %15.2 we can delete these.\n\nRollout plan:\n\n- %\"15.1\": Merge the renames, enable the FF on .com for verification, and also enable the FF by default for the release.\n  - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90060\n- %\"15.2\": Remove the old workers and the FF.\n  - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90061\n\n## Owners\n\n- Team: ~\"group::integrations\" \n- Most appropriate slack channel to reach out to: `#g_ecosystem_integrations`\n- Best individual to reach out to: @toupeira \n- PM: @g.hickman \n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\nNo disruptions in these workers.\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\nSidekiq logs for affected workers (old + new names):\n\n- Staging: https://nonprod-log.gitlab.net/goto/0718fb70-eb0e-11ec-b771-57a829f2c394\n- Production: https://log.gprd.gitlab.net/goto/41d26620-eb0e-11ec-8656-f5f2137823ba\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Preparation before global rollout\n\n- [-] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [-] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [-] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [-] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [-] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90061\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n    - [x] Remove all 4 old worker classes.\n    - [x] Remove all 4 old worker queues.\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-06-01T14:57:19.613Z","updated_at":"2022-11-22T18:38:18.118Z","closed_at":"2022-06-23T11:38:34.445Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Integrations","Deliverable","backend","devops::manage","feature flag","feature::addition","group::integrations","maintenance::refactor","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364112","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":27,"completed_count":26},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"26 of 27 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364112","notes":"https://gitlab.com/api/v4/projects/278964/issues/364112/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364112/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364112","relative":"#364112","full":"gitlab-org/gitlab#364112"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109444985,"iid":364107,"project_id":278964,"title":"Clean up classes for renamed integration workers","description":"## Summary\n\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\nIn %15.1 we renamed some workers related to integrations in these MRs:\n\n- `ProjectServiceWorker` → `Integrations::ExecuteWorker`: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88558\n- `IrkerWorker` → `Integrations::IrkerWorker`: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88579\n- `Clusters::Applications::(Activate|Deactive)ServiceWorker` → `Clusters::Applications::(Activate|Deactivate)IntegrationWorker`: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88582\n\nThe old classes were kept to preserve backwards-compatibility.\n\n## Improvements\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n\nIn %15.2 we can delete the old classes.","state":"closed","created_at":"2022-06-01T13:02:06.582Z","updated_at":"2022-06-01T15:25:07.404Z","closed_at":"2022-06-01T15:25:07.383Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Integrations","backend","group::integrations","maintenance::refactor","type::maintenance"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364107","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364107","notes":"https://gitlab.com/api/v4/projects/278964/issues/364107/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364107/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364107","relative":"#364107","full":"gitlab-org/gitlab#364107"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109439161,"iid":364096,"project_id":278964,"title":"Update all Vue compliance framework labels to use GlLabel","description":"## Problem to solve\n\nCurrently the compliance framework labels don't all use the same components to render in Vue.\n\n## Suggested solution\n\nWe should update all use cases in Vue to use the shared `ComplianceFrameworkLabel` component.\n\n## Implementation\n\n1. Update `ee/app/assets/javascripts/groups/settings/compliance_frameworks/components/list_item.vue` to use `ComplianceFrameworkLabel`.\n1. Update specs.","state":"closed","created_at":"2022-06-01T11:18:32.995Z","updated_at":"2022-06-22T15:32:56.149Z","closed_at":"2022-06-22T15:31:12.476Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["devops::manage","frontend","group::compliance","missed:15.1","priority::4","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364096","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364096","notes":"https://gitlab.com/api/v4/projects/278964/issues/364096/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364096/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364096","relative":"#364096","full":"gitlab-org/gitlab#364096"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109435175,"iid":364091,"project_id":278964,"title":"[Feature flag] Rollout of `project_approval_rule_all_protected_branches`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `project_approval_rule_all_protected_branches` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::compliance\" \n- Most appropriate slack channel to reach out to: `#g_manage_compliance`\n- Best individual to reach out to: @mwoolf or @rob.hunt \n- PM: @stkerr \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n* It should be possible to set \"All protected branches\" as the target for a project approval rule.\n\n### When is the feature viable?\n\nAs soon as the feature flag rolls out\n\n### What might happen if this goes wrong?\n\nThis is a new feature. If the new option goes wrong then users will not be able to save new approval rules or changes to existing approval rules.\n\nIn the event that happens, while the feature flag exists, turn it off. With the feature flag removed, rollback.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set project_approval_rule_all_protected_branches true --dev`\n    - [x] `/chatops run feature set project_approval_rule_all_protected_branches true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org,gitlab-com project_approval_rule_all_protected_branches true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/364091) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set project_approval_rule_all_protected_branches \u003crollout-percentage\u003e --actors`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set project_approval_rule_all_protected_branches true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/364091) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `project_approval_rule_all_protected_branches` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/364091) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete project_approval_rule_all_protected_branches --dev`\n    - [x] `/chatops run feature delete project_approval_rule_all_protected_branches --staging`\n    - [x] `/chatops run feature delete project_approval_rule_all_protected_branches`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set project_approval_rule_all_protected_branches false\n```","state":"closed","created_at":"2022-06-01T10:04:10.637Z","updated_at":"2022-12-06T02:25:53.218Z","closed_at":"2022-08-05T06:30:15.064Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["backend","devops::manage","documentation","feature flag","feature::addition","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364091","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":32,"completed_count":31},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"31 of 32 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364091","notes":"https://gitlab.com/api/v4/projects/278964/issues/364091/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364091/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364091","relative":"#364091","full":"gitlab-org/gitlab#364091"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109432770,"iid":364090,"project_id":278964,"title":"Show preview of delete contributions when deleting user in admin","description":"## Summary\n\nAs pointed out by @cynthia there are [2 ways to delete a user](https://gitlab.com/gitlab-org/gitlab/-/issues/26120#note_964939041), the `Delete user and all contributions` will end up deleting everything, groups, projects.\n\nSometimes it's not clear what \"All contributions\" mean here, and we can accidentally delete groups/subgroups and projects without the admin user knowing.\n\n\n## Proposal\n\nShow a preview of the contributions that are going to be deleted. For users, it might be expensive to count everything, but if we can at least list the number of projects and groups, and then a general statement of what else might be included like comments?\n\n![image](/uploads/443133e4bfe6f3eacdfb11c0a3a3dbf5/image.png)\n\n`contributions` should link to:  \n`https://docs.gitlab.com/ee/user/profile/index.html#user-contribution-events`\n\n`Block user` should link to:  \n`https://docs.gitlab.com/ee/user/admin_area/moderate_users.html#block-and-unblock-users`\n\n### Availability and Testing\n\n* No new E2E tests or updates needed at this time.\n* Recommend adding a new feature spec in addition to other unit and integration test updates.","state":"closed","created_at":"2022-06-01T09:28:26.434Z","updated_at":"2022-12-13T00:34:04.868Z","closed_at":"2022-11-14T16:15:22.953Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:User Management","Deliverable","GitLab Core","Support Efficiency","UX","auto updated","customer","devops::manage","feature::enhancement","frontend","group::organization","internal customer","milestone::p1","quad-planning::complete-action","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":210928,"username":"steveazz","name":"Steve Azzopardi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a5eeed7ec5c80642df9ee708bb496d7?s=80\u0026d=identicon","web_url":"https://gitlab.com/steveazz"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":34,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364090","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364090","notes":"https://gitlab.com/api/v4/projects/278964/issues/364090/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364090/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364090","relative":"#364090","full":"gitlab-org/gitlab#364090"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5791,"epic":{"id":251732,"iid":5791,"title":"Membership management additions and improvements","url":"/groups/gitlab-org/-/epics/5791","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":109430066,"iid":364087,"project_id":278964,"title":"Move some permissions from Project Maintainers to Project Owners, so as to make Project and Group Owners more consistent","description":"Planning for %16.0 (when this will be a breaking change):\n\n## Premise:\n\nNow that we support `OWNER` role at the project level, `OWNERS` are supposed to the highest permissible access level, and naturally, they are supposed to have the most access in a project, and hence have exclusive permissions to perform some actions within the project. This is akin to how `OWNERS` in groups have some exclusive permissions within the group. No other members in the group (like `MAINTAINERS`) are able to perform such actions.\n\nHowever, we can't make a straight jump from the existing highest access level in a project, ie, `MAINTAINER` to `OWNER`. This is a breaking change, so we need to give notice and time to existing customers to get acquainted with this change and then apply the change in a major version, like %16.0.\n\nAnd hence, we will make use of the following plan:\n\n- From %15.0 to %16.0 - within a project, both `MAINTAINERS` and `OWNERS` will have similar permissions. The only exception is - `MAINTAINERS` won't have any permissions regarding creating, deleting or updating other members to `OWNER` access, as this would a security issue.\n\n- Before %16.0, we announce to customers along the lines of `From  GitLab 16.0, within a project, `OWNER` is going to have the highest access. This means that MAINTAINERS in a project would no longer have the \u003cfollowing permissions\u003e in a project, starting from 16.0 and they will only be available to `OWNERS`. We advise you to promote those MAINTAINERS who would continue to require access to any of the following permissions to `OWNER` before GitLab 16.0`.\n\n## What are the permissions that are going to be affected?\n\nWe should make a list of this. \n\nA non exhaustive list:\n\n- creation/modification/deletion of project acccess tokens should be allowed only to project OWNERS.\n- creation/modification/deletion of project members should be allowed only to project OWNERS.\n- permission to accept member access requests in projects should  be allowed only to project OWNERS.\n- `\u003c Add more \u003e`","state":"closed","created_at":"2022-06-01T08:44:12.506Z","updated_at":"2022-09-29T08:44:13.575Z","closed_at":"2022-09-20T09:17:26.085Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["[deprecated] Accepting merge requests","devops::manage","feature::consolidation","group::organization","namespace","section::dev","type::feature","workflow::scheduling"],"milestone":null,"assignees":[],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364087","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364087","notes":"https://gitlab.com/api/v4/projects/278964/issues/364087/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364087/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364087","relative":"#364087","full":"gitlab-org/gitlab#364087"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7405,"epic":{"id":423423,"iid":7405,"title":"Unify member management between projects and groups - Owner Role","url":"/groups/gitlab-org/-/epics/7405","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":109424392,"iid":364082,"project_id":278964,"title":"Slow project query sorting by last_activity_at and id","description":"Query timeouts on `/api/v4/projects`.\n\nThis works fine:\n\n```sql\nselect \n  projects.namespace_id \nfrom \n  projects \n  INNER JOIN \"project_authorizations\" ON \"projects\".\"id\" = \"project_authorizations\".\"project_id\" \nWHERE \n  \"project_authorizations\".\"user_id\" = 1675733 \norder by \n  last_activity_at desc, \n  id desc \n```\n\nhttps://postgres.ai/console/gitlab/gitlab-production-tunnel-pg12/sessions/10377/commands/36670\n\n\nThis does not:\n\n```sql\nselect \n  projects.namespace_id \nfrom \n  projects \n  INNER JOIN \"project_authorizations\" ON \"projects\".\"id\" = \"project_authorizations\".\"project_id\" \nWHERE \n  \"project_authorizations\".\"user_id\" = 1675733 \norder by \n  last_activity_at desc, \n  id desc \nlimit 10\n```\n\nhttps://console.postgres.ai/gitlab/gitlab-production-tunnel-pg12/sessions/10377/commands/36672\n\n\nThe actual query producing the error is:\n\n```sql\n/*application:web,correlation_id:01G4EVT0PBJPFR08RXJHVX8ECN,endpoint_id:GET /api/:version/projects,db_config_name:main_replica*/\nSELECT \n  \"members\".* \nFROM \n  \"members\" \nWHERE \n  \"members\".\"source_type\" = $1 \n  AND \"members\".\"type\" = $2 \n  AND \"members\".\"user_id\" = $3 \n  AND \"members\".\"requested_at\" IS NULL \n  AND (access_level \u003e= $4) \n  AND \"members\".\"source_id\" IN (\n    SELECT \n      \"projects\".\"namespace_id\" \n    FROM \n      \"projects\" \n      INNER JOIN \"project_authorizations\" ON \"projects\".\"id\" = \"project_authorizations\".\"project_id\" \n    WHERE \n      \"project_authorizations\".\"user_id\" = $5 \n      AND \"projects\".\"visibility_level\" = $6 \n      AND \"projects\".\"pending_delete\" = $7 \n      AND \"projects\".\"hidden\" = $8 \n    ORDER BY \n      \"projects\".\"last_activity_at\" DESC, \n      \"projects\".\"id\" DESC \n    LIMIT \n      $10 OFFSET $9\n  )\n```\n\nStack trace:\n\n```\n| lib/gitlab/database/load_balancing/connection_proxy.rb:104:in `block in read_using_load_balancer', lib/gitlab/database/load_balancing/load_balancer.rb:55:in `read', lib/gitlab/database/load_balancing/connection_proxy.rb:103:in `read_using_load_balancer', lib/gitlab/database/load_balancing/connection_proxy.rb:48:in `select_all', lib/api/entities/project_with_access.rb:18:in `block (2 levels) in \u003cclass:ProjectWithAccess\u003e', lib/gitlab/json.rb:122:in `dump', lib/gitlab/json.rb:122:in `adapter_dump', lib/gitlab/json.rb:46:in `dump', lib/gitlab/json.rb:198:in `call', ee/lib/gitlab/middleware/ip_restrictor.rb:14:in `block in call', ee/lib/gitlab/ip_address_state.rb:10:in `with', ee/lib/gitlab/middleware/ip_restrictor.rb:13:in `call', lib/api/api_guard.rb:213:in `call', ee/lib/omni_auth/strategies/group_saml.rb:41:in `other_phase', lib/gitlab/metrics/elasticsearch_rack_middleware.rb:16:in `call', lib/gitlab/middleware/memory_report.rb:13:in `call', lib/gitlab/middleware/speedscope.rb:13:in `call', lib/gitlab/database/load_balancing/rack_middleware.rb:23:in `call', lib/gitlab/middleware/rails_queue_duration.rb:33:in `call', lib/gitlab/metrics/rack_middleware.rb:16:in `block in call', lib/gitlab/metrics/web_transaction.rb:46:in `run', lib/gitlab/metrics/rack_middleware.rb:16:in `call', lib/gitlab/jira/middleware.rb:19:in `call', lib/gitlab/middleware/go.rb:20:in `call', lib/gitlab/etag_caching/middleware.rb:21:in `call', lib/gitlab/middleware/query_analyzer.rb:11:in `block in call', lib/gitlab/database/query_analyzer.rb:37:in `within', lib/gitlab/middleware/query_analyzer.rb:11:in `call', lib/gitlab/middleware/multipart.rb:173:in `call', lib/gitlab/middleware/read_only/controller.rb:50:in `call', lib/gitlab/middleware/read_only.rb:18:in `call', lib/gitlab/middleware/same_site_cookies.rb:27:in `call', lib/gitlab/middleware/handle_malformed_strings.rb:21:in `call', lib/gitlab/middleware/basic_health_check.rb:25:in `call', lib/gitlab/middleware/handle_ip_spoof_attack_error.rb:25:in `call', lib/gitlab/middleware/request_context.rb:21:in `call', lib/gitlab/middleware/webhook_recursion_detection.rb:15:in `call', config/initializers/fix_local_cache_middleware.rb:11:in `call', lib/gitlab/middleware/compressed_json.rb:26:in `call', lib/gitlab/middleware/rack_multipart_tempfile_factory.rb:19:in `call', lib/gitlab/middleware/sidekiq_web_static.rb:20:in `call', lib/gitlab/metrics/requests_rack_middleware.rb:77:in `call', lib/gitlab/middleware/release_env.rb:13:in `call'\n```","state":"closed","created_at":"2022-06-01T07:13:17.369Z","updated_at":"2022-08-30T12:15:04.285Z","closed_at":"2022-08-01T05:05:53.894Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["Deliverable","Error Budget Improvement","backend","bug::performance","database","devops::manage","group::organization","organization-error-budget","section::dev","type::bug","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"}],"author":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"type":"ISSUE","assignee":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364082","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364082","notes":"https://gitlab.com/api/v4/projects/278964/issues/364082/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364082/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364082","relative":"#364082","full":"gitlab-org/gitlab#364082"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8164,"epic":{"id":536480,"iid":8164,"title":"Improve performance of Projects List API under load into next tier","url":"/groups/gitlab-org/-/epics/8164","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":109424381,"iid":364081,"project_id":278964,"title":"Slow project query sorting by last_activity_at and id","description":"Query timeouts on `/api/v4/projects`.\n\nThis works fine:\n\n```sql\nselect \n  projects.namespace_id \nfrom \n  projects \n  INNER JOIN \"project_authorizations\" ON \"projects\".\"id\" = \"project_authorizations\".\"project_id\" \nWHERE \n  \"project_authorizations\".\"user_id\" = 1675733 \norder by \n  last_activity_at desc, \n  id desc \n```\n\nhttps://postgres.ai/console/gitlab/gitlab-production-tunnel-pg12/sessions/10377/commands/36670\n\n\nThis does not:\n\n```sql\nselect \n  projects.namespace_id \nfrom \n  projects \n  INNER JOIN \"project_authorizations\" ON \"projects\".\"id\" = \"project_authorizations\".\"project_id\" \nWHERE \n  \"project_authorizations\".\"user_id\" = 1675733 \norder by \n  last_activity_at desc, \n  id desc \nlimit 10\n```\n\nhttps://console.postgres.ai/gitlab/gitlab-production-tunnel-pg12/sessions/10377/commands/36672\n\n\nThe actual query producing the error is:\n\n```sql\n/*application:web,correlation_id:01G4EVT0PBJPFR08RXJHVX8ECN,endpoint_id:GET /api/:version/projects,db_config_name:main_replica*/\nSELECT \n  \"members\".* \nFROM \n  \"members\" \nWHERE \n  \"members\".\"source_type\" = $1 \n  AND \"members\".\"type\" = $2 \n  AND \"members\".\"user_id\" = $3 \n  AND \"members\".\"requested_at\" IS NULL \n  AND (access_level \u003e= $4) \n  AND \"members\".\"source_id\" IN (\n    SELECT \n      \"projects\".\"namespace_id\" \n    FROM \n      \"projects\" \n      INNER JOIN \"project_authorizations\" ON \"projects\".\"id\" = \"project_authorizations\".\"project_id\" \n    WHERE \n      \"project_authorizations\".\"user_id\" = $5 \n      AND \"projects\".\"visibility_level\" = $6 \n      AND \"projects\".\"pending_delete\" = $7 \n      AND \"projects\".\"hidden\" = $8 \n    ORDER BY \n      \"projects\".\"last_activity_at\" DESC, \n      \"projects\".\"id\" DESC \n    LIMIT \n      $10 OFFSET $9\n  )\n```\n\nStack trace:\n\n```\n| lib/gitlab/database/load_balancing/connection_proxy.rb:104:in `block in read_using_load_balancer', lib/gitlab/database/load_balancing/load_balancer.rb:55:in `read', lib/gitlab/database/load_balancing/connection_proxy.rb:103:in `read_using_load_balancer', lib/gitlab/database/load_balancing/connection_proxy.rb:48:in `select_all', lib/api/entities/project_with_access.rb:18:in `block (2 levels) in \u003cclass:ProjectWithAccess\u003e', lib/gitlab/json.rb:122:in `dump', lib/gitlab/json.rb:122:in `adapter_dump', lib/gitlab/json.rb:46:in `dump', lib/gitlab/json.rb:198:in `call', ee/lib/gitlab/middleware/ip_restrictor.rb:14:in `block in call', ee/lib/gitlab/ip_address_state.rb:10:in `with', ee/lib/gitlab/middleware/ip_restrictor.rb:13:in `call', lib/api/api_guard.rb:213:in `call', ee/lib/omni_auth/strategies/group_saml.rb:41:in `other_phase', lib/gitlab/metrics/elasticsearch_rack_middleware.rb:16:in `call', lib/gitlab/middleware/memory_report.rb:13:in `call', lib/gitlab/middleware/speedscope.rb:13:in `call', lib/gitlab/database/load_balancing/rack_middleware.rb:23:in `call', lib/gitlab/middleware/rails_queue_duration.rb:33:in `call', lib/gitlab/metrics/rack_middleware.rb:16:in `block in call', lib/gitlab/metrics/web_transaction.rb:46:in `run', lib/gitlab/metrics/rack_middleware.rb:16:in `call', lib/gitlab/jira/middleware.rb:19:in `call', lib/gitlab/middleware/go.rb:20:in `call', lib/gitlab/etag_caching/middleware.rb:21:in `call', lib/gitlab/middleware/query_analyzer.rb:11:in `block in call', lib/gitlab/database/query_analyzer.rb:37:in `within', lib/gitlab/middleware/query_analyzer.rb:11:in `call', lib/gitlab/middleware/multipart.rb:173:in `call', lib/gitlab/middleware/read_only/controller.rb:50:in `call', lib/gitlab/middleware/read_only.rb:18:in `call', lib/gitlab/middleware/same_site_cookies.rb:27:in `call', lib/gitlab/middleware/handle_malformed_strings.rb:21:in `call', lib/gitlab/middleware/basic_health_check.rb:25:in `call', lib/gitlab/middleware/handle_ip_spoof_attack_error.rb:25:in `call', lib/gitlab/middleware/request_context.rb:21:in `call', lib/gitlab/middleware/webhook_recursion_detection.rb:15:in `call', config/initializers/fix_local_cache_middleware.rb:11:in `call', lib/gitlab/middleware/compressed_json.rb:26:in `call', lib/gitlab/middleware/rack_multipart_tempfile_factory.rb:19:in `call', lib/gitlab/middleware/sidekiq_web_static.rb:20:in `call', lib/gitlab/metrics/requests_rack_middleware.rb:77:in `call', lib/gitlab/middleware/release_env.rb:13:in `call'\n```","state":"closed","created_at":"2022-06-01T07:12:56.928Z","updated_at":"2022-12-21T12:03:34.851Z","closed_at":"2022-12-08T00:54:14.849Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["Deliverable","backend","database","devops::manage","group::organization","milestone::p1","organization-error-budget","section::dev","type::bug","workflow::ready for development"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":11648098,"username":"hraghuvanshi","name":"Hitesh Raghuvanshi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11648098/avatar.png","web_url":"https://gitlab.com/hraghuvanshi"}],"author":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"type":"ISSUE","assignee":{"id":11648098,"username":"hraghuvanshi","name":"Hitesh Raghuvanshi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11648098/avatar.png","web_url":"https://gitlab.com/hraghuvanshi"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364081","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364081","notes":"https://gitlab.com/api/v4/projects/278964/issues/364081/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364081/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364081","relative":"#364081","full":"gitlab-org/gitlab#364081"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8164,"epic":{"id":536480,"iid":8164,"title":"Improve performance of Projects List API under load into next tier","url":"/groups/gitlab-org/-/epics/8164","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":109410388,"iid":364070,"project_id":278964,"title":"Invalidate gitlab-pages internal api cache with 'Pages deleted' event","description":"# Context\n\nFor `GET /api/internal/pages?host=HOST`. This is the API endpoint that gets called by GitLab pages when a request comes in and we haven't cached in gitlab-pages what needs to be served for this.\n\nGiven that the `satisfiedThreshold` for writing headers for a response is 0.5s, ideally, this would be even faster than the threshold set for `web-pages`. We think 0.5s for serving a static page is an acceptable target.\n\nSince this information generally does not change a lot, we could add a cache for the JSON response of this endpoint to help the metrics. \n\nThe cache introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/363867, needs to be invalidated in some application events (https://gitlab.com/groups/gitlab-org/-/epics/7920#events-that-invalidate-the-cache).\n\n## What is this issue\n\nThis issue is introduce the cache invalidation for the _Pages deleted_ event. \n\nThe event of deleting a page must contain the `project id` and `project namespace id` for the cache invalidation (introduced in: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89162) \n\n### Update\n\nAs discussed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88956, we also need to send the `project's root namespace id` in the `Pages::PageDeletedEvent` to better invalidate the cache.","state":"closed","created_at":"2022-05-31T22:08:51.227Z","updated_at":"2022-07-07T15:59:35.457Z","closed_at":"2022-07-07T15:59:35.450Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","Error Budget Improvement","auto updated","backend","devops::create","group::editor","section::dev","type::feature","workflow::production"],"milestone":null,"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364070","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364070","notes":"https://gitlab.com/api/v4/projects/278964/issues/364070/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364070/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364070","relative":"#364070","full":"gitlab-org/gitlab#364070"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7920,"epic":{"id":503228,"iid":7920,"title":"Pages Internal API Caching","url":"/groups/gitlab-org/-/epics/7920","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":109410386,"iid":364069,"project_id":278964,"title":"Invalidate gitlab-pages internal api cache with 'Group deleted' event","description":"# Context\n\nFor `GET /api/internal/pages?host=HOST`. This is the API endpoint that gets called by GitLab pages when a request comes in and we haven't cached in gitlab-pages what needs to be served for this.\n\nGiven that the `satisfiedThreshold` for writing headers for a response is 0.5s, ideally, this would be even faster than the threshold set for `web-pages`. We think 0.5s for serving a static page is an acceptable target.\n\nSince this information generally does not change a lot, we could add a cache for the JSON response of this endpoint to help the metrics.\n\nThe cache introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/363867, needs to be invalidated in some application events (https://gitlab.com/groups/gitlab-org/-/epics/7920#events-that-invalidate-the-cache).\n\n## What is this issue\n\nThis issue is introduce the cache invalidation for the *Group deleted* event.\n\nFor the cache invalidation the event must contain:\n- `group id`\n- `group root namespace id`","state":"closed","created_at":"2022-05-31T22:08:49.708Z","updated_at":"2022-08-17T14:58:21.468Z","closed_at":"2022-08-17T14:58:21.448Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","Error Budget Improvement","auto updated","backend","devops::create","group::editor","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364069","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364069","notes":"https://gitlab.com/api/v4/projects/278964/issues/364069/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364069/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364069","relative":"#364069","full":"gitlab-org/gitlab#364069"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7920,"epic":{"id":503228,"iid":7920,"title":"Pages Internal API Caching","url":"/groups/gitlab-org/-/epics/7920","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":109410384,"iid":364068,"project_id":278964,"title":"Invalidate gitlab-pages internal api cache with 'Group moved' event","description":"# Context\n\nFor `GET /api/internal/pages?host=HOST`. This is the API endpoint that gets called by GitLab pages when a request comes in and we haven't cached in gitlab-pages what needs to be served for this.\n\nGiven that the `satisfiedThreshold` for writing headers for a response is 0.5s, ideally, this would be even faster than the threshold set for `web-pages`. We think 0.5s for serving a static page is an acceptable target.\n\nSince this information generally does not change a lot, we could add a cache for the JSON response of this endpoint to help the metrics.\n\nThe cache introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/363867, needs to be invalidated in some application events (https://gitlab.com/groups/gitlab-org/-/epics/7920#events-that-invalidate-the-cache).\n\n## What is this issue\n\nThis issue is introduce the cache invalidation for the *Group moved* event.\n\nFor the cache invalidation the event must contain:\n- `group id`\n- `group root namespace id`","state":"closed","created_at":"2022-05-31T22:08:48.671Z","updated_at":"2022-08-11T14:26:52.306Z","closed_at":"2022-08-11T14:26:52.289Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","Error Budget Improvement","auto updated","backend","devops::create","group::editor","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364068","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364068","notes":"https://gitlab.com/api/v4/projects/278964/issues/364068/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364068/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364068","relative":"#364068","full":"gitlab-org/gitlab#364068"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7920,"epic":{"id":503228,"iid":7920,"title":"Pages Internal API Caching","url":"/groups/gitlab-org/-/epics/7920","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":109410383,"iid":364067,"project_id":278964,"title":"Invalidate gitlab-pages internal api cache with 'Group path change' event","description":"# Context\n\nFor `GET /api/internal/pages?host=HOST`. This is the API endpoint that gets called by GitLab pages when a request comes in and we haven't cached in gitlab-pages what needs to be served for this.\n\nGiven that the `satisfiedThreshold` for writing headers for a response is 0.5s, ideally, this would be even faster than the threshold set for `web-pages`. We think 0.5s for serving a static page is an acceptable target.\n\nSince this information generally does not change a lot, we could add a cache for the JSON response of this endpoint to help the metrics.\n\nThe cache introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/363867, needs to be invalidated in some application events (https://gitlab.com/groups/gitlab-org/-/epics/7920#events-that-invalidate-the-cache).\n\n## What is this issue\n\nThis issue is introduce the cache invalidation for the *Group path changed* event.\n\nFor the cache invalidation the event must contain:\n- `group id`\n- `group root namespace id`","state":"closed","created_at":"2022-05-31T22:08:47.700Z","updated_at":"2022-11-02T16:12:25.438Z","closed_at":"2022-08-17T14:58:07.014Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","Error Budget Improvement","auto updated","backend","devops::create","group::editor","section::dev","type::feature","workflow::in review"],"milestone":null,"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364067","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364067","notes":"https://gitlab.com/api/v4/projects/278964/issues/364067/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364067/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364067","relative":"#364067","full":"gitlab-org/gitlab#364067"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7920,"epic":{"id":503228,"iid":7920,"title":"Pages Internal API Caching","url":"/groups/gitlab-org/-/epics/7920","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":109410381,"iid":364066,"project_id":278964,"title":"Invalidate gitlab-pages internal api cache with 'Project archived' event","description":"# Context\n\nFor `GET /api/internal/pages?host=HOST`. This is the API endpoint that gets called by GitLab pages when a request comes in and we haven't cached in gitlab-pages what needs to be served for this.\n\nGiven that the `satisfiedThreshold` for writing headers for a response is 0.5s, ideally, this would be even faster than the threshold set for `web-pages`. We think 0.5s for serving a static page is an acceptable target.\n\nSince this information generally does not change a lot, we could add a cache for the JSON response of this endpoint to help the metrics.\n\nThe cache introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/363867, needs to be invalidated in some application events (https://gitlab.com/groups/gitlab-org/-/epics/7920#events-that-invalidate-the-cache).\n\n## What is this issue\n\nThis issue is introduce the cache invalidation for the *Project archived* event.\n\nFor the cache invalidation the event must contain:\n- `project id`\n- `project namespace id`\n- `project's root namespace id`","state":"closed","created_at":"2022-05-31T22:08:46.686Z","updated_at":"2022-08-03T11:13:35.868Z","closed_at":"2022-08-03T11:13:35.846Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","Error Budget Improvement","auto updated","backend","devops::create","group::editor","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364066","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364066","notes":"https://gitlab.com/api/v4/projects/278964/issues/364066/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364066/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364066","relative":"#364066","full":"gitlab-org/gitlab#364066"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7920,"epic":{"id":503228,"iid":7920,"title":"Pages Internal API Caching","url":"/groups/gitlab-org/-/epics/7920","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":109410380,"iid":364065,"project_id":278964,"title":"Invalidate gitlab-pages internal api cache with 'Project deleted' event","description":"# Context\n\nFor `GET /api/internal/pages?host=HOST`. This is the API endpoint that gets called by GitLab pages when a request comes in and we haven't cached in gitlab-pages what needs to be served for this.\n\nGiven that the `satisfiedThreshold` for writing headers for a response is 0.5s, ideally, this would be even faster than the threshold set for `web-pages`. We think 0.5s for serving a static page is an acceptable target.\n\nSince this information generally does not change a lot, we could add a cache for the JSON response of this endpoint to help the metrics.\n\nThe cache introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/363867, needs to be invalidated in some application events (https://gitlab.com/groups/gitlab-org/-/epics/7920#events-that-invalidate-the-cache).\n\n## What is this issue\n\nThis issue changes *Project deleted* event to contain all required fields for the cache invalidation.\n\nFor the cache invalidation the event must contain:\n- `project id`\n- `project namespace id`\n- `project's root namespace id`","state":"closed","created_at":"2022-05-31T22:08:45.996Z","updated_at":"2022-08-10T11:34:24.254Z","closed_at":"2022-07-11T16:10:53.825Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","Error Budget Improvement","auto updated","backend","devops::create","group::editor","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364065","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364065","notes":"https://gitlab.com/api/v4/projects/278964/issues/364065/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364065/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364065","relative":"#364065","full":"gitlab-org/gitlab#364065"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7920,"epic":{"id":503228,"iid":7920,"title":"Pages Internal API Caching","url":"/groups/gitlab-org/-/epics/7920","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":109410379,"iid":364064,"project_id":278964,"title":"Invalidate gitlab-pages internal api cache with 'Project transfered' event","description":"# Context\n\nFor `GET /api/internal/pages?host=HOST`. This is the API endpoint that gets called by GitLab pages when a request comes in and we haven't cached in gitlab-pages what needs to be served for this.\n\nGiven that the `satisfiedThreshold` for writing headers for a response is 0.5s, ideally, this would be even faster than the threshold set for `web-pages`. We think 0.5s for serving a static page is an acceptable target.\n\nSince this information generally does not change a lot, we could add a cache for the JSON response of this endpoint to help the metrics.\n\nThe cache introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/363867, needs to be invalidated in some application events (https://gitlab.com/groups/gitlab-org/-/epics/7920#events-that-invalidate-the-cache).\n\n## What is this issue\n\nThis issue is introduce the cache invalidation for the *Project moved* event.\n\nFor the cache invalidation the event must contain:\n- `project id`\n- `project namespace id`\n- `project's root namespace id`","state":"closed","created_at":"2022-05-31T22:08:44.811Z","updated_at":"2022-08-09T18:45:14.884Z","closed_at":"2022-08-09T15:34:21.322Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","Error Budget Improvement","auto updated","backend","devops::create","group::editor","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364064","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364064","notes":"https://gitlab.com/api/v4/projects/278964/issues/364064/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364064/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364064","relative":"#364064","full":"gitlab-org/gitlab#364064"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7920,"epic":{"id":503228,"iid":7920,"title":"Pages Internal API Caching","url":"/groups/gitlab-org/-/epics/7920","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":109410295,"iid":364063,"project_id":278964,"title":"Invalidate gitlab-pages internal api cache with 'Project path change' event","description":"# Context\n\nFor `GET /api/internal/pages?host=HOST`. This is the API endpoint that gets called by GitLab pages when a request comes in and we haven't cached in gitlab-pages what needs to be served for this.\n\nGiven that the `satisfiedThreshold` for writing headers for a response is 0.5s, ideally, this would be even faster than the threshold set for `web-pages`. We think 0.5s for serving a static page is an acceptable target.\n\nSince this information generally does not change a lot, we could add a cache for the JSON response of this endpoint to help the metrics.\n\nThe cache introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/363867, needs to be invalidated in some application events (https://gitlab.com/groups/gitlab-org/-/epics/7920#events-that-invalidate-the-cache).\n\n## What is this issue\n\nThis issue is introduce the cache invalidation for the *Project path change* event.\n\nFor the cache invalidation the event must contain:\n- `project id`\n- `project namespace id`\n- `project's root namespace id`","state":"closed","created_at":"2022-05-31T22:06:33.597Z","updated_at":"2022-07-27T13:33:50.953Z","closed_at":"2022-07-27T13:33:50.670Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","Error Budget Improvement","auto updated","backend","devops::create","group::editor","missed:15.2","section::dev","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364063","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364063","notes":"https://gitlab.com/api/v4/projects/278964/issues/364063/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364063/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364063","relative":"#364063","full":"gitlab-org/gitlab#364063"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7920,"epic":{"id":503228,"iid":7920,"title":"Pages Internal API Caching","url":"/groups/gitlab-org/-/epics/7920","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":109410244,"iid":364062,"project_id":278964,"title":"Invalidate gitlab-pages internal api cache with 'Project created' event","description":"# Context\n\nFor `GET /api/internal/pages?host=HOST`. This is the API endpoint that gets called by GitLab pages when a request comes in and we haven't cached in gitlab-pages what needs to be served for this.\n\nGiven that the `satisfiedThreshold` for writing headers for a response is 0.5s, ideally, this would be even faster than the threshold set for `web-pages`. We think 0.5s for serving a static page is an acceptable target.\n\nSince this information generally does not change a lot, we could add a cache for the JSON response of this endpoint to help the metrics.\n\nThe cache introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/363867, needs to be invalidated in some application events (https://gitlab.com/groups/gitlab-org/-/epics/7920#events-that-invalidate-the-cache).\n\n## What is this issue\n\nThis issue is introduce the cache invalidation for the *Project created* event.\n\nFor the cache invalidation the event must contain:\n- `project id`\n- `project namespace id`\n- `project's root namespace id`","state":"closed","created_at":"2022-05-31T22:04:20.467Z","updated_at":"2022-07-14T09:32:26.213Z","closed_at":"2022-07-14T09:32:26.192Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","Error Budget Improvement","auto updated","backend","devops::create","group::editor","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364062","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364062","notes":"https://gitlab.com/api/v4/projects/278964/issues/364062/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364062/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364062","relative":"#364062","full":"gitlab-org/gitlab#364062"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7920,"epic":{"id":503228,"iid":7920,"title":"Pages Internal API Caching","url":"/groups/gitlab-org/-/epics/7920","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":109402653,"iid":364047,"project_id":278964,"title":"Create constant for 'data-reference-type'","description":"The following discussion from !86708 should be addressed:\n\n- [ ] @alexkalderimis started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86708#note_961687444):  (+2 comments)\n\n    \u003e It might be nice to have a named constant for this - but that is not a blocker.\n    \u003e \n    \u003e More interesting (and a possible follow-up) is that this is very slightly too broad, since the following MD will produce a document that we will (pointlessly) re-write:\n    \u003e \n    \u003e ````markdown\n    \u003e Some fenced block:\n    \u003e \n    \u003e ```\n    \u003e \u003cfoo data-reference-type=\"x\"/\u003e\n    \u003e ```\n    \u003e ````\n    \u003e \n    \u003e Do we want to care? Probably not - and parsing the string on the off-chance is not super worthwhile.","state":"closed","created_at":"2022-05-31T19:01:46.325Z","updated_at":"2022-08-30T14:07:14.572Z","closed_at":"2022-08-30T14:07:14.524Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Stretch","auto updated","backend","devops::plan","follow-up","group::product planning","maintenance::refactor","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364047","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364047","notes":"https://gitlab.com/api/v4/projects/278964/issues/364047/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364047/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364047","relative":"#364047","full":"gitlab-org/gitlab#364047"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109391551,"iid":364033,"project_id":278964,"title":"Remove vulnerability language type from security training providers resolver","description":"We introduced language parameter in security training finders and GraphQL resolver in this [issue](https://gitlab.com/gitlab-org/gitlab/-/issues/346455). But later we decided to pass the filename instead of language type as part of https://gitlab.com/gitlab-org/gitlab/-/issues/362697 which is set for 15.1. As we are taking filename from where we will derive the language in backend, we can get rid of `language` parameter. \n\n## Implementation plan: \n\n- [x] Remove this from SecurityTrainingUrlsResolver, finder and GraphQL type\n- [x] Remove it from GraphQL documentation \n- [x] See this https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86461 to make sure the places we introduced it before","state":"closed","created_at":"2022-05-31T17:35:10.862Z","updated_at":"2022-06-13T03:25:27.162Z","closed_at":"2022-06-10T16:01:42.363Z","closed_by":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"labels":["backend","devops::secure","feature::addition","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364033","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364033","notes":"https://gitlab.com/api/v4/projects/278964/issues/364033/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364033/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364033","relative":"#364033","full":"gitlab-org/gitlab#364033"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7805,"epic":{"id":485503,"iid":7805,"title":"Security Training 2.0","url":"/groups/gitlab-org/-/epics/7805","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109388926,"iid":364030,"project_id":278964,"title":"Frontend: Editor shows an empty state when CI config is in another project","description":"## Problem\n\nWhen the config is stored in a different project or outside of GitLab, we show an empty state in the pipeline editor that offers to create a pipeline config. It creates a broken experience for someone with an external config.\n\nDocumentation for setting up CI using a file in an external project:\n\nhttps://docs.gitlab.com/ee/ci/pipelines/settings.html#specify-a-custom-cicd-configuration-file\n\n![Screen_Shot_2022-05-31_at_12.28.26_PM](/uploads/86779edfb8c9eb5e4229fed6c0c8638f/Screen_Shot_2022-05-31_at_12.28.26_PM.png)\n\n## Proposal\n\nAs an MVC, communicate that the config is stored outside of the project in the pipeline editor empty state. Adjust the empty state UI text and remove the CTA button.\n\n![image](/uploads/1ffdfba178705fe8a667e16c417fb0b2/image.png)\n\n\u003e **This project's pipeline configuration is located outside this repository**\n\u003e \n\u003e To edit the pipeline configuration, you must go to the project or external site that hosts the file.","state":"closed","created_at":"2022-05-31T16:32:11.266Z","updated_at":"2022-10-07T15:21:53.371Z","closed_at":"2022-10-05T06:53:50.349Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","UX","auto updated","devops::verify","frontend","frontend-weight::2","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/364030","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/364030","notes":"https://gitlab.com/api/v4/projects/278964/issues/364030/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/364030/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#364030","relative":"#364030","full":"gitlab-org/gitlab#364030"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":69697,"iid":84,"sequence":26,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-07-11T00:05:03.302Z","updated_at":"2022-10-17T00:05:02.143Z","start_date":"2022-10-03","due_date":"2022-10-16","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/69697"},"health_status":"on_track"},{"id":109388570,"iid":363989,"project_id":278964,"title":"Migrate ee/app/views/shared/_ultimate_trial_callout_content.html.haml to Pajamas::ButtonComponent","description":"One or more buttons in [`ee/app/views/shared/_ultimate_trial_callout_content.html.haml`](https://gitlab.com/gitlab-org/gitlab/blob/9fadfa13aae27f2963445322bb922c9c0968815f/ee/app/views/shared/_ultimate_trial_callout_content.html.haml) should use the `Pajamas::ButtonComponent` abstraction. See the parent epic https://gitlab.com/groups/gitlab-org/-/epics/8153 for guidance on migration strategies.","state":"closed","created_at":"2022-05-31T16:24:33.516Z","updated_at":"2022-11-22T18:38:50.759Z","closed_at":"2022-06-15T10:13:52.400Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["OKR","SUS::Impacting","component:button","devops::manage","frontend","group::billing and subscription management","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363989","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363989","notes":"https://gitlab.com/api/v4/projects/278964/issues/363989/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363989/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363989","relative":"#363989","full":"gitlab-org/gitlab#363989"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8153,"epic":{"id":535182,"iid":8153,"title":"Buttons \u003e HAML/Ruby \u003e Migrate to Pajamas::ButtonComponent","url":"/groups/gitlab-org/-/epics/8153","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":109388568,"iid":363987,"project_id":278964,"title":"Migrate app/views/admin/projects/index.html.haml to Pajamas::ButtonComponent","description":"One or more buttons in [`app/views/admin/projects/index.html.haml`](https://gitlab.com/gitlab-org/gitlab/blob/9fadfa13aae27f2963445322bb922c9c0968815f/app/views/admin/projects/index.html.haml) should use the `Pajamas::ButtonComponent` abstraction. See the parent epic https://gitlab.com/groups/gitlab-org/-/epics/8153 for guidance on migration strategies.","state":"closed","created_at":"2022-05-31T16:24:33.499Z","updated_at":"2022-11-22T18:38:53.388Z","closed_at":"2022-06-14T08:25:09.238Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["OKR","SUS::Impacting","component:button","devops::manage","frontend","group::billing and subscription management","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363987","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363987","notes":"https://gitlab.com/api/v4/projects/278964/issues/363987/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363987/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363987","relative":"#363987","full":"gitlab-org/gitlab#363987"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8153,"epic":{"id":535182,"iid":8153,"title":"Buttons \u003e HAML/Ruby \u003e Migrate to Pajamas::ButtonComponent","url":"/groups/gitlab-org/-/epics/8153","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":109388248,"iid":363931,"project_id":278964,"title":"Migrate ee/app/views/layouts/header/_ee_subscribable_banner.html.haml to Pajamas::ButtonComponent","description":"One or more buttons in [`ee/app/views/layouts/header/_ee_subscribable_banner.html.haml`](https://gitlab.com/gitlab-org/gitlab/blob/9fadfa13aae27f2963445322bb922c9c0968815f/ee/app/views/layouts/header/_ee_subscribable_banner.html.haml) should use the `Pajamas::ButtonComponent` abstraction. See the parent epic https://gitlab.com/groups/gitlab-org/-/epics/8153 for guidance on migration strategies.","state":"closed","created_at":"2022-05-31T16:18:23.537Z","updated_at":"2022-11-22T18:39:18.966Z","closed_at":"2022-06-14T08:17:56.893Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["OKR","SUS::Impacting","component:button","devops::manage","frontend","group::billing and subscription management","pajamas::integrate","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363931","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363931","notes":"https://gitlab.com/api/v4/projects/278964/issues/363931/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363931/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363931","relative":"#363931","full":"gitlab-org/gitlab#363931"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8153,"epic":{"id":535182,"iid":8153,"title":"Buttons \u003e HAML/Ruby \u003e Migrate to Pajamas::ButtonComponent","url":"/groups/gitlab-org/-/epics/8153","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":109388221,"iid":363904,"project_id":278964,"title":"Migrate app/views/shared/blob/_markdown_buttons.html.haml to Pajamas::ButtonComponent","description":"One or more buttons in [`app/views/shared/blob/_markdown_buttons.html.haml`](https://gitlab.com/gitlab-org/gitlab/blob/9fadfa13aae27f2963445322bb922c9c0968815f/app/views/shared/blob/_markdown_buttons.html.haml) should use the `Pajamas::ButtonComponent` abstraction. See the parent epic https://gitlab.com/groups/gitlab-org/-/epics/8153 for guidance on migration strategies.","state":"closed","created_at":"2022-05-31T16:18:22.792Z","updated_at":"2022-10-06T23:47:22.857Z","closed_at":"2022-10-06T23:47:22.837Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["SUS::Impacting","[deprecated] Category:Billing and Subscription Management","component:button","devops::fulfillment","frontend","group::billing and subscription management","pajamas::integrate","section::fulfillment","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363904","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363904","notes":"https://gitlab.com/api/v4/projects/278964/issues/363904/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363904/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363904","relative":"#363904","full":"gitlab-org/gitlab#363904"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8153,"epic":{"id":535182,"iid":8153,"title":"Buttons \u003e HAML/Ruby \u003e Migrate to Pajamas::ButtonComponent","url":"/groups/gitlab-org/-/epics/8153","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":109388210,"iid":363894,"project_id":278964,"title":"Migrate app/views/projects/project_templates/_project_fields_form.html.haml to Pajamas::ButtonComponent","description":"One or more buttons in [`app/views/projects/project_templates/_project_fields_form.html.haml`](https://gitlab.com/gitlab-org/gitlab/blob/9fadfa13aae27f2963445322bb922c9c0968815f/app/views/projects/project_templates/_project_fields_form.html.haml) should use the `Pajamas::ButtonComponent` abstraction. See the parent epic https://gitlab.com/groups/gitlab-org/-/epics/8153 for guidance on migration strategies.","state":"closed","created_at":"2022-05-31T16:18:22.607Z","updated_at":"2022-10-05T17:08:19.723Z","closed_at":"2022-10-05T17:08:19.700Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["SUS::Impacting","[deprecated] Category:Billing and Subscription Management","component:button","devops::fulfillment","frontend","group::billing and subscription management","pajamas::integrate","section::fulfillment","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363894","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363894","notes":"https://gitlab.com/api/v4/projects/278964/issues/363894/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363894/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363894","relative":"#363894","full":"gitlab-org/gitlab#363894"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8153,"epic":{"id":535182,"iid":8153,"title":"Buttons \u003e HAML/Ruby \u003e Migrate to Pajamas::ButtonComponent","url":"/groups/gitlab-org/-/epics/8153","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":109388214,"iid":363897,"project_id":278964,"title":"Migrate app/views/projects/blob/_editor.html.haml to Pajamas::ButtonComponent","description":"One or more buttons in [`app/views/projects/blob/_editor.html.haml`](https://gitlab.com/gitlab-org/gitlab/blob/9fadfa13aae27f2963445322bb922c9c0968815f/app/views/projects/blob/_editor.html.haml) should use the `Pajamas::ButtonComponent` abstraction. See the parent epic https://gitlab.com/groups/gitlab-org/-/epics/8153 for guidance on migration strategies.","state":"closed","created_at":"2022-05-31T16:18:22.532Z","updated_at":"2022-10-05T17:01:31.654Z","closed_at":"2022-10-05T17:01:31.629Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["SUS::Impacting","[deprecated] Category:Billing and Subscription Management","component:button","devops::fulfillment","frontend","group::billing and subscription management","pajamas::integrate","section::fulfillment","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363897","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363897","notes":"https://gitlab.com/api/v4/projects/278964/issues/363897/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363897/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363897","relative":"#363897","full":"gitlab-org/gitlab#363897"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8153,"epic":{"id":535182,"iid":8153,"title":"Buttons \u003e HAML/Ruby \u003e Migrate to Pajamas::ButtonComponent","url":"/groups/gitlab-org/-/epics/8153","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":109388216,"iid":363899,"project_id":278964,"title":"Migrate app/views/projects/issues/_nav_btns.html.haml to Pajamas::ButtonComponent","description":"One or more buttons in [`app/views/projects/issues/_nav_btns.html.haml`](https://gitlab.com/gitlab-org/gitlab/blob/9fadfa13aae27f2963445322bb922c9c0968815f/app/views/projects/issues/_nav_btns.html.haml) should use the `Pajamas::ButtonComponent` abstraction. See the parent epic https://gitlab.com/groups/gitlab-org/-/epics/8153 for guidance on migration strategies.","state":"closed","created_at":"2022-05-31T16:18:22.502Z","updated_at":"2022-10-05T17:06:25.722Z","closed_at":"2022-10-05T17:06:25.698Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["SUS::Impacting","[deprecated] Category:Billing and Subscription Management","component:button","devops::fulfillment","frontend","group::billing and subscription management","pajamas::integrate","section::fulfillment","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363899","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363899","notes":"https://gitlab.com/api/v4/projects/278964/issues/363899/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363899/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363899","relative":"#363899","full":"gitlab-org/gitlab#363899"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8153,"epic":{"id":535182,"iid":8153,"title":"Buttons \u003e HAML/Ruby \u003e Migrate to Pajamas::ButtonComponent","url":"/groups/gitlab-org/-/epics/8153","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":109388227,"iid":363910,"project_id":278964,"title":"Migrate app/views/projects/_visibility_modal.html.haml to Pajamas::ButtonComponent","description":"One or more buttons in [`app/views/projects/_visibility_modal.html.haml`](https://gitlab.com/gitlab-org/gitlab/blob/9fadfa13aae27f2963445322bb922c9c0968815f/app/views/projects/_visibility_modal.html.haml) should use the `Pajamas::ButtonComponent` abstraction. See the parent epic https://gitlab.com/groups/gitlab-org/-/epics/8153 for guidance on migration strategies.","state":"closed","created_at":"2022-05-31T16:18:22.395Z","updated_at":"2022-11-22T18:39:43.632Z","closed_at":"2022-10-25T04:05:15.743Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:DevOps Reports","SUS::Impacting","component:button","devops::manage","frontend","group::optimize","pajamas::integrate","section::dev","severity::4","type::maintenance"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363910","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363910","notes":"https://gitlab.com/api/v4/projects/278964/issues/363910/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363910/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363910","relative":"#363910","full":"gitlab-org/gitlab#363910"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8153,"epic":{"id":535182,"iid":8153,"title":"Buttons \u003e HAML/Ruby \u003e Migrate to Pajamas::ButtonComponent","url":"/groups/gitlab-org/-/epics/8153","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":109388218,"iid":363901,"project_id":278964,"title":"Migrate app/views/projects/_fork_suggestion.html.haml to Pajamas::ButtonComponent","description":"One or more buttons in [`app/views/projects/_fork_suggestion.html.haml`](https://gitlab.com/gitlab-org/gitlab/blob/9fadfa13aae27f2963445322bb922c9c0968815f/app/views/projects/_fork_suggestion.html.haml) should use the `Pajamas::ButtonComponent` abstraction. See the parent epic https://gitlab.com/groups/gitlab-org/-/epics/8153 for guidance on migration strategies.","state":"closed","created_at":"2022-05-31T16:18:22.348Z","updated_at":"2022-10-14T20:15:57.858Z","closed_at":"2022-10-14T20:15:57.836Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["SUS::Impacting","[deprecated] Category:Billing and Subscription Management","component:button","devops::fulfillment","frontend","group::billing and subscription management","pajamas::integrate","section::fulfillment","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363901","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363901","notes":"https://gitlab.com/api/v4/projects/278964/issues/363901/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363901/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363901","relative":"#363901","full":"gitlab-org/gitlab#363901"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8153,"epic":{"id":535182,"iid":8153,"title":"Buttons \u003e HAML/Ruby \u003e Migrate to Pajamas::ButtonComponent","url":"/groups/gitlab-org/-/epics/8153","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":109384717,"iid":363876,"project_id":278964,"title":"Authentication type in audit events: Deploy keys","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nFull context in [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8158).\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n* Update audit events to reflect the fact that a deploy key was used to authenticate to perform that action.\n   * This could be a new value add as an enum with a `deploy_key` or similar name, rather than a magic number.\n     * `author_class` field should be `DeployKey`.\n     * `author_name` field should be `deploy_key.title`.\n   * Should be in the same JSON record for the audit event - don't use a solution which requires a separate API for example.\n* Update the [audit event development guide](https://docs.gitlab.com/ee/development/audit_event_guide/) to reflect how to indicate this in an audit event if any changes are needed.\n* This uses [Event streaming](https://docs.gitlab.com/ee/development/audit_event_guide/#event-streaming) and [audit Git operations](https://docs.gitlab.com/ee/administration/audit_event_streaming.html#audit-event-streaming-on-git-operations). Specifically, `audit_event_streaming_git_operations` feature flag.\n* Event structure should be similar to [Deploy Token's Git authentication](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87042).\n\n#### Current event structure\n\nThe SSH authentication event from Deploy Key access has already been recorded in the Audit Event streaming. Here is an example payload:\n\n```\n{\n  \"id\": 1657879517,\n  \"author_id\": 45,\n  \"entity_id\": 22,\n  \"entity_type\": \"Project\",\n  \"details\": {\n    \"author_name\": \"shinya maeda\",\n    \"target_id\": 22,\n    \"target_type\": \"Project\",\n    \"target_details\": \"new_project\",\n    \"custom_message\": {\n      \"protocol\": \"ssh\",\n      \"action\": \"git-upload-pack\"\n    },\n    \"ip_address\": \"127.0.0.1\",\n    \"entity_path\": \"dosuken-org/new_project\"\n  },\n  \"ip_address\": \"127.0.0.1\",\n  \"author_name\": \"shinya maeda\",\n  \"entity_path\": \"dosuken-org/new_project\",\n  \"target_details\": \"new_project\",\n  \"created_at\": \"2022-07-15T10:05:17.347Z\",\n  \"target_type\": \"Project\",\n  \"target_id\": 22,\n  \"event_type\": \"repository_git_operation\"\n}\n```\n\n#### New event structure\n\n```\n{\n  \"id\": 1657888445,\n  \"author_id\": -3,\n  \"entity_id\": 22,\n  \"entity_type\": \"Project\",\n  \"details\": {\n    \"author_name\": \"dep-key-test-2\",\n    \"author_class\": \"DeployKey\",\n    \"target_id\": 22,\n    \"target_type\": \"Project\",\n    \"target_details\": \"new_project\",\n    \"custom_message\": {\n      \"protocol\": \"ssh\",\n      \"action\": \"git-upload-pack\"\n    },\n    \"ip_address\": \"127.0.0.1\",\n    \"entity_path\": \"dosuken-org/new_project\"\n  },\n  \"ip_address\": \"127.0.0.1\",\n  \"author_name\": \"Deploy Key\",\n  \"entity_path\": \"dosuken-org/new_project\",\n  \"target_details\": \"new_project\",\n  \"created_at\": \"2022-07-15T12:34:05.645Z\",\n  \"target_type\": \"Project\",\n  \"target_id\": 22,\n  \"event_type\": \"repository_git_operation\"\n}\n```\n\n#### PoC\n\nPoC MR is available in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/92547\n\n#### Technical discussion\n\n@dennis took a look to see if we could implement attribution to deploy keys similar to [how we did it for deploy tokens](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87042), but it doesn't seem to be an easy check of whether the `author` is an instance of `DeployKey`. \n\nBy the time the audit event build service receives the author information, it returns a class of `User`, so it seems that we need to move further upstream in order to determine whether a deploy key was used, as the audit event service has no way of making this distinction before sending the audit event out.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n### Examples\n\n\u003cdetails\u003e\n\n\u003csummary\u003eSSH Git clone event (with personal SSH key)\u003c/summary\u003e\n\n```\n{\n  \"id\": 1657879034,\n  \"author_id\": 45,\n  \"entity_id\": 22,\n  \"entity_type\": \"Project\",\n  \"details\": {\n    \"author_name\": \"shinya maeda\",\n    \"target_id\": 22,\n    \"target_type\": \"Project\",\n    \"target_details\": \"new_project\",\n    \"custom_message\": {\n      \"protocol\": \"ssh\",\n      \"action\": \"git-upload-pack\"\n    },\n    \"ip_address\": \"127.0.0.1\",\n    \"entity_path\": \"dosuken-org/new_project\"\n  },\n  \"ip_address\": \"127.0.0.1\",\n  \"author_name\": \"shinya maeda\",\n  \"entity_path\": \"dosuken-org/new_project\",\n  \"target_details\": \"new_project\",\n  \"created_at\": \"2022-07-15T09:57:14.068Z\",\n  \"target_type\": \"Project\",\n  \"target_id\": 22,\n  \"event_type\": \"repository_git_operation\"\n}\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\n\u003csummary\u003eHTTP Git clone event (with personal username and password)\u003c/summary\u003e\n\n```\n{\n  \"id\": 1657877947,\n  \"author_id\": 45,\n  \"entity_id\": 22,\n  \"entity_type\": \"Project\",\n  \"details\": {\n    \"author_name\": \"shinya maeda\",\n    \"target_id\": 22,\n    \"target_type\": \"Project\",\n    \"target_details\": \"new_project\",\n    \"custom_message\": {\n      \"protocol\": \"http\",\n      \"action\": \"git-upload-pack\"\n    },\n    \"ip_address\": \"127.0.0.1\",\n    \"entity_path\": \"dosuken-org/new_project\"\n  },\n  \"ip_address\": \"127.0.0.1\",\n  \"author_name\": \"shinya maeda\",\n  \"entity_path\": \"dosuken-org/new_project\",\n  \"target_details\": \"new_project\",\n  \"created_at\": \"2022-07-15T09:39:07.005Z\",\n  \"target_type\": \"Project\",\n  \"target_id\": 22,\n  \"event_type\": \"repository_git_operation\"\n}\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\n\u003csummary\u003eHTTP Git clone event (with Deploy Token)\u003c/summary\u003e\n\n```\n{\n  \"id\": 1657878131,\n  \"author_id\": -2,\n  \"entity_id\": 22,\n  \"entity_type\": \"Project\",\n  \"details\": {\n    \"author_name\": \"test\",\n    \"target_id\": 22,\n    \"target_type\": \"Project\",\n    \"target_details\": \"new_project\",\n    \"custom_message\": {\n      \"protocol\": \"http\",\n      \"action\": \"git-upload-pack\"\n    },\n    \"ip_address\": \"127.0.0.1\",\n    \"entity_path\": \"dosuken-org/new_project\"\n  },\n  \"ip_address\": \"127.0.0.1\",\n  \"author_name\": \"test\",\n  \"entity_path\": \"dosuken-org/new_project\",\n  \"target_details\": \"new_project\",\n  \"created_at\": \"2022-07-15T09:42:11.014Z\",\n  \"target_type\": \"Project\",\n  \"target_id\": 22,\n  \"event_type\": \"repository_git_operation\"\n}\n```\n\n\u003c/details\u003e","state":"closed","created_at":"2022-05-31T15:19:52.111Z","updated_at":"2022-08-15T19:18:15.172Z","closed_at":"2022-08-05T10:06:46.101Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Continuous Delivery","GitLab Ultimate","Next Up","Release::P1","customer","devops::release","direction","documentation","group::release","section::ops","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":45,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363876","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363876","notes":"https://gitlab.com/api/v4/projects/278964/issues/363876/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363876/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363876","relative":"#363876","full":"gitlab-org/gitlab#363876"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8158,"epic":{"id":535349,"iid":8158,"title":"Record the authentication type that was used in an audit event","url":"/groups/gitlab-org/-/epics/8158","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109378706,"iid":363867,"project_id":278964,"title":"Cache gitlab-pages internal endpoint response","description":"## What\n\nFor `GET /api/internal/pages?host=HOST`. This is the API endpoint that gets called by GitLab pages when a request comes in and we haven't cached in gitlab-pages what needs to be served for this.\n\nGiven that the `satisfiedThreshold` for writing headers for a response is 0.5s, ideally, this would be even faster than the threshold set for `web-pages`. We think 0.5s for serving a static page is an acceptable target.\n\n## Proposed solution\n\nSince this information generally does not change a lot, we could add a cache for the JSON response of this endpoint to help the metrics.\n\nThe cache must use the to level (root) namespace id as the key\n\n## Iteration\n\nBased on the SPIKE done before (https://gitlab.com/gitlab-org/gitlab/-/issues/359972) This issue will handle:\n- Cache creation and usage (behind a feature flag)\n- Cache invalidation with the `Pages deployed` event\n\nThe other events (https://gitlab.com/groups/gitlab-org/-/epics/7920#events-that-invalidate-the-cache) that might invalidate the cache will be introduced later.","state":"closed","created_at":"2022-05-31T13:53:24.240Z","updated_at":"2022-10-11T17:36:31.922Z","closed_at":"2022-07-07T15:58:31.019Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Pages","Error Budget Improvement","backend","devops::create","group::editor","missed:15.1","section::dev","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363867","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363867","notes":"https://gitlab.com/api/v4/projects/278964/issues/363867/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363867/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363867","relative":"#363867","full":"gitlab-org/gitlab#363867"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7920,"epic":{"id":503228,"iid":7920,"title":"Pages Internal API Caching","url":"/groups/gitlab-org/-/epics/7920","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":109373338,"iid":363862,"project_id":278964,"title":"DAST scans do not conform to the 14.0.3 Secure schema","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nThere are a select number of DAST scans that produce a report which does not conform to the Secure report schema. This causes the scan to either produce a warning when ingested into GitLab, or worse, fail to be ingested altogether.\n\nThis was raised on an [internal slack thread](https://gitlab.slack.com/archives/CKWJP0ZS7/p1653655401030559).\n\n### More details\n\nThis situation has been reported to occur when an alert produced by ZAP does not contain a HTTP message (the cause of which has not been identified).\n\nThere are two known problems:\n\n- The `14.0.3` schema does not allow for headers will empty values. This is allowed according to the HTTP spec, and more recent schema versions have corrected this error.\n- Having a `vulnerabilities[].evidence.request` or `vulnerabilities[].evidence.response` value of `null` violates the schema. Instead, the field should be omitted.\n\n### Implementation plan\n\n- [x] In DAST, omit the request and response when the have no value (https://gitlab.com/gitlab-org/security-products/dast/-/merge_requests/607)\n- [x] In DAST, upgrade the Secure report to schema version `14.1.2` (https://gitlab.com/gitlab-org/security-products/dast/-/merge_requests/607)\n- [x] In Browserker, upgrade the Secure report to schema version `14.1.2` (https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/644)\n- [x] Release Browserker\n- [x] Upgrade DAST to the latest Browserker (https://gitlab.com/gitlab-org/security-products/dast/-/merge_requests/608)\n- [x] [Release DAST](https://gitlab.com/gitlab-org/security-products/dast/-/blob/3afb7f6d290c476c0f192403137fd6544362f099/CHANGELOG.md#v304)\n\nAssigning this a weight of `2`.","state":"closed","created_at":"2022-05-31T12:33:11.149Z","updated_at":"2022-06-13T14:07:25.121Z","closed_at":"2022-06-01T02:32:28.426Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","GitLab Ultimate","dast::zap","devops::secure","group::dynamic analysis","priority::2","section::sec","severity::2","type::bug"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363862","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363862","notes":"https://gitlab.com/api/v4/projects/278964/issues/363862/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363862/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363862","relative":"#363862","full":"gitlab-org/gitlab#363862"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109370791,"iid":363858,"project_id":278964,"title":"Migrate deletion adjourned period after admin settings revamp","description":"### Problem to solve\n\nWith the changes in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86568 the `deletion_adjourned_period` can no longer be `0`.\n\nSee the discussion https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86568#note_965510842 for more context.\n\n### Suggested solution\n\nAdd a migration to update the `deletion_adjourned_period` to `1` where it is `0`.\n\n### Implementation\n\n1. Add a database migration.\n\n```rb\nApplicationSetting.where(deletion_adjourned_period: 0).update_all(deletion_adjourned_period: 1)\n```\n\n2. Remove the `update_deletion_adjourned_period` before validation hook that was temporarily used to update the period to `1`.","state":"closed","created_at":"2022-05-31T11:53:29.818Z","updated_at":"2022-12-06T02:26:13.204Z","closed_at":"2022-08-30T12:56:22.811Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["backend","database","devops::manage","group::compliance","priority::2","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363858","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363858","notes":"https://gitlab.com/api/v4/projects/278964/issues/363858/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363858/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363858","relative":"#363858","full":"gitlab-org/gitlab#363858"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7568,"epic":{"id":444363,"iid":7568,"title":"Revamp project deletion setting options for clearer interpretation","url":"/groups/gitlab-org/-/epics/7568","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109370076,"iid":363856,"project_id":278964,"title":"Frontend: Retry pipeline tooltip is misleading","description":"### Problem\n\nThe retry pipeline button tooltip is \"retry failed jobs\" however it retries all failed and canceled jobs.\n\n![image](/uploads/fa83794aa054e72258a7079cf2cea36e/image.png)\n\n## Proposal\n\nUpdate the \"Retry\" button tooltip text to `Retry all failed or cancelled jobs`","state":"closed","created_at":"2022-05-31T11:41:04.777Z","updated_at":"2022-12-21T16:37:05.001Z","closed_at":"2022-08-16T05:55:22.570Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","SUS::Impacting","UX","auto updated","candidate::15.3","devops::verify","frontend","group::pipeline authoring","section::ops","severity::3","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363856","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363856","notes":"https://gitlab.com/api/v4/projects/278964/issues/363856/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363856/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363856","relative":"#363856","full":"gitlab-org/gitlab#363856"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109367579,"iid":363851,"project_id":278964,"title":"CWE-209: Generation of Error Message Containing Sensitive Information (database)","description":"\n### Plugin ID\n\n209.2\n\n### Supporting Research Documentation\n\n- https://gitlab.com/gitlab-org/security-products/dast-cwe-checks/-/merge_requests/82/diffs#15b4798690796168cc2fa2792ddae00e5e033c23\n- YAML [209.2.yaml](https://gitlab.com/gitlab-org/security-products/dast-cwe-checks/-/blob/363d04fbc9e7c2b55d73efede588249790d3fd68/checks/209/209.2.yaml)\n\n### Vulnerability Description\n\nThe application was found to return database error messages. Determining the type of database may assist attackers in exploiting\n    SQL Injection attacks against the system. While debug messages are helpful during development and debugging, they should not be \n    presented to users when an error occurs. \n\n\n### Remediation Text\n\nApplications should handle database error conditions internally and map known failure types to error codes that can be displayed\n    to a user. These error codes should be customized to the application and returned along with the relevant HTTP error code.\n    \n    When an error occurs, the application identifies the error type or class, and displays a numerical value to the \n    user. Requests should also be tracked so when a user is presented with an error code, it has a corresponding request ID. \n    Support teams can then correlate the HTTP error, the customized error code, and the request ID in the log files to \n    determine the root cause of the error without leaking details to the end user.\n\n    Example of returning customized errors:\n    ```\n    HTTP/1.1 500 Internal Server Error\n    ...\n    Error [0004] Occurred, please contact support or re-try your request again shortly.\n    Request ID [a4bc91def12]\n    ...\n    ```\n\n### External Links\n\n- CWE: https://cwe.mitre.org/data/definitions/209.html\n\n### Implementation plan\n\n- [x] Add documentation for check to GitLab documentation\n- [x] Add integration test for check\n- [x] Add end-to-end test for check\n  - Verify that the summary for the found vulnerability is helpful\n  - Verify that the URL in the evidence shows the URL that generated the content\n- [x] Update the check uniqueness template to contain `{request_method}{request_path}` instead of `{request_url}`\n- [x] See if there is a way to optimize or validate the regular expressions in the YAML file (many IDEs do this)\n- [x] Release Browserker, adding a changelog entry about the supported check\n- [x] Update DAST to the latest Browserker\n- [x] Disable ZAP check IDs that are defined in the YAML file when a browser-based scan\n- [x] Enable new Browserker check when a browser-based scan","state":"closed","created_at":"2022-05-31T10:52:45.191Z","updated_at":"2022-07-11T03:22:52.113Z","closed_at":"2022-07-06T05:38:45.959Z","closed_by":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"labels":["Category:DAST","GitLab Ultimate","auto updated","check::passive","dast-cwe-check-passive","dast-cwe-workflow::implementation","dast::browserker","devops::secure","group::dynamic analysis","section::sec","type::feature"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363851","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363851","notes":"https://gitlab.com/api/v4/projects/278964/issues/363851/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363851/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363851","relative":"#363851","full":"gitlab-org/gitlab#363851"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5779,"epic":{"id":251192,"iid":5779,"title":"Browser-based DAST - Passive Attack Parity","url":"/groups/gitlab-org/-/epics/5779","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109357030,"iid":363836,"project_id":278964,"title":"VersionApp: Remove sensitive strings from git history","description":"To [make version app go public](https://gitlab.com/gitlab-org/gitlab/-/issues/363564#note_964674263), we need to make sure neither [the codebase](https://gitlab.com/gitlab-org/gitlab/-/issues/360678) nor its git history contains any sensitive data.\n\nThe sensitive strings that we need to take care of can be checked in [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/360678).\n\nThere are at least two different ways we could achieve this goal:\n1. Manipulate git history to remove the sensitive strings from it. This would probably require a force push to the main branch, which might be a bit risky.\n2. Use new keys in version app and deprecate the old sensitive strings on provider side [in Sentry/oauth].","state":"closed","created_at":"2022-05-31T08:14:49.393Z","updated_at":"2022-07-04T16:10:45.693Z","closed_at":"2022-07-04T13:00:28.172Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["VersionApp","[deprecated] Accepting merge requests","automation:ml","backend","devops::analytics","group::product intelligence","quad-planning::complete-no-action","section::analytics","type::feature","won't do","workflow::blocked"],"milestone":null,"assignees":[],"author":{"id":1863977,"username":"michold","name":"Michał Wielich","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1863977/avatar.png","web_url":"https://gitlab.com/michold"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363836","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363836","notes":"https://gitlab.com/api/v4/projects/278964/issues/363836/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363836/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363836","relative":"#363836","full":"gitlab-org/gitlab#363836"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5993,"epic":{"id":269876,"iid":5993,"title":"Change Version App to be public","url":"/groups/gitlab-org/-/epics/5993","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e532\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":109350766,"iid":363827,"project_id":278964,"title":"IP allow-list bypass when using Deploy Keys/Tokens to access the Dependency Proxy","description":"### :shield: Context\n\nThis issue was discovered when investigating the blast radius of https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7149.\n\nAll related issues are confidential so this one is confidential too.\n\n### :fire: Problem\n\nGroups access can be restricted by IP. See https://docs.gitlab.com/ee/user/group/#restrict-group-access-by-ip-address.\n\nThat restriction doesn't seem to be applied with Deploy Token pulling images through the [Dependency Proxy](https://docs.gitlab.com/ee/user/packages/dependency_proxy/).\n\nWe had a similar issue with the Container Registry access. See https://gitlab.com/gitlab-org/gitlab/-/issues/363651.\n\n### :footprints: Steps to reproduce\n\n1. Have GDK ready with registry support and a premium tier license.\n1. Create a Group.\n1. [Enforce](https://docs.gitlab.com/ee/user/group/#restrict-group-access-by-ip-address) IP `200.200.200.200` or any IP that your computer **doesn't** have.\n1. Create a Group deploy token.\n1. [Set up](https://docs.gitlab.com/ee/user/packages/dependency_proxy/#authenticate-with-the-dependency-proxy) the Dependency Proxy.\n1. [Pull](https://docs.gitlab.com/ee/user/packages/dependency_proxy/#use-the-dependency-proxy-for-docker-images) a dummy image (such as `alpine:latest`) through the Dependency Proxy.\n    ```shell\n    $ docker pull \u003cdependency_proxy_prefix\u003e/alpine:latest\n    ```\n1. The pull operation is allowed and works. :boom: \n\n### :fire_engine: Solution\n\nApply a solution similar to https://gitlab.com/gitlab-org/security/gitlab/-/merge_requests/2470:\n\n* The dependency proxy authentication service should check for the `read_dependency_proxy` permission on the group policy using the target group.\n* The group policy should be updated with lines similar to [these](https://gitlab.com/gitlab-org/security/gitlab/-/blob/71d7efea986db9dcde62ab4b276c2658ae1b65d9/app/policies/project_policy.rb#L95-103).\n    * Use that condition to allow `read_dependency_proxy`. Similar to [these](https://gitlab.com/gitlab-org/security/gitlab/-/blob/71d7efea986db9dcde62ab4b276c2658ae1b65d9/app/policies/project_policy.rb#L707).\n* Update the EE group policy to prevent `read_dependency_proxy` when the IP restriction is [triggered](https://gitlab.com/gitlab-org/gitlab/-/blob/c85953604d45f9b804c211058a8d6300a52c3e1d/ee/app/policies/ee/group_policy.rb#L365-366).\n\nBecause this can break the dependency proxy access, we need to be cautions on how to deploy this. This is the same situation as in https://gitlab.com/gitlab-org/security/gitlab/-/merge_requests/2470, thus we can use the same approach on [deployment](https://gitlab.com/gitlab-org/security/gitlab/-/merge_requests/2470#airplane-deployment).","state":"closed","created_at":"2022-05-31T06:34:52.982Z","updated_at":"2022-11-22T15:08:00.429Z","closed_at":"2022-09-29T15:08:43.115Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Dependency Proxy","Deliverable","Package:P1","backend","bug::vulnerability","devops::package","group::package registry","priority::3","rails","ruby","section::ops","security","severity::3","type::bug","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-08-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363827","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363827","notes":"https://gitlab.com/api/v4/projects/278964/issues/363827/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363827/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363827","relative":"#363827","full":"gitlab-org/gitlab#363827"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":109340622,"iid":363815,"project_id":278964,"title":"Enable Slack (the company) to review a copy of our Slack app against a GitLab environment","description":"## About\n\nWhen we submit our Slack app for review, Slack (the company) need to be able to test out the changes using a _copy_ of the production app. This is mentioned [here](https://api.slack.com/start/distributing/directory#testing).\n\nIn order to do this, Slack will need to have access to a GitLab environment to test against.\n\nWhen we submitted the Slack app for review after the GBP upgrade https://gitlab.com/gitlab-org/gitlab/-/issues/356001 we were unable to give Slack the proper access to test a copy of our Slack app. We were told that next time we publish we'll need to have an environment they can test against:\n\n\u003e [The reviewers] simply need to be able to click an install link that maps to your staging copy of the app client ID. And your application server needs to be running with a copy of your new code so that a token exchange can happen and the app installed in Slack. Any interactions or Request URLs also map to the staging application server rather than prod.\n\n## Problem\n\nThe Slack app that Slack (the company) use to review and test with cannot be the same app as the production app that we submit for review. I believe this is due to the production Slack app having only a single set of credentials, which always map to the published production app, not to a \"pre-publish\" review version of the app.\n\nSo we need to create a copy of the app for Slack to review and test.\n\nGitLab.com is configured to only work with our production Slack app only (the version that is always currently published in the Slack marketplace). We cannot configure it to work with a second Slack app, or switch it to work with a second Slack app, without breaking our Slack app features for everyone who uses the production Slack app.\n\nstaging.gitlab is currently also configured to work with our published production Slack app too (although note that it doesn't actually function, as all Slash commands and Events are sent to production's API and not staging.)\n\n## Proposal\n\n- Create a staging Slack app, [enable public distribution](https://api.slack.com/start/distributing/public) so Slack (the company) can install it into their workspace.\n- Submit a [request for change](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/) to set staging's application settings to work with the staging Slack app (a related example of this is https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7095).\n- Grant Slack (the company) a login to staging in order to test the features (note, I'm unsure if we allow external users access to staging, or what the process might be to be to add them - this will need to be checked).","state":"closed","created_at":"2022-05-30T23:09:18.655Z","updated_at":"2022-11-22T18:40:05.670Z","closed_at":"2022-09-08T21:33:28.552Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Deliverable","Integration::Slack","backend","devops::manage","group::integrations","missed-deliverable","missed:15.3","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363815","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363815","notes":"https://gitlab.com/api/v4/projects/278964/issues/363815/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363815/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363815","relative":"#363815","full":"gitlab-org/gitlab#363815"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8171,"epic":{"id":537139,"iid":8171,"title":"Slack Communication Channels","url":"/groups/gitlab-org/-/epics/8171","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109340144,"iid":363814,"project_id":278964,"title":"Update our Slack landing page to match Slack's guidelines","description":"## About\n\nWe have our Slack app configured to direct people to a \"landing page\" to install the app, rather than to install the app directly through the Slack Marketplace listing. This is because we (currently) have a requirement that a Slack installation is linked to a project and have a GitLab Slack Application integration created for the project in order for it to work.\n\n## Problem\n\nCurrently, our landing page (https://gitlab.com/-/profile/slack/edit) is very simple and does not match the [Slack's guidelines](https://api.slack.com/start/distributing/guidelines#landing):\n\n\nThis is a problem as part of the review that Slack conducts when we submit our app for review before publishing it involves checking that the landing page matches the guidelines.\n\nWhen we submitted our Slack application to be reviewed by Slack in order to publish it to the marketplace for the GBP upgrade https://gitlab.com/gitlab-org/gitlab/-/issues/356001 we were told that the landing page does not match the Slack guidelines, and the next time we submit the app we should have this landing page improved.\n\n## Requirements from Slack\n\nThe Slack guidelines for the landing page are outlined [here](https://api.slack.com/start/distributing/guidelines#landing).\n\n* Must include privacy policy link\n* A clear overview of your Slack app, any associated services, and the problem your app solves.\n* A detailed explanation of how your app works in Slack. Screenshots and GIFs are a good way to show people what they can expect in Slack after installing your app.\n* A clear path to installing your Slack app, whether that is an Add to Slack button on your landing page or instructions for accessing your Add to Slack button.\n* A clear path to using your app. Once people install your app to their workspace, they should be redirected to a page that confirms the installation was successful and provides clear next steps for getting started with your app.\n* Needs to be publicly accessible i.e. not behind a login.\n* Your landing page is, well, a landing page crafted by you, specifically for your Slack app - not a link to a PDF, document or code repository\n\n### First iteration\n- Landing page will be built by DEX: https://gitlab.com/gitlab-com/marketing/digital-experience/buyer-experience/-/issues/1281\n- It would be nice to update the project selector page to include a filter: https://gitlab.com/gitlab-org/gitlab/-/issues/371930\n- It would be nice to update the copy of the project selector page to support both the \"set up Slack for the first time\" and \"configure existing integration\": https://gitlab.com/gitlab-org/gitlab/-/issues/372396\n\n### Future vision\n- All of our integrations will have a basic landing page\n- `https://about.gitlab.com/integrations/` will become a \"directory\" page making a better way to explore and discover integrations, similar to https://gitlab.com/gitlab-org/gitlab/-/issues/352347/designs/Filtered_search.png\n- We will update the integrations list view include a \"Learn more\" button that will link to a marketing landing page (https://gitlab.com/gitlab-org/gitlab/-/issues/367614)\n\n## Workflow Diagram\n\n[Workflow diagram in Draw.io (public)](https://drive.google.com/file/d/1T9qztK-akSQgQa4aCJhPpV1VFxXPKFzJ/view?usp=sharing)\n\n## Questions\n- Do we want to measure how many installs we are getting from this new landing page?\n- Where should this page be created? What should the URL be?\n- Do we need to loop anyone in from Marketing?\n\n### Availability \u0026 Testing\n\nSuggestion: validate that the slack link in (instance | group | project) \u003e settings \u003e integrations directs to the new landing page.  Currently the \"Add to Slack\" button in the Slack app directory redirects to `gitlab.com/-/profile/slack/edit`.  This should also redirect to the landing page.\n\nThe landing page should link to `gitlab.com/-/profile/slack/edit`.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the Quality Engineering quad planning and test planning processes and reach out to your counterpart Software Engineer in Test for assistance. \nQuad Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/quad-planning \nTest Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2022-05-30T22:44:22.600Z","updated_at":"2022-11-22T18:40:06.441Z","closed_at":"2022-09-01T22:27:15.826Z","closed_by":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"labels":["Category:Integrations","Deliverable","Integration::Slack","backend","backend-weight::1","devops::manage","feature::enhancement","frontend","frontend-weight::1","group::integrations","missed-deliverable","missed:15.3","quad-planning::complete-action","section::dev","type::feature","workflow::design"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":null,"user_notes_count":37,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363814","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363814","notes":"https://gitlab.com/api/v4/projects/278964/issues/363814/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363814/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363814","relative":"#363814","full":"gitlab-org/gitlab#363814"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8171,"epic":{"id":537139,"iid":8171,"title":"Slack Communication Channels","url":"/groups/gitlab-org/-/epics/8171","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109326670,"iid":363798,"project_id":278964,"title":"Zuora Simple Component: height hides the Verify button in CAPTCHA","description":"Testing the `ZuoraSimple` component in production, with !357282, has uncovered that the manipulated height covers part of the CAPTCHA hiding the `Verify` button needed to proceed. See video: https://www.loom.com/share/801c5c70241c4b898bcb0be050f55fa1\n\nThe cause of the issue is that when the CAPTCHA kicks in, the iframe sends an event to resize, but the stated height is not enough to fully display the CAPTCHA.\n\n### Proposed solution\n\n|Descriptopn |MR|\n|-|-|\n| Remove the `gl-overflow-hidden` class from the div (`#zuora_payment`) holding the Zuora Iframe | _tbd_ |\n\nAdditionally, a CSS change needs to be applied for the related HPM. The related issue is: I created the Issue here gitlab-com/business-technology/enterprise-apps/financeops/finance-systems#738. Once ready, past the new CSS in the [CSS](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/financeops/finance-systems/-/issues/738#css) section, and tag `@jesssalcido` to proceed with the changes.","state":"closed","created_at":"2022-05-30T16:01:17.478Z","updated_at":"2022-07-13T06:46:14.453Z","closed_at":"2022-07-13T06:46:14.436Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Purchase","[deprecated] Category:Billing and Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363798","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363798","notes":"https://gitlab.com/api/v4/projects/278964/issues/363798/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363798/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363798","relative":"#363798","full":"gitlab-org/gitlab#363798"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7969,"epic":{"id":511971,"iid":7969,"title":"Prevent Zuora HPM payment forms from refreshing when errors are thrown","url":"/groups/gitlab-org/-/epics/7969","group_id":9970,"human_readable_end_date":"Aug 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109325355,"iid":363796,"project_id":278964,"title":"Add loading icon to audit event apps","description":"## Problem to solve\n\nThe audit events app takes about `~700ms` to load the Vue content, during which the page section appears blank.\n\nWe can increase the perceived performance of our audit event apps by adding a loading spinner while the main application is loading.\n\n## Screenshots\n\n![image](/uploads/569f8eed3e0c2cfce17c6168b9725c8b/image.png)\n\n![Kapture_2022-05-30_at_17.27.00](/uploads/3c2ae9bb276c2faeac8e5a7e862b9754/Kapture_2022-05-30_at_17.27.00.gif)\n\n## Suggested solution\n\nAdd a loading spinner while the Vue app loads.\n\n```rb\n#js-audit-log-app{ data: {...} }\n  = gl_loading_icon(size: 'lg', css_class: 'gl-my-7')\n```\n\nThis is similar to what we do in the `admin/users` page.\n\n## Implementation plan\n\nAdd the loading icon wherever the audit events app is initialized:\n  1. [x] #368604+\n  1. [x] #368605+\n  1. [x] #368606+","state":"closed","created_at":"2022-05-30T15:30:58.779Z","updated_at":"2022-12-06T02:25:53.319Z","closed_at":"2022-07-25T15:19:16.177Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Audit Management","UX","devops::manage","frontend","group::compliance","missed:15.2","performance-refinement","priority::3","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363796","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363796","notes":"https://gitlab.com/api/v4/projects/278964/issues/363796/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363796/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363796","relative":"#363796","full":"gitlab-org/gitlab#363796"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109318400,"iid":363791,"project_id":278964,"title":"The emoji selector on issue comments doesn't have a focus border","description":"## Problem to solve\n\nWhen focussing on the emoji selector on issues it doesn't show a `:focus` border.\n\n![image](/uploads/40f2637b6abc6d0dee94e44580c927a0/image.png)\n\n## Expected behaviour\n\nMatch the other buttons.\n\n![image](/uploads/bbb68bdb642cbabbbdae51344e81be3a/image.png)","state":"closed","created_at":"2022-05-30T13:46:09.863Z","updated_at":"2022-06-02T12:33:59.048Z","closed_at":"2022-05-31T11:18:43.420Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Beautifying our UI","SUS::Impacting","accessibility","devops::manage","frontend","group::compliance","priority::4","severity::4","type::bug","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363791","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363791","notes":"https://gitlab.com/api/v4/projects/278964/issues/363791/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363791/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363791","relative":"#363791","full":"gitlab-org/gitlab#363791"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109310834,"iid":363781,"project_id":278964,"title":"Fix broken query for in_product_marketing metrics in Automated ServicePing SQL for DWH","description":"The in_product_marketing_emails metrics have the query generated broken.\n\n```\n\"in_product_marketing_email_create_0_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_create_0_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_create_1_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_create_1_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_create_2_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_create_2_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_verify_0_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_verify_0_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_verify_1_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_verify_1_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_verify_2_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_verify_2_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_trial_0_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_trial_0_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_trial_1_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_trial_1_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_trial_2_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_trial_2_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_team_0_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_team_0_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_team_1_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_team_1_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_team_2_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_team_2_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_experience_0_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_team_short_0_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_team_short_0_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_trial_short_0_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_trial_short_0_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_admin_verify_0_sent\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n    \"in_product_marketing_email_admin_verify_0_cta_clicked\": \"SELECT COUNT(\\\"in_product_marketing_emails\\\".\\\"id\\\") FROM \\\"in_product_marketing_emails\\\" WHERE \\\"in_product_marketing_emails\\\".\\\"cta_clicked_at\\\" IS NOT NULL GROUP BY \\\"in_product_marketing_emails\\\".\\\"track\\\", \\\"in_product_marketing_emails\\\".\\\"series\\\"\",\n```","state":"closed","created_at":"2022-05-30T12:10:53.884Z","updated_at":"2022-06-17T22:16:56.131Z","closed_at":"2022-06-08T06:20:12.021Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["Unplanned","auto updated","backend","devops::growth","group::product intelligence","priority::2","section::growth","severity::2","type::bug","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363781","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363781","notes":"https://gitlab.com/api/v4/projects/278964/issues/363781/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363781/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363781","relative":"#363781","full":"gitlab-org/gitlab#363781"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7451,"epic":{"id":428291,"iid":7451,"title":"Fix broken queries for Service Ping Automation in DWH","url":"/groups/gitlab-org/-/epics/7451","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109307674,"iid":363775,"project_id":278964,"title":"Remove possibly unused skeleton loader CSS","description":"In [`ee/app/assets/stylesheets/page_bundles/roadmap.scss#L116-124`](https://gitlab.com/gitlab-org/gitlab/blob/49ad38cdeed7d04002dc4093ca96a5f5ad161e0b/ee/app/assets/stylesheets/page_bundles/roadmap.scss#L116-124) there's a reference to the `skeleton-loader` class. That class doesn't appear to be defined anywhere in GitLab or GitLab UI, so this CSS may not do anthing.\n\nThis issue is about determining whether or not it really does anything, and if not, deleting it.\n\nIf it _does_ do something, can it be refactored to use utility classes, or some other clearer approach?","state":"closed","created_at":"2022-05-30T11:15:31.269Z","updated_at":"2022-07-08T11:16:59.298Z","closed_at":"2022-06-09T10:40:27.117Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["FY23::Q2","Next Up","OKR","SUS::Impacting","component:skeleton-loader","devops::manage","frontend","group::import","pajamas::integrate","section::dev","severity::4","skeleton loader","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363775","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363775","notes":"https://gitlab.com/api/v4/projects/278964/issues/363775/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363775/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363775","relative":"#363775","full":"gitlab-org/gitlab#363775"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1110,"epic":{"id":5738,"iid":1110,"title":"Pajamas Component: Skeleton Loader - Integrate","url":"/groups/gitlab-org/-/epics/1110","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109304285,"iid":363741,"project_id":278964,"title":"Fix silent failings when moving issue to a new project","description":"The following discussion from !76686 should be addressed:\n\n- [ ] @jprovaznik started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76686#note_963988196): \n\n    \u003e no change needed: if epic's issue is not valid anymore, we just fail silently here - but this seems to be current behavior anyway so this is not blocking I think.\n\n### Proposal\n\nWhen moving an issue to a different project, log any errors resulting by rewriting the issue's properties, as we do for [`Issues::MoveService#queue_copy_designs`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/issues/move_service.rb#L88).\n\nOther properties silently failing: `#copy_contacts`.","state":"closed","created_at":"2022-05-30T10:08:03.613Z","updated_at":"2022-07-20T15:51:08.815Z","closed_at":"2022-07-20T15:51:08.788Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["backend","devops::plan","group::product planning","section::dev","type::maintenance","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363741","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363741","notes":"https://gitlab.com/api/v4/projects/278964/issues/363741/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363741/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363741","relative":"#363741","full":"gitlab-org/gitlab#363741"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109302593,"iid":363737,"project_id":278964,"title":"Agent status page: add list of premium features","description":"As a part of the work related to adding the integration status to the agent page we should enrich the Agent Integration UI with premium features","state":"closed","created_at":"2022-05-30T09:39:01.301Z","updated_at":"2022-09-14T15:22:20.048Z","closed_at":"2022-09-14T15:22:19.935Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["UX","auto updated","configure::backlog","devops::configure","feature::addition","frontend","frontend-weight::1","group::configure","section::ops","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363737","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363737","notes":"https://gitlab.com/api/v4/projects/278964/issues/363737/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363737/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363737","relative":"#363737","full":"gitlab-org/gitlab#363737"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5787,"epic":{"id":251393,"iid":5787,"title":"Agent integration status check page","url":"/groups/gitlab-org/-/epics/5787","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109302536,"iid":363736,"project_id":278964,"title":"Agent status page: add integration status area - iteration 1","description":"As a part of the work related to adding the integration status to the agent list page we should add an integration UI moment to the agent details page.\n\n# Proposal\n\n- [x] Add a page header as per the design.\n- [x] Show the integration status of the agent.\n- [x] Show the Premium features.\n- [x] Show a \"Valid access token\" message when the agent is connected.\n- [x] Show \"No access token\" if the token is absent.\n\n| Connected | Not connected | Never connected |\n| ------ | ------ | ------ |\n| ![Screenshot_2022-06-29_at_16.34.17](/uploads/83a5aac18501c0a44e4114523c3ec6f7/Screenshot_2022-06-29_at_16.34.17.png) | ![Screenshot_2022-06-29_at_16.39.55](/uploads/aba5ae767bda58a5fef194375aa0b8f0/Screenshot_2022-06-29_at_16.39.55.png) | ![Screenshot_2022-06-29_at_16.39.55_copy](/uploads/7a715a96e7987321671e57929a3bc8df/Screenshot_2022-06-29_at_16.39.55_copy.png) |","state":"closed","created_at":"2022-05-30T09:38:14.652Z","updated_at":"2022-09-21T12:04:48.493Z","closed_at":"2022-09-14T15:22:35.887Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["Deliverable","UX","configure::backlog","devops::configure","feature::addition","frontend","frontend-weight::2","group::configure","section::ops","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363736","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363736","notes":"https://gitlab.com/api/v4/projects/278964/issues/363736/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363736/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363736","relative":"#363736","full":"gitlab-org/gitlab#363736"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5787,"epic":{"id":251393,"iid":5787,"title":"Agent integration status check page","url":"/groups/gitlab-org/-/epics/5787","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109302515,"iid":363735,"project_id":278964,"title":"Agent status page: Update icons list in the agent list","description":"As a part of the work related to adding the integration status to the agent list page we should update the icon to match the ones present in the design","state":"closed","created_at":"2022-05-30T09:37:43.826Z","updated_at":"2022-07-01T10:59:48.717Z","closed_at":"2022-07-01T10:59:48.695Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["configure::backlog","devops::configure","feature::addition","frontend","group::configure","section::ops","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363735","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363735","notes":"https://gitlab.com/api/v4/projects/278964/issues/363735/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363735/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363735","relative":"#363735","full":"gitlab-org/gitlab#363735"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5787,"epic":{"id":251393,"iid":5787,"title":"Agent integration status check page","url":"/groups/gitlab-org/-/epics/5787","group_id":9970,"human_readable_end_date":"Jun 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109266074,"iid":363704,"project_id":278964,"title":"Merge i18n translations (July 2022)","description":"Merge the latest i18n translations from Crowdin on a monthly cadence.\n\nDocumentation available here: https://docs.gitlab.com/ee/development/i18n/merging_translations.html\n\n#### ToDo\n* [x] After cloning: update Title, set Milestone, Due date (15th), Related to previous month's issue.\n* [x] After the 1st of the month: assign to yourself, set ~\"workflow::in dev\" \n* [x] If needed, configure the [GitLab-Crowdin integration](https://docs.gitlab.com/ee/development/i18n/merging_translations.html#recreate-the-gitlab-integration-in-crowdin)\n* [x] Kick off a sync from [Crowdin](https://crowdin.com/project/gitlab-ee/apps/system/gitlab)\n* [x] Find the [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026author_username=gitlab-crowdin-bot) created by @gitlab-crowdin-bot and associate it with this issue\n* [x] Complete the MR\n* [x] Update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L43) with the latest numbers. (Find the issue [here](https://gitlab.com/groups/gitlab-org/-/epics/3571))\n* [x] When done, clone [this template issue](https://gitlab.com/gitlab-org/gitlab/-/issues/339980) for the next milestone.","state":"closed","created_at":"2022-05-29T12:12:58.621Z","updated_at":"2022-07-21T12:02:38.971Z","closed_at":"2022-07-18T08:44:46.203Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-07-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363704","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363704","notes":"https://gitlab.com/api/v4/projects/278964/issues/363704/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363704/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363704","relative":"#363704","full":"gitlab-org/gitlab#363704"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":109215256,"iid":363664,"project_id":278964,"title":"Frontend: Add messaging to stage dropdown loading state","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\nLoading pipelines for a stage is slow. Until we can fix this, we should have a more custom loading state to help with the percieved speed.\n\n### Proposal\n\nThe boring solution here is to add messaging to the current loading state to indicate this may take a little while (see designs).","state":"closed","created_at":"2022-05-27T13:04:39.703Z","updated_at":"2022-06-10T13:21:54.045Z","closed_at":"2022-06-10T13:21:54.029Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","UX","approaching-SLO","devops::verify","frontend","group::pipeline execution","missed-SLO","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363664","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363664","notes":"https://gitlab.com/api/v4/projects/278964/issues/363664/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363664/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363664","relative":"#363664","full":"gitlab-org/gitlab#363664"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":109208458,"iid":363660,"project_id":278964,"title":"Frontend: Set a predefined list of values for CI environment variables and surface them in the \"Run pipeline\" page form","description":"## Summary\n\nIn 13.7 we made it possible to [surface pre-filled variables with values in the \"Run pipeline\" page](https://docs.gitlab.com/ee/ci/pipelines/index.html#prefill-variables-in-manual-pipelines). Changing the value is still a manual and error-prone process. The CI users would like to be able to set a list of predefined variable values for CI environment variables to make it easier to run a pipeline with the available variables.\n\n## Proposal\n\n* Variable values array will be defined in YAML\n* The available variable values will be surfaced in the \"Run pipeline\" form as a list dropdown\n* The first value in the values list will be used as the default value, pre-selected in the dropdown\n* The dropdown will only show the values that's been added in YAML, there will be no option to add your own value\n* A Variable will not get created in case it does not populate through the form\n\n## YAML Definition \n\n```yaml\nvariables:\n  DEPLOY_ENVIRONMENT:\n    value: \"staging\" # default value of the dropdown list\n    options: # options in the dropdown list\n      - \"staging\"\n      - \"canary\"\n      - \"production\"\n    description: \"The deployment target. Change this variable to 'canary' or 'production' if needed.\"\n```\n\n## Design\n\n![image](/uploads/6d208b4f2cb1d4a38e43c9ce3bd3b488/image.png)\n\n## Implementation Table\n\n| Implementation | MR |\n| ------ | ------ |\n| Set up feature flag and GraphQL app | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/96633 ~\"workflow::feature-flagged\" |\n| Implement feature with GQL | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/96542 ~\"workflow::in review\" |\n| Rollout feature flag | https://gitlab.com/gitlab-org/gitlab/-/issues/372310 |\n\n## Links/References\n\n| Group | Issue Link |\n| ------ | ------ |\n| ~UX | https://gitlab.com/gitlab-org/gitlab/-/issues/29159 |\n| ~backend | https://gitlab.com/gitlab-org/gitlab/-/issues/362934 |\n| ~frontend | :point_left: You are here |\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-05-27T10:30:39.403Z","updated_at":"2022-12-16T18:04:35.644Z","closed_at":"2022-12-12T15:44:10.453Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["CI variables","Category:Pipeline Authoring","SUS::Impacting","backend-weight::2","devops::verify","documentation","frontend","frontend-weight::3","group::pipeline authoring","priority::3","section::ops","severity::3","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":88,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363660","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363660","notes":"https://gitlab.com/api/v4/projects/278964/issues/363660/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363660/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363660","relative":"#363660","full":"gitlab-org/gitlab#363660"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8209,"epic":{"id":542230,"iid":8209,"title":"Variables work for PA kickoff","url":"/groups/gitlab-org/-/epics/8209","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":"at_risk"},{"id":109182850,"iid":363635,"project_id":278964,"title":"Enable Slack App Home feature","description":"### Background\n\nAs we work towards migrating the existing Slack app to use Granular Bot permissions, we can easy enable the [App Home](https://api.slack.com/tutorials/app-home-with-modal#:~:text=Your%20Slack%20app's%20App%20Home,interact%20privately%20with%20your%20app.) feature.  \n\n### Release notes\n\nGitLab is doubling down on Slack for our customers. As one of our most heavily used integrations, we're working to simplify and consolidate GitLab+Slack integration through the GitLab Slack App. As a best practice, the App Home in each Slack serves as a communication center between App providers and Slack users, and this will be a key area for us to communicate new and upcoming features, as well as orient new users to the features that are already available with rich content, such as gif walkthroughs. \n\nWith this release, we'll be enabling the Slack App home with a quick orientation to the GitLab App, which will set the stage for more to come. Want to learn more about our plans and weigh in? [Visit our Slack epic](https://gitlab.com/groups/gitlab-org/-/epics/7536).\n\nEnabling the App home _seems_ like low and adds a lot of value: \n\n1. It will make it obvious that the app is installed\n2. Having some announcements in the App home would be a great way to show that we are actively working on making it better.\n\n### Block Kit\n\n\u003cdetails\u003e\u003csummary\u003eLayout (not signed in)\u003c/summary\u003e\n\nhttps://app.slack.com/block-kit-builder/T02592416#%7B%22type%22:%22home%22,%22blocks%22:%5B%7B%22type%22:%22header%22,%22text%22:%7B%22type%22:%22plain_text%22,%22text%22:%22%E2%9C%A8%20Welcome%20to%20GitLab%20for%20Slack!%22,%22emoji%22:true%7D%7D,%7B%22type%22:%22section%22,%22text%22:%7B%22type%22:%22mrkdwn%22,%22text%22:%22View%20and%20control%20GitLab%20content%20while%20you%E2%80%99re%20working%20in%20Slack.%20Type%20the%20command%20as%20a%20message%20in%20your%20chat%20client%20to%20activate%20it.%20%3Chttps://docs.gitlab.com/ee/integration/slash_commands.html%7CLearn%20more%3E.%22%7D%7D,%7B%22type%22:%22section%22,%22text%22:%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Step%201.*%20Connect%20your%20GitLab%20account%20to%20get%20started.%22%7D%7D,%7B%22type%22:%22actions%22,%22elements%22:%5B%7B%22type%22:%22button%22,%22text%22:%7B%22type%22:%22plain_text%22,%22text%22:%22Sign%20in%20to%20GitLab%22,%22emoji%22:true%7D,%22style%22:%22primary%22,%22value%22:%22click_me_123%22,%22action_id%22:%22actionId-0%22%7D%5D%7D,%7B%22type%22:%22section%22,%22text%22:%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Step%202.*%20Try%20it%20out!%22%7D%7D,%7B%22type%22:%22section%22,%22text%22:%7B%22type%22:%22mrkdwn%22,%22text%22:%22See%20a%20list%20of%20available%20commands:%20%60/gitlab%20help%60%22%7D%7D,%7B%22type%22:%22divider%22%7D,%7B%22type%22:%22section%22,%22text%22:%7B%22type%22:%22mrkdwn%22,%22text%22:%22Create%20new%20issues%20from%20Slack:%20%60/gitlab%20%3Cproject%20alias%3E%20issue%20new%20%3Ctitle%3E%20%3Cshift+return%3E%20%3Cdescription%3E%60%22%7D%7D,%7B%22type%22:%22image%22,%22title%22:%7B%22type%22:%22plain_text%22,%22text%22:%22Create%20a%20new%20issue%22,%22emoji%22:true%7D,%22image_url%22:%22https://gitlab.com/lvanc/readme/-/raw/master/Uploads/slack-issue-new-1080.gif%22,%22alt_text%22:%22Create%20a%20new%20issue%22%7D,%7B%22type%22:%22divider%22%7D,%7B%22type%22:%22section%22,%22text%22:%7B%22type%22:%22mrkdwn%22,%22text%22:%22Streamline%20your%20GitLab%20deployments%20with%20ChatOps.%20Once%20you've%20configured%20your%20%3Chttps://docs.gitlab.com/ee/ci/chatops/index.html%7CCI/CD%20pipelines%3E,%20try:%20%60/gitlab%20%3Cproject%20alias%3E%20run%20%3Cjob%20name%3E%20%3Carguments%3E%60%20%22%7D%7D,%7B%22type%22:%22image%22,%22title%22:%7B%22type%22:%22plain_text%22,%22text%22:%22Run%20a%20CI/CD%20jobs%22,%22emoji%22:true%7D,%22image_url%22:%22https://gitlab.com/lvanc/readme/-/raw/master/Uploads/slack-run-job-1080.gif%22,%22alt_text%22:%22issue_show%22%7D%5D%7D\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003eSigned in state (Single block)\u003c/summary\u003e\n\nhttps://app.slack.com/block-kit-builder/T02592416#%7B%22type%22:%22home%22,%22blocks%22:%5B%7B%22type%22:%22section%22,%22text%22:%7B%22type%22:%22mrkdwn%22,%22text%22:%22%E2%9C%85%20You%20are%20signed%20as%20%3Chttps://gitlab.com/lvanc%7C@lvanc%3E%20(%3Chttps://gitlab.com/users/sign_out%7CSign%20out%3E)%22%7D%7D%5D%7D\n\n\u003c/details\u003e\n\n### Design source\n\n:pencil2: [Figma project](https://www.figma.com/file/ykS95bjLoOKpStyfZBOagF/Rebuild%2Frefactor-the-Slack-Application-(%266187)?node-id=2018%3A25721)\n\n### Resources\n- https://api.slack.com/tutorials/app-home-with-modal#:~:text=Your%20Slack%20app's%20App%20Home,interact%20privately%20with%20your%20app.\n\n### Availability \u0026 Testing\n\nI don't see any evidence currently that GitLab can respond to Slack events for an installation.  This would be a new endpoint.  Since the event would require an authenticated api call to Slack for [updating the view](https://api.slack.com/surfaces/tabs/using#publishing) triggering frequent app home events could cause Slack to rate-limit the GitLab api calls.\n\nSuggestion: consider a request/integration spec that locks down/asserts the GitLab endpoint which responds to the `app_opened_event` is properly will trigger an api call to Slack with the correct information.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the Quality Engineering quad planning and test planning processes and reach out to your counterpart Software Engineer in Test for assistance. \nQuad Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/quad-planning \nTest Planning: https://about.gitlab.com/handbook/engineering/quality/quality-engineering/test-engineering/#test-planning --\u003e","state":"closed","created_at":"2022-05-26T21:59:18.748Z","updated_at":"2022-11-22T18:40:35.458Z","closed_at":"2022-09-16T18:32:24.471Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Deliverable","Integration::Slack","auto updated","backend","devops::manage","group::integrations","missed-deliverable","missed:15.3","quad-planning::complete-action","release post item","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":5022246,"username":"lvanc","name":"Libor Vanc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5022246/avatar.png","web_url":"https://gitlab.com/lvanc"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":42,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363635","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363635","notes":"https://gitlab.com/api/v4/projects/278964/issues/363635/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363635/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363635","relative":"#363635","full":"gitlab-org/gitlab#363635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8171,"epic":{"id":537139,"iid":8171,"title":"Slack Communication Channels","url":"/groups/gitlab-org/-/epics/8171","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109182662,"iid":363633,"project_id":278964,"title":"Failure in browser_ui/4_verify/pipeline_status_on_operation_dashboard_spec.rb | Verify Operations Dashboard has many pipelines with appropriate statuses","description":"\u003c!---\nBefore opening a new QA failure issue, make sure to first search for it in the\nQA failures board: https://gitlab.com/groups/gitlab-org/-/boards/1385578\n\nThe issue should have the following:\n\n- The relative path of the failing spec file in the title, e.g. if the login\n  test fails, include `qa/specs/features/browser_ui/1_manage/login/log_in_spec.rb` in the title.\n  This is required so that existing issues can easily be found by searching for the spec file.\n- If the issue is about multiple test failures, include the path for each failing spec file in the description.\n- A link to the failing job.\n- The stack trace from the job's logs in the \"Stack trace\" section below.\n- A screenshot (if available), and HTML capture (if available), in the \"Screenshot / HTML page\" section below.\n- A link to the corresponding test case(s) in the summary.\n---\u003e\n\n### Summary\n\nFailing job(s): https://ops.gitlab.net/gitlab-org/quality/preprod/-/jobs/7201973\n\nFailing spec(s): `browser_ui/4_verify/pipeline_status_on_operation_dashboard_spec.rb:57`\n\nCorresponding test case(s): https://gitlab.com/gitlab-org/gitlab/-/quality/test_cases/348072\n\n### Stack trace\n\n```\n  1) Verify Operations Dashboard has many pipelines with appropriate statuses\n     Got 0 failures and 2 other errors:\n     1.1) Failure/Error: operation.add_project(project.name)\n          \n          Capybara::ElementNotFound:\n            Unable to find css \"button.btn.btn-confirm\" within #\u003cCapybara::Node::Element tag=\"div\" path=\"/HTML/BODY[1]/DIV[7]\"\u003e\n          # ./qa/ee/page/operations_dashboard.rb:29:in `block in add_project'\n          # ./qa/ee/page/operations_dashboard.rb:66:in `block in within_add_projects_modal'\n          # ./qa/page/base.rb:357:in `block in within_element'\n          # ./qa/page/base.rb:356:in `within_element'\n          # ./qa/support/page/logging.rb:157:in `within_element'\n          # ./qa/ee/page/operations_dashboard.rb:65:in `within_add_projects_modal'\n          # ./qa/ee/page/operations_dashboard.rb:26:in `add_project'\n          # ./qa/specs/features/ee/browser_ui/4_verify/pipeline_status_on_operation_dashboard_spec.rb:106:in `block (2 levels) in add_projects_to_board'\n          # ./qa/scenario/actable.rb:16:in `perform'\n          # ./qa/specs/features/ee/browser_ui/4_verify/pipeline_status_on_operation_dashboard_spec.rb:105:in `block in add_projects_to_board'\n          # ./qa/specs/features/ee/browser_ui/4_verify/pipeline_status_on_operation_dashboard_spec.rb:104:in `each'\n          # ./qa/specs/features/ee/browser_ui/4_verify/pipeline_status_on_operation_dashboard_spec.rb:104:in `add_projects_to_board'\n          # ./qa/specs/features/ee/browser_ui/4_verify/pipeline_status_on_operation_dashboard_spec.rb:58:in `block (3 levels) in \u003cmodule:QA\u003e'\n          # ./qa/specs/spec_helper.rb:133:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./qa/specs/runner.rb:64:in `perform'\n          # ./qa/scenario/template.rb:10:in `block in perform'\n          # ./qa/scenario/template.rb:8:in `tap'\n          # ./qa/scenario/template.rb:8:in `perform'\n          # ./qa/scenario/template.rb:50:in `perform'\n          # ./qa/scenario/template.rb:10:in `block in perform'\n          # ./qa/scenario/template.rb:8:in `tap'\n          # ./qa/scenario/template.rb:8:in `perform'\n          # ./qa/scenario/bootable.rb:51:in `launch!'\n     1.2) Failure/Error: operation.remove_all_projects\n          \n          Capybara::ExpectationNotMet:\n            expected to find css \"[data-qa-selector=\\\"remove_project_button\\\"],.qa-remove-project-button\" at least 1 time but there were no matches\n          # ./qa/page/base.rb:144:in `all_elements'\n          # ./qa/support/page/logging.rb:50:in `all_elements'\n          # ./qa/ee/page/operations_dashboard.rb:61:in `remove_project_buttons'\n          # ./qa/ee/page/operations_dashboard.rb:34:in `remove_all_projects'\n          # ./qa/specs/features/ee/browser_ui/4_verify/pipeline_status_on_operation_dashboard_spec.rb:114:in `block in remove_projects'\n          # ./qa/scenario/actable.rb:16:in `perform'\n          # ./qa/specs/features/ee/browser_ui/4_verify/pipeline_status_on_operation_dashboard_spec.rb:113:in `remove_projects'\n          # ./qa/specs/features/ee/browser_ui/4_verify/pipeline_status_on_operation_dashboard_spec.rb:54:in `block (3 levels) in \u003cmodule:QA\u003e'\n          # ./qa/specs/spec_helper.rb:133:in `block (2 levels) in \u003ctop (required)\u003e'\n          # ./qa/specs/runner.rb:64:in `perform'\n          # ./qa/scenario/template.rb:10:in `block in perform'\n          # ./qa/scenario/template.rb:8:in `tap'\n          # ./qa/scenario/template.rb:8:in `perform'\n          # ./qa/scenario/template.rb:50:in `perform'\n          # ./qa/scenario/template.rb:10:in `block in perform'\n          # ./qa/scenario/template.rb:8:in `tap'\n          # ./qa/scenario/template.rb:8:in `perform'\n          # ./qa/scenario/bootable.rb:51:in `launch!'\n```\n\n### Screenshot / HTML page\n\n\u003c!--\nAttach the screenshot and HTML snapshot of the page from the job's artifacts:\n1. Download the job's artifacts and unarchive them.\n1. Open the `gitlab-qa-run-2020-*/gitlab-{ce,ee}-qa-*/{,ee}/{api,browser_ui}/\u003cpath to failed test\u003e` folder.\n1. Select the `.png` and `.html` files that appears in the job logs (look for `HTML screenshot: /path/to/html/page.html` / `Image screenshot: `/path/to/html/page.png`).\n1. Drag and drop them here.\n\nNote: You don't need to include a screenshot if the information it contains can be included as text. Include the text instead.\nE.g., error 500/404, \"Retry later\" errors, etc.\n\nIf you include multiple screenshots it can be helpful to hide all but the first in a details/summary element, to avoid excessive scrolling:\n\n\u003cdetails\u003e\u003csummary\u003eExpand for screenshot\u003c/summary\u003e\n  drag and drop the screenshot here\n\u003c/details\u003e\n--\u003e\n\n![image](/uploads/72df8e641ca33873bc486270add03d36/image.png)\n\n### Possible fixes\n\n\n\u003c!-- Default due date. --\u003e\n\u003c!-- Base labels. --\u003e\n\u003c!-- Test failure type label, please use just one.--\u003e\n\u003c!--\nChoose the stage that appears in the test path, e.g. ~\"devops::create\" for\n`qa/specs/features/browser_ui/3_create/web_ide/add_file_template_spec.rb`.\n--\u003e\n\u003c!--\nSelect a label for where the failure was found, e.g. if the failure occurred in\na nightly pipeline, select ~\"found:nightly\".\n--\u003e\n\u003c!--\nhttps://about.gitlab.com/handbook/engineering/quality/guidelines/#priorities:\n- ~\"priority::1\": Tests that are needed to verify fundamental GitLab functionality.\n- ~\"priority::2\": Tests that deal with external integrations which may take a longer time to debug and fix.\n--\u003e\n\u003c!-- Select the current milestone if ~\"priority::1\" or the next milestone if ~\"priority::2\". --\u003e","state":"closed","created_at":"2022-05-26T21:47:06.053Z","updated_at":"2022-08-31T17:37:18.628Z","closed_at":"2022-08-31T17:37:18.611Z","closed_by":{"id":9097212,"username":"richard.chong","name":"Richard Chong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9097212/avatar.png","web_url":"https://gitlab.com/richard.chong"},"labels":["Category:Continuous Integration","QA","Quality","[deprecated] Accepting merge requests","auto updated","devops::verify","failure::new","found:pre.gitlab.com","group::pipeline execution","priority::2","section::ops","test","type::maintenance","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":9097212,"username":"richard.chong","name":"Richard Chong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9097212/avatar.png","web_url":"https://gitlab.com/richard.chong"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-06-09","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363633","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363633","notes":"https://gitlab.com/api/v4/projects/278964/issues/363633/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363633/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363633","relative":"#363633","full":"gitlab-org/gitlab#363633"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109181453,"iid":363623,"project_id":278964,"title":"[Feature flag] Rollout of `group_name_path_vue`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout https://gitlab.com/gitlab-org/gitlab/-/issues/361816+ on production,\nthat is currently behind the `group_name_path_vue` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::workspace\" \n- Most appropriate slack channel to reach out to: `#g_manage_workspace`\n- Best individual to reach out to: Peter Hegman\n- PM: Christina Lohr\n\n\n## Expectations\n\n### What are we expecting to happen?\n\nGroup name and path fields will be rendered with Vue\n\n### When is the feature viable?\n\nWhen the functionality matches [app/views/shared/_group_form.html.haml#L22](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/_group_form.html.haml#L22)\n\n### What might happen if this goes wrong?\n\nFeature flag should be turned off\n\n### What can we monitor to detect problems with this?\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/\n\n### What can we check for monitoring production after rollouts?\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] #367910+\n    - [x] #367909+\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-05-26T20:53:57.476Z","updated_at":"2022-07-14T16:34:51.349Z","closed_at":"2022-07-14T16:34:47.700Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["devops::manage","feature flag","feature::addition","frontend","group::organization","missed:15.1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363623","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":51,"completed_count":32},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"32 of 51 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363623","notes":"https://gitlab.com/api/v4/projects/278964/issues/363623/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363623/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363623","relative":"#363623","full":"gitlab-org/gitlab#363623"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109180522,"iid":363621,"project_id":278964,"title":"[Feature flag] Rollout of `ci_variable_for_group_gitlab_deploy_token`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout #214014 on production,\nthat is currently behind the `ci_variable_for_group_gitlab_deploy_token` feature flag.\n\nIntroduced in: !88696\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n- PM: `@dhershkovitch`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWhen you define a deploy token with the name [`gitlab-deploy-token`](https://docs.gitlab.com/ee/user/project/deploy_tokens/#gitlab-deploy-token) in a project, you get `CI_DEPLOY_USER` and `CI_DEPLOY_PASSWORD` variables in CI pipeline jobs. However, you don't get them when you define this deploy token at the group level. This feature flag will enable that if a group has a `gitlab-deploy-token`, then jobs will include `CI_DEPLOY_USER` and `CI_DEPLOY_PASSWORD` variables.\n\n### What might happen if this goes wrong?\n\nThis can be turned off.\n\n### What can we monitor to detect problems with this?\n\nN/A\n\n### What can we check for monitoring production after rollouts?\n\nN/A\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_variable_for_group_gitlab_deploy_token true --dev`\n    - [x] `/chatops run feature set ci_variable_for_group_gitlab_deploy_token true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com ci_variable_for_group_gitlab_deploy_token true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com ci_variable_for_group_gitlab_deploy_token true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e ci_variable_for_group_gitlab_deploy_token true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set ci_variable_for_group_gitlab_deploy_token \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_variable_for_group_gitlab_deploy_token \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_variable_for_group_gitlab_deploy_token true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete ci_variable_for_group_gitlab_deploy_token --dev`\n    - [ ] `/chatops run feature delete ci_variable_for_group_gitlab_deploy_token --staging`\n    - [ ] `/chatops run feature delete ci_variable_for_group_gitlab_deploy_token`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_variable_for_group_gitlab_deploy_token`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_variable_for_group_gitlab_deploy_token` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_variable_for_group_gitlab_deploy_token --dev`\n    - [ ] `/chatops run feature delete ci_variable_for_group_gitlab_deploy_token --staging`\n    - [ ] `/chatops run feature delete ci_variable_for_group_gitlab_deploy_token`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_variable_for_group_gitlab_deploy_token false\n```","state":"closed","created_at":"2022-05-26T20:22:41.742Z","updated_at":"2022-09-02T15:16:34.356Z","closed_at":"2022-09-02T07:15:38.048Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature flag","group::pipeline authoring","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":51,"completed_count":9},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 51 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363621","notes":"https://gitlab.com/api/v4/projects/278964/issues/363621/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363621/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363621","relative":"#363621","full":"gitlab-org/gitlab#363621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":65958,"iid":78,"sequence":23,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-06-24T00:05:02.620Z","updated_at":"2022-09-05T00:05:02.060Z","start_date":"2022-08-22","due_date":"2022-09-04","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/65958"},"health_status":"on_track"},{"id":109177366,"iid":363610,"project_id":278964,"title":"Advanced Search unsupported migration should be a preflight check","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nWe currently have an [Advanced Search migration which pauses indexing for unsupported search versions](ee/elastic/migrate/20220512150000_pause_indexing_for_unsupported_es_versions.rb). This should be converted from a migration to a preflight check used in the [Elastic::MigrationWorker](ee/app/workers/elastic/migration_worker.rb) to support future Search version upgrades and deprecation work. Information about behavior should be added to the ~documentation for GitLab administrators.\n\n_Note:_ the migration currently checks for known compatible version. This could cause an issue when future versions get released that *may* be compatible but we do not know. The migration worker preflight check should check for **known incompatible versions** only. \n\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-05-26T18:50:44.009Z","updated_at":"2022-08-21T12:07:03.078Z","closed_at":"2022-08-09T14:48:10.270Z","closed_by":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"labels":["Category:Global Search","Deliverable","backend","devops::data_stores","group::global search","maintenance::refactor","section::enablement","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"}],"author":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"type":"ISSUE","assignee":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363610","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363610","notes":"https://gitlab.com/api/v4/projects/278964/issues/363610/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363610/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363610","relative":"#363610","full":"gitlab-org/gitlab#363610"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8163,"epic":{"id":536460,"iid":8163,"title":"Make GitLab compatible with new versions of OpenSearch and Elasticsearch","url":"/groups/gitlab-org/-/epics/8163","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109170000,"iid":363599,"project_id":278964,"title":"Issues GraphQL API needs to support TASK issue_type in ENUM","description":"[IssueTypeEnum](https://gitlab.com/gitlab-org/gitlab/-/blob/895a33c92d690a0886f2b437bded6def71d32450/app/graphql/types/issue_type_enum.rb#L4) excludes `TASK` from the possible issue types. This exclusion was added as the same enum is used in the [issue input](https://gitlab.com/gitlab-org/gitlab/-/blob/895a33c92d690a0886f2b437bded6def71d32450/app/graphql/mutations/issues/common_mutation_arguments.rb#L26) so no issue of type cask can be created via the issues API.\n\nAS this Enum does not have the Task value, it will raise an error if we ever fetch the type field for an issue of typ task that can only be created if the `work_items` feature flag is enabled, but since we plan to make it GA soon, we should fix this by filtering out the task issue type in the issue create/update service if it's provided and the FF is not enabled.","state":"closed","created_at":"2022-05-26T16:13:10.449Z","updated_at":"2022-07-16T05:22:04.506Z","closed_at":"2022-07-16T05:22:04.489Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["backend","devops::plan","group::project management","missed:15.1","section::dev","type::maintenance","workflow::in dev"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363599","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363599","notes":"https://gitlab.com/api/v4/projects/278964/issues/363599/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363599/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363599","relative":"#363599","full":"gitlab-org/gitlab#363599"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109167342,"iid":363591,"project_id":278964,"title":"Update secure test projects to reference gemnasium in DS_REPORT_URL","description":"### Proposal\n\nNow that https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/merge_requests/195+ and https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/merge_requests/179+ have been merged, and all related code has been moved to the [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium) project, we've started encountering [failing tests](https://gitlab.com/gitlab-org/quality/ci/secure-test-project-orchestrator/-/pipelines/548415541). We need to update the `DS_REPORT_URL` in the `.gitlab-ci.yml` for the tests projects and replace references to `gemnasium-maven` and `gemnasium-python` with `gemnasium` to fix these broken tests.\n\nIn total, there are `10` test projects and `29` branches that need to be updated:\n\n- [x] [java-maven](https://gitlab.com/gitlab-org/security-products/tests/java-maven)\n   - [x] [update-expectation-maven-cli-opts-skip-tests-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-maven/-/merge_requests/165)\n   - [x] [offline-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-maven/-/merge_requests/166)\n   - [x] [maven-cli-opts-skip-tests-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-maven/-/merge_requests/167)\n   - [x] [master](https://gitlab.com/gitlab-org/security-products/tests/java-maven/-/merge_requests/168)\n   - [x] [custom-ca-cert-java-8-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-maven/-/merge_requests/169)\n- [x] [python-pip](https://gitlab.com/gitlab-org/security-products/tests/python-pip)\n   - [x] [offline-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/python-pip/-/merge_requests/163)\n   - [x] [master](https://gitlab.com/gitlab-org/security-products/tests/python-pip/-/merge_requests/164)\n- [x] [java-maven-multimodules](https://gitlab.com/gitlab-org/security-products/tests/java-maven-multimodules)\n   - [x] [semgrep-migration-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-maven-multimodules/-/merge_requests/91)\n   - [x] [offline-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-maven-multimodules/-/merge_requests/92)\n   - [x] [master](https://gitlab.com/gitlab-org/security-products/tests/java-maven-multimodules/-/merge_requests/93)\n- [x] [scala-sbt](https://gitlab.com/gitlab-org/security-products/tests/scala-sbt)\n   - [x] [sbt-cli-opts-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/scala-sbt/-/merge_requests/64)\n   - [x] [offline-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/scala-sbt/-/merge_requests/65)\n   - [x] [master](https://gitlab.com/gitlab-org/security-products/tests/scala-sbt/-/merge_requests/66)\n- [x] [java-gradle](https://gitlab.com/gitlab-org/security-products/tests/java-gradle)\n   - [x] [offline-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-gradle/-/merge_requests/86)\n   - [x] [master](https://gitlab.com/gitlab-org/security-products/tests/java-gradle/-/merge_requests/87)\n   - [x] [gradle-cli-opts-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-gradle/-/merge_requests/88)\n- [x] [python-pipenv](https://gitlab.com/gitlab-org/security-products/tests/python-pipenv)\n   - [x] [require-system-python-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/python-pipenv/-/merge_requests/74)\n   - [x] [pipfile-lock-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/python-pipenv/-/merge_requests/75)\n   - [x] [offline-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/python-pipenv/-/merge_requests/76)\n   - [x] [master](https://gitlab.com/gitlab-org/security-products/tests/python-pipenv/-/merge_requests/77)\n- [x] [java-gradle-multimodules](https://gitlab.com/gitlab-org/security-products/tests/java-gradle-multimodules)\n   - [x] [subprojects-buildfilename-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-gradle-multimodules/-/merge_requests/38)\n   - [x] [offline-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-gradle-multimodules/-/merge_requests/39)\n   - [x] [no-root-dependencies-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-gradle-multimodules/-/merge_requests/40)\n   - [x] [master](https://gitlab.com/gitlab-org/security-products/tests/java-gradle-multimodules/-/merge_requests/41)   \n- [x] [java-gradle-kotlin-dsl](https://gitlab.com/gitlab-org/security-products/tests/java-gradle-kotlin-dsl)\n   - [x] [offline-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/java-gradle-kotlin-dsl/-/merge_requests/24)\n   - [x] [master](https://gitlab.com/gitlab-org/security-products/tests/java-gradle-kotlin-dsl/-/merge_requests/25)\n- [x] [scala-sbt-multiproject](https://gitlab.com/gitlab-org/security-products/tests/scala-sbt-multiproject)\n   - [x] [main](https://gitlab.com/gitlab-org/security-products/tests/scala-sbt-multiproject/-/merge_requests/6)\n- [x] [python-setuptools](https://gitlab.com/gitlab-org/security-products/tests/python-setuptools)\n   - [x] [offline-FREEZE](https://gitlab.com/gitlab-org/security-products/tests/python-setuptools/-/merge_requests/5)\n   - [x] [main](https://gitlab.com/gitlab-org/security-products/tests/python-setuptools/-/merge_requests/6)\n\n/cc @fcatteau @gonzoyumo","state":"closed","created_at":"2022-05-26T15:27:04.551Z","updated_at":"2022-05-30T07:52:36.651Z","closed_at":"2022-05-30T07:52:36.605Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","maintenance::pipelines","section::sec","test","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363591","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":39,"completed_count":39},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"39 of 39 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363591","notes":"https://gitlab.com/api/v4/projects/278964/issues/363591/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363591/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363591","relative":"#363591","full":"gitlab-org/gitlab#363591"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109166902,"iid":363590,"project_id":278964,"title":"Add deployment tier to CI_JOB_JWT","description":"## Problem\n\nCurrently, `CI_JOB_JWT` has `environment` (environment name) and `environment_protected` (whether the environment is protected), but it doesn't have [Deployment tier of environments](https://docs.gitlab.com/ee/ci/environments/#deployment-tier-of-environments). In order to fetch secretes from a value per deployment tier, we should add the tier in the payload.\n\n## Proposal\n\nAdd `deployment_tier` field to the JWT.\n\n```diff\ndiff --git a/lib/gitlab/ci/jwt.rb b/lib/gitlab/ci/jwt.rb\nindex 97774bc5e13..25cabc17c70 100644\n--- a/lib/gitlab/ci/jwt.rb\n+++ b/lib/gitlab/ci/jwt.rb\n@@ -58,10 +58,13 @@ def custom_claims\n           job_id: build.id.to_s,\n           ref: source_ref,\n           ref_type: ref_type,\n-          ref_protected: build.protected.to_s\n+          ref_protected: build.protected.to_s,\n+          deployment_tier: build.environment_deployment_tier\n         }\n \n         if environment.present?\n+          fields[:deployment_tier] ||= environment.tier\n+\n           fields.merge!(\n             environment: environment.name,\n             environment_protected: environment_protected?.to_s\n```","state":"closed","created_at":"2022-05-26T15:17:09.713Z","updated_at":"2022-11-15T13:10:42.578Z","closed_at":"2022-07-07T16:40:13.871Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Category:Environment Management","Deliverable","Next Up","Release::P1","backend","customer","devops::release","group::release","section::ops","severity::3","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363590","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363590","notes":"https://gitlab.com/api/v4/projects/278964/issues/363590/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363590/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363590","relative":"#363590","full":"gitlab-org/gitlab#363590"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109154680,"iid":363572,"project_id":278964,"title":"Improve language code around awaiting and owner action to be more theme based","description":"The following discussion from !88343 should be addressed:\n\n- [ ] @aturinske started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88343#note_959600489):  (+2 comments)\n\n    \u003e **lament (non-blocking):** IMO, part of the reason a string is assigned to a variable is so that if we need to change it, we only need to change it in one place and not have to follow it throughout the codebase changing it multiple places, but it seems this variable name was previously too specific that we had to do that anyways (same with `isMemberPendingOwnerApproval` above). Perhaps now that is is more generically called `action` instead of `approval`, this variable can be left alone no matter what the string is.","state":"closed","created_at":"2022-05-26T11:10:16.550Z","updated_at":"2022-06-03T12:48:26.534Z","closed_at":"2022-06-03T12:48:26.480Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["devops::growth","group::acquisition","section::growth","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363572","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363572","notes":"https://gitlab.com/api/v4/projects/278964/issues/363572/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363572/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363572","relative":"#363572","full":"gitlab-org/gitlab#363572"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109152061,"iid":363569,"project_id":278964,"title":"Hierarchy widget - preload children when requesting hierarchy widget for multiple work items","description":"When we support fetching of multiple work items (https://gitlab.com/gitlab-org/gitlab/-/issues/363299), it would be good to make sure that we eliminate any N+1 issues when loading widget data. For hierarchy widget, we should be able to preload both parent and children for any issues being fetched.\n\n---\n\n### Proposal\n\nPreload required associations in [`WorkItemsResolver`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/graphql/resolvers/work_items_resolver.rb#L57) and include the `children` field in [`work_items_spec.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/requests/api/graphql/project/work_items_spec.rb#L94).\n\n**Example query**:\n\n```graphql\nquery {\n  project(fullPath: \"flightjs/flight\") {\n    workItems(types: ISSUE) {\n      nodes {\n        widgets {\n        ... on WorkItemWidgetHierarchy {\n              parent { id }\n              children { nodes { id } }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\n```\n\n**N+1 queries**:\n\n```sql\n SELECT \"issues\".* FROM \"issues\"...\n       -- (expected: 0, got: 1)\n          INNER JOIN \"work_item_parent_links\" ON \"issues\".\"id\" = \"work_item_parent_links\".\"work_item_id\" WHERE \"work_item_parent_links\".\"work_item_parent_id\" = 91 ORDER BY \"issues\".\"id\" DESC LIMIT 101\n       -- (expected: 0, got: 1)\n          INNER JOIN \"work_item_parent_links\" ON \"issues\".\"id\" = \"work_item_parent_links\".\"work_item_id\" WHERE \"work_item_parent_links\".\"work_item_parent_id\" = 90 ORDER BY \"issues\".\"id\" DESC LIMIT 101\n       -- (expected: 0, got: 1)\n          INNER JOIN \"work_item_parent_links\" ON \"issues\".\"id\" = \"work_item_parent_links\".\"work_item_id\" WHERE \"work_item_parent_links\".\"work_item_parent_id\" = 89 ORDER BY \"issues\".\"id\" DESC LIMIT 101\n```","state":"closed","created_at":"2022-05-26T10:15:25.688Z","updated_at":"2022-12-12T10:27:04.591Z","closed_at":"2022-12-12T10:27:04.524Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Track Health Status","[deprecated] Accepting merge requests","auto updated","backend","devops::plan","group::product planning","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363569","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363569","notes":"https://gitlab.com/api/v4/projects/278964/issues/363569/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363569/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363569","relative":"#363569","full":"gitlab-org/gitlab#363569"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9206,"epic":{"id":650484,"iid":9206,"title":"Work Items - Children Widget","url":"/groups/gitlab-org/-/epics/9206","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"at_risk"},{"id":109142124,"iid":363561,"project_id":278964,"title":"Epics display tree view button on Premium subscriptions, but it does nothing","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\nPrevent the view change buttons within epics from displaying when the behaviour is not relevant to the subscription level.\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\nAs a GitLab premium subscription holder, I only want to see UI options which are relevant and available to my subscription level so I don't have an interface of options which do nothing for me.\n\n### Intended users\nUnknown\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n--\u003e\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n* I am GitLab user with a premium subscription\n* I work occasionally within epics\n* When viewing an epic, I noticed a button for \"Tree View\". It did nothing when I clicked it. I couldn't find any documentation relating to what it was supposed to do.\n\nI reached out on Twitter to get more information and have been told this works with Child Epics. As a premium user, I don't have access to child epics, so this button is not relevant to my subscription\n\n![Screenshot_from_2022-05-25_20-06-12](/uploads/1d73e9dcb514e902f295872745de94c0/Screenshot_from_2022-05-25_20-06-12.png)\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members\n\nPlease consider performing a threat model for the code changes that are introduced as part of this feature. To get started, refer to our Threat Modeling handbook page https://about.gitlab.com/handbook/security/threat_modeling/#threat-modeling.\n\nDon't hesitate to reach out to the Application Security Team (`@gitlab-com/gl-security/appsec`) to discuss any security concerns.\n--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\nThis feature should only be available to Ultimate members.\nThe button currently exists for Premium members\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### What is the competitive advantage or differentiation for this feature?\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2022-05-26T07:04:52.507Z","updated_at":"2022-11-13T14:03:33.954Z","closed_at":"2022-10-27T23:44:31.448Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["SUS::Impacting","bug::ux","devops::plan","frontend","group::product planning","priority::3","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":3828336,"username":"gary.bell","name":"Gary Bell","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3828336/avatar.png","web_url":"https://gitlab.com/gary.bell"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":8,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363561","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363561","notes":"https://gitlab.com/api/v4/projects/278964/issues/363561/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363561/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363561","relative":"#363561","full":"gitlab-org/gitlab#363561"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109140475,"iid":363557,"project_id":278964,"title":"[Feature flag] Rollout of `ci_child_pipeline_coverage_reports`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/363301) on production,\nthat is currently behind the `ci_child_pipeline_coverage_reports ` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline insights\" \n- Most `#g_pipeline_insights\"\n- Best individual to reach out to: @alberts-gitlab\n- PM: @jocelynjane \n- \n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nIt enables the feature to include coverage reports from child pipelines into the MR coverage report.\n\n### When is the feature viable?\n\nFeature flag `ci_child_pipeline_coverage_reports` is enabled.\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\nhttps://dashboards.gitlab.net/d/000000167/postgresql-tuple-statistics?orgId=1\u0026var-env=gprd\u0026var-instance=patroni-v12-05-db-gprd.c.gitlab-production.internal\u0026var-db=gitlabhq_production\u0026var-top_dead_tup=All\u0026from=now-3h\u0026to=now\n\nDatabase reads\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab,gitlab-org/gitlab-foss,gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org,gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [x] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - Enable and verify on test project https://gitlab.com/alberts-gitlab/test-ruby-cobertura\n    - [x] `/chatops run feature set ci_child_pipeline_coverage_reports --project 34564328` \n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set ci_child_pipeline_coverage_reports 10 --actors`\n    - [x] `/chatops run feature set ci_child_pipeline_coverage_reports 25 --actors`\n    - [x] `/chatops run feature set ci_child_pipeline_coverage_reports 50 --actors`\n    - [x] `/chatops run feature set ci_child_pipeline_coverage_reports 75 --actors`\n    - [x] `/chatops run feature set ci_child_pipeline_coverage_reports 100 --actors`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Consider cleaning up the feature flag from all environments by running these chatops command in `#production` channel. Otherwise these settings may override the default enabled.\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2022-05-26T06:25:18.308Z","updated_at":"2022-10-06T05:13:04.837Z","closed_at":"2022-07-12T03:42:01.009Z","closed_by":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"labels":["CI artifacts","Category:Build Artifacts","Verify::P1","automation:ml","devops::verify","feature flag","feature::addition","group::pipeline insights","missed:15.1","section::ops","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"}],"author":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"type":"ISSUE","assignee":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363557","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":55,"completed_count":29},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"29 of 55 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363557","notes":"https://gitlab.com/api/v4/projects/278964/issues/363557/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363557/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363557","relative":"#363557","full":"gitlab-org/gitlab#363557"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109130481,"iid":363535,"project_id":278964,"title":"Add metrics to track impact of blocking weak passwords","description":"We want to track how often the `weak_password` validation is blocking weak passwords. This will enable us to measure impact, and correlate against other metrics such as a potential decrease in sign up rates.\n\n## Proposal\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/issues/363445#note_1110733738\n\n\u003e  I'd recommend we fire the structured event below when the weak password warning message is displayed. More details on snowplow implementation can be found [here](https://docs.gitlab.com/ee/development/snowplow/implementation.html) and [here](https://docs.gitlab.com/ee/development/snowplow/index.html#structured-event-taxonomy). If you have any specific questions about implementing the event, feel free to ping us in the `g_acquisition` slack channel, as our team has implemented a lot of these events.\n\u003e \n\u003e | category | action | Label | Additional context to capture | Notes (reference for this issue, not an actual snowplow event property) |\n\u003e |----------|--------|-------|-------------------------------|-------------------------------------------------------------------------|\n\u003e | default from page fired on | `activate_form_input` | `warning_weak_password` | `page_url` `snowplow_session_id` | Event fires when we render the warning that the users password is too weak |","state":"closed","created_at":"2022-05-25T22:13:32.458Z","updated_at":"2022-11-02T07:47:01.141Z","closed_at":"2022-10-27T19:31:52.537Z","closed_by":{"id":9820844,"username":"nmalcolm","name":"Nick Malcolm","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9820844/avatar.png","web_url":"https://gitlab.com/nmalcolm"},"labels":["auto updated","devops::manage","feature::addition","group::authentication and authorization","section::dev","type::feature"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":9820844,"username":"nmalcolm","name":"Nick Malcolm","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9820844/avatar.png","web_url":"https://gitlab.com/nmalcolm"}],"author":{"id":9820844,"username":"nmalcolm","name":"Nick Malcolm","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9820844/avatar.png","web_url":"https://gitlab.com/nmalcolm"},"type":"ISSUE","assignee":{"id":9820844,"username":"nmalcolm","name":"Nick Malcolm","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9820844/avatar.png","web_url":"https://gitlab.com/nmalcolm"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363535","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363535","notes":"https://gitlab.com/api/v4/projects/278964/issues/363535/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363535/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363535","relative":"#363535","full":"gitlab-org/gitlab#363535"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8139,"epic":{"id":531789,"iid":8139,"title":"Prevent users from choosing weak passwords","url":"/groups/gitlab-org/-/epics/8139","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109129622,"iid":363525,"project_id":278964,"title":"Disable OAuth access token reuse feature","description":"GitLab currently returns the same OAuth access token to clients that authenticate with an application as long as the access token is still valid. \n\nPer Doorkeeper configuration documentation: \n\n\u003e\u003e\u003e \nThis option protects your application from creating new tokens before old **valid** one becomes\nexpired so your database doesn't bloat. Keep in mind that when this option is enabled Doorkeeper\ndoesn't update existing token expiration time, it will create a new token instead if no active matching\ntoken found for the application, resources owner and/or set of scopes.\nRationale: https://github.com/doorkeeper-gem/doorkeeper/issues/383\n\u003e\u003e\u003e\n\nThis behavior causes problems for some clients who may need to request a token multiple times and store the access tokens independently (see original description below for customer use-case and rationale)\n\nOne concern about changing this behavior is the potential for access token record bloat in the database. Since refresh tokens currently have no expiration, unless they are actually used, it could be difficult to clean up records. I *think* [automatic reuse detection](https://gitlab.com/gitlab-org/gitlab/-/issues/364111) might make it easier to determine whether a record can be cleaned up. \n\n## Original description\n\n\u003c!-- Actionable insights must recommend an action that needs to take place. An actionable insight both defines the insight and clearly calls out action or next step required to improve based on the result of the research observation or data. Actionable insights are tracked over time and will include follow-up. Please follow the tasks outlined in this issue for best results. Learn more in the handbook here: https://about.gitlab.com/handbook/engineering/ux/ux-research-training/research-insights/#actionable-insights \n\nThis issue template is for an actionable insight that requires a change in the product.--\u003e\n\n### Insight\n\u003c!-- Describe the insight itself: often the problem, finding, or observation.--\u003e\n\nOur technology partner, Postman, were able to find the root cause for the token issue, but they need help with a resolution.\n\nThe problem arises due to the way in which GitLab (GL) issues the access and refresh token pairs:\n\nWhen the user first completes the OAuth flow, GL will issue AC1 and RT1 to the user, with AC1 being valid for 2 hrs.\n\nIf the user does the OAuth flow again while the access token is still valid, GL will issue the same pair of tokens again (AC1 and RT1). This will cause our 2 different integrations to point to the same token pairs stored in 2 different rows.\n\nIf the user refreshes the token for the 1st integration, the refresh token and the access token (RT1 and AC1) will be invalidated and GL will issue AC2 and RT2, which the 1st integration will point to. However, our 2nd integration is still pointing to AC1 and RT1 which is now invalid.\n\nIs there any way to force GL to issue *new* AC and RT pairs every-time the OAuth flow is done via the OAuth endpoints?\n\nPer @dblessing, this happens because we use the setting [`reuse_access_tokens`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/initializers/doorkeeper.rb#L42)\n\n### Supporting evidence\n\u003c!-- Describe why the problem is happening, or more details behind the finding or observation. Try to include quotes or specific data collected. Feel free to link the Actionable insight from Dovetail here if applicable instead of retyping details. --\u003e\n\nThe Use Case: Postman lets users create multiple \"APIs\", and each API can be linked to a separate repository on GitLab. If one user configures integrations between multiple Postman API\u003c\u003eGitlab Repo pairs, we see a situation where one integration refreshes its access token, but this operation renders the other refresh tokens invalid.\n\nAll of this is happening with the same OAuth2 application (the one owned by Postman) and for the same GitLab user ID, with the same set of requested scopes.\n\nSeparately, can you confirm that asking for different scopes will forcibly issue a different access token?\n\n### Action\n\u003c!--Since this is an actionable insight that requires a change in the product, ensure the action is algned to that. Describe the next step or action that needs to take place as a result of the research. The action should be clearly defined, achievable, and directly tied back to the insight. Make sure to use directive terminology, such as: change, update, add/remove, etc. --\u003e\n\nPer @dblessing - Now that we expire tokens I wonder if we are in a better position to stop re-using tokens. My only concern would be we may still be unable to purge expired tokens because the refresh token is still valid infinitely. To delete an expired token would also negate the ability to refresh the token.\n\nI'm struggling in my own mind to determine what the ideal approach is - generate unique tokens for each grant, or have integrations like Postman create distinct OAuth applications.\n\n### Resources\n \u003c!--Add resources as links below or as related issues. --\u003e\n\n\n\n\n- :dove: [Dovetail project](Paste URL for Dovetail project here)\n- :mag: [Research issue](Paste URL for research issue here)\n- :footprints: [Follow-up issue or epic](Paste URL for follow-up issue or epic here)\n\n### Tasks\n \u003c!--Fill out these tasks in order to consider an Actionable Insight complete. Actionable Insights are created as confidential by default, but can be made non-confidential if the insight does not include information about competitors from a Competitor Evaluation or any other confidential information. --\u003e\n- [ ] Assign this issue to the appropriate Product Manager, Product Designer, or UX Researcher.\n- [ ] Add the appropriate `Group` (such as `~\"group::source code\"`) label to the issue.  This helps identify and track actionable insights at the group level.\n- [ ] Link this issue back to the original research issue in the GitLab UX Research project and the Dovetail project.\n- [ ] Adjust confidentiality of this issue if applicable","state":"closed","created_at":"2022-05-25T21:27:34.186Z","updated_at":"2022-12-16T11:15:24.806Z","closed_at":"2022-07-19T11:11:33.574Z","closed_by":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"labels":["Actionable Insight::Exploration needed","Deliverable","auto updated","backend","closed::complete","devops::manage","group::authentication and authorization","priority::1","section::dev","security","severity::1","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"}],"author":{"id":3354399,"username":"mlebeau","name":"Mike LeBeau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354399/avatar.png","web_url":"https://gitlab.com/mlebeau"},"type":"ISSUE","assignee":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"user_notes_count":34,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363525","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363525","notes":"https://gitlab.com/api/v4/projects/278964/issues/363525/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363525/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363525","relative":"#363525","full":"gitlab-org/gitlab#363525"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8166,"epic":{"id":536575,"iid":8166,"title":"OAuth improvements","url":"/groups/gitlab-org/-/epics/8166","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":109121058,"iid":363515,"project_id":278964,"title":"Styles of pipeline merge request widget broken","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe styles of the pipeline merge request widget are broken\n\n### Steps to reproduce\n\n1. Open a merge request with a pipeline\n2. Click on a stage to view the jobs inside\n\n### Example Project\n\nI noticed it on `gitlab-com/www-gitlab-com`\n\n### Relevant logs and/or screenshots\n\n| What | Image |\n|---|---|\n| Initial page load | ![image](/uploads/d268232b48415c450d32f22732775f0c/image.png) |\n| Stages expanded | ![image](/uploads/609679698fd356b166a5a4c228eeea9a/image.png) |\n| Stages collapsed again | ![image](/uploads/ef81dc73332958941ea4fd2a77ab7145/image.png) |\n| With environment | ![image](/uploads/df139e7a376923792e5e307479863bd8/image.png) |\n\n### Output of checks\n\nHappens on GitLab.com (15.1.0-pre dd91f52343a)\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-05-25T17:55:28.094Z","updated_at":"2022-05-26T09:06:17.766Z","closed_at":"2022-05-26T06:50:46.747Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["devops::manage","group::compliance","section::dev","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5219924,"username":"Taucher2003","name":"Niklas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5219924/avatar.png","web_url":"https://gitlab.com/Taucher2003"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363515","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363515","notes":"https://gitlab.com/api/v4/projects/278964/issues/363515/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363515/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363515","relative":"#363515","full":"gitlab-org/gitlab#363515"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109119972,"iid":363512,"project_id":278964,"title":"Frontend: Experiment Implementation: \"Performance Insights\" Button","description":"\u003c!-- Title suggestion: Experiment Implementation: [description] --\u003e\n\n# Experiment Summary\n\u003c!-- Quick rundown of what is being done --\u003e\n\nThis tests if adding a button which opens a (modal/sidebar) with a few stats on it about the pipeline timing results in users looking at the data.\n\nFrom [this idea](https://gitlab.com/gitlab-org/gitlab/-/issues/362655#note_951516277) in the team test discussion issue.\n\n## Experiment design/measures of success\n\n* This will run for 2 months/milestones for all users\n* We expect at least 5% of active monthly users who visit the page to click the button\n* We expect 25% of users who click the button for details to click further into a job\n* We expect to collect 10 or more comments from users the feedback issue over the 2 months.\n    * We will utilize social media and the Field Team to make users aware who have previously requested pipeline timing data.\n    * Feedback will be collected in a [feedback issue](https://gitlab.com/gitlab-org/gitlab/-/issues/365902)\n\n## Design\n\u003c!-- This should include the contexts that determine the reproducibility (stickiness) of an experiment. This means that if you want the same behavior for a user, the context would be user, or if you want all users when viewing a specific project, the context would be the project being viewed, etc. --\u003e\n\n1. Add a button with title \"Performance Statistics\" to the pipeline detail page that opens a (modal/sidebar). (see below)\n2. Details should show some/all/what we can get added within the implementation time of the following ranked in order of preference.\n    1. Top 5 slowest jobs in the pipeline (using available job `duration`) - \n    1. Longest wait for the job - shows how long last job took before it was executed (e.g. waiting for jobs in previous stages to finish) - `started_at - created_at`\n    1. A tooltip/explanation of how longest wait and longest queueing time is calculated\n    1. A link to feedback issue - TBD\n    1. Slowest job per stage (using job `duration`)\n    1. Longest queueing time - job that spent the longest in `pending` state waiting to be picked by a Runner (using available job `queued_duration`)\n\n## Rollout strategy\n\u003c!-- This is currently called A/B test, which isn't accurate for multi-variants. Let's call this rollout strategy. It should outline the percentages for variants and if there's more than one step to this, each of those steps and the timing for those steps (e.g. 30 days after initial rollout). --\u003e\n\nThis is not an A/B test and can be rolled out to all users using our normal Feature Flag rolloutstrategy.\n\n## Tracking Details\n\n* Track how often the modal is opened.\n* Track how often a detail is clicked\n\n# Open Questions\n\n- [x] Which is faster implementation modal or sidebar for the data?\n    -  Design is modal which Dev agreed was doable.\n- [x] Can we link to job details?\n    - Yes the modal links to job details for listed jobs\n- [x] How are we tracking this / how will we report it?\n    - Snowplow tracking (`click_insights_button` action, `performance_insights` label)\n- [x] What is the criteria for success/we should prioritize making this an MVC and more performant?\n    - Noted in the experiment design.","state":"closed","created_at":"2022-05-25T17:27:07.308Z","updated_at":"2022-12-19T17:04:26.095Z","closed_at":"2022-07-18T13:46:28.766Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","Stretch","UX","Verify::P3","auto updated","customer","devops::verify","feature::addition","frontend","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363512","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363512","notes":"https://gitlab.com/api/v4/projects/278964/issues/363512/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363512/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363512","relative":"#363512","full":"gitlab-org/gitlab#363512"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":109118708,"iid":363510,"project_id":278964,"title":"Refactor `user_popover.vue` to use `GlAvatarLabeled`","description":"Follow-up to https://gitlab.com/gitlab-org/gitlab/-/issues/361986. \n\nCurrently we are using a custom implementation to display the avatar. Once https://gitlab.com/gitlab-org/gitlab-ui/-/merge_requests/2833 is merged we should be able to use `GlAvatarLabeled` instead.","state":"closed","created_at":"2022-05-25T17:00:11.052Z","updated_at":"2022-07-06T14:52:57.760Z","closed_at":"2022-07-06T14:52:57.745Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["devops::manage","frontend","group::organization","maintenance::refactor","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/363510","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/363510","notes":"https://gitlab.com/api/v4/projects/278964/issues/363510/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/363510/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#363510","relative":"#363510","full":"gitlab-org/gitlab#363510"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]