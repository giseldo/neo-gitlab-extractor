[{"id":34585126,"iid":217900,"project_id":278964,"title":"Objective-C, Swift Offline License Compliance","description":"NOTE if you are a user who also would like to see this feature, please UPVOTE üëç it and comment to help it get prioritized (So it‚Äôs raised as part of our [sensing mechanisms]( https://about.gitlab.com/handbook/product/product-management/process/#sensing-mechanism). Comments ideally should include what you want, how it would help you, what your pain point/frustration is today, and anything else that can help us focus on solving the problem.\n\nThese package managers were not specifically requested by offline customers\n\n### Problem to solve\n\nDetect software licenses associated with dependencies declared using [cocoapods](https://cocoapods.org/) the same way we do today for online instances, in an offline instance relying on a proxied or locally hosted custom repository.\n\nIf possible this will deal with setting both address and optional authentication. If needed pop authentication into it's own issue.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n### Further details\n\nThis change allows the retrieval of cocoapods dependencies from non standard sources.\n\nThis is to support users in [offline GitLab self-hosted instances](https://docs.gitlab.com/ee/user/application_security/offline_deployments/)\n\n### Proposal\n\nWe could look at parsing the [Podfile.lock](https://guides.cocoapods.org/using/using-cocoapods.html#what-is-podfilelock) to get the list of dependencies but this doesn't contain the information necessary to detect licenses.\n\nE.g.\n\nPodfile\n\n```ruby\nplatform :ios\n\ntarget :MovieLibraryTests, :exclusive =\u003e true do\n  pod 'Kiwi'\nend\n```\n\nPodfile.lock\n\n```ruby\nPODS:\n  - Kiwi (2.0.6)\n\nDEPENDENCIES:\n  - Kiwi\n\nSPEC CHECKSUMS:\n  Kiwi: 56082a80f942de4d10423d8d8a599ab30cf50228\n\nCOCOAPODS: 0.19.1\n```\n\nWe could then scrape the `Kiwi` podspec from https://github.com/CocoaPods/Specs/blob/master/Specs/b/6/e/Kiwi/2.0.6/Kiwi.podspec.json to read out the license information.\n\nTo support custom spec repos we could use something similar to this [guide](http://guides.cocoapods.org/making/private-cocoapods.html) where we document how to inform the `license_scanning` job on where to fetch the specs repo to look up the license information from the spec file.\n\nThis would be a reasonable MVC to at least let us start scanning some cocoapod projects and then could be improved later once we have [macOS shared runners](https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/issues/5720) so that we can install packages and read the LICENSE files shipped with the source code.\n\n### Permissions and Security\n\nsame users today who can setup license scanning can set it up.\n\nthe repository may or may not be authenticated\n\n### Documentation\n\nWe will need to update user documentation\n\n### Availability \u0026 Testing\n\nManual: Use the existing GCP environment\n\nAutomated: Please work with ~Quality to make sure we have coverage as we must avoid regression\n\n### What does success look like, and how can we measure that?\n\nafter following documentation it does not require an internet connection to run a scan and provide results.\n\n### What is the type of buyer?\n\nHeavily regulated industry, highly secretive organizations, and those with poor connectivity.\n\n### Is this a cross-stage feature?\n\nno\n\n### Implementation Plan\n\n* ~~[ ] Release https://gitlab.com/gitlab-org/security-products/license-management as a rubygem.~~\n* ~~[ ] Add documentation to describe how to run the `license_scanning` job on a [MacOS host](https://docs.gitlab.com/runner/install/osx.html) using the gitlab-runner shell configuration.~~\n  * ~~[ ] override `license_scanning` job to run on a [MacOS](https://gitlab.com/groups/gitlab-org/-/epics/1830) shared runner.~~\n* [ ] Override [macOS specific code](https://github.com/pivotal/LicenseFinder/blob/ad2fe6fb94e3e385f549a3bfa54bea295f341f85/lib/license_finder/package_managers/cocoa_pods.rb#L38-L57) in favour of looking up license data from the [spec repo](https://github.com/CocoaPods/Specs).\n* [ ] Set up a custom registry in the Offline test environment.\n* [ ] Exclude development/test dependencies from the scan output.\n* [ ] Add integration test(s) to fetch dependencies from a custom registry.\n* [ ] Add integrations test(s) to verify that dependencies can be installed from a custom registry.\n* [ ] Ensure dependencies can be installed from a custom registry served with a custom self signed TLS certificate.\n* [ ] Add documentation to describe any special setup or configuration required for fetching dependencies from a custom registry. [Example](https://docs.gitlab.com/ee/user/compliance/license_compliance/index.html#using-private-maven-repos)\n* [ ] Add documentation to describe any setup required for working in an offline environment. [Example](https://docs.gitlab.com/ee/user/compliance/license_compliance/index.html#running-license-compliance-in-an-offline-environment)\n* [ ] Add example project to [templates](https://gitlab-airgap-test.us-west1-b.c.group-secure-a89fe7.internal/templates)\n* [ ] Add test project to [test projects](https://gitlab.com/gitlab-org/security-products/tests) by following procedure in https://gitlab.com/gitlab-org/security-products/tests/common#how-to-create-a-new-test-project\n\n### Links / references\n\n* https://github.com/CocoaPods/Specs\n* http://guides.cocoapods.org\n* https://gitlab.com/groups/gitlab-org/-/epics/1830\n* https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/issues/5720\n* https://www.macstadium.com/","state":"closed","created_at":"2020-05-15T01:44:58.865Z","updated_at":"2022-07-18T03:21:42.942Z","closed_at":"2022-07-13T15:29:30.492Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:License Compliance","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","group::composition analysis","section::sec","secure offline scanning","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217900","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217900","notes":"https://gitlab.com/api/v4/projects/278964/issues/217900/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217900/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217900","relative":"#217900","full":"gitlab-org/gitlab#217900"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2942,"epic":{"id":33509,"iid":2942,"title":"Objective-C, Swift","url":"/groups/gitlab-org/-/epics/2942","group_id":9970},"iteration":null,"health_status":null},{"id":34585111,"iid":217899,"project_id":278964,"title":"Elixir Offline License Compliance","description":"NOTE if you are a user who also would like to see this feature, please UPVOTE üëç it and comment to help it get prioritized (So it‚Äôs raised as part of our [sensing mechanisms]( https://about.gitlab.com/handbook/product/product-management/process/#sensing-mechanism). Comments ideally should include what you want, how it would help you, what your pain point/frustration is today, and anything else that can help us focus on solving the problem.\n\nThese package managers were not specifically requested by offline customers\n\n### Problem to solve\n\nDetect software licenses associated with dependencies declared using mix the same way we do today for online instances, in an offline instance relying on a proxied or locally hosted custom repository.\n\nIf possible this will deal with setting both address and optional authentication. If needed pop authentication into it's own issue.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n### Further details\n\nThis change allows the retrieval of mix dependencies from non standard sources.\n\nThis is to support users in [offline GitLab self-hosted instances](https://docs.gitlab.com/ee/user/application_security/offline_deployments/)\n\n### Proposal\n\n### Permissions and Security\n\nsame users today who can setup license scanning can set it up.\n\nthe repository may or may not be authenticated\n\n### Documentation\n\nWe will need to update user documentation\n\n### Availability \u0026 Testing\n\nManual: Use the existing GCP environment\n\nAutomated: Please work with ~Quality to make sure we have coverage as we must avoid regression\n\n### What does success look like, and how can we measure that?\n\nafter following documentation it does not require an internet connection to run a scan and provide results.\n\n### What is the type of buyer?\n\nHeavily regulated industry, highly secretive organizations, and those with poor connectivity.\n\n### Is this a cross-stage feature?\n\nno\n\n### Implementation Plan\n\n* [ ] Set up a custom registry in the Offline test environment.\n* [ ] Exclude development/test dependencies from the scan output.\n* [ ] Add integration test(s) to fetch dependencies from a custom registry.\n* [ ] Add integrations test(s) to verify that dependencies can be installed from a custom registry.\n* [ ] Ensure dependencies can be installed from a custom registry served with a custom self signed TLS certificate.\n* [ ] Add documentation to describe any special setup or configuration required for fetching dependencies from a custom registry. [Example](https://docs.gitlab.com/ee/user/compliance/license_compliance/index.html#using-private-maven-repos)\n* [ ] Add documentation to describe any setup required for working in an offline environment. [Example](https://docs.gitlab.com/ee/user/compliance/license_compliance/index.html#running-license-compliance-in-an-offline-environment)\n* [ ] Add example project to [templates](https://gitlab-airgap-test.us-west1-b.c.group-secure-a89fe7.internal/templates)\n\n### Links / references\n\n* https://elixir-lang.org/getting-started/mix-otp/introduction-to-mix.html\n* https://github.com/asdf-vm/asdf-elixir/blob/master/bin/install\n\n/labels ~\"devops::secure\" ~\"Category:License Compliance\" ~\"group::composition analysis\" ~\"secure offline scanning\" ~backend ~feature","state":"closed","created_at":"2020-05-15T01:43:51.794Z","updated_at":"2022-05-23T11:42:19.126Z","closed_at":"2022-05-18T19:44:03.912Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:License Compliance","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","group::composition analysis","section::sec","secure offline scanning","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217899","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217899","notes":"https://gitlab.com/api/v4/projects/278964/issues/217899/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217899/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217899","relative":"#217899","full":"gitlab-org/gitlab#217899"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2943,"epic":{"id":33510,"iid":2943,"title":"Elixir","url":"/groups/gitlab-org/-/epics/2943","group_id":9970},"iteration":null,"health_status":null},{"id":34585073,"iid":217898,"project_id":278964,"title":"Erlang offline license compliance","description":"NOTE if you are a user who also would like to see this feature, please UPVOTE üëç it and comment to help it get prioritized (So it‚Äôs raised as part of our [sensing mechanisms]( https://about.gitlab.com/handbook/product/product-management/process/#sensing-mechanism). Comments ideally should include what you want, how it would help you, what your pain point/frustration is today, and anything else that can help us focus on solving the problem.\n\nThese package managers were not specifically requested by offline customers\n\n### Problem to solve\n\nDetect software licenses associated with dependencies declared in erlang ([rebar](https://www.rebar3.org/)) the same way we do today for online instances, in an offline instance relying on a proxied or locally hosted custom repository.\n\nIf possible this will deal with setting both address and optional authentication. If needed pop authentication into it's own issue.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n### Further details\n\nThis change allows the retrieval of pip dependencies from non standard sources.\n\nThis is to support users in [offline GitLab self-hosted instances](https://docs.gitlab.com/ee/user/application_security/offline_deployments/)\n\n### Proposal\n\n### Permissions and Security\n\nsame users today who can setup license scanning can set it up.\n\nthe repository may or may not be authenticated\n\n### Documentation\n\nWe will need to update user documentation\n\n### Availability \u0026 Testing\n\nManual: Use the existing GCP environment\n\nAutomated: Please work with ~Quality to make sure we have coverage as we must avoid regression\n\n### What does success look like, and how can we measure that?\n\nafter following documentation it does not require an internet connection to run a scan and provide results.\n\n### What is the type of buyer?\n\nHeavily regulated industry, highly secretive organizations, and those with poor connectivity.\n\n### Is this a cross-stage feature?\n\nno\n\n### Implementation Plan\n\n* [ ] Set up a custom registry in the Offline test environment.\n* [ ] Exclude development/test dependencies from the scan output.\n* [ ] Add integration test(s) to fetch dependencies from a custom registry.\n* [ ] Add integrations test(s) to verify that dependencies can be installed from a custom registry.\n* [ ] Ensure dependencies can be installed from a custom registry served with a custom self signed TLS certificate.\n* [ ] Add documentation to describe any special setup or configuration required for fetching dependencies from a custom registry. [Example](https://docs.gitlab.com/ee/user/compliance/license_compliance/index.html#using-private-maven-repos)\n* [ ] Add documentation to describe any setup required for working in an offline environment. [Example](https://docs.gitlab.com/ee/user/compliance/license_compliance/index.html#running-license-compliance-in-an-offline-environment)\n* [ ] Add example project to [templates](https://gitlab-airgap-test.us-west1-b.c.group-secure-a89fe7.internal/templates)\n* [ ] Add test project to [test projects](https://gitlab.com/gitlab-org/security-products/tests) by following procedure in https://gitlab.com/gitlab-org/security-products/tests/common#how-to-create-a-new-test-project\n* [ ] Install `rebar` via [asdf plugin](https://github.com/Stratus3D/asdf-rebar)\n\n\n### Links / references\n\n* https://www.rebar3.org/\n* https://asdf-vm.com/#/plugins-all\n\n~labels ~\"devops::secure\" ~\"Category:License Compliance\" ~\"group::composition analysis\" ~\"secure offline scanning\" ~backend ~feature","state":"closed","created_at":"2020-05-15T01:41:18.249Z","updated_at":"2022-05-23T11:42:19.182Z","closed_at":"2022-05-18T19:44:19.475Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:License Compliance","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","group::composition analysis","section::sec","secure offline scanning","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217898","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217898","notes":"https://gitlab.com/api/v4/projects/278964/issues/217898/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217898/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217898","relative":"#217898","full":"gitlab-org/gitlab#217898"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2941,"epic":{"id":33508,"iid":2941,"title":"Erlang","url":"/groups/gitlab-org/-/epics/2941","group_id":9970},"iteration":null,"health_status":null},{"id":34584971,"iid":217897,"project_id":278964,"title":"offline license compliance for Ruby","description":"### Problem to solve\n\nDetect software licenses associated with dependencies declared using conan the same way we do today for online instances, in an offline instance relying on a proxied or locally hosted custom repository.\n\nIf possible this will deal with setting both address and optional authentication. If needed pop authentication into it's own issue.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n### Further details\n\nThis change allows the retrieval of pip dependencies from non standard sources.\n\nThis is to support users in [offline GitLab self-hosted instances](https://docs.gitlab.com/ee/user/application_security/offline_deployments/)\n\n### Proposal\n\n### Permissions and Security\n\nsame users today who can setup license scanning can set it up.\n\nthe repository may or may not be authenticated\n\n### Documentation\n\nWe will need to update user documentation\n\n### Availability \u0026 Testing\n\nManual: Use the existing GCP environment\n\nAutomated: Please work with ~Quality to make sure we have coverage as we must avoid regression\n\n### What does success look like, and how can we measure that?\n\nafter following documentation it does not require an internet connection to run a scan and provide results.\n\n### What is the type of buyer?\n\nHeavily regulated industry, highly secretive organizations, and those with poor connectivity.\n\n### Is this a cross-stage feature?\n\nno\n\n### Implementation Plan\n\n* [ ] Set up a custom conan registry in the Offline test environment. [Documentation](https://docs.conan.io/en/1.9/reference/config_files/registry.txt.html)\n* [ ] Research: Find out if it's possible to specify and/or exclude development/test dependencies from the scan output.\n* [ ] Add integration test(s) to fetch dependencies from a conan registry.\n* [ ] Add integrations test(s) to verify that dependencies can be installed from a conan registry served with a custom self signed TLS certificate that is not in the default root certificate authority trust store.\n* [ ] Add documentation to describe any special setup or configuration required for fetching dependencies from a custom conan registry. [Example](https://docs.gitlab.com/ee/user/compliance/license_compliance/index.html#using-private-maven-repos)\n* [ ] Add documentation to describe any setup required for working in an offline environment. [Example](https://docs.gitlab.com/ee/user/compliance/license_compliance/index.html#running-license-compliance-in-an-offline-environment)\n* [ ] Add example project to [templates](https://gitlab-airgap-test.us-west1-b.c.group-secure-a89fe7.internal/templates) for a specific platform. E.g. conan-debian, conan-windows\n\n### Links / references","state":"closed","created_at":"2020-05-15T01:34:53.844Z","updated_at":"2020-11-13T17:26:01.473Z","closed_at":"2020-07-11T07:23:02.711Z","closed_by":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","direction","group::composition analysis","quad-planning::complete-action","secure offline scanning","type::feature"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217897","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217897","notes":"https://gitlab.com/api/v4/projects/278964/issues/217897/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217897/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217897","relative":"#217897","full":"gitlab-org/gitlab#217897"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2940,"epic":{"id":33507,"iid":2940,"title":"Ruby","url":"/groups/gitlab-org/-/epics/2940","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34584714,"iid":217895,"project_id":278964,"title":"[Feature flag] Enable Maintenance mode","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:maintenance_mode` feature flag ...\n\n## Owners\n\n- Team: Geo\n- Most appropriate slack channel to reach out to: `#f_maintenance_mode`\n- Best individual to reach out to: @aakriti.gupta  \n\n## Expectations\n\n###¬†What are we expecting to happen?\n\nMaintenance mode becomes available in Application Settings UI.\n\n### What might happen if this goes wrong?\n\nIt's hard to imagine anything going wrong with this operation, because the feature is not used until maintenance mode is enabled by an admin.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Roll Out Steps\n\n- [x] Enable on staging\n- [x] Confirm QA tests pass when enabling a feature flag https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51178/diffs\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour\n- [x] Coordinate a time to enable the flag with `#production` and `#g_delivery` on slack.\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production`\n- [x] Cross post chatops slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2020-05-15T01:16:28.131Z","updated_at":"2021-02-17T17:20:54.228Z","closed_at":"2021-02-13T01:39:22.077Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Disaster Recovery","Deliverable","Enterprise Edition","GitLab Premium","devops::systems","direction","feature flag","group::geo","missed-deliverable","missed:13.8","section::enablement","type::feature","workflow::in dev"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217895","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":12},"weight":1,"blocking_issues_count":1,"has_tasks":true,"task_status":"12 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217895","notes":"https://gitlab.com/api/v4/projects/278964/issues/217895/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217895/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217895","relative":"#217895","full":"gitlab-org/gitlab#217895"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2149,"epic":{"id":14636,"iid":2149,"title":"Geo: Create a read-only mode (maintenance mode)","url":"/groups/gitlab-org/-/epics/2149","group_id":9970,"human_readable_end_date":"Feb 21, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34584600,"iid":217894,"project_id":278964,"title":"Maintenance mode blocks Git pushes","description":"\u003c!-- The first four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nWe want to add a read-only maintenance mode so sysadmins can block writes. In particular, this allows Geo to finish replicating all data before planned failovers.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n--\u003e\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nThe application setting `maintenance_mode_enabled` should already exist from https://gitlab.com/gitlab-org/gitlab/-/issues/212428.\n\n- [x] Block Git pushes when `maintenance_mode_enabled` is enabled\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-05-15T01:07:18.397Z","updated_at":"2021-02-10T19:56:04.598Z","closed_at":"2020-10-08T12:34:41.058Z","closed_by":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"labels":["Deliverable","backend","devops::systems","direction","group::geo","missed-deliverable","missed:13.1","missed:13.4","section::enablement","type::feature","workflow::production"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217894","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217894","notes":"https://gitlab.com/api/v4/projects/278964/issues/217894/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217894/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217894","relative":"#217894","full":"gitlab-org/gitlab#217894"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2149,"epic":{"id":14636,"iid":2149,"title":"Geo: Create a read-only mode (maintenance mode)","url":"/groups/gitlab-org/-/epics/2149","group_id":9970,"human_readable_end_date":"Feb 21, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34584538,"iid":217893,"project_id":278964,"title":"Maintenance mode displays a banner message","description":"\u003c!-- The first four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nWe want to add a read-only maintenance mode so sysadmins can block writes. In particular, this allows Geo to finish replicating all data before planned failovers. The MVC of Maintenance mode has a field to specify a banner message https://gitlab.com/gitlab-org/gitlab/-/issues/211672. This should be displayed when the setting is enabled, and it should look like a broadcast message.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n--\u003e\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nThe MVC of Maintenance mode has a field to specify a banner message https://gitlab.com/gitlab-org/gitlab/-/issues/211672. This should be displayed when the setting is enabled, and it should look like a broadcast message.\n\n- [ ] Display the banner message like a broadcast message when Maintenance mode is enabled\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-05-15T01:03:42.271Z","updated_at":"2020-12-15T19:59:02.116Z","closed_at":"2020-12-04T09:21:24.912Z","closed_by":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"labels":["Deliverable","backend","devops::systems","direction","group::geo","missed-deliverable","missed:13.4","missed:13.6","section::enablement","type::feature","workflow::in dev"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217893","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217893","notes":"https://gitlab.com/api/v4/projects/278964/issues/217893/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217893/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217893","relative":"#217893","full":"gitlab-org/gitlab#217893"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2149,"epic":{"id":14636,"iid":2149,"title":"Geo: Create a read-only mode (maintenance mode)","url":"/groups/gitlab-org/-/epics/2149","group_id":9970,"human_readable_end_date":"Feb 21, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34584402,"iid":217891,"project_id":278964,"title":"Maintenance mode blocks Docker Registry pushes","description":"\u003c!--¬†The¬†first¬†four¬†sections:¬†\"Problem¬†to¬†solve\",¬†\"Intended¬†users\", \"User experience goal\",¬†and¬†\"Proposal\",¬†are¬†strongly¬†recommended,¬†while¬†the¬†rest¬†of¬†the¬†sections¬†can¬†be¬†filled¬†out¬†during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution.¬†--\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try¬†to¬†define¬†the¬†who/what/why¬†of¬†the¬†opportunity¬†as¬†a¬†user¬†story.¬†For¬†example,¬†\"As¬†a¬†(who),¬†I¬†want¬†(what),¬†so¬†I¬†can¬†(why/value).\" --\u003e\n\nWe want to add a read-only maintenance mode so sysadmins can block writes. In particular, this allows Geo to finish replicating all data before planned failovers.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n--\u003e\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nThe application setting `maintenance_mode_enabled` should already exist from https://gitlab.com/gitlab-org/gitlab/-/issues/212428.\n\n- [x] Enable read-only for Docker Registry by blocking authentication for WRITE requests.\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What¬†is¬†the¬†buyer¬†persona¬†for¬†this¬†feature?¬†See¬†https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-05-15T00:56:11.535Z","updated_at":"2021-01-05T23:14:35.666Z","closed_at":"2020-12-17T10:35:11.473Z","closed_by":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"labels":["Deliverable","backend","devops::systems","direction","group::geo","missed-deliverable","missed:13.4","missed:13.6","section::enablement","type::feature","workflow::in review"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217891","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217891","notes":"https://gitlab.com/api/v4/projects/278964/issues/217891/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217891/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217891","relative":"#217891","full":"gitlab-org/gitlab#217891"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2149,"epic":{"id":14636,"iid":2149,"title":"Geo: Create a read-only mode (maintenance mode)","url":"/groups/gitlab-org/-/epics/2149","group_id":9970,"human_readable_end_date":"Feb 21, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34584334,"iid":217890,"project_id":278964,"title":"Maintenance mode blocks non-GET HTTP requests","description":"### Problem to solve\n\nWe want to add a read-only maintenance mode so sysadmins can block writes. In particular, this allows Geo to finish replicating all data before planned failovers.\n\n### Proposal\n\nThe application setting `maintenance_mode_enabled` should already exist.\n\n- [ ] Block non-GET HTTP requests when `maintenance_mode_enabled` is enabled\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What¬†is¬†the¬†buyer¬†persona¬†for¬†this¬†feature?¬†See¬†https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2020-05-15T00:52:02.364Z","updated_at":"2020-12-02T15:28:33.199Z","closed_at":"2020-12-01T15:59:34.842Z","closed_by":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"labels":["Deliverable","backend","devops::systems","direction","group::geo","missed-deliverable","missed:13.1","missed:13.4","missed:13.6","section::enablement","type::feature","workflow::in review"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217890","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217890","notes":"https://gitlab.com/api/v4/projects/278964/issues/217890/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217890/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217890","relative":"#217890","full":"gitlab-org/gitlab#217890"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2149,"epic":{"id":14636,"iid":2149,"title":"Geo: Create a read-only mode (maintenance mode)","url":"/groups/gitlab-org/-/epics/2149","group_id":9970,"human_readable_end_date":"Feb 21, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34583725,"iid":217882,"project_id":278964,"title":"Designs can't be uploaded to moved or locked issues","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nDiscovered by @aalakkad @esybrant   https://gitlab.slack.com/archives/CETG54GQ0/p1589473801345500 \n\nOriginal issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/1210\nMoved to: https://gitlab.com/gitlab-org/gitlab/-/issues/217804\n\n\u003e  I can no longer get designs to upload to the original issue. Because the designs didn't move to the new issue, I was trying to finish up the review / revision process on the original issue, but it won't let me upload updated designs. The \"Add design\" and \"Delete design\" buttons are also gone. cc @Christen Dybenko\n\n\u003e @.luke  any insight as to why @esybrant  can't add to the original issue?  - would it have auto-closed and need to be re-opened?\n\n\u003e It was auto closed, but we reopened it to we could finish the review process. That's when I realized that it wouldn't let me upload any new designs.\n\n### Steps to reproduce\n\n*  Move an issue \n*  Go back and open up the old issue and try to upload a design\n\n\n### What is the current *bug* behavior?\n\n*  Not able to upload\n\n### What is the expected *correct* behavior?\n\n*  Should be able to upload\n\n### Proposal\n\nAlign the design permissions so they behave the same as comments:\n\n- When an issue is **moved**, designs can still be uploaded on the original issue.\n- When an issue is **locked**, only project members can still upload designs.\n\nDesign policy: https://gitlab.com/gitlab-org/gitlab/blob/c295db2fdf639ee7a302f86109b430a0183d5c5c/app/policies/issue_policy.rb#L38\n\nComment policy: https://gitlab.com/gitlab-org/gitlab/blob/c295db2fdf639ee7a302f86109b430a0183d5c5c/app/policies/issuable_policy.rb#L23","state":"closed","created_at":"2020-05-15T00:05:15.245Z","updated_at":"2020-12-10T18:58:20.710Z","closed_at":"2020-09-28T23:41:23.336Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Design Management","Deliverable","backend","devops::plan","group::product planning","priority::3","quad-planning::complete-no-action","section::dev","severity::4","type::bug","workflow::in review"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217882","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217882","notes":"https://gitlab.com/api/v4/projects/278964/issues/217882/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217882/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217882","relative":"#217882","full":"gitlab-org/gitlab#217882"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34583333,"iid":217880,"project_id":278964,"title":"Geo: Endpoints that facilitate proxying Git SSH requests may need to check the Geo IP whitelist","description":"https://gitlab.com/gitlab-org/gitlab/-/blob/v12.10.5-ee/ee/lib/api/geo.rb#L101\n\nShould these `proxy_git_ssh` endpoints call `check_gitlab_geo_request_ip!`?\n\nShould we move the calls to `before { check_gitlab_geo_request_ip! }`?","state":"closed","created_at":"2020-05-14T23:43:22.132Z","updated_at":"2023-01-04T14:28:14.674Z","closed_at":"2022-11-21T13:20:09.820Z","closed_by":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"labels":["[deprecated] Accepting merge requests","devops::systems","geo::planning","group::geo","priority::4","section::enablement","security","severity::4","type::bug","vintage","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-11-10","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217880","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217880","notes":"https://gitlab.com/api/v4/projects/278964/issues/217880/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217880/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217880","relative":"#217880","full":"gitlab-org/gitlab#217880"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34580401,"iid":217876,"project_id":278964,"title":"Remove override of Organization field for GitLab Team members","description":"As part of the discussions [here](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30884#note_336490054), we decided to not preset the Organization field for GitLab team members.\n\nRather, we'll be using a tool outside of the application to encourage team members to set their Organization to 'GitLab'.","state":"closed","created_at":"2020-05-14T22:23:32.356Z","updated_at":"2020-05-15T19:39:42.029Z","closed_at":"2020-05-15T19:39:41.999Z","closed_by":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"labels":["backend","backstage [DEPRECATED]","devops::manage","frontend","group::authentication and authorization","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"}],"author":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"type":"ISSUE","assignee":{"id":4014344,"username":"aishbuilds","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4014344/avatar.png","web_url":"https://gitlab.com/aishbuilds"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217876","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217876","notes":"https://gitlab.com/api/v4/projects/278964/issues/217876/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217876/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217876","relative":"#217876","full":"gitlab-org/gitlab#217876"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34580110,"iid":217872,"project_id":278964,"title":"Audit event logging for DAST config changes","description":"\u003c!--¬†The¬†first¬†four¬†sections:¬†\"Problem¬†to¬†solve\",¬†\"Intended¬†users\", \"User experience goal\",¬†and¬†\"Proposal\",¬†are¬†strongly¬†recommended,¬†while¬†the¬†rest¬†of¬†the¬†sections¬†can¬†be¬†filled¬†out¬†during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution.¬†--\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try¬†to¬†define¬†the¬†who/what/why¬†of¬†the¬†opportunity¬†as¬†a¬†user¬†story.¬†For¬†example,¬†\"As¬†a¬†(who),¬†I¬†want¬†(what),¬†so¬†I¬†can¬†(why/value).\" --\u003e\nAs the person responsible for the security scanning of my websites, I want to know when changes have been made to the DAST scan and site configs, so that I can know who made what changes.\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n--\u003e\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e \n\nThe user should be able to go to the \"Security \u0026 Compliance\" =\u003e \"Audit Events\" section of their project and see anything that has been logged there, specifically, any changes to the DAST config profiles.\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\nThe events that should be logged are:\n- Creation of a new Scanner or Site profile\n  - The \"Action\" should state that a new [Scanner/Site] profile was created\n  - The \"Target\" should state the name of the new profile\n- Deletion of a Scanner or Site profile\n  - The \"Action\" should state that a [Scanner/Site] profile was deleted\n  - The \"Target\" should state the name of the deleted profile\n- Editing of a Scanner or Site profile\n  - The \"Action\" should state that a [Scanner/Site] profile was edited\n    - (Stretch) The Action should state what fields were changed and what the new selected options are\n  - The \"Target\" should state the name of the edited profile\n- Creation of a saved on-demand DAST test\n  - The \"Action\" should state that a new on-demand DAST test was created\n  - The \"Target\" should state the name of the new test\n- Deletion of a saved on-demand DAST test\n  - The \"Action\" should state that an on-demand DAST test was deleted\n  - The \"Target\" should state the name of the deleted test\n- Editing of a saved on-demand DAST test\n  - The \"Action\" should state that an on-demand DAST test was edited\n    - (Stretch) The Action should state what was changed (profile/branch/name) and what the new value is\n  - The \"Target\" should state the name of the on-demand DAST test\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nMaintainer and owner roles should have access to see the audit events.\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n*  Update of the DAST docs to notify that all changes to the config profiles will be logged to the project Audit Event log.\n* Update of docs describing the Audit event log to include the new changes that will be logged there.\n\n### Execution\n\nUse `AuditEventService#security_event` to persist events for the `DastSiteProfile`, `DastScannerProfile`, and `Dast::Profile` models. This will involve adding a method for each of the objects to `AuditEventService` that can handle `:create`, `:update`, and `:destroy` events. The [AuditEventService#for_member](https://gitlab.com/gitlab-org/gitlab/-/blob/de86174681bbb0f89615616280caeab8a3971075/ee/app/services/ee/audit_event_service.rb#L13) method can serve as a guide on how to structure the new methods.\n\n[AuditEventService#for_changes](https://gitlab.com/gitlab-org/gitlab/-/blob/de86174681bbb0f89615616280caeab8a3971075/ee/app/services/ee/audit_event_service.rb#L104) might be worth using for the ~Stretch goal of including details on the changes made during `:update` events.\n\n- [x] Use `AuditEventService` to log uses of `DastScannerProfiles::CreateService`, `DastScannerProfiles::UpdateService`, and `DastScannerProfiles::DestroyService` using the parameters defined in the [Proposal](#proposal)\n- [ ] Use `AuditEventService` to log uses of `DastSiteProfiles::CreateService`, `DastSiteProfiles::UpdateService`, and `DastSiteProfiles::DestroyService` using the parameters defined in the [Proposal](#proposal)\n- [ ] Use `AuditEventService` to log uses of `Dast::Profiles::CreateService`, `Dast::Profiles::UpdateService`, and `Dast::Profiles::DestroyService` using the parameters defined in the [Proposal](#proposal)\n- [ ] Update the documentation as mentioned in [Documentation](#documentation)\n- [ ] ~Stretch create one audit event for each field changed on the object, and specify the details using `AuditEventService#for_changes` so that users can see exactly what changed\n- [x] ~Stretch ~\"technical debt\" if possible, move the changed DAST services into the `AppSec::Dast` namespace","state":"closed","created_at":"2020-05-14T22:16:02.871Z","updated_at":"2021-06-30T11:54:21.916Z","closed_at":"2021-06-30T11:54:21.873Z","closed_by":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"labels":["Category:Audit Events","Category:DAST","GitLab Ultimate","backend","devops::secure","direction","group::dynamic analysis","release post item","section::sec","secure:refinement-backend","type::feature"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":4985194,"username":"derekferguson","name":"Derek Ferguson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4985194/avatar.png","web_url":"https://gitlab.com/derekferguson"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217872","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":2},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217872","notes":"https://gitlab.com/api/v4/projects/278964/issues/217872/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217872/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217872","relative":"#217872","full":"gitlab-org/gitlab#217872"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3323,"epic":{"id":54112,"iid":3323,"title":"DAST: UI configuration","url":"/groups/gitlab-org/-/epics/3323","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":34579101,"iid":217864,"project_id":278964,"title":"Engineering Design - Secure - Composition Analysis - Metrics - Record count of all findings, with scanner","description":"### Problem to solve\n\nAs part of our metrics, we need to record the total count of identified findings/occurrences, I believe this is in the back end. This should be done for Dependency Scanning and Container Scanner.\n\nWe also need to record *what* scanner it's associated with.\n\nWork with telemetry @sid_reddy / @hilaqu on how to implement, we must implement and send to telemetry data store.\n\nTalk to @tmccaslin about also recording for SAST and Secret Detection if it's an easy add while we are already there.\n\nTalk to @derekferguson about also recording for DAST if it's an easy add while we are already there.\n\nWe should work closely with @matt_wilson to use the same scanner identifier as they do because we are combining metrics with theirs for our ratio.\n\n### Intended users\n\nInternal GitLab team-members, like Product Management and Engineering\n\n### Proposal\n\n### Further details\n\n### Permissions and Security\n\nWe will send to the telemetry system, they will handle permissions\n\n### Documentation\n\nWe MUST document what we are recording, using what terms, and where we are sending it, and why, we need to ask telemetry team where this should be recorded. This is so that in the future it is easy for us to figure out what metrics we have, how / when they are captured, where they are sent.\n\n### Availability \u0026 Testing\n\n\n### What does success look like, and how can we measure that?\n\nour metrics are available in the telemetry systems, we can make multiple dashboards (category, contributing data, stage), they can be aggregated across the stage into a north star metric.\n\n### Is this a cross-stage feature?\n\nyes\n\n### Links / references\n\nhttps://about.gitlab.com/direction/telemetry/#telemetry-guides","state":"closed","created_at":"2020-05-14T21:46:26.707Z","updated_at":"2022-04-14T22:38:07.663Z","closed_at":"2020-09-03T00:20:43.319Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Container Scanning","Category:DAST","Category:Dependency Scanning","Category:Fuzz Testing","Category:License Compliance","Category:SAST","Category:Secret Detection","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","backstage [DEPRECATED]","blocked","devops::secure","feature::addition","group::composition analysis","missed:13.1","product metrics","quad-planning::complete-no-action","section::sec","type::feature","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217864","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217864","notes":"https://gitlab.com/api/v4/projects/278964/issues/217864/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217864/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217864","relative":"#217864","full":"gitlab-org/gitlab#217864"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3291,"epic":{"id":53085,"iid":3291,"title":"Epic: Composition Analysis Utilization Metrics","url":"/groups/gitlab-org/-/epics/3291","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34578832,"iid":217863,"project_id":278964,"title":"Geo: Make RegistryConsistencyWorker create missing PackageFileRegistry records","description":"I mistakenly thought this would be a trivial step, but it's not, so it's worth breaking out of https://gitlab.com/gitlab-org/gitlab/-/issues/213872.\n\n- [x] Implement `find_registry_differences` for PackageFileRegistry\n- [x] Hook up RegistryConsistencyWorker with Package Files\n\nBe sure to abide by selective sync settings.","state":"closed","created_at":"2020-05-14T21:38:25.604Z","updated_at":"2020-06-20T14:06:17.593Z","closed_at":"2020-06-16T15:41:14.615Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","Deliverable","devops::systems","feature flag","group::geo","type::feature","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":4,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217863","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217863","notes":"https://gitlab.com/api/v4/projects/278964/issues/217863/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217863/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217863","relative":"#217863","full":"gitlab-org/gitlab#217863"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2346,"epic":{"id":16453,"iid":2346,"title":"Geo: Self Service Framework - First Implementation for Package File replication","url":"/groups/gitlab-org/-/epics/2346","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34577811,"iid":217858,"project_id":278964,"title":"Improve Productivity Analytics error when query takes too long to calculate","description":"### Summary\n\n[Productivity Analytics for gitlab-org](https://gitlab.com/groups/gitlab-org/-/analytics/productivity_analytics) shows a loading spinner for approximately 15 seconds, then shows a message: \"There is no data available. Please change your selection.\"  (No chart is displayed).  The async request for the data is returning a 500 (`https://gitlab.com/groups/gitlab-org/-/analytics/productivity_analytics?group_id=gitlab-org\u0026merged_after=2020-04-13T00:00:00Z\u0026merged_before=2020-05-14T23:59:59Z\u0026chart_type=histogram`).  This 500 response is associated with a [Sentry report for ActiveRecord::QueryCanceled](https://sentry.gitlab.net/gitlab/gitlabcom/issues/1529370).\n\n### Steps to reproduce\n\n1. Go to https://gitlab.com/groups/gitlab-org/-/analytics/productivity_analytics\n\nNote: This problem is intermittent, and may only occur when the production environment is under higher load.\n\n### What is the current *bug* behavior?\n\nSaying \"There is no data available\" when there is *too much* data to be queried performantly.\n\n### What is the expected *correct* behavior?\n\nA 500 error prompts a message about too much data.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2020-05-14_at_8.16.45_AM](/uploads/7120a8dd4cca81abeaf0a994f8943b9e/Screen_Shot_2020-05-14_at_8.16.45_AM.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com.\n\n### Proposal\n\n- Only if the request returns a 200 with an empty payload the displayed message is \"There is no data available. Please change your selection.\"\n- If the request returns a 500 the displayed message is \"There is too much data to calculate. Please change your selection.\" (Note: This assumes the 500 is due to a timeout, but it's a better assumption than existed before.)","state":"closed","created_at":"2020-05-14T21:24:23.717Z","updated_at":"2020-08-12T10:28:51.181Z","closed_at":"2020-08-12T10:28:50.942Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["bug::performance","devops::manage","estimation::completed","frontend","group::optimize","priority::2","type::feature","workflow::in review"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":13,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217858","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217858","notes":"https://gitlab.com/api/v4/projects/278964/issues/217858/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217858/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217858","relative":"#217858","full":"gitlab-org/gitlab#217858"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34575457,"iid":217851,"project_id":278964,"title":"BE: Allow group owners to remove users from the subscription","description":"This issue is a further iteration of [Create Dynamic \"Seats Currently in Use Members List\" for GitLab.com](https://gitlab.com/gitlab-org/gitlab/-/issues/27074) \n\n--------\n\n### Problem to solve\n\nWhen an employee leaves a company, it can be quite manual and tedious to remove their access from GitLab if the user is a member of several groups/subgroups/projects. \n\n### Target audience\n\nGroup owner\n\n### Proposal\n\nOn the list of users occupying seats in the subscription, add a button to completely remove the user from the subscription (all groups/subgroups/project).\n\n![Iteration2___Seat_usage_list](/uploads/6e1cfb7cafec0bdebb27106361c8b0af/Iteration2___Seat_usage_list.png)\n\n### Potential issues \n\nRemoving a user who is the only owner (or only member) of a project may cause the customer to lose access to that project. If we decide to offer this functionality, we should make sure that this is clearly communicated to the customer.","state":"closed","created_at":"2020-05-14T20:49:48.627Z","updated_at":"2021-04-03T08:51:03.868Z","closed_at":"2021-02-23T17:10:40.188Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Deliverable","Engineering","Support Priority","[deprecated] Category:Utilization","backend","customer","devops::fulfillment","gitlab.com","group::utilization","link::parent issue","section::fulfillment","type::feature","workflow::in dev"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217851","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217851","notes":"https://gitlab.com/api/v4/projects/278964/issues/217851/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217851/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217851","relative":"#217851","full":"gitlab-org/gitlab#217851"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4547,"epic":{"id":121875,"iid":4547,"title":"GitLab.com Billable Members List","url":"/groups/gitlab-org/-/epics/4547","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":34575070,"iid":217843,"project_id":278964,"title":"Adjust :snippets_edit_vue flag so it could be turned on for a specific group isntead of globally","description":"At the moment, the flag is asumed to be used globally. However, to assure safe testing of the form, we need to update the flag's usage to allow enabling it for a specific group","state":"closed","created_at":"2020-05-14T20:32:46.543Z","updated_at":"2020-05-14T21:43:07.090Z","closed_at":"2020-05-14T20:43:51.743Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Snippets","devops::create","feature flag","frontend","group::editor"],"milestone":null,"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217843","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217843","notes":"https://gitlab.com/api/v4/projects/278964/issues/217843/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217843/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217843","relative":"#217843","full":"gitlab-org/gitlab#217843"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34573894,"iid":217834,"project_id":278964,"title":"Remove FF ci_dependency_variables","description":"The following discussion from !30509 should be addressed:\n\n- [x] @furkanayhan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30509#note_342809198): \n    \u003e needs removal issue of this FF\n- [x] needs ~documentation update in `doc/ci/variables/README.md`\n- [x] add changelog\n    \u003e https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30509#note_343560490\n- [x] Remove FF from `gitlab.com`","state":"closed","created_at":"2020-05-14T19:45:15.996Z","updated_at":"2020-06-25T10:30:17.685Z","closed_at":"2020-06-25T10:30:17.645Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Continuous Integration","backend","backstage [DEPRECATED]","devops::verify","documentation","feature flag","group::pipeline execution","onboarding","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217834","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217834","notes":"https://gitlab.com/api/v4/projects/278964/issues/217834/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217834/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217834","relative":"#217834","full":"gitlab-org/gitlab#217834"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":34572748,"iid":217830,"project_id":278964,"title":"Insert Gitlab::CodeOwners::ValidationService into single editor commit create/update operations","description":"Use the extracted validation logic from https://gitlab.com/gitlab-org/gitlab/-/issues/217829 to determine if code owner rules would apply to the changeset, and if so reject the change.","state":"closed","created_at":"2020-05-14T19:01:58.047Z","updated_at":"2020-07-06T11:14:07.401Z","closed_at":"2020-05-26T00:53:52.011Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Code Owners","auto updated","backend","devops::create","group::source code"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217830","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217830","notes":"https://gitlab.com/api/v4/projects/278964/issues/217830/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217830/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217830","relative":"#217830","full":"gitlab-org/gitlab#217830"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3320,"epic":{"id":54078,"iid":3320,"title":"Extract CODEOWNER validations for simpler application","url":"/groups/gitlab-org/-/epics/3320","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34572732,"iid":217829,"project_id":278964,"title":"Extract the code owner validation logic from DiffCheck","description":"Extract the logic found in `Gitlab::Checks::DiffCheck#validate_code_owners` into a more generic, reusable class (`Gitlab::CodeOwners::ValidationService`)","state":"closed","created_at":"2020-05-14T19:01:19.779Z","updated_at":"2020-05-16T04:17:52.190Z","closed_at":"2020-05-15T16:06:45.194Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Code Owners","backend","backstage [DEPRECATED]","group::source code"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217829","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217829","notes":"https://gitlab.com/api/v4/projects/278964/issues/217829/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217829/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217829","relative":"#217829","full":"gitlab-org/gitlab#217829"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3320,"epic":{"id":54078,"iid":3320,"title":"Extract CODEOWNER validations for simpler application","url":"/groups/gitlab-org/-/epics/3320","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34567534,"iid":217816,"project_id":278964,"title":"Add Evidence to Releases GraphQL endpoint","description":"The following discussion from !30975 should be addressed:\n\n- [ ] @dosuken123 started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30975#note_342237943):  (+4 comments)\n\n    \u003e Looking at https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/graphql/types/release_type.rb#L22, @nfriend added GraphQL support for Release entries and it include `evidence_sha`. It seems there is an inconsistency between Rest V4 API (w/o `evidence_sha`) and GraphQL (w/ `evidence_sha`). Would you mind explaining why `evidence_sha` is needed in GraphQL?","state":"closed","created_at":"2020-05-14T17:10:20.995Z","updated_at":"2020-06-26T12:19:43.969Z","closed_at":"2020-06-26T07:43:20.377Z","closed_by":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"labels":["Category:Release Evidence","backend-weight::2","backstage [DEPRECATED]","breaking change","cicd::active","devops::release","maintenance::refactor","missed:13.1","workflow::staging"],"milestone":null,"assignees":[],"author":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217816","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217816","notes":"https://gitlab.com/api/v4/projects/278964/issues/217816/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217816/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217816","relative":"#217816","full":"gitlab-org/gitlab#217816"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34567319,"iid":217814,"project_id":278964,"title":"Follow-up from \"Implement download feature for daily code coverage\"","description":"The following discussions from !27094 should be addressed:\n\n- [ ] @ayufan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27094#note_341186519):  (+1 comment)\n\n    \u003e Is this good permission to use? Are there permissions related to CI that should be used instead?\n    \u003e \n    \u003e I see that we use `download_code` for `Graphs` today. Maybe this is suggestion to future to have a correct permission: `read_build_report_results`?\n\n- [ ] @ayufan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27094#note_342734135): \n\n    \u003e This seems to miss `project`.\n\n- [ ] @ayufan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27094#note_342735184): \n\n    \u003e @iamricecake Small hint, such methods can be defined at end to reduce effort required to scroll. This way we make at top what is important: how test is configured and executed, and at bottom a boilerplate :)","state":"closed","created_at":"2020-05-14T17:03:07.090Z","updated_at":"2020-06-17T16:49:22.931Z","closed_at":"2020-06-17T16:49:22.880Z","closed_by":{"id":4061070,"username":"rickywiens","name":"Ricky Wiens","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4061070/avatar.png","web_url":"https://gitlab.com/rickywiens"},"labels":["Category:Code Testing and Coverage","Technical Writing","backend","database","database::approved","devops::verify","docs::feature","documentation","frontend","group::pipeline insights","missed:12.10","missed:13.0","type::feature","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzci≈Ñski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217814","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217814","notes":"https://gitlab.com/api/v4/projects/278964/issues/217814/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217814/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217814","relative":"#217814","full":"gitlab-org/gitlab#217814"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":34566532,"iid":217813,"project_id":278964,"title":"Follow-up from \"Add endpoint for serialized DAG pipeline\"","description":"The following discussion from !31324 should be addressed:\n\n- [ ] @ayufan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31324#note_341233440):  (+4 comments)\n\n    \u003e How is the `scheduling_type_stage` handled?\n\n```\n@fabiopitino \n\nNo. I mean \"present\" as JSON attribute being exposed. We are exposing needs (as array) if the scheduling type is dag. If the scheduling type is stage we don't expose needs at all, meaning the JSON won't have any needs attribute.\n\n\nneeds not exposed --\u003e stage scheduled job\n\nneeds: [] --\u003e DAG scheduled with empty needs. Runs immediately\n\nneeds: [something] --\u003e DAG scheduled with needs.\n```\n\n```\n@ayufan\n\nI don't really like that absence of something indicates stage given that we moved from that design. I can live with that for now, but I would like us to be more explicit :)\nWe for exactly the same reason introduced scheduling_type as for exactly the same reason we had an absence of something to indicate, which created a problem handling one of the cases.\n```","state":"closed","created_at":"2020-05-14T16:40:51.676Z","updated_at":"2020-08-07T13:09:00.861Z","closed_at":"2020-05-21T05:22:23.176Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["backend","backstage [DEPRECATED]","devops::verify","group::pipeline execution","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzci≈Ñski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217813","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217813","notes":"https://gitlab.com/api/v4/projects/278964/issues/217813/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217813/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217813","relative":"#217813","full":"gitlab-org/gitlab#217813"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34566222,"iid":217811,"project_id":278964,"title":"Cache vulnerability counts by day and severity information daily","description":"# Summary and context\n\nThe [query](https://gitlab.com/gitlab-org/gitlab/-/blob/935b1b6d046b62286cbb87970a147bf33841ae70/ee/app/models/vulnerability.rb#L70) for vulnerability counts grouped by day and severity is heavy. The database team has requested that it be cached.\n\nData is fetched in 10 day chunks, and used on both the group and instance security dashboards.\n\n## Caching on the old findings dashboard\n\nHistorical vulnerability data was also cached on the old findings dashboard. That code can be seen:\n\n* [Gitlab::Vulnerabilities::History](https://gitlab.com/gitlab-org/gitlab/-/blob/b9471e574f8d1d7dc93790e6a5b709ebaa4e3fb3/ee/lib/gitlab/vulnerabilities/history.rb)\n* [Gitlab::Vulnerabilities::HistoryCache](https://gitlab.com/gitlab-org/gitlab/-/blob/b9471e574f8d1d7dc93790e6a5b709ebaa4e3fb3/ee/lib/gitlab/vulnerabilities/history_cache.rb)\n\nIn this implementation, history is cached per project.\n\n# Technical details\n\n1. Redis can be used for caching the data\n2. The cache must be busted daily to make sure the data is always up to date\n3. A decision needs to be made around the cache key\n\n## Possible cache key\n\nCache the data in 10 day chunks for each project. A full response for 30, 60, or 90 days can be built from the 10 day chunks. A full response for both group and instance dashboard can be built from the different projects.\n\nAn advantage of this cache key is the ability to reuse a project cache for both a group and several instance dashboards.\n\nA disadvantage is that it may require additional changes to the `VulnerabilitiesHistoryResolver`, and those changes must avoid introducing additional queries","state":"closed","created_at":"2020-05-14T16:32:35.775Z","updated_at":"2020-09-22T04:36:54.568Z","closed_at":"2020-09-22T04:36:54.524Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["Category:Vulnerability Management","Deliverable","backend","backend-weight::3","backstage [DEPRECATED]","devops::secure","group::threat insights","section::sec","security dashboard","vulnerability interaction","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217811","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217811","notes":"https://gitlab.com/api/v4/projects/278964/issues/217811/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217811/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217811","relative":"#217811","full":"gitlab-org/gitlab#217811"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34565541,"iid":217809,"project_id":278964,"title":"[BE/FE] Remove feature flag `snippet_multiple_files`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:snippet_multiple_files` feature flag ...\n\n## Owners\n\n- Team: Editor Team\n- Most appropriate slack channel to reach out to: `#g_editor`\n- Best individual to reach out to: @fjsanpedro\n\n## Expectations\n\n###¬†What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Enable on staging\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour\n- [x] Coordinate a time to enable the flag with `#production` and `#g_delivery` on slack.\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production`\n- [x] Cross post chatops slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n### Availability and Testing\n\nPlease run `package-and-qa` in MR that removes feature flag. The tests that enable ff will need to be updated.","state":"closed","created_at":"2020-05-14T16:18:41.748Z","updated_at":"2020-10-08T06:08:24.605Z","closed_at":"2020-10-08T06:08:24.544Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","backend","devops::create","feature flag","frontend","group::editor","quad-planning::complete-action","section::dev"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217809","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":10},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217809","notes":"https://gitlab.com/api/v4/projects/278964/issues/217809/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217809/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217809","relative":"#217809","full":"gitlab-org/gitlab#217809"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34565500,"iid":217808,"project_id":278964,"title":"[StepN+1|BE] Update REST API docs","description":"Once we remove the feature flag `snippet_multiple_files` we need to update the REST API docs to include the new params added.","state":"closed","created_at":"2020-05-14T16:17:25.289Z","updated_at":"2020-10-23T09:44:55.202Z","closed_at":"2020-10-23T09:44:54.767Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Snippets","backend","devops::create","group::editor","missed:13.5","quad-planning::complete-no-action","section::dev","workflow::production"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217808","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217808","notes":"https://gitlab.com/api/v4/projects/278964/issues/217808/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217808/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217808","relative":"#217808","full":"gitlab-org/gitlab#217808"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34565431,"iid":217807,"project_id":278964,"title":"[Step2|BE] Update Snippet Entity to return multiple files","description":"**Important:** All the new functionality must be implemented behind the feature flag `:snippet_multiple_files`. Besides, it has to be scoped for users. Therefore, instead of checking if the feature flag is enabled or not (`Feature.enabled?(:snippet_multiple_files)`), we will check if the feature flag is enabled for specific users (`Feature.enabled?(:snippet_multiple_files, user)`).\n\nWhen the new feature flag is enabled we need to make some changes to the [snippet Grape entity](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/api/entities/snippet.rb).\n\nWhen the feature flag is enabled, we will add new argument to the `Snippet` entity called `files`. This argument will return all the snippet files inside the snippet. ~~Besides, we will remove as well the fields `file_name` and `raw_url` from the `Snippet` entity.~~\n\nFor each file within the Snippet repository, this new field will return:\n- `path` \n- `raw_url`\n\nOnce the `:snippet_multiple_files` feature flag is removed, we will look to remove `file_name` and potentially `raw_url`, but at the moment we are keeping them to maintain backwards compatibility.","state":"closed","created_at":"2020-05-14T16:15:31.971Z","updated_at":"2020-07-18T07:06:16.181Z","closed_at":"2020-07-06T07:17:09.159Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Snippets","Deliverable","api","backend","backend-weight::1","devops::create","documentation","group::editor","quad-planning::complete-no-action","type::feature","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217807","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217807","notes":"https://gitlab.com/api/v4/projects/278964/issues/217807/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217807/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217807","relative":"#217807","full":"gitlab-org/gitlab#217807"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":34564217,"iid":217802,"project_id":278964,"title":"[BE] Remove file_name and content from snippet GraphQL","description":"Once FE is using the new `files` array in mutations https://gitlab.com/gitlab-org/gitlab/-/issues/217801, we can remove the fields `file_name` and `content` in the create/update snippet mutations since they are no longer be used.\n\nIn both mutations, we need to turn the `required` option in the `files` param from `false` to `true` in order to make it mandatory.","state":"closed","created_at":"2020-05-14T15:41:58.735Z","updated_at":"2020-09-18T07:06:43.967Z","closed_at":"2020-09-01T05:27:37.684Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Deliverable","backend","devops::create","group::editor"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217802","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217802","notes":"https://gitlab.com/api/v4/projects/278964/issues/217802/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217802/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217802","relative":"#217802","full":"gitlab-org/gitlab#217802"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34563708,"iid":217801,"project_id":278964,"title":"[FE] Allow to add/remove snippet files in the edit view","description":"After adding the new `files` type in the snippet create/update mutations in https://gitlab.com/gitlab-org/gitlab/-/issues/217795 and https://gitlab.com/gitlab-org/gitlab/-/issues/217799 we need to update VUE to use this new type.\n\nOne important thing about this new type, is that in every update operation, each snippet blob has to have a `previous_path` that will store the path that has in the repository. The field `file_name` will be the new path. Most of the times, these paths will be the same, but it won't if the user wants to, for example, rename the file.\n\nWe need to remove the reference to `content` and `file_name` from the request to the snippet mutations.\n\nBesides, we need to use the action definition implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/218516 (it's the same one the web IDE uses).\n\nAfter adding, users should also be able to remove snippets again\n\n- [ ] Make sure Editor Lite can run multiple instances on the same page\n- [ ] Allow to dynamically add Files to the mutation\n- [ ] Allow to remove Snippets from the list\n\n### Availability and Testing\n\nPlease include a SET counterpart in MR review","state":"closed","created_at":"2020-05-14T15:38:19.723Z","updated_at":"2020-09-07T22:05:27.253Z","closed_at":"2020-09-07T22:05:27.169Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Category:Snippets","Deliverable","devops::create","frontend","group::editor","quad-planning::complete-action","section::dev","workflow::verification"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217801","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217801","notes":"https://gitlab.com/api/v4/projects/278964/issues/217801/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217801/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217801","relative":"#217801","full":"gitlab-org/gitlab#217801"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34563381,"iid":217799,"project_id":278964,"title":"[Step2|BE] Add new blob type input in snippet update mutation","description":"After adding the new blob type in https://gitlab.com/gitlab-org/gitlab/-/issues/217789, we need to include it in the snippet create mutation https://gitlab.com/gitlab-org/gitlab/blob/master/app/graphql/mutations/snippets/update.rb.\n\nTherefore, once we add this field we can create the snippet blob, by using `file_name` and `content` or the new type.\n\nThe new type definition in the mutation will be something like:\n\n```ruby\nargument :files, [Types::Snippets::BlobInputType], \n                 description: \"The snippet blobs to create\"\n                 required: true\n```\n\nWhen we pass the `files` attribute to the `Snippets::UpdateService` we need to ensure that we translate it to `snippet_files`, because the `files` attribute is used for different things in the service.","state":"closed","created_at":"2020-05-14T15:30:14.590Z","updated_at":"2020-07-18T07:06:16.223Z","closed_at":"2020-06-19T07:38:20.098Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Deliverable","backend","devops::create","group::editor"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217799","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217799","notes":"https://gitlab.com/api/v4/projects/278964/issues/217799/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217799/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217799","relative":"#217799","full":"gitlab-org/gitlab#217799"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":34563375,"iid":217798,"project_id":278964,"title":"Add tests for Vulnerabilities::FindingSerializer","description":"There are not dedicated tests for `Vulnerabilities::FindingSerializer`. Some specs need to be written for this class.\n\n## Implementation plan\n\n- [x] ~backend add spec to verify `Vulnerabilities::FindingSerializer#represent` behavior (you can take a look at `PipelineSerializer` spec file to see what is usually tested)","state":"closed","created_at":"2020-05-14T15:30:05.953Z","updated_at":"2020-09-03T02:09:35.898Z","closed_at":"2020-09-02T19:24:06.964Z","closed_by":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"labels":["Category:Vulnerability Management","backend","backstage [DEPRECATED]","devops::secure","good for new contributors","group::threat insights","maintenance::refactor","section::sec","type::maintenance","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":6651670,"username":"jzeng88","name":"Justin Zeng","state":"active","avatar_url":"https://secure.gravatar.com/avatar/60ec8c1378094f2208c0253cfb95b838?s=80\u0026d=identicon","web_url":"https://gitlab.com/jzeng88"}],"author":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"type":"ISSUE","assignee":{"id":6651670,"username":"jzeng88","name":"Justin Zeng","state":"active","avatar_url":"https://secure.gravatar.com/avatar/60ec8c1378094f2208c0253cfb95b838?s=80\u0026d=identicon","web_url":"https://gitlab.com/jzeng88"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217798","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217798","notes":"https://gitlab.com/api/v4/projects/278964/issues/217798/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217798/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217798","relative":"#217798","full":"gitlab-org/gitlab#217798"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34563229,"iid":217795,"project_id":278964,"title":"[Step2|BE] Add new blob type input in snippet create mutation","description":"After adding the new blob type in https://gitlab.com/gitlab-org/gitlab/-/issues/217789, we need to include it in the snippet create mutation https://gitlab.com/gitlab-org/gitlab/blob/master/app/graphql/mutations/snippets/create.rb.\n\nTherefore, once we add this field we can create the snippet blob, by using `file_name` and `content` or the new type.\n\nThe new type definition in the mutation will be something like:\n\n```ruby\nargument :files, [Types::Snippets::BlobInputType], \n                 description: \"The snippet blobs to create\"\n                 required: true\n```\n\nWhen we pass the `files` attribute to the `Snippets::CreateService` we need to ensure that we translate it to `snippet_files`, because the `files` attribute is used for different things in the service.","state":"closed","created_at":"2020-05-14T15:25:35.317Z","updated_at":"2020-07-18T07:06:16.261Z","closed_at":"2020-06-19T07:38:22.316Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Deliverable","backend","devops::create","group::editor"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217795","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217795","notes":"https://gitlab.com/api/v4/projects/278964/issues/217795/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217795/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217795","relative":"#217795","full":"gitlab-org/gitlab#217795"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":34562860,"iid":217790,"project_id":278964,"title":"Add status, start_time, end_time to SAST, CS, DS reports","description":"### Problem to solve\n\nSAST, Container Scanning, and Dependency Scanning analyzers don't the n ew JSON fields introduced in https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/merge_requests/13: they don't report their status and execution time.\n\n### Intended users\n\n### Proposal\n\nAdd `scan.status`, `scan.start_time`, `scan.end_time` to the JSON security reports generated by SAST, Container Scanning, and Dependency Scanning [analyzers](https://gitlab.com/gitlab-org/security-products/analyzers).\n\nDepending on how the analyzer project is implemented, the change has to be implemented in the [command](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/v2.9.1/command) package of the [common library](https://gitlab.com/gitlab-org/security-products/analyzers/common) or in the analyzer project itself. Currently the following analyzer projects don't use the [command](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/v2.9.1/command) package: [nodejs-scan](https://gitlab.com/gitlab-org/security-products/analyzers/nodejs-scan), [secrets](https://gitlab.com/gitlab-org/security-products/analyzers/secrets), [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium), and [klar](https://gitlab.com/gitlab-org/security-products/analyzers/klar).\n\n### Implementation plan\n\n- [x] Add `status`, `start_time`, `end_time` as field of the `Scan` struct of the [common/issue](https://gitlab.com/gitlab-org/security-products/analyzers/common/-/blob/v2.9.1/issue) package, to be introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/202053.\n- [x] Update the `run` command so that it keeps track of start time and end time, and add these information to the generated report.\n- [x] Upgrade the `common` dependency in analyzer projects depending on `common/command`, and release versions.\n   - [x] SAST\n      - [x] [security-code-scan](https://gitlab.com/gitlab-org/security-products/analyzers/security-code-scan)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/security-code-scan/-/merge_requests/46\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/security-code-scan/-/releases/v2.11.0\n      - [x] [flawfinder](https://gitlab.com/gitlab-org/security-products/analyzers/flawfinder/-/merge_requests/29)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/flawfinder/-/merge_requests/35\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/flawfinder/-/releases/v2.10.0\n      - [x] [brakeman](https://gitlab.com/gitlab-org/security-products/analyzers/brakeman)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/brakeman/-/merge_requests/39\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/brakeman/-/releases/v2.8.0\n      - [x] [eslint](https://gitlab.com/gitlab-org/security-products/analyzers/eslint)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/eslint/-/merge_requests/46\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/eslint/-/releases/v2.8.0\n      - [x] [spotbugs](https://gitlab.com/gitlab-org/security-products/analyzers/spotbugs)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/spotbugs/-/merge_requests/59\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/spotbugs/-/releases/v2.11.0\n      - [x] [gosec](https://gitlab.com/gitlab-org/security-products/analyzers/gosec)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gosec/-/merge_requests/62\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gosec/-/releases/v2.12.0\n      - [x] [bandit](https://gitlab.com/gitlab-org/security-products/analyzers/bandit)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/bandit/-/merge_requests/46\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/bandit/-/releases/v2.9.0\n      - [x] [phpcs-security-audit](https://gitlab.com/gitlab-org/security-products/analyzers/phpcs-security-audit)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/phpcs-security-audit/-/merge_requests/37\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/phpcs-security-audit/-/releases/v2.8.0\n      - [x] [sobelow](https://gitlab.com/gitlab-org/security-products/analyzers/sobelow)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/sobelow/-/merge_requests/35\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/sobelow/-/releases/v2.7.0\n      - [x] [pmd-apex](https://gitlab.com/gitlab-org/security-products/analyzers/pmd-apex)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/pmd-apex/-/merge_requests/37\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/pmd-apex/-/releases/v2.6.0\n      - [x] [kubesec](https://gitlab.com/gitlab-org/security-products/analyzers/kubesec)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/kubesec/-/merge_requests/30\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/kubesec/-/releases/v2.7.0\n   - [x] Dependency Scanning\n      - [x] [bundler-audit](https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit)\n         - [x] analyzer\n            - [x] https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit/-/merge_requests/50\n            - [x] https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit/-/releases/v2.9.0\n         - [x] tests\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/ruby-bundler/-/merge_requests/1243\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/ruby-bundler/-/merge_requests/1244\n      - [x] [retire.js](https://gitlab.com/gitlab-org/security-products/analyzers/retire.js)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/retire.js/-/merge_requests/44\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/retire.js/-/releases/v2.9.0\n      - [x] [gemnasium-python](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python)\n         - [x] analyzer\n            - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/merge_requests/63\n            - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/releases/v2.15.0\n         - [x] tests\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/python-pipenv/-/merge_requests/47\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/python-pip/-/merge_requests/114\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/python-pip/-/merge_requests/115\n      - [x] [gemnasium-maven](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven)\n         - [x] analyzer\n            - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/merge_requests/66\n            - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/releases/v2.18.0\n         - [x] tests\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-maven-multimodules/-/merge_requests/66\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/scala-sbt/-/merge_requests/31\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/scala-sbt/-/merge_requests/32\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/scala-sbt/-/merge_requests/33\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-gradle-multimodules/-/merge_requests/16\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-gradle-kotlin-dsl/-/merge_requests/5\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-maven/-/merge_requests/101\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-maven/-/merge_requests/102\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-maven/-/merge_requests/103\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-maven/-/merge_requests/104\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-maven/-/merge_requests/105\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-gradle/-/merge_requests/45\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-gradle/-/merge_requests/46\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-gradle/-/merge_requests/47\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-gradle/-/merge_requests/49\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/java-gradle/-/merge_requests/48\n- [x] Upgrade projects that don't depend on `common/command`, add `status`, `start_time`, and `end_time`.\n   - [x] SAST\n      - [x] [secrets](https://gitlab.com/gitlab-org/security-products/analyzers/secrets)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/secrets/-/merge_requests/70\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/secrets/-/releases/v3.9.0\n      - [x] [nodejs-scan](https://gitlab.com/gitlab-org/security-products/analyzers/nodejs-scan)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/nodejs-scan/-/merge_requests/70\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/nodejs-scan/-/releases/2.9.0\n   - [x] Dependency Scanning\n      - [x] [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium)\n         - [x] analyzer\n            - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/99\n            - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/releases/v2.17.0\n         - [x] tests\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/c-conan/-/merge_requests/7\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/js-yarn/-/merge_requests/68\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/js-npm/-/merge_requests/13554\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/csharp-nuget-dotnetcore/-/merge_requests/23\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/php-composer/-/merge_requests/47\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/go-modules/-/merge_requests/52\n            - [x] https://gitlab.com/gitlab-org/security-products/tests/ruby-bundler/-/merge_requests/1242\n   - [x] Container Scanning\n      - [x] [klar](https://gitlab.com/gitlab-org/security-products/analyzers/klar)\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/klar/-/merge_requests/60\n         - [x] https://gitlab.com/gitlab-org/security-products/analyzers/klar/-/releases/v2.6.0\n\n### Further details\n\n### Permissions and Security\n\nN/A\n\n### Documentation\n\n`scan.status`, `scan.start_time`, and `scan.end_time` are already documented in the [JSON schemas](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/merge_requests/13).\n\n### Availability \u0026 Testing\n\nTo be tested as part of QA, when comparing generated reports with expected ones.\n\n### What does success look like, and how can we measure that?\n\nAll aforementioned analyzers generate these extra fields in their reports.\n\n### What is the type of buyer?\n\n~\"GitLab Ultimate\"\n\n### Is this a cross-stage feature?\n\nYes, and this issue covers all analyzer projects except DAST.\n\n### Links / references","state":"closed","created_at":"2020-05-14T15:16:06.616Z","updated_at":"2020-09-15T15:38:05.557Z","closed_at":"2020-09-09T08:01:55.062Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Container Scanning","Category:Dependency Scanning","Category:SAST","Enterprise Edition","GitLab Ultimate","Stretch","backend","devops::secure","group::composition analysis","quad-planning::complete-action","section::sec","security reports integration","type::feature","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":5,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217790","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":102,"completed_count":102},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"102 of 102 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217790","notes":"https://gitlab.com/api/v4/projects/278964/issues/217790/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217790/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217790","relative":"#217790","full":"gitlab-org/gitlab#217790"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3140,"epic":{"id":44553,"iid":3140,"title":"Add a \"scan\" object to the Security Reports","url":"/groups/gitlab-org/-/epics/3140","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34562383,"iid":217789,"project_id":278964,"title":"[Step1|BE] Add new snippet file input type to GraphQL","description":"When we allow multiple files in snippets, we need to pass an array of files to both the creation and update mutations in GraphQL. For that matter, we need to create a new type that we can include in those mutations. We can call it `FileInputType` and stored inside the `snippets` directory in GraphQL. An example of this kind of class would be [`DiffImagePositionInputType`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/graphql/types/notes/diff_image_position_input_type.rb)\n\nThat new type will have the following string fields:\n\n- action (the possible actions are `create`, `update`, `move`, and `delete`)\n- previous_path\n- file_path (can't be `blank`)\n- content","state":"closed","created_at":"2020-05-14T15:07:04.385Z","updated_at":"2020-06-17T09:53:22.340Z","closed_at":"2020-06-17T09:53:22.289Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Stretch","backend","devops::create","group::editor"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217789","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217789","notes":"https://gitlab.com/api/v4/projects/278964/issues/217789/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217789/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217789","relative":"#217789","full":"gitlab-org/gitlab#217789"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34561856,"iid":217787,"project_id":278964,"title":"[BE] Remove `blob` field in snippet GraphQL","description":"After implementing https://gitlab.com/gitlab-org/gitlab/-/issues/217786, we can safely remove the `blob` attribute in the GraphQL definition and also from the `SnippetsPresenter`.","state":"closed","created_at":"2020-05-14T14:53:04.458Z","updated_at":"2020-08-28T15:34:06.305Z","closed_at":"2020-08-11T13:47:03.456Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Snippets","Stretch","backend","devops::create","group::editor","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217787","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217787","notes":"https://gitlab.com/api/v4/projects/278964/issues/217787/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217787/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217787","relative":"#217787","full":"gitlab-org/gitlab#217787"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34561698,"iid":217786,"project_id":278964,"title":"[Step2|FE] Use snippet `blobs` field instead of `blob` from GraphQL","description":"Support rendering `blobs` if available otherwise default to `blob`\n\n\n### Original Post\n\nOnce we implement https://gitlab.com/gitlab-org/gitlab/-/issues/217784, we can update the VUE code and use the new `blobs` field from GraphQL.\n\nI assume we can get it safely and rendering all the snippet blobs in a loop inside VUE.\n\nIf it is more than that and, for the sake of iteration, after the request to GraphQL we can get the first blob returned in the array.\n\n## Actions plan\n\n* [x] As the first step towards iterative approach, and considering the actual lack of support for multiple files at the moment, we fall back to `We do not show \"Edit\" button if at least one blob is binary` option. [Implemented in #35605](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/35605)\n* [x] We create a ~frontend [Issue to prevent editing binary files and sending those in mutations](https://gitlab.com/gitlab-org/gitlab/-/issues/225881).\n* [x] We create a ~frontend [Issue to switch to `We always show \"Edit\" button` option preserving the editing restrictions from the previous step](https://gitlab.com/gitlab-org/gitlab/-/issues/225884)","state":"closed","created_at":"2020-05-14T14:49:58.106Z","updated_at":"2020-07-18T07:06:16.295Z","closed_at":"2020-07-16T19:08:05.181Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Snippets","Deliverable","devops::create","frontend","group::editor"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217786","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217786","notes":"https://gitlab.com/api/v4/projects/278964/issues/217786/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217786/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217786","relative":"#217786","full":"gitlab-org/gitlab#217786"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34561506,"iid":217784,"project_id":278964,"title":"[Step1|BE] Add field blobs to GraphQL","description":"Now that we're going to have multiple files, when we access the GraphQL endpoint, instead of one, it will return several blobs. It will be a matter of adding to https://gitlab.com/gitlab-org/gitlab/blob/master/app/graphql/types/snippet_type.rb the following:\n\n```ruby\nfield :blobs, type: [Types::Snippets::BlobType],\n             description: 'Snippet blobs',\n             calls_gitaly: true,\n             null: false\n```\n\nThen in the snippet presenter https://gitlab.com/gitlab-org/gitlab/blob/master/app/presenters/snippet_presenter.rb we have to add a `blobs` method:\n\n```ruby\ndef blob\n  blobs.first\nend\n\ndef blobs\n  if snippet.empty_repo?\n    [snippet.blob]\n  else\n    snippet.blobs\n  end\nend\n```\n\nThis way we don't break the existing logic in the GraphQL endpoint and allow it returns just one blob in the `blob` attribute.","state":"closed","created_at":"2020-05-14T14:47:26.056Z","updated_at":"2020-06-18T07:07:01.744Z","closed_at":"2020-06-15T14:19:23.713Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Deliverable","backend","devops::create","group::editor","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217784","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217784","notes":"https://gitlab.com/api/v4/projects/278964/issues/217784/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217784/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217784","relative":"#217784","full":"gitlab-org/gitlab#217784"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34560401,"iid":217783,"project_id":278964,"title":"[Step2|BE] Change `raw_path` in SnippetBlobPresenter","description":"**Important:** All the new functionality must be implemented behind the feature flag `:snippet_multiple_files`. Besides, it has to be scoped for users. Therefore, instead of checking if the feature flag is enabled or not (`Feature.enabled?(:snippet_multiple_files)`), we will check if the feature flag is enabled for specific users (`Feature.enabled?(:snippet_multiple_files, user)`).\n\nAfter implementing https://gitlab.com/gitlab-org/gitlab/-/issues/217775, the blob `raw_path` returned in GraphQL is no longer valid because it points to the snippet global raw path instead of the blob one.\n\nWe have to update the [`raw_path` method](https://gitlab.com/gitlab-org/gitlab/blob/master/app/presenters/snippet_blob_presenter.rb#L17) in the `SnippetBlobPresenter` and update the route when the feature flag is enabled.","state":"closed","created_at":"2020-05-14T14:30:53.011Z","updated_at":"2020-07-18T07:06:16.331Z","closed_at":"2020-07-08T09:18:27.554Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Snippets","Deliverable","backend","devops::create","group::editor","quad-planning::complete-no-action","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217783","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217783","notes":"https://gitlab.com/api/v4/projects/278964/issues/217783/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217783/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217783","relative":"#217783","full":"gitlab-org/gitlab#217783"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34560287,"iid":217782,"project_id":278964,"title":"Refactor the project audit events to use the audit events shared template","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/3319 we need to take the shared template created in https://gitlab.com/gitlab-org/gitlab/-/issues/217779 and update the project audit events to use this template.\n\nWe should disable the group and project level filtered searches on this template.","state":"closed","created_at":"2020-05-14T14:28:02.931Z","updated_at":"2020-09-15T22:03:25.523Z","closed_at":"2020-07-09T06:38:16.747Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Audit Events","Deliverable","Enterprise Edition","[deprecated] Accepting merge requests","devops::manage","estimation::completed","frontend","group::compliance","missed-deliverable","missed:13.1","priority::4","workflow::staging"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217782","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217782","notes":"https://gitlab.com/api/v4/projects/278964/issues/217782/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217782/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217782","relative":"#217782","full":"gitlab-org/gitlab#217782"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3319,"epic":{"id":53935,"iid":3319,"title":"Combine Admin Audit Event, Group and Project Audit Logs templates into one unified template","url":"/groups/gitlab-org/-/epics/3319","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34560257,"iid":217781,"project_id":278964,"title":"Refactor the group audit events to use the audit events shared template","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/3319 we need to take the shared template created in https://gitlab.com/gitlab-org/gitlab/-/issues/217779 and update the group audit events to use this template.\n\nWe should disable the group and project level filtered search on this template.","state":"closed","created_at":"2020-05-14T14:27:33.881Z","updated_at":"2020-09-15T22:03:25.490Z","closed_at":"2020-06-23T07:25:57.807Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Audit Events","Deliverable","Enterprise Edition","devops::manage","estimation::completed","frontend","group::compliance","missed-deliverable","missed:13.1","priority::4","workflow::staging"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217781","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217781","notes":"https://gitlab.com/api/v4/projects/278964/issues/217781/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217781/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217781","relative":"#217781","full":"gitlab-org/gitlab#217781"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3319,"epic":{"id":53935,"iid":3319,"title":"Combine Admin Audit Event, Group and Project Audit Logs templates into one unified template","url":"/groups/gitlab-org/-/epics/3319","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34560223,"iid":217779,"project_id":278964,"title":"Move the admin audit events template into a shared template","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/3319 we need to move the existing admin audit events template HAML and JS to a shared location. This should then be used in the admin audit events template instead.","state":"closed","created_at":"2020-05-14T14:26:48.372Z","updated_at":"2022-03-28T19:24:04.743Z","closed_at":"2020-05-28T16:39:20.103Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Audit Events","Deliverable","Enterprise Edition","devops::manage","estimation::completed","frontend","group::compliance","priority::4","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217779","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217779","notes":"https://gitlab.com/api/v4/projects/278964/issues/217779/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217779/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217779","relative":"#217779","full":"gitlab-org/gitlab#217779"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3319,"epic":{"id":53935,"iid":3319,"title":"Combine Admin Audit Event, Group and Project Audit Logs templates into one unified template","url":"/groups/gitlab-org/-/epics/3319","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34560160,"iid":217777,"project_id":278964,"title":"Update audit events app to accept different search filter configurations","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/3319 we need to update the audit events app created in https://gitlab.com/groups/gitlab-org/-/epics/3318 to accept different configurations of search filters.\n\nFor now, the simplest approach will probably be a set of on/off flags for each filter, future iterations could change the filter configurations themselves.\n\nWe will need to be able to turn on/off (default to on):\n- Filtered search\n  - by group\n  - by project\n  - by user","state":"closed","created_at":"2020-05-14T14:24:57.807Z","updated_at":"2022-03-28T19:24:04.784Z","closed_at":"2020-05-28T11:38:01.077Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Audit Events","Deliverable","Enterprise Edition","devops::manage","estimation::completed","frontend","group::compliance"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217777","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217777","notes":"https://gitlab.com/api/v4/projects/278964/issues/217777/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217777/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217777","relative":"#217777","full":"gitlab-org/gitlab#217777"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3319,"epic":{"id":53935,"iid":3319,"title":"Combine Admin Audit Event, Group and Project Audit Logs templates into one unified template","url":"/groups/gitlab-org/-/epics/3319","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34559437,"iid":217775,"project_id":278964,"title":"[Step1|BE] Implement snippet blob raw action","description":"**Important:** All the new functionality must be implemented behind the feature flag `:snippet_multiple_files`. Besides, it has to be scoped for users. Therefore, instead of checking if the feature flag is enabled or not (`Feature.enabled?(:snippet_multiple_files)`), we will check if the feature flag is enabled for specific users (`Feature.enabled?(:snippet_multiple_files, user)`).\n\nAt the moment, we can access the snippet raw content by accessing `https://gitlab.com/snippets/1234/raw`. Nevertheless, this is no longer going to be true once we have multiple files. The new URL will have to be something like `https://gitlab.com/snippets/1234/raw/revision/snippet_file_path`.\n\nThe behavior is very similar to the [`Projects::RawController`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/controllers/projects/raw_controller.rb). We will need to create a new controller for snippet blobs, add the raw route (than can be handled by the `show` action`). We can opt for different approaches here, we can follow what projects do and create a `RawController` or create a `Snippets::BlobsController` that gather all the necessary logic for snippet blobs.\n\nThe new raw route in snippets will have a ref or revision and then the file path of the blob that we want to see the raw content.\n\nWhen the feature flag is disabled, the new routes will return a 404.\n\nFor the old and currently existing raw route (without revision and path), I'd keep it and just return the raw content of the first blob we can find in the repository when the feature flag is enabled.","state":"closed","created_at":"2020-05-14T14:15:07.994Z","updated_at":"2020-07-18T07:06:16.369Z","closed_at":"2020-06-25T07:00:31.742Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Snippets","Deliverable","backend","devops::create","group::editor","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217775","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217775","notes":"https://gitlab.com/api/v4/projects/278964/issues/217775/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217775/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217775","relative":"#217775","full":"gitlab-org/gitlab#217775"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":34557741,"iid":217763,"project_id":278964,"title":"[BE] Add files field to the snippet update API endpoint","description":"Unlike the snippet create API endpoint changes (https://gitlab.com/gitlab-org/gitlab/-/issues/217739), we need to break a little bit the backward compatibility in this endpoint.\n\nBecause now we can have several files in the snippet repository, if the user just passes the `file_name` param, we don't know which file the user wants to update the file name from. We need to add new param `previous_path` that indicates which was the former file name and, in `file_name`, we will store the new name the user wants to use for that file. In the same line of thought, if the user provides only content, we won't know which file he is referring to.\n\nThe final definition would be something like:\n\n```ruby\nparams do\n  requires :title, type: String, desc: 'The title of a snippet'\n  optional :previous_path, type: String, desc: 'The previous path of a snippet file'  \n  given :previous_path do\n    at_least_one_of :content, :file_name\n  end\n  optional :file_name, type: String, desc: 'The new path of a snippet file'  \n  given :file_name do\n    requires :previous_path, type: String\n  end\n  optional :content, type: String, desc: 'The content of a snippet'\n  given :content do\n    requires :previous_path, type: String\n  end\n  optional :description, type: String, desc: 'The description of a snippet'\n  optional :visibility, type: String,\n                        values: Gitlab::VisibilityLevel.string_values,\n                        default: 'internal',\n                        desc: 'The visibility of the snippet'\n  optional :files, type: Array, as: :snippet_files do\n    requires :previous_path, type: String, desc: 'The previous path of a snippet file'  \n    requires :file_path, type: String, desc: 'The new path of a snippet file'  \n    requires :content, type: String, desc: 'The content of a snippet'\n  end\n  mutually_exclusive :files, :content # To avoid having both params\n  mutually_exclusive :files, :file_name # To avoid having both params\nend\n```\n\nDisclaimer: I haven't tested this and there might be (for sure) some easier definition, this was a quick guess.\n\nNevertheless, we should avoid as far as possible avoid breaking things until we finally release multiple files feature. I'm not sure whether we can statically change the params definition based on a feature flag status. I think if we want to have different arguments dynamically we would have to rely on lambda and Procs and maybe leverage the `if` argument that the `give` method allows. I mean something like:\n\n```ruby\ngiven :whatever, -\u003e(_) { Feature.enabled?(:snippet_multiple_files, current_user) } do\n...\nend\n```\n\nBut, if possible it would be better to have different params, the old ones when the flag is disabled and the newer ones if they're enabled. I guess this way is cleaner.\n\nIf we can use here feature flags, the flag name must be `snippet_multiple_files` and it has to be scoped for users. Therefore, instead of checking if the feature flag is enabled or not globally (Feature.enabled?(:snippet_multiple_files)), we will check if the feature flag is enabled for specific users (Feature.enabled?(:snippet_multiple_files, user)).\n\nOnce we have implemented the params definition we will need to adapt those to the call made to the `Snippets::UpdateService`.\n\nWe need to add also a deprecation notice in the `desc` attribute for the `file_name`, `previous_path`, and `content` arguments. The intention is to remove them in the future (14.0) and use `files` only.\n\n## Proposal\n\nThis issue is going to introduce some form of breaking API change due to the nature of multi-file Snippet updates, after the feature flag has been turned on or removed.\n\nTo minimize the impact on our users that consume the Snippets REST API, we decided upon the following:\n\n* Updates to Snippets with multiple files *must* use the new `files` field\n* Updates to Snippets with a single file may continue to use the existing API fields\n\nTo facilitate this, the following changes will need to be made as part of this issue:\n\n1. Update the documentation to clearly state that any requests that update Snippets with multiple files *must* use the new `files` field\n1. If a request is for a **multi-file** Snippet, we will return an error if the `files` field is not used\n1. If a request is for a **single-file** Snippet, the request will be treated as it currently is, and perform the action against the first file found for the Snippet","state":"closed","created_at":"2020-05-14T13:34:01.843Z","updated_at":"2020-09-18T07:06:44.012Z","closed_at":"2020-09-09T09:08:02.597Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Snippets","Deliverable","backend","devops::create","group::editor","quad-planning::complete-no-action","section::dev"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217763","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217763","notes":"https://gitlab.com/api/v4/projects/278964/issues/217763/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217763/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217763","relative":"#217763","full":"gitlab-org/gitlab#217763"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34556803,"iid":217759,"project_id":278964,"title":"Follow-up: Move audit events components form submission logic to main vue app","description":"### Problem to solve\n\nThe existing Admin Audit Events vue app has multiple filter and table components which all submit the form individually and make use of similar submission code.\n\n### Proposal\n\nWe should change the components to emit a submission event and then all the wrapping app to consume the event and trigger a form change. This will remove duplication, simplify the components and make it easier to move away from the form once the API is ready to be consumed.","state":"closed","created_at":"2020-05-14T13:13:11.619Z","updated_at":"2020-09-15T22:03:25.744Z","closed_at":"2020-06-18T19:19:26.698Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Category:Audit Events","Deliverable","Enterprise Edition","devops::manage","estimation::completed","frontend","group::compliance","priority::3","workflow::blocked"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":8,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217759","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217759","notes":"https://gitlab.com/api/v4/projects/278964/issues/217759/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217759/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217759","relative":"#217759","full":"gitlab-org/gitlab#217759"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3318,"epic":{"id":53881,"iid":3318,"title":"Move Admin Audit Events vue apps into a single vue app which pulls in the relevant components","url":"/groups/gitlab-org/-/epics/3318","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34556493,"iid":217757,"project_id":278964,"title":"Move Admin Audit Events table component into the new audit events vue app","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/3318 we need to move the Admin audit events table component into the new audit events vue app created in https://gitlab.com/gitlab-org/gitlab/-/issues/217755\n\n![image](/uploads/46fdba503cc3e255095bbc61783d55d8/image.png)","state":"closed","created_at":"2020-05-14T13:04:05.755Z","updated_at":"2022-03-28T19:24:04.829Z","closed_at":"2020-05-28T11:37:58.338Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Audit Events","Deliverable","Enterprise Edition","devops::manage","estimation::completed","frontend","group::compliance"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217757","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217757","notes":"https://gitlab.com/api/v4/projects/278964/issues/217757/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217757/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217757","relative":"#217757","full":"gitlab-org/gitlab#217757"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3318,"epic":{"id":53881,"iid":3318,"title":"Move Admin Audit Events vue apps into a single vue app which pulls in the relevant components","url":"/groups/gitlab-org/-/epics/3318","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34556142,"iid":217755,"project_id":278964,"title":"Move Admin Audit Events filter components into a single vue app","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/3318 we need to create a new Vue app and move the filter components within rather than individually calling them in the HAML template.\n\n![image](/uploads/46fdba503cc3e255095bbc61783d55d8/image.png)","state":"closed","created_at":"2020-05-14T12:57:40.693Z","updated_at":"2022-03-28T19:24:04.867Z","closed_at":"2020-05-28T11:37:57.389Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Audit Events","Deliverable","Enterprise Edition","devops::manage","estimation::completed","frontend","group::compliance"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217755","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217755","notes":"https://gitlab.com/api/v4/projects/278964/issues/217755/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217755/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217755","relative":"#217755","full":"gitlab-org/gitlab#217755"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3318,"epic":{"id":53881,"iid":3318,"title":"Move Admin Audit Events vue apps into a single vue app which pulls in the relevant components","url":"/groups/gitlab-org/-/epics/3318","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34555283,"iid":217751,"project_id":278964,"title":"Decrease `coverage-frontend` duration from 7 minutes","description":"## What is the productivity problem to solve?\n\nCurrently, `coverage-frontend` duration is 7 minutes and growing: https://app.periscopedata.com/app/gitlab/652085/Engineering-Productivity---Pipeline-Build-Durations?widget=7910777\u0026udv=1005715\n\n| Before | After |\n| ------ | ------ |\n| ![gitlaborggitlabcoveragefrontendjobmeanduration](/uploads/3457d452a492c66f9e0528058442b743/gitlaborggitlabcoveragefrontendjobmeanduration.png) | ![gitlaborggitlabcoveragefrontendjobmeanduration](/uploads/afecd210a54cb42cd0a35b4059faab32/gitlaborggitlabcoveragefrontendjobmeanduration.png) |\n\n### Problem identification checklist\n\n- [x] The root cause of the problem is identified.\n- [x] The surface of the problem is as small as possible.\n\n## Verify that the solution has improved the situation\n\n**Expected improvement:** TBD\n\n- [x] The solution improved the situation.\n  - If yes, check this box and close the issue. Well done! :tada:\n  - Otherwise, create a new \"Productivity Improvement\" issue. You can re-use the description from this issue, but obviously another solution should be chosen this time.","state":"closed","created_at":"2020-05-14T12:33:37.564Z","updated_at":"2020-05-25T07:54:01.362Z","closed_at":"2020-05-19T12:41:55.579Z","closed_by":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","backstage [DEPRECATED]","ci-build","ep::pipeline","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"R√©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217751","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217751","notes":"https://gitlab.com/api/v4/projects/278964/issues/217751/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217751/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217751","relative":"#217751","full":"gitlab-org/gitlab#217751"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34553942,"iid":217748,"project_id":278964,"title":"Backend work for Pipeline Filter - Pipeline Status, Tag Name","description":"In order to make ~frontend work #217617, we need to have ~backend side of this.\n\nWe already have `status` and `ref` filter in `Ci::PipelinesFinder`, so we only need to pass this param from `Projects::PipelinesController` and write tests.\n\n[Things to consider](https://gitlab.com/gitlab-org/gitlab/-/issues/217617#note_342814473):\n\n* [x]  the cost of pagination seems super big, as getting filtered `json` for my user takes around 8s: This takes around 7s to execute: https://gitlab.com/gitlab-org/gitlab/pipelines.json?scope=all\u0026page=1\u0026username=ayufan\n  * [added an index](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/33290), but still much more to improve.\n* [x] this was made as `select count(*)` is an expensive operation that does not scale very well with so frequently used system as pipelines\n* [x] it might be good idea to see how indexes scale, and decide if we need to add index to increase cardinality of queries that would ensure them to be fast\n  * pipelines are mostly system-generated operations based on a common event, like a push, which are significantly more frequent than issues or merge request\n  * issues or merge requests are events that NEEDS to be created by user, thus amount of them is one-two-three magnitudes smaller\n* [x] if we start filtering just by `status` it will not work very well :) as `status=success` for `gitlab` will result in 100_000 pipelines likely being matched and SQL queries timing out on trying to run `select count(*)` and this in the past was a significant performance problem\n* [ ] I think we should do consider making next page pagination on much smaller limit than currently configured to have significantly better query times\n  * I don't understand why we don't have pagination header on: https://gitlab.com/gitlab-org/gitlab/pipelines.json?scope=all\u0026page=1, but we have on https://gitlab.com/gitlab-org/gitlab/pipelines.json?scope=all\u0026page=1\u0026username=ayufan. I would expect both of them to have just next-page pagination :)\n  * I think as for pagination everything is fine here. There‚Äôs something else in play that decides whether to use next-page vs full pagination. It just seems to not work super well on this page, this is why high filtering duraiton :slight_smile:\n  * It is likely a result of `lib/gitlab/pagination/offset_pagination.rb`. I wish we could make this limit of 10k to be smaller, to be 1k to improve the performance of this page.\n  * in the past we always truncated counters and introduced next page pagination only\n  * truncated counters allow to have a predictable performance as we limit amount of data being processed\n  * truncated counters is also based on assumption that user do not care about very old data, data older than some threshold, like 100-1000 pipelines","state":"closed","created_at":"2020-05-14T12:00:28.491Z","updated_at":"2021-04-03T08:41:06.869Z","closed_at":"2020-06-25T08:37:09.023Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Continuous Integration","Verify::P1","backend","devops::verify","group::pipeline execution","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217748","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217748","notes":"https://gitlab.com/api/v4/projects/278964/issues/217748/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217748/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217748","relative":"#217748","full":"gitlab-org/gitlab#217748"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":34553420,"iid":217743,"project_id":278964,"title":"Commits Author filter button doesn't conform to Pajamas specs","description":"The ability to filter commits by Author was introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28509. The UX that was approved can be seen in the description of that MR. But what is found in production differs from that:\n\n| Approved | Actual, on GitLab.com |\n|---|---|\n| ![image](/uploads/ba7dfea73b51284a6da9c0e923b0ebd4/image.png) | ![image](/uploads/46762a91447b444d31716f49c4c2e630/image.png) |\n\n**There seems to be a ‚Äúhalo‚Äù effect around the Author button.** The different height, compared to the text input on the right, was fixed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31686.","state":"closed","created_at":"2020-05-14T11:46:48.694Z","updated_at":"2020-07-13T11:34:57.813Z","closed_at":"2020-05-26T14:37:35.108Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alc√°ntara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Category:Source Code Management","Deliverable","UX","UX debt","devops::create","frontend","group::source code","repository","severity::4","type::bug","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":9,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217743","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217743","notes":"https://gitlab.com/api/v4/projects/278964/issues/217743/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217743/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217743","relative":"#217743","full":"gitlab-org/gitlab#217743"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34548315,"iid":217739,"project_id":278964,"title":"[BE] Add files field to the snippet create API endpoint","description":"We need to add a new param `files` to the snippet (both project and personal ones) create API endpoint. In the future, this param will hold the array of files that we want to create inside the snippet.\n\nBut there is a problem. We don't want to break backward compatibility, therefore, we have to still maintain the old `file_name` and `content` fields. Hence, we have to play a little bit with the snippet definition to allow users to send `file_name` and `content` or `snippet_files`. My proposal would be:\n\n1. Make `file_name` and `content` optional because the user might use the param `files` instead.\n2. Define `files` as:\n```ruby\noptional :files, type: Array do\n  # Note that I chose `file_path` for the param name. This is because we can\n  # use it directly in the multi_commit action in the service without translation\n  requires :file_path, type: String, desc: 'The path of a snippet file'  \n  requires :content, type: String, desc: 'The content of a snippet'\nend\n```\n3. Make `files` and `content` mutually exclusive\n```ruby\nmutually_exclusive :files, :content\n```\n4. Make `file_name` and `content` dependent from each other\n```ruby\noptional :content, type: String, desc: 'The content of a snippet'\ngiven :content do\n  requires :file_name, type: String, desc: 'The name of a snippet file'\nend\n```\n\nThe final definition would be something like:\n\n```ruby\nparams do\n  requires :title, type: String, desc: 'The title of a snippet'\n  optional :file_name, type: String, desc: 'The name of a snippet file'  \n  given :file_name do\n    requires :content, type: String\n  end\n  optional :content, type: String, desc: 'The content of a snippet'\n  given :content do\n    requires :file_name, type: String\n  end\n  optional :description, type: String, desc: 'The description of a snippet'\n  optional :visibility, type: String,\n                        values: Gitlab::VisibilityLevel.string_values,\n                        default: 'internal',\n                        desc: 'The visibility of the snippet'\n  optional :files, type: Array, as: :snippet_files do\n    requires :file_path, type: String, desc: 'The path of a snippet file'  \n    requires :content, type: String, desc: 'The content of a snippet'\n  end\n  mutually_exclusive :files, :content # To avoid having both params\n  exactly_one_of :files, :content # To at least have one of both params\nend\n```\n\nDisclaimer: I haven't tested this and there might be some easier definition, this was a quick guess\n\nSince, in the end, we will have either `files` (as `snippet_files`) or `file_name` and `content`, we can pass either of both options to the `Snippets::CreateService`.\n\nWe need to add also a deprecation notice in the `desc` attribute for the `file_name` and `content` arguments. The intention is to remove them in the future (14.0) and use `files` only.","state":"closed","created_at":"2020-05-14T10:59:51.363Z","updated_at":"2020-08-18T07:07:13.393Z","closed_at":"2020-08-06T11:48:42.022Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Snippets","Deliverable","backend","devops::create","group::editor","quad-planning::complete-no-action"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217739","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217739","notes":"https://gitlab.com/api/v4/projects/278964/issues/217739/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217739/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217739","relative":"#217739","full":"gitlab-org/gitlab#217739"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34546892,"iid":217737,"project_id":278964,"title":"Revisit use of `Project#ci_pipelines` in the context of Parent-Child pipelines","description":"## Problem\n\nToday `project.ci_pipelines` does not include child pipelines by default, simply because child pipelines should not be confused as their main/parent pipelines. We use `project.ci_pipelines` in a lot of cases but I realized that since child parent pipelines was introduced some use cases became slightly different.\n\nE.g. using `project.ci_pipelines` to display a pipeline index is correct because we would hide by default child pipelines. However, using `project.ci_pipelines` as a baseline to find downloadable artifacts is not correct because we would only look into parent pipelines.\n\nAnother aspect related to this that came across during a review: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/34706#note_364296805. The use of `ci_config_sources`, which powers `project.ci_pipelines`, is unclear and could let developers introduce unexpected side-effects. We should make clear that `ci_config_sources` contains sources that we want to contribute to the latest pipeline status for a ref.\n\n## Proposal\n\n- Comment for `has_many :ci_pipelines` in `Project` is unclear and it should state: `ci_pipelines are all those that contribute to the latest status of a ref. This does not include dangling pipelines such as webide, child pipelines, etc.`\n- Add a definition of `dangling` sources with a comment to describe that these don't contribute to the ref status.\n- For `project.ci_pipelines` relation we are filtering pipelines by `config_source` while I think it should be `source`, see `Ci::Pipeline.ci_sources` scope. Whether a pipeline contributes to the latest status for a ref is not relevant where the config comes from but what's the source event that creates the pipeline.\n\n```diff\ndiff --git a/app/models/ci/pipeline.rb b/app/models/ci/pipeline.rb\nindex 7d13adb22f0..cf13c8795b0 100644\n--- a/app/models/ci/pipeline.rb\n+++ b/app/models/ci/pipeline.rb\n@@ -251,7 +251,7 @@ module Ci\n \n     scope :internal, -\u003e { where(source: internal_sources) }\n     scope :no_child, -\u003e { where.not(source: :parent_pipeline) }\n-    scope :ci_sources, -\u003e { where(config_source: ::Ci::PipelineEnums.ci_config_sources_values) }\n+    scope :ci_sources, -\u003e { where(config_source: ::Ci::PipelineEnums.ci_sources.values) }\n     scope :for_user, -\u003e (user) { where(user: user) }\n     scope :for_sha, -\u003e (sha) { where(sha: sha) }\n     scope :for_source_sha, -\u003e (source_sha) { where(source_sha: source_sha) }\n@@ -813,6 +813,14 @@ module Ci\n       persisted? \u0026\u0026 failure_reason.blank?\n     end\n \n+    def dangling?\n+      Ci::PipelineEnums.dangling_sources.include?(source.to_sym)\n+    end\n+\n+    def ci?\n+      Ci::PipelineEnums.ci_sources.include?(source.to_sym)\n+    end\n+\n     def detailed_status(current_user)\n       Gitlab::Ci::Status::Pipeline::Factory\n         .new(self, current_user)\ndiff --git a/app/models/ci/pipeline_enums.rb b/app/models/ci/pipeline_enums.rb\nindex 352dc56aac7..847f9279f05 100644\n--- a/app/models/ci/pipeline_enums.rb\n+++ b/app/models/ci/pipeline_enums.rb\n@@ -35,6 +35,14 @@ module Ci\n       }\n     end\n \n+    def self.dangling_sources\n+      sources.slice(:webide, :parent_pipeline, :ondemand_dast_scan)\n+    end\n+\n+    def self.ci_sources\n+      sources.except(*dangling_sources.keys)\n+    end\n+\n     # Returns the `Hash` to use for creating the `config_sources` enum for\n     # `Ci::Pipeline`.\n     def self.config_sources\n```\n\n- Revisit where we use `ci_pipelines` scope and evaluate whether we should use `all_pipelines` instead. E.g. when looking for a pipeline by ID we should always use `all_pipelines` as base scope.","state":"closed","created_at":"2020-05-14T10:29:06.069Z","updated_at":"2020-09-14T08:08:17.124Z","closed_at":"2020-09-14T08:08:17.077Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["CI/CD Core Platform","Category:Continuous Integration","Category:Pipeline Authoring","Deliverable","backend","backstage [DEPRECATED]","bridge pipelines","devops::verify","group::pipeline authoring","maintenance::refactor","priority::2","section::ops","severity::1","type::bug","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217737","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217737","notes":"https://gitlab.com/api/v4/projects/278964/issues/217737/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217737/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217737","relative":"#217737","full":"gitlab-org/gitlab#217737"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4019,"epic":{"id":85321,"iid":4019,"title":"Seamless artifact handling for child/parent pipelines MVC","url":"/groups/gitlab-org/-/epics/4019","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":34544317,"iid":217733,"project_id":278964,"title":"[Step1|BE] Refactor Snippets::UpdateService to allow multiple files","description":"In preparation for having multiple files inside the same snippet we need to update the `Snippets::UpdateService` to make it work with multiple files.\n\nThis change can be done in different ways. The most obvious one is to assume that the `Snippets::UpdateService` receives already the `snippet_files` param and refactor it. Nevertheless, this would force us to change every other place where we call this service to adapt it. Therefore, we would have to update the controllers, the views, the REST API, and GraphQL. For the sake of iteration, we're going to take a small approach in this issue and work on those other places later.\n\nWhat I propose in this issue is to assume that we are going to receive the same `params` as we do now. Since this service is almost prepared for handling multiple files, we're only going to make a small change in [`snippet_files`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/services/snippets/update_service.rb#L92).\n\n```ruby\n# Current state\ndef snippet_files(snippet)\n  [{ previous_path: snippet.file_name_on_repo,\n     file_path: params[:file_name],\n     content: params[:content] }]\nend\n\n# Proposal\ndef execute\n  # check that user is allowed to set specified visibility_level\n  new_visibility = visibility_level\n  # We need to remove the snippet_files from the params \n  # because it would raise an error if we pass them\n  # when building the snippet\n  @snippet_files = params.delete(:snippet_files)\n  ...\nend\n\ndef snippet_files(snippet)\n  @snippet_files || build_files_from_params\nend\n\ndef build_files_from_params\n  [{ previous_path: snippet.file_name_on_repo,\n     file_path: params[:file_name],\n     content: params[:content] }]\nend\n```\n\nThis small change allows us to be prepared when we really pass the `snippet_files` param directly to the service. Besides, it will also allow us to keep backward compatibility for the REST API since we should maintain the API specification we have at the moment. When we add the new argument to the REST endpoint this service will be prepared for both scenarios.\n\nWe don't need to put this change behind a feature flag because it doesn't break the single file scenario.","state":"closed","created_at":"2020-05-14T10:07:34.750Z","updated_at":"2020-06-18T07:07:01.898Z","closed_at":"2020-05-28T07:29:10.383Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Deliverable","backend","devops::create","group::editor"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217733","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217733","notes":"https://gitlab.com/api/v4/projects/278964/issues/217733/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217733/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217733","relative":"#217733","full":"gitlab-org/gitlab#217733"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34543632,"iid":217730,"project_id":278964,"title":"[Step1|BE] Refactor Snippets::CreateService to allow multiple files","description":"**Important:** All the new functionality must be implemented behind the feature flag `:snippet_multiple_files`. Besides, it has to be scoped for users. Therefore, instead of checking if the feature flag is enabled or not (`Feature.enabled?(:snippet_multiple_files)`), we will check if the feature flag is enabled for specific users (`Feature.enabled?(:snippet_multiple_files, user)`).\n\nIn preparation for having multiple files inside the same snippet we need to update the `Snippets::CreateService` to make it work with multiple files.\n\nThis change can be done in different ways. The most obvious one is to assume that the `Snippets::CreateService` receives already the `snippet_files` param and refactor it. Nevertheless, this would force us to change every other place where we call this service to adapt it. Therefore, we would have to update the controllers, the views, the REST API, and GraphQL. For the sake of iteration, we're going to take a small approach in this issue and work on those other places later.\n\nWhat I propose in this issue is to assume that we are going to receive the same `params` as we do now. Since this service is almost prepared for handling multiple files, we're only going to make a small change in [`snippet_files`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/services/snippets/create_service.rb#L83).\n\n```ruby\n# Current state\ndef snippet_files\n  [{ file_path: params[:file_name], content: params[:content] }]\nend\n\n# Proposal\ndef execute\n  filter_spam_check_params\n  # We need to remove the snippet_files from the params \n  # because it would raise an error if we pass them\n  # when building the snippet\n  @snippet_files = params.delete(:snippet_files) if Feature.enabled?(:snippet_multiple_files, current_user)\n  ...\nend\n\ndef snippet_files\n  @snippet_files || build_files_from_params\nend\n\ndef build_files_from_params\n  [{ file_path: params[:file_name], content: params[:content] }]\nend\n```\n\nThis small change allows us to be prepared when we really pass the `snippet_files` param directly to the service. Besides, it will also allow us to keep backward compatibility for the REST API since we should maintain the API specification we have at the moment. When we add the new argument to the REST endpoint this service will be prepared for both scenarios.\n\nWe don't need to put this change behind a feature flag because it doesn't break the single file scenario.","state":"closed","created_at":"2020-05-14T09:59:36.200Z","updated_at":"2020-06-18T07:07:01.943Z","closed_at":"2020-05-28T07:29:06.397Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","Deliverable","backend","devops::create","group::editor"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217730","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217730","notes":"https://gitlab.com/api/v4/projects/278964/issues/217730/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217730/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217730","relative":"#217730","full":"gitlab-org/gitlab#217730"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2829,"epic":{"id":28402,"iid":2829,"title":"Snippets with Multiple Files","url":"/groups/gitlab-org/-/epics/2829","group_id":9970,"human_readable_end_date":"Nov 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34542683,"iid":217729,"project_id":278964,"title":"WebIDE: Migrate create branch modal to use GlModal","description":"Currently, the create branch modal uses the old deprecated modal, due to which it shows up incorrectly in the dark theme.\n\n![Screenshot_2020-05-14_at_3.02.00_PM](/uploads/5900e47dc444a9265b4e2faad939a359/Screenshot_2020-05-14_at_3.02.00_PM.png)\n\nMigrating it to use `GlModal` will fix this issue.","state":"closed","created_at":"2020-05-14T09:35:14.389Z","updated_at":"2020-05-15T15:23:17.834Z","closed_at":"2020-05-15T15:23:17.782Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Category:Web IDE","backstage [DEPRECATED]","devops::create","frontend","group::editor","workflow::in review"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217729","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217729","notes":"https://gitlab.com/api/v4/projects/278964/issues/217729/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217729/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217729","relative":"#217729","full":"gitlab-org/gitlab#217729"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34542263,"iid":217727,"project_id":278964,"title":"Handle Snippet Errors in Vue","description":"# Summary\n\nWhen creating or editing a snippet with the `snippets_edit_vue` FF enabled, errors raised during creation/update are not quite handled correctly.\n\n## With creation error:\n\nAn error message is briefly displayed and then a redirect back to the form happens, which clears the form and removes the error:\n\n![2020-05-14_10.26.00](/uploads/1bed680b2da6f117966fbd70a841486e/2020-05-14_10.26.00.gif)\n\n## With update error:\n\nAn error message is briefly displayed and then the user is redirected back to the 'show' view, losing the message and the changes:\n\n![2020-05-14_10.27.34](/uploads/0f1a7ab554acfe820e70a347918bcfbb/2020-05-14_10.27.34.gif)\n\n\n## Steps to reproduce:\n\n- Ensure `snippets_edit_vue` feature flag is enabled (`Feature.enable(:snippets_edit_vue)` in Rails console)\n- Navigate to the new or edit snippet form\n- Fill `invalid://file/path` into the title, to trigger a create or update error\n- Submit the form","state":"closed","created_at":"2020-05-14T09:23:46.193Z","updated_at":"2020-09-10T13:51:37.948Z","closed_at":"2020-09-10T13:51:37.868Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["Category:Snippets","Deliverable","devops::create","frontend","group::editor","missed-SLO","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217727","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217727","notes":"https://gitlab.com/api/v4/projects/278964/issues/217727/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217727/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217727","relative":"#217727","full":"gitlab-org/gitlab#217727"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2679,"epic":{"id":21781,"iid":2679,"title":"Refactor Snippets edit to Vue","url":"/groups/gitlab-org/-/epics/2679","group_id":9970,"human_readable_end_date":"Jan 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34540999,"iid":217723,"project_id":278964,"title":"Gitlab.com trial expiry banner should have accurate wording","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nCurrently, a banner displays on a gitlab.com group overview page when their trial is about to expire. However, the banner's copy says that the group's **subscription** is about to expire, even if their group is on a trial.\n\n![trial-expiry-shows-subscription](/uploads/eadcb98a7a13dd385ea848477bc9c3fd/trial-expiry-shows-subscription.png)\n\n### Steps to reproduce\n\nView a group overview page on gitlab.com for a group that is currently on a trial, where the trial is about to expire and a banner displays at the top of the page.\n\n### What is the expected *correct* behavior?\n\nWhen a group is on a trial, the banner should replace the word \"subscription\" with \"trial\".\n\n### Proposal: \n1. Change the message to use \"trial\" instead of \"subscription\" \n1. Change the CTA buttons to `Buy a subscription` and `That's ok, I don't want to buy right now` \n\n### Tweaks for the existing messaging for Silver and Gold (applies to subscriptions and trials)  \n\n#### New Silver Messaging - Customers\n\n`_('Your %{strong}%{plan_name}%{strong_close} subscription for %{strong}%{namespace_name}%{strong_close} will expire on %{strong}%{expires_on}%{strong_close}. After that, you will not to be able to use merge approvals, multi-level epics,  as well as many other features.') % { expires_on: subscribable.expires_at.strftime(\"%Y-%m-%d\"), plan_name: plan_name, strong: strong, strong_close: strong_close, namespace_name: namespace.name }`\n\n### New Gold Messaging - Customers \n\n`_('Your %{strong}%{plan_name}%{strong_close} subscription for %{strong}%{namespace_name}%{strong_close} will expire on %{strong}%{expires_on}%{strong_close}. After that, you will not to be able to use required merge approvals or epics, as well as many security features.') % { expires_on: subscribable.expires_at.strftime(\"%Y-%m-%d\"), plan_name: plan_name, strong: strong, strong_close: strong_close, namespace_name: namespace.name }`","state":"closed","created_at":"2020-05-14T08:53:20.642Z","updated_at":"2021-10-05T21:19:13.695Z","closed_at":"2020-06-10T18:36:28.742Z","closed_by":{"id":4068412,"username":"mkarampalas","name":"Michael Karampalas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b1427f54773954af4d75c5514504229b?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkarampalas"},"labels":["[deprecated] Accepting merge requests","devops::growth","gitlab.com","group::adoption DEPRECATED","priority::2","workflow::ready for development"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[],"author":{"id":4665308,"username":"doniquesmit","name":"Donique Smit","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c5737881c65a3063443d7692dfe04f4a?s=80\u0026d=identicon","web_url":"https://gitlab.com/doniquesmit"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217723","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217723","notes":"https://gitlab.com/api/v4/projects/278964/issues/217723/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217723/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217723","relative":"#217723","full":"gitlab-org/gitlab#217723"},"severity":"UNKNOWN","moved_to_id":41345885,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34540087,"iid":217722,"project_id":278964,"title":"Implement spam mechanism in snippets VUE edit refactor","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n## Why are we doing this work\n\n1. We refactored snippets to be implemented in Vue, but support for reCAPTCHA was not added in the initial iteration. This issue will add the missing reCAPTCHA support to snippet creation and editing.\n1. It will also re-implement the reCAPTCHA support in a modern way which is compliant with current GitLab engineering best practices on the backend and frontend:\n    1. The existing reCAPTCHA approach uses several outdated/anti/non-standard patterns: It is [rendered on the backend via the recaptcha ruby gem + HAML](https://gitlab.com/gitlab-org/gitlab/blob/79fd7956a73863f0fdc537b0e02f10b9c00ab1af/app/views/shared/_recaptcha_form.html.haml#L13-13) which embeds the original changes, and the resulting HTML [sent in a JSON response field](https://gitlab.com/gitlab-org/gitlab/blob/79fd7956a73863f0fdc537b0e02f10b9c00ab1af/app/controllers/concerns/spammable_actions.rb#L41-41) to be [displayed and submitted via a deprecated Vue modal](https://gitlab.com/gitlab-org/gitlab/blob/79fd7956a73863f0fdc537b0e02f10b9c00ab1af/app/assets/javascripts/vue_shared/components/recaptcha_modal.vue#L78-78).\n    1. The UI will be implemented in native Vue.\n    1. It will be GraphQL-first, with no REST APIs involved, and only the necessary scalar fields being sent via graphQL (instead of the rendered HTML being sent in a JSON field)\n    1. It will use the standard [Pajamas/gitlab-ui Vue Modal](https://design.gitlab.com/components/modal) component, rather than the deprecated modal.\n1. When this modern reCAPTCHA implementation is completed, we will positioned to be able to replace much the old implementation from the codebase (which is only used by issues), as well as to easily use this new implementation in any future areas of the product which need to have reCAPTCHA support added.\n    1. It will use the native [javascript reCAPTCHA API](https://developers.google.com/recaptcha/docs/display#js_api) and callbacks integrated with the Vue component, rather than the standard HTML form submission approach.\n\n## Relevant links\n\n* [Original Description](https://gitlab.com/gitlab-org/gitlab/-/issues/217722#original-description)\n* Exploration and documentation of existing reCAPTCHA support and initial plans for new architecture (note that some of these plans have changed from their initial form):\n  * https://gitlab.com/gitlab-org/gitlab/-/issues/217722#note_469213753\n* Initial MR exploring and discussing the proposed implementation with a fully-functional spike/prototype/Proof of Concept, to validate the architecture before breaking it down into separate iterative implementation MRs: [Snippets GraphQL client-side spam/captcha spike](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50559)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n  - [ ] Update [relevant docs](https://gitlab.com/gitlab-org/gitlab/blob/79fd7956a73863f0fdc537b0e02f10b9c00ab1af/doc/integration/recaptcha.md#L13-13) to reflect new approach.\n- [ ] Feature flag: `snippet_spam`\n- [ ] Performance:\n- [ ] Testing:\n\n## Implementation plan\n\nNOTE: Numbering indicates implementation order and rebase hierarchy of unmerged planned/in-progress MRs.\n\n- [x] Fully functional spike/prototype/proof of concept: [Snippets GraphQL client-side spam/captcha spike](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50559).\n  - **NOTE: The subsequent MRs will be smaller, iterative, better-tested parts of the functionality in this MR.**\n- Backend:\n  - [x] 1. (MERGED) [MR: Remove unnecessary recaptcha verification param and unused snippets verify views](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51587) - [BRANCH: `remove-recaptcha-verification-param`](https://gitlab.com/gitlab-org/gitlab/-/tree/remove-recaptcha-verification-param)\n  - [x] 2. (MERGED - but needs followup MRs) [Refactor SpamActionService and its usage](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51840) - [BRANCH: `refactor-spam-action-service`](https://gitlab.com/gitlab-org/gitlab/-/tree/refactor-spam-action-service)\n      * Perform the preliminary refactoring of `spam_action_service.rb` as suggested in [this section of the docs](https://gitlab.com/gitlab-org/gitlab/blob/2bed94ad9b66f3f7d9eac99f4f2941bc26e00e73/doc/development/module_with_instance_variables.md#L150-150). See more discussion [here](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51301#note_484101503)\n  - [-] ~~X. [MR: Refactor common reCAPTCHA logic out of spammable_actions.rb to be usable from service layer](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51301) - [BRANCH: `refactor-out-common-recaptcha-logic`](https://gitlab.com/gitlab-org/gitlab/-/commits/refactor-out-common-recaptcha-logic)~~ **UPDATE - this MR is not be needed, almost all of its intended changes are no longer required after [Refactor SpamActionService and its usage](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51840)**\n  - [x] 3. (MERGED) [MR: Refactor spam and recaptcha-related mutations and services to better support future reCAPTCHA support](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51537) - [BRANCH: `refactor-spammable-recaptcha-mutations`](https://gitlab.com/gitlab-org/gitlab/-/tree/refactor-spammable-recaptcha-mutations)\n  - Add GraphQL fields necessary to support reCAPTCHA:\n    - [x] (MERGED) [MR: Add spam field to snippet mutations](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/44010)\n    - [x] 4. (MERGED) [MR: Add remaining reCAPTCHA-related fields to snippet mutations](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51956) - [BRANCH: `add-recaptcha-fields-to-snippet-mutations`](https://gitlab.com/gitlab-org/gitlab/-/tree/add-recaptcha-fields-to-snippet-mutations)\n- Frontend:\n  - [x] 1. (MERGED) [MR: Introduce alternative recaptcha script initialization](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52038) (not dependent upon any backend work, can be done in parallel) - [BRANCH: `refactor-recaptcha-script-initialization`](https://gitlab.com/gitlab-org/gitlab/-/tree/refactor-recaptcha-script-initialization)\n  - [x] 5. (MERGED) [MR: Implement new reCAPTCHA modal](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52044) - [BRANCH: `new-recaptcha-modal`](https://gitlab.com/gitlab-org/gitlab/-/tree/new-recaptcha-modal)\n  - [x] 6. (MERGED) [ISSUE: Submit Snippet after reCAPTCHA cancel causes console.error](Submit Snippet after reCAPTCHA cancel causes console.error) [MR -Refactor snippets edit spec and small fixes]( https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53576) - Address Apollo-related bug with snippets mixin undefined blob during captcha flow\n- Final:\n  - [x] Enable snippet spam feature flag: https://gitlab.com/gitlab-org/gitlab/-/issues/262013\n\n## Future follow-on Issues/MRs\n\nUPDATE: All of the following task list has been copied verbatim to [this section in the CAPTCHA epic description](https://gitlab.com/groups/gitlab-org/-/epics/5527#tasks-copied-over-from-original-implement-spam-mechanism-in-snippets-vue-edit-refactor-issue) description, so that this otherwise-completed issue can be closed.\n\n- [x] (Issue created) [[Feature flag] Enable snippet_spam flag](https://gitlab.com/gitlab-org/gitlab/-/issues/262013)\n- [ ] Add more robust error handling to reCAPTCHA modal. Currently it only handles a single simple failure case.\n- [ ] Refactor `mutationTypes` in `spec/frontend/snippets/components/edit_spec.js` to make them all factories.  See https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52044#note_493848680\n- [x] [MR: Refactor snippets edit spec and small fixes](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53576)\n- [ ] Review all comment threads on https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51840 and open follow-up issues as appropriate\n- [ ] Look into DRYing up duplication in `app/graphql/mutations/snippets/create.rb` and `app/graphql/mutations/snippets/update.rb`\n- [x] (Issue created) [Cleanup callback set in init_recaptcha_script](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/52766 )\n- [x] In the GraphQL API, consider making `captchaSiteKey`, `needsCaptchaResponse`, and `spamLogId` to be their own cohesive `type`.\n- [ ] Add any missing feature/integration coverage of spam workflows for issues and snippets (there is already some, not sure if we need more)\n- [ ] Convert issues GraphQL endpoints to have spam/reCAPTCHA protection through new framework\n- [ ] Convert issues spam/recaptcha Vue components and backend support to new framework and delete old support, as much as possible given that it's still using the REST API.\n- [ ] Add spam/recaptcha protection for issues created/updated via GraphQL API\n- [ ] [Investigate FriendlyCaptcha Support](https://gitlab.com/gitlab-org/gitlab/-/issues/273480) (and or other captcha implementations - TODO: link other issues) - The changes made as part of this issue intentionally took FriendlyCaptcha support into account, and I believe we are in a good place to attempt implementing it (possibly after some of the other above issues are completed too).\n- [ ] Refactor terminology in DB and models of `render_recaptcha` to `needs_captcha_response`, to better reflect the new implementation and not be coupled to any specific CAPTCHA implementation or approach.  See [this thread](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54256#note_510707893) for more details.\n\n## Testing Notes\n\nSee the testing notes section on the epic for details on how to test CAPTCHA locally: https://gitlab.com/groups/gitlab-org/-/epics/5527#testing-notes\n\n## Original Description\n\u003cdetails\u003e\n  \u003csummary\u003eClick to expand Original Description\u003c/summary\u003e\n\nWhen a snippet is created or updated, one of the workflows we have in place is to check whether it is spam or not. These checkings are done in the snippet controllers. Since we're moving away from these controllers and use the VUE refactor + GraphQL mutations, we need to implement this workflow as well in VUE.\n\nThe checking to render whether we should render or not the captcha is done in [recaptcha_check_with_fallback](https://gitlab.com/gitlab-org/gitlab/blob/master/app/controllers/concerns/spammable_actions.rb#L29). Besides, we pass some info related to a possible former captcha request to the services that create/update snippets. This is done in https://gitlab.com/gitlab-org/gitlab/blob/master/app/controllers/snippets_controller.rb#L52 and https://gitlab.com/gitlab-org/gitlab/blob/master/app/controllers/snippets_controller.rb#L66, where we include [`spammable_params`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/controllers/concerns/spammable_actions.rb#L56) inside the params sent by the user.\n\nThen, in `recaptcha_check_with_fallback`, based on those params and the snippet status (whether it is valid or not), we opt for redirecting the user to the snippet show page, render the captcha page or render the edit page showing some validation errors.\n\nWe have to dig into this more but I suppose, at least from the BE perspective, that we need to update the arguments the snippet mutations accept in GraphQL and also update the attributes returned by those mutations to include the spam attributes in the snippet type (`need_recaptcha`, `spam`, and maybe others).\n\nFrom the FE perspective, we might need to create a new captcha component or update it if it exists.\n\nThis issue is really important because we cannot globally enable the edit VUE refactor without this working.\n\n---\n## Testing Activity\n@fjsanpedro:\n* Adapt or clone existing specs for the snippet GraphQL endpoints to check the spam mechanism is still in place.\n* FE need to add some specs to check that it passess the proper attributes to the GraphQL endpoint\n\n@vij:\n*Add existing captcha tests to cover the GraphQL mutations\n\n**DON'T FORGET:** There's a preexisting feature spec we can work with. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/43868#note_422321741\n\n## MR Breakdown\n@fjsanpedro:\n* We need to update the endpoint to receive the param `api`, `recaptcha_verified`, and `spam_log_id`. Then, we need to pass them to the snippets create and update services along with the request in place. These services wil handle automatically the spam once they receive these attributes.\n\n* FE need to pass these attributes from the snippet edit page in VUE\n* 1 MR to update the snippets create mutation to add the necessary params and pass them to the create service.\n* 1 MR to update the snippets update mutation to add the necessary params and pass them to the update service.\n* 1 MR FE to update the edit page in VUE in order to add the necessary componentes\n\n@vij:\n * Update Snippet GraphQL mutations (create, update) to accept the captcha args, may need additional work depending on FE requirements (hence weight 2)\n\n\u003c/details\u003e","state":"closed","created_at":"2020-05-14T08:36:41.508Z","updated_at":"2021-12-20T14:38:15.188Z","closed_at":"2021-07-16T02:06:37.881Z","closed_by":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"labels":["Category:Snippets","Deliverable","GitLab Core","backend","backend-weight::2","backstage [DEPRECATED]","devops::create","direction","frontend","frontend-weight::3","group::editor","missed-deliverable","missed:13.10","missed:13.11","missed:13.12","missed:13.9","missed:14.0","section::dev","security-awards::awarded","spam fighting","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":4985794,"username":"cwoolley-gitlab","name":"Chad Woolley","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4cf06f1fc667817854991b558103a9e2?s=80\u0026d=identicon","web_url":"https://gitlab.com/cwoolley-gitlab"},"user_notes_count":42,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217722","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":29,"completed_count":14},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"14 of 29 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217722","notes":"https://gitlab.com/api/v4/projects/278964/issues/217722/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217722/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217722","relative":"#217722","full":"gitlab-org/gitlab#217722"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4837,"epic":{"id":140203,"iid":4837,"title":"Create:Editor Transition Epic","url":"/groups/gitlab-org/-/epics/4837","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34540001,"iid":217721,"project_id":278964,"title":"Remove \"code_review_analytics_has_new_search\"  feature flag","description":"We've implemented the new `GlFilteredSearch` on the `Code Review Analytics` page in https://gitlab.com/gitlab-org/gitlab/-/issues/212682 behind the `:code_review_analytics_has_new_search` feature flag (which was introduced in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29580).\n\nLet's remove the feature flag once the \"Recent searches\" dropdown has been implemented in https://gitlab.com/gitlab-org/gitlab/-/issues/217720","state":"closed","created_at":"2020-05-14T08:34:07.684Z","updated_at":"2020-12-02T13:59:53.790Z","closed_at":"2020-12-02T13:59:53.741Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["backstage [DEPRECATED]","devops::manage","feature flag","frontend","group::optimize","section::dev","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217721","notes":"https://gitlab.com/api/v4/projects/278964/issues/217721/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217721/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217721","relative":"#217721","full":"gitlab-org/gitlab#217721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34537913,"iid":217716,"project_id":278964,"title":"Refactor file upload in Personal Snippets","description":"When we are creating a new personal snippet and we upload a file inside the description, when the snippet is successfully created, we call [`move_temporary_files`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/controllers/snippets_controller.rb#L59) to move those uploaded files to the recently created snippet.\n\nFor the upcoming edit VUE refactor, where we will call the GraphQL mutations instead of the controller action, we need to move that operation to the service [`Snippets::CreateService`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/services/snippets/create_service.rb).\n\nI think it will be a matter of just moving `move_temporary_files` to the service and call it once the snippet has been successfully created and the files committed to the repository. The needed param `files` needed for that operation is already passed to the service.","state":"closed","created_at":"2020-05-14T07:50:52.102Z","updated_at":"2021-10-28T14:11:27.501Z","closed_at":"2020-05-19T11:06:35.693Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Snippets","backend","backstage [DEPRECATED]","devops::create","group::editor","type::maintenance"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier L√≥pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217716","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217716","notes":"https://gitlab.com/api/v4/projects/278964/issues/217716/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217716/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217716","relative":"#217716","full":"gitlab-org/gitlab#217716"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2679,"epic":{"id":21781,"iid":2679,"title":"Refactor Snippets edit to Vue","url":"/groups/gitlab-org/-/epics/2679","group_id":9970,"human_readable_end_date":"Jan 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34535454,"iid":217708,"project_id":278964,"title":"NoMethodError: undefined method `admin?' for nil:NilClass","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/1577975/?referrer=gitlab_plugin\n\n```\nNoMethodError: undefined method `admin?' for nil:NilClass\n  api/groups.rb:94:in `present_groups'\n    statistics: params[:statistics] \u0026\u0026 current_user.admin?\n  api/groups.rb:125:in `block (2 levels) in \u003cclass:Groups\u003e'\n    present_groups params, groups\n  grape/endpoint.rb:57:in `call'\n    method.bind(endpoint_instance).call\n  grape/endpoint.rb:57:in `block (2 levels) in generate_api_method'\n    method.bind(endpoint_instance).call\n  active_support/notifications.rb:182:in `instrument'\n    yield payload if block_given?\n...\n(130 additional frame(s) were not displayed)\n\nNoMethodError: undefined method `admin?' for nil:NilClass\n```","state":"closed","created_at":"2020-05-14T06:31:54.677Z","updated_at":"2020-05-18T10:29:36.589Z","closed_at":"2020-05-15T09:56:54.976Z","closed_by":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"labels":["api","backend","devops::manage","group::authentication and authorization","type::bug"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217708","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217708","notes":"https://gitlab.com/api/v4/projects/278964/issues/217708/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217708/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217708","relative":"#217708","full":"gitlab-org/gitlab#217708"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34535147,"iid":217707,"project_id":278964,"title":"Show the metric \"The projects count per platform target\" on Periscope dashboard - snowplow","description":"### Proposal\n\nWe want to get the results of a query like this\n\n```sql\nSELECT\n    ci_variables.value\n    , COUNT(*)\nFROM ci_variables\nWHERE ci_variables.key = 'AUTO_DEVOPS_PLATFORM_TARGET'\nGROUP BY ci_variables.value;\n```\n\nAnd get that data into periscope. This can be done by stuffing that data into a new table that can then be exposed to periscope.\n\n#### Merge Requests\n\n1. MR to add the new table.\n2. MR to add a background task that will update that table on a schedule, perhaps once a day.\n\n**Note:** Follow-up work after this is merged to get data into periscope was detailed in this comment: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/40036#note_401867984\n\n\u003cdetails\u003e\n\u003csummary\u003eOriginal Proposal\u003c/summary\u003e\n\n### Problem to solve\n\nAs a PM, I want to know that what deployment targets users are using in the AutoDevOps flow. \n\n### Intended users\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n\n### User experience goal\n\n### Proposal\n\n- We add a new column `cloud_service_type` (enum/integer) to `deployments` table. It takes one of `eks, gke, ecs, fargate`. We add more types in the future e.g. `ec2`, .\n- We extend [`environment`](https://docs.gitlab.com/ee/ci/yaml/#environment) keyword to specify a cloud service type for each deployment job.\n  - We add `environment:cloud_service:` keyword, which persists the value into `deployments.cloud_service_type`.\n- We expose `CI_CLUSTER_CLOUD_SERVICE_TYPE` [predefined variable](https://docs.gitlab.com/ee/ci/variables/predefined_variables.html) from `Clusters::Cluster` model, which returns the provider type of [GitLab Kubernetes Cluster Integration](https://docs.gitlab.com/ee/user/project/clusters/) (i.e. `deployment_platform.cluster.provider_type`)\n- Supports [variable expansion](https://docs.gitlab.com/ee/ci/variables/where_variables_can_be_used.html#variables-usage) in `environment: cloud_service` keywords. \n\nThen, we extend the AutoDevOps templates for tracking the deployment targets:\n\n```diff\ndiff --git a/lib/gitlab/ci/templates/Jobs/Deploy.gitlab-ci.yml b/lib/gitlab/ci/templates/Jobs/Deploy.gitlab-ci.yml\nindex cff4a15e70e..cce76a11d72 100644\n--- a/lib/gitlab/ci/templates/Jobs/Deploy.gitlab-ci.yml\n+++ b/lib/gitlab/ci/templates/Jobs/Deploy.gitlab-ci.yml\n@@ -1,6 +1,8 @@\n .auto-deploy:\n   image: \"registry.gitlab.com/gitlab-org/cluster-integration/auto-deploy-image:v0.17.0\"\n   dependencies: []\n+  environment:\n+    cloud_service: $CI_CLUSTER_CLOUD_SERVICE_TYPE\n \n include:\n   - template: Jobs/Deploy/ECS.gitlab-ci.yml\ndiff --git a/lib/gitlab/ci/templates/Jobs/Deploy/ECS.gitlab-ci.yml b/lib/gitlab/ci/templates/Jobs/Deploy/ECS.gitlab-ci.yml\nindex da474f8ac88..d603768e610 100644\n--- a/lib/gitlab/ci/templates/Jobs/Deploy/ECS.gitlab-ci.yml\n+++ b/lib/gitlab/ci/templates/Jobs/Deploy/ECS.gitlab-ci.yml\n@@ -18,6 +18,7 @@\n   extends: .deploy_to_ecs\n   environment:\n     name: review/$CI_COMMIT_REF_NAME\n+    cloud_service: ecs\n \n .production_ecs_base:\n   stage: production\n@@ -40,6 +41,8 @@ review_ecs:\n \n review_fargate:\n   extends: .review_ecs_base\n+  environment:\n+    cloud_service: fargate\n   rules:\n     - if: '$AUTO_DEVOPS_PLATFORM_TARGET != \"FARGATE\"'\n       when: never\n@@ -64,6 +67,8 @@ production_ecs:\n \n production_fargate:\n   extends: .production_ecs_base\n+  environment:\n+    cloud_service: fargate\n   rules:\n     - if: '$AUTO_DEVOPS_PLATFORM_TARGET != \"FARGATE\"'\n       when: never\n```\n\nThis effectively allows the following queries to track the deployment usage:\n\n- `Deployment.success.count` ... Total successful deployments\n- `Deployment.cloud_service_type_eks.success.count` ... Total successful deployments to EKS on AWS\n- `Deployment.cloud_service_type_gke.success.count` ... Total successful deployments to GKE on GCP\n- `Deployment.cloud_service_type_ecs.success.count` ... Total successful deployments to ECS on AWS\n- `Deployment.cloud_service_type_fargate.success.count` ... Total successful deployments to Fargate on AWS\n\nNOTE: You likely need to create a database index on `cloud_service_type` column for optimizing the above query, otherwise the query could get aborted by statement timeout.\n\n### Further details\n\nThis annotation to the deployment jobs allow us to implement advanced feature for automating/smoothing the bootstrap for deployments to multiple-cloud services.\n\nFollowing https://gitlab.com/gitlab-org/telemetry/-/issues/382#note_342150277 we need to add a DB entry to be able to identify which deployment platforms users are using. \n\u003c/details\u003e","state":"closed","created_at":"2020-05-14T06:17:53.089Z","updated_at":"2022-03-16T11:57:06.020Z","closed_at":"2020-10-07T21:48:46.179Z","closed_by":{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"},"labels":["Category:Continuous Delivery","Release::P2","cicd::active","devops::release","group::release","maintenance::pipelines","missed:13.2","product metrics","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":5370821,"username":"lexicalunit","name":"Amy Troschinetz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5370821/avatar.png","web_url":"https://gitlab.com/lexicalunit"},"user_notes_count":91,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217707","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":7,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217707","notes":"https://gitlab.com/api/v4/projects/278964/issues/217707/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217707/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217707","relative":"#217707","full":"gitlab-org/gitlab#217707"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5274,"epic":{"id":188615,"iid":5274,"title":"Release Stage x-MAU dahsboards","url":"/groups/gitlab-org/-/epics/5274","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34535030,"iid":217706,"project_id":278964,"title":"Monitor usage ping on 13.1","description":"This is a followup for the https://gitlab.com/gitlab-org/gitlab/-/issues/214756\n\n### Open Issues\n- [x] Some `web ide` redis counters do not change across weeks for gitlab.com\n- [ ] Renabled scheduled gitlab.com pings\n\n### Verify newly created counters\n- [x] https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31802\n- [x] `user_secret_detection_jobs`  https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31785\n- [x] Check recording times\n- [x] https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28316 - Add container expiration policies tracking to usage data - merged\n- [x] https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31470 - Move container_expiration_policies_usage to counts - merged \n\n### Compare versions app vs usage ping\n- [x] Compared and added several missing fields to versions app\n\n### Check self-managed issues https://app.periscopedata.com/app/gitlab/632033/Usage-Ping-QA\n- [ ] \n\n\n### Check for regular gitlab.com pings coming from the automated sidekiq job\n- [x] Verified on production that the usage ping is enabled\n- [x] Check weekly incoming pings, after data loads for generated pings\n\n### Check Original usage ping in `raw_usage_data` table in version-app\n\n- [x] related with https://gitlab.com/gitlab-services/version-gitlab-com/-/merge_requests/458\n\ncc @sid_reddy @jeromezng @alinamihaila \n\n- Shared issue with Alina - with a weight of 8 and multiple fixes if anything gets broken","state":"closed","created_at":"2020-05-14T06:13:16.109Z","updated_at":"2020-06-15T11:26:33.537Z","closed_at":"2020-06-15T11:26:33.507Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","group::product intelligence"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":41,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":"2020-06-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217706","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":10},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217706","notes":"https://gitlab.com/api/v4/projects/278964/issues/217706/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217706/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217706","relative":"#217706","full":"gitlab-org/gitlab#217706"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34533920,"iid":217702,"project_id":278964,"title":"Images are not being properly deleted from the Container Registry UI","description":"### Problem to solve\n\nWhen using the Container Registry and navigating to the user interface, there are container image repositories that are marked as \"The image repository is scheduled for deletion\" for an inordinate amount of time. Because oof #18383, when you try to transfer a group or project that had images in the registry, you have to delete all of the tags prior to making the move. \n\nThis bug prevents you from deleting the images and thus transferring groups or projects. \n\n#### Screenshots\n\n![Screen_Shot_2020-05-14_at_1.07.07_PM](/uploads/07ea7a53104fe2269b42d4cf961f1cba/Screen_Shot_2020-05-14_at_1.07.07_PM.png)\n\n### Proposal \n\nGiven that destroyed images in the UI are \"marked\" as destroyed, I suggest using a [limited capacity worker](https://docs.gitlab.com/ee/development/sidekiq_style_guide.html#limited-capacity-worker) for this. This is a similar approach to the one used for cleanup policies.\n\nIn short, don't try to delete all at once because it could be too long/could fail. The worker can go like this:\n\n* Image selection\n  * Take the repositories marked as destroyed. The oldest one (oldest `updated_at`) goes first.\n  * (A database row lock is need here)\n* Background execution\n  * Has the image any tags?\n    * no: destroy it.\n    * yes: take a the list of tags and chunk it. Start deleting the first chunk. When done, take the next one. When all tags are deleted, destroy the image.\n      * Limit in time this operation. Meaning that the number of chunks to be deleted is limited in time.\n      * If the time limit is hit, simply finish the current chunk and end the background execution. Or we could end the current tag destroy action and end the background execution.\n\nWhat we get is:\n\n* Background workers that will run constantly, looking for images and their related tags to destroy.\n* If an error occurs, it's not that important anymore because the delete will be picked up at a later time.\n* If there are too many tags, that's ok too because we will delete a bunch and stop the execution. The delete will be resumed at a later time.\n* This worker will process any new deletes and old ones. Meaning that it will consider all the images currently marked as deleted and not only the new ones.\n\n### Further details\n\nSome folks are still using container images that are marked as deleted. By \"using\", I mean, they still push/pull tags to/from it and use it even though it is marked as deleted and \"greyed out\" in the UI. Those deleted container images still in use will get deleted by the worker once it is refactored.\n\nWe will address this by reverting all the \"deleted\" marks on container images so that the new worker will work out how to proceed moving forward. \n\n#### :gear: Technical aspects\n\n* Use a [limited capacity worker](https://docs.gitlab.com/ee/development/sidekiq_style_guide.html#limited-capacity-worker).\n  * The max capacity will need to be an application setting.\n    * I see around [500](https://console.postgres.ai/gitlab/gitlab-production-tunnel/sessions/2249/commands/6984) (internal) images waiting to be deleted on ~\"gitlab.com\"\n    * Given the current [load](https://log.gprd.gitlab.net/goto/1fe97e86e4894f81a100e5f901a50281), I think `2` should be a good value to start with.\n* We will need a simply cron worker that will need to check if there is any work available (any images marked as destroyed?). If that's the case, enqueue as many limited capacity workers as necessary.\n* Not mandatory but it might be a good idea to use a ~\"feature flag\" for this. The ~\"feature flag\" will be used to switch between the existing worker and the limited capacity worker.\n* I noticed that tags are [deleted by digest](https://gitlab.com/gitlab-org/gitlab/-/blob/966392e796a5f48be9d3c41983c332593097a09e/app/models/container_repository.rb#L105). This is known to be slower than deleting the tag by name. Catch: delete tag by name is only available if the GitLab Container Registry is used.\n  * Use the [delete tags service](https://gitlab.com/gitlab-org/gitlab/-/blob/966392e796a5f48be9d3c41983c332593097a09e/app/services/projects/container_repository/delete_tags_service.rb). It will use the proper way to delete tags depending which Container Registry is being used.\n* General logic of the worker:\n  1. ask for the tag list\n     * if it is empty, destroy the image and return\n     * if it is not empty delete those `n` tags\n  1. return to step (1.)\n* Limit the execution of the workers so that heavy repositories can't \"lock\" them.\n\nI don't see any deep complexity here but we might hit a lot of work to do. As such, this could be done in 2 or 3 MRs. I'm raising the weight to `3` to reflect this uncertainty.","state":"closed","created_at":"2020-05-14T05:08:30.805Z","updated_at":"2023-01-11T00:22:55.352Z","closed_at":"2022-12-14T12:51:33.881Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Deliverable","Package:P1","SUS::Impacting","Track Health Status","UX","backend","bug::ux","customer","devops::package","group::container registry","package:active","package:scaling","priority::2","rails","reproduced on GitLab.com","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":4931532,"username":"asbjchk","name":"John Shiu","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a77ec2e36003e6f8f4e40c291e4c332?s=80\u0026d=identicon","web_url":"https://gitlab.com/asbjchk"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":172,"merge_requests_count":0,"upvotes":26,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217702","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217702","notes":"https://gitlab.com/api/v4/projects/278964/issues/217702/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217702/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217702","relative":"#217702","full":"gitlab-org/gitlab#217702"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9106,"epic":{"id":638114,"iid":9106,"title":"Container Registry: Storage usage bugs","url":"/groups/gitlab-org/-/epics/9106","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":34533171,"iid":217700,"project_id":278964,"title":"Add tests for Vulnerabilities::FindingsPreloader","description":"The following discussion from !31982 should be addressed:\n\n- [x] @jschafer started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31982#note_342101121):  (+2 comments)\n\n    @.luke:\n\n    \u003e I'm a little surprised that there was no existing test of the class, however, if the lack of N+1 is tested for somewhere else, then that would be understandable. If there's not, there may be an opportunity to add such a test as a follow-up\n\n# Technical Implementation\n\n- [x] ~backend \n  - [x] Add spec file and tests for Vulnerabilities::FindingsPreloader","state":"closed","created_at":"2020-05-14T04:14:23.446Z","updated_at":"2020-08-12T19:12:04.621Z","closed_at":"2020-08-12T19:12:04.591Z","closed_by":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"labels":["Category:Vulnerability Management","backend","backend-weight::3","devops::secure","group::threat insights","maintenance::refactor","type::maintenance","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217700","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217700","notes":"https://gitlab.com/api/v4/projects/278964/issues/217700/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217700/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217700","relative":"#217700","full":"gitlab-org/gitlab#217700"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34530339,"iid":217694,"project_id":278964,"title":"Replace \u003cicon\u003e with \u003cgl-icon\u003e component in Related Issuable Item component","description":"### Summary\n\nFollow up on https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31300#note_341637657\n\nWe want to replace `\u003cicon\u003e` in `app/assets/javascripts/vue_shared/components/issue/related_issuable_item.vue` with `\u003cgl-icon\u003e`.","state":"closed","created_at":"2020-05-14T00:12:09.536Z","updated_at":"2020-05-15T00:51:13.770Z","closed_at":"2020-05-15T00:51:05.959Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["backstage [DEPRECATED]","frontend","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217694","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217694","notes":"https://gitlab.com/api/v4/projects/278964/issues/217694/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217694/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217694","relative":"#217694","full":"gitlab-org/gitlab#217694"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34529854,"iid":217689,"project_id":278964,"title":"Multi-line merge request comments: 4. Add line-span information to comments on the Overview tab","description":"The following discussion from !29516 should be addressed:\n\n- [ ] @pedroms started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29516#note_337705912):  (+1 comment)\n\n    \u003e @jboyson ü§î **Question**: Is showing the full commented range in the ‚ÄúOverview‚Äù tab a follow-up to this MR? Or is it feasible to include here? As shown in the example image below, the comment range extends beyond the lines being shown in that ‚Äúpreview‚Äù of the changes.\n    \u003e \n    \u003e ![image](/uploads/0de59992a3fb3b44b8bfa066606a8498/image.png)\n\nNote: This should also bring the highlight to the respective lines.","state":"closed","created_at":"2020-05-13T23:27:01.211Z","updated_at":"2021-07-12T13:32:39.381Z","closed_at":"2021-07-06T17:22:12.830Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["Category:Code Review Workflow","[deprecated] Accepting merge requests","backend","backend-weight::2","customer","devops::create","frontend","frontend-weight::2","group::code review","merge requests","section::dev","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4017300,"username":"jboyson","name":"Justin Boyson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4017300/avatar.png","web_url":"https://gitlab.com/jboyson"},"type":"ISSUE","assignee":null,"user_notes_count":23,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217689","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217689","notes":"https://gitlab.com/api/v4/projects/278964/issues/217689/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217689/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217689","relative":"#217689","full":"gitlab-org/gitlab#217689"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1431,"epic":{"id":8117,"iid":1431,"title":"üí¨ Comment on multiple lines in a merge request diff","url":"/groups/gitlab-org/-/epics/1431","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34529060,"iid":217684,"project_id":278964,"title":"Review CODEOWNERS documentation","description":"We've added some new tweaks to expected behavior, so review the documentation and ensure that it is accurate.","state":"closed","created_at":"2020-05-13T22:34:55.702Z","updated_at":"2020-07-22T04:12:17.049Z","closed_at":"2020-07-21T14:10:05.967Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Code Owners","devops::create","documentation","group::source code","missed:13.0","missed:13.1","missed:13.2"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217684","notes":"https://gitlab.com/api/v4/projects/278964/issues/217684/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217684/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217684","relative":"#217684","full":"gitlab-org/gitlab#217684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34524971,"iid":217668,"project_id":278964,"title":"Allow Secure templates to run in Merge Request only pipelines","description":"Currently our Secure templates only run on branches, but not on Merge Request only pipelines. For example this `.gitlab-ci.yml` doesn't add any of the requested jobs in Merge Requests:\n\n```yaml\ninclude:\n  - template: Dependency-Scanning.gitlab-ci.yml\n  - template: License-Scanning.gitlab-ci.yml\n  - template: SAST.gitlab-ci.yml\n\nworkflow:\n  rules:\n    - if: $CI_COMMIT_REF_NAME == \"master\"\n      when: always\n    - if: $CI_MERGE_REQUEST_IID\n      when: always\n    - when: never\n```\n\nIn our templates [we use rules like](https://gitlab.com/gitlab-org/gitlab/-/blob/a92eb346e387be021d0ae1295798709d37016b7c/lib/gitlab/ci/templates/Security/Dependency-Scanning.gitlab-ci.yml#L154-161) e.g. \n\n```yaml\n    - if: $DEPENDENCY_SCANNING_DISABLED || $DS_DISABLE_DIND == 'false'\n      when: never\n    - if: $CI_COMMIT_BRANCH \u0026\u0026\n          $GITLAB_FEATURES =~ /\\bdependency_scanning\\b/ \u0026\u0026\n          $DS_DEFAULT_ANALYZERS =~ /retire.js/\n      exists:\n        - 'package.json'\n```\n\n\n## Proposal\n\nUpdate `rules` within ~\"section::sec\" templates to support MR pipelines using the following configuration (as suggested [below](https://gitlab.com/gitlab-org/gitlab/-/issues/217668#note_502308480)):\n\n```yaml\njob:\n  rules:\n    - if: $CI_MERGE_REQUEST_IID    # Add the job to merge request pipelines if there's an open merge request.\n    - if: $CI_OPEN_MERGE_REQUESTS  # Don't add it to a *branch* pipeline if it's already in a merge request pipeline.\n      when: never\n    - if: $CI_COMMIT_BRANCH        # If there's no open merge request, add it to a *branch* pipeline instead.\n```\n\n### Implementation plan\n\n- [x] Introduce `.latest.gitlab-ci.yml` templates when missing\n  - [x] [`Jobs/SAST.latest.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/SAST.latest.gitlab-ci.yml) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81847\n  - [x] [`Jobs/SAST-IaC.latest.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/SAST-IaC.latest.gitlab-ci.yml) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/94429\n  - [x] [`Jobs/Secret-Detection.latest.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/Secret-Detection.latest.gitlab-ci.yml) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/81847\n  - [x] [`Jobs/Dependency-Scanning.latest.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/Dependency-Scanning.latest.gitlab-ci.yml) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97323\n  - [x] [`Jobs/Container-Scanning.latest.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/Container-Scanning.latest.gitlab-ci.yml) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97323\n  - [x] [`Jobs/License-Scanning.latest.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/License-Scanning.latest.gitlab-ci.yml) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97323\n  - [x] [`Jobs/DAST.latest.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/DAST.latest.gitlab-ci.yml) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97886\n  - [x] [`Jobs/DAST-API.latest.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/DAST-API.latest.gitlab-ci.yml) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97886\n  - [x] [`Jobs/API-Fuzzing.latest.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/API-Fuzzing.latest.gitlab-ci.yml) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97886\n  - [x] [`Jobs/Coverage-Fuzzing.latest.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/Coverage-Fuzzing.latest.gitlab-ci.yml) | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/97886\n- [x] Update `rules` job configurations for `latest` templates with `CI_OPEN_MERGE_REQUESTS` configuration described above\n- [x] Update [documentation](https://docs.gitlab.com/ee/user/application_security/#use-security-scanning-tools-with-merge-request-pipelines) to include support for Merge Request pipelines out of the box | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/100760\n- [ ] Within MAJOR version release (%16.0), graduate `latest` template changes to stable templates","state":"closed","created_at":"2020-05-13T20:03:16.353Z","updated_at":"2023-01-10T14:44:54.785Z","closed_at":"2022-10-14T20:16:38.758Z","closed_by":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"labels":["Category:Container Scanning","Category:DAST","Category:Dependency Scanning","Category:License Compliance","Category:SAST","Category:Secret Detection","Deliverable","all Sec groups","backend","customer","devops::secure","group::static analysis","internal customer","missed-deliverable","missed:14.8","missed:14.9","section::sec","security-awards::nomination","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"}],"author":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"type":"ISSUE","assignee":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"user_notes_count":96,"merge_requests_count":0,"upvotes":19,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217668","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":13},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"13 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217668","notes":"https://gitlab.com/api/v4/projects/278964/issues/217668/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217668/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217668","relative":"#217668","full":"gitlab-org/gitlab#217668"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7201,"epic":{"id":397087,"iid":7201,"title":"15.0 Deprecations and Removals Work - Static Analysis","url":"/groups/gitlab-org/-/epics/7201","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34524453,"iid":217664,"project_id":278964,"title":"Test Coverage Visualization doesn't easily support C# cobertura reports","description":"\u003c!--¬†The¬†first¬†four¬†sections:¬†\"Problem¬†to¬†solve\",¬†\"Intended¬†users\", \"User experience goal\",¬†and¬†\"Proposal\",¬†are¬†strongly¬†recommended,¬†while¬†the¬†rest¬†of¬†the¬†sections¬†can¬†be¬†filled¬†out¬†during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution.¬†--\u003e\n\n### Problem to solve\nAs a software engineer, when I configure the inline code coverage feature and upload a cobertura report generated by a common library in C# it should \"just work\" so that I can get back to coding and not worry about parsing a report with a program before I pass it to GitLab.\n\n\nRight now the [Test Coverage Visualization feature](https://docs.gitlab.com/ee/user/project/merge_requests/test_coverage_visualization.html) doesn't handle paths in the cobertura report in a robust way. Many different coverage report generating libraries have different approaches around:\n\n1. How much of the path is included in the report in general\n1. Whether the path is recorded as a relative or an absolute path\n1. Where that path is in the cobertura file (the amount of the path that is in the `source` node as compared to the `class` node in the `filename` attribute varies\n\nThis is particularly troublesome for GitLab CI as the report is typically generated inside of a container, and then processed inside of the main application. This means that the filesystem for the report generation is completely different than the filesystem used to process the report.\n\nThe result of this is several notable report generating libraries will generate reports incompatible with this feature _some of the time_. It is unknown how often this is the case, but there have been a few issues raised:\n1. C#/coverlet: https://gitlab.com/gitlab-org/gitlab/-/issues/213444\n1. Python/coverage: https://forum.gitlab.com/t/enabling-cobertura/36918/5\n\n\u003c!-- What problem do we solve? Try¬†to¬†define¬†the¬†who/what/why¬†of¬†the¬†opportunity¬†as¬†a¬†user¬†story.¬†For¬†example,¬†\"As¬†a¬†(who),¬†I¬†want¬†(what),¬†so¬†I¬†can¬†(why/value).\" --\u003e\n\n### Intended users\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n--\u003e\n\n### Proposal\n\nWe can build some logic into how the paths are handled before we attempt to match them with files in the merge request. Ideally we could find a way to intelligently interpret the path so we can get to the project root path and not consider the rest of the path when attempting a match.\n\nWe should look into implementing some logic around matching absolute paths and paths from the root of the git project, so that the cobertura report for C# can be parsed when it is generated in a container.\n\n\n@rickywiens has an example C# project, and both https://gitlab.com/gitlab-org/gitaly and https://gitlab.com/gitlab-org/gitlab-runner are using workarounds to fix the pathing issues, so they would be good samples to use for this.\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\nAn issue has been created to document the process for working around this issue: https://gitlab.com/gitlab-org/gitlab/-/issues/217365 after this is fixed that documentation should be removed/modified.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nWe should try and test all known combinations/permutations of the paths: Relative/Absolute, various splits between the path being in the `source` node and paths being in the `filename` attribute in the `class` node. We should likely generate example cobertura reports from popular libraries and include them in our integration tests for the feature.\n\nSome ideas about popular libraries:\n1. ruby/rspec\n1. python/coverage\n1. Java/??\n1. C#/coverlet\n1. probably more?\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n#### Acceptance Criteria\n* Test Coverage Visualization \"works\" (meets original feature AC) for projects using C# Libraries and generating a cobertura report.\n* Documentation is updated to detail any special setup / changes that need to be made to a project or report to make the feature work.\n\n#### Measures of success\n* Increase in page views of the feature documentation page by 10% Month over Month after release (so if this ships on Sept 22 we would measure Oct vs. Sept) to measure any increase in awareness of the feature.\n* There is no tracking of feature usage at this time.\n\nWe should make this feature to \"just work\" with the dominant C# libraries that generate cobertura reports. \n\n### What is the type of buyer?\n\n\u003c!-- What¬†is¬†the¬†buyer¬†persona¬†for¬†this¬†feature?¬†See¬†https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\nThis will be behind a feature flag: `:smart_cobertura_parser`","state":"closed","created_at":"2020-05-13T19:38:09.447Z","updated_at":"2022-11-29T11:11:04.546Z","closed_at":"2021-01-20T21:05:37.848Z","closed_by":{"id":4061070,"username":"rickywiens","name":"Ricky Wiens","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4061070/avatar.png","web_url":"https://gitlab.com/rickywiens"},"labels":["Category:Code Testing and Coverage","Deliverable","backend","devops::verify","group::pipeline insights","missed-deliverable","missed:13.4","missed:13.5","missed:13.6","missed:13.7","quad-planning::ready","section::ops","type::feature","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":4061070,"username":"rickywiens","name":"Ricky Wiens","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4061070/avatar.png","web_url":"https://gitlab.com/rickywiens"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":74,"merge_requests_count":0,"upvotes":11,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217664","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217664","notes":"https://gitlab.com/api/v4/projects/278964/issues/217664/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217664/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217664","relative":"#217664","full":"gitlab-org/gitlab#217664"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":34524010,"iid":217658,"project_id":278964,"title":"Rename Vulnerabilities::OccurrencesPreloader to Vulnerabilities::FindingsPreloader","description":"## Summary\n\nRename Vulnerabilities::OccurrencesPreloader to Vulnerabilities::FindingsPreloader as described in https://gitlab.com/gitlab-org/gitlab/-/issues/32963. This is to make the naming terminology consistent within the feature.\n\n## Improvements\n\nThe benefits of this refactoring are more clear (and correct) codebase in regards to the terminology which has already proven itself being complex enough to avoid any additional confusion.\n\n## Risks\n\nLoss of functionality if a renaming is missed.\n\n## Involved components\n\n- Vulnerabilities::OccurrencesPreloader (`ee/lib/gitlab/vulnerabilities/occurrences_preloader.rb`)\n- Vulnerabilities::OccurrenceSerializer (`ee/app/serializers/vulnerabilities/occurrence_serializer.rb`)\n- API;:VulnerabilityFindings (`ee/lib/api/vulnerability_findings.rb`)","state":"closed","created_at":"2020-05-13T19:17:13.828Z","updated_at":"2020-05-19T19:21:48.966Z","closed_at":"2020-05-19T19:21:48.936Z","closed_by":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"labels":["backend","backstage [DEPRECATED]","devops::govern","group::threat insights","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"}],"author":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"type":"ISSUE","assignee":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-05-29","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217658","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217658","notes":"https://gitlab.com/api/v4/projects/278964/issues/217658/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217658/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217658","relative":"#217658","full":"gitlab-org/gitlab#217658"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3148,"epic":{"id":44734,"iid":3148,"title":"Rename Vulnerability Occurrences to Findings","url":"/groups/gitlab-org/-/epics/3148","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":34522166,"iid":217648,"project_id":278964,"title":"Add no graph empty state for DAG","description":"For https://gitlab.com/gitlab-org/gitlab/-/issues/215517, one overlooked item is what we should show when there is no graph to render. \n\nWe can ship with just text, but we should probably create a loading state with SVG illustration, etc.\n\n### Proposal\n\n| Mockup ([Figma document](https://www.figma.com/file/TCOlhkBxQzTLu0WSmLCkTs/217648?node-id=0%3A1))  |\n| --- |\n| ![Empty_state_DAG__1_](/uploads/98cd30786cd04a54a20b6fb3d51ef1ad/Empty_state_DAG__1_.png) |\n\n```\nStart using Directed Acyclic Graphs (DAG)\n\nThis pipeline does not use the needs keyword and can't be represented as a directed acyclic graph.\n\nUsing needs allows jobs to run before their stage is reached, as soon as their individual dependencies are met, which speeds up your pipelines.\n```\n\nIllustration: https://gitlab.com/gitlab-org/gitlab-svgs/-/issues/122 merge request has been merged https://gitlab.com/gitlab-org/gitlab-svgs/-/merge_requests/569","state":"closed","created_at":"2020-05-13T18:14:47.266Z","updated_at":"2020-08-07T13:04:05.087Z","closed_at":"2020-07-09T16:43:46.674Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Fr√©d√©ric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Continuous Integration","UI polish","UX","auto updated","depth","devops::verify","frontend","group::pipeline execution","missed:13.1","priority::3","severity::3"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":5327378,"username":"f_caplette","name":"Fr√©d√©ric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":109884,"username":"sarahghp","name":"Sarah Groff Hennigh-Palermo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b3a4be73ec22c01a87b77ddc2bb6f7d?s=80\u0026d=identicon","web_url":"https://gitlab.com/sarahghp"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":33,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217648","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217648","notes":"https://gitlab.com/api/v4/projects/278964/issues/217648/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217648/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217648","relative":"#217648","full":"gitlab-org/gitlab#217648"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34521871,"iid":217645,"project_id":278964,"title":"Follow-up from \"Refactor Compliance Dashboard into Vue app\"","description":"The following discussions from !28361 should be addressed:\n\n- [ ] @splattael started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28361#note_341721079):  (+3 comments)\n\n    \u003e Non-blocking: This _could_ go into a helper since those configuration hashes tend to get bigger and less readable quickly.\n    \u003e \n    \u003e Thoughts?\n\n- [ ] Follow-up notes from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/38513#note_392299353)\n\n    \u003e In addition, we might also want to refactor the usage of instance variables in views and use `local_assigns` \n    \u003e instead as suggested [here](https://docs.gitlab.com/ee/development/module_with_instance_variables.html#instance-variables-in-views).\n\n- [x] @splattael started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28361#note_341721081):  (+3 comments)\n\n    \u003e We could use `let_it_be` here as well.\n    \u003e \n    \u003e To quote [Let it be](https://test-prof.evilmartians.io/#/let_it_be?id=let-it-be):\n    \u003e \n    \u003e \u003e That's it! Just replace let! with let_it_be. That's equal to the before_all approach but requires less refactoring. \n    \u003e \n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e       let_it_be(:approver) { create(:user) }\n    \u003e       let_it_be(:approval) { create :approval, merge_request: merge_request, user: approver }\n    \u003e ```\n    \u003e \n    \u003e Would this work?\n\n- [x] @splattael started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28361#note_341721085): \n\n    \u003e Can we use `let_it_be` easily? :thinking: \n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e   let_it_be(:merge_request) { create(:merge_request, state: :merged) }\n    \u003e ```\n    \u003e \n    \u003e This would be also needed for https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28361/diffs#cba082538e3c2d1ab879ae6b652939502d26ff97_0_26 (`let_it_be(:approval)`)\n\n- [x] @splattael started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28361#note_341721091): \n\n    \u003e We could use `let_it_be` here as well.\n    \u003e \n    \u003e To quote [Let it be](https://test-prof.evilmartians.io/#/let_it_be?id=let-it-be):\n    \u003e \n    \u003e \u003e That's it! Just replace let! with let_it_be. That's equal to the before_all approach but requires less refactoring. \n    \u003e \n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e       let_it_be(:approver) { create(:user) }\n    \u003e       let_it_be(:approval) { create :approval, merge_request: merge_request, user: approver }\n    \u003e ```\n    \u003e \n    \u003e Would this work?\n\n- [x] @splattael started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28361#note_341721094): \n\n    \u003e Same here.\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e       let_it_be(:pipeline) { create(:ci_empty_pipeline, status: :success, project: project, head_pipeline_of: merge_request) }\n    \u003e ```\n\n- [ ] @splattael started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/28361#note_341721100):  (+2 comments)\n\n    \u003e Non-blocking: Since we are adding a new entity should we also add JSON schema and match it in the controller specs? :thinking: \n    \u003e \n    \u003e Similar to [`merge_request_poll_cached_widget.json`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/fixtures/api/schemas/entities/merge_request_poll_cached_widget.json) with [`expect(response).to match_response_schema('entities/merge_request_poll_cached_widget')`](https://gitlab.com/gitlab-org/gitlab/-/blob/bac764f9a41f5f28788a1d843b962473bf7b6c68/ee/spec/controllers/ee/projects/merge_requests/content_controller_spec.rb#L34).\n    \u003e \n    \u003e I've marked this a non-blocking because we have some specs coverage with the feature specs but ideally we want lower level specs as well - so we should follow-up.","state":"closed","created_at":"2020-05-13T18:05:10.724Z","updated_at":"2020-12-15T20:16:50.113Z","closed_at":"2020-08-12T08:56:09.894Z","closed_by":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"labels":["backend","backstage [DEPRECATED]","devops::manage","group::compliance","maintenance::refactor","type::maintenance","workflow::in dev"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217645","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217645","notes":"https://gitlab.com/api/v4/projects/278964/issues/217645/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217645/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217645","relative":"#217645","full":"gitlab-org/gitlab#217645"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34519897,"iid":217637,"project_id":278964,"title":"Create specialized worker for refreshing project authorizations during project sharing","description":"","state":"closed","created_at":"2020-05-13T17:06:23.677Z","updated_at":"2021-04-20T17:36:27.830Z","closed_at":"2020-06-22T09:37:58.444Z","closed_by":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"labels":["Engineering Allocation","backend","backstage [DEPRECATED]","devops::manage","group::authentication and authorization","group::scalability","workflow::staging"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"}],"author":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"type":"ISSUE","assignee":{"id":1315784,"username":"ifarkas","name":"Imre Farkas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4dcfa5185b8513751b447d76b069bf6?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifarkas"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217637","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217637","notes":"https://gitlab.com/api/v4/projects/278964/issues/217637/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217637/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217637","relative":"#217637","full":"gitlab-org/gitlab#217637"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3342,"epic":{"id":55477,"iid":3342,"title":"Specialize workers for ProjectAuthorization calculations","url":"/groups/gitlab-org/-/epics/3342","group_id":9970,"human_readable_end_date":"Jul 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34519024,"iid":217635,"project_id":278964,"title":"Disable filter and sort controls on packages list when Coming Soon tab is active","description":"### Problem to solve\n\nDisable the name filter and sort options when navigating to the Package list Coming Soon tab.\n\n### User experience goal\n\nCurrently, when navigating to the Coming Soon tab, these controls will be enabled but they won't actually do anything. The ~UX here could be improved by disabling the controls so the user understands they are not available when viewing this list.\n\n### Proposal\n\nWhen clicking onto the Coming Soon tab, update some Vuex state to disable the controls.","state":"closed","created_at":"2020-05-13T16:37:32.203Z","updated_at":"2020-10-02T20:29:19.920Z","closed_at":"2020-10-02T20:29:14.580Z","closed_by":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"labels":["Category:Package Registry","UX","[deprecated] Accepting merge requests","devops::package","frontend","group::package registry","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":610592,"iid":24,"group_id":9970,"title":"Awaiting further demand","description":"Indicates that an issue has been triaged, but is not yet on the backlog because it is awaiting further demand from customers.","state":"active","created_at":"2018-08-01T12:23:44.946Z","updated_at":"2018-08-01T12:23:44.946Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/24"},"assignees":[],"author":{"id":4087042,"username":"nkipling","name":"Nick Kipling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4087042/avatar.png","web_url":"https://gitlab.com/nkipling"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217635","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217635","notes":"https://gitlab.com/api/v4/projects/278964/issues/217635/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217635/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217635","relative":"#217635","full":"gitlab-org/gitlab#217635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34517752,"iid":217629,"project_id":278964,"title":"Fix Geo on staging after PG11 upgrade","description":"## Problem\n\nGeo on staging is not working after updating the staging primary database to PostgreSQL 11.7. This issue is to track the effort related to making Geo operational on staging again.\n\n## Action Required\n\n* [ ] Upgrade PostgreSQL on the secondary staging node. [Infra Issue](https://ops.gitlab.net/gitlab-com/gl-infra/db-migration/-/issues/19)\n  * [ ] Determine if this is responsibility of Infrastructure or Geo team\n* [ ] Ensure staging rotation engineers have SSH access to staging. ARs are currently open.\n* [ ] Determine further action items\n\n## Success Criteria\n\nStaging secondary node is updated and syncing again.","state":"closed","created_at":"2020-05-13T16:01:05.996Z","updated_at":"2021-04-15T16:17:05.983Z","closed_at":"2020-06-03T21:05:54.452Z","closed_by":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"labels":["Enablement:Tracking","devops::systems","group::geo","missed:13.0"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"}],"author":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"type":"ISSUE","assignee":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217629","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217629","notes":"https://gitlab.com/api/v4/projects/278964/issues/217629/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217629/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217629","relative":"#217629","full":"gitlab-org/gitlab#217629"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34517642,"iid":217623,"project_id":278964,"title":"Disable sharing of groups within a SaaS customer namespace with other groups","description":"\u003c!--¬†The¬†first¬†four¬†sections:¬†\"Problem¬†to¬†solve\",¬†\"Intended¬†users\", \"User experience goal\",¬†and¬†\"Proposal\",¬†are¬†strongly¬†recommended,¬†while¬†the¬†rest¬†of¬†the¬†sections¬†can¬†be¬†filled¬†out¬†during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution.¬†--\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try¬†to¬†define¬†the¬†who/what/why¬†of¬†the¬†opportunity¬†as¬†a¬†user¬†story.¬†For¬†example,¬†\"As¬†a¬†(who),¬†I¬†want¬†(what),¬†so¬†I¬†can¬†(why/value).\" --\u003e\n\nCustomers on GitLab.com manage a top/root group namespace. Access to that namespace is typically managed on a that root group level and can optionally be protected using SSO. \n\nHowever, subgroups can be shared with any other groups, even from other namespaces. This action can be performed by owners of these subgroups, without knowledge of the root group owner.\n\nThe consequence is a compliance issue, where, as a root group owner, I can not prevent lower level groups being shared with people outside my organization. In addition, these members brought in via shared groups will take billable seats in my subscription as well.\n\n### Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### User experience goal\n\nThe user should be able to prevent groups being shared outside their root group namespace. That feature is analogous to [Share project with group lock](https://docs.gitlab.com/ee/user/project/members/share_project_with_groups.html#share-project-with-group-lock).\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nAdd a configuration option on top group level \"Prevent sharing a group within $namespace with other groups\". Activating that option limits sharing to groups that are descendants of the top level group.\n\n### Further details\n\nThis feature should expose an API attribute, similar to `share_with_group_lock` in the [Groups API](https://docs.gitlab.com/ee/api/groups.html). Enterprise customers need API attributes to automate their configuration.\n\nUpon implementation of this feature, `share_with_group_lock` (currently used for locking project sharing within the group) will be somewhat ambiguously named.\n  \n### Permissions and Security\n\nOwner\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What is the type of buyer?\n\nManaging groups becomes an issue for mid-sized companies with multiple subgroups, so this should be a Premium feature","state":"closed","created_at":"2020-05-13T15:57:33.156Z","updated_at":"2022-01-27T21:01:14.708Z","closed_at":"2021-06-18T01:24:23.029Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Deliverable","Support Priority","Technical Writing","UI text","[deprecated] Category:Utilization","backend","customer","devops::fulfillment","group::utilization","internal customer","section::dev","type::feature","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"}],"author":{"id":4544656,"username":"mbruemmer","name":"Martin Br√ºmmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4544656/avatar.png","web_url":"https://gitlab.com/mbruemmer"},"type":"ISSUE","assignee":{"id":3716529,"username":"jagood","name":"Jason Goodman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6696c95a1788e2d4bee67df636805ecc?s=80\u0026d=identicon","web_url":"https://gitlab.com/jagood"},"user_notes_count":52,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217623","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217623","notes":"https://gitlab.com/api/v4/projects/278964/issues/217623/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217623/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217623","relative":"#217623","full":"gitlab-org/gitlab#217623"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6862,"epic":{"id":364252,"iid":6862,"title":"SaaS User Cap - MVC","url":"/groups/gitlab-org/-/epics/6862","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34515263,"iid":217617,"project_id":278964,"title":"Pipeline Filter: Add Pipeline Status, Tag Name","description":"\u003c!--¬†The¬†first¬†four¬†sections:¬†\"Problem¬†to¬†solve\",¬†\"Intended¬†users\", \"User experience goal\",¬†and¬†\"Proposal\",¬†are¬†strongly¬†recommended,¬†while¬†the¬†rest¬†of¬†the¬†sections¬†can¬†be¬†filled¬†out¬†during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution.¬†--\u003e\n\n### Problem to solve\n\nThe project pipelines list (CI/CD \u003e Pipelines) shows all pipelines triggered for the project but users need the ability to filter the list to focus on pipelines most relevant to them: *As a developer, I want to be able to zero in on things that matter to me, as opposed to things that matter to the whole team*. \n\nPipeline filters was introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/215367 with the ability to filter by Trigger Author and by Branch Name.  \n\nIn this issue we will add two additional pipeline filters:\n*  **Pipeline Status**\n*  **Tag Name**\n\nAs well as filter pipelines by url query params like so:\n\n* `https://gitlab.com/gitlab-org/gitlab/pipelines?page=2\u0026scope=all\u0026username=pburdette`\n\n### Intended users\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### User experience goal\n\nThe user should be able to filter the pipelines list by `Pipeline Status` and by `Tag Name`.\n\nDesign specs can be found in the [epic](https://gitlab.com/groups/gitlab-org/-/epics/3286) or here https://gitlab-org.gitlab.io/gitlab-design/hosted/dimitrie/ce18054-pipeline-filters-spec-previews/\n\n### Proposal\n\nEnable filtering the project pipeline list on the following criteria:\n\n* `pipeline status` \n* `tag name`\n\nfor icons please use:\n\n* `status`\n* `tag`\n\n### Further details\n\n- This issue is a scoped down issue of https://gitlab.com/gitlab-org/gitlab/-/issues/15268, which has been promoted to epic https://gitlab.com/groups/gitlab-org/-/epics/3286.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\nUpdate list of available filters on the [View pipelines](https://docs.gitlab.com/ee/ci/pipelines/#view-pipelines) docs by adding the new pipeline filters added in this issue.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n- What risks does this change pose to our availability? - No risk to our availability\n- How might it affect the quality of the product? - This will increase the quality of our product, adding values to UX by providing meaningful filtered data.\n- Will it require cross-browser testing? - Yes, please make sure all intended behaviors are the same cross-browser (i.e. Chrome, Firefox, IE, Safari ... etc.)\n- What additional test coverage or changes to tests will be needed? - Please see below\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes - Yes\n  * Filter with `Status`, ensure table updates correctly with correct pipelines by pipeline status\n  * Filter with `Tag`, ensure table updates correctly with correct pipelines by tag name\n  * Filter with multiple filters (i.e. both status and tag)\n  * Removing filters will update table data\n\n* Integration test changes\n  * Ensure query params are correct when making api call\n  * Ensure invalid/illegal inputs are being captured/handled appropriately\n\n* End-to-end test change - not required\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning\n\n\n### Links / references\n\nRelated backend work: [Backend work for Pipeline Filter - Pipeline Status, Tag Name](https://gitlab.com/gitlab-org/gitlab/-/issues/217748)","state":"closed","created_at":"2020-05-13T15:09:25.337Z","updated_at":"2022-04-30T22:59:25.341Z","closed_at":"2020-06-16T17:33:38.915Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","Deliverable","UX","Verify::P1","devops::verify","direction","documentation","frontend","group::pipeline execution","quad-planning::complete-action","type::feature","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":26,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217617","notes":"https://gitlab.com/api/v4/projects/278964/issues/217617/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217617/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217617","relative":"#217617","full":"gitlab-org/gitlab#217617"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3286,"epic":{"id":52985,"iid":3286,"title":"Filters for pipelines","url":"/groups/gitlab-org/-/epics/3286","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":34515098,"iid":217616,"project_id":278964,"title":"Don't show notes in confidential issues as confidential notes","description":"It seems that now, when an issue is marked as confidential, all notes are displayed as confidential, too. It is probably due to https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/note.rb#L351. We should change that but make sure we don't break the visibility of notes in confidential issuees.","state":"closed","created_at":"2020-05-13T15:06:49.208Z","updated_at":"2020-06-04T07:52:22.000Z","closed_at":"2020-06-04T07:52:21.950Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Breakdown Sufficient","backend","devops::plan","group::product planning","issues","missed:13.0","priority::2","severity::2","type::bug","workflow::in dev"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":0,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217616","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217616","notes":"https://gitlab.com/api/v4/projects/278964/issues/217616/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217616/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217616","relative":"#217616","full":"gitlab-org/gitlab#217616"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34514399,"iid":217612,"project_id":278964,"title":"`Maximum call stack size exceeded` error when clicking \"Show unchanged lines\" in MR diff of large file","description":"### Summary\n\nWhen clicking the \"Show unchanged lines\" in an MR diff for a large file, the browser hangs.\n\nIn Chrome, I get a `Maximum call stack size exceeded` error in the console.\n\nIn Firefox, I get a \"A web page is slowing down your browser\" message. If I repeatedly click \"Wait\", the script will eventually finish and all lines will be shown as expected.\n\n### Steps to reproduce\n\n1. Navigate to https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/48634/diffs#note_341831446\n1. Click the first \"Show unchanged lines\" link (the one above the diff with the ‚Üë)\n\n### Relevant logs and/or screenshots\n\n\u003cdetails\u003e\n  \u003csummary\u003eFirefox\u003c/summary\u003e\n\n  \u003cimg src=\"/uploads/e69e056038a32728a57390dc70404151/image.png\"\u003e\u003c/img\u003e\n\u003c/details\u003e\n\n\u003cdetails\u003e\n  \u003csummary\u003eChrome\u003c/summary\u003e\n\n  \u003cimg src=\"/uploads/cac3b9a63ff432aa24a6fbefde4c6017/Screen_Shot_2020-05-13_at_10.37.21_AM.png\"\u003e\u003c/img\u003e\n \n\u003c/details\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com.","state":"closed","created_at":"2020-05-13T14:54:14.260Z","updated_at":"2022-03-05T04:47:50.057Z","closed_at":"2021-10-25T03:03:41.885Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Code Review Workflow","[deprecated] Accepting merge requests","auto closed","bug::performance","devops::create","frontend","group::code review","internal customer","merge requests","section::dev","severity::4","stale","type::bug","vintage"],"milestone":null,"assignees":[],"author":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217612","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217612","notes":"https://gitlab.com/api/v4/projects/278964/issues/217612/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217612/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217612","relative":"#217612","full":"gitlab-org/gitlab#217612"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34511637,"iid":217600,"project_id":278964,"title":"Vulnerability feedback is missing for vulnerability occurrences that promoted to first class vulnerabilities","description":"### Summary\n\nWe recently populated first class vulnerabilities from vulnerability occurrences. It seems some vulnerability feedback information is missing after this transformation. \n\n### Steps to reproduce\n\n1.) https://gitlab.com/gitlab-org/gitlab/-/security/dashboard \n\n2.) Click any of the dismissed vulnerabilities\n\n3.) You will see following error\n\nThis problem can be observed for all projects in Gitlab.com \n\n![image](/uploads/aad72d61571b7018fa233de19116844a/image.png)\n\n### Investigation \n\nTo see who dismissed the vulnerability, we need to bring user details via vulnerability feedback.(author_id) Since we don't have that link anymore we are hitting `gitlab.com/api/v4/user/:id` end point with empty user id which causes error, \n\n![image](/uploads/e8e2400207591d961ecbd940aeb979b9/image.png)\n\n\n### What is the expected *correct* behavior?\n\nWe should be able to see who dismissed the issue. Check following screenshot as example, (it is from staging)\n\n![image](/uploads/0a0a0fa170b23645d29065e3887f9b45/image.png)","state":"closed","created_at":"2020-05-13T13:56:02.610Z","updated_at":"2022-03-23T16:06:40.451Z","closed_at":"2020-06-25T00:27:29.343Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","backend","devops::govern","group::threat insights","missed-SLO","missed:13.1","priority::1","security dashboard","severity::2","type::bug","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"}],"author":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"type":"ISSUE","assignee":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"user_notes_count":34,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217600","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217600","notes":"https://gitlab.com/api/v4/projects/278964/issues/217600/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217600/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217600","relative":"#217600","full":"gitlab-org/gitlab#217600"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34510481,"iid":217595,"project_id":278964,"title":"Persist filter on the security dashboard when user navigates back from a vulnerability","description":"## Problem \n\nWhen a user filters the list on the security dashboard and then navigates to a vulnerability to take any action; when they return to the dashboard the filters are reset. This negatively impacts the experience in a significant way. \n\n## Solution\n\nMatch the experience on the issue list or todo's list. When a user returns to the dashboard from a vulnerability, their filters should persist.\n\nJudging by the experience in the issue list, when a user clicks on a navigation item, the filters are reset. When the user navigates *back to* the list from a list items detail page, the filters are persisted.","state":"closed","created_at":"2020-05-13T13:29:28.705Z","updated_at":"2020-07-20T19:52:56.337Z","closed_at":"2020-06-04T11:08:43.970Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:Vulnerability Management","Deliverable","UX","devops::govern","direction","frontend","group::threat insights","security dashboard","severity::2","type::feature","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"}],"author":{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},"type":"ISSUE","assignee":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"user_notes_count":19,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217595","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217595","notes":"https://gitlab.com/api/v4/projects/278964/issues/217595/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217595/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217595","relative":"#217595","full":"gitlab-org/gitlab#217595"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3406,"epic":{"id":59217,"iid":3406,"title":"UX Improvements and Cleanup","url":"/groups/gitlab-org/-/epics/3406","group_id":9970},"iteration":null,"health_status":null},{"id":34509976,"iid":217591,"project_id":278964,"title":"Follow-up from \"jestodus: move a few Frontend specs\"","description":"The following discussion from !29796 should be addressed:\n\n- [ ] @leipert started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/29796#note_326331104):  (+3 comments)\n\n    \u003e Apparently with https://gitlab.com/gitlab-org/gitlab/-/commit/e540c0d71e00c4ce031b94cf11ec3de905e87da7#051b3e1d87652a8a90dd5b8328b7ed07aed22e58 we have removed the `fromContent` prop. So this test didn't test anything.\n\nThis amounts to [removing the unused props passed](https://gitlab.com/gitlab-org/gitlab/blob/v12.10.0-rc20200415152739-ee/app/assets/javascripts/vue_shared/components/markdown/field.vue#L270-271) to the `vue_shared/components/markdown/field.vue` component.","state":"closed","created_at":"2020-05-13T13:17:26.269Z","updated_at":"2022-05-09T09:26:58.691Z","closed_at":"2022-05-09T09:26:58.680Z","closed_by":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"labels":["backstage [DEPRECATED]","frontend","workflow::verification"],"milestone":null,"assignees":[{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":11485645,"username":"thutterer","name":"Thomas Hutterer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11485645/avatar.png","web_url":"https://gitlab.com/thutterer"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217591","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217591","notes":"https://gitlab.com/api/v4/projects/278964/issues/217591/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217591/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217591","relative":"#217591","full":"gitlab-org/gitlab#217591"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34506362,"iid":217580,"project_id":278964,"title":"Improve performance of show.json action (source) for Projects::BlobController under load into the s3 tier","description":"The `Projects::BlobController#show.json` controller and action has been found to perform badly under load for files that are shown in the source view and is over our [new performance target of 500ms](https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels).\n\nThis was actually highlighted initially by a [competitor](https://forgeperf.org/) that led us (Quality) to review our testing in this area. While we already had a test for this, upon review it was clear the file we targeted was too small and was adjusted accordingly to be more reflective. With the file change (640kb to 16kb) the results for the page are as follows:\n\n```\n‚ñà Results summary\n\n* Environment:                10k\n* Environment Version:        13.0.0-pre `f99438802d0`\n* Option:                     60s_200rps\n* Date:                       2020-05-13\n* Run Time:                   1m 2.41s (Start: 11:55:32 UTC, End: 11:56:34 UTC)\n* GPT Version:                v1.3.0\n\nNAME             | RPS  | RPS RESULT         | TTFB AVG  | TTFB P90           | REQ STATUS     | RESULT\n-----------------|------|--------------------|-----------|--------------------|----------------|------------------\nweb_project_file | 20/s | 11.95/s (\u003e16.00/s) | 1570.86ms | 3197.82ms (\u003c500ms) | 100.00% (\u003e95%) | FAILED¬≤¬≥\n```\n\nMetrics:\n\n![Screenshot_2020-05-13_at_13.02.04](/uploads/ba123558f7afc98da09c54f800a1951a/Screenshot_2020-05-13_at_13.02.04.png)\n\nAs shown the test found that the page performs at a bad level with it returning a time to first byte result of around **3s**. This was done against a sizeable file (~640kb), much like what our competitor used.\n\nAs part of the [new performance targets](https://about.gitlab.com/handbook/engineering/quality/issue-triage/#severity) this page is unfortunately over our TTFB target and falls into the ~S2 tier.\n\nTask is to reduce the performance of this page to the next tier of ~S3 (\u003c2000ms).","state":"closed","created_at":"2020-05-13T12:07:25.032Z","updated_at":"2021-07-15T03:16:01.076Z","closed_at":"2020-09-10T09:56:39.691Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["Deliverable","OKR","Quality:performance-issues","backend","bug::performance","devops::create","group::source code","missed-SLO","performance-refinement","priority::2","section::dev","severity::2","type::bug","workflow::in dev"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":3769272,"username":"grantyoung","name":"Grant Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3769272/avatar.png","web_url":"https://gitlab.com/grantyoung"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":40,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217580","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217580","notes":"https://gitlab.com/api/v4/projects/278964/issues/217580/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217580/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217580","relative":"#217580","full":"gitlab-org/gitlab#217580"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3382,"epic":{"id":57568,"iid":3382,"title":"Single Blob performance optimizations","url":"/groups/gitlab-org/-/epics/3382","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":34503206,"iid":217569,"project_id":278964,"title":"Display blocking issue count on issues in list","description":"### Problem to solve\n\nBased on https://gitlab.com/gitlab-org/gitlab/-/issues/34247#note_285026817 this change displays, next to each issue in the list, the number of issues it is blocking.\n\nIt is a first iteration towards sorting the issues list on this value (see: https://gitlab.com/gitlab-org/gitlab/-/issues/34247).\n\n### Proposal\n\n\u003e ...we would like to add Blocking information within issue list items, so once a user sorts by `Blocking`, they can easily scan these values. As seen in [this design](https://gitlab.com/gitlab-org/gitlab/issues/34247/designs/sort-blocking.png), we propose adding the issue-block icon, followed by the number of issues it is blocking. Hovering over the icon or value would display a tooltip informing the user what this information represents (as seen [here](https://gitlab.com/gitlab-org/gitlab/issues/34247/designs/sort-blocking_tooltip-blocking.png)).\n\n### Links / references","state":"closed","created_at":"2020-05-13T11:04:28.486Z","updated_at":"2021-04-03T08:31:41.192Z","closed_at":"2020-11-16T13:15:39.565Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Breakdown Sufficient","Enterprise Edition","GitLab Starter","UX","backend","devops::plan","direction","documentation","frontend","group::product planning","missed:13.4","section::dev","type::feature","workflow::production"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},{"id":5961404,"username":"euko","name":"Eulyeon Ko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5961404/avatar.png","web_url":"https://gitlab.com/euko"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":35,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217569","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217569","notes":"https://gitlab.com/api/v4/projects/278964/issues/217569/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217569/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217569","relative":"#217569","full":"gitlab-org/gitlab#217569"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2032,"epic":{"id":13499,"iid":2032,"title":"Blocking Issue Support","url":"/groups/gitlab-org/-/epics/2032","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34502447,"iid":217567,"project_id":278964,"title":"GraphQL descriptions for \"search\" fields not consistent","description":"They are:\n\n- Epic: 'Filter epics by title and description'\n- Environment: 'Search query'\n- Issue: 'Search query for finding issues by title or description'\n- Project: 'Search criteria'\n- SentryErrorCollection: 'Search term for the Sentry error.'\n- Requirements: 'Filter requirement by title'\n\nWe should probably make them consistent :slight_smile:","state":"closed","created_at":"2020-05-13T10:45:55.307Z","updated_at":"2020-06-24T04:03:32.964Z","closed_at":"2020-06-24T04:03:32.762Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["GraphQL","Technical Writing","api","devops::plan","documentation"],"milestone":null,"assignees":[{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217567","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217567","notes":"https://gitlab.com/api/v4/projects/278964/issues/217567/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217567/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217567","relative":"#217567","full":"gitlab-org/gitlab#217567"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3270,"epic":{"id":52262,"iid":3270,"title":"Improve Plan stage documentation","url":"/groups/gitlab-org/-/epics/3270","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e972\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":34501585,"iid":217564,"project_id":278964,"title":"Export GitLab version in Group Export","description":"The Project export Feature already export a GitLab version file in the bundle. Group export must do the same. This will be useful to validate the version compatibility between export/import.","state":"closed","created_at":"2020-05-13T10:26:21.928Z","updated_at":"2021-05-18T21:01:11.624Z","closed_at":"2020-05-15T13:12:08.738Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:Project Export/Import","devops::manage","group::import"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217564","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217564","notes":"https://gitlab.com/api/v4/projects/278964/issues/217564/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217564/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217564","relative":"#217564","full":"gitlab-org/gitlab#217564"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2734,"epic":{"id":24334,"iid":2734,"title":"Introduce `.ndjson` as a way to process import","url":"/groups/gitlab-org/-/epics/2734","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34500210,"iid":217562,"project_id":278964,"title":"Use a JSON schema when testing the DagPipelineSerializer","description":"Related to https://gitlab.com/gitlab-org/gitlab/-/issues/215524\n\n\u003e It would be nice in a follow-up where we expose this endpoint to have a schema matcher.\n\nWe should use a JSON schema when testing the `DagPipelineSerializer`.","state":"closed","created_at":"2020-05-13T10:02:59.166Z","updated_at":"2021-10-28T14:11:28.135Z","closed_at":"2020-07-10T20:41:20.322Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["backend","devops::verify","group::pipeline execution","missed:13.1","onboarding","type::maintenance","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217562","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217562","notes":"https://gitlab.com/api/v4/projects/278964/issues/217562/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217562/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217562","relative":"#217562","full":"gitlab-org/gitlab#217562"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34499843,"iid":217561,"project_id":278964,"title":"Snippet update errors discards changes","description":"### Summary\n\nWhen updating a snippet (personal or project) if there is a repository related error (e.g. an invalid file name has been used), all changes made will be reverted, which could be super frustrating for users.\n\n### Steps to reproduce\n\n- Create a snippet (personal or project)\n- Edit the snippet\n  - Change content to something new\n  - Change filename to `invalid://path`\n  - Hit save\n- Content and filename changes will have been reverted on resulting view\n\n### What is the current *bug* behavior?\n\nChanges are lost\n\n### What is the expected *correct* behavior?\n\nChanges should not be lost, so the user doesn't lose their changes\n\n### Relevant logs and/or screenshots\n\n![2020-05-13_09.25.32](/uploads/11b1665c626de00a572f28394eececb3/2020-05-13_09.25.32.gif)\n\n### Possible fixes\n\nI think [this block](https://gitlab.com/gitlab-org/gitlab/blob/master/app/services/snippets/update_service.rb#L52) is the cause of the issue because it means any changes the user has made will be reverted.","state":"closed","created_at":"2020-05-13T09:58:08.214Z","updated_at":"2020-05-19T07:53:33.228Z","closed_at":"2020-05-19T07:53:33.137Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Snippets","backend","devops::create","group::editor","priority::1","severity::1","type::bug","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217561","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217561","notes":"https://gitlab.com/api/v4/projects/278964/issues/217561/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217561/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217561","relative":"#217561","full":"gitlab-org/gitlab#217561"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34498594,"iid":217560,"project_id":278964,"title":"Refactor the admin license page","description":"## Summary\n\nWhile working on a change for the admin license page the view became bigger and also more nested. Therefore a suggestion came up to split it into partials and also to translate the used texts.\n\n## Improvements\n\nBy splitting of the view into partials it will become easier readable and parts of the view will be easier to find. Also by translating the texts we can remove on to do from `.haml-lint_todo.yml`.\n\n## Risks\n\nWe're not changing any logic and simply move parts of the view into different partials so the risks should be pretty low.\n\n## Involved components\n\nThei involved file is `ee/app/views/admin/licenses/show.html.haml`.\n\n## Optional: Intended side effects\n\n\u003c!--\nIf the refactoring involves changes apart from the main improvements (such as a better UI), list them here.\nIt may be a good idea to create separate issues and link them here.\n--\u003e","state":"closed","created_at":"2020-05-13T09:47:56.605Z","updated_at":"2020-06-11T07:34:33.582Z","closed_at":"2020-05-25T16:37:51.784Z","closed_by":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"labels":["backend","backstage [DEPRECATED]","devops::fulfillment","devops::growth","maintenance::refactor","workflow::production"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217560","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217560","notes":"https://gitlab.com/api/v4/projects/278964/issues/217560/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217560/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217560","relative":"#217560","full":"gitlab-org/gitlab#217560"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34491218,"iid":217553,"project_id":278964,"title":"Permanent links to release assets: not found (404)","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nNot sure it's a duplicate of #211622.\n\nI am trying the new permanent link feature, but when links are created, if I follow them, I have a 404 response with a message saying ‚ÄúThe page could not be found or you don't have permission to view it.‚Äù\n\n### Steps to reproduce\n\nOn my project, I created a release, and used the API to create some links on it providing a `filepath`. For this, I am using a POST query as explained [in the documentation](https://docs.gitlab.com/ee/api/releases/links.html#create-a-link). The real url is targeting an artifact made by a job of the project (internal link).\n\nWhen viewing the release, the link is there, with the correct name. The target URL looks correct also, even if the ‚Äúdownloads‚Äù part, stated by [this documentation](https://docs.gitlab.com/ee/user/project/releases/index.html#permanent-links-to-release-assets) is not present.\n\nWhen requesting the links with a [GET request](https://docs.gitlab.com/ee/api/releases/links.html#get-links), I get all the links with values which seem corrects (but again, the ‚Äúdownloads‚Äù part is not present).\n\nBut when I click on the link, or when I manually enter the address in the address bar of my browser, I get a 404 page. Note that this is not the simple _page not found_, but the _page not found or permission_ one. Anyway, there should not be a specific permission to view the permanent links, should there?\n\nOn the contrary, if I try to manually add the missing ‚Äúdownloads‚Äù part, I have the simple _page not found_.\n\nNote that if I enter the real _url_ in the address bar of my browser, instead of the _direct_asset_url_, I can download the asset.\n\nOur GitLab is in version 12.10.2.\n\n### Example Project\n\nFor the moment, the links are tested in my internal fork: https://git.duniter.org/sveyret/duniter/-/releases#v1.8.4\n\nIf the link does not work, this will be because I deleted my fork after my modifications were merged into the main project, which you can find here: https://git.duniter.org/nodes/typescript/duniter\n\n### What is the current *bug* behavior?\n\n‚ÄúThe page could not be found or you don't have permission to view it‚Äù (HTML 404) when trying to follow a release asset link.\n\n### What is the expected *correct* behavior?\n\nShould download the asset.","state":"closed","created_at":"2020-05-13T07:36:53.853Z","updated_at":"2022-08-10T17:01:35.278Z","closed_at":"2020-11-13T16:04:03.286Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Release Orchestration","Release::P1","cicd::active","devops::release","group::release","priority::3","section::ops","severity::3","type::bug","usability","workflow::in review"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[],"author":{"id":569664,"username":"sveyret","name":"St√©phane Veyret","state":"active","avatar_url":"https://secure.gravatar.com/avatar/823e8e1ad7e4def33456033b0279da47?s=80\u0026d=identicon","web_url":"https://gitlab.com/sveyret"},"type":"ISSUE","assignee":null,"user_notes_count":41,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217553","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217553","notes":"https://gitlab.com/api/v4/projects/278964/issues/217553/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217553/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217553","relative":"#217553","full":"gitlab-org/gitlab#217553"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34490044,"iid":217552,"project_id":278964,"title":"Evidence summary no longer appears on the vulnerability finding","description":"\n### Summary\n\nA recent bug https://gitlab.com/gitlab-org/gitlab/-/issues/37027 was played to show the evidence summary when the user clicks on a vulnerability finding on the Security Dashboard.\n\nThe work for this bug was completed, released, and the issue was closed. Unfortunately, in the meantime, background work was taking place that changed how the page displays. When the feature flag for this work was turned on, it was discovered that the evidence summary did not appear on the new page.\n\n### Steps to reproduce\n\n- Create a new project.\n- Use the following configuration in the `.gitlab-ci.yml` file\n```yaml\nstages:\n  - build\nbuild:\n  stage: build\n  image: alpine:3.10.3\n  script:\n    - cp dast.json gl-dast-report.json\n  artifacts:\n    reports:\n      dast: gl-dast-report.json\n```\n- Create a file, `dast.json`, and copy the content from [here](https://gitlab.com/gitlab-org/security-products/dast/-/blob/edd4dd86ef427d237cd6c9bd36e3fc194fe1e027/test/end-to-end/expect/test_baseline_api_scan.json) into the file.\n- Commit and push the changes to the `master` branch of your project\n- Wait for the pipeline to finish\n- Navigate to the project Security Dashboard\n- Click on the `PII Scanner` vulnerability`\n- The page should show `Credit Card Type detected` with the credit card number, but it doesn't appear.\n\n### Screenshots\n\n#### What it should look like\n\nTo get to this modal, click on `CI/CD` -\u003e `Pipelines` -\u003e specific pipeline -\u003e `Security` tab -\u003e `PII Scanner` entry:\n\n|How to get to the modal|The modal|\n|-|-|\n|![Peek_2020-05-13_21-49](/uploads/739bf8b72e84742ff9d87bb8be4dc302/Peek_2020-05-13_21-49.gif)|![Screenshot_from_2020-05-13_21-46-21](/uploads/d6f4e62e62e330086582b2c2d3678757/Screenshot_from_2020-05-13_21-46-21.png)|\n\n#### What it actually looks like\n\n||\n|-|\n|![Screenshot_from_2020-05-13_21-52-53](/uploads/e0cbc92843721ab073873fad6a5d66d7/Screenshot_from_2020-05-13_21-52-53.png)|\n\nOn the standalone vulnerability page:\n\n\n\n### What is the current *bug* behavior?\n\nIt doesn't show the evidence summary.\n\n### What is the expected *correct* behavior?\n\nIt should show the evidence summary.\n\n### Possible fixes\n\nI think we need to add the field to [this file](https://gitlab.com/gitlab-org/gitlab/-/blob/8cb20c0109627d03f5628edfa010b7451e90ca3c/ee/app/views/projects/security/vulnerabilities/show.html.haml).\n\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2020-05-13T07:30:16.497Z","updated_at":"2020-06-18T06:47:19.406Z","closed_at":"2020-06-18T06:47:19.371Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["Category:Vulnerability Management","devops::govern","frontend","frontend-weight::2","group::threat insights","priority::2","severity::2","type::bug","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217552","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217552","notes":"https://gitlab.com/api/v4/projects/278964/issues/217552/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217552/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217552","relative":"#217552","full":"gitlab-org/gitlab#217552"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34479657,"iid":217549,"project_id":278964,"title":"Fix button size in comment indicator while viewing Commit","description":"Identified in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31696#note_340655534, the button that indicats comment count is slightly larger than the buttons next to it (see screenshot)\n\n### Screenshot\n\n![demo](https://gitlab.com/gitlab-org/gitlab/uploads/5eb39f3f32b6d2cedbfd6b41156b9406/image.png)","state":"closed","created_at":"2020-05-13T04:25:31.729Z","updated_at":"2020-10-15T15:27:00.172Z","closed_at":"2020-10-15T15:27:00.101Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["[deprecated] Accepting merge requests","devops::create","frontend","group::source code","priority::4","section::dev","severity::4","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217549","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217549","notes":"https://gitlab.com/api/v4/projects/278964/issues/217549/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217549/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217549","relative":"#217549","full":"gitlab-org/gitlab#217549"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34477638,"iid":217540,"project_id":278964,"title":"Merge i18n translations (June 2020)","description":"Merge the latest i18n translations from Crowdin on a monthly cadence.\n\nDocumentation available here: https://docs.gitlab.com/ee/development/i18n/merging_translations.html\n\n#### ToDo\n* [x] Configure the GitLab-Crowdin integration\n* [x] Kick off an import from [Crowdin](https://crowdin.com/project/gitlab-ee/settings#integration) (after June 1)\n* [x] Find the [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026author_username=gitlab-crowdin-bot) created by @gitlab-crowdin-bot and associate it with this issue\n* [x] Complete the MR\n* [x] When done, duplicate this issue for the next milestone.","state":"closed","created_at":"2020-05-13T02:02:30.819Z","updated_at":"2022-03-28T19:24:04.910Z","closed_at":"2020-06-15T15:43:10.397Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["Category:Internationalization","Deliverable","devops::manage","group::import","milestone::p2","workflow::in review"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":"2020-06-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217540","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217540","notes":"https://gitlab.com/api/v4/projects/278964/issues/217540/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217540/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217540","relative":"#217540","full":"gitlab-org/gitlab#217540"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":34476052,"iid":217533,"project_id":278964,"title":"Engineering Design - Secure - Composition Analysis - Metrics - Identify Fixed Finding, with scanner","description":"### Problem to solve\n\nAs part of our metrics, we need to record when a finding is identified as \"fixed\", I believe this is in the back end. This should be done for Dependency Scanning and Container Scanner.\n\nWe also need to record *what* scanner it's associated with.\n\nWork with telemetry @sid_reddy / @hilaqu on how to implement, we must implement and send to telemetry data store.\n\nTalk to @tmccaslin about also recording \"fixed\" for SAST and Secret Detection if it's an easy add while we are already there.\n\nTalk to @derekferguson about also recording \"fixed\" for SAST if it's an easy add while we are already there.\n\nWe should work closely with @matt_wilson to use the same scanner identifier as they do because we are combining metrics with theirs for our ratio.\n\n### Intended users\n\nInternal GitLab team-members, like Product Management and Engineering\n\n### Proposal\n\nThe following implementation is for the SaaS version. On-prem implementation will be handled in a separate issue.\n\n1. [ ] Create a [self describing JSON schema](https://gitlab.com/gitlab-org/iglu/-/tree/master/public/schemas/com.gitlab) to be used for vulnerability events, possibly containing the following details\n\n   ```json\n   {\n     \"data_sources\": \"3\",\n     \"pipeline_id\": 123,\n     \"project_id\": 465,\n     \"user\": \"someuser\",\n     \"scanner_type\": \"container_scanning\",\n     \"scanner_name\": \"klar\",\n     \"branch_type\": \"feature\",\n     \"branch_name\": \"test-vulnerabilities\",\n     \"vulnerabilities\": {\n       \"added\": 100,\n       \"fixed\": 50,\n       \"existing\": 10\n     }\n   }\n   ```\n1. [ ] Add a hook to [StoreReportService#execute](https://gitlab.com/gitlab-org/gitlab/blob/61653f8f224de7ceeb17a53db6a751159679cce8/ee/app/services/security/store_report_service.rb#L17-17) to calculate the difference of vulnerabilities between the master branch and the currently executing pipeline\n1. [ ] Inside this hook, use one of the CompareReportServices, such as [CompareContainerScanningReportsService](https://gitlab.com/gitlab-org/gitlab/blob/524d2ec200b07ba2548d6a2bc0ac5dc0f767b805/ee/app/services/ci/compare_container_scanning_reports_service.rb#L4-4), to generate the list of added, fixed, existing vulnerabilities\n1. [ ] Send a backend snowplow/ruby event using [`Gitlab::Tracking.self_describing_event`](https://gitlab.com/gitlab-org/gitlab/blob/8aeee371dfbfba0fd5e40a6b9f08913557df0e1e/ee/app/controllers/survey_responses_controller.rb#L29) with the schema created in step `1.`\n1. When an MR is merged and the master branch is updated, steps `3.` and `4.` will automatically be executed again to determine which vulnerabilities were fixed in the master branch\n\n### Implementation plan\n\n- An epic has been created for the SaaS implementation: [Secure - Metrics - SaaS - Identify Fixed Finding, with scanner](https://gitlab.com/groups/gitlab-org/-/epics/3952)\n- Self-hosted implementation will be discussed in [Secure - Metrics - Self-Hosted - Identify Fixed Finding, with scanner](https://gitlab.com/gitlab-org/gitlab/-/issues/229618)\n\n### Permissions and Security\n\nWe will send to the telemetry system, they will handle permissions\n\n### Documentation\n\nWe MUST document what we are recording, using what terms, and where we are sending it, and why, we need to ask telemetry team where this should be recorded. This is so that in the future it is easy for us to figure out what metrics we have, how / when they are captured, where they are sent.\n\n### Availability \u0026 Testing\n\nTo be determined. It seems that testing is currently blocked by [Setup Tracking QA/Testing Environment using Snowplow Mini](https://gitlab.com/gitlab-org/telemetry/-/issues/266) but this hasn't yet been confirmed.\n\n### What does success look like, and how can we measure that?\n\nour metrics are available in the telemetry systems, we can make multiple dashboards (category, contributing data, stage), they can be aggregated across the stage into a north star metric.\n\n### Is this a cross-stage feature?\n\nyes\n\n### Links / references\n\nhttps://about.gitlab.com/direction/telemetry/#telemetry-guides","state":"closed","created_at":"2020-05-13T00:11:26.701Z","updated_at":"2020-09-01T01:47:32.860Z","closed_at":"2020-07-17T04:14:19.795Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Container Scanning","Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","Stretch","backend","backstage [DEPRECATED]","devops::secure","feature::addition","group::composition analysis","missed:13.1","product metrics","quad-planning::complete-no-action","type::feature","workflow::in dev"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":63,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217533","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217533","notes":"https://gitlab.com/api/v4/projects/278964/issues/217533/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217533/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217533","relative":"#217533","full":"gitlab-org/gitlab#217533"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3952,"epic":{"id":81970,"iid":3952,"title":"Secure - Metrics - SaaS - Identify Fixed Finding, with scanner, in MR","url":"/groups/gitlab-org/-/epics/3952","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":34475836,"iid":217530,"project_id":278964,"title":"Update vulnerability dismissal to not refetch vulnerabilities on dismissal","description":"## Summary\n\nOn the security dashboard, when a user selects vulnerabilities and dismisses them, the UI keeps its state up-to-date by making another network request to refetch the vulnerabilities from the backend when it could be updating the GraphQL cache with the response from the dismissal request\n\n![image](/uploads/1d98774ca68622e1b06af81d33cf55b8/image.png)\n\n## Improvements\n\nThe improvement to this is we will be cutting down on unnecessary network requests and utilizing GraphQL to its full capabilities\n\n## Risks\n\nIf not done correctly, the client-side state could get out of sync with the backend\n\n## Involved components\n\n`ee/app/assets/javascripts/security_dashboard/components/selection_summary.vue`\n\n## Potential Code\n\n```javascript\n    dismissSelectedVulnerabilities() {\n      const promises = this.selectedVulnerabilities.map((vulnerability, i) =\u003e\n        this.$apollo\n          .mutate({\n            mutation: dismissVulnerability,\n            variables: { id: i % 2 ? '10000' : vulnerability.id, comment: this.dismissalReason },\n          })\n          .catch(error =\u003e {\n            console.log('individual error', error);\n            return error;\n          }),\n      );\n\n      Promise.all(promises)\n        .then(data =\u003e {\n          console.log('data', data);\n          // Now returns an array of either a success or error\n          // [\n          //   {\n          //     dismissVulnerability: {\n          //       errors: [],\n          //       vulnerability: {\n          //         id: 'gid://gitlab/Vulnerability/51',\n          //         state: 'DISMISSED',\n          //       },\n          //     },\n          //   },\n          //   { 'Error Object': 'error data' },\n          // ];\n          // Now do logic here to update cache and if there is an error, createFlash\n          toast(this.dismissalSuccessMessage());\n          this.$emit('deselect-all-vulnerabilities');\n          this.$emit('refetch-vulnerabilities');\n        })\n        .catch(() =\u003e {\n          createFlash(\n            s__('SecurityReports|There was an error dismissing the vulnerabilities.'),\n            'alert',\n          );\n        });\n    },\n  },\n```\n\nRelated to #214376 \n\nRelated to #214255 (Specifically [this MR thread](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/30503#note_336200932))","state":"closed","created_at":"2020-05-12T23:52:21.699Z","updated_at":"2020-09-27T09:03:43.515Z","closed_at":"2020-09-24T12:28:50.953Z","closed_by":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"labels":["Category:Vulnerability Management","bug::performance","devops::secure","frontend","frontend-weight::3","group::threat insights","missed:13.4","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1233754,"iid":52,"group_id":9970,"title":"13.5","description":"https://about.gitlab.com/releases/2020/10/22/gitlab-13-5-released/","state":"closed","created_at":"2020-04-09T17:39:21.990Z","updated_at":"2022-04-21T07:21:12.213Z","due_date":"2020-10-17","start_date":"2020-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/52"},"assignees":[{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217530","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217530","notes":"https://gitlab.com/api/v4/projects/278964/issues/217530/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217530/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217530","relative":"#217530","full":"gitlab-org/gitlab#217530"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34472083,"iid":217517,"project_id":278964,"title":"Follow-up from \"Refactor button to allow for multiple actions\"","description":"The following discussion from !31619 should be addressed:\n\n- [ ] @dmishunov started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31619#note_341271951): \n\n    \u003e **suggestion:** @aturinske, while we're deep into this component, could we please replace the `gl-deprecated-button` with `gl-button`? WDYT?\n    \u003e \n    \u003e Feel free to resolve this in a follow-up Issue","state":"closed","created_at":"2020-05-12T20:58:31.338Z","updated_at":"2020-08-21T20:10:27.271Z","closed_at":"2020-08-21T20:10:27.240Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Vulnerability Management","[deprecated] Accepting merge requests","devops::secure","frontend","frontend-weight::1","good for new contributors","group::threat insights","workflow::ready for development"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217517","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217517","notes":"https://gitlab.com/api/v4/projects/278964/issues/217517/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217517/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217517","relative":"#217517","full":"gitlab-org/gitlab#217517"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":34469553,"iid":217512,"project_id":278964,"title":"Exclusivity of Project Bots [FE]","description":"~backend counterpart (blocking): #215376\n\nPrevent \"Project Bot Users\" from showing in dropdown autocomplete. \"Project Bot Users\" should not be able to be added/edited.\n\n![Screen_Shot_2020-05-12_at_12.33.30_PM](/uploads/25ff9aa6f6125d19e372ab255e3aee4d/Screen_Shot_2020-05-12_at_12.33.30_PM.png)","state":"closed","created_at":"2020-05-12T19:35:15.524Z","updated_at":"2020-07-27T15:33:03.885Z","closed_at":"2020-07-27T15:33:03.849Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Next Up","devops::manage","estimation::completed","frontend","group::authentication and authorization","missed:13.2","workflow::ready for development"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217512","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217512","notes":"https://gitlab.com/api/v4/projects/278964/issues/217512/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217512/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217512","relative":"#217512","full":"gitlab-org/gitlab#217512"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2587,"epic":{"id":19021,"iid":2587,"title":"‚úÖ  Project Level Access Tokens","url":"/groups/gitlab-org/-/epics/2587","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":34469528,"iid":217511,"project_id":278964,"title":"UI to browse locked artifacts","description":"\u003c!--¬†The¬†first¬†four¬†sections:¬†\"Problem¬†to¬†solve\",¬†\"Intended¬†users\", \"User experience goal\",¬†and¬†\"Proposal\",¬†are¬†strongly¬†recommended,¬†while¬†the¬†rest¬†of¬†the¬†sections¬†can¬†be¬†filled¬†out¬†during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution.¬†--\u003e\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try¬†to¬†define¬†the¬†who/what/why¬†of¬†the¬†opportunity¬†as¬†a¬†user¬†story.¬†For¬†example,¬†\"As¬†a¬†(who),¬†I¬†want¬†(what),¬†so¬†I¬†can¬†(why/value).\" --\u003e\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/16267 we introduced locked artifacts which are exempt from the `expire_in` policy in order to keep the latest artifact for a successful job of a successful pipeline, however missing are UI changes to allow browsing/downloading locked artifacts. \n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Proposal\n\nThe UI should allow user to browse artifacts that are expired but locked (latest artifact for a ref).\n\nTo unblock https://gitlab.com/gitlab-org/gitlab/-/issues/16267, this first iteration could simply be to continue showing the \"Browse\" button for locked+expired artifacts.\n\nHaving a separate view for all locked+expired artifacts could be a future iteration with designer involved. \n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n* Unit test changes - Yes, new unit tests for the new logic should be added\n* End-to-end test change -  Yes, please see proposing E2E test case #867 for more information.\n\n### What does success look like, and how can we measure that?\n\nUser can still browse a locked+expired artifact.\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/16267#note_334910034\n\n### Potential follow ups\n\n\u003e We need to involve ~UX here and determine if we should have the messages state that an artifact is expired, but locked, or just tell the user that the artifact is locked.\n\n\u003e This will require some `UX` work and a follow-up issue if we decide to show the custom messages.\n\n\u003e Having a separate view for viewing all of them could be the next step (in a future iteration).","state":"closed","created_at":"2020-05-12T19:34:02.039Z","updated_at":"2021-01-11T15:24:27.891Z","closed_at":"2020-08-21T12:39:31.992Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Fr√©d√©ric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["CI artifacts","Category:Continuous Integration","Deliverable","UX","devops::verify","direction","frontend","group::pipeline execution","missed-deliverable","missed:13.1","missed:13.2","missed:13.3","quad-planning::complete-action","type::feature","workflow::production"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Fr√©d√©ric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":4828839,"username":"thaoyeager","name":"Thao Yeager","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4828839/avatar.png","web_url":"https://gitlab.com/thaoyeager"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Fr√©d√©ric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":57,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/217511","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/217511","notes":"https://gitlab.com/api/v4/projects/278964/issues/217511/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/217511/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#217511","relative":"#217511","full":"gitlab-org/gitlab#217511"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"}]