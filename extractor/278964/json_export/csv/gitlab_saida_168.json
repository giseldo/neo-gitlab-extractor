[{"id":25628600,"iid":33445,"project_id":278964,"title":"Guest users can be assigned as approvers (and get 404 page)","description":"### Summary\n\nIf I add a guest user as an approver for MRs on my project (while guests can’t approve MRs), that guest user can see the message of the MR approver request (see screenshot) but when he clicks the link it’s a 404 page. \n\n\n### Steps to reproduce\n\n1. Add a guest user to be an approver of MRs for a project\n2. Create an MR\n3. The guest user receives a message he was added as an approver for that MR\n4. In that message, the link to the MR leads to 404 page\n\n### Example Project\n\n### What is the current *bug* behavior?\n\nGuest users can be added as approvers, although they cannot in fact see the MR itself, or approve it.\n\n### What is the expected *correct* behavior?\n\nGuest users cannot be added as approvers.\n\n### Relevant logs and/or screenshots\n\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n![Screenshot_2019-10-04_at_15.48.17](/uploads/e1abb29350d1bbcebc044bff2eca633d/Screenshot_2019-10-04_at_15.48.17.png)","state":"closed","created_at":"2019-10-04T13:58:05.383Z","updated_at":"2020-10-19T02:15:25.890Z","closed_at":"2020-10-19T02:15:25.859Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Accepting merge requests","approvals","auto closed","devops::create","group::source code","priority::3","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4339034,"username":"ovider","name":"Osnat Vider","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b9a6fd6e9e4f954e58299c6489d6fa6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/ovider"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33445","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33445","notes":"https://gitlab.com/api/v4/projects/278964/issues/33445/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33445/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33445","relative":"#33445","full":"gitlab-org/gitlab#33445"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25626793,"iid":33441,"project_id":278964,"title":"Automatically stage all changes in the Web IDE","description":"The Issue has been identified [in the discussion](https://gitlab.com/gitlab-org/gitlab/issues/31704#note_226098275) related to committing deleted and changed entires at the same time.\n\n### The current behavior:\n\n1. If there are no files staged, clicking \"Commit\" stages all unstaged files automatically\n2. If there is at least one file staged (\"Staged Changes\" field) then this is what gets into the commit and hence to the MR. Those changed files that were not explicitly staged are simply ignored. This is, technically, by design.\n\n### To reproduce:\n\n1. Open web IDE on a project\n2. Delete a file\n3. Modify a file\n4. Go to the \"Commit\" view. Note deleted file being staged, while the changed one is still in \"Unstaged changes\"\n5. Select \"Create new Merge Request\" and \"Create a new branch\" options\n6. Click the \"Commit\" button without staging the changed file.\n7. In the new MR form, note that the changed file has not been picked up in \"Changes\" tab for the MR (at the bottom of the form)\n\nThis might look counter-intuitive for the end-users even though it follows the original path of `git`.\n\nVideo from https://gitlab.com/gitlab-org/gitlab/issues/31704#note_226025679\n\n![Issue Video](/uploads/97810af92a76a678eb0e96f53398e201/zoom_0.mp4)\n\n## Proposal\n\nIn order to make the workflow easier to understand, we are going to **automatically stage all changes**.\n\nIn addition to that, the following changes have to be made:\n\nOn the `Edit` tab, change the sentence `x unstaged and x staged changes` to **`x staged and x unstaged changes`**. It could otherwise be confusing if the user makes a change and the first number they read is 0.\n\n![image](/uploads/6a2ac5e995980fe7ba1a5e6015f4c3b6/image.png)\n\nIn addition to that, as soon as the user presses the button \"Commit\" in either the `Edit` or `Review` tab, they will switch to the commit tab with the **commit message, branch selection and merge request checkbox expanded**. So far the user first arrived at this screen where they had to click on \"Commit\" again.\n\n![image](/uploads/8f5d0b198157f3f7da395202636a72a5/image.png)\n\nInstead, we want to lead the user directly to this state:\n\n![image](/uploads/afaf2dc2774887a961d11d1ff97f723c/image.png)","state":"closed","created_at":"2019-10-04T13:17:51.395Z","updated_at":"2021-05-22T18:11:27.411Z","closed_at":"2020-01-20T03:40:18.105Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Category:Web IDE","Deliverable","UX problem validation","devops::create","direction","documentation","frontend","group::editor","missed-deliverable","missed:12.6","type::feature","workflow::in review"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},{"id":3688647,"username":"mvanremmerden","name":"Marcel van Remmerden","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4f46ed49b87eab9e74f20e0e25b36d0f?s=80\u0026d=identicon","web_url":"https://gitlab.com/mvanremmerden"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":26,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33441","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33441","notes":"https://gitlab.com/api/v4/projects/278964/issues/33441/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33441/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33441","relative":"#33441","full":"gitlab-org/gitlab#33441"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25624925,"iid":33437,"project_id":278964,"title":"Geo: add note updating primary will cause FDW to go out-of-date","description":"When a user performs an upgrade on the primary, it will perform some migrations (in zero-downtime upgrades and also normal upgrades).\n\nThese migrations will propagate through database replication to the secondary nodes. Those will then suddenly report their FDW schema is out-of-date.\n\n### Proposal\n\nAdd a note in the docs this might happen. \n\nFor zero-downtime updates it should not be a problem, because the migrations done should be compatible. So the user can run `rake geo:refresh_foreign_tables`, but it's not needed.\n\nFor normal upgrades I'm not sure. Maybe FDW is the least of the problems, cause there might have been other breaking migrations.","state":"closed","created_at":"2019-10-04T12:24:07.242Z","updated_at":"2019-10-21T08:13:23.172Z","closed_at":"2019-10-15T06:12:37.830Z","closed_by":{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"},"labels":["Geo Administration","devops::systems","docs-only","documentation","group::geo"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"}],"author":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"type":"ISSUE","assignee":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"user_notes_count":2,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33437","notes":"https://gitlab.com/api/v4/projects/278964/issues/33437/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33437/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33437","relative":"#33437","full":"gitlab-org/gitlab#33437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1935,"epic":{"id":12494,"iid":1935,"title":"Geo: Improved Geo upgrade documentation","url":"/groups/gitlab-org/-/epics/1935","group_id":9970,"human_readable_end_date":"Nov 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25623206,"iid":33423,"project_id":278964,"title":"Misaligned avatar on commit threads","description":"### Summary\n\nAvatar is misaligned when responding to a thread on a commit:\n\n![Screen_Shot_2019-10-04_at_6.17.11_AM](/uploads/5abe62e2becea4de245f414120484c6c/Screen_Shot_2019-10-04_at_6.17.11_AM.png)\n\n\nNote: This is unrelated to https://gitlab.com/gitlab-org/gitlab/merge_requests/18110\n\n### Steps to reproduce\n\n- Start a thread on a commit\n- Click input to respond to thread\n- See misaligned avatar","state":"closed","created_at":"2019-10-04T11:19:23.306Z","updated_at":"2020-04-28T14:10:45.786Z","closed_at":"2020-04-28T14:10:45.694Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["devops::create","frontend","group::source code","missed:12.10","missed:12.8","missed:12.9","priority::3","severity::4","type::bug"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33423","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33423","notes":"https://gitlab.com/api/v4/projects/278964/issues/33423/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33423/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33423","relative":"#33423","full":"gitlab-org/gitlab#33423"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25621687,"iid":33419,"project_id":278964,"title":"GraphQL pagination appears to be broken with includeSubGroups","description":"### Summary\n\nWhen attempting to iterate through all projects on our self-hosted gitlab instance, using this query:\n\n```graphql\nquery GroupRepositories {\n  group(fullPath: \"our-root-group-name\") {\n    projects(includeSubgroups: true, after: \"a-cursor\", first: 30) {\n      nodes {\n        id\n      },\n      pageInfo {\n        hasNextPage,\n        endCursor,\n        hasPreviousPage,\n        startCursor\n      }\n    }\n  }\n}\n```\n\nAfter paginating once, and passing the correct `after` cursor, we end up with a result like so:\n\n```json\n{\n  \"data\": {\n    \"namespace\": {\n      \"projects\": {\n        \"nodes\": [\n          {\n            \"id\": \"gid://gitlab/Project/56\"\n          },\n          ... snip ...\n          {\n            \"id\": \"gid://gitlab/Project/63\"\n          }\n        ],\n        \"pageInfo\": {\n          \"hasNextPage\": false,\n          \"endCursor\": \"NjM\",\n          \"hasPreviousPage\": false,\n          \"startCursor\": \"NTY\"\n        }\n      }\n    }\n  }\n}\n```\n\nAs you can see the `pageInfo` object has `false` for both `hasNextPage` and `hasPreviousPage`. That's impossible, we have over 600 projects on Gitlab under the root group we use and this is the second page of the results.\n\nI've been playing with this and cannot see a pattern here: it's possible to continue to paginate using the `endCursor` but you **gradually get less and less results**.\n\nI have tried to reproduce this on Gitlab.com with the `gitlab-org` group but to no avail. Possibly due to the lack of heavily nested groups.\n\n### Steps to reproduce\n\nWe have a deeply nested structure of groups:\n\n```\nour-org-name/\n    sub-group-name/\n         business-unit1/\n         business-unit2/\n    python/\n         libraries/   \n    devops/\n          containers/\n               language/ \n```\n\nI think this kind of structure brings out a limitation or bug in the `includeSubGroups` implementation. If I do a query on `our-org-name/sub-group-name/`, which has about 40 projects in, I get a complete set of results with working pagination.\n\n### What is the current *bug* behavior?\n\nAfter paginating a large, nested tree of projects you can end up with a logically impossible cursor that says there is no previous or next page.\n\n### What is the expected *correct* behavior?\n\nPagination works as documented\n\n#### Results of GitLab environment info\n\nI'm sorry, it's not possible for me to gather this right now. If you really require it I can see if I can prod the right people. We are running Gitlab `12.3.3-ee`, but this issue was present on `12.2.x` as well.\n\n~bug ","state":"closed","created_at":"2019-10-04T10:17:58.729Z","updated_at":"2019-11-11T19:52:27.320Z","closed_at":"2019-11-11T19:52:27.264Z","closed_by":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"labels":["GraphQL","backend","devops::plan","group::project management","severity::3","type::bug"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"}],"author":{"id":263575,"username":"tom6","name":"Tom Forbes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/386ab8b63b53ec2cbb58563253557f57?s=80\u0026d=identicon","web_url":"https://gitlab.com/tom6"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33419","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33419","notes":"https://gitlab.com/api/v4/projects/278964/issues/33419/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33419/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33419","relative":"#33419","full":"gitlab-org/gitlab#33419"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25621342,"iid":33418,"project_id":278964,"title":"MVC: Improve the Artifacts table view to support more data","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nThe current artifact page does not show enough data to deliver on a meaningful context for users to decide if they need to for example delete it. We've heard from users that additional information that would allow them to trace the artifact back to a pipeline, commit, user, etc. would be helpful when analyzing them. This was noted in https://gitlab.com/gitlab-org/ux-research/-/issues/1679.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n#### Design\n\n🎨 [All screens in design assets](https://gitlab.com/gitlab-org/gitlab/-/issues/33418/designs/pipeline-artifacts.png)\n\n🖌 [Figma file screens under \"List replacement\"](https://www.figma.com/file/vNCEInh84FqNdNqMaIw3S5/Artifacts?node-id=377%3A61711)\n\n#### Technical proposal\n\n- There's no need to introduce a feature flag, we already have [one for this page](https://gitlab.com/gitlab-org/gitlab/-/issues/254938).\n- We can initialize a vue app in place of [the current table](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/artifacts/_table.html.haml) and build it to match the design with gitlab-ui components.\n- We can use a query like this to get the list of artifacts and their details to populate the table:\n\n```graphql\nquery getJobArtifacts {\n  project(fullPath: \"gitlab-org/gitlab\") {\n    jobs(statuses: [SUCCESS, FAILED]) {\n      nodes {\n        status           # job status badge\n        name             # job name\n        id               # use to get link to job\n        \n        \n        pipeline {\n          id             # pipeline\n          path           # pipeline link\n        }\n        \n        \n        refName          # ref\n        refPath          # ref link\n        \n        shortSha         # sha\n        commitPath       # sha link\n        \n        finishedAt       # time that artifacts were created\n        \n        artifacts {\n          nodes {\n            id           # id for deletion\n            name         # artifact name\n            fileType     # artifact file type badge, flag for whether browse button is shown\n            downloadPath # artifact download button link\n            size\t\t\t\t # size in bytes\n            expireAt     # expire date (ISO)\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n- And we can use a mutation like this to delete an artifact by id:\n\n```graphql\nmutation artifactDestroy($id: CiJobArtifactID!) {\n  artifactDestroy(input: { id: $id }) {\n    artifact {\n      name\n    }\n  }\n}\n```\n\n- For the MVC, we can limit the scope to just the table view, so the browse link will still go to [the existing haml-based browse view](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/artifacts/browse.html.haml)\n\n#### Development\n\nGraphQL query to get the job artifacts:\n\n\u003cdetails\u003e\n\u003csummary\u003eClick to expand\u003c/summary\u003e\n\n```\nquery getJobArtifacts {\n  project(fullPath: \"gitlab-org/gitlab\") {\n    jobs(statuses: [SUCCESS, FAILED]) {\n      nodes {\n        id\n        name\n        finishedAt\n        refName\n        refPath\n        shortSha\n        commitPath\n        artifacts {\n          nodes {\n            downloadPath\n            fileType\n            name\n          }\n        }\n      }\n    }\n  }\n}\n```\n\u003c/details\u003e\n\nIncludes the following data for job artifacts:\n- total number of artifact files in job\n- job name\n- job status\n- job commit sha\n- job branch\n- job pipeline ID\n- job created at\n- artifact name\n- artifact type\n- download artifact\n- browse `archive` artifacts\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\nWe should be able to increase adoption by allowing developers to debug their jobs/pipelines faster.\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references\n\n### UX Definition of Done\n\n1️⃣ **VALIDATION TRACK**\n\n**Problem Validation Phase**\n- [x] Problem is well understood and has been validated\n- [x] JTBD is well understood and has been validated\n- [x] PM has communicated the opportunity canvas to stable counterparts and group stakeholders, including the Product Designer and Product Design Manager\n\n**Design Phase**\n- [x] Document the JTBD and UX goal in the issue/epic description\n- [x] Explore multiple different approaches as a team\n- [x] Discuss the technical implications with Engineering\n  - [x] Identify any potential cross-team dependencies and include the DRIs in the discussions\n- [x] Identify a small set of options to validate\n    - [x] Document the user story(ies) for the MVC\n    - [x] Consider edge cases for each user story\n    - [x] Create prototypes or mockups for each user story\n- [x] [Pajamas component lifecycle](https://design.gitlab.com/get-started/lifecycle)\n    - [x] Identify component design or pattern update/creation\n    - [ ] Discuss the technical implications with Engineering\n    - [ ] Pajamas issue is created (within the scope of the MVC)\n- [x] Update issues/epic descriptions\n    - [x] The appropriate [labels](https://about.gitlab.com/handbook/engineering/ux/ux-department-workflow/#how-we-use-labels) were applied\n      - [x] If changes involve copy, add the ~\"Technical Writing\" and ~\"UI text\" labels\n- [x] Proposed solution(s) identified and documented in the issue/epic description\n\n**Solution Validation Phase**\n- [x] Validate the solution to increase confidence in the proposed solution\n- [x] Document the solution validation learnings\n- [x] Product Designer has communicated the solution validation learnings to stable counterparts and group stakeholders, including the Product Design Manager\n- [x] Update the MVC proposal with relevant insights from the solution validation\n  - [x] Discuss the technical implications with Engineering\n  - [x] Update issue/epic description to contain or link to the findings\n\n2️⃣ **BUILD TRACK**\n\n[**Plan Phase**](https://about.gitlab.com/handbook/product-development-flow/#build-phase-1-plan)\n- [x] Proposal is ready to be broken down and prioritized by PM for development\n\n**Develop \u0026 Test Phase**\n- [ ] Product Designer reviewed MRs that include user-facing changes, as per the [Code Review Guidelines](https://docs.gitlab.com/ee/development/code_review.html)\n  - [ ] UX Debt issues have been identified and assigned to a milestone","state":"closed","created_at":"2019-10-04T10:04:48.370Z","updated_at":"2023-01-12T17:29:43.063Z","closed_at":"2022-11-07T18:40:52.143Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["CI artifacts","Category:Build Artifacts","Category:Continuous Integration","SUS::Impacting","UX","UX debt","Verify::P1","backend","depth","design-weight::5","devops::verify","frontend","group::pipeline insights","section::ops","severity::3","type::feature","workflow::feature-flagged"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":107,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33418","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":28,"completed_count":24},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"24 of 28 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33418","notes":"https://gitlab.com/api/v4/projects/278964/issues/33418/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33418/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33418","relative":"#33418","full":"gitlab-org/gitlab#33418"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8311,"epic":{"id":555741,"iid":8311,"title":"Build artifacts page enhancements","url":"/groups/gitlab-org/-/epics/8311","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":25617115,"iid":33405,"project_id":278964,"title":"Container registry, improve delete modal button","description":"Currently the delete tag modal confirmation button says `delete tag(s)` with a generic response for both 1 tag deletion and multiple tags deletion. \n\nWe should customise this to say `delete tag` when only one is being deleted and `delete tags` when multiple tags are being deleted.","state":"closed","created_at":"2019-10-04T07:59:36.320Z","updated_at":"2019-10-09T15:16:51.594Z","closed_at":"2019-10-09T15:16:51.434Z","closed_by":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"labels":["Category:Container Registry","UX","devops::package","frontend","group::package registry"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33405","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33405","notes":"https://gitlab.com/api/v4/projects/278964/issues/33405/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33405/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33405","relative":"#33405","full":"gitlab-org/gitlab#33405"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25599204,"iid":33378,"project_id":278964,"title":"Document using SCIM#Update to change extern_uid for users","description":"SAML and SCIM rely on us having a consistent `NameID`/`extern_uid` to identify which user is logging in. When the Identity Provider changes the id it returns this will prevent the user from being able to log in as well as potentially causing other problems such as duplicate users being created by SCIM.\n\nOne way to fix this is to use the SCIM API to update `extern_uid` values using https://docs.gitlab.com/ee/api/scim.html#update-a-single-saml-user","state":"closed","created_at":"2019-10-03T20:02:54.009Z","updated_at":"2021-04-03T08:31:08.244Z","closed_at":"2020-01-28T01:15:57.054Z","closed_by":{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"},"labels":["backend","devops::manage","documentation","group::authentication and authorization","missed:12.5","missed:12.6","missed:12.7","saml","scim"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"}],"author":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"type":"ISSUE","assignee":{"id":654619,"username":"jamedjo","name":"James Edwards-Jones","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/654619/avatar.png","web_url":"https://gitlab.com/jamedjo"},"user_notes_count":1,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33378","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33378","notes":"https://gitlab.com/api/v4/projects/278964/issues/33378/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33378/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33378","relative":"#33378","full":"gitlab-org/gitlab#33378"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1785,"epic":{"id":11091,"iid":1785,"title":"Group SSO: Stability, Availability, and Security","url":"/groups/gitlab-org/-/epics/1785","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25598610,"iid":33376,"project_id":278964,"title":"Remove \"Local\" qualification on synced progress bar titles since Object Storage is no longer a limitation","description":"This was mentioned here https://gitlab.com/gitlab-org/gitlab/issues/33331:\n\n\u003e\u003e\u003e\n![Screen_Shot_2019-10-03_at_17.11.40](https://gitlab.com/gitlab-org/gitlab/uploads/11dc08ad90df502eebc5f83bdc15f849/Screen_Shot_2019-10-03_at_17.11.40.png)\n\nAlso, the term \"Local ...\" is probably not applicable in some cases as we also sync from clouds.\n\u003e\u003e\u003e\n\nWe added support for syncing remote stored files in https://gitlab.com/gitlab-org/gitlab/merge_requests/15606.","state":"closed","created_at":"2019-10-03T19:31:49.177Z","updated_at":"2019-11-14T13:36:26.031Z","closed_at":"2019-11-14T13:24:14.687Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Geo Administration","[deprecated] Accepting merge requests","devops::systems","frontend","group::geo"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":1933526,"username":"leetickett","name":"Lee Tickett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1933526/avatar.png","web_url":"https://gitlab.com/leetickett"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1933526,"username":"leetickett","name":"Lee Tickett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1933526/avatar.png","web_url":"https://gitlab.com/leetickett"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33376","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33376","notes":"https://gitlab.com/api/v4/projects/278964/issues/33376/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33376/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33376","relative":"#33376","full":"gitlab-org/gitlab#33376"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":369,"epic":{"id":1104,"iid":369,"title":"Geo: Improve UI/UX on Administrator Panel","url":"/groups/gitlab-org/-/epics/369","group_id":9970},"iteration":null,"health_status":null},{"id":25596185,"iid":33368,"project_id":278964,"title":"Built in badge for releases","description":"### Problem to solve\n\nGitlab only offers 2 badges: pipeline and code coverage. Theres a lot more to a project then those two aspects, and there should be more badges to reflect that. The first I suggest is a Latest Release badge\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nUnknown\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\nOpening a merge request to create the badge. Will follow the same pattern as the [pipeline badge](lib/gitlab/badges/pipeline) and [coverage](lib/gitlab/badges/coverage)\n\nfor example: https://img.shields.io/badge/Latest%20Release-v10.3.4-blue\n\nThe 2 fields required for badges is \"Image url\" and \"Link\". The image url will look like\n`https://gitlab.com/%{project_path}/badges/release.svg`\nand link will be \n`https://gitlab.com/%{project_path}/releases`\n\n### Permissions and Security\n\nThe badge should work for private repos as well as public. This is the reason gitlab should provide these badges: so that granting access to external badge generators isn't required.\n\n### Documentation\n\nhttps://docs.gitlab.com/ee/user/project/badges.html\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references\n\n### Release notes\nWe have added a new badge so you can easily see your latest release.","state":"closed","created_at":"2019-10-03T17:55:30.413Z","updated_at":"2022-02-18T18:41:35.708Z","closed_at":"2022-02-18T18:41:35.694Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Release Orchestration","GitLab Free","auto updated","coach will finish","component:badge","devops::release","group::release","potential proposal","release post item::in review","section::dev","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"}],"author":{"id":1399724,"username":"jason.damour","name":"Jason D'Amour","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1399724/avatar.png","web_url":"https://gitlab.com/jason.damour"},"type":"ISSUE","assignee":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"user_notes_count":11,"merge_requests_count":0,"upvotes":25,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33368","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33368","notes":"https://gitlab.com/api/v4/projects/278964/issues/33368/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33368/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33368","relative":"#33368","full":"gitlab-org/gitlab#33368"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25595657,"iid":33364,"project_id":278964,"title":"Pin Version of DAST Scanner in Vendored Template","description":"### Problem:\n\nThis issue is the [summarized version of this issue for DAST](https://gitlab.com/gitlab-org/gitlab/issues/9725#note_203674753). \n\nCurrently we re-release previous versions of the DAST scanner because GitLab's `DAST-gitlab-ci.yml` looks for a DAST image by the name that corresponds with the version of GitLab such as  `11-11-stable` or `11-12-stable`.\n\nWhen a new version of the DAST Scanner is created, that new scanner is deployed to existing DAST images such as `11-11-stable`, `11-12-stable`, etc.  This is not a good practice, as existing versions should not be updated.\n\n### Solution:\nUpdate the `DAST-gitlab-ci.yml` file to pull a specific version of the DAST Scanner that is independent of the GitLab version. For example, in the yml file a variable will define what version of DAST to get: `$DAST_VERSION = 1` or `$DAST_VERSION = 1.4` or `$DAST_VERSION = 1.4.0`. The registry should then retrieve DAST:$DAST_VERSION. \n\nUsers will still have old template files of `DAST-gitlab-ci.yml`, and their installs will continue to search for a DAST image in the naming format of `11-12-stable`. In order to avoid breaking existing installs, and continuing to provide customers the latest compatible scanner, we will continue to support the MAJOR-MINOR-Stable format up until version 13 of GitLab. \n\nTo inform users of the updated versioning system, any image in the MAJOR-MINOR-Stable format, should output a deprecation notice stating that users should retrieve DAST:Version image from the registry instead of MAJOR-MINOR-Stable and provide them to a link of the latest template. \n\nTasks:\n* [x]  Update the vendored template https://gitlab.com/gitlab-org/gitlab-ee/blob/master/lib/gitlab/ci/templates/Security to pin to a version of DAST. \n* [x]  Update the DAST CI config file to release up until version 13.0 for the old naming convention. \n* [x] Update the DAST CI config to build the `major.minor` docker image tag along with `major.minor.patch` and `major` ones.\n* [x]  Update the release process documentation\n* [x]  Add a validation step to ensure CHANGELOGs are in the correct format","state":"closed","created_at":"2019-10-03T17:32:52.264Z","updated_at":"2021-01-04T22:12:45.245Z","closed_at":"2020-01-20T05:29:50.647Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["backend","backstage [DEPRECATED]","devops::secure","group::dynamic analysis","workflow::verification"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":6,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33364","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33364","notes":"https://gitlab.com/api/v4/projects/278964/issues/33364/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33364/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33364","relative":"#33364","full":"gitlab-org/gitlab#33364"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25595014,"iid":33358,"project_id":278964,"title":"Remove fork relationship when the visibility of the parent is restricted","description":"## Problem to solve\n\nIf I fork a popular public project on GitLab.com but the author of that project makes it private, my fork will become private without warning.\n\nThis would be a serious problem if the original project is unmaintained, and my fork is now the actively developed fork with a large amount of community activity. At the moment, the original author might decide to make their project private to reduce confusion or some other reason, and without any warning seriously mess up numerous forks.\n\n## Further details\n\nThe current GitLab behavior also is inconsistent with GitHub, who simply remove the relationship the parent/root project is moved from public to private.\n\n\u003cdetails\u003e\u003csummary\u003eGitHub confirmation screen when making a public project private\u003c/summary\u003e\n\n![clip-20191003T104609](/uploads/f20acd6b0063ee1be41fe331efbfa73d/clip-20191003T104609.png)\n\n\u003c/details\u003e\n\n## Proposal\n\nWhen a project that is **public** or **internal** and the visibility is reduced to **internal** or **private**, remove the relationship between that project and it's forks.\n\n:warning: There should be a confirmation modal to make sure the consequence of changing visibility is clear, since this is a potentially non-revertible, destructive action. This modal would appear when users change the visibility and save changes in the `Visibility, project features, permissions` project settings.\n\n[:mag: Design specs with all states,  measures and easy text copying](https://gitlab-org.gitlab.io/gitlab-design/hosted/pedro/gitlab%2333358-remove-fork-visibility-restricted-spec-previews/)\n\n![image](/uploads/04ed1bc52b2b86b3f81c5da32ad9ccd6/image.png)\n\n#### Before\n\n```mermaid\ngraph TD\n    Root[john/spark-lib]--\u003eA[mary/spark-lib]\n    Root--\u003eB[paul/spark-lib]\n    A--\u003eJ[chris/spark-lib]\n    A--\u003eK[james/spark-lib]\n    A--\u003eL[helen/spark-lib]\n    A--\u003eM[jane/spark-lib]\n```\n\n#### After\n\n```mermaid\ngraph TD\n    Root[john/spark-lib]-.-\u003e|removed|A[mary/spark-lib]\n    Root-.-\u003e|removed|B[paul/spark-lib]\n    A--\u003eJ[chris/spark-lib]\n    A--\u003eK[james/spark-lib]\n    A--\u003eL[helen/spark-lib]\n    A--\u003eM[jane/spark-lib]\n```\n\n## Links / references","state":"closed","created_at":"2019-10-03T17:00:04.910Z","updated_at":"2021-01-08T01:56:27.219Z","closed_at":"2019-12-15T18:08:51.448Z","closed_by":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"labels":["Deliverable","UX","backend","customer","devops::create","forking","frontend","group::source code","missed-deliverable","missed:12.5","repository","type::feature","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"user_notes_count":52,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33358","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33358","notes":"https://gitlab.com/api/v4/projects/278964/issues/33358/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33358/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33358","relative":"#33358","full":"gitlab-org/gitlab#33358"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1175,"epic":{"id":5868,"iid":1175,"title":"🔒 Improve access controls for private fork networks","url":"/groups/gitlab-org/-/epics/1175","group_id":9970,"human_readable_end_date":"Dec 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25591535,"iid":33346,"project_id":278964,"title":"Productivity Analytics: Fix scatterplot chart performance","description":"Currently we have a big performance problem with the scatterplot chart in productivity analytics. For example, if you attempt to select a Project, or select more than 7 days for GitLab.org group, your browser will freeze. ~~As a result we will implement a couple of solutions:~~\n\n~~Improve sorting by [@pshutsin to fill in] in order to improve median calculation~~\n\nEDITED same day by @djensen: Changed title and description","state":"closed","created_at":"2019-10-03T15:22:26.977Z","updated_at":"2020-02-14T08:16:50.600Z","closed_at":"2019-10-10T09:06:02.248Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["backend","devops::manage","frontend","group::optimize","type::bug"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3511154,"username":"valexieva","name":"Virjinia Alexieva","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/bc036fa2e7b6fa926a175324a948169f?s=80\u0026d=identicon","web_url":"https://gitlab.com/valexieva"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33346","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33346","notes":"https://gitlab.com/api/v4/projects/278964/issues/33346/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33346/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33346","relative":"#33346","full":"gitlab-org/gitlab#33346"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25591183,"iid":33341,"project_id":278964,"title":"Gemnasium not PEP 426 compliant when searching for affected Python packages","description":"### Summary\n\nWhen listing the security advisories of a Python package, the name of the package is case sensitive, but it should be case insensitive. This is a serious issue because it may result in vulnerabilities not reported. This may happen with both setuptools' `setup.py` and pip's `requirements.txt`.\n\nMore generally speaking, Gemnasium does NOT comply with [PEP 426](https://www.python.org/dev/peps/pep-0426/#name) when searching for Python packages:\n\n\u003e All comparisons of distribution names MUST be case insensitive, and MUST consider hyphens and underscores to be equivalent.\n\nThis blocks the implementation of [`Pipfile.lock` support](https://gitlab.com/gitlab-org/gitlab/issues/11756) and [`poetry.lock` support](https://gitlab.com/gitlab-org/gitlab/issues/7006) because all names are lowercase in these lock files.\n\n### Steps to reproduce\n\nCreate a Python project that depends on affecting version of Django, and where it's named `django`. For instance, create a `requirements.txt` file with `django==1.11`. In in its current version Gemnasium will find no advisories.\n\nIt shouldn't make any difference because ultimately pip handles both the same:\n\n```\n$ pip download django==2.2.6\nCollecting django==2.2.6\n  Downloading https://files.pythonhosted.org/packages/b2/79/df0ffea7bf1e02c073c2633702c90f4384645c40a1dd09a308e02ef0c817/Django-2.2.6-py3-none-any.whl (7.5MB)\n```\n\n### What is the current *bug* behavior?\n\nFinds no vulnerability for `django`.\n\n### What is the expected *correct* behavior?\n\nFinds the same vulnerabilities for both `Django` and `django`.\n\n### Possible fixes\n\nThe fix is to be implemented in [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium): it should comply with [PEP 426](https://www.python.org/dev/peps/pep-0426/#name) when looking for the advisories (YAML files) associated for a given Python package.","state":"closed","created_at":"2019-10-03T15:09:44.395Z","updated_at":"2022-09-30T13:51:55.643Z","closed_at":"2019-11-14T11:00:12.343Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","priority::2","severity::2","type::bug","workflow::production"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":19,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33341","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33341","notes":"https://gitlab.com/api/v4/projects/278964/issues/33341/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33341/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33341","relative":"#33341","full":"gitlab-org/gitlab#33341"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25590298,"iid":33338,"project_id":278964,"title":"Notify user if they have over 1000 epics in Roadmap","description":"Followup to https://gitlab.com/gitlab-org/gitlab/issues/12887.\n\nFor technical reasons, we limited the number of visible epics to 1000 until [pagination](https://gitlab.com/gitlab-org/gitlab/issues/32822) is complete. We just silently cap it at 1000 though.\n\nWe should inform the user that we are only showing the first 1000 and send an event to snowplow so we can track that there are groups that are hitting the 1000 threshold (we assumed that `gitlab-org` has the most, currently at 500+).\n\ncc @uhlexsis @annabeldunstone \n\n\n## Proposal\nShow a one-time alert message that can be closed with a Learn more button for additional help:\n\n![Screen_Shot_2019-11-04_at_12.17.26_PM](/uploads/ed40275dfac33e92699ca18472c15eb2/Screen_Shot_2019-11-04_at_12.17.26_PM.png)","state":"closed","created_at":"2019-10-03T14:44:05.570Z","updated_at":"2021-11-08T17:02:34.502Z","closed_at":"2019-11-25T23:01:14.535Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Category:Portfolio Management","devops::plan","frontend","group::product planning","missed:12.5","roadmaps","type::feature","workflow::in dev"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},"user_notes_count":50,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33338","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33338","notes":"https://gitlab.com/api/v4/projects/278964/issues/33338/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33338/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33338","relative":"#33338","full":"gitlab-org/gitlab#33338"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25590021,"iid":33337,"project_id":278964,"title":"Project insights doesn't properly limit the scope to the project itself","description":"This was discovered in https://gitlab.com/gitlab-org/gitlab-triage/insights where it should not show anything, because this project shouldn't be included.\n\n:face_palm_tone1: This should be obvious, I am not sure why I would make this mistake.\n\nGroup insights should be fine though.\n\n/cc @gl-quality/eng-prod","state":"closed","created_at":"2019-10-03T14:37:58.117Z","updated_at":"2019-10-07T10:10:51.941Z","closed_at":"2019-10-07T09:16:14.924Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","Quality","insights","type::bug"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"}],"author":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"type":"ISSUE","assignee":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"user_notes_count":3,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33337","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33337","notes":"https://gitlab.com/api/v4/projects/278964/issues/33337/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33337/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33337","relative":"#33337","full":"gitlab-org/gitlab#33337"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25589901,"iid":33335,"project_id":278964,"title":"Geo: for zero-downtime upgrades, ask to refresh FDW after post-deployment migrations","description":"From the discussion in https://gitlab.com/gitlab-org/gitlab/issues/33252#note_225554683:\n\n\u003e\u003e\u003e\nOn our documentation, we mention that users need to [verify the Geo configuration and dependencies](https://gitlab.com/gitlab-org/omnibus-gitlab/merge_requests/3577/diffs#8da735ee1484d97246c63b0dd4d7f5202ec406c8_455_637) on each secondary node after running the post-deployment migrations on the primary. Should we update it to include a new step to refresh the foreign tables or make the Rake task `gitlab:geo:check` smart enough to handle this?\n\u003e\u003e\u003e","state":"closed","created_at":"2019-10-03T14:34:02.276Z","updated_at":"2019-10-29T14:21:55.426Z","closed_at":"2019-10-25T07:46:46.460Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","documentation","group::geo","missed:12.4"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[],"author":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33335","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33335","notes":"https://gitlab.com/api/v4/projects/278964/issues/33335/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33335/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33335","relative":"#33335","full":"gitlab-org/gitlab#33335"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1930,"epic":{"id":12419,"iid":1930,"title":"Geo: More robust Foreign Data Tables updates","url":"/groups/gitlab-org/-/epics/1930","group_id":9970,"human_readable_end_date":"Nov 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25585785,"iid":33323,"project_id":278964,"title":"NPM dependency scanning doesn't handle local references (`file:`) in `package.json`","description":"### Summary\n\nIf a `package.json` references a dependency using a [local file path](https://docs.npmjs.com/files/package.json#local-paths), i.e. `file:../my/local/module`, the `dependency_scanning` job fails with `ERROR: Could not find dependencies: \u003cdependency name\u003e. You may need to run npm install`.\n\n### Steps to reproduce\n\n1. Create a new node project with a `package.json` that references a dependency using a [local path](https://docs.npmjs.com/files/package.json#local-paths).\n1. Enable dependency scanning on the project (add the `dependency_scanning` job to the project's pipeline) and run a new pipeline.\n\n### Example Project\n\nhttps://gitlab.com/nfriend/ts-git\n\nHere is an example of a failing `dependency_scanning` job: https://gitlab.com/nfriend/ts-git/-/jobs/310946162\n\nHere's the dependency that's causing the issue: https://gitlab.com/nfriend/ts-git/blob/3dce19e0bc8b630ca4016404aadd35e2ad58e03a/demo-app/package.json#L38\n\nDisclaimer: it's possible this is actually an issue with how I'm passing artifacts between jobs.  I don't _think_ this is the case, though, as previous stages in my pipeline rely on the local dependency the `dependency_scanning` job is complaining about, and these previous stages pass without any issues.\n\n### What is the current *bug* behavior?\n\nThe `dependency_scanning` job fails.\n\n### What is the expected *correct* behavior?\n\nThe `dependency_scanning` job should handle local file paths (or at least ignore them).\n\n### Relevant logs and/or screenshots\n\n\u003cdetails\u003e\n\u003csummary\u003eClick here to view the entire log of my `dependency_scanning` job\u003c/summary\u003e\n\n```\nRunning with gitlab-runner 12.3.0 (a8a019e0)\n  on docker-auto-scale fa6cab46\nUsing Docker executor with image docker:stable ...\nStarting service docker:stable-dind ...\nPulling docker image docker:stable-dind ...\nUsing docker image sha256:5768e15eefd175c1ba6969b616cfe827152556c5fe691b9258cb57d1a5c37e9d for docker:stable-dind ...\nWaiting for services to be up and running...\n\n*** WARNING: Service runner-fa6cab46-project-11616704-concurrent-0-docker-0 probably didn't start properly.\n\nHealth check error:\nservice \"runner-fa6cab46-project-11616704-concurrent-0-docker-0-wait-for-service\" timeout\n\nHealth check container logs:\n\n\nService container logs:\n2019-10-03T12:54:26.282293608Z time=\"2019-10-03T12:54:26.282038960Z\" level=info msg=\"Starting up\"\n2019-10-03T12:54:26.285401664Z time=\"2019-10-03T12:54:26.285290291Z\" level=warning msg=\"could not change group /var/run/docker.sock to docker: group docker not found\"\n2019-10-03T12:54:26.285852350Z time=\"2019-10-03T12:54:26.285785330Z\" level=warning msg=\"[!] DON'T BIND ON ANY IP ADDRESS WITHOUT setting --tlsverify IF YOU DON'T KNOW WHAT YOU'RE DOING [!]\"\n2019-10-03T12:54:26.287046344Z time=\"2019-10-03T12:54:26.286976640Z\" level=info msg=\"libcontainerd: started new containerd process\" pid=18\n2019-10-03T12:54:26.287164519Z time=\"2019-10-03T12:54:26.287114445Z\" level=info msg=\"parsed scheme: \\\"unix\\\"\" module=grpc\n2019-10-03T12:54:26.287209603Z time=\"2019-10-03T12:54:26.287183681Z\" level=info msg=\"scheme \\\"unix\\\" not registered, fallback to default scheme\" module=grpc\n2019-10-03T12:54:26.287293944Z time=\"2019-10-03T12:54:26.287255401Z\" level=info msg=\"ccResolverWrapper: sending update to cc: {[{unix:///var/run/docker/containerd/containerd.sock 0  \u003cnil\u003e}] }\" module=grpc\n2019-10-03T12:54:26.287339548Z time=\"2019-10-03T12:54:26.287313631Z\" level=info msg=\"ClientConn switching balancer to \\\"pick_first\\\"\" module=grpc\n2019-10-03T12:54:26.287501862Z time=\"2019-10-03T12:54:26.287433098Z\" level=info msg=\"pickfirstBalancer: HandleSubConnStateChange: 0xc00090f890, CONNECTING\" module=grpc\n2019-10-03T12:54:26.332503841Z time=\"2019-10-03T12:54:26.332355855Z\" level=info msg=\"starting containerd\" revision=894b81a4b802e4eb2a91d1ce216b8817763c29fb version=v1.2.6 \n2019-10-03T12:54:26.336904201Z time=\"2019-10-03T12:54:26.335133554Z\" level=info msg=\"loading plugin \"io.containerd.content.v1.content\"...\" type=io.containerd.content.v1 \n2019-10-03T12:54:26.336917732Z time=\"2019-10-03T12:54:26.335222020Z\" level=info msg=\"loading plugin \"io.containerd.snapshotter.v1.btrfs\"...\" type=io.containerd.snapshotter.v1 \n2019-10-03T12:54:26.336921832Z time=\"2019-10-03T12:54:26.335445400Z\" level=warning msg=\"failed to load plugin io.containerd.snapshotter.v1.btrfs\" error=\"path /var/lib/docker/containerd/daemon/io.containerd.snapshotter.v1.btrfs must be a btrfs filesystem to be used with the btrfs snapshotter\" \n2019-10-03T12:54:26.336927345Z time=\"2019-10-03T12:54:26.335458732Z\" level=info msg=\"loading plugin \"io.containerd.snapshotter.v1.aufs\"...\" type=io.containerd.snapshotter.v1 \n2019-10-03T12:54:26.344902914Z time=\"2019-10-03T12:54:26.344791715Z\" level=warning msg=\"failed to load plugin io.containerd.snapshotter.v1.aufs\" error=\"modprobe aufs failed: \"ip: can't find device 'aufs'\\nmodprobe: can't change directory to '/lib/modules': No such file or directory\\n\": exit status 1\" \n2019-10-03T12:54:26.344994420Z time=\"2019-10-03T12:54:26.344961486Z\" level=info msg=\"loading plugin \"io.containerd.snapshotter.v1.native\"...\" type=io.containerd.snapshotter.v1 \n2019-10-03T12:54:26.345163185Z time=\"2019-10-03T12:54:26.345122851Z\" level=info msg=\"loading plugin \"io.containerd.snapshotter.v1.overlayfs\"...\" type=io.containerd.snapshotter.v1 \n2019-10-03T12:54:26.345397762Z time=\"2019-10-03T12:54:26.345351448Z\" level=info msg=\"loading plugin \"io.containerd.snapshotter.v1.zfs\"...\" type=io.containerd.snapshotter.v1 \n2019-10-03T12:54:26.345751116Z time=\"2019-10-03T12:54:26.345705599Z\" level=warning msg=\"failed to load plugin io.containerd.snapshotter.v1.zfs\" error=\"path /var/lib/docker/containerd/daemon/io.containerd.snapshotter.v1.zfs must be a zfs filesystem to be used with the zfs snapshotter\" \n2019-10-03T12:54:26.345820063Z time=\"2019-10-03T12:54:26.345785756Z\" level=info msg=\"loading plugin \"io.containerd.metadata.v1.bolt\"...\" type=io.containerd.metadata.v1 \n2019-10-03T12:54:26.345930513Z time=\"2019-10-03T12:54:26.345886576Z\" level=warning msg=\"could not use snapshotter btrfs in metadata plugin\" error=\"path /var/lib/docker/containerd/daemon/io.containerd.snapshotter.v1.btrfs must be a btrfs filesystem to be used with the btrfs snapshotter\" \n2019-10-03T12:54:26.345976095Z time=\"2019-10-03T12:54:26.345950125Z\" level=warning msg=\"could not use snapshotter aufs in metadata plugin\" error=\"modprobe aufs failed: \"ip: can't find device 'aufs'\\nmodprobe: can't change directory to '/lib/modules': No such file or directory\\n\": exit status 1\" \n2019-10-03T12:54:26.346040170Z time=\"2019-10-03T12:54:26.346007628Z\" level=warning msg=\"could not use snapshotter zfs in metadata plugin\" error=\"path /var/lib/docker/containerd/daemon/io.containerd.snapshotter.v1.zfs must be a zfs filesystem to be used with the zfs snapshotter\" \n2019-10-03T12:54:26.352326896Z time=\"2019-10-03T12:54:26.352234319Z\" level=info msg=\"loading plugin \"io.containerd.differ.v1.walking\"...\" type=io.containerd.differ.v1 \n2019-10-03T12:54:26.352425419Z time=\"2019-10-03T12:54:26.352385202Z\" level=info msg=\"loading plugin \"io.containerd.gc.v1.scheduler\"...\" type=io.containerd.gc.v1 \n2019-10-03T12:54:26.352517581Z time=\"2019-10-03T12:54:26.352473450Z\" level=info msg=\"loading plugin \"io.containerd.service.v1.containers-service\"...\" type=io.containerd.service.v1 \n2019-10-03T12:54:26.352591247Z time=\"2019-10-03T12:54:26.352546821Z\" level=info msg=\"loading plugin \"io.containerd.service.v1.content-service\"...\" type=io.containerd.service.v1 \n2019-10-03T12:54:26.352654566Z time=\"2019-10-03T12:54:26.352625525Z\" level=info msg=\"loading plugin \"io.containerd.service.v1.diff-service\"...\" type=io.containerd.service.v1 \n2019-10-03T12:54:26.352731315Z time=\"2019-10-03T12:54:26.352696822Z\" level=info msg=\"loading plugin \"io.containerd.service.v1.images-service\"...\" type=io.containerd.service.v1 \n2019-10-03T12:54:26.352779626Z time=\"2019-10-03T12:54:26.352756367Z\" level=info msg=\"loading plugin \"io.containerd.service.v1.leases-service\"...\" type=io.containerd.service.v1 \n2019-10-03T12:54:26.352848611Z time=\"2019-10-03T12:54:26.352814924Z\" level=info msg=\"loading plugin \"io.containerd.service.v1.namespaces-service\"...\" type=io.containerd.service.v1 \n2019-10-03T12:54:26.352896106Z time=\"2019-10-03T12:54:26.352872838Z\" level=info msg=\"loading plugin \"io.containerd.service.v1.snapshots-service\"...\" type=io.containerd.service.v1 \n2019-10-03T12:54:26.352968508Z time=\"2019-10-03T12:54:26.352936329Z\" level=info msg=\"loading plugin \"io.containerd.runtime.v1.linux\"...\" type=io.containerd.runtime.v1 \n2019-10-03T12:54:26.353231664Z time=\"2019-10-03T12:54:26.353186835Z\" level=info msg=\"loading plugin \"io.containerd.runtime.v2.task\"...\" type=io.containerd.runtime.v2 \n2019-10-03T12:54:26.353435340Z time=\"2019-10-03T12:54:26.353387455Z\" level=info msg=\"loading plugin \"io.containerd.monitor.v1.cgroups\"...\" type=io.containerd.monitor.v1 \n2019-10-03T12:54:26.354081913Z time=\"2019-10-03T12:54:26.354029745Z\" level=info msg=\"loading plugin \"io.containerd.service.v1.tasks-service\"...\" type=io.containerd.service.v1 \n2019-10-03T12:54:26.354185369Z time=\"2019-10-03T12:54:26.354128366Z\" level=info msg=\"loading plugin \"io.containerd.internal.v1.restart\"...\" type=io.containerd.internal.v1 \n2019-10-03T12:54:26.354303288Z time=\"2019-10-03T12:54:26.354262325Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.containers\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.354352594Z time=\"2019-10-03T12:54:26.354328345Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.content\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.354420283Z time=\"2019-10-03T12:54:26.354388379Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.diff\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.354467424Z time=\"2019-10-03T12:54:26.354443746Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.events\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.354537277Z time=\"2019-10-03T12:54:26.354507780Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.healthcheck\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.354611254Z time=\"2019-10-03T12:54:26.354583219Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.images\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.354677750Z time=\"2019-10-03T12:54:26.354646191Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.leases\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.354724013Z time=\"2019-10-03T12:54:26.354700696Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.namespaces\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.354795381Z time=\"2019-10-03T12:54:26.354763442Z\" level=info msg=\"loading plugin \"io.containerd.internal.v1.opt\"...\" type=io.containerd.internal.v1 \n2019-10-03T12:54:26.355737050Z time=\"2019-10-03T12:54:26.355665068Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.snapshots\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.355841665Z time=\"2019-10-03T12:54:26.355778834Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.tasks\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.355896705Z time=\"2019-10-03T12:54:26.355871821Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.version\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.355966604Z time=\"2019-10-03T12:54:26.355934769Z\" level=info msg=\"loading plugin \"io.containerd.grpc.v1.introspection\"...\" type=io.containerd.grpc.v1 \n2019-10-03T12:54:26.356306792Z time=\"2019-10-03T12:54:26.356257771Z\" level=info msg=serving... address=\"/var/run/docker/containerd/containerd-debug.sock\" \n2019-10-03T12:54:26.356454653Z time=\"2019-10-03T12:54:26.356415820Z\" level=info msg=serving... address=\"/var/run/docker/containerd/containerd.sock\" \n2019-10-03T12:54:26.356500687Z time=\"2019-10-03T12:54:26.356477230Z\" level=info msg=\"containerd successfully booted in 0.030514s\" \n2019-10-03T12:54:26.379500744Z time=\"2019-10-03T12:54:26.379370903Z\" level=info msg=\"pickfirstBalancer: HandleSubConnStateChange: 0xc00090f890, READY\" module=grpc\n2019-10-03T12:54:26.381754390Z time=\"2019-10-03T12:54:26.381667135Z\" level=info msg=\"Setting the storage driver from the $DOCKER_DRIVER environment variable (overlay2)\"\n2019-10-03T12:54:26.382148515Z time=\"2019-10-03T12:54:26.382084075Z\" level=info msg=\"parsed scheme: \\\"unix\\\"\" module=grpc\n2019-10-03T12:54:26.382254314Z time=\"2019-10-03T12:54:26.382191359Z\" level=info msg=\"scheme \\\"unix\\\" not registered, fallback to default scheme\" module=grpc\n2019-10-03T12:54:26.382343825Z time=\"2019-10-03T12:54:26.382297788Z\" level=info msg=\"ccResolverWrapper: sending update to cc: {[{unix:///var/run/docker/containerd/containerd.sock 0  \u003cnil\u003e}] }\" module=grpc\n2019-10-03T12:54:26.382398914Z time=\"2019-10-03T12:54:26.382368736Z\" level=info msg=\"ClientConn switching balancer to \\\"pick_first\\\"\" module=grpc\n2019-10-03T12:54:26.382574601Z time=\"2019-10-03T12:54:26.382494406Z\" level=info msg=\"pickfirstBalancer: HandleSubConnStateChange: 0xc00063aa30, CONNECTING\" module=grpc\n2019-10-03T12:54:26.383197161Z time=\"2019-10-03T12:54:26.383041201Z\" level=info msg=\"pickfirstBalancer: HandleSubConnStateChange: 0xc00063aa30, READY\" module=grpc\n2019-10-03T12:54:26.383856637Z time=\"2019-10-03T12:54:26.383791567Z\" level=info msg=\"parsed scheme: \\\"unix\\\"\" module=grpc\n2019-10-03T12:54:26.383941424Z time=\"2019-10-03T12:54:26.383883759Z\" level=info msg=\"scheme \\\"unix\\\" not registered, fallback to default scheme\" module=grpc\n2019-10-03T12:54:26.384000302Z time=\"2019-10-03T12:54:26.383967919Z\" level=info msg=\"ccResolverWrapper: sending update to cc: {[{unix:///var/run/docker/containerd/containerd.sock 0  \u003cnil\u003e}] }\" module=grpc\n2019-10-03T12:54:26.384059590Z time=\"2019-10-03T12:54:26.384032100Z\" level=info msg=\"ClientConn switching balancer to \\\"pick_first\\\"\" module=grpc\n2019-10-03T12:54:26.384210207Z time=\"2019-10-03T12:54:26.384132427Z\" level=info msg=\"pickfirstBalancer: HandleSubConnStateChange: 0xc00063b040, CONNECTING\" module=grpc\n2019-10-03T12:54:26.388940164Z time=\"2019-10-03T12:54:26.388854691Z\" level=info msg=\"pickfirstBalancer: HandleSubConnStateChange: 0xc00063b040, READY\" module=grpc\n2019-10-03T12:54:26.420235109Z time=\"2019-10-03T12:54:26.420024848Z\" level=info msg=\"Loading containers: start.\"\n2019-10-03T12:54:26.445289328Z time=\"2019-10-03T12:54:26.443625849Z\" level=warning msg=\"Running modprobe bridge br_netfilter failed with message: ip: can't find device 'bridge'\\nbridge                167936  1 br_netfilter\\nstp                    16384  1 bridge\\nllc                    16384  2 bridge,stp\\nip: can't find device 'br_netfilter'\\nbr_netfilter           24576  0 \\nbridge                167936  1 br_netfilter\\nmodprobe: can't change directory to '/lib/modules': No such file or directory\\n, error: exit status 1\"\n2019-10-03T12:54:26.465420131Z time=\"2019-10-03T12:54:26.462167845Z\" level=warning msg=\"Running modprobe nf_nat failed with message: `ip: can't find device 'nf_nat'\\nnf_nat_ipv4            16384  2 ipt_MASQUERADE,iptable_nat\\nnf_nat                 32768  1 nf_nat_ipv4\\nnf_conntrack          135168  5 ipt_MASQUERADE,nf_conntrack_netlink,nf_nat_ipv4,nf_nat,xt_conntrack\\nlibcrc32c              16384  2 nf_nat,nf_conntrack\\nmodprobe: can't change directory to '/lib/modules': No such file or directory`, error: exit status 1\"\n2019-10-03T12:54:26.506846149Z time=\"2019-10-03T12:54:26.485486462Z\" level=warning msg=\"Running modprobe xt_conntrack failed with message: `ip: can't find device 'xt_conntrack'\\nxt_conntrack           16384  2 \\nnf_conntrack          135168  5 ipt_MASQUERADE,nf_conntrack_netlink,nf_nat_ipv4,nf_nat,xt_conntrack\\nmodprobe: can't change directory to '/lib/modules': No such file or directory`, error: exit status 1\"\n2019-10-03T12:54:26.586475350Z time=\"2019-10-03T12:54:26.586363378Z\" level=info msg=\"Default bridge (docker0) is assigned with an IP address 172.18.0.0/16. Daemon option --bip can be used to set a preferred IP address\"\n2019-10-03T12:54:26.647780930Z time=\"2019-10-03T12:54:26.634793217Z\" level=info msg=\"Loading containers: done.\"\n2019-10-03T12:54:26.654931133Z time=\"2019-10-03T12:54:26.654542558Z\" level=info msg=\"Docker daemon\" commit=6a30dfca03 graphdriver(s)=overlay2 version=19.03.2\n2019-10-03T12:54:26.654946561Z time=\"2019-10-03T12:54:26.654700446Z\" level=info msg=\"Daemon has completed initialization\"\n2019-10-03T12:54:26.725681859Z time=\"2019-10-03T12:54:26.725260491Z\" level=info msg=\"API listen on [::]:2375\"\n2019-10-03T12:54:26.725718455Z time=\"2019-10-03T12:54:26.725363448Z\" level=info msg=\"API listen on /var/run/docker.sock\"\n\n*********\n\nPulling docker image docker:stable ...\nUsing docker image sha256:b40e5afd78f53c1f0591358707e06ee7ca2778291dc53864fc1195fc7f3a011a for docker:stable ...\nRunning on runner-fa6cab46-project-11616704-concurrent-0 via runner-fa6cab46-srm-1570107198-73bc1b96...\nFetching changes...\nInitialized empty Git repository in /builds/nfriend/ts-git/.git/\nCreated fresh repository.\nFrom https://gitlab.com/nfriend/ts-git\n * [new branch]      add-sidebar -\u003e origin/add-sidebar\n * [new branch]      master      -\u003e origin/master\n * [new branch]      nfriend-master-patch-24751 -\u003e origin/nfriend-master-patch-24751\n * [new branch]      nfriend-master-patch-76148 -\u003e origin/nfriend-master-patch-76148\nChecking out 3dce19e0 as master...\n\nSkipping Git submodules setup\nChecking cache for master-3...\nDownloading cache.zip from https://storage.googleapis.com/gitlab-com-runners-cache/project/11616704/master-3 \nWARNING: demo-app/node_modules/.bin/ts-git: chmod demo-app/node_modules/.bin/ts-git: no such file or directory (suppressing repeats) \nSuccessfully extracted cache\n$ export DS_VERSION=${SP_VERSION:-$(echo \"$CI_SERVER_VERSION\" | sed 's/^\\([0-9]*\\)\\.\\([0-9]*\\).*/\\1-\\2-stable/')}\n$ if ! docker info \u0026\u003e/dev/null; then # collapsed multi-line command\n$ function propagate_env_vars() { # collapsed multi-line command\n$ docker run \\ # collapsed multi-line command\nUnable to find image 'registry.gitlab.com/gitlab-org/security-products/dependency-scanning:12-3-stable' locally\n12-3-stable: Pulling from gitlab-org/security-products/dependency-scanning\n6c23a00b1a9b: Pulling fs layer\n6c23a00b1a9b: Verifying Checksum\n6c23a00b1a9b: Download complete\n6c23a00b1a9b: Pull complete\nDigest: sha256:396ac8102ac418b2108cbe30b4e8c131d23e69f799c5f1e94199d459d521f4ef\nStatus: Downloaded newer image for registry.gitlab.com/gitlab-org/security-products/dependency-scanning:12-3-stable\n2019/10/03 12:55:24 Copy project directory to containers\n2019/10/03 12:55:24 [bundler-audit] Detect project using plugin\n2019/10/03 12:55:24 [bundler-audit] Project not compatible\n2019/10/03 12:55:24 [gemnasium] Detect project using plugin\n2019/10/03 12:55:24 [gemnasium] Project not compatible\n2019/10/03 12:55:24 [gemnasium-maven] Detect project using plugin\n2019/10/03 12:55:24 [gemnasium-maven] Project not compatible\n2019/10/03 12:55:24 [gemnasium-python] Detect project using plugin\n2019/10/03 12:55:24 [gemnasium-python] Project not compatible\n2019/10/03 12:55:24 [retire.js] Detect project using plugin\n2019/10/03 12:55:24 [retire.js] Project is compatible\n2019/10/03 12:55:24 [retire.js] Starting analyzer...\n2: Pulling from gitlab-org/security-products/analyzers/retire.js\ne7c96db7181b: Pulling fs layer\n0119aca44649: Pulling fs layer\n40df19605a18: Pulling fs layer\n82194b8b4a64: Pulling fs layer\n3f8eebd75473: Pulling fs layer\nce34450465a3: Pulling fs layer\n0fcd52cbb8bb: Pulling fs layer\ncdf1a3cf27a9: Pulling fs layer\n3bec502c4637: Pulling fs layer\n82194b8b4a64: Waiting\n3f8eebd75473: Waiting\nce34450465a3: Waiting\n0fcd52cbb8bb: Waiting\ncdf1a3cf27a9: Waiting\n3bec502c4637: Waiting\ne7c96db7181b: Verifying Checksum\ne7c96db7181b: Download complete\n82194b8b4a64: Verifying Checksum\n82194b8b4a64: Download complete\n0119aca44649: Verifying Checksum\n0119aca44649: Download complete\ne7c96db7181b: Pull complete\nce34450465a3: Verifying Checksum\nce34450465a3: Download complete\n0fcd52cbb8bb: Verifying Checksum\n0fcd52cbb8bb: Download complete\n3f8eebd75473: Verifying Checksum\n3f8eebd75473: Download complete\ncdf1a3cf27a9: Verifying Checksum\ncdf1a3cf27a9: Download complete\n3bec502c4637: Verifying Checksum\n3bec502c4637: Download complete\n40df19605a18: Verifying Checksum\n40df19605a18: Download complete\n0119aca44649: Pull complete\n40df19605a18: Pull complete\n82194b8b4a64: Pull complete\n3f8eebd75473: Pull complete\nce34450465a3: Pull complete\n0fcd52cbb8bb: Pull complete\ncdf1a3cf27a9: Pull complete\n3bec502c4637: Pull complete\nDigest: sha256:43629ccef9a6762392c0ec871f6956df453bab3ac3aa05454d7ccbeb43827d7c\nStatus: Downloaded newer image for registry.gitlab.com/gitlab-org/security-products/analyzers/retire.js:2\nFound project in /tmp/app/demo-app\nnode_modules detected, skipping installation.\nERROR: Could not find dependencies: @nathanfriend/ts-git. You may need to run npm install\n2019/10/03 12:56:53 exit status 1\n2019/10/03 12:56:53 Container exited with non zero status code\nUploading artifacts...\nWARNING: gl-dependency-scanning-report.json: no matching files \nERROR: No files to upload                          \nERROR: Job failed: exit code 1\n```\n\n\u003c/details\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com.\n\n### Documentation\n\n- [x] Update Dependency Scanning docs to document this limitation https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31844\n\n### Possible fixes\n\n- Make Retire.js skip local dependencies and report warnings instead of failing. See follow-up issue https://gitlab.com/gitlab-org/gitlab/-/issues/216918.","state":"closed","created_at":"2019-10-03T13:12:54.837Z","updated_at":"2020-06-09T12:11:22.397Z","closed_at":"2020-05-15T06:28:56.685Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Enterprise Edition","backend","devops::secure","group::composition analysis","priority::3","quad-planning::complete-no-action","severity::3","type::bug","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":30,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33323","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33323","notes":"https://gitlab.com/api/v4/projects/278964/issues/33323/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33323/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33323","relative":"#33323","full":"gitlab-org/gitlab#33323"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25584156,"iid":33321,"project_id":278964,"title":"Backport Gemnasium 2.x to GitLab 10.7 up to 11.5","description":"## Summary\n\nIn the context of https://gitlab.com/gitlab-org/gitlab/issues/14630, it's necessary to back-port Gemnasium 2.x to all versions of GitLab starting from 10.7, when Dependency Scanning was first introduced. See https://gitlab.com/gitlab-org/gitlab/issues/12930#note_213498000\n\nFrom GitLab 10.7 up to GiLab 11.5, Dependency Scanning was a Ruby project (see [11-5-stable](https://gitlab.com/gitlab-org/security-products/dependency-scanning/tree/11-5-stable) branch of the [dependency-scanning](https://gitlab.com/gitlab-org/security-products/dependency-scanning) project). It became a Go project in 11.6, and back-porting Gemnasium 2 to 11.6 is out of scope of this issue.\n\n## Further details\n\nSee https://gitlab.com/gitlab-org/gitlab/issues/12930#note_213498000\n\n### Dependency Scanning for GitLab 10.7\n\nGitLab documentation says that Dependency Scanning was [Introduced in GitLab Ultimate 10.7](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/index.html) though truly DS was introduced in 10.5, and 10.7 is when it was extracted out of a SAST+DS project. See https://gitlab.com/gitlab-org/gitlab-ee/issues/5105.\n\nLooking at the source code, not much happened [between 10.7 and 11.5](https://gitlab.com/gitlab-org/security-products/dependency-scanning/compare/10-7-stable...11-5-stable), and this confirmed by the [changelog](https://gitlab.com/gitlab-org/security-products/dependency-scanning/blob/11-5-stable/CHANGELOG.md).\n\nGemnasium existed as an analyzer plugin in what used to be a Ruby project. See [lib/analyzers/gemnasium.rb](https://gitlab.com/gitlab-org/security-products/dependency-scanning/blob/11-5-stable/lib/analyzers/gemnasium.rb). The code is small and it's tested using RSpec.\n\nThe Gemnasium plugin [downloads and runs gemnasium-client v1.0.1](https://gitlab.com/gitlab-org/security-products/dependency-scanning/blob/11-5-stable/lib/analyzers/gemnasium.rb#L15), then converts its output.\n\nGemnasium is disabled when either `SAST_DISABLE_REMOTE_CHECKS` or `DEP_SCAN_DISABLE_REMOTE_CHECKS` is disabled. That wouldn't change.\nSee [lib/analyze.rb](https://gitlab.com/gitlab-org/security-products/dependency-scanning/blob/11-5-stable/lib/analyze.rb#L21).\n\nThere's a warning when there's no `/var/run/docker.sock` Unix socket, saying that Gemnasium won't be able to scan Python and Maven projects. That wouldn't change. See [lib/technologies.rb](https://gitlab.com/gitlab-org/security-products/dependency-scanning/blob/11-5-stable/lib/technologies.rb#L80).\n\nThe [gemnasium-client](https://gitlab.com/gitlab-org/security-products/gemnasium/client) CLI parses all the dependency files it finds, builds a list of packages, and ultimately queries the Gemnasium API to get a vulnerability list. If a Python project is detected, it delegates the generation of `pipdeptree.json` and then parses the file. Same goes for Maven.\n\n[gemnasium/client](https://gitlab.com/gitlab-org/security-products/gemnasium/client) contains the `Dockerfile` used to generate the Gemnasium Python and Gemnasium Maven images. The project is no longer maintain.\n\nWe moved away from this architecture because it was too complex, thus hard to maintain. For that reason I recommend we don't do any back-port in [gemnasium/client](https://gitlab.com/gitlab-org/security-products/gemnasium/client), but archive this project instead.\n\n### Documentation\n\n- [SAST+DS in GitLab 10.5](https://gitlab.com/gitlab-org/gitlab/blob/v10.5.0-ee/doc/ci/examples/sast.md), based on a single image\n- [SAST+DS in GitLab 10.6](https://gitlab.com/gitlab-org/gitlab/blob/v10.6.0-ee/doc/ci/examples/sast.md), using Docker-in-Docker\n- [DS in GitLab 10.7](https://gitlab.com/gitlab-org/gitlab/blob/v10.7.0-ee/doc/ci/examples/dependency_scanning.md), using Docker-in-Docker, very similar to previous job definition\n\n\n### Job definition\n\nHere's the [job definition in GitLab EE 10.7](https://gitlab.com/gitlab-org/gitlab/blob/v10.7.0-ee/doc/ci/examples/dependency_scanning.md):\n \n```yaml\ndependency_scanning:\n  image: docker:stable\n  variables:\n    DOCKER_DRIVER: overlay2\n  allow_failure: true\n  services:\n    - docker:stable-dind\n  script:\n    - export SP_VERSION=$(echo \"$CI_SERVER_VERSION\" | sed 's/^\\([0-9]*\\)\\.\\([0-9]*\\).*/\\1-\\2-stable/')\n    - docker run\n        --env DEP_SCAN_DISABLE_REMOTE_CHECKS=\"${DEP_SCAN_DISABLE_REMOTE_CHECKS:-false}\" \\\n        --volume \"$PWD:/code\" \\\n        --volume /var/run/docker.sock:/var/run/docker.sock \\\n        \"registry.gitlab.com/gitlab-org/security-products/dependency-scanning:$SP_VERSION\" /code\n  artifacts:\n    paths: [gl-dependency-scanning-report.json]\n```\n\n### The back-port\n\nDependency Scanning 11.5 seems to be backward compatible with 10.7: the 3 minor changes introduced between the 2 versions could be back-ported to 10.7. So we could maintain a single back-port, and publish it as `10-7-stable`, `10-8-stable`, and so on, up to `11-5-stable`. This is good news.\n\nMost of [dependency-scanning@11-5-stable](https://gitlab.com/gitlab-org/security-products/dependency-scanning/tree/11-5-stable) doesn't have to change, except for the `gemnasium` analyzer plugin implemented in [lib/analyzers/gemnasium.rb](https://gitlab.com/gitlab-org/security-products/dependency-scanning/blob/11-5-stable/lib/analyzers/gemnasium.rb). The plugin would no longer rely on the [gemnasium-client](https://gitlab.com/gitlab-org/security-products/gemnasium/client), but use the analyzer projects based on Gemnasium instead:\n\n- [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium)\n- [gemnasium-python](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python)\n- [gemnasium-maven](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven)\n\nUsing the `docker` CLI, `gemnasium.rb` would start the `gemnasium-python` image, wait for the container to finish, and retrieve the [JSON report](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/index.html#reports-json-format) generated by the container. Same goes for `gemnasium-maven`. As before, DinD is required to process Python and Maven project; the requirements don't change.\n\n[gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium) can't be run using Docker because this would change the requirements (right now DinD is not required for projects Gemnasium can handle directly). So we would need to release a binary for [analyzer/gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium), and make it available to the legacy Dependency Scanning project. The binary could be an artifact generated by the pipeline of the [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium) project, and downloaded at run-time by the `lib/analyzers/gemnasium.rb`, just like before the back-port. But we could also improve that and build the binary when building DS, and add it to the `dependency-scanning` Docker image.\n\nThe [`output_to_issues`](https://gitlab.com/gitlab-org/security-products/dependency-scanning/blob/11-5-stable/lib/analyzers/gemnasium.rb#L64) method would be updated to process the [JSON reports](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/index.html#reports-json-format) generated by Gemnasium, Gemnasium Python, and Gemnasium Maven.\n\nThe back-port uses to the latest versions of the Gemnasium-based projects, and can be maintained in the long term.\n\n## Implementation plan\n\n- prepare QA (non-regression tests)\n  - [x] identify [test projects](https://gitlab.com/gitlab-org/security-products/tests) compatible with Dependency Scanning 11.5\n  - [x] create QA pipeline for DS 11.5 for the test projects, in git branch `dep-scan-11-5-stable`\n  - [x] use the test projects to compare DS 10.7 (or 10.5) with DS 11.5, and check backward compatbility\n- back-port Gemnasium 2 to Dependency Scanning 11.5\n  - [x] create a `v0` branch from `11-5-stable`\n  - [x] convert new, generic Dependency Scanning reports\n  - [x] embed Gemnasium binary, gemnasium-db repo, and vrange library in Docker image\n  - [x] integrate Gemnasium CLI to scan projects that are not Maven or Python projects\n  - [x] integrate `gemnasium-maven` Docker image to scan Maven projects\n  - [x] integrate `gemnasium-python` Docker image to scan Python projects\n- update the CI config\n  - [x] make it build, test, and tag the image\n  - [x] trigger the pipeline of the test projects, using the `dep-scan-11-5-stable` branches\n  - [x] generate `dependency-scanning:10-7-stable` up to `11-5-stable`\n\n## Improvements\n\n- User benefit from latest vulnerabilities published on gemnasium-db.\n- The Gemnasium Server can be shut off.\n- There's single source of truth: gemnasium-db.\n\n## Testing\n\nNon-regression QA jobs have been created for this test projects:\n\n- [java-maven](https://gitlab.com/gitlab-org/security-products/tests/java-maven/tree/dep-scan-11-5-stable)\n- [js-npm](https://gitlab.com/gitlab-org/security-products/tests/js-npm/tree/dep-scan-11-5-stable)\n- [js-yarn](https://gitlab.com/gitlab-org/security-products/tests/js-yarn/tree/dep-scan-11-5-stable)\n- [php-composer](https://gitlab.com/gitlab-org/security-products/tests/php-composer/tree/dep-scan-11-5-stable)\n- [python-pip](https://gitlab.com/gitlab-org/security-products/tests/python-pip/tree/dep-scan-11-5-stable)\n- [ruby-bundler](https://gitlab.com/gitlab-org/security-products/tests/ruby-bundler/tree/dep-scan-11-5-stable)\n\nTo run QA for Dependency Scanning (DS) 11.5, simply trigger a pipeline for the `dep-scan-11-5-stable` branch. To compare with DS 10.5, trigger a pipeline for the same branch, but force `DS_VERSION` to `10-5-stable`. To run non-regression tests, run the same pipeline and set `DS_VERSION` to the tag of the `dependency-scanning` Docker image to be tested.\n\n## Risks\n\n- Broken CI `dependency_scanning` jobs on all versions of GitLab.\n- Broken Security widgets because the output format has changed.\n\n## Involved components\n\nhttps://gitlab.com/gitlab-org/security-products/dependency-scanning/\n\n## Optional: Intended side effects\n\nThe back-port supports projects not previously supported, resulting in a behavior change.\n\n## Optional: Missing test coverage\n\nIdeally this should be tested with GitLab 10.7 up to 11.5 (full E2E integration tests) but the plan is to only check the generated reports.\n\n/cc @gonzoyumo @NicoleSchwartz","state":"closed","created_at":"2019-10-03T12:30:28.313Z","updated_at":"2020-01-23T17:11:21.723Z","closed_at":"2019-11-15T20:07:58.844Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","backend","backstage [DEPRECATED]","devops::secure","group::composition analysis","workflow::production"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33321","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":12},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33321","notes":"https://gitlab.com/api/v4/projects/278964/issues/33321/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33321/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33321","relative":"#33321","full":"gitlab-org/gitlab#33321"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1914,"epic":{"id":12353,"iid":1914,"title":"Drop Gemnasium server side architecture","url":"/groups/gitlab-org/-/epics/1914","group_id":9970,"human_readable_end_date":"Dec 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25583407,"iid":33318,"project_id":278964,"title":"Allow internal projects to create or join an object pool","description":"## Problem to solve\n\nGitLab support Git object deduplication for repositories and their forks. A current limitation; it's only supported for public projects. This does not allow the deduplication of internal or private project. For this iteration the intention is to allow only `internal` projects. The ACLs are the same for internal as for public, if a user is signed in which makes it a relatively small change.\n\n## Intended users\n\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\nThough the feature works out of the box, without Sidney having to lift a finger.\n\n## Proposal\n\nAllow git objects to be pooled for all projects, except when private:\n\n```diff\ndiff --git a/app/models/project.rb b/app/models/project.rb\nindex 512734e9b3f..2241f319276 100644\n--- a/app/models/project.rb\n+++ b/app/models/project.rb\n@@ -2218,12 +2218,12 @@ class Project \u003c ApplicationRecord\n   # Git objects are only poolable when the project is or has:\n   # - Hashed storage -\u003e The object pool will have a remote to its members, using relative paths.\n   #                     If the repository path changes we would have to update the remote.\n-  # - Public         -\u003e User will be able to fetch Git objects that might not exist\n+  # - Not private    -\u003e User will be able to fetch Git objects that might not exist\n   #                     in their own repository.\n   # - Repository     -\u003e Else the disk path will be empty, and there's nothing to pool\n   def git_objects_poolable?\n     hashed_storage?(:repository) \u0026\u0026\n-      public? \u0026\u0026\n+      !private? \u0026\u0026\n       repository_exists? \u0026\u0026\n       Gitlab::CurrentSettings.hashed_storage_enabled\n   end\n```\n\n## Permissions and Security\n\nThe same ACLs apply as for the public deduplicated repositories. Any data pushed to the source project of an object pool should be considered public to everyone with access.\n\n## Documentation\n\nRemove the caveat that internal project are excluded, and it should be good enough already.\n\n## Links / references\n\n\n/cc @reprazent @jramsay","state":"closed","created_at":"2019-10-03T12:08:38.200Z","updated_at":"2021-01-10T22:32:46.632Z","closed_at":"2019-11-29T08:19:57.902Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["Category:Gitaly","Deliverable","customer","devops::create","forking","group::gitaly","missed-deliverable","missed:12.5","repository","type::feature","workflow::in review"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4353908,"username":"briankabiro","name":"Brian Kabiro","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4353908/avatar.png","web_url":"https://gitlab.com/briankabiro"}],"author":{"id":101578,"username":"zj-gitlab","name":"Zeger-Jan van de Weg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/101578/avatar.png","web_url":"https://gitlab.com/zj-gitlab"},"type":"ISSUE","assignee":{"id":4353908,"username":"briankabiro","name":"Brian Kabiro","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4353908/avatar.png","web_url":"https://gitlab.com/briankabiro"},"user_notes_count":5,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33318","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33318","notes":"https://gitlab.com/api/v4/projects/278964/issues/33318/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33318/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33318","relative":"#33318","full":"gitlab-org/gitlab#33318"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1175,"epic":{"id":5868,"iid":1175,"title":"🔒 Improve access controls for private fork networks","url":"/groups/gitlab-org/-/epics/1175","group_id":9970,"human_readable_end_date":"Dec 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25577779,"iid":33306,"project_id":278964,"title":"Missing field discussions in type Design","description":"## Summary\n\nWhen uploading a new design, there is a warning thrown:\n\n![Missing field discussions](https://gitlab.com/gitlab-org/gitlab/uploads/bd931ed927505a18105b0f02476bf1fe/Screen_Shot_2019-10-02_at_10.17.06_PM.png)\n\n### Steps to reproduce\n\n- Open an issue on **Designs** tab;\n- Upload a new design;\n- Observe the warning in the console\n\n### What is the current *bug* behavior?\n\nWhen uploading a new design, Apollo client complains about missing field **discussions**\n\n### What is the expected *correct* behavior?\n\nThere should be no warning\n\n### Possible fixes\n\nChange an optimistic response to add discussions to `Design` typename","state":"closed","created_at":"2019-10-03T09:12:48.961Z","updated_at":"2020-12-10T18:59:43.392Z","closed_at":"2019-11-05T11:32:53.899Z","closed_by":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"labels":["Category:Design Management","Deliverable","GraphQL","devops::plan","frontend","group::product planning","priority::4","severity::4","type::bug"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33306","notes":"https://gitlab.com/api/v4/projects/278964/issues/33306/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33306/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33306","relative":"#33306","full":"gitlab-org/gitlab#33306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25559803,"iid":33276,"project_id":278964,"title":"Geo: [geo_object_storage_replication] Enable replicating uploads, LFS objects, and artifacts in Object Storage","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\nBlocked on https://gitlab.com/gitlab-org/gitlab/issues/33274\n\n## What\n\nRemove the `:geo_object_storage_replication` feature flag.\n\n## Owners\n\n- Team: @geo-team\n- Most appropriate slack channel to reach out to: `#g_geo`\n- Best individual to reach out to: @mkozono or @brodock \n\n## Expectations\n\n### What are we expecting to happen?\n\nNothing, especially on GitLab.com since Geo isn't used there yet. On installations using Geo, the feature flag makes the setting `sync_object_storage` available to be set to `true` in Admin Area \u003e Geo \u003e Nodes.\n\n### What might happen if this goes wrong?\n\nI can't think of something plausible for GitLab.com.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Beta groups/projects\n\nN/A\n\n## Roll Out Steps\n\n(This doesn't apply so much to GitLab.com)\n\n- [-] Enable on staging\n- [-] Test on staging\n- [ ] Ensure that documentation has been updated =\u003e https://gitlab.com/gitlab-org/gitlab/issues/14779\n- [-] Enable on GitLab.com for individual groups/projects listed above and verify behaviour\n- [-] Coordinate a time to enable the flag with `#production` and `#g_delivery` on slack.\n- [-] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [-] Enable on GitLab.com by running chatops command in `#production`\n- [-] Cross post chatops slack command to `#support_gitlab-com` and in your team channel\n- [-] Announce on the issue that the flag has been enabled\n- [ ] Remove feature flag and add changelog entry\n- [-] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2019-10-02T21:36:36.569Z","updated_at":"2019-10-21T08:10:54.368Z","closed_at":"2019-10-17T15:12:37.345Z","closed_by":{"id":502136,"username":"fatihacet","name":"Fatih Acet","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/502136/avatar.png","web_url":"https://gitlab.com/fatihacet"},"labels":["devops::systems","feature flag","group::geo","type::feature"],"milestone":null,"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":5,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33276","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33276","notes":"https://gitlab.com/api/v4/projects/278964/issues/33276/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33276/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33276","relative":"#33276","full":"gitlab-org/gitlab#33276"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1526,"epic":{"id":8645,"iid":1526,"title":"Geo: Improved Object Storage support","url":"/groups/gitlab-org/-/epics/1526","group_id":9970,"human_readable_end_date":"Oct 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25559692,"iid":33274,"project_id":278964,"title":"Geo: Validate replicating uploads, LFS objects, and artifacts in Object Storage","description":"Replicating uploads, LFS objects, and artifacts in Object Storage was implemented here: https://gitlab.com/gitlab-org/gitlab/issues/10586\n\n- [ ] Validate the feature to be confident enough to remove the feature flag\n- [x] Open follow up to remove `geo_object_storage_replication` feature flag =\u003e Opened https://gitlab.com/gitlab-org/gitlab/issues/33276","state":"closed","created_at":"2019-10-02T21:28:30.403Z","updated_at":"2019-10-07T19:00:21.723Z","closed_at":"2019-10-07T17:07:59.253Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["devops::systems","group::geo","workflow::solution validation"],"milestone":null,"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33274","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33274","notes":"https://gitlab.com/api/v4/projects/278964/issues/33274/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33274/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33274","relative":"#33274","full":"gitlab-org/gitlab#33274"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1526,"epic":{"id":8645,"iid":1526,"title":"Geo: Improved Object Storage support","url":"/groups/gitlab-org/-/epics/1526","group_id":9970,"human_readable_end_date":"Oct 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25559110,"iid":33272,"project_id":278964,"title":"Schedule:package-and-qa timeout failures","description":"The `schedule:package-and-qa` has been failing for reaching the 2 hour timeout limit quite frequently since we added it to the scheduled pipeline. \n\nDoes the non-scheduled version of the job normally take longer than 2 hours for qa changes?  \n\nHere are some of the examples from the last few days that I noticed were timeout failures.\n\n- https://gitlab.com/gitlab-org/gitlab/pipelines/86091676/\n- https://gitlab.com/gitlab-org/gitlab/pipelines/86054927/\n- https://gitlab.com/gitlab-org/gitlab/pipelines/85948588/\n- https://gitlab.com/gitlab-org/gitlab/pipelines/85928277/\n- https://gitlab.com/gitlab-org/gitlab/pipelines/85890283/\n\nRelates to https://gitlab.com/gitlab-org/quality/team-tasks/issues/216","state":"closed","created_at":"2019-10-02T21:05:38.484Z","updated_at":"2019-12-16T16:44:16.516Z","closed_at":"2019-10-18T19:08:01.836Z","closed_by":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"labels":["Quality","missed:12.4","needs investigation","priority::1","severity::2"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"}],"author":{"id":4303148,"username":"kwiebers","name":"Kyle Wiebers","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303148/avatar.png","web_url":"https://gitlab.com/kwiebers"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":23,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33272","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33272","notes":"https://gitlab.com/api/v4/projects/278964/issues/33272/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33272/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33272","relative":"#33272","full":"gitlab-org/gitlab#33272"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25555185,"iid":33257,"project_id":278964,"title":"Prevent accidental deletions via soft delete for groups","description":"## Overview\n\nWe should follow up on https://gitlab.com/gitlab-org/gitlab/issues/32935 by expanding soft delete to include groups.\n\n## Proposal\n\nRequire a soft deletion period for group removal.\n\n* Attempting to remove a group marks it for deletion. It should no longer immediately remove the group.\n* After X days have elapsed, the project or group is deleted.\n  * We should use the same soft delete configuration introduced in https://gitlab.com/gitlab-org/gitlab/issues/32935.\n* Attempting to delete something:\n  * The \"remove group\" container for group should reflect the soft deletion period.\n  * A project pending deletion should be marked for deletion on the group overview page (banner, similar to the archived project notice) and group list (with a `pending delete` badge).\n  * Attempting to delete a group with the API should also result in the soft deletion period as described above.\n* Recovering a group pending deletion:\n  * Include a \"restore\" button in group settings that unarchives the project and removes the soft deletion state.\n  * Should be able to restore/remove the soft deletion state via API.\n* Soft deletion and restore should trigger an audit event.","state":"closed","created_at":"2019-10-02T18:08:23.528Z","updated_at":"2021-08-31T08:47:51.240Z","closed_at":"2020-02-26T03:46:27.518Z","closed_by":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"labels":["Category:Authentication and Authorization","Enterprise Edition","GitLab Premium","backend","devops::manage","direction","estimation::completed","frontend","group::authentication and authorization","missed:12.5","missed:12.6","missed:12.8","workflow::in review"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"user_notes_count":42,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33257","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33257","notes":"https://gitlab.com/api/v4/projects/278964/issues/33257/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33257/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33257","relative":"#33257","full":"gitlab-org/gitlab#33257"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2172,"epic":{"id":14775,"iid":2172,"title":"Soft deletion for projects and groups","url":"/groups/gitlab-org/-/epics/2172","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25550099,"iid":33244,"project_id":278964,"title":"Remove ensure_storage_path_exists call","description":"In https://gitlab.com/gitlab-org/gitlab/merge_requests/17287, we removed `add_namespace` from `ensure_storage_path_exists` methods. \n\nOnce that has been deployed, we can go ahead and remove the actual methods from the code base entirely.","state":"closed","created_at":"2019-10-02T15:44:54.039Z","updated_at":"2019-10-16T12:39:04.030Z","closed_at":"2019-10-04T14:57:02.344Z","closed_by":{"id":668120,"username":"johncai","name":"John Cai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/668120/avatar.png","web_url":"https://gitlab.com/johncai"},"labels":["[deprecated] Accepting merge requests","devops::create","group::gitaly","maintenance::refactor"],"milestone":null,"assignees":[],"author":{"id":668120,"username":"johncai","name":"John Cai","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/668120/avatar.png","web_url":"https://gitlab.com/johncai"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33244","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33244","notes":"https://gitlab.com/api/v4/projects/278964/issues/33244/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33244/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33244","relative":"#33244","full":"gitlab-org/gitlab#33244"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25541513,"iid":33222,"project_id":278964,"title":"Misleading success message when adding a duplicate issue to epic via quick action","description":"### Summary\n\nMisleading success message is displayed when adding a duplicate issue to epic via quick action.\n\n### Steps to reproduce\n\n1. Create an epic.\n2. Add an issue to the epic.\n3. Visit the same issue page.\n4. Use the quick action `/epic \u0026{epic_number}` to add it to the epic again.\n\n### Example Project\n\nBest tested with gdk for now.\n\n### What is the current *bug* behavior?\n\nSuccess message displayed is `Added an issue to an epic`.\n\n![Screencast_2019-10-02_12_30_05](/uploads/ea61f45d8f075b88e5bec0ebc43f5b8b/Screencast_2019-10-02_12_30_05.mp4)\n\n### What is the expected *correct* behavior?\n\nError message with text `{Issue name} has already been added to {epic name}` should be displayed instead.\n\n### Possible fixes\n\nPossible that error is generated at [ee/lib/ee/gitlab/quick_actions/issue_actions.rb#L13](https://gitlab.com/gitlab-org/gitlab/blob/8514991c44124e4778147d3e13433ae598c20859/ee/lib/ee/gitlab/quick_actions/issue_actions.rb#L13)\n\nSee: https://gitlab.com/gitlab-org/gitlab/issues/7355#note_224028682","state":"closed","created_at":"2019-10-02T12:09:51.162Z","updated_at":"2021-11-08T16:55:59.559Z","closed_at":"2019-12-18T20:05:27.839Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Category:Portfolio Management","UX","backend","devops::plan","epics","group::product planning","missed:12.5","priority::4","severity::4","type::bug","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33222","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33222","notes":"https://gitlab.com/api/v4/projects/278964/issues/33222/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33222/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33222","relative":"#33222","full":"gitlab-org/gitlab#33222"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25541177,"iid":33219,"project_id":278964,"title":"Misleading error message when adding an issue to epic a second time","description":"### Summary\n\nAttempting to add an issue to an epic a second time results in a misleading error message.\n\n### Steps to reproduce\n\n1. Create an epic.\n2. Add an issue to the epic.\n3. Using the 'Add an Issue' button, attempt to add the same issue again.\n\n### Example Project\n\nBest tested locally using gdk.\n\n### What is the current *bug* behavior?\n\nThe message `We can't find an issue that matches what you are looking for.` is displayed.\n\n![Screencast_2019-10-02_12_37_32](/uploads/f589feb50ede426b8ca0a400f1303958/Screencast_2019-10-02_12_37_32.mp4)\n\n### What is the expected *correct* behavior?\n\nMessage displayed should be `{Issue name} has already been added to {epic name}`\n\n### Possible fixes\n\nTest is at [ee/spec/features/epics/epic_issues_spec.rb#L135](https://gitlab.com/gitlab-org/gitlab/blob/8514991c44124e4778147d3e13433ae598c20859/ee/spec/features/epics/epic_issues_spec.rb#L135)\n\nSee https://gitlab.com/gitlab-org/gitlab/issues/7355#note_224028682","state":"closed","created_at":"2019-10-02T12:00:45.792Z","updated_at":"2021-11-08T16:56:00.103Z","closed_at":"2019-10-24T19:13:11.812Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:Portfolio Management","[deprecated] Accepting merge requests","backend","devops::plan","epics","frontend","group::product planning","priority::4","severity::4","type::bug","workflow::ready for development"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33219","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33219","notes":"https://gitlab.com/api/v4/projects/278964/issues/33219/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33219/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/32557"},"references":{"short":"#33219","relative":"#33219","full":"gitlab-org/gitlab#33219"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25522561,"iid":33189,"project_id":278964,"title":"Merge request line comments, where the linenum is 5 or more digits, do not look good.","description":"### Summary\n\nDiscussion line comments on merge requests where line numbers are more than 5 digits don't look great:\n\n![image](/uploads/c45ec6d8207290d5a3a20a6ee9671f88/image.png)\n\n\n### Steps to reproduce\n\n1. Have a project with a file that has over 10,000 lines in it.\n2. Edit that file somewhere in the \u003e10,000 line range and create a merge request\n3. Head to the **Changes** tab of the MR\n4. Add a comment on one of the lines:  \n![image](/uploads/0e9f8d8dac6a93072e745d6d05445509/image.png)\n5. Switch to the **Discussion** tab of the merge request.\n6. See the above image.\n\n\n### Example Project\n\nhttps://gitlab.com/dougthor42/gitlab-org-issue-33189\n\nhttps://gitlab.com/dougthor42/gitlab-org-issue-33189/merge_requests/1\n\n\n### What is the current *bug* behavior?\n\nThe 5th digit wraps to the next line\n\n### What is the expected *correct* behavior?\n\nThe width of the line-number columns expands to handle all digits within a single row.\n\n### Relevant logs and/or screenshots\n\nSee above.\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\nN/A\n\n#### Results of GitLab application Check\n\nN/A\n\n### Possible fixes\n\nNo idea :frowning2:","state":"closed","created_at":"2019-10-01T22:47:04.990Z","updated_at":"2020-09-16T11:32:59.339Z","closed_at":"2020-09-16T11:32:59.305Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["[deprecated] Accepting merge requests","devops::create","diff","frontend","group::source code","missed-SLO","missed:12.5","missed:12.6","priority::2","repository","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[],"author":{"id":381665,"username":"dougthor42","name":"Douglas Thor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f650c56f4679ab2c8dd99b691c16913c?s=80\u0026d=identicon","web_url":"https://gitlab.com/dougthor42"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33189","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33189","notes":"https://gitlab.com/api/v4/projects/278964/issues/33189/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33189/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33189","relative":"#33189","full":"gitlab-org/gitlab#33189"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25522558,"iid":33188,"project_id":278964,"title":"ProjectsController#new is slow","description":"p95 is 10 seconds. Most of that seems to be spent in views\n\n![Screen_Shot_2019-10-02_at_11.43.44_AM](/uploads/407964765fb421c28fa142c65e6c5f48/Screen_Shot_2019-10-02_at_11.43.44_AM.png)\n\nhttps://dashboards.gitlab.net/d/000000120/rails-controllers?orgId=1\u0026var-action=ProjectsController%23new\u0026var-database=influxdb-01-inf-gprd\u0026from=1569365137963\u0026to=1569969937963\n\n![Screen_Shot_2019-10-02_at_11.45.08_AM](/uploads/3f9832e8c4eaeefd22f91c0a726bb354/Screen_Shot_2019-10-02_at_11.45.08_AM.png)\n\nhttps://log.gitlab.net/goto/97a3f89764ad263629cb69f04bb68ddb\n\n\n### Issue \n\nThere is a [slow query](https://gitlab.com/gitlab-org/gitlab/issues/33188#note_224726205) which seems to be only used to render the count of group templates\n\n![Screen_Shot_2019-10-02_at_12.23.54_PM](/uploads/76f817e33ce6a6e2b11493d5a80fa97a/Screen_Shot_2019-10-02_at_12.23.54_PM.png)","state":"closed","created_at":"2019-10-01T22:46:50.069Z","updated_at":"2020-02-14T08:20:58.249Z","closed_at":"2019-11-20T07:21:19.638Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Mechanical Sympathy","backend","bug::performance","custom templates","devops::manage","gitlab.com","group::import","performance-refinement","priority::3","severity::3"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":25,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33188","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33188","notes":"https://gitlab.com/api/v4/projects/278964/issues/33188/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33188/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33188","relative":"#33188","full":"gitlab-org/gitlab#33188"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25522378,"iid":33187,"project_id":278964,"title":"Filtering Todos by \"Design\" does not work","description":"### Summary\n\nWhen viewing a Todo list, it's possible to filter Todos by `Type`.\n\nSelecting `Design` returns all Todos.\n\n### Steps to reproduce\n\n1. On a design management design, `@mention` yourself to create a new Todo\n1. Visit your Todos list\n1. From the drop-down filters at the type, for `Type` choose `Design`\n\n### What is the current *bug* behavior?\n\nTodos are not filtered at all.\n\n### What is the expected *correct* behavior?\n\nOnly Todos for designs should display.","state":"closed","created_at":"2019-10-01T22:30:39.760Z","updated_at":"2020-12-10T18:59:43.940Z","closed_at":"2020-05-18T16:54:59.259Z","closed_by":{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"},"labels":["Category:Design Management","Community contribution","Deliverable","backend","design::review","devops::plan","group::product planning","priority::3","severity::3","todos","type::bug","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":698506,"username":"gilangmlr","name":"Gilang Gumilar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/698506/avatar.png","web_url":"https://gitlab.com/gilangmlr"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":698506,"username":"gilangmlr","name":"Gilang Gumilar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/698506/avatar.png","web_url":"https://gitlab.com/gilangmlr"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33187","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33187","notes":"https://gitlab.com/api/v4/projects/278964/issues/33187/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33187/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33187","relative":"#33187","full":"gitlab-org/gitlab#33187"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25773396,"iid":33722,"project_id":278964,"title":"Disable scroll-to-zoom functionality on charts and enable selection by dragging","description":"*User context*:\n\n- When the user is scrolling across charts, this manipulates the chart data - zooming in and out.\n- If they want to select more than one bar chart, the chart re-renders.\n\n*Usability problem*:\n\n- Embedded scrolling on sub-components of a page is a big no-no. The user will unintentionally manipulate chart data when they actually intend to get to the bottom of the page.\n- Selection of multiple bar charts is difficult and we should ensure we are aligned with the rest of the product.\n\n*Solution*:\n\n- Remove the scroll to zoom in/zoom out effect on charts\n- Keep the bar below the chart as the only method for manipulating data on the chart\n- Allow selection by zooming: https://gitlab.com/gitlab-org/gitlab/issues/29810#note_224707918","state":"closed","created_at":"2019-10-01T21:41:39.949Z","updated_at":"2019-12-17T00:46:20.318Z","closed_at":"2019-12-06T10:44:02.292Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["UX","devops::manage","frontend","group::optimize","workflow::in dev"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":3511154,"username":"valexieva","name":"Virjinia Alexieva","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/bc036fa2e7b6fa926a175324a948169f?s=80\u0026d=identicon","web_url":"https://gitlab.com/valexieva"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33722","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33722","notes":"https://gitlab.com/api/v4/projects/278964/issues/33722/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33722/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33722","relative":"#33722","full":"gitlab-org/gitlab#33722"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25519824,"iid":33182,"project_id":278964,"title":"Productivity Analytics: Column height equals filter count for 2+ filters","description":"### Summary\n\nOn the Productivity Analytics page, when 2 label filters are applied, all columns in all charts have a height of \"2\".\n\n### Steps to reproduce\n\nFor example:\n\n1. Go to the [Productivity Analytics page for the gitlab repo](https://gitlab.com/-/analytics/productivity_analytics)\n1. Add filters \"label:group::analytics\" and \"label:backend\" and hit \"enter/return\" to apply them\n1. Notice all the columns have a height of \"2\"\n\n### What is the current *bug* behavior?\n\nAll columns have a height of \"2\".\n\n### What is the expected *correct* behavior?\n\nAll columns have a height determined by the data.\n\n### Relevant logs and/or screenshots\n\n- See this [Sentry report for Staging](https://sentry.gitlab.net/gitlab/staginggitlabcom/issues/996073/?query=is:unresolved), which @pshutsin believes may be related to this bug.\n- Screenshot (production):\n![PA_shows_2_of_everything](/uploads/39c56684ec1b0f108f50c448e938e32c/PA_shows_2_of_everything.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2019-10-01T20:48:21.183Z","updated_at":"2022-01-24T08:20:44.546Z","closed_at":"2019-11-08T10:59:07.621Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"labels":["backend","devops::manage","group::optimize","missed-SLO","missed:12.4","priority::1","severity::3","type::bug","workflow::in review"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33182","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33182","notes":"https://gitlab.com/api/v4/projects/278964/issues/33182/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33182/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33182","relative":"#33182","full":"gitlab-org/gitlab#33182"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25519752,"iid":33180,"project_id":278964,"title":"Document when and how a suggested MR is created as a result of a vulnerability","description":"Wait for https://gitlab.com/gitlab-org/gitlab/issues/34649 to complete - after it's complete check if the below is covered, if so close the issue no work needed! if it's vague or unclear please update docs for the below goals.\n\n\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\nIn Secure we have [third parties](https://gitlab.com/groups/gitlab-org/-/epics/1252) that wish to integrate into our pipeline as a security or compliance product. As a result of their finding they may wish to recommend a solution to the developer.\n\n\u003c!-- Include the following detail as necessary:\n* What product or feature(s) affected?\n* What docs or doc section affected? Include links or paths.\n* Is there a problem with a specific document, or a feature/process that's not addressed sufficiently in docs?\n* Any other ideas or requests?\n--\u003e\n\n### Further details\n\nPlease in doc/development/ how third parties should properly complete the `remediation` section to be successful. It should point to both a full, not truncated, example json, as well as have explanations for each field (name, description, required or not, rules/format).\n\n### Proposal\n\n\u003c!-- Further specifics for how can we solve the problem. --\u003e\n\n### Who can address the issue\n\n\u003c!-- What if any special expertise is required to resolve this issue? --\u003e\n\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e","state":"closed","created_at":"2019-10-01T20:43:33.769Z","updated_at":"2021-04-03T08:31:02.967Z","closed_at":"2020-04-29T10:17:56.017Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Stretch","auto remediation","backend","devops::secure","documentation","group::composition analysis","missed:12.10","missed:12.8","quad-planning::complete-no-action","security reports integration","type::feature","workflow::verification"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33180","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33180","notes":"https://gitlab.com/api/v4/projects/278964/issues/33180/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33180/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33180","relative":"#33180","full":"gitlab-org/gitlab#33180"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2165,"epic":{"id":14751,"iid":2165,"title":"Enable 3rd-party integrations: Minimal to Viable","url":"/groups/gitlab-org/-/epics/2165","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25518383,"iid":33169,"project_id":278964,"title":"[FE] Productivity Analytics: No labels on the last column of the column chart","description":"FE for https://gitlab.com/gitlab-org/gitlab/issues/32052\n\nWe need to make sure that users won’t be able to select any start date on the `Productivity Analytics` page before the date the feature is deployed.","state":"closed","created_at":"2019-10-01T19:29:01.822Z","updated_at":"2019-11-11T10:36:35.646Z","closed_at":"2019-11-11T10:36:35.583Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["devops::manage","frontend","group::optimize","priority::1","workflow::in dev"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"user_notes_count":10,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33169","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33169","notes":"https://gitlab.com/api/v4/projects/278964/issues/33169/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33169/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33169","relative":"#33169","full":"gitlab-org/gitlab#33169"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25515801,"iid":33161,"project_id":278964,"title":"Highlight focused Design discussion in comment pins","description":"### Problem to solve\n\nWhen there are lots of discussion threads on a design it can be hard to identify which thread relates to which marker on the design without scanning for the correct comment number.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nThere should be some kind of mechanism to highlight the relevant discussion and comment icon to help visually highlight what each discussion thread is referencing.\n\nA) You click on a comment badge in the design. The conversation focuses on that comment just like [this prototype](https://codepen.io/jareko999/pen/MWgNaYg).\n\nB) When I click on a comment in the sidebar (the colored badge above a comment), there is some effect that shows where the badge is on the design, as well as the design will scroll to ensure that the badge is on screen. Here's a demo:\n\n![Focus_comment_badge](https://gitlab.com/gitlab-org/gitlab/uploads/785996412b455bb8e3678e72889e78fd/Focus_comment_badge.mov)\n\nFor scenario B, I think we could do better styling on the comment badges to make the relevant one stand out, rather than simply adding opacity to all the others. Maybe a [beacon-type CSS animation](https://codepen.io/magnus16/pen/pnGAB), or a focus state that is a different color.\n\n\n### Links\n\nhttps://gitlab.com/gitlab-com/www-gitlab-com/issues/5218#note_224600639","state":"closed","created_at":"2019-10-01T17:55:29.379Z","updated_at":"2020-12-10T18:59:44.510Z","closed_at":"2020-05-18T14:33:14.858Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Design Management","Deliverable","UX","devops::plan","direction","frontend","group::product planning","quad-planning::complete-no-action","type::feature","workflow::staging"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},{"id":5058729,"username":"mnearents","name":"Matthew Nearents","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5058729/avatar.png","web_url":"https://gitlab.com/mnearents"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"user_notes_count":46,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33161","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33161","notes":"https://gitlab.com/api/v4/projects/278964/issues/33161/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33161/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33161","relative":"#33161","full":"gitlab-org/gitlab#33161"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1870,"epic":{"id":11939,"iid":1870,"title":"Design Management UI Polish","url":"/groups/gitlab-org/-/epics/1870","group_id":9970,"human_readable_end_date":"Oct 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25511415,"iid":33150,"project_id":278964,"title":"Merge Request List API slows notably when number of MRs are higher","description":"### Summary\n\nPerformance testing has found the [Merge Requests List API](https://docs.gitlab.com/ee/api/merge_requests.html#list-merge-requests) has slow performance when there's a high amount of MRs (~3500 in our test data).  On a target 10k reference environment testing has found the endpoint to typically take 3 seconds to return, which is considered too high. It also degrades further in larger environments such as our in development 25k environment where it returned in 4.5 seconds.\n\nMost endpoints return under 500ms so any that stand out like this are to be raised and investigated.\n\nRecent results from our 10k environment over several previous versions:\n\n12.3.2\n```\nEnvironment:    10k (12.3.2-ee 9ae54250d64)\nScenario:       60s_200rps\nDate:           2019-10-01\nRun Time:       1645.64s (Start: 13:12:50 UTC, End: 13:40:15 UTC)\n\nNAME                                                     | DURATION | P95        | RPS                  | SUCCESS RATE   | RESULT\n---------------------------------------------------------|----------|------------|----------------------|----------------|-------\napi_v4_projects_merge_requests                           | 60.0s    | 3083.84ms  | 88.37/s (\u003e40.00/s)   | 100.00% (\u003e95%) | Passed\n```\n\n12.2.4:\n```\nEnvironment:    10k (12.2.4-ee e57d66ff40e)\nScenario:       60s_200rps\nDate:           2019-09-26\nRun Time:       1646.34s (Start: 01:20:54 UTC, End: 01:48:21 UTC)\n\nNAME                                                     | DURATION | P95        | RPS                  | RPS_THRESHOLD   | RESULT\n---------------------------------------------------------|----------|------------|----------------------|-----------------|-------\napi_v4_projects_merge_requests                           | 60.0s    | 3102.49ms  | 77.68313/s (4661)    | 56.00/s (3360)  | Passed\n```\n\n12.1.6:\n```\nEnvironment:    10k (12.1.6-ee d05ee0a9c12)\nScenario:       60s_200rps\nDate:           2019-08-26\nRun Time:       1558.1s (Start: 01:20:11 UTC, End: 01:46:10 UTC)\n\nNAME                                                 | RESULT | DURATION | P95        | RPS_COUNT | RPS_MEAN    \n-----------------------------------------------------|--------|----------|------------|-----------|-------------\napi_v4_projects_merge_requests                       | Passed | 60.0s    | 3936.42ms  | 4571      | 76.183245/s \n```\n\n12.0.2:\n```\nEnvironment:    10k (12.0.2-ee ef76b54fc1e)\nScenario:       60s_200rps\nDate:           2019-08-20\nRun Time:       1551.87s (Start: 01:20:08 UTC, End: 01:46:00 UTC)\n\nNAME                                                 | RESULT | DURATION | P95        | RPS_COUNT | RPS_MEAN    \n-----------------------------------------------------|--------|----------|------------|-----------|-------------\napi_v4_projects_merge_requests                       | Passed | 60.0s    | 3237.82ms  | 4617      | 76.949889/s \n```\n\nFinally to show the endpoint degrades even further at higher throughputs the following is a result from our target 25k environment:\n\n12.3.2\n```\nEnvironment:    25k (12.3.2-ee 9ae54250d64)\nScenario:       60s_500rps\nDate:           2019-10-01\nRun Time:       1879.28s (Start: 16:34:52 UTC, End: 17:06:11 UTC)\n\nNAME                                                     | DURATION | P95        | RPS                  | SUCCESS RATE   | RESULT\n---------------------------------------------------------|----------|------------|----------------------|----------------|-------\napi_v4_projects_merge_requests                           | 60.0s    | 4556.35ms  | 129.92/s (\u003e100.00/s) | 100.00% (\u003e95%) | Passed\n```\n\n### Steps to reproduce\n\n1. Check out the [Performance Toolkit](https://gitlab.com/gitlab-org/quality/performance)\n1. Run the specific test with the `run-k6` command.  For example against the 10k environment you would run this following from the project root: `./run-k6 -e environments/10k.json -s scenarios/60s_200rps.json -t tests/api/api_v4_projects_merge_requests.js`. You will need an ACCESS_TOKEN for this endpoint as well - also covered in docs but give me a shout for the token to use against our 10k environment.\n1. If you're seeking to run the test against your own environment the [Toolkit's documentation has details on how to achieve this](https://gitlab.com/gitlab-org/quality/performance/blob/master/docs/k6.md). \n\n### What is the current *bug* behavior?\n\nThe API is slow with higher amounts of MRs (~3500). Testing has found it to be around 3 seconds on our certified 10k architecture.\n\n### What is the expected *correct* behavior?\n\nThat the API responds inline with other endpoints performance, typically under 500ms.","state":"closed","created_at":"2019-10-01T15:36:55.116Z","updated_at":"2020-09-16T16:31:35.560Z","closed_at":"2020-03-09T15:02:17.494Z","closed_by":{"id":3769272,"username":"grantyoung","name":"Grant Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3769272/avatar.png","web_url":"https://gitlab.com/grantyoung"},"labels":["Quality:performance-issues","[deprecated] Accepting merge requests","backend","bug::performance","customer","devops::create","group::source code","performance-refinement","priority::3","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[],"author":{"id":3769272,"username":"grantyoung","name":"Grant Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3769272/avatar.png","web_url":"https://gitlab.com/grantyoung"},"type":"ISSUE","assignee":null,"user_notes_count":54,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33150","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33150","notes":"https://gitlab.com/api/v4/projects/278964/issues/33150/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33150/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33150","relative":"#33150","full":"gitlab-org/gitlab#33150"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1851,"epic":{"id":11754,"iid":1851,"title":"Improve repository and merge request API scalability","url":"/groups/gitlab-org/-/epics/1851","group_id":9970,"human_readable_end_date":"Jan 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25508558,"iid":33147,"project_id":278964,"title":"Update analytics components to use `options` for stateless data","description":"#### Update\n\nThis applies to all 3 analytics features\n\n* [x] Cycle analytics\n* [x] Productivity analytics\n* [x] Code analytics\n\n------------\n\nThe following discussion from !16906 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/merge_requests/16906#note_220980108):  (+3 comments)\n\n    \u003e **suggestion:** Since this object isn't part of the component's \"state\" (i.e. it isn't expected to change), `data()` isn't necessarily the best place for it. `data()` will spend time making these properties reactive, which is a waste in this case.\n    \u003e \n    \u003e What do you think of moving these into the component options? :thinking:\n    \u003e \n    \u003e ```patch\n    \u003e diff --git a/ee/app/assets/javascripts/analytics/cycle_analytics/components/base.vue b/ee/app/assets/javascripts/analytics/cycle_analytics/components/base.vue\n    \u003e index 8ca81b1b7ff..eeb33100c5e 100644\n    \u003e --- a/ee/app/assets/javascripts/analytics/cycle_analytics/components/base.vue\n    \u003e +++ b/ee/app/assets/javascripts/analytics/cycle_analytics/components/base.vue\n    \u003e @@ -37,13 +37,6 @@ export default {\n    \u003e      return {\n    \u003e        multiProjectSelect: true,\n    \u003e        dateOptions: [7, 30, 90],\n    \u003e -      groupsQueryParams: {\n    \u003e -        min_access_level: featureAccessLevel.EVERYONE,\n    \u003e -      },\n    \u003e -      projectsQueryParams: {\n    \u003e -        per_page: PROJECTS_PER_PAGE,\n    \u003e -        with_shared: false,\n    \u003e -      },\n    \u003e      };\n    \u003e    },\n    \u003e    computed: {\n    \u003e @@ -105,6 +98,13 @@ export default {\n    \u003e        this.showCustomStageForm();\n    \u003e      },\n    \u003e    },\n    \u003e +  groupsQueryParams: {\n    \u003e +    min_access_level: featureAccessLevel.EVERYONE,\n    \u003e +  },\n    \u003e +  projectsQueryParams: {\n    \u003e +    per_page: PROJECTS_PER_PAGE,\n    \u003e +    with_shared: false,\n    \u003e +  },\n    \u003e  };\n    \u003e  \u003c/script\u003e\n    \u003e  \n    \u003e @@ -119,7 +119,7 @@ export default {\n    \u003e        \u003e\n    \u003e          \u003cgroups-dropdown-filter\n    \u003e            class=\"js-groups-dropdown-filter dropdown-select\"\n    \u003e -          :query-params=\"groupsQueryParams\"\n    \u003e +          :query-params=\"$options.groupsQueryParams\"\n    \u003e            @selected=\"onGroupSelect\"\n    \u003e          /\u003e\n    \u003e          \u003cprojects-dropdown-filter\n    \u003e @@ -127,7 +127,7 @@ export default {\n    \u003e            :key=\"selectedGroup.id\"\n    \u003e            class=\"js-projects-dropdown-filter ml-md-1 mt-1 mt-md-0 dropdown-select\"\n    \u003e            :group-id=\"selectedGroup.id\"\n    \u003e -          :query-params=\"projectsQueryParams\"\n    \u003e +          :query-params=\"$options.projectsQueryParams\"\n    \u003e            :multi-select=\"multiProjectSelect\"\n    \u003e            @selected=\"onProjectsSelect\"\n    \u003e          /\u003e\n    \u003e ```","state":"closed","created_at":"2019-10-01T14:42:31.398Z","updated_at":"2020-10-29T14:38:36.128Z","closed_at":"2019-10-25T03:48:42.806Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Category:Value Stream Management","[deprecated] Accepting merge requests","backstage [DEPRECATED]","devops::manage","frontend","group::optimize","maintenance::refactor"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33147","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33147","notes":"https://gitlab.com/api/v4/projects/278964/issues/33147/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33147/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33147","relative":"#33147","full":"gitlab-org/gitlab#33147"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25507863,"iid":33143,"project_id":278964,"title":"Group members domain whitelist should allow multiple domains","description":"### Problem to solve\n\nThe [domains whitelisting](https://gitlab.com/gitlab-org/gitlab/issues/7297) feature was implemented after one of our employees requested it - however we've been unable to enable / use this feature as we often need to bring users who do not have a corporate e-mail account at our company's domain (e.g. clients) into our GitLab projects, and so with the current behaviour it's not possible to enable the domain whitelist because we are unable to add more than a single domain to the whitelist.\n\n### Intended users\n\nInitially GitLab admins will use this feature, to allow them to specify a list of domains from which users can be added from - the users actual vertical (e.g. Product Manager, Developer) isn't clear to me at this point.\n\n### Further details\n\nThis minor change makes the domain whitelisting feature more flexible and therefore hopefully more useful to users who work collaboratively with external stakeholders. It also promotes improved security/privacy in that it could help more users lock down their GitLab organisations and prevent them from accidentally granting access to people who should not be given access.\n\n### Proposal\n\nIt was proposed in https://gitlab.com/gitlab-org/gitlab/issues/7297#note_174792745 that the values in the input could simply be separated by a delimiter (e.g. `;` or `,`). I'm not sure if you already have a UI pattern for this sort of multi-input so if that's inline with the existing pattern if one exists then fine.\n\n#### First iteration\n\nA comma separated list of email domains\n\n![Screenshot_2019-10-01_at_14.40.52](/uploads/c25ac6891db7d09d5123a65ba6ee0326/Screenshot_2019-10-01_at_14.40.52.png)\n\n#### Second iteration\n\nImplement the GitLab UI \"Token Selector\" component: #220567 \n\n### Permissions and Security\n\nThe permissions required to edit the domain whitelist field should not be changed as part of this proposal. \n\n### Documentation\n\nI couldn't find any docs for the existing domain whitelist configuration (but I'm not sure if I was looking in the right place), so that should probably be added and expanded upon for this change.\n\n### Testing\n\nTBD\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer? \n\nThis is an additional security feature, so should probably belong to Gold/Ultimate.\n\n### User reports/requests\n\n1. https://gitlab.zendesk.com/agent/tickets/133973\n1. https://gitlab.zendesk.com/agent/tickets/134012\n1. https://gitlab.my.salesforce.com/00161000004xUpi\n\n## Issue readiness\n\n* [x] Product: issue description is accurate with an acceptable proposal for an MVC\n* [x] Engineering: issue is implementable with few remaining questions, is sufficiently broken down, and is able to be estimated","state":"closed","created_at":"2019-10-01T14:29:56.308Z","updated_at":"2023-01-09T20:50:13.472Z","closed_at":"2020-07-26T01:24:45.398Z","closed_by":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"labels":["Category:Authentication and Authorization","auto updated","backend","customer","devops::manage","direction","group::authentication and authorization","potential proposal","type::feature","workflow::verification"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"}],"author":{"id":1703072,"username":"wills1","name":"Wills Bithrey","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3eadc52e9ffa379406e7292e1044eb6f?s=80\u0026d=identicon","web_url":"https://gitlab.com/wills1"},"type":"ISSUE","assignee":{"id":4093067,"username":"manojmj","name":"Manoj M J","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4093067/avatar.png","web_url":"https://gitlab.com/manojmj"},"user_notes_count":45,"merge_requests_count":0,"upvotes":33,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33143","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33143","notes":"https://gitlab.com/api/v4/projects/278964/issues/33143/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33143/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33143","relative":"#33143","full":"gitlab-org/gitlab#33143"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25507376,"iid":33142,"project_id":278964,"title":"Count users in nested projects on Gitlab.com","description":"### Summary\n\nIt appears that the **GitLab.com** `Seats currently in use` count on the parent group billing page is no longer counting nested project membership.\n\n### Steps to reproduce\n\n1. Create a group\n1. Create a subgroup nested within the group\n1. Add a new member to the subgroup\n1. Check the billing page on the parent group and observe that there are correctly `2` `Seats currently in use`\n1. Create a project (within the parent group or subgroup)\n1. Add a new member to the project\n1. Check the billing page on the parent group and observe that there are incorrectly `2` `Seats currently in use`\n\n### Example Project\n\nhttps://gitlab.com/90smusic\n\nThis group ^ shows `3` `Seats currently in use` when it should be `5`\n\n* Parent Group: https://gitlab.com/groups/90smusic/-/group_members\n* Project w/ `5` Members: https://gitlab.com/90smusic/hair-bands/nothin-but-a-good-time/-/project_members\n\n### What is the current *bug* behavior?\n\nThe parent group billing page is **not** counting unique users in projects\n\n\n### User Reports\n\n1. https://gitlab.zendesk.com/agent/tickets/133813\n\n\n/cc @tipyn","state":"closed","created_at":"2019-10-01T14:20:48.265Z","updated_at":"2020-04-07T23:12:06.946Z","closed_at":"2020-02-17T08:54:18.902Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["DEPRECATED Growth-Deliverable","backend","customer","devops::fulfillment","devops::growth","gitlab.com","missed-SLO","missed:12.7","priority::1","type::bug","workflow::verification"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":46,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33142","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33142","notes":"https://gitlab.com/api/v4/projects/278964/issues/33142/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33142/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33142","relative":"#33142","full":"gitlab-org/gitlab#33142"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25494386,"iid":33128,"project_id":278964,"title":"Cannot find projects within subgroups when you select a top-level group in productivity analytics","description":"### Problem to solve\n\nCurrently, when you select a top-level group in [Productivity Analytics](https://docs.gitlab.com/ee/user/analytics/productivity_analytics.html), you cannot select a project within a subgroup in contrast with [Cycle Analytics](https://docs.gitlab.com/ee/user/analytics/cycle_analytics.html) where projects within a subgroup show up. See also relevant [discussion](https://gitlab.slack.com/archives/CETG54GQ0/p1569923891268300) (internal).\n\n| Productivity Analytics | Cycle Analytics |\n| ------ | ------ |\n| ![analytics-productivity](/uploads/2ba709e2bb5330b8699b9cbc462b379a/analytics-productivity.png) | ![analytics-cycle](/uploads/d31cf07237a771abd7e6d9c79095dc57/analytics-cycle.png) | \n\n### Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n### Proposal\n\nIf there is no performance consideration, let's include projects within child groups (subgroups) in the dropdown search when selecting an indirect group like the top-level group.\n\nAlternatively, remove projects within subgroups of the selected group on both Productivity Analytics and Cycle Analytics and indicate that you need to first select the direct parent group of the project you are looking for.","state":"closed","created_at":"2019-10-01T10:25:23.737Z","updated_at":"2020-02-04T17:59:03.259Z","closed_at":"2020-02-04T08:42:40.405Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Value Stream Management","UX","devops::manage","estimation::completed","group::optimize","missed:12.4","missed:12.5","missed:12.6","missed:12.7","priority::3","type::feature","workflow::verification"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"}],"author":{"id":1474048,"username":"gtsiolis","name":"George Tsiolis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1474048/avatar.png","web_url":"https://gitlab.com/gtsiolis"},"type":"ISSUE","assignee":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"user_notes_count":20,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33128","notes":"https://gitlab.com/api/v4/projects/278964/issues/33128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33128","relative":"#33128","full":"gitlab-org/gitlab#33128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25486432,"iid":33121,"project_id":278964,"title":"Refactor user counts into a common place","description":"We either have different data from the admin users breakdown page vs the License API or calculate the same thing in different places.\n\nWe should DRY this and have a service or class that is the SSOT for user counts.\n\nContext: https://gitlab.com/gitlab-org/gitlab/issues/32287#note_223989194 and https://gitlab.com/gitlab-org/gitlab/issues/32287#note_224291043","state":"closed","created_at":"2019-10-01T08:03:03.073Z","updated_at":"2019-11-19T05:09:33.678Z","closed_at":"2019-11-19T05:09:33.628Z","closed_by":{"id":4353908,"username":"briankabiro","name":"Brian Kabiro","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4353908/avatar.png","web_url":"https://gitlab.com/briankabiro"},"labels":["[deprecated] 🍎","backend","bug::performance","database","devops::fulfillment","devops::growth","maintenance::refactor","priority::4","workflow::ready for development"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4353908,"username":"briankabiro","name":"Brian Kabiro","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4353908/avatar.png","web_url":"https://gitlab.com/briankabiro"}],"author":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"type":"ISSUE","assignee":{"id":4353908,"username":"briankabiro","name":"Brian Kabiro","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4353908/avatar.png","web_url":"https://gitlab.com/briankabiro"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33121","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33121","notes":"https://gitlab.com/api/v4/projects/278964/issues/33121/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33121/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33121","relative":"#33121","full":"gitlab-org/gitlab#33121"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25486259,"iid":33117,"project_id":278964,"title":"NoMethodError: undefined method `downcase' for nil:NilClass","description":"https://sentry.gitlab.net/gitlab/staginggitlabcom/issues/992708/\n\n```\nNoMethodError: undefined method `downcase' for nil:NilClass\n  banzai/filter/video_link_filter.rb:23:in `has_video_extension?'\n    element.attr(src_attr).downcase.end_with?(*UploaderHelper::SAFE_VIDEO_EXT)\n  banzai/filter/video_link_filter.rb:12:in `block in call'\n    el.replace(video_node(doc, el)) if has_video_extension?(el)\n  nokogiri/xml/node_set.rb:238:in `block in each'\n    yield self[x]\n  nokogiri/xml/node_set.rb:237:in `upto'\n    0.upto(length - 1) do |x|\n  nokogiri/xml/node_set.rb:237:in `each'\n    0.upto(length - 1) do |x|\n...\n(166 additional frame(s) were not displayed)\n\nNoMethodError: undefined method `downcase' for nil:NilClass\n```","state":"closed","created_at":"2019-10-01T07:57:10.513Z","updated_at":"2019-10-01T23:30:30.705Z","closed_at":"2019-10-01T23:30:30.572Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["backend","banzai","devops::plan","group::project management","priority::1","severity::2","type::bug","workflow::in review"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33117","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33117","notes":"https://gitlab.com/api/v4/projects/278964/issues/33117/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33117/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33117","relative":"#33117","full":"gitlab-org/gitlab#33117"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25479839,"iid":33112,"project_id":278964,"title":"Follow up - Generate stages with label information from fixtures","description":"## Summary\n\nIn #32112 we introduced a fixture spec to generate test data for the cycle analytics tests, but there is currently no stage data with labels being seeded. To get around this, we [manually mutate a start and stop event](https://gitlab.com/gitlab-org/gitlab/merge_requests/17727#note_224201082) to be of type 'label'.\n\nWhen the [cycle analytics backend](https://gitlab.com/gitlab-org/gitlab/issues/13157) is complete, we should be able to remove this manual mutation\n\nRelated to: https://gitlab.com/gitlab-org/gitlab/merge_requests/19361\n\n## Improvements\n\nAll test data generated from a fixture spec\n\n## Involved components\n\n[ee/spec/frontend/analytics/cycle_analytics/mock_data.js](https://gitlab.com/gitlab-org/gitlab/blob/85e2d719ef97e749411b985140f491c220e52051/ee/spec/frontend/analytics/cycle_analytics/mock_data.js)\n\n## Optional: Missing test coverage\n\n\u003c!--\nIf you are aware of tests that need to be written or adjusted apart from unit tests for the changed components,\nplease list them here.\n--\u003e","state":"closed","created_at":"2019-10-01T01:31:37.706Z","updated_at":"2020-10-29T14:38:36.646Z","closed_at":"2020-01-16T15:41:12.992Z","closed_by":{"id":444,"username":"dzaporozhets","name":"Dmytro Zaporozhets (DZ)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/444/avatar.png","web_url":"https://gitlab.com/dzaporozhets"},"labels":["Category:Value Stream Management","backstage [DEPRECATED]","devops::manage","frontend","group::optimize","missed:12.5","missed:12.6","workflow::in review"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":7,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33112","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33112","notes":"https://gitlab.com/api/v4/projects/278964/issues/33112/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33112/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33112","relative":"#33112","full":"gitlab-org/gitlab#33112"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25478314,"iid":33101,"project_id":278964,"title":"Add \"updated_after\" parameter to the Deployments API endpoint","description":"### Summary\n\nAn Enterprise customer is pulling data from the [\"list project deployments\" API endpoint](https://docs.gitlab.com/ee/api/deployments.html#list-project-deployments) to populate a custom-built dashboard. The customer only wants to display the latest changes. However, the customer has no way to restrict the API results to the latest changes. Instead, the customer retrieves all records, checks one-by-one and processes only the records updated after the latest `updated_at` value in the last batch retrieved. The customer has asked for the ability to query for `updated_at` values after a specified timestamp.\n\nThe API currently offers an `updated_after` parameter for multiple resource \"list\" endpoints, including [Issues](https://docs.gitlab.com/ee/api/issues.html) and [Merge Requests](https://docs.gitlab.com/ee/api/merge_requests.html). The same functionality can be replicated for __Deployments__.\n\n### Spec\n\nThe \"list project deployments\" API endpoint accepts an `updated_after` parameter.\n\n### Spec Notes\n\n- It makes sense to add `updated_before` at the same time, as that is effectively part of the same feature, if it's not much work.\n- The groundwork has been laid by !17913, which adds timestamps to the Deployments API response.\n- There is a similar issue to [Add \"updated_after\" parameter to the Pipelines API endpoint](https://gitlab.com/gitlab-org/gitlab/issues/33099)","state":"closed","created_at":"2019-09-30T23:21:29.765Z","updated_at":"2022-10-28T15:34:28.910Z","closed_at":"2019-11-28T01:37:26.091Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["api","backend","devops::manage","group::optimize","missed:12.4","workflow::in dev"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33101","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33101","notes":"https://gitlab.com/api/v4/projects/278964/issues/33101/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33101/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33101","relative":"#33101","full":"gitlab-org/gitlab#33101"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25477996,"iid":33099,"project_id":278964,"title":"Add \"updated_after\" parameter to the Pipelines API endpoint","description":"### Summary\n\nAn Enterprise customer is pulling data from the [\"list project pipelines\" API endpoint](https://docs.gitlab.com/ee/api/pipelines.html#list-project-pipelines) to populate a custom-built dashboard. The customer only wants to display the latest changes. However, the customer has no way to restrict the API results to the latest changes. Instead, the customer retrieves all records, checks one-by-one and processes only the records updated after the latest `updated_at` value in the last batch retrieved. The customer has asked for the ability to query for `updated_at` values after a specified timestamp.\n\nThe API currently offers an `updated_after` parameter for multiple resource \"list\" endpoints, including [Issues](https://docs.gitlab.com/ee/api/issues.html) and [Merge Requests](https://docs.gitlab.com/ee/api/merge_requests.html). The same functionality can be replicated for Pipelines.\n\n### Spec\n\nThe \"list project pipelines\" API endpoint accepts an `updated_after` parameter.\n\n### Spec Notes\n\n- It makes sense to add `updated_before` at the same time, if it's not much work.\n- The groundwork has been laid by !17911, which adds timestamps to the Pipelines API response.\n- There is a similar issue to [Add \"updated_after\" parameter to the Deployments API endpoint](https://gitlab.com/gitlab-org/gitlab/issues/33101)","state":"closed","created_at":"2019-09-30T22:51:51.003Z","updated_at":"2021-01-19T21:03:52.636Z","closed_at":"2019-12-06T15:17:00.025Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["[deprecated] Accepting merge requests","api","backend","devops::manage","group::optimize","missed:12.4","workflow::in dev"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33099","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33099","notes":"https://gitlab.com/api/v4/projects/278964/issues/33099/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33099/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33099","relative":"#33099","full":"gitlab-org/gitlab#33099"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25477981,"iid":33098,"project_id":278964,"title":"Distribute daily cron schedules out over the hour","description":"### Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\n\nWhen creating a pipeline schedule, currently there are some quick options. All of these kick-off at exactly 4 am which creates a relatively large load on our system at that time.\n\nFor example, if you choose daily at 4 am, then each job gets the cron value of `0 4 * * *`.\n\n| Cron example |\n| --- |\n| ![cron](/uploads/d1824f46a8dcb0db3c013a22a8fdc13f/cron.png) |\n\n\u003e This is actually our biggest reliable source of queue congestion on `.com` and so I'm going to flag this as a ~S2 based upon https://gitlab.com/gitlab-org/gitlab-foss/blob/master/doc/development/contributing/issue_workflow.md#severity-labels\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.--\u003e\n\n| Managing persona  | User persona |\n| ------ | ------ |\n| Our own systems administrators ([Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)) have to better manage our load balancing. | [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer) to setup scheduled automated pipelines |\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nSpread the load out over the hour by randomizing the minute field and hide the filled-in cron text when using the daily/weekly/monthly options. So for example when a user selects \"Daily at 4 am\" the cron value set behind the scenes is a value ranging from `0 4 * * *` to `59 4 * * *` where the minute digit is chosen at random. \n\n1. Making the preset outcomes editable after being chosen\n   - The cron field stays editable\n1. Allowing for timezones to be randomized by the presets\n   - The timezone dropdown's information architecture is changed in the UI making it dependent on the presets\n1. The presets will randomize upon page load\n   - Every day: changes times\n   - Every week: changes day and times\n   - Every month: changes day and times\n1. Allowing for ranges to be defined in the cron syntax for hours only (borrowing from [Jenkins](https://github.com/jenkinsci/jenkins/blob/jenkins-2.211/core/src/main/resources/hudson/triggers/TimerTrigger/help-spec.jelly))\n   - Hours: H (0-23)\n   - Potential to add others for bigger and smaller ranges (days of week and month, minutes)\n1. Upon loading the page, we generate **one** time for all options:\n   * Page load\n   * Generate Random Week day -\u003e Wednesdays\n   * Generate Random Date -\u003e 4th\n   * Generate Random Time -\u003e 19h\n   * User then has the choice between Custom, Every day at 19h, Every Wednesday at 19h , Every month, 4th at 19h\n\n| Mockup ([Figma document](https://www.figma.com/file/JQ79AqMRw8JASx2qyINvg3/33098?node-id=4%3A340))  |\n| --- |\n| ![Frame_2](/uploads/ee4b895db0f4ab2b23b427a7be046838/Frame_2.png) |\n\n#### Things to consider\n\nCurrently, the behavior is that picking \"daily at 4 am\" fills out the cron value for you, but leaves it visible and editable. This gives the user the easy opportunity to change it to `0 9 * * *` if what they really want is to have the job run at 9 am every morning. By hiding it we lose that ability.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\n What risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references","state":"closed","created_at":"2019-09-30T22:50:57.630Z","updated_at":"2021-08-31T17:32:13.926Z","closed_at":"2020-05-25T20:55:13.596Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Continuous Integration","GitLab.com Priority","UX","Verify::P1","backend","depth","devops::verify","frontend","gitlab.com","group::pipeline execution","internal customer","missed:12.8","missed:12.9","pipeline","priority::2","severity::2","type::feature","wg_CIQueueStability"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":2469083,"username":"erushton","name":"Elliot Rushton","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4194662ce4a5b5f53e61689fd7a2daf9?s=80\u0026d=identicon","web_url":"https://gitlab.com/erushton"},"type":"ISSUE","assignee":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"user_notes_count":82,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33098","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33098","notes":"https://gitlab.com/api/v4/projects/278964/issues/33098/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33098/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33098","relative":"#33098","full":"gitlab-org/gitlab#33098"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2090,"epic":{"id":14152,"iid":2090,"title":"Stable CI queue times on .com","url":"/groups/gitlab-org/-/epics/2090","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25477961,"iid":33097,"project_id":278964,"title":"Issue weight in issues board needs alignment and to update color.","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIn the issue board, when an issue has a weight displayed, the issue number, weight icon, and weight number are different colors and not vertically aligned.\n\nCame up in this discussion https://gitlab.com/gitlab-org/gitlab/merge_requests/17329#note_222822790\n\n/cc @uhlexsis \n\n### Steps to reproduce\n\nGo to the issue board.\n\n### Example Project\n\n(If possible, please create an example project here on GitLab.com that exhibits the problematic behavior, and link to it here in the bug report)\n\n(If you are using an older version of GitLab, this will also determine whether the bug is fixed in a more recent version)\n\n### What is the current *bug* behavior?\n\nColors are different shades of gray and elements are not aligned.\n\n### What is the expected *correct* behavior?\n\nI would expect the colors to be the same and it to be vertically aligned.\n![Issuenumberandweightcard](/uploads/6ecc5f97eddcaa9772e85e8d987970c6/Issuenumberandweightcard.png)\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/7aafa30ede01ced7f1ffdd5cbf4a165a/image.png)\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-09-30T22:48:59.380Z","updated_at":"2020-09-15T14:26:26.424Z","closed_at":"2020-09-01T23:09:23.756Z","closed_by":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"labels":["Community contribution","devops::plan","frontend","section::dev","type::bug","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":3692763,"username":"carolcarvalhosa","name":"Carolina Simões","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3692763/avatar.png","web_url":"https://gitlab.com/carolcarvalhosa"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":3692763,"username":"carolcarvalhosa","name":"Carolina Simões","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3692763/avatar.png","web_url":"https://gitlab.com/carolcarvalhosa"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33097","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33097","notes":"https://gitlab.com/api/v4/projects/278964/issues/33097/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33097/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33097","relative":"#33097","full":"gitlab-org/gitlab#33097"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25476434,"iid":33093,"project_id":278964,"title":"Correct Misleading Error message regarding related issues: Should say, \"The issue is already linked\"","description":"When trying to link an issue that is already linked, an error message appears that says, \"We can't find an issue that matches what you are looking for.\"\n\n![Screen_Shot_2019-09-30_at_10.07.23_AM](/uploads/78115fe2d194716e691f19c23d260ce5/Screen_Shot_2019-09-30_at_10.07.23_AM.png)","state":"closed","created_at":"2019-09-30T21:58:30.256Z","updated_at":"2019-11-26T06:54:29.104Z","closed_at":"2019-11-11T18:27:52.456Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Deliverable","devops::plan","frontend","group::project management","internal customer","issues","priority::3","reproduced on GitLab.com","severity::3","type::bug","workflow::verification"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"}],"author":{"id":2668852,"username":"MFarber","name":"Melissa Farber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2668852/avatar.png","web_url":"https://gitlab.com/MFarber"},"type":"ISSUE","assignee":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33093","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33093","notes":"https://gitlab.com/api/v4/projects/278964/issues/33093/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33093/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33093","relative":"#33093","full":"gitlab-org/gitlab#33093"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25465576,"iid":33065,"project_id":278964,"title":"Add flag for disabling babel-preprocessing in nodejs-scan SAST analyzer","description":"### Problem to solve\n\nOur [`nodejs-scan`]() analyzer currently preprocesses all javascript in order to strip comments. This is brittle in requiring frequent updates to support new ECMA syntaxes and an extensive processing step prior to scanning.\n\nThere are many arguments to be made for our scanners failing due to invalid syntax which are being discussed within https://gitlab.com/gitlab-org/gitlab/issues/7102, however to enable usage of our scanners more generally we should explore modifying the precompilation step to make it optional.\n\n#### Alternatives to babel\n\nWe should additionally explore alternative tools to babel in order to strip comments, perhaps some that do not require valid syntax, such as https://www.npmjs.com/package/strip-comments. This exploration should take into account performance indicators and efficacy compared to the current approach.\n\nBabel requires ongoing maintenance and frequent updates in order to support new backfills and presets; i.e. `ECMA 2019` syntax is not yet supported. If we can find a simpler tool for stripping comments it could  be significantly easier to maintain.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\n\n- [x] Add new `ENV` variable for disabling preprocessing steps for [analyzers/nodejs-scan](https://gitlab.com/gitlab-org/security-products/analyzers/nodejs-scan)\n- [x] Retain default preprocessing behavior\n- [x] Document new `ENV` variable\n- [ ] Explore less strict alternatives to babel for stripping comments\n\n### Permissions and Security\n\nNo change to permissions/security\n\n### Documentation\n\nDocument new ENV variable for disabling comment stripping\n\n### Testing\n\n- Add new test project with invalid JS syntax that allows ~sast scans\n- `nodejs-scan` should pass on `gitlab-org/gitlab`, see recent issue https://gitlab.com/gitlab-org/release-tools/merge_requests/721\n\n### What does success look like, and how can we measure that?\n\n1. User should be able to bypass preprocessing\n2. Scanner should strip comments without requiring valid syntax (if alternative to babel is found)\n\n### What is the type of buyer? \n\n~\"GitLab Ultimate\" \n\n### Links / references\n[Customer use case](https://gitlab.com/gitlab-org/gitlab/issues/7102#note_285190880)","state":"closed","created_at":"2019-09-30T17:41:28.654Z","updated_at":"2022-04-18T19:23:51.566Z","closed_at":"2020-07-15T13:58:50.546Z","closed_by":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"labels":["Category:SAST","Deliverable","SAST: Common Need","SAST: Scanner Update","SAST: Speedy Scanners","backend","backend-weight::2","customer","customer+","devops::secure","group::static analysis","missed-deliverable","missed:12.5","missed:13.0","missed:13.1","type::feature","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"}],"author":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"type":"ISSUE","assignee":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33065","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33065","notes":"https://gitlab.com/api/v4/projects/278964/issues/33065/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33065/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33065","relative":"#33065","full":"gitlab-org/gitlab#33065"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25457656,"iid":33051,"project_id":278964,"title":"Design Activity should be supported on Project, Group and User Activity Pages","description":"## Problem\n\nActivity from Designs should be captured in the project, group and user activity feed pages so that people can see all contributions made.\n\nCurrently, design comments are posted to the activity feed but Design activity is not.\n\n## Proposal\n\n1. Show Design Activity on Group, User and Project Activity pages: \n   - Example Group Page: https://gitlab.com/groups/gitlab-org/-/activity\n   - Example Project Page: https://gitlab.com/gitlab-org/gitlab/activity\n   - User profile: https://gitlab.com/cdybenko\n   - User profile activity: https://gitlab.com/users/cdybenko/activity \u003cbr\u003e\u003cbr\u003e\n1. Add a new `Designs` Filter tab to the on Projects and Group activities:\n   - Example Group Page: https://gitlab.com/groups/gitlab-org/-/activity\n   - Example Project Page: https://gitlab.com/gitlab-org/gitlab/activity  \u003cbr\u003e\u003cbr\u003e\n1. Implement new activity posts for:\n   - Creating a new Design\n   - Updating a Design (revision)\n   - Archiving a Design \u003c-- @alexkalderimis @mnearents is this normal to show deletions in the other activity pages?","state":"closed","created_at":"2019-09-30T14:25:16.329Z","updated_at":"2021-06-21T18:20:02.045Z","closed_at":"2020-06-29T14:57:33.896Z","closed_by":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"labels":["Category:Design Management","Deliverable","backend","devops::plan","direction","group::product planning","missed-deliverable","missed:13.1","type::feature","workflow::in review"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":27,"merge_requests_count":0,"upvotes":10,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33051","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33051","notes":"https://gitlab.com/api/v4/projects/278964/issues/33051/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33051/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33051","relative":"#33051","full":"gitlab-org/gitlab#33051"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1710,"epic":{"id":10359,"iid":1710,"title":"[MATURITY] Design Management - Viable","url":"/groups/gitlab-org/-/epics/1710","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25451658,"iid":33039,"project_id":278964,"title":"Allow changing item parent Epic using drag and drop interaction","description":"# Summary\n\nWith https://gitlab.com/gitlab-org/gitlab/issues/13633, we're adding support for reordering Epics and Issues as a combined list. The next logical step in the Epics Tree UX is to allow user to move any item (Issue or an Epic) inside of an Epic, and thus changing parent Epic of that item. This was also discussed to be included in the tree originally but we're breaking down entire effort into smaller issues, so this issue is tracking just the part of nested drag and drop. When dragging an item to a closed child epic, the child epic should expand so they can drop the item within. \n\n## Documentation to Update:\n\nhttps://docs.gitlab.com/ee/user/group/epics/#reordering-issues-and-child-epics\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-09-30T12:56:42.886Z","updated_at":"2021-11-08T16:56:13.217Z","closed_at":"2020-05-11T00:52:43.883Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Category:Portfolio Management","Dogfooding","GraphQL","UX","backend","devops::plan","direction","documentation","epic tree","epics","frontend","group::product planning","missed:12.10","missed:12.7","missed:12.9","type::feature","workflow::production"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":30,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33039","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33039","notes":"https://gitlab.com/api/v4/projects/278964/issues/33039/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33039/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33039","relative":"#33039","full":"gitlab-org/gitlab#33039"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2547,"epic":{"id":18766,"iid":2547,"title":"Improve our Epic Tree Experience","url":"/groups/gitlab-org/-/epics/2547","group_id":9970,"human_readable_end_date":"May 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":25439371,"iid":33019,"project_id":278964,"title":"Refactor spec/features/help_pages_spec.rb to not rely on the docs content","description":"In https://gitlab.com/gitlab-org/gitlab/merge_requests/8523, there has been a refactor of the docs landing page `doc/README.md`. We have a spec in place that depends on some content of that page, but we should change that given that we will deprecate the inline docs https://gitlab.com/groups/gitlab-org/-/epics/693.\n\n## Proposal\n\nChange https://gitlab.com/gitlab-org/gitlab/blob/23d5fc343e14b0a027de5a3aa91dd9482407dd4f/spec/features/help_pages_spec.rb#L9 so that it doesn't rely on the docs.\n\nWe have https://gitlab.com/help/instance_configuration which we can test with.","state":"closed","created_at":"2019-09-30T09:00:40.386Z","updated_at":"2020-05-06T08:51:46.261Z","closed_at":"2020-05-06T08:51:46.199Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Engineering Productivity","Quality","documentation","help page","priority::3","test"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":3585,"username":"axil","name":"Achilleas Pipinellis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3585/avatar.png","web_url":"https://gitlab.com/axil"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":3,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33019","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33019","notes":"https://gitlab.com/api/v4/projects/278964/issues/33019/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33019/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33019","relative":"#33019","full":"gitlab-org/gitlab#33019"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":693,"epic":{"id":2864,"iid":693,"title":"Use Docs site paths for GitLab UI help links instead of /help","url":"/groups/gitlab-org/-/epics/693","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25433994,"iid":33012,"project_id":278964,"title":"Add license list to \"Security and Compliance\" nav section - Bootstrap page with Controller, Views, Route, and Vue app","description":"* This is a subissue for #13582\n\nAs part of https://gitlab.com/gitlab-org/gitlab/issues/13582 this issues covers the following tasks:\n\n* [x]  Create rails route for a project's license list \n* [x]  Create rails controller and view w/ feature flags and permissions check\n* [x]  Bootstrap initial Vue app skeleton","state":"closed","created_at":"2019-09-30T06:27:52.647Z","updated_at":"2019-11-18T15:56:42.106Z","closed_at":"2019-10-17T14:06:00.744Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","Secure UX::Compliance \u0026 Auditing","backend","devops::secure","frontend","group::composition analysis","sub-issue","type::feature"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33012","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33012","notes":"https://gitlab.com/api/v4/projects/278964/issues/33012/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33012/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33012","relative":"#33012","full":"gitlab-org/gitlab#33012"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25429960,"iid":33008,"project_id":278964,"title":"Failure in qa/specs/features/browser_ui/3_create/snippet/create_snippet_spec.rb","description":"Found in an unrelated MR: https://gitlab.com/gitlab-org/gitlab/merge_requests/17669\n\nhttps://gitlab.com/gitlab-org/gitlab-qa/-/jobs/307311999\n\n```\n1) Create Snippet creation User creates a snippet\n     Failure/Error: Page::Main::Menu.perform(\u0026:click_snippets_link)\n     \n     Capybara::ElementNotFound:\n       Unable to find visible css \"[data-qa-selector=\\\"snippets_link\\\"],.qa-snippets-link\"\n     # /usr/local/bundle/gems/capybara-2.16.1/lib/capybara/node/finders.rb:314:in `block in synced_resolve'\n     # /usr/local/bundle/gems/capybara-2.16.1/lib/capybara/node/base.rb:85:in `synchronize'\n     # /usr/local/bundle/gems/capybara-2.16.1/lib/capybara/node/finders.rb:302:in `synced_resolve'\n     # /usr/local/bundle/gems/capybara-2.16.1/lib/capybara/node/finders.rb:37:in `find'\n     # /usr/local/bundle/gems/capybara-2.16.1/lib/capybara/session.rb:810:in `block (2 levels) in \u003cclass:Session\u003e'\n     # /usr/local/bundle/gems/capybara-2.16.1/lib/capybara/dsl.rb:50:in `block (2 levels) in \u003cmodule:DSL\u003e'\n     # ./qa/page/base.rb:77:in `find_element'\n     # ./qa/support/page/logging.rb:45:in `find_element'\n     # ./qa/page/base.rb:98:in `click_element'\n     # ./qa/support/page/logging.rb:69:in `click_element'\n     # ./qa/page/main/menu.rb:84:in `click_snippets_link'\n     # ./qa/scenario/actable.rb:16:in `perform'\n     # ./qa/specs/features/browser_ui/3_create/snippet/create_snippet_spec.rb:10:in `block (3 levels) in \u003cmodule:QA\u003e'\n```\n\nScreenshot shows that the Snippet link in the navbar isn't visible. It was moved behind the More menu in https://gitlab.com/gitlab-org/gitlab/merge_requests/17529\n\n![snippets](/uploads/de7430529f6867ac0e0f38adf9f2a43a/snippets.png)\n\nThis is likely to fail in the nightly tests and in staging/canary (if https://gitlab.com/gitlab-org/gitlab/merge_requests/17529 gets to those environments before I get a fix merged)","state":"closed","created_at":"2019-09-30T03:56:25.209Z","updated_at":"2019-09-30T10:01:06.526Z","closed_at":"2019-09-30T10:01:06.451Z","closed_by":{"id":178079,"username":"wlsf82","name":"Walmyr Lima e Silva Filho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/178079/avatar.png","web_url":"https://gitlab.com/wlsf82"},"labels":["Quality","devops::plan","priority::1","severity::1","type::bug"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":655908,"username":"mlapierre","name":"Mark Lapierre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/655908/avatar.png","web_url":"https://gitlab.com/mlapierre"}],"author":{"id":655908,"username":"mlapierre","name":"Mark Lapierre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/655908/avatar.png","web_url":"https://gitlab.com/mlapierre"},"type":"ISSUE","assignee":{"id":655908,"username":"mlapierre","name":"Mark Lapierre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/655908/avatar.png","web_url":"https://gitlab.com/mlapierre"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/33008","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/33008","notes":"https://gitlab.com/api/v4/projects/278964/issues/33008/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/33008/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#33008","relative":"#33008","full":"gitlab-org/gitlab#33008"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25413180,"iid":32952,"project_id":278964,"title":"Modsecurity firewall blocking traffic for SecRequestBodyLimit","description":"### Summary\n\nThis really threw me for a loop since I've been creating environments for the last couple months. Didn't see the recent press release until a couple hours of digging into why I was hitting 403s. Then I saw these errors in the ingress controller logs `Request body limit is marked to reject the request`. We have a docker registry behind our ingress controller which is how I hit this issue. Am I missing something? \n\n### Steps to reproduce\n\n- Create a new environment with an existing kubernetes cluster\n- Install the ingress via tiller\n- Create a service/deployment for a docker registry\n- Push an image with layers over the SecRequestBodyLimit\n\n### What is the current *bug* behavior?\n\nBlocks requests with a 403 over the SecRequestBodyLimit. \n\n### What is the expected *correct* behavior?\n\nI'm not positive on the correct config, but would love some clarification. My impression was the initial release of this firewall would not block traffic. \n\n### Relevant logs and/or screenshots\n```\n@cloudshell:~ ()$ kubectl exec -it ingress-nginx-ingress-controller-7cf6944677-clc6d -n gitlab-managed-apps /bin/sh\n# grep -r SecRequestBody .\n./etc/nginx/owasp-modsecurity-crs/crs-setup.conf:# SecRequestBodyAccess, SecAuditEngine, SecDebugLog, and XML processing.\n./etc/nginx/modsecurity/modsecurity.conf:SecRequestBodyAccess On\n./etc/nginx/modsecurity/modsecurity.conf:SecRequestBodyLimit 13107200\n./etc/nginx/modsecurity/modsecurity.conf:SecRequestBodyNoFilesLimit 131072\n./etc/nginx/modsecurity/modsecurity.conf:SecRequestBodyLimitAction Reject\n```\n\n### Possible fixes\nWas able to push images by changing the `SecRequestBodyLimitAction` from `Reject` \u003e `ProcessPartial`\n- Exec into the ingress controller\n- Change to the following in `/etc/nginx/owasp-modsecurity-crs/crs-setup.conf`\n  - `modsecurity.conf:SecRequestBodyLimitAction ProcessPartial`\n- Reload nginx `nginx -s reload`","state":"closed","created_at":"2019-09-29T00:10:36.426Z","updated_at":"2022-02-10T14:13:45.309Z","closed_at":"2019-10-18T19:34:23.131Z","closed_by":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"labels":["Category:Kubernetes Management","Category:WAF","backend","backend-weight::3","devops::govern","group::static analysis","missed:12.4","priority::2","severity::2","type::bug","workflow::verification"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"}],"author":{"id":3811976,"username":"tjhiggins","name":"TJ Higgins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3811976/avatar.png","web_url":"https://gitlab.com/tjhiggins"},"type":"ISSUE","assignee":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32952","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32952","notes":"https://gitlab.com/api/v4/projects/278964/issues/32952/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32952/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32952","relative":"#32952","full":"gitlab-org/gitlab#32952"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25394425,"iid":32933,"project_id":278964,"title":"GraphQL: remove deprecated method of decoding cursors","description":"The format of GraphQL cursors changed from a straight encoded string into an encoded JSON string (https://gitlab.com/gitlab-org/gitlab/merge_requests/17788)\n\nThis change could cause clients to initially fail if they request the old style cursor, so we left in some backward compatibility.  However once a client request succeeds, it will get the new cursor format.\n\nWe simply need to remove this support in next release (12.5)\n\nA `TODO` has been placed in these files:\n\n- https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/graphql/connections/keyset/connection.rb\n- https://gitlab.com/gitlab-org/gitlab/blob/master/spec/lib/gitlab/graphql/connections/keyset/connection_spec.rb","state":"closed","created_at":"2019-09-27T19:44:00.849Z","updated_at":"2019-12-18T11:28:32.018Z","closed_at":"2019-12-05T19:05:44.293Z","closed_by":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"labels":["Deliverable","GraphQL","backend","backstage [DEPRECATED]","devops::plan","group::project management","maintenance::refactor","missed-deliverable","missed:12.5","workflow::production"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"}],"author":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32933","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32933","notes":"https://gitlab.com/api/v4/projects/278964/issues/32933/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32933/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32933","relative":"#32933","full":"gitlab-org/gitlab#32933"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25394110,"iid":32932,"project_id":278964,"title":"Import group settings and relations from a group export","description":"## Overview\n\nWe'd like to allow groups to be exported and imported back into a GitLab instance on self-managed and GitLab.com. After https://gitlab.com/gitlab-org/gitlab/issues/32931 is completed and group relations are available for export, we should be able to use the created tar on a GitLab instance to import the group.\n\n## Proposal\n\n* Introduce a new Group Import/Export API similar to our [Project Import/Export API](https://docs.gitlab.com/ee/api/project_import_export).\n  * A user should be able to start an import job and get an email when it's complete.\n  * This API should not require admin rights.","state":"closed","created_at":"2019-09-27T19:33:58.586Z","updated_at":"2021-05-18T20:46:42.155Z","closed_at":"2020-02-12T20:32:43.822Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["DEPRECATED_group import","DEPRECATED_import","Importer:Group Export/Import","backend","devops::manage","estimation::completed","group::import","missed:12.4","missed:12.5","missed:12.6","missed:12.7","priority::2","workflow::verification"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32932","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32932","notes":"https://gitlab.com/api/v4/projects/278964/issues/32932/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32932/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32932","relative":"#32932","full":"gitlab-org/gitlab#32932"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1952,"epic":{"id":12745,"iid":1952,"title":"Group Export/Import API","url":"/groups/gitlab-org/-/epics/1952","group_id":9970,"human_readable_end_date":"Feb 21, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25393198,"iid":32931,"project_id":278964,"title":"Export group settings and relations for import","description":"## Overview\n\nWe'd like to allow groups to be exported and imported back into a GitLab instance on self-managed and GitLab.com. As a starting point, we should first lay the foundation by exporting settings for the group and all relations for the group (similar to import_export.yml) before starting to connect activity, packages, and projects.\n\n## Proposal\n\nIntroduce a new GroupImportExport tool that exports group relations in a series of jobs.","state":"closed","created_at":"2019-09-27T19:09:09.053Z","updated_at":"2021-05-18T20:46:41.994Z","closed_at":"2019-11-21T10:12:48.309Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["DEPRECATED_group import","DEPRECATED_import","Importer:Group Export/Import","backend","devops::manage","estimation::completed","group::import","missed:12.4","priority::1"],"milestone":null,"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":13,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32931","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32931","notes":"https://gitlab.com/api/v4/projects/278964/issues/32931/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32931/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32931","relative":"#32931","full":"gitlab-org/gitlab#32931"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1952,"epic":{"id":12745,"iid":1952,"title":"Group Export/Import API","url":"/groups/gitlab-org/-/epics/1952","group_id":9970,"human_readable_end_date":"Feb 21, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25389916,"iid":32919,"project_id":278964,"title":"Inform the user that removing the last tag of an image, it will remove the image as a whole.","description":"### Problem to solve\nThe GitLab Container Registry allows users to build, publish and share Docker images using the Docker client or GitLab pipelines. Users can remove images using the Container Registry UI or the [Container Registry API](https://docs.gitlab.com/ee/api/container_registry.html).\n\nBefore I describe the problem I wanted to give a quick refresher on a few Docker terms:\n- **Tag:** Docker tags convey useful information about a specific image version/variant. They are aliases to the ID of your image which often look like this: f1477ec11d12. It’s just a way of referring to your image. A good analogy is how Git tags refer to a particular commit in your history.\n- **Image:** An image is a read-only template with instructions for creating a Docker container. Often, an image is based on another image, with some additional customization.\n- **Container:** A container is a runnable instance of an image. You can create, start, stop, move, or delete a container using the Docker API or CLI. \n\nIn milestone 12.3, we resolved an issue with Docker, where [untagging an image would remove all tags sharing the same Image_ID](https://gitlab.com/gitlab-org/gitlab/issues/15737). We accomplished this by changing the logic so that when a user removes a given tag, we push the tag to a new image and delete THAT image. \n\nThe problem is that when we remove the last tag of an image, it removes the entire image. We need to warn users of this behavior.  \n\n### Intended users\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\n### Proposal\nAs part of the modal experience, we add a second confirmation if the user is deleting the last tag, confirming that they wish to remove the image as a whole as part of removing the last tag(s).\n\n\n#### Copy\n- If the users selects multiple tags for removal at the same time AND one of them happens to be the last tag, we will serve two warning messages:\n  - The first: `You are about to remove \u003cb\u003e%{count}\u003c/b\u003e tags. Are you sure?`\n  - The second: `You are about to remove \u003cb\u003e%{title}\u003c/b\u003e. Since this is the only tag for this image, this will remove the tag and image. Are you sure?`\n- If the user selects only one tag and it is the last tag of a given image:\n  - `You are about to remove \u003cb\u003e%{title}\u003c/b\u003e. Since this is the only tag for this image, this will remove the tag and image. Are you sure?`\n\n### Permissions and Security\n-There are no permissions changes required for this issue\n\n### Documentation\n-There are no documentation changes required for this issue\n\n### What does success look like, and how can we measure that?\n- Success looks like we heed the advice of our product designer @icamacho and \"Always warn users of destructive actions\"\n\n### Links / references\n- [Conversation that spurred this issue](https://gitlab.com/gitlab-org/gitlab/issues/31547#note_223158387)\n","state":"closed","created_at":"2019-09-27T16:30:10.778Z","updated_at":"2019-10-17T15:59:32.345Z","closed_at":"2019-10-17T15:59:32.298Z","closed_by":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"labels":["Category:Container Registry","Technical Writing","UI text","UX","devops::package","frontend","group::package registry","type::feature"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":4265456,"username":"icamacho","name":"Iain Camacho","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4265456/avatar.png","web_url":"https://gitlab.com/icamacho"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":22,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32919","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32919","notes":"https://gitlab.com/api/v4/projects/278964/issues/32919/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32919/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32919","relative":"#32919","full":"gitlab-org/gitlab#32919"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25387718,"iid":32914,"project_id":278964,"title":"Gitlab in subdir - GraphQL API not reachable - missing /gitlab/ part for API calls","description":"### Summary\n\nWhen GitLab runs in subdir/subfolder, like e.g. devops.company.com/gitlab, we need more options to configure GraphiQL (the IDE).\n\n### Steps to reproduce\n\n1. Run gitlab on subfolder path, e.g. devops.company.com/gitlab. E.g. we use omnibus on bare metal/minikube instances.\n2. Go to devops.company.com/gitlab/-/graphql-explorer\n3. Face following error:\n\n```\n{\n  \"message\": \"The server responded with invalid JSON, this is probably a server-side error\",\n  \"response\": \"\u003c!DOCTYPE HTML PUBLIC \\\"-//IETF//DTD HTML 2.0//EN\\\"\u003e\\n\u003chtml\u003e\u003chead\u003e\\n\u003ctitle\u003e404 Not Found\u003c/title\u003e\\n\u003c/head\u003e\u003cbody\u003e\\n\u003ch1\u003eNot Found\u003c/h1\u003e\\n\u003cp\u003eThe requested URL /api/graphql was not found on this server.\u003c/p\u003e\\n\u003c/body\u003e\u003c/html\u003e\\n\"\n}\n```\n\n### What is the current *bug* behavior?\n\nYou can see gitlab's graphql (webpage loads ok), but because graphql API is not reachable, you cannot execute any queries. \n\n### Relevant logs and/or screenshots\n\nAPI configuration\n```\n  // Defines a GraphQL fetcher using the fetch API.\n    var graphQLEndpoint = \"/api/graphql\";\n    function graphQLFetcher(graphQLParams) {\n      return fetch(graphQLEndpoint, {\n        method: 'post',\n```\n\nWhen opening google chrome console on devops.company.com/gitlab/-/graphql-explorer: \n\n```\nFailed to load resource: the server responded with a status of 404 (Not Found) https://devops.company.com/api/graphql\n```\n\nhttps://devops.company.com/api/graphql logically **does not exist**, thus an error. it should be https://devops.company.com/gitlab/api/graphql\n\nOur installation:\n\n-\u003e omnibus, latest on prem installation\n\n-\u003e It should be noted that otherwise our gitlab is working just fine, e.g. with Rest API, etc.\n\n### Proposed Solution\n\nIt would be nice to have an additional configuration option for it. https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-config-template/gitlab.rb.template\n\nDefault for graphiQL explorer: external url + 'api/graphql/'\n\n","state":"closed","created_at":"2019-09-27T15:14:33.870Z","updated_at":"2020-02-18T07:07:07.085Z","closed_at":"2020-02-17T07:56:59.049Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Deliverable","GraphQL","[deprecated] Accepting merge requests","backend","devops::plan","group::project management","missed-deliverable","missed:12.6","priority::3","severity::3","type::bug","workflow::scheduling"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[],"author":{"id":378506,"username":"dmpe","name":"John Malc","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7bab30b8ed3f1b6f0d2d2cf1c806e6a7?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmpe"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32914","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32914","notes":"https://gitlab.com/api/v4/projects/278964/issues/32914/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32914/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32914","relative":"#32914","full":"gitlab-org/gitlab#32914"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25379272,"iid":32899,"project_id":278964,"title":"Handle race condition for container registry sync","description":"# Problem to solve\n\nWhen the container repository is updated during its sync on secondary, the event will simply be lost.\n\nJust fix it the same way as it's done for designs https://gitlab.com/gitlab-org/gitlab/merge_requests/17814","state":"closed","created_at":"2019-09-27T12:14:50.355Z","updated_at":"2019-12-16T14:46:57.327Z","closed_at":"2019-10-08T17:30:14.053Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Category:Geo Replication","devops::systems","group::geo","priority::3","severity::3","type::bug","workflow::in review"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32899","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32899","notes":"https://gitlab.com/api/v4/projects/278964/issues/32899/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32899/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32899","relative":"#32899","full":"gitlab-org/gitlab#32899"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25378633,"iid":32898,"project_id":278964,"title":"Remove coupling of allDiscussions in the issues discussion tab counter","description":"The following discussion from !16567 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/merge_requests/16567#note_218524996):  (+4 comments)\n\n    \u003e **suggestion:** Should be watching on `discussionTabCounter` now? :thinking:\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e     discussionTabCounter() {\n    \u003e ```\n\n\nBasically there are limitations that prevent us to watch the right getter and cover all scenarios including filling the number at page load. \n\nIt was deemed mergeable but we could improve this further at a later date. \n\nThis crosses the domain of ~devops::plan and ~\"devops::create\", but since this came out of Design Management addition, we'll keep it bound to ~\"devops::create\" and ~\"group::knowledge\".","state":"closed","created_at":"2019-09-27T11:56:49.940Z","updated_at":"2020-12-10T18:59:48.992Z","closed_at":"2019-12-21T00:12:23.924Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Category:Design Management","backstage [DEPRECATED]","devops::plan","frontend","group::product planning","issues","maintenance::refactor","workflow::canary"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32898","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32898","notes":"https://gitlab.com/api/v4/projects/278964/issues/32898/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32898/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32898","relative":"#32898","full":"gitlab-org/gitlab#32898"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25374917,"iid":32894,"project_id":278964,"title":"Sensitive information in Description History","description":"## Problem\n\nWith the addition of storing the description history in #10103, a couple of concerns have been noted regarding sensitive information contained within the version history:\n\n1. Without the ability to delete previous versions of the description history, this sensitive information is unable to be removed.\n\n1. Viewing the history is not available to all tiers. If the history is stored for all tiers, and a user upgrades to a tier where viewing the history is available, any sensitive information that was removed is now visible in the history on all current and older issues.\n\n## Solution\nWe are planning to offer a soft delete for now for items with potentially sensitive information by providing a delete function for admins when in Edit mode. This will remove the item from the history only, not permanently delete.\n![image](/uploads/1981d9b4e27ea2802784e0c29fac7157/image.png)\n\n### Feature flag\n\n`save_description_versions`\n\n\u003cdetails\u003e\n## Possible Solutions \n\nSensitive information should not be something that is handled by GitLab - it should be governed by the company policy of the user.\n\nWith regards to evidence collection, it's important that **all** data is stored - what was changed, by whom and when. If editing history were to be allowed, even only to users with elevated permissions, that action would still need to be logged for evidence collection reasons.\n\nThe other option would be to set specific permissions to view the audit log. That way all data would be retained, but access could be restricted.\n\n## MVC\n\nAs discussed in the comments, the MVC for this issue is to allow a `soft deletion` of history items which contain sensitive information.\n\nA follow-on issue has been created https://gitlab.com/gitlab-org/gitlab/issues/38265 which will allow viewing of the full audit trail.\n\n\u003c/details\u003e","state":"closed","created_at":"2019-09-27T10:21:19.642Z","updated_at":"2020-10-16T19:50:45.840Z","closed_at":"2020-03-13T15:32:39.536Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Requirements Management","Enterprise Edition","GitLab Starter","UX","backend","devops::plan","frontend","group::product planning","type::feature","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":65,"merge_requests_count":3,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32894","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32894","notes":"https://gitlab.com/api/v4/projects/278964/issues/32894/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32894/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32894","relative":"#32894","full":"gitlab-org/gitlab#32894"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25373930,"iid":32891,"project_id":278964,"title":"Move scatterplot on productivity analytics to second on the dashboard","description":"Given the scatterplot has all the metrics, it would be best to have it as a top/ second chart on the page. The immediate question that an engineering director wants to answer is `are we getting better over time`.","state":"closed","created_at":"2019-09-27T09:45:25.124Z","updated_at":"2019-10-03T08:13:02.220Z","closed_at":"2019-10-03T08:13:02.162Z","closed_by":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"labels":["devops::manage","estimation::completed","frontend","group::optimize","workflow::in dev"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":3511154,"username":"valexieva","name":"Virjinia Alexieva","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/bc036fa2e7b6fa926a175324a948169f?s=80\u0026d=identicon","web_url":"https://gitlab.com/valexieva"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32891","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32891","notes":"https://gitlab.com/api/v4/projects/278964/issues/32891/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32891/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32891","relative":"#32891","full":"gitlab-org/gitlab#32891"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25370234,"iid":32888,"project_id":278964,"title":"Productivity Analytics \"days_to_merge\" filtering option doesn't reset","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nDays to merge filter for Productivity analytics is preserved when user changes top level filters and it causes unexpected behavior (user cant use filtering and sees no data)\n\n### Steps to reproduce\n\n1. go to https://gitlab.com/-/analytics/productivity_analytics\n2. Select `gitlab.org` group, `gitlab-foss` project, 90 days timeframe and `group::apm` label\n3. Select 0,1,2,3 days to merge filters\n4. Select 30 days timeframe\n5. You'll see something like ![Screenshot_2019-09-27_11.25.14](/uploads/887af0f7e1dec910f3f5663ec38c40d4/Screenshot_2019-09-27_11.25.14.png). Note that there is no \"1\" day bar.\n6. Deselect all the bars in \"days to merge\" filter\n\n### What is the current *bug* behavior?\n\nActual results: user sees \"no data\" notice, \"1\" day bar is applied to API query\n\n### What is the expected *correct* behavior?\n\nExpected results: \"1\" day filter should not be applied.\n\n### Possible fixes\n\nPossible options:\n\nReset \"days to merge\" filter when top filters row changes\nOR\nReset deselect those values of \"days to merge\" filter which are not present in new set of data after top filters row changes.","state":"closed","created_at":"2019-09-27T08:30:14.993Z","updated_at":"2019-09-30T19:42:16.863Z","closed_at":"2019-09-30T19:42:16.818Z","closed_by":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"labels":["devops::manage","estimation::completed","frontend","group::optimize","type::bug","workflow::in review"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},{"id":3511154,"username":"valexieva","name":"Virjinia Alexieva","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/bc036fa2e7b6fa926a175324a948169f?s=80\u0026d=identicon","web_url":"https://gitlab.com/valexieva"},{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32888","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32888","notes":"https://gitlab.com/api/v4/projects/278964/issues/32888/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32888/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32888","relative":"#32888","full":"gitlab-org/gitlab#32888"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25365356,"iid":32882,"project_id":278964,"title":"Special GitLab references not rendered in releases","description":"## Problem to Solve \nCurrently, the `special GitLab references` do not behave the same across Release Notes for a Release created by a Tag and the Release Page. \n\n#### Example \nIf you use special gitlab references into release notes of a tag (ie: reference to an issue), this reference provide a link in tags page: perfect. \n\nWhen you look at the release page (Project -\u003e Releases) =\u003e the link does not exists. \n\n`#\u003cissue_number\u003e`, would be rendered as `\u003ccurrent_repo/issues/\u003cissue_number\u003e`\n\n## Proposal \nMatch the linking functionality and behavior across the Release Page and Release Notes.\n\nWe need to explicitly provide the current user to the `markdown_field` helper in `lib/api/entities.rb`\n\n```diff\n       expose :description\n       expose :description_html do |entity|\n-        MarkupHelper.markdown_field(entity, :description)\n+        MarkupHelper.markdown_field(entity, :description, current_user: options[:current_user])\n       end\n       expose :created_at\n```","state":"closed","created_at":"2019-09-27T04:33:13.124Z","updated_at":"2020-10-23T18:01:15.422Z","closed_at":"2020-04-21T16:14:30.713Z","closed_by":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"labels":["Category:Release Orchestration","Release::P2","UX","cicd::active","devops::release","feature::enhancement","type::feature","workflow::verification"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"}],"author":{"id":4153456,"username":"vshama","name":"Vincent Cagnard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/221cbdc249773055cf2159c281a9a907?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshama"},"type":"ISSUE","assignee":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"user_notes_count":22,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32882","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32882","notes":"https://gitlab.com/api/v4/projects/278964/issues/32882/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32882/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32882","relative":"#32882","full":"gitlab-org/gitlab#32882"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25360543,"iid":32866,"project_id":278964,"title":"Add login command to container registry empty state message","description":"### Problem to solve\n\n@lbot in Slack suggested:\n\n\u003e Add a step to [the container registry empty state content]: `docker login \u003cgitlab instance registry url\u003e`.\n\u003e Last night I wanted to add an image to my repo registry. I saw the [container registry empty state content]. It said run those two things. I ran the first, and got a 403. Then I realized, I wasn't logged in. If it said \"log in to this registry if you haven't already\" \u003ccommand\u003e I suspect others wouldn't be met with that micro friction of an easily avoidable error\n\nThis makes total sense to me and I feel this would be a good addition to the empty state component, giving a new user all the necessary steps to push their first image in one place (and a link to further documentation for more reading). \n\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Proposal\n\nAdd the `docker login [url]` command to the empty state content.\n\n### What does success look like, and how can we measure that?\n\nThe empty state component provides all the commands for a first time user to push an image.","state":"closed","created_at":"2019-09-26T21:20:09.120Z","updated_at":"2019-11-22T16:31:00.601Z","closed_at":"2019-10-16T10:11:08.467Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Category:Container Registry","Community contribution","Deliverable","UI text","UX","[deprecated] Accepting merge requests","devops::package","frontend","group::package registry","missed-deliverable","missed:12.4","type::feature"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[],"author":{"id":4087042,"username":"nkipling","name":"Nick Kipling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4087042/avatar.png","web_url":"https://gitlab.com/nkipling"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32866","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32866","notes":"https://gitlab.com/api/v4/projects/278964/issues/32866/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32866/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32866","relative":"#32866","full":"gitlab-org/gitlab#32866"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25356996,"iid":32859,"project_id":278964,"title":"Load merge request diffs incrementally from Gitaly","description":"## Problem to solve\n\nThat's a follow-up for https://gitlab.com/gitlab-org/gitlab/issues/31290 and solve similar problems. There are scenarios where we don't fetch MR diffs from the database (which are simpler manipulate and paginate), and in these scenarios we'd need to fallback to Gitaly in order to batch the diffs requests.\n\n## Proposals\n\nThe problem is that paginating in Gitaly would either mean:\n\n1. Requesting _all_ diffs at once, then batching on gitlab-rails (not ideal since we're not being efficient here). No Gitaly changes would be needed. Although this request seems fast, it concerns me on how much pressure we'd be adding here (as we'll request quite a lot).\n2. Come up with a batch strategy for the `CommitDiff` RPC. We'd probably need to send a `limit` and `offset` there.\n\nFrom my investigations, these are the scenarios at the MR where we fallback to the repository:\n\n* Going to **Commits \u003e Click in a commit**\n* Deselecting the **Config cog \u003e Show whitespace changes**\n* Selecting different versions at **Changes between** selects\n\n---\n\nSolving this also means we could probably easily batch the diffs request for the Comparison / Commit view.","state":"closed","created_at":"2019-09-26T19:44:37.749Z","updated_at":"2021-06-24T19:37:04.530Z","closed_at":"2021-06-16T02:04:23.724Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Category:Code Review Workflow","Deliverable","OKR FY22 Q2::Large MR","backend","bug::performance","devops::create","group::code review","merge requests","repository","section::dev","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":61,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32859","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32859","notes":"https://gitlab.com/api/v4/projects/278964/issues/32859/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32859/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32859","relative":"#32859","full":"gitlab-org/gitlab#32859"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1417,"epic":{"id":8041,"iid":1417,"title":"🐳 Support for large merge requests","url":"/groups/gitlab-org/-/epics/1417","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":25350076,"iid":32839,"project_id":278964,"title":"Relative position not calculated correctly for some edge cases","description":"This problem is happening for `move_after` method.\n\nLet's assume the following issues:\n- issue1 - relative_position 1000\n- issue2 - relative_position 1001\n- issue3 - relative_position 1002\n- issue4 - relative_position 1003\n\nWith call `issue1.move_after(issue2)` we want to have issues in order issue2 - issue1 - issue3 - issue4\n\nWe, however, end up with sth like\n\n- issue1 - relative_position 1001\n- issue2 - relative_position 1001\n- issue3 - relative_position 1250\n- issue4 - relative_position 1500","state":"closed","created_at":"2019-09-26T15:51:19.454Z","updated_at":"2021-11-08T16:56:03.203Z","closed_at":"2019-10-23T19:30:11.919Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Portfolio Management","Category:Team Planning","backend","boards","devops::plan","epics","group::product planning","priority::4","severity::3","type::bug","workflow::verification"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32839","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32839","notes":"https://gitlab.com/api/v4/projects/278964/issues/32839/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32839/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32839","relative":"#32839","full":"gitlab-org/gitlab#32839"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25345884,"iid":32829,"project_id":278964,"title":"Apply /label slash command when editing MRs","description":"### Summary\n\nWe have a security MR template that includes the line:\n\n```\n/label ~security\n```\n\nHowever, if you create the security MR (perhaps using `-omr.create -omr.target=12-2-stable-ee`, as I do), then edit it to apply the template, the slash command doesn't get executed and the MR doesn't get the ~security label. Less than awesome.\n\n### Steps to reproduce\n\n* Create MR without template\n* Edit MR\n* Choose a template with a `/label ~foo` slash command\n* Save the MR\n\n### What is the current *bug* behavior?\n\nLabel is not applied\n\n### What is the expected *correct* behavior?\n\nLabel should be applied\n\n\n### Output of checks\n\nThis bug happens on dev.GitLab.org\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-09-26T13:50:20.626Z","updated_at":"2020-10-12T03:35:09.411Z","closed_at":"2020-10-12T03:07:24.883Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"🤖 GitLab Bot 🤖","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Accepting merge requests","auto closed","devops::create","group::source code","priority::3","section::dev","severity::3","slash commands","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32829","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32829","notes":"https://gitlab.com/api/v4/projects/278964/issues/32829/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32829/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32829","relative":"#32829","full":"gitlab-org/gitlab#32829"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25342501,"iid":32827,"project_id":278964,"title":"Create a dedicated page for viewing and linking each Release","description":"## Problem to solve\n\nWe want to work on multiple UI additions related to Evidence collection for Releases https://gitlab.com/groups/gitlab-org/-/epics/1856 and Make Releases page viable https://gitlab.com/groups/gitlab-org/-/epics/764 in 2019. Additionally, we have a couple of issues requesting persistent links to releases, whic\n\nAt some point, it will be possible to show audit events in a Release entry, have an audit filterable page, who created a release, who edited, who added artifacts, who moved out of draft and other change events. The current interface of the Releases page is very limited and will not support all the information the user will want to see and manage, while working with and planning Releases. We also want to be able to support the linking of release in \nhttps://gitlab.com/gitlab-org/gitlab/issues/16821 as well as https://gitlab.com/gitlab-org/gitlab/issues/27300. \n\nWe should create individual pages (entries) per release, where all the information related to a specific release can be stored, managed, and filtered to enable the direct linking of a release. \n\n\n## Intended users\n\nAnyone responsible for managing a Release, for example:\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n## Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n* **Primary - Use Case 1**: A user may need to evaluate all of the activities, changes, and artifacts a part of a release on the release page. This would be most consumable per release entry \n\n* **Future - Use Case 2**: A user may need to manage all of the artifacts, assets, filters, and audit downloads of a release. To make this management as easy as possible, this would mean the Page per Entry should be designed/built so that in a future iteration, a user can manage the information\n\n## Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n* Make sure we have a dedicated page per Release entry.\n* Keep the current overview releases page, but allow user to click the item and access the Release dedicated entry.\n* Update all links that currently point to a specific item on the Releases page (i.e. `.../-/releases#v1.2`) and instead link directly to the Release's dedicated page.\n    * Consider removing the ability to target specific releases on the **Releases** page altogether (essentially revert https://gitlab.com/gitlab-org/gitlab/merge_requests/17150).\n\n### Acceptance criteria\n\n* In the Releases page, when releases are created, user sees an overview of all Releases items created. No changes on the interface, designs should match https://gitlab.com/gitlab-org/gitlab/issues/26016#prototype\n* User should be able to click on the Release title. Clicking the title should take the user to the Release's dedicated page.\n* A breadcrumb should be present on the page to indicate the path in the navigation. The breadcrumb should reflect the name of the Release being displayed.\n* The dedicated Release page displays the same data as the overview.\n* When creating/editing/canceling the changes in a Release item, users should be taken back to where they came from: Releases overview, with their release item highlighted OR Dedicated page.\n* User should be able to perform all actions based on its access privileges.\n\n## Designs\n\n[💻 **CLICK TO SEE DESIGNS TAB**](https://gitlab.com/gitlab-org/gitlab/issues/32827/designs)\n\n## Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n*  All Release View Pages should inherit the project permissions \n*  The release pages should show all related attributes of a release on the View Page \n\n## Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n* [Create a Release Docs](https://docs.gitlab.com/ee/api/releases/#create-a-release)\n* [Edit a Release Docs](https://docs.gitlab.com/ee/api/releases/#update-a-release)\n\n## Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n* We would want to make sure the right permissions on Milestones, Projects, and Releases are inherited so that users who can see/view all the related pieces are able to see/access the View Page\n* All the behaviors of these view pages should match the release pages - links behaving the same and markdown operations should also match \n\n## What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n* With this feature, we should see an increase in the MAUs for the release page\n* We should also see an increase in Users creating links between any added release attributes, such as milestones, assets, and runbooks \n* We could see an increase in downloading audit logs from this page  \n\n## What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n## Out of scope\n\n* Validation https://gitlab.com/gitlab-org/gitlab/issues/38214\n* Add filtering by each parameter, filtering on action, filtering on item \n* Add Author/Action/Target/Timestamp\n* Add action description  `=created/updated/deleted`\n* Add item `feature flag/release/issue`\n* Community Edition/Core  \n\n## Links / references\n* Related to release actions in audit log - #32807 \n* Related to Edit Function in UI - #26016","state":"closed","created_at":"2019-09-26T12:36:53.733Z","updated_at":"2022-08-10T16:43:35.178Z","closed_at":"2020-03-18T18:52:24.733Z","closed_by":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"labels":["Category:Release Orchestration","Release::P1","UX","backend","cicd::active","devops::release","frontend","group::release","workflow::verification"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"}],"author":{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},"type":"ISSUE","assignee":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"user_notes_count":45,"merge_requests_count":2,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32827","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32827","notes":"https://gitlab.com/api/v4/projects/278964/issues/32827/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32827/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32827","relative":"#32827","full":"gitlab-org/gitlab#32827"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":764,"epic":{"id":3434,"iid":764,"title":"RO: Make Releases Page Viable","url":"/groups/gitlab-org/-/epics/764","group_id":9970,"human_readable_end_date":"Apr 30, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25342017,"iid":32823,"project_id":278964,"title":"Enable pipeline creation limits","description":"In https://gitlab.com/gitlab-org/gitlab-foss/issues/51401 we added support for `job_activity_limit` as a limitation for the pipeline creation. The `job_activity_limit` will drop a pipeline if the number of jobs in alive pipelines exceeds the specified limit.\n\nSimilar limits we have support for are `pipeline_size_limit` and `pipeline_activity_limit`.\n\n## Problem\n\nAlthough the basic implementation for these limits is in place we haven't enabled them yet. In order to do that we would need to run the following in a production Rails console, given that they can only be set at DB level:\n\n```ruby\n# iterate that for each plan\nPlan::ALL_HOSTED_PLANS.each do |plan_name|\n  Plan.find_by_name(plan_name).update!(active_jobs_limit: 1000)\nend\n```\n\nOr set specific (e.g. progressive) limits per plan.\n\nHowever, there are a couple of issues to be addressed in order to enable these limits on production:\n* it's currently not possible to set limits to `free` plan because it does not exist as a record in the DB and in the code a `nil` plan is considered `free`.\n* we have not tracking/logging on when a limit is hit and drops a pipeline. Only `SELECT COUNT(*) FROM ci_pipelines WHERE failure_reason = 22;`\n\n## Proposal\n\n* [x] Add logging when a pipeline is dropped because of an exceeded limit (use Prometheus metrics if possible) https://gitlab.com/gitlab-org/gitlab/merge_requests/19155\n* [x] Force `free` plan to be a record in the DB and default to it when `namespace.actual_plan` is `nil` https://gitlab.com/gitlab-org/gitlab/merge_requests/19033\n* [x] Seed a `Plan.create!(name: 'free', title: 'Free')` record on production https://gitlab.com/gitlab-org/gitlab/merge_requests/19033\n* [x] Extract limits out of `namespaces` table and into a dedicated `plan_limits` table https://gitlab.com/gitlab-org/gitlab/merge_requests/19438\n* [x] Enable `active_jobs_limit: 500`, especially those in the lower plans: E.g. `free`, `bronze`, `silver` https://gitlab.com/gitlab-com/gl-infra/production/issues/1106","state":"closed","created_at":"2019-09-26T11:45:16.660Z","updated_at":"2021-10-27T10:43:21.679Z","closed_at":"2019-12-12T11:33:20.914Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","GitLab.com Priority","backstage [DEPRECATED]","bug::performance","devops::verify","gitlab.com","group::pipeline execution","infradev","priority::1","security","severity::1","workflow::production"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":22,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32823","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32823","notes":"https://gitlab.com/api/v4/projects/278964/issues/32823/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32823/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32823","relative":"#32823","full":"gitlab-org/gitlab#32823"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1737,"epic":{"id":10687,"iid":1737,"title":"Make GitLab more robust through application limits","url":"/groups/gitlab-org/-/epics/1737","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":25342018,"iid":32824,"project_id":278964,"title":"Make PlanLimits available for all installations","description":"In https://gitlab.com/gitlab-org/gitlab/merge_requests/19033 we defined a `Plan.default` which could be used by self-hosted installation to define limits on EE installations. This will enable admins to set limits via the DB/rails console as this is an MVC. \n\nIn this issue we need to move the usage of `PlanLimits` to CE.\n\nThis would involve:\n\n* move a minimal version of `Plan` to CE\n* move `PlanLimits` entirely to CE\n* move current limit enforcements to CE (pipeline size, pipeline activity, job activity)\n\n### Also ensure that:\n\n* fixtures are created correctly for development and production environment (implement what was attempted here https://gitlab.com/gitlab-org/gitlab/merge_requests/20303)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-09-26T11:24:32.460Z","updated_at":"2022-05-31T12:53:29.989Z","closed_at":"2020-04-27T11:31:27.870Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["Category:Continuous Integration","Deliverable","blocker","devops::data_stores","direction","group::application performance","pipeline","quad-planning::complete-no-action","security","type::feature"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"user_notes_count":44,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32824","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32824","notes":"https://gitlab.com/api/v4/projects/278964/issues/32824/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32824/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32824","relative":"#32824","full":"gitlab-org/gitlab#32824"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25334951,"iid":32816,"project_id":278964,"title":"[BE] Add documentation for code analytics endpoint","description":"Discovery issue: https://gitlab.com/gitlab-org/gitlab/issues/12683","state":"closed","created_at":"2019-09-26T09:26:44.784Z","updated_at":"2019-10-23T11:46:45.607Z","closed_at":"2019-10-23T11:46:45.561Z","closed_by":{"id":3511154,"username":"valexieva","name":"Virjinia Alexieva","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/bc036fa2e7b6fa926a175324a948169f?s=80\u0026d=identicon","web_url":"https://gitlab.com/valexieva"},"labels":["Category:Code Analytics","Enterprise Edition","GitLab Premium","analytics","backend","devops::manage","documentation","group::optimize","missed:12.4","type::feature","workflow::ready for development"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4158075,"username":"aakriti.gupta","name":"Aakriti Gupta","state":"active","avatar_url":"https://secure.gravatar.com/avatar/992a080bc7d9f8c22ff7186db1c76dbd?s=80\u0026d=identicon","web_url":"https://gitlab.com/aakriti.gupta"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32816","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32816","notes":"https://gitlab.com/api/v4/projects/278964/issues/32816/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32816/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32816","relative":"#32816","full":"gitlab-org/gitlab#32816"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25334371,"iid":32814,"project_id":278964,"title":"multiple cache in a same job","description":"### UPDATE\nThe MR for this issue has been merged under a feature flag: `multiple_cache_per_job`. You can follow the status of the rollout here: https://gitlab.com/gitlab-org/gitlab/-/issues/321877\n\n### Release notes\n\nGitLab CI/CD provides a caching mechanism that can be used to save time when your jobs are running, previously it was impossible to configure multiple cache keys in the same job, this limitation caused users to abuse artifacts to be used as cache or duplicate the same job with different cache path, in this release we provide the ability to configure multiple cache keys in a single job which will help you increase your pipeline performance.  \n\n\n### Problem to solve\n\nCurrently in CI pipelines we can use multiple cache using different keys. But we cannot use multiple cache on the same jobs.\n\nIn node.js projects we have two kinds of dependencies. The dev dependencies and prod dependencies. We need first to download (and cache) all dependencies. Later (before making a docker image) we need to remove dev dependencies.\n\nSome additional reasons:\n\n1. when multiple, parallel build stages use separate output directories that need to be cached, but the generated artifacts are all desired (or required) to go through a common test phase.\n1. the use case in the bullet above would be more common in monorepos which are increasing in popularity.\n1. when this is not implemented, GitLab artifacts end up being abused for this purpose since they will automatically aggregate all outputs of all jobs that do not have overlapping file or directory names for subsequent jobs.\n1. when this is not implemented, specific job phases may need to be duplicated (e.g. test jobs) just because of the \"single cache path per job\" - which increases complexity and resource utilization.\n\n**Currently:**\n\nstages:\n```yaml\nstages:\n  - setup\n  - build\n  - test\n  - pre_package\n  - package\n  - release\n\ndev_dependencies:\n  stage: setup\n  cache:\n    key: DEV-DEPENDENCIES-$CI_COMMIT_REF_SLUG\n    paths:\n      - node_modules/\n    policy: pull-push\n  script:\n    # will download all dependencies\n    - npm ci\n\nprod_dependencies:\n  stage: pre_package\n  only:\n    - master\n  cache:\n    key: PROD-DEPENDENCIES-$CI_COMMIT_REF_SLUG\n    paths:\n      - node_modules/\n    policy: pull-push\n  script:\n    # will download prod dependencies\n    - npm ci --only=production\n```\n\n### Intended users\n\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Further details\n\nWithout this feature we need to download twice the dependencies rather to it once and benefit of cleaning feature of `npm ci --only=production`.\n\n### Proposal\n\n```\nprod_dependencies:\n  stage: pre_package\n  only:\n    - master\n  cache:\n    - key: DEV-DEPENDENCIES-$CI_COMMIT_REF_SLUG\n      paths:\n        - node_modules/\n      policy: pull\n    - key: PROD-DEPENDENCIES-$CI_COMMIT_REF_SLUG\n      paths:\n        - node_modules/\n      policy: push\n  script:\n    # will remove dev dependencies\n    - npm ci --only=production\n```\n\nIt would be cost saving to be able to use 2 cache rules in the same job.\n\n### Permissions and Security\n\nnon applicable\n\n### Documentation\n\n?\n\n### Testing\n\nIf using two cache on same directory with same policy, what cache rule will be used first ?\n\n### What does success look like, and how can we measure that?\n\nfeature exists and works like expected\n\n### What is the type of buyer? \n\ni don't know\n\n### Links / references\n\n- CircleCI approach: https://circleci.com/docs/2.0/caching/#example-caching-configuration","state":"closed","created_at":"2019-09-26T09:14:52.858Z","updated_at":"2022-10-26T02:43:50.209Z","closed_at":"2021-04-13T14:25:51.398Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["CI persistence","Category:Pipeline Authoring","Deliverable","FY22::Q1","GitLab Core","backend","customer","devops::verify","direction","group::pipeline authoring","missed-deliverable","missed:13.10","pipeline","release post item::in review","section::ops","type::feature","workflow::verification"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":3240834,"username":"anthony.pothin","name":"Anthony Pothin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/58ba71e44d7204f4a67173bea0e205b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/anthony.pothin"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":43,"merge_requests_count":0,"upvotes":108,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32814","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32814","notes":"https://gitlab.com/api/v4/projects/278964/issues/32814/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32814/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32814","relative":"#32814","full":"gitlab-org/gitlab#32814"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1418,"epic":{"id":8045,"iid":1418,"title":"MVC \u0026 Follow-Ups: Persistent, shared work areas between pipeline jobs","url":"/groups/gitlab-org/-/epics/1418","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":25333254,"iid":32812,"project_id":278964,"title":"Create a Release from the web interface","description":"## Problem to solve\n\nIn gitlab#26016 we added the option edit a release via UI, and this issue will expand the API `create` functionality into the UI. This issue will cover Create a Release using the Application UI.\n\n## User story\n\nAs a user, I want to be able to create a release from the Releases page, so I can quickly start managing my releases without having to go to a different page on GitLab.\n\n## Acceptance criteria\n\n- If no releases are created, user sees an empty state message. The CTA (call to action) button on the empty state should be removed, and replaced with an inline link to the documentation.\n- User sees the button `Create release` on the [Releases](https://gitlab.com/gitlab-org/gitlab/-/releases) overview page.\n- Releases can be created, updated, or deleted by project Developers, Maintainers, and Owners. [See](https://gitlab.com/help/user/permissions#releases-permissions)\n- If a user doesn't have permission to create a release, the button should not be displayed.\n- Clicking the `Create release` button should take the user to the `Create tag` page.\n- In the **Release notes** section of the `Create tag` page, a helper message should be added on top of the text field:\n  - *Optionally, create a public release of your project based on a Git tag. By adding release notes to the tag, the information will be stored in the GitLab database and displayed on the Releases page. [More information]()*\n  - The link should point to the documentation page: https://gitlab.com/help/user/project/releases/index#release-description\n- If the user fills in the **Release notes** section, and clicks the **Create tag** button, the system should create a new release item. The user will be taken to the detail view of the newly created release tag. (user flow stays as is)\n\n### Out of scope\n\n- Any changes relates to the form fields in the New Tag page.\n- Redirecting the user to the `Releases page` after creating a release tag.\n- Any other improvements (CSS) to the interface.\n\n## Proposal (UX)\n\n* [**SEE PROTOTYPES BY CLICKING THE `DESIGNS` TAB**](https://gitlab.com/gitlab-org/gitlab/issues/32812/designs/release-empty-state.png)\n\n## Intended users\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* Anyone doing Release manager activities, for example:\n  * [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n  * [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n  * [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n  * [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n## Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\nReleases can be created, updated, or deleted by project Developers, Maintainers, and Owners. Guest users cannot create Releases and should not see the **Create release** button. [Read more](https://gitlab.com/help/user/permissions#releases-permissions)\n\n## Documentation\n\nYes, we will need documentation.\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n## Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\nTo be determined during the implementation planning.\n\n## What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\nUsers will be able to create a Release item from the Release page, via application UI.\n\n## What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references\n\n\n\u003cdetails\u003e\n\u003csummary\u003eView previous issue description\u003c/summary\u003e\n\nUsers should be able to: \n* [ ]  Create a Release in the Release Page\n* [ ]  Assign the newly created release it to an existing tag\n* [ ]  Allow manual specifications of milestones \n* [ ]  Support entry in creation of all [attributes from Releases in API]( https://gitlab.com/gitlab-org/gitlab/blob/master/doc%2Fapi%2Freleases%2Findex.md#create-a-release) and support the edit functionality  delivered in gitlab#26016: \n\n| Attribute          | Type            | Required                    | Description                                                                                                                      |\n| -------------------| --------------- | --------                    | -------------------------------------------------------------------------------------------------------------------------------- |\n| `id`               | integer/string  | yes                         | The ID or [URL-encoded path of the project](../README.md#namespaced-path-encoding).                                              |\n| `name`             | string          | no                          | The release name.                                                                                                                |\n| `tag_name`         | string          | yes                         | The tag where the release will be created from.                                                                                  |\n| `description`      | string          | yes                         | The description of the release. You can use [markdown](../../user/markdown.md).                                                  |\n| `ref`              | string          | yes, if `tag_name` doesn't exist | If `tag_name` doesn't exist, the release will be created from `ref`. It can be a commit SHA, another tag name, or a branch name. |\n| `milestones`       | array of string | no                          | The title of each milestone the release is associated with.                                                                      |\n| `assets:links`     | array of hash   | no                          | An array of assets links.                                                                                                        |\n| `assets:links:name`| string          | required by: `assets:links` | The name of the link.                                                                                                            |\n| `assets:links:url` | string          | required by: `assets:links` | The url of the link.                                                                                                             |\n| `released_at`      | datetime        | no                          | The date when the release will be/was ready. Defaults to the current time. Expected in ISO 8601 format (`2019-03-15T08:00:00Z`). |\n    \n## Further details\n\n#### The Create Release Form should include: \n\n[Supporting all attributes from the API](https://gitlab.com/gitlab-org/gitlab/blob/master/doc%2Fapi%2Freleases%2Findex.md#create-a-release)\n\n#### Assign newly created Release to Existing Tag \n* In the create a release using the application UI, there needs to be a separation between `Create Release` and `Create Tag` pages\n\n#### Allow manual specification of Milestones \nUsers should be able to specify the Milestone of the Release on the Release page during the `create release` workflow\n\n#### Allow manual specification of release date for Releases in gitlab#26413 \nUsers need to be able to manually set the release date for Releases\n\n\u003c/details\u003e","state":"closed","created_at":"2019-09-26T08:45:41.378Z","updated_at":"2021-12-13T09:13:41.466Z","closed_at":"2020-03-13T11:45:12.263Z","closed_by":{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},"labels":["Category:Release Orchestration","Release::P1","UX","cicd::active","devops::release","direction","frontend","group::release","workflow::in review"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"}],"author":{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"},"type":"ISSUE","assignee":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"user_notes_count":25,"merge_requests_count":1,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32812","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":4,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32812","notes":"https://gitlab.com/api/v4/projects/278964/issues/32812/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32812/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32812","relative":"#32812","full":"gitlab-org/gitlab#32812"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":764,"epic":{"id":3434,"iid":764,"title":"RO: Make Releases Page Viable","url":"/groups/gitlab-org/-/epics/764","group_id":9970,"human_readable_end_date":"Apr 30, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25330230,"iid":32808,"project_id":278964,"title":"Geo: LogCursor `--debug` option does not work","description":"### Summary\n\nhttps://gitlab.com/gitlab-org/build/CNG/merge_requests/220#note_193308763\n\n\u003e It remains, that even with the addition of the `mkdir /var/log/gitlab/gitlab-rails` \u0026 touch of `geo.log` there-in, nothing is logged, even with `--debug`.\n\nThe `--debug` option doesn't work, because it's always overridden by `Rails.logger.level`. This was intentional: https://gitlab.com/gitlab-org/gitlab/issues/4497\n\n### Steps to reproduce\n\n- Run Rails not in development or manually set `Rails.logger.level = ::Logger::INFO`\n- Run `ee/bin/geo_log_cursor --debug`\n\n### What is the current *bug* behavior?\n\nNo debug logs are output anywhere.\n\n### What is the expected *correct* behavior?\n\nIf `--debug` option is set, debug logs should appear, regardless of `Rails.logger.level`.\n\n### Possible fixes\n\n1. We could make `--debug` option work by setting `Rails.logger.level` with it, though that will increase Rails output to `production.log` as well as increasing output to `geo.log`.\n2. We could make `--debug` option work without modifying `Rails.logger.level`. This is more work. Not sure if worth it.\n3. We could remove `--debug` option and tell people how to modify the `Rails.logger.level`: https://gitlab.com/gitlab-org/gitlab/merge_requests/4066#note_55638670\n\n### Proposal\n\nI vote for Option 1 above","state":"closed","created_at":"2019-09-26T07:11:38.138Z","updated_at":"2020-01-16T17:19:43.874Z","closed_at":"2020-01-16T17:19:43.832Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["[deprecated] Accepting merge requests","devops::systems","group::geo","priority::4","regression","regression:10.x","severity::4","type::bug"],"milestone":null,"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32808","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32808","notes":"https://gitlab.com/api/v4/projects/278964/issues/32808/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32808/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32808","relative":"#32808","full":"gitlab-org/gitlab#32808"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25329687,"iid":32807,"project_id":278964,"title":"Capture Release actions in the audit log page","description":"## Problem to solve\n\n\u003c!-- What problem do we solve? --\u003e\nFor Release Governance, one needs to be able to see what events and actions have been rendered against a release. In https://gitlab.com/gitlab-org/gitlab/issues/26016, we added the capability to create and edit releases, add evidence and additional artifacts to the release via API. Audit logs currently only log `downloading the source code`.\nThis issue is to address expanding the audit logs to include events \n* [x]  `create release`\n* [x]  `create release with milestones`\n* [x]  `edit release event`\n* [x]  `download artifacts in release` \n* [x]  `milestone was associated with release`\n\n## Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\nAll users who need this info for ** compliance, auditing and monitoring ** of user actions will benefit from this feature. \n\n## Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nPrimary use case for auditing release events include: \n*  Tracking when and who created a release from GitLab after a deployment has occurred\n*  Surfacing records of evidence attached to releases upon request from an auditing firm in the download \n*  Reviewing content of edits with who made the edits to a release in a retrospective \n\n\n## Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nThese audit actions will be implemented, based on the example Release screenshot.\n\n- `\u003cname of release\u003e` = \"New Release\"\n- `\u003crelease number\u003e` = 'v0.3'\n\n![Screenshot_2019-12-30_at_17.53.00](/uploads/cfb55f27c9d7cdcc1cf47a9f0fc93774/Screenshot_2019-12-30_at_17.53.00.png)\n\nUsing the screenshot above, can we confirm we need these audit events created:\n\n#### Create\n\nWhen a Release is created (via an API call only, at present), Milestone(s) can be optionally associated. There are different messages in the Audit log for Releases created with/without Milestones.\n\n##### Without milestone at create \n\n| Author | Action | Target | At |\n| --- | --- | --- | --- |\n| `\u003ceditor\u003e` | Created Release `\u003crelease number\u003e`\t| `\u003cname of release\u003e` |\t`\u003ctimestamp\u003e` |\n\n##### With milestones at create \n\n| Author | Action | Target | At |\n| --- | --- | --- | --- |\n| `\u003ceditor\u003e` | Created Release `\u003crelease number\u003e` with milestones `\u003cmilestone\u003e`, `\u003cmilestone\u003e`\t| `\u003cname of release\u003e` |\t`\u003ctimestamp\u003e` |\n\n\n#### Update\n\n| Author | Action | Target | At |\n| --- | --- | --- | --- |\n| `\u003ceditor\u003e` | Updated Release `\u003crelease number\u003e`| `\u003cname of release\u003e` |\t`\u003ctimestamp\u003e` |\n\n- triggered by a change of the release name or description via the UI or API\n\n\n#### Release - Milestone association change\n\n| Author | Action | Target | At |\n| --- | --- | --- | --- |\n| `\u003ceditor\u003e` | Milestones associated with release changed to  `\u003cmilestone\u003e` , `\u003cmilestone\u003e` , ... `\u003cmilestone\u003e`\t| `\u003cname of release\u003e` |\t`\u003ctimestamp\u003e` |\n\n- triggered by a milestone being added to or removed from release (via API only)\n- see also gitlab#29020 \n\n#### Download artifacts \n\n| Author | Action | Target | At |\n| --- | --- | --- | --- |\n| Orit Golowinski | Repository Download Started\t| ogolowinski/testing-project |\t2019-10-16 16:26:50 UTC |\n\n- Already supported\n\n#### Future: \n* [Download external artifacts](https://gitlab.com/gitlab-org/gitlab/issues/194225)\n* [Delete a Release] (https://gitlab.com/gitlab-org/gitlab-foss/issues/58549)\n* [Create a Release via UI] (https://gitlab.com/gitlab-org/gitlab/issues/32812)\n* [Add Assets/Artifacts] (https://gitlab.com/gitlab-org/gitlab/issues/36133)\n* [Add package] \n\n## Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n*  Changes to audit logs should follow the normal access/permissions of Audit Logs at GitLab \n*  Downloads of audit logs should follow the normal access/permissions of Audit Logs at GitLab \n*  Guests/non-GitLab users should not be able to download, edit, or change audit logs \n\n## Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n*  [Audit Events Documentation](https://docs.gitlab.com/ee/administration/audit_events.html) - for audit events permissions and implementation \n*  [Log System Documentation](https://docs.gitlab.com/ee/administration/logs.html) - Administrations of Audit Logs \n\n## Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further help: https://about.gitlab.com/handbook/engineering/quality/test-engineering/ --\u003e\n\n*  For the `edit release` item, we would want to make sure we capture what was edited in the release if we do not already - the information captured should be logged and then download capable\n*  This audit log content needs to be `view only` by all users, with `edit log` permissions following the audit log permission structure \n\n## What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n*  The usage of this feature will be related to the downloads of the audit logs, so we should see an increase in audit log downloads for releases when these items are added\n  *  % increase in MAU for release audit logs  \n\n\n## Links / references\n\n*  gitlab#121 - this API might be leveraged for this issue ","state":"closed","created_at":"2019-09-26T06:47:55.598Z","updated_at":"2021-09-27T16:18:41.539Z","closed_at":"2020-01-10T16:43:45.389Z","closed_by":{"id":263716,"username":"grzesiek","name":"Grzegorz Bizon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/263716/avatar.jpeg","web_url":"https://gitlab.com/grzesiek"},"labels":["Category:Audit Events","Category:Release Evidence","Deliverable","GitLab Premium","Release::P1","devops::release","direction","highlight","maturity::minimal","missed-deliverable","missed:12.5","planning priority","type::feature","workflow::in review"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"}],"author":{"id":4156460,"username":"ogolowinski","name":"Orit Golowinski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4156460/avatar.png","web_url":"https://gitlab.com/ogolowinski"},"type":"ISSUE","assignee":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"user_notes_count":81,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32807","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32807","notes":"https://gitlab.com/api/v4/projects/278964/issues/32807/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32807/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32807","relative":"#32807","full":"gitlab-org/gitlab#32807"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":764,"epic":{"id":3434,"iid":764,"title":"RO: Make Releases Page Viable","url":"/groups/gitlab-org/-/epics/764","group_id":9970,"human_readable_end_date":"Apr 30, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25323365,"iid":32801,"project_id":278964,"title":"Pipeline by External PR from GitHub Mirror on 12.3 has no user permissions to use include:","description":"### Summary\n\nAfter Pipelines for External Pull Requests was released in 12.3 https://gitlab.com/gitlab-org/gitlab-ce/issues/65139\n\nWe had pipelines triggered by GitHub PR webhooks from the Mirror webhook.\n\nWhen they are triggered, the *Triggerer* is listed as `API`.\nThe Pipeline fails because we have a `gitlab-ci.yml` `include:` to a private project in that same group and it seems this pipeline has no permissions other than access to the current project thus even `include:` fails.\n\nThe error given from the Pipeline is\n```\nFound errors in your .gitlab-ci.yml:\nProject `adasupport/k8s` not found or access denied!\nYou can also test your .gitlab-ci.yml in CI Lint\n```\n\n### Steps to reproduce\n\n1. Use example `.gitlab-ci.yml` in a GitHub Project\n\n```yaml\nstages:\n  - test\n\non-pull-requests:\n  stage: test\n  script: echo 'this should run on pull requests'\n  only:\n    - external_pull_requests\n\ninclude:\n  - project: \"samegroup/project_you_can_have_access\"\n    ref: master\n    file: some_yaml_on_remote_project.yaml\n```\n\n2. Sync GitHub Project to Gitlab using a Mirror Pull\n\n3. Open a new PR with this branch on GitHub\n\n4. A pipeline should be triggered on the GitLab.com Project with the *Triggerer* of `API` .\n\n![Screenshot_2019-09-26_09.14.31](/uploads/07c36de4815945230d4369f329d58105/Screenshot_2019-09-26_09.14.31.png)\n\n5. Pipeline fails due to YAML error noted in summary above.\n\n![Screenshot_2019-09-26_09.14.52](/uploads/929810161aea86884bb7613dbfaea6b1/Screenshot_2019-09-26_09.14.52.png)\n\n### Example Project\n\nHere is the failure on a test project I made: https://gitlab.com/kzap/gitlab-external-pr-bug/pipelines/84552287\n\nThis is the GitHub Pull Request that I opened and which triggered the Pipeline: https://github.com/kzap/gitlab-external-pr-bug/pull/1\n\n\n### What is the current *bug* behavior?\n\nPipelines do not run on External PR Open/ReOpen webhooks\n\n### What is the expected *correct* behavior?\n\nPipeline has permissions of GitLab User who created Mirror, the same way Pipelines that are triggered by `push` webhooks from GitHub are run.\n\n\n\n\n/cc @fabiopitino","state":"closed","created_at":"2019-09-26T01:58:40.428Z","updated_at":"2019-11-18T07:13:37.906Z","closed_at":"2019-11-06T09:52:12.585Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["Category:Continuous Integration","Deliverable","backend","devops::verify","group::pipeline execution","priority::2","severity::2","type::bug","workflow::production"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":1598228,"username":"kzap","name":"Andre Marcelo-Tanner","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1598228/avatar.png","web_url":"https://gitlab.com/kzap"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32801","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32801","notes":"https://gitlab.com/api/v4/projects/278964/issues/32801/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32801/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32801","relative":"#32801","full":"gitlab-org/gitlab#32801"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25315010,"iid":32778,"project_id":278964,"title":"When waiting for metrics, GitLab doesn't tell us it fails","description":"### Summary\n\nRelated to https://gitlab.com/gitlab-org/gitlab/issues/32777, when attempting to view metrics, we'll sometimes fail to talk to a prometheus server for X reason.  The end user navigating to the metrics board won't realize something is wrong until they open up Dev Tools.  This is a poor user experience.\n\n### Steps to reproduce\n\nConfigure a prometheus integration with a server that does not work.  Then navigate to the metrics dashboard on a project.\n\n### What is the current *bug* behavior?\n\nNothing.\n\n### What is the expected *correct* behavior?\n\nAn error banner with reasons that are actionable to the user to mitigate in the future or helpful information to provide to support.\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/5b6725f1c28c0f19a357b7b3553d8f56/image.png)\n\n### WIP design\n\nThe proposal is to introduce a warning message, letting users know that we've failed to connect to the Prometheus server. In addition, when this scenario occurs, we should update the text in the empty state from \"waiting for performance data\" to something that more accurately describes the error that's happening:\n\n![32778-error-message](/uploads/6f2828c4e818e375208b3bca56d40362/32778-error-message.png)\n\n### Output of checks\n\nGitLab.com","state":"closed","created_at":"2019-09-25T17:39:32.853Z","updated_at":"2020-11-16T12:55:04.745Z","closed_at":"2019-11-26T19:24:44.975Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Metrics","Dogfooding::Use Existing Feature","devops::monitor","frontend","group::respond","priority::2","severity::2","to schedule","type::bug","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"}],"author":{"id":2524675,"username":"skarbek","name":"John Skarbek","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c6455ce4726023aac6dd7fb0acd1f236?s=80\u0026d=identicon","web_url":"https://gitlab.com/skarbek"},"type":"ISSUE","assignee":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"user_notes_count":8,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32778","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32778","notes":"https://gitlab.com/api/v4/projects/278964/issues/32778/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32778/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32778","relative":"#32778","full":"gitlab-org/gitlab#32778"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1859,"epic":{"id":11802,"iid":1859,"title":"Collecting feedback about our metrics dashboard dogfooding efforts","url":"/groups/gitlab-org/-/epics/1859","group_id":9970,"human_readable_end_date":"Jan 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25307172,"iid":32773,"project_id":278964,"title":"Include test results within Release Evidence","description":"### Problem to solve\n\nAllow users to create links between issues and CI Tests. \n\nAssuming that an issue is an all-inclusive resolution of a single problem, this would enable a test to be added to the CI pipeline to ensure the problem was resolved prior to closing the issue.\n\n### Intended users\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nThe ability for a user to link an issue with a CI Test would enable test tracing at a very basic level. There is some thought that this could be an MVC for [Requirements Management](https://about.gitlab.com/direction/plan/requirements_management/).\n\n* Consider the artifacts generated out of the test stage \n* Reports from testing results \n  - Consumable report/record about the code and baseline from where you started and stopped \n  - What does that evidence need to look like?\n* Persisting testing statuses per linked MR in release evidence JSON file \n  - Latest job artifact persists - might make this easier \n* Code climate spec and JUnit Format - investigate if we can persist this information?\n* [Sonar cube jobs](https://www.sonarqube.org/sonarqube-8-0/) - investigate the artifact created and then uploaded to the release as evidence \n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n* Add testing results to MR IDs in release evidence JSON \n\nMVC for this feature is:\n\n* feature is triggered by Evidence collection\n* prevent expiration of artifacts associated with pipeline which creates the Evidence are marked as non-expiration. This could be done via the [Keep Artifacts endpoint](https://docs.gitlab.com/ee/api/jobs.html#keep-artifacts) `POST /projects/:id/jobs/:job_id/artifacts/keep`. This would capture all artifacts associated with the pipeline.\n* identify all the jobs in the pipeline using the [List pipeline jobs](https://docs.gitlab.com/ee/api/jobs.html#keep-artifacts) `GET /projects/:id/pipelines/:pipeline_id/jobs`\n* persist the list of artifacts for those jobs in the Evidence hash, using the [Get Job Artifacts](https://docs.gitlab.com/ee/api/jobs.html#get-job-artifacts) endpoint `GET /projects/:id/pipelines/:pipeline_id/jobs`\n\nThis would, in this iteration, prevent any issue with access control, as links-only are persisted into the Evidence hash.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?--\u003e\n\n* Testing data within release evidence should be maintainer \u0026 auditor role only \n* Testing data is based on job results, consideration on access and investigation into confidential issues and related MRs \n\n### Documentation\n\nDocumentation would need to be updated to describe the process of creating a link between an issue and a CI test. It would also be beneficial to provide users a use case for how this could benefit their testing coverage.\n\n### Testing\n\nTesting needs will need to be determined once discovery is complete and a better understanding of how this capability is implemented.\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n* Users would be adding test results to the Release Evidence - we need to track the additions of artifacts to release evidence \n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\nThe purpose of linking issues and CI testing would be to provide compliance data. Therefore, this feature would most appeal to Executive level buyers.\n\n* Ultimate \n\n### Future considerations \n* Code quality as a gate in both auto deployment and runbooks \n- Web performance\n- Integration \n- Emulate Security practices \n* Test case management - how do we consider those against code coverage and velocity \n\n\n### Links / references\n\n[Recording to discussion](https://youtu.be/p7rmwCDXj68)\n\nAnchor to Documentation: https://docs.gitlab.com/ee/user/project/releases/#release-evidence-test-results","state":"closed","created_at":"2019-09-25T17:05:45.115Z","updated_at":"2021-01-06T20:07:40.253Z","closed_at":"2020-06-19T13:01:56.997Z","closed_by":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"labels":["CEO Interest","Category:Release Evidence","Deliverable","GitLab Ultimate","Release::P1","backend","cicd::active","devops::release","direction","group::release","missed-deliverable","missed:13.0","type::feature","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"}],"author":{"id":4586870,"username":"mjwood","name":"Mark Wood","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4376afce32152d684a9563d594dbb257?s=80\u0026d=identicon","web_url":"https://gitlab.com/mjwood"},"type":"ISSUE","assignee":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"user_notes_count":80,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32773","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32773","notes":"https://gitlab.com/api/v4/projects/278964/issues/32773/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32773/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32773","relative":"#32773","full":"gitlab-org/gitlab#32773"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5135,"epic":{"id":175912,"iid":5135,"title":"Make the Release Evidence category 'Viable'","url":"/groups/gitlab-org/-/epics/5135","group_id":9970,"human_readable_end_date":"Dec 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25305674,"iid":32768,"project_id":278964,"title":"Vulnerability MR comparison logic should prioritize appropriate branch when rendering vulnerability data","description":"### Summary\n\nWhen rendering data within the MR widget we should be prioritizing specific branches depending on the vulnerability type.\n\nTo quote @gonzoyumo \n\n```\n...The comparison logic should take that into account.\n- fixed vulns should point to base tree\n- new vulns should point to source tree\n- existing vulns should point to source tree  (base could work too, but due to some code updates coming with the MR, I think it’s more relevant to point to source tree)\n```\n\n### Steps to reproduce\n\n1. Add vulnerabilities at a specific path\n2. Open an MR changing the path of the vulnerabilities (currently this must be done in a way that doesn't change the primary identifiers, so they are considered \"sibling\" vulnerabilities**)\n\n** It's unclear to me if there's a real world scenario where this could occur yet, but worth considering :thought_balloon: \n\n### Example Project\n\nSee MR widget mis-rendering filepaths (resulting in 404s) https://gitlab.com/gitlab-examples/security/security-reports/merge_requests/2\n\nHowever the pipeline view properly renders the paths as it is using the source branch vulnerabilities, not prioritizing the base branch's https://gitlab.com/gitlab-examples/security/security-reports/pipelines/84427114/security/?project_id=6102100\u0026page=1\u0026days=90\n\n\n### What is the current *bug* behavior?\n\nExisting vulnerabilities are render vuln data from the base pipeline, not source pipeline\n\n### What is the expected *correct* behavior?\n\nExisting vulnerabilities should render vuln data from the source pipeline, not base pipeline\n\n### Relevant logs and/or screenshots\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-09-25T16:18:44.115Z","updated_at":"2019-10-18T12:23:14.981Z","closed_at":"2019-10-15T14:44:43.807Z","closed_by":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"labels":["Deliverable","Enterprise Edition","backend","devops::secure","group::composition analysis","priority::2","security reports","severity::4","type::bug","workflow::production"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"}],"author":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"type":"ISSUE","assignee":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32768","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32768","notes":"https://gitlab.com/api/v4/projects/278964/issues/32768/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32768/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32768","relative":"#32768","full":"gitlab-org/gitlab#32768"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25304391,"iid":32765,"project_id":278964,"title":"Vulnerability-Check approval still required for no new vulnerabilities","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nAs part of a demo for the https://gitlab.com/gitlab-examples/security/security-reports project we recently tried to update the expectations. This MR is a simple change to the JSON file and according to the MR widget \"detected no new vulnerabilities\", however approvals are still required. We need to investigate why they were not decremented to zero\n\n### Steps to reproduce\n\n(How one can reproduce the issue - this is very important)\n\n### Example Project\n\nhttps://gitlab.com/gitlab-examples/security/security-reports/merge_requests/22\n\n### What is the current *bug* behavior?\n\n`Vulnerability-Check` requires approvals with no new vulnerabilities\n\n### What is the expected *correct* behavior?\n\n`Vulnerability-Check` requires no approvals with no new vulnerabilities\n\n### Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n### Output of checks\n\n(If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com)\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n(If you can, link to the line of code that might be responsible for the problem)","state":"closed","created_at":"2019-09-25T15:33:36.140Z","updated_at":"2020-11-13T16:56:59.696Z","closed_at":"2020-02-18T21:02:04.221Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:Dependency Scanning","Category:SAST","Deliverable","Enterprise Edition","GitLab Ultimate","approvals","backend","customer","devops::secure","group::composition analysis","missed-deliverable","missed:12.4","priority::2","security reports","severity::2","type::bug","type::feature","workflow::staging"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"}],"author":{"id":401232,"username":"theoretick","name":"Lucas Charles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/401232/squares-nail-wall-art.jpg","web_url":"https://gitlab.com/theoretick"},"type":"ISSUE","assignee":{"id":971158,"username":"xlgmokha","name":"mo khan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cc8d289bc1a24067f9af4f92452f4fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/xlgmokha"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32765","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32765","notes":"https://gitlab.com/api/v4/projects/278964/issues/32765/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32765/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32765","relative":"#32765","full":"gitlab-org/gitlab#32765"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25285180,"iid":32737,"project_id":278964,"title":"Make MergeService idempotent","description":"This came out of https://gitlab.com/gitlab-org/gitlab/issues/32185#note_220152835. We should:\n\n1. Add tests to ensure `MergeService` is idempotent\n1. `SquashService` should check whether the merge request is merged (e.g. `MergeRequest#merged?`).","state":"closed","created_at":"2019-09-25T06:39:34.201Z","updated_at":"2021-10-27T10:43:22.885Z","closed_at":"2021-04-27T12:39:57.221Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Background Processing","Category:Source Code Management","Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","OKR","backend","bug::performance","devops::create","gitlab.com","group::source code","infradev","missed-deliverable","missed:12.8","missed:12.9","missed:13.1","missed:13.2","missed:13.7","missed:13.8","priority::3","quad-planning::complete-no-action","section::dev","severity::3","workflow::in review"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":44,"merge_requests_count":3,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32737","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32737","notes":"https://gitlab.com/api/v4/projects/278964/issues/32737/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32737/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32737","relative":"#32737","full":"gitlab-org/gitlab#32737"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25279936,"iid":32727,"project_id":278964,"title":"Consider running specs with FOSS_ONLY=1 before merging.","description":"(`IS_GITLAB_EE` was changed to `FOSS_ONLY` in https://gitlab.com/gitlab-org/gitlab/merge_requests/18517)\n\nhttps://gitlab.com/gitlab-org/gitlab/merge_requests/16395 introduced a [failure](https://gitlab.com/gitlab-org/gitlab-foss/-/jobs/303009768) on the `gitlab-foss` project because:\n\n* A background migration on `lib/gitlab/background_migration/` referenced a EE specific model. \n* Spec for the background migration referenced a EE specific factory\n* Pipeline didn't fail because on execution time, both the EE model and the EE factory are available.\n\nIf we manually check the spec with `IS_GITLAB_EE=0` it fails:\n\n```\n  1) Gitlab::BackgroundMigration::UpdateVulnerabilityConfidence updates confidence level for container scanning reports\n     Failure/Error: let(:vul1) { attributes_for(:vulnerabilities_occurrence) }\n\n     ArgumentError:\n       Factory not registered: vulnerabilities_occurrence\n     # /Users/mayra_cabrera/.rvm/gems/ruby-2.6.3/gems/factory_bot-4.8.2/lib/factory_bot/registry.rb:24:in `find'\n     # /Users/mayra_cabrera/.rvm/gems/ruby-2.6.3/gems/factory_bot-4.8.2/lib/factory_bot/decorator.rb:10:in `method_missing'\n     # /Users/mayra_cabrera/.rvm/gems/ruby-2.6.3/gems/factory_bot-4.8.2/lib/factory_bot.rb:100:in `factory_by_name'\n     # /Users/mayra_cabrera/.rvm/gems/ruby-2.6.3/gems/factory_bot-4.8.2/lib/factory_bot/factory_runner.rb:12:in `run'\n     # /Users/mayra_cabrera/.rvm/gems/ruby-2.6.3/gems/factory_bot-4.8.2/lib/factory_bot/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'\n     # ./spec/lib/gitlab/background_migration/update_vulnerability_confidence_spec.rb:10:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/lib/gitlab/background_migration/update_vulnerability_confidence_spec.rb:28:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/database_cleaner.rb:43:in `block (2 levels) in \u003cmain\u003e'\n     # /Users/mayra_cabrera/.rvm/gems/ruby-2.6.3/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:123:in `block in run'\n     # /Users/mayra_cabrera/.rvm/gems/ruby-2.6.3/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `loop'\n     # /Users/mayra_cabrera/.rvm/gems/ruby-2.6.3/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `run'\n     # /Users/mayra_cabrera/.rvm/gems/ruby-2.6.3/gems/rspec-retry-0.6.1/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # /Users/mayra_cabrera/.rvm/gems/ruby-2.6.3/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:37:in `block (2 levels) in setup'\n\nFinished in 4.25 seconds (files took 13.62 seconds to load)\n1 example, 1 failure\n\nFailed examples:\n\nrspec ./spec/lib/gitlab/background_migration/update_vulnerability_confidence_spec.rb:14 # Gitlab::BackgroundMigration::UpdateVulnerabilityConfidence updates confidence level for container scanning reports\n\n```\n\nThe solution to fix the above failure is simple: to move the files under their respective `ee/` directories. But I can imagine this happening again as it basically depends on the reviewer/maintainer to catch these errors. \n\nShould we consider running specs with `IS_GITLAB_EE=0` before merging to avoid this type of errors?\n\nNote: `IS_GITLAB_EE` was introduced on https://gitlab.com/gitlab-org/gitlab/merge_requests/17212\n\n## Action items\n\n* [x] General FOSS tests =\u003e https://gitlab.com/gitlab-org/gitlab/merge_requests/18000\n* [x] FOSS system tests =\u003e https://gitlab.com/gitlab-org/gitlab/merge_requests/18222\n* [ ] FOSS QA =\u003e https://gitlab.com/gitlab-org/gitlab/issues/39251\n* [x] FOSS QA framework =\u003e https://gitlab.com/gitlab-org/gitlab/merge_requests/18375 and https://gitlab.com/gitlab-org/gitlab/merge_requests/18460\n* [ ] Manual action to trigger a FOSS pipeline =\u003e https://gitlab.com/gitlab-org/gitlab/issues/39252\n* [ ] static-analysis-foss =\u003e https://gitlab.com/gitlab-org/gitlab/issues/39256","state":"closed","created_at":"2019-09-24T23:24:02.277Z","updated_at":"2019-12-12T06:01:06.458Z","closed_at":"2019-12-10T15:52:13.547Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Engineering Productivity","Quality","backend","backstage [DEPRECATED]","ci-build","priority::2","test","workflow::in review"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"}],"author":{"id":33100,"username":"mayra-cabrera","name":"Mayra Cabrera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/33100/avatar.png","web_url":"https://gitlab.com/mayra-cabrera"},"type":"ISSUE","assignee":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"user_notes_count":39,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32727","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":3},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32727","notes":"https://gitlab.com/api/v4/projects/278964/issues/32727/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32727/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32727","relative":"#32727","full":"gitlab-org/gitlab#32727"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1853,"epic":{"id":11763,"iid":1853,"title":"EP: GitLab project pipeline improvements","url":"/groups/gitlab-org/-/epics/1853","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":25276166,"iid":32714,"project_id":278964,"title":"Snippets error content and required field clarity","description":"### Summary\nWhen creating a new Snippet for the first time, the empty state verbiage indicates they could be notes or code. However, the code (File) field is required it seems, as without content in it there is an error. The error also doesn't explicitly state what caused the issue (nor displays in a location relative to the problem), leaving the user to have to figure out what hasn't been filled in.\n![Screen_Shot_2019-09-24_at_2.50.49_PM](/uploads/fa48d4f161b70918735c9bd0ac25c995/Screen_Shot_2019-09-24_at_2.50.49_PM.png)\n![Screen_Shot_2019-09-24_at_10.48.29_AM](/uploads/fbc3e78da012e0e9cc56aae4cee204b5/Screen_Shot_2019-09-24_at_10.48.29_AM.png) \n\n\u003cdetails\u003e\n\u003csummary\u003eInitial proposal\u003c/summary\u003e\n1. Per the Pajamas guidelines, all fields are required unless marked as Optional. The error doesn't occur when the File field has content but the Description field does not so it seems Description should be marked as (Optional).\n\n2. Have the error message explicitly state the required field causing the issue: \n**The form contains the following error:**\nThe \"File\" field cannot be blank.\n\n3. The label \"File\" makes me think of an external file. Perhaps changing the verbiage to \"Snipped Content\"?\n\n4. If \"File\" is required, but Description is not, perhaps swap the placement of the two so that the more important (and required) field is listed first. This may also help to reduce confusion that the Description field in Snippets can be used as simply a note taking feature.\n\n![snippets-ux-opportunities](/uploads/0f538c6323bcd272d9e9c764f75ebd29/snippets-ux-opportunities.png)\n\u003c/details\u003e\n\n## UX ready proposal\n\n### Prototype\n\nhttps://sketch.cloud/s/x7MVm/a/GQz2lD/play\n\n### Empty state\n\n![image](/uploads/40b1d8cb149498cb5ace037f360438ab/image.png)\n\n### New snippet form\n\n![image](/uploads/26f8c20b66313838ad91ac08d5940264/image.png)\n\n### New snippet form with description field expanded\n\n![image](/uploads/a4861b890a0b93526a8bcf85deec3d7e/image.png)","state":"closed","created_at":"2019-09-24T20:39:18.300Z","updated_at":"2021-04-03T08:22:56.935Z","closed_at":"2020-02-24T17:43:26.430Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["Category:Snippets","UI text","devops::create","documentation","frontend","group::editor","workflow::verification"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"}],"author":{"id":4554611,"username":"hollyreynolds","name":"Holly Reynolds","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554611/avatar.png","web_url":"https://gitlab.com/hollyreynolds"},"type":"ISSUE","assignee":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"user_notes_count":30,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32714","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32714","notes":"https://gitlab.com/api/v4/projects/278964/issues/32714/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32714/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32714","relative":"#32714","full":"gitlab-org/gitlab#32714"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":239,"epic":{"id":470,"iid":239,"title":"Version control for snippets","url":"/groups/gitlab-org/-/epics/239","group_id":9970,"human_readable_end_date":"Jun 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25268587,"iid":32695,"project_id":278964,"title":"Issue description markdown ui polish","description":"## Summary\n\nWhen this issue was addressed(https://gitlab.com/gitlab-org/gitlab-foss/issues/34338) we improved the polish of content in details dropdown but as a result impaired the task list item functionality which is being fixed in this MR(https://gitlab.com/gitlab-org/gitlab/merge_requests/17557). As a result i think this follow up issue needed to be created to address the ui polish of the details dropdown in an issue description while not effecting the functionality of the task list items etc.\n\n## Improvements\n\nCurrently not sure, we just need to look into the CSS a bit more and figure out a way to accomplish the style request from \nhttps://gitlab.com/gitlab-org/gitlab-foss/issues/34338 while keeping style and functionality of the task list items and other description \u003cdetails\u003e functionality on par with design\n\n## Risks\n\nN/A\n\n## Involved components\n\nPossibly https://gitlab.com/gitlab-org/gitlab/blob/master/app%2Fassets%2Fstylesheets%2Fframework%2Ftypography.scss#L70\n\n## Design\n\nRemove the bottom margin from `\u003csummary\u003e`\n\n| Current (summary has margin) | Design |\n| ------ | ------ |\n| ![Screen_Shot_2019-09-25_at_7.07.44_PM](/uploads/155749d421a58b670ed3f618fe86245d/Screen_Shot_2019-09-25_at_7.07.44_PM.png) | ![Screen_Shot_2019-09-25_at_7.09.24_PM](/uploads/a0cc6e91e244368dd697cda3d03a52df/Screen_Shot_2019-09-25_at_7.09.24_PM.png) |","state":"closed","created_at":"2019-09-24T17:16:03.526Z","updated_at":"2019-10-17T17:34:10.841Z","closed_at":"2019-10-17T17:34:10.796Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Community contribution","backstage [DEPRECATED]","devops::plan","frontend"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":2968135,"username":"shubham07","name":"Shubham Bhadani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2968135/avatar.png","web_url":"https://gitlab.com/shubham07"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":11,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32695","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32695","notes":"https://gitlab.com/api/v4/projects/278964/issues/32695/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32695/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32695","relative":"#32695","full":"gitlab-org/gitlab#32695"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25250459,"iid":32685,"project_id":278964,"title":"Remove epic_trees feature flag","description":"Right now all features related to epic tree are developed under `epic_trees` feature flag. In order to make the feature available by default, the feature flag needs to be removed.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-09-24T15:20:11.195Z","updated_at":"2021-11-08T16:56:15.343Z","closed_at":"2019-11-19T23:05:40.011Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Category:Portfolio Management","Enterprise Edition","backend","backstage [DEPRECATED]","devops::plan","direction","epics","frontend","group::product planning","missed:12.5","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"}],"author":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":14,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32685","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32685","notes":"https://gitlab.com/api/v4/projects/278964/issues/32685/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32685/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32685","relative":"#32685","full":"gitlab-org/gitlab#32685"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2024,"epic":{"id":13463,"iid":2024,"title":"Epic List and Tree view MVC","url":"/groups/gitlab-org/-/epics/2024","group_id":9970,"human_readable_end_date":"Jan 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25244567,"iid":32676,"project_id":278964,"title":"Misalignment of line numbers in code view on Safari","description":"When viewing a file, the left column lists the line numbers.  When viewing in Safari (it seems ok in Chrome / Firefox), there is a slight misalignment with the line numbers when there are lots of lines.  It's not really visible at line 100, but you can see it by line 500:\n\n![Screen_Shot_2019-09-24_at_8.46.40_AM](/uploads/f76b8bed02d25dd9d48b70894b994f99/Screen_Shot_2019-09-24_at_8.46.40_AM.png)\n\nYou can see an example of it here: https://gitlab.com/gitlab-org/gitlab/blob/master/app/policies/project_policy.rb","state":"closed","created_at":"2019-09-24T14:07:23.205Z","updated_at":"2021-04-26T22:02:11.573Z","closed_at":"2020-02-18T23:28:21.141Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["UI polish","customer","devops::create","frontend","group::source code","missed-SLO","missed-deliverable","missed:12.5","missed:12.6","priority::2","severity::2","type::bug","workflow::production"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32676","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32676","notes":"https://gitlab.com/api/v4/projects/278964/issues/32676/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32676/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32676","relative":"#32676","full":"gitlab-org/gitlab#32676"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25225986,"iid":32639,"project_id":278964,"title":"Cleanup usage of note.visible_for?(user) with the move of the logic to note_policy","description":"## Summary\nWe are filtering notes that should not be visible to users in multiple places throughout the code by calling `note.visible_for?(user)`\n\nThis comes out as a follow up suggestion from https://dev.gitlab.org/gitlab/gitlab-ee/merge_requests/1281#note_184265\n\u003c!--\nPlease briefly describe what part of the code base needs to be refactored.\n--\u003e\n\n## Improvements\nMoving this rule to the note_policy would help cleanup the in-place calls to filter notes based on user permissions\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n\n## Risks\nWe should check and make sure this does not generate N+1 queries when checking permission/policy for each note when a batch of notes is retrieved or filtered.\n\u003c!--\nPlease list features that can break because of this refactoring and how you intend to solve that.\n--\u003e\n\n## Involved components\nWe should check models that include `Noteable` concern or use notes in any way.\n\u003c!--\nList files or directories that will be changed by the refactoring.\n--\u003e\n\n## Optional: Intended side effects\n\n\u003c!--\nIf the refactoring involves changes apart from the main improvements (such as a better UI), list them here.\nIt may be a good idea to create separate issues and link them here.\n--\u003e\n\n\n## Optional: Missing test coverage\n\n\u003c!--\nIf you are aware of tests that need to be written or adjusted apart from unit tests for the changed components,\nplease list them here.\n--\u003e","state":"closed","created_at":"2019-09-24T08:18:39.581Z","updated_at":"2020-03-03T10:29:52.919Z","closed_at":"2020-03-03T10:29:52.480Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["backend","backstage [DEPRECATED]","devops::plan","group::project management","missed:12.8","workflow::production"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32639","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32639","notes":"https://gitlab.com/api/v4/projects/278964/issues/32639/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32639/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32639","relative":"#32639","full":"gitlab-org/gitlab#32639"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25225937,"iid":32638,"project_id":278964,"title":"Design notes count is not updated on adding new comments","description":"### Summary\n\nIn Design management, when we oped a design, add a note and close the design, notes counter in designs list will remain the same until page reload\n\n### Steps to reproduce\n\n1. Open the design\n2. Create a new discussion or add a new comment to an existing discussion\n3. Close the design\n4. Observe the notes count didn't change\n\n\n### What is the current *bug* behavior?\n\nNotes count is updated only on page reload\n\n### What is the expected *correct* behavior?\n\nNotes count should be updated immediately after adding a new note to design\n\n\n### Possible fixes\n\nNotes count should be incremented in `update` hook of creating a new note / creating a new discussion mutation","state":"closed","created_at":"2019-09-24T08:17:25.484Z","updated_at":"2020-12-10T18:59:50.656Z","closed_at":"2019-10-22T18:51:44.680Z","closed_by":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"labels":["Category:Design Management","GraphQL","devops::plan","group::product planning","missed:12.4","type::bug","workflow::verification"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"}],"author":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"type":"ISSUE","assignee":{"id":2950912,"username":"ntepluhina","name":"Natalia Tepluhina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2950912/avatar.png","web_url":"https://gitlab.com/ntepluhina"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32638","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32638","notes":"https://gitlab.com/api/v4/projects/278964/issues/32638/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32638/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32638","relative":"#32638","full":"gitlab-org/gitlab#32638"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25224059,"iid":32636,"project_id":278964,"title":"`package-and-qa` can fail when new commits are pushed since it fetches Git repo with a depth of 1","description":"Job [#302154422](https://gitlab.com/gitlab-org/gitlab/-/jobs/302154422) failed for e12a355c0fbeaa6b5695eb925fa29bb2ba3ff82e:\n\n```\nFetching changes with git depth set to 1...\nInitialized empty Git repository in /builds/gitlab-org/gitlab/.git/\nCreated fresh repository.\nFrom https://gitlab.com/gitlab-org/gitlab\n * [new branch]      master     -\u003e origin/master\nChecking out e12a355c as master...\nfatal: reference is not a tree: e12a355c0fbeaa6b5695eb925fa29bb2ba3ff82e\nFetching changes with git depth set to 1...\nReinitialized existing Git repository in /builds/gitlab-org/gitlab/.git/\nChecking out e12a355c as master...\nfatal: reference is not a tree: e12a355c0fbeaa6b5695eb925fa29bb2ba3ff82e\nFetching changes with git depth set to 1...\nReinitialized existing Git repository in /builds/gitlab-org/gitlab/.git/\nChecking out e12a355c as master...\nfatal: reference is not a tree: e12a355c0fbeaa6b5695eb925fa29bb2ba3ff82e\n```\n\nThe simplest fix is to fetch the repo with the default depth of 20.","state":"closed","created_at":"2019-09-24T07:16:52.275Z","updated_at":"2019-09-26T11:17:19.936Z","closed_at":"2019-09-26T11:17:19.405Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Quality","ci-build","type::bug"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32636","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32636","notes":"https://gitlab.com/api/v4/projects/278964/issues/32636/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32636/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32636","relative":"#32636","full":"gitlab-org/gitlab#32636"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25142463,"iid":32620,"project_id":278964,"title":"Flaky master: Designs specs: Gitlab::Git::Index::IndexError: A file with this name already exists","description":"https://gitlab.com/gitlab-org/gitlab/-/jobs/301979717:\n\n```\nFailures:\n\n  1) User views issue designs fetches list of designs\n     Failure/Error: raise Gitlab::Git::Index::IndexError, index_error\n\n     Gitlab::Git::Index::IndexError:\n       A file with this name already exists\n     # ./lib/gitlab/gitaly_client/operation_service.rb:372:in `user_commit_files'\n     # ./lib/gitlab/git/repository.rb:884:in `block in multi_action'\n     # ./lib/gitlab/git/wraps_gitaly_errors.rb:7:in `wrapped_gitaly_errors'\n     # ./lib/gitlab/git/repository.rb:883:in `multi_action'\n     # ./app/models/repository.rb:835:in `block in multi_action'\n     # ./app/models/repository.rb:818:in `with_cache_hooks'\n     # ./app/models/repository.rb:835:in `multi_action'\n     # ./ee/spec/factories/design_management/designs.rb:80:in `block (5 levels) in \u003ctop (required)\u003e'\n     # ./ee/spec/factories/design_management/designs.rb:18:in `block (4 levels) in \u003ctop (required)\u003e'\n     # ./ee/spec/factories/design_management/designs.rb:25:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./ee/spec/factories/design_management/designs.rb:88:in `block (4 levels) in \u003ctop (required)\u003e'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/callback.rb:14:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/callback.rb:14:in `run'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/callbacks_observer.rb:11:in `block in update'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/callbacks_observer.rb:10:in `each'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/callbacks_observer.rb:10:in `update'\n     # /usr/local/lib/ruby/2.6.0/observer.rb:197:in `block in notify_observers'\n     # /usr/local/lib/ruby/2.6.0/observer.rb:196:in `each'\n     # /usr/local/lib/ruby/2.6.0/observer.rb:196:in `notify_observers'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/evaluation.rb:24:in `notify'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/strategy/create.rb:13:in `block in result'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/strategy/create.rb:9:in `tap'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/strategy/create.rb:9:in `result'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/factory.rb:43:in `run'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/factory_runner.rb:29:in `block in run'\n     # ./vendor/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/notifications.rb:170:in `instrument'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/factory_runner.rb:28:in `run'\n     # ./vendor/ruby/2.6.0/gems/factory_bot-4.8.2/lib/factory_bot/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'\n     # ./ee/spec/features/projects/issues/design_management/user_views_designs_spec.rb:12:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:450:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:450:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:348:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:507:in `block in run_owned_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:506:in `each'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:506:in `run_owned_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:593:in `block in run_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:592:in `reverse_each'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:592:in `run_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:462:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:497:in `run_before_example'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:256:in `block in run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:464:in `block in run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:604:in `block in run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:345:in `call'\n     # ./vendor/ruby/2.6.0/gems/rspec-rails-3.8.2/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in \u003cmodule:MinitestLifecycleAdapter\u003e'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:450:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:450:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:373:in `execute_with'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:345:in `call'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:123:in `block in run'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `loop'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:110:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.6.1/lib/rspec_ext/rspec_ext.rb:12:in `run_with_retry'\n     # ./vendor/ruby/2.6.0/gems/rspec-retry-0.6.1/lib/rspec/retry.rb:37:in `block (2 levels) in setup'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:450:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:450:in `instance_exec'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:373:in `execute_with'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:606:in `block (2 levels) in run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:345:in `call'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:607:in `run_around_example_hooks_for'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/hooks.rb:464:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:460:in `with_around_example_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example.rb:254:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example_group.rb:633:in `block in run_examples'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example_group.rb:629:in `map'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example_group.rb:629:in `run_examples'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/example_group.rb:595:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:116:in `block (3 levels) in run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:116:in `map'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:116:in `block (2 levels) in run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/configuration.rb:2008:in `with_suite_hooks'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:111:in `block in run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/reporter.rb:74:in `report'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:110:in `run_specs'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:87:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:71:in `run'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/lib/rspec/core/runner.rb:45:in `invoke'\n     # ./vendor/ruby/2.6.0/gems/rspec-core-3.8.2/exe/rspec:4:in `\u003ctop (required)\u003e'\n     # ./vendor/ruby/2.6.0/bin/rspec:23:in `load'\n     # ./vendor/ruby/2.6.0/bin/rspec:23:in `\u003ctop (required)\u003e'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb:74:in `load'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb:74:in `kernel_load'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli/exec.rb:28:in `run'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli.rb:463:in `exec'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/command.rb:27:in `run'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor.rb:387:in `dispatch'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli.rb:27:in `dispatch'\n     # /usr/local/lib/ruby/2.6.0/bundler/vendor/thor/lib/thor/base.rb:466:in `start'\n     # /usr/local/lib/ruby/2.6.0/bundler/cli.rb:18:in `start'\n     # /usr/local/lib/ruby/gems/2.6.0/gems/bundler-1.17.2/exe/bundle:30:in `block in \u003ctop (required)\u003e'\n     # /usr/local/lib/ruby/2.6.0/bundler/friendly_errors.rb:124:in `with_friendly_errors'\n     # /usr/local/lib/ruby/gems/2.6.0/gems/bundler-1.17.2/exe/bundle:22:in `\u003ctop (required)\u003e'\n     # /usr/local/bin/bundle:23:in `load'\n     # /usr/local/bin/bundle:23:in `\u003cmain\u003e'\n\nFinished in 11 minutes 41 seconds (files took 41.78 seconds to load)\n379 examples, 1 failure, 2 pending\n\nFailed examples:\n\nrspec ./ee/spec/features/projects/issues/design_management/user_views_designs_spec.rb:21 # User views issue designs fetches list of designs\n```","state":"closed","created_at":"2019-09-23T22:56:57.815Z","updated_at":"2019-11-22T16:30:51.098Z","closed_at":"2019-10-09T14:07:06.466Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Engineering Productivity","Quality","ci-build","devops::create","failure::flaky-test","priority::2","severity::2","type::bug","workflow::verification"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":21,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32620","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32620","notes":"https://gitlab.com/api/v4/projects/278964/issues/32620/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32620/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32620","relative":"#32620","full":"gitlab-org/gitlab#32620"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25139771,"iid":32615,"project_id":278964,"title":"Further improve discoverability of merge request suggestions","description":"## Problem to solve\n\nMerge Request Suggestions are hard to discover in the code review workflow. The usage data also indicates adoption lower than expected, likely due to the lack discovery of discoverability.\n\n## Further details\n\nIn GitLab 12.1 we introduced a tooltip https://gitlab.com/gitlab-org/gitlab-foss/issues/56523 to notify people once that they can make a suggestion. This increased usage from 2% to 5% of instances with usage ping turned on who use merge requests. This still seems very low for a feature that anecdotally customers find very useful.\n\n## Proposal\n\nMove the current icon button from the toolbar to next to the “Attach files” button, with both text and an icon, see [design](https://gitlab.com/gitlab-org/gitlab/issues/32615/designs/Artboard_20190228_24034.png).\n\n## How will we measure success\n\nWe should aim for 25% of instances that use merge requests and have the new UI treatment to have suggested changes.\n\n## Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab-foss/issues/56523","state":"closed","created_at":"2019-09-23T21:22:44.577Z","updated_at":"2020-12-07T16:48:22.743Z","closed_at":"2020-11-11T16:29:02.353Z","closed_by":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"labels":["Category:Code Review Workflow","devops::create","frontend","group::code review","merge requests","missed:12.10","missed:12.9","missed:13.0","missed:13.1","missed:13.3","missed:13.4","missed:13.5","section::dev"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":13,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32615","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32615","notes":"https://gitlab.com/api/v4/projects/278964/issues/32615/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32615/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32615","relative":"#32615","full":"gitlab-org/gitlab#32615"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25136611,"iid":32612,"project_id":278964,"title":"[QA] Add K3d provider for Kubernetes tests","description":"Currently we support [many options](https://gitlab.com/gitlab-org/gitlab/tree/master/qa/qa/service/cluster_provider) for running clusters against different providers.\n\nWe, however only use [Gcloud](https://gitlab.com/gitlab-org/gitlab/blob/master/qa%2Fqa%2Fservice%2Fkubernetes_cluster.rb#L14) at present.  \n\nThis task should not just add the K3d provider, but also provide the mechanism in `gitlab-qa` for running local Kubernetes clusters using k3d/k3s\n\n- [x] **[First Iteration](https://gitlab.com/gitlab-org/gitlab/merge_requests/19785):** Enable K3d for local development / testing\n- [x] **[Second Iteration](https://gitlab.com/gitlab-org/gitlab/issues/121679):**  Implement K3d on CI/CD\n\n---","state":"closed","created_at":"2019-09-23T20:41:10.712Z","updated_at":"2020-03-04T22:33:01.431Z","closed_at":"2020-03-04T22:33:01.366Z","closed_by":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"labels":["Quality","Quality::test-infrastructure","backstage [DEPRECATED]","devops::configure","group::configure","missed:12.4","missed:12.5","missed:12.7","missed:12.8","workflow::in dev"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"}],"author":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"type":"ISSUE","assignee":{"id":272636,"username":"ddavison","name":"Dan Davison","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6e56557ffa1baafe3e73e45bd2dc9524?s=80\u0026d=identicon","web_url":"https://gitlab.com/ddavison"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32612","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32612","notes":"https://gitlab.com/api/v4/projects/278964/issues/32612/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32612/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32612","relative":"#32612","full":"gitlab-org/gitlab#32612"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1566,"epic":{"id":8922,"iid":1566,"title":"Test gaps in Configure stage","url":"/groups/gitlab-org/-/epics/1566","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25129398,"iid":32604,"project_id":278964,"title":"RecalculateProductivityAnalytics migration fails with legacy DiffNote","description":"https://sentry.gitlab.net/gitlab/staginggitlabcom/issues/966411/\n\n```\nActiveRecord::SubclassNotFound: Invalid single-table inheritance type: DiffNote is not a subclass of Gitlab::BackgroundMigration::RecalculateProductivityAnalytics::Migratable::Note\n  active_record/inheritance.rb:233:in `find_sti_class'\n    raise SubclassNotFound, \"Invalid single-table inheritance type: #{subclass.name} is not a subclass of #{name}\"\n  active_record/inheritance.rb:207:in `discriminate_class_for_record'\n    find_sti_class(record[inheritance_column])\n  active_record/persistence.rb:69:in `instantiate'\n    klass = discriminate_class_for_record(attributes)\n  active_record/querying.rb:52:in `block (2 levels) in find_by_sql'\n    result_set.map { |record| instantiate(record, column_types, \u0026block) }\n  active_record/result.rb:57:in `block in each'\n    hash_rows.each { |row| yield row }\n...\n(94 additional frame(s) were not displayed)\n\nInvalid single-table inheritance type: DiffNote is not a subclass of Gitlab::BackgroundMigration::RecalculateProductivityAnalytics::Migratable::Note\n```","state":"closed","created_at":"2019-09-23T18:41:51.602Z","updated_at":"2020-02-14T08:22:29.120Z","closed_at":"2019-10-02T16:09:47.704Z","closed_by":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"labels":["backend","devops::manage","group::optimize","regression","regression:12.3","type::bug","workflow::in dev"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32604","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32604","notes":"https://gitlab.com/api/v4/projects/278964/issues/32604/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32604/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32604","relative":"#32604","full":"gitlab-org/gitlab#32604"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25124080,"iid":32596,"project_id":278964,"title":"Add a Rubocop to enforce use of datetime_with_timezone instead of datetime","description":"We have `rubocop/cop/migration/timestamps.rb` that enforces the use of `timestamps_with_timezone`, but we don't have an equivalent rule for `datetime_with_timezone`. I think we may want to introduce a Rubocop that does this.","state":"closed","created_at":"2019-09-23T16:21:14.412Z","updated_at":"2022-05-30T15:50:31.769Z","closed_at":"2020-04-07T21:05:06.860Z","closed_by":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"labels":["Category:Database","Database tooling","database","devops::data_stores","group::database","static code analysis","workflow::in review"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32596","notes":"https://gitlab.com/api/v4/projects/278964/issues/32596/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32596/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32596","relative":"#32596","full":"gitlab-org/gitlab#32596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2473,"epic":{"id":18107,"iid":2473,"title":"Database datetime with timezone issues","url":"/groups/gitlab-org/-/epics/2473","group_id":9970,"human_readable_end_date":"Apr 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":25123420,"iid":32593,"project_id":278964,"title":"Container_scanning template Can't pull image Token request returned 403","description":"Scanning container from registry 'registry.gitlab.com/cjexpress/api/identity/develop:d5b36a541b3cbe6f7852a6c5f784aababe86a793' for vulnerabilities with severity level 'Unknown' or higher with klar '2.4.0' and clair 'v2.0.9'\nCan't pull image: Token request returned 403","state":"closed","created_at":"2019-09-23T16:04:15.442Z","updated_at":"2021-02-03T04:04:25.712Z","closed_at":"2019-09-26T14:37:56.228Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Container Scanning","Enterprise Edition","customer","devops::secure","gitlab.com","group::composition analysis","priority::1","regression","regression:12.3","reproduced on GitLab.com","severity::2","type::bug"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":3644459,"username":"kittituch.t","name":"kittituch.t","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e796dadc0744d46bf51224203871a46c?s=80\u0026d=identicon","web_url":"https://gitlab.com/kittituch.t"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":9,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32593","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32593","notes":"https://gitlab.com/api/v4/projects/278964/issues/32593/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32593/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32593","relative":"#32593","full":"gitlab-org/gitlab#32593"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":25116621,"iid":32570,"project_id":278964,"title":"Check license in StageListService addionally","description":"The following discussion from !16240 should be addressed:\n\n- [ ] @splattael started a [discussion](https://gitlab.com/gitlab-org/gitlab/merge_requests/16240#note_220658902): \n\n    \u003e Similar to the permission check what do you think of adding a license check as well? \n    \u003e \n    \u003e Let's handle this in a follow-up issue :+1:","state":"closed","created_at":"2019-09-23T13:34:35.732Z","updated_at":"2020-02-14T08:19:23.826Z","closed_at":"2019-10-07T10:53:34.832Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["auto updated"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":438961,"username":"splattael","name":"Peter Leitzen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97c2ff0fc99cc4eede69be9ac238c304?s=80\u0026d=identicon","web_url":"https://gitlab.com/splattael"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/32570","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/32570","notes":"https://gitlab.com/api/v4/projects/278964/issues/32570/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/32570/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#32570","relative":"#32570","full":"gitlab-org/gitlab#32570"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]