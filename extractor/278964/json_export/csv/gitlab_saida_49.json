[{"id":94647386,"iid":342115,"project_id":278964,"title":"Replace haml confirm_modal with GlModal","description":"## Background\n\nAs part of our effort to [replace bootstrap modals](https://gitlab.com/gitlab-org/gitlab/-/issues/254274), we should replace the existing [haml confirm_modal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/_confirm_modal.html.haml) with a vue component, utilising GlModal\n\n## Implementation\n* [x] Mark the existing `js-confirm-modal*` as `js-legacy-confirm-modal*` \n* [x] Add a vue component implementing the [confirm_modal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/shared/_confirm_modal.html.haml)\n* [x] Add an `init` script to mount the modal app\n* [x] Add tests for the new component\n\nRelated to #254274.","state":"closed","created_at":"2021-10-01T01:41:00.982Z","updated_at":"2021-11-23T07:21:04.657Z","closed_at":"2021-10-22T07:47:53.215Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["auto updated","component:modal","devops::manage","feature::enhancement","frontend","group::optimize","pajamas::integrate","priority::1","section::dev","type::feature","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/342115","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/342115","notes":"https://gitlab.com/api/v4/projects/278964/issues/342115/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/342115/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#342115","relative":"#342115","full":"gitlab-org/gitlab#342115"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94637621,"iid":342095,"project_id":278964,"title":"Downstream pipelines are not automatically retried if one of them is canceled","description":"~\"team::Delivery\" uses [multi-project pipelines](https://docs.gitlab.com/ee/ci/pipelines/multi_project_pipelines.html) to trigger deployments to our different environments: staging-canary, staging, canary, and production. In a general overview, the auto-deploy process is coordinated by the [release-tools](https://gitlab.com/gitlab-org/release-tools) pipeline in the following way:\n\nPackage is tag and built -\u003e Staging-canary deployment is triggered -\u003e Staging deployment is triggered -\u003e Canary deployment is triggered -\u003e Production deployment is triggered.\n\nNote that the deployments are performed by a downstream pipeline in the [deployer](https://gitlab.com/gitlab-org/release-tools/-/blob/master/.gitlab/ci/coordinated-pipeline.gitlab-ci.yml), and only if the previous step was successful, e.g we only deploy to canary if the deployment to staging was successful. \n\nRecently it was noticed that downstream pipelines that failed are treated differently from downstream pipelines that are canceled.\n\n### Examples\n\n* **:x: When a job in the downstream pipeline is canceled**\n\n| Downstream pipeline with canceled job | Deploy to `gstg` is marked as skipped (as expected)  | Downstream pipeline is retried and succeeds | :x: Deploy to `gstg` is not automatically retried |\n| ------ | ------ | ------ | ------ |\n| ![Screen_Shot_2021-09-27_at_18.37.10](https://gitlab.com/gitlab-com/gl-infra/delivery/uploads/c9fd05518b06f394922046efa399c105/Screen_Shot_2021-09-27_at_18.37.10.png) |![Screen_Shot_2021-09-27_at_18.37.45](https://gitlab.com/gitlab-com/gl-infra/delivery/uploads/38c55426d06c245f30e149a103c0bb85/Screen_Shot_2021-09-27_at_18.37.45.png) | ![Screen_Shot_2021-09-27_at_18.38.29](https://gitlab.com/gitlab-com/gl-infra/delivery/uploads/70a121db33b5b643871612a67a7a5e35/Screen_Shot_2021-09-27_at_18.38.29.png) | ![Screen_Shot_2021-09-27_at_18.11.24](https://gitlab.com/gitlab-com/gl-infra/delivery/uploads/9e0cf86c66d2bf838b19bc6f98ab669b/Screen_Shot_2021-09-27_at_18.11.24.png) |\n\n* **:white_check_mark: When a job in the downstream pipeline fails**\n\n| Downstream pipeline with a failed job | Deploy to `gstg` is set to `skipped` (as expected) | Downstream pipeline is retried and succeeds | :white_check_mark: Deploy to `gstg` is automatically retried  |\n| ------ | ------ | ------ | ------ |\n| ![Screen_Shot_2021-09-27_at_18.46.51](https://gitlab.com/gitlab-com/gl-infra/delivery/uploads/1b367b8cb8f61a3deb8bdd47a714d91c/Screen_Shot_2021-09-27_at_18.46.51.png) | ![Screen_Shot_2021-09-27_at_18.47.37](https://gitlab.com/gitlab-com/gl-infra/delivery/uploads/a933b2f298f496aa7416387522520a3d/Screen_Shot_2021-09-27_at_18.47.37.png) | ![Screen_Shot_2021-09-27_at_18.48.36](https://gitlab.com/gitlab-com/gl-infra/delivery/uploads/25007face85c7c8ea6a09812e8e567d6/Screen_Shot_2021-09-27_at_18.48.36.png) |  ![Screen_Shot_2021-09-27_at_18.50.16](https://gitlab.com/gitlab-com/gl-infra/delivery/uploads/5e605be163fd48b22032f7aa34d6cf9e/Screen_Shot_2021-09-27_at_18.50.16.png)|\n\n\n### Expected outcome\n\nIn the case we described above there shouldn't be any differences between the failed and canceled job scenarios, the downstream pipeline should automatically be retried on both cases, as it happened today with failed job scenario","state":"closed","created_at":"2021-09-30T19:32:27.260Z","updated_at":"2021-12-07T08:58:34.387Z","closed_at":"2021-11-30T14:20:49.412Z","closed_by":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"labels":["Category:Pipeline Authoring","Duplicate","UX","approaching-SLO","backend","bridge pipelines","devops::verify","group::pipeline authoring","missed:14.5","priority::3","section::ops","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":33100,"username":"mayra-cabrera","name":"Mayra Cabrera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/33100/avatar.png","web_url":"https://gitlab.com/mayra-cabrera"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":36,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/342095","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/342095","notes":"https://gitlab.com/api/v4/projects/278964/issues/342095/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/342095/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/341561"},"references":{"short":"#342095","relative":"#342095","full":"gitlab-org/gitlab#342095"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":95905675,"iid":343557,"project_id":278964,"title":"Create a \"GitLab Pages Onboarding\" page","description":"To improve the onboarding experience to Gitlab, I'm suggesting to create a yaml-file builder that will be visible when Pages is not deployed yet.\n\n## Idea\n\nInspired by other SSG-Hosting sites, developers can expect a simple, three-step process to configure their Static Site Deployment online. The configuration with a yaml-file complicates this somewhat, but also allows for more flexibility. By creating a visual Yaml-File builder, we're offering both the simplicity of a three-step onboarding process and a low-key introduction to working with yaml files.\n\n![Screenshot_2021-09-30_at_17.13.46](/uploads/6b0d9242f7d4eaf51d6ddceccbc1cee7/Screenshot_2021-09-30_at_17.13.46.png)\n\n## Demos\n\n- https://youtu.be/SOTda1E6iQ4\n- https://youtu.be/iouVys2_kps\n- https://youtu.be/3d1yAM34Dq4\n\n## Issues\n- This relies on the `@project.pages_deployed?` attribute to decide whether this onboarding screen is shown or not. @project.pages_deployed however can be false if the yaml file is valid, but the pipeline is not complete/failed/... - Probably necessary to introduce a pages_onboarding_completed property.\n- handling of Branches needs to be re-considered. The branch defined in the yaml may be a different one to the one the file is committed to, currently resulting in a unhandled state.\n- Other SSG Sites usually offer to configure the name of the output folder. I've put that in as a placeholder, however, Pages does not currently accept any folder name other than `public`. This introduces friction, as it still requires editing the App's config files for most frameworks. I think removing this requirement from GitLab would massively improve the UX\n\n## To do\n - [ ] Add Placeholder before LCP\n - [x] Flash / Highlight changed Lines in Editor\n - [ ] Add test coverage","state":"closed","created_at":"2021-09-30T16:14:41.814Z","updated_at":"2022-09-08T07:43:12.815Z","closed_at":"2022-08-17T07:45:39.348Z","closed_by":{"id":9622933,"username":"janis","name":"Janis Altherr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9622933/avatar.png","web_url":"https://gitlab.com/janis"},"labels":["Category:Pages","Next Up","UX","auto updated","devops::create","feature::enhancement","group::editor","section::dev","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":9622933,"username":"janis","name":"Janis Altherr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9622933/avatar.png","web_url":"https://gitlab.com/janis"}],"author":{"id":9622933,"username":"janis","name":"Janis Altherr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9622933/avatar.png","web_url":"https://gitlab.com/janis"},"type":"ISSUE","assignee":{"id":9622933,"username":"janis","name":"Janis Altherr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9622933/avatar.png","web_url":"https://gitlab.com/janis"},"user_notes_count":12,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/343557","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/343557","notes":"https://gitlab.com/api/v4/projects/278964/issues/343557/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/343557/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#343557","relative":"#343557","full":"gitlab-org/gitlab#343557"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":94612770,"iid":342049,"project_id":278964,"title":"Job artifacts size in namespace statistics may not be updated when project is deleted","description":"## Problem\n\nWith the `job_artifacts_size` being used as [efficient counter](https://gitlab.com/gitlab-org/gitlab/-/issues/24469) we may have a problem when deleting a project. This is the current flow:\n\n- project is deleted\n- artifacts are deleted\n- Efficient counter logic:\n    - `job_artifacts_size` value in Redis is reduced by the size of deleted records\n    - a worker is scheduled async to flush the Redis value to the database\n    - By the time the `FlushCounterIncrementsWorker` runs, the `project_statistics` record may have been deleted by `project.destroy!`\n    - The worker [exits early](https://gitlab.com/gitlab-org/gitlab/-/blob/767562c9fe9e4715f8fb5dbb75958fad7f338778/app/workers/flush_counter_increments_worker.rb#L25-26)\n- namespace statistics are not being updated :boom: \n\n## Proposal\n\nCalling `Namespaces::ScheduleAggregationWorker` after a project is destroyed in `Projects::DestroyService` should solve the problem.\n\nExample: A project has 10GB artifacts. We are destroying the project.\n\n1. `project_statistics.builds_artifacts_size: 10GB`.\n1. We remove artifacts in bulk and decrement the counter in Redis: `-10GB`.\n1. `FlushCounterIncrementsWorker` is scheduled to flush the value from Redis to the database (decrementing the column by -10GB).\n1. In the meantime `Projects::DestroyService` runs `project.destroy!`.\n1. When `FlushCounterIncrementsWorker` runs, `project_statistics` record has been destroyed already and the worker fails.\n1. As we are removing the whole `project_statistics` record we don't really care about decrementing it correctly at this point. If we schedule `Namespaces::ScheduleAggregationWorker` to update the namespace statistics based on the remaining `project_statistics` records we should be fine.\n1. The Redis entry containing `-10GB` eventually expires.","state":"closed","created_at":"2021-09-30T12:42:14.569Z","updated_at":"2022-07-19T20:40:46.023Z","closed_at":"2022-02-16T17:14:13.792Z","closed_by":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"labels":["CI artifacts","Category:Build Artifacts","FY23::Q1","OKR","Verify::P1","approaching-SLO","devops::verify","group::pipeline insights","missed-SLO","priority::3","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/342049","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/342049","notes":"https://gitlab.com/api/v4/projects/278964/issues/342049/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/342049/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#342049","relative":"#342049","full":"gitlab-org/gitlab#342049"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5380,"epic":{"id":200887,"iid":5380,"title":"Statistics artifacts_size is broken","url":"/groups/gitlab-org/-/epics/5380","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94599500,"iid":342022,"project_id":278964,"title":"Running FOSS and EE frontend fixtures for the same folder can lead to missing fixtures","description":"We have https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/frontend/fixtures/api_markdown.rb and https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/frontend/fixtures/api_markdown.rb which both write their fixture files to `/tmp/tests/frontend/fixtures-ee/api/markdown/`.\n\nThe problem is that after https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71308, it could happen that both fixture generators could run in the same job. In that case, the last one to run would remove all the fixtures generated by the first one due to the `clean_frontend_fixtures(fixture_subdir)` call in the `before` block.\n\nThis can reproduced locally:\n\nIf you run the EE fixture first, then the FOSS one, the EE fixture is missing:\n\n```\n ~/C/Gi/gdk/gitlab  improve-review-apps-docs *3  be rspec ee/spec/frontend/fixtures/api_markdown.rb spec/frontend/fixtures/api_markdown.rb                                                                                                    ✔  12:04:27 \nRun options: include {:focus=\u003etrue}\n\nAll examples were filtered out; ignoring {:focus=\u003etrue}\n\nTest environment set up in 10.632847 seconds\n...........................................\n\nFinished in 39.61 seconds (files took 38.19 seconds to load)\n43 examples, 0 failures\n\n ~/C/Gi/gdk/gitlab  improve-review-apps-docs *3  ll tmp/tests/frontend/fixtures-ee/api/markdown                                                                                                                                               ✔  12:13:41 \ntotal 336\n-rw-r--r--  1 remy  staff   458B Sep 30 12:05 audio.json\n-rw-r--r--  1 remy  staff   3.6K Sep 30 12:05 audio_and_video_in_lists.json\n-rw-r--r--  1 remy  staff   252B Sep 30 12:05 blockquote.json\n-rw-r--r--  1 remy  staff   119B Sep 30 12:05 bold.json\n-rw-r--r--  1 remy  staff   365B Sep 30 12:05 bullet_list_style_1.json\n-rw-r--r--  1 remy  staff   365B Sep 30 12:05 bullet_list_style_2.json\n-rw-r--r--  1 remy  staff   365B Sep 30 12:05 bullet_list_style_3.json\n-rw-r--r--  1 remy  staff   674B Sep 30 12:05 code_block.json\n-rw-r--r--  1 remy  staff   586B Sep 30 12:05 description_list.json\n-rw-r--r--  1 remy  staff   214B Sep 30 12:05 div.json\n-rw-r--r--  1 remy  staff   441B Sep 30 12:05 emoji.json\n-rw-r--r--  1 remy  staff   123B Sep 30 12:05 emphasis.json\n-rw-r--r--  1 remy  staff   1.0K Sep 30 12:05 figure.json\n-rw-r--r--  1 remy  staff   792B Sep 30 12:05 frontmatter_json.json\n-rw-r--r--  1 remy  staff   454B Sep 30 12:05 frontmatter_toml.json\n-rw-r--r--  1 remy  staff   450B Sep 30 12:05 frontmatter_yaml.json\n-rw-r--r--  1 remy  staff   720B Sep 30 12:05 group_attachment_image.json\n-rw-r--r--  1 remy  staff   365B Sep 30 12:05 group_attachment_link.json\n-rw-r--r--  1 remy  staff   127B Sep 30 12:05 hard_break.json\n-rw-r--r--  1 remy  staff   1.2K Sep 30 12:05 headings.json\n-rw-r--r--  1 remy  staff    52B Sep 30 12:05 horizontal_rule.json\n-rw-r--r--  1 remy  staff   3.1K Sep 30 12:05 html_marks.json\n-rw-r--r--  1 remy  staff   398B Sep 30 12:05 image.json\n-rw-r--r--  1 remy  staff   115B Sep 30 12:05 inline_code.json\n-rw-r--r--  1 remy  staff   351B Sep 30 12:05 inline_diff.json\n-rw-r--r--  1 remy  staff   195B Sep 30 12:05 link.json\n-rw-r--r--  1 remy  staff   293B Sep 30 12:05 ordered_list.json\n-rw-r--r--  1 remy  staff   307B Sep 30 12:05 ordered_list_with_start_order.json\n-rw-r--r--  1 remy  staff   1.3K Sep 30 12:05 ordered_task_list.json\n-rw-r--r--  1 remy  staff   646B Sep 30 12:05 ordered_task_list_with_order.json\n-rw-r--r--  1 remy  staff   720B Sep 30 12:05 project_attachment_image.json\n-rw-r--r--  1 remy  staff   365B Sep 30 12:05 project_attachment_link.json\n-rw-r--r--  1 remy  staff   460B Sep 30 12:05 project_wiki_attachment_image.json\n-rw-r--r--  1 remy  staff   257B Sep 30 12:05 project_wiki_attachment_link.json\n-rw-r--r--  1 remy  staff   2.0K Sep 30 12:05 project_wiki_reference.json\n-rw-r--r--  1 remy  staff   112B Sep 30 12:05 strike.json\n-rw-r--r--  1 remy  staff   1.1K Sep 30 12:05 table.json\n-rw-r--r--  1 remy  staff   1.6K Sep 30 12:05 table_of_contents.json\n-rw-r--r--  1 remy  staff   1.3K Sep 30 12:05 task_list.json\n-rw-r--r--  1 remy  staff    52B Sep 30 12:05 thematic_break.json\n-rw-r--r--  1 remy  staff   493B Sep 30 12:05 video.json\n-rw-r--r--  1 remy  staff   243B Sep 30 12:05 word_break.json\n```\n\nIf you run the FOSS fixture first, then the EE one, the FOSS fixtures are missing:\n\n```\n ~/C/Gi/gdk/gitlab  improve-review-apps-docs *3  be rspec spec/frontend/fixtures/api_markdown.rb ee/spec/frontend/fixtures/api_markdown.rb                                                                                                    ✔  12:13:46 \n\nAll examples were filtered out; ignoring {:focus=\u003etrue}\n\nTest environment set up in 8.98944 seconds\n...........................................\n\nFinished in 36.61 seconds (files took 39.45 seconds to load)\n43 examples, 0 failures\n\n\n ~/C/Gi/gdk/gitlab  improve-review-apps-docs *3  ll tmp/tests/frontend/fixtures-ee/api/markdown                                                                                                                                      ✔  1m 20s  12:15:18 \ntotal 8\n-rw-r--r--  1 remy  staff   255B Sep 30 12:15 group_wiki_attachment_link.json\n```","state":"closed","created_at":"2021-09-30T09:03:47.874Z","updated_at":"2022-03-16T11:36:37.728Z","closed_at":"2021-10-04T11:46:39.359Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","maintenance::pipelines","type::maintenance"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/342022","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/342022","notes":"https://gitlab.com/api/v4/projects/278964/issues/342022/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/342022/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#342022","relative":"#342022","full":"gitlab-org/gitlab#342022"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94593184,"iid":342019,"project_id":278964,"title":"Version-App: Print status of gcloud export in logs","description":"Follow-up issue from https://gitlab.com/gitlab-services/version-gitlab-com/-/merge_requests/624#note_690227685\n\n## Summary \n\nPrint status of gcloud export in logs \n\nhttps://gitlab.com/gitlab-services/version-gitlab-com/-/merge_requests/624/diffs#bf9eef647369cccbc1305e3823e85d358aafe65c_112_113\n\n## Why?\n\nThis would help us with debugging","state":"closed","created_at":"2021-09-30T07:42:29.723Z","updated_at":"2022-03-16T11:36:38.444Z","closed_at":"2021-12-17T14:50:45.357Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["devops::growth","group::product intelligence","section::growth","type::maintenance","won't do","workflow::in review"],"milestone":null,"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/342019","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/342019","notes":"https://gitlab.com/api/v4/projects/278964/issues/342019/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/342019/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#342019","relative":"#342019","full":"gitlab-org/gitlab#342019"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94591783,"iid":342018,"project_id":278964,"title":"When working on a feature branch, pipeline editor should open .gitlab-ci.yml on that branch","description":"## 🧩 Problem\n\nWhen you're working on a feature branch and open the `.gitlab-ci.yml` file in your repo, opening it in the pipeline editor opens it on the main branch by default. It disturbs your workflow as you're currently working in the feature branch and want to remain in that context. \n\nOpening the `.gitlab-ci.yml` in the Web IDE or the file editor opens it in the current feature branch by default. \n\n| | \n| ------ | \n|![Screen_Recording_2021-09-30_at_08.23_AM](/uploads/257e5d989396c4d9f97250e31f961106/Screen_Recording_2021-09-30_at_08.23_AM.mov) |  \n\n## :art: Proposal\n\nWhen working on a feature branch, the pipeline editor should open `.gitlab-ci.yml` on that feature branch by default.","state":"closed","created_at":"2021-09-30T07:22:10.608Z","updated_at":"2022-01-10T08:00:41.380Z","closed_at":"2021-10-27T15:46:06.744Z","closed_by":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"labels":["Category:Pipeline Authoring","Hacktoberfest","UX","candidate::14.5","devops::verify","feature::enhancement","frontend","group::pipeline authoring","section::ops","type::feature","usability"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/342018","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/342018","notes":"https://gitlab.com/api/v4/projects/278964/issues/342018/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/342018/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#342018","relative":"#342018","full":"gitlab-org/gitlab#342018"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":36605,"iid":34,"sequence":1,"group_id":9970,"title":"Pipeline Authoring: October 18, 2021 - October 31, 2021","description":"Target milestone `14.5`","state":3,"created_at":"2021-10-05T20:42:58.367Z","updated_at":"2021-12-02T16:50:08.408Z","start_date":"2021-10-18","due_date":"2021-10-31","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36605"},"health_status":null},{"id":94591093,"iid":342016,"project_id":278964,"title":"Resource Group API to list all upcoming jobs","description":"## Problem\n\nWhen [`oldest_first` or `newest_first` process mode](https://docs.gitlab.com/ee/ci/resource_groups/index.html#process-modes) is selected in a resource group, sometimes users need to know the upcoming jobs list to figure out which job is the current blocker. For example, https://gitlab.com/gitlab-org/gitlab/-/issues/202186#note_690048551.\n\nUsers should be able to figure out which job is currently blocking the resource group.\n\n## Proposal\n\nWe add  the following endpoint in [Resource Group API](https://docs.gitlab.com/ee/api/resource_groups.html):\n\n```\nGET /projects/:id/resource_groups/:key/upcoming_jobs\n```\n\nThis returns the list of upcoming jobs to the resource group.\n\n## Implementation\n\nIt's easy to implement, as the following:\n\n```diff\ndiff --git a/lib/api/ci/resource_groups.rb b/lib/api/ci/resource_groups.rb\nindex 02a5e92bd83..bb01381f268 100644\n--- a/lib/api/ci/resource_groups.rb\n+++ b/lib/api/ci/resource_groups.rb\n@@ -3,6 +3,8 @@\n module API\n   module Ci\n     class ResourceGroups \u003c ::API::Base\n+      include PaginationParams\n+\n       before { authenticate! }\n \n       feature_category :continuous_delivery\n@@ -41,6 +43,23 @@ class ResourceGroups \u003c ::API::Base\n             render_validation_error!(resource_group)\n           end\n         end\n+\n+        desc 'List upcoming jobs of a resource group' do\n+          success Entities::Ci::JobBasic\n+        end\n+        params do\n+          requires :key, type: String, desc: 'The key of the resource group'\n+          use :pagination\n+        end\n+        get ':id/resource_groups/:key/upcoming_jobs' do\n+          authorize! :read_resource_group, resource_group\n+          authorize! :read_build, user_project\n+\n+          upcoming_processables = resource_group.upcoming_processables\n+          upcoming_processables = upcoming_processables.preload(:user, pipeline: :project)\n+\n+          present paginate(upcoming_processables), with: Entities::Ci::JobBasic\n+        end\n       end\n \n       helpers do\n```","state":"closed","created_at":"2021-09-30T07:09:12.660Z","updated_at":"2022-10-05T07:59:18.081Z","closed_at":"2022-10-05T07:59:18.032Z","closed_by":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"labels":["Category:Continuous Delivery","Next Up","Release::P2","api","auto updated","devops::release","feature::enhancement","group::release","resource groups","section::ops","type::feature"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"user_notes_count":8,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/342016","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/342016","notes":"https://gitlab.com/api/v4/projects/278964/issues/342016/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/342016/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#342016","relative":"#342016","full":"gitlab-org/gitlab#342016"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6774,"epic":{"id":351580,"iid":6774,"title":"Make Resource Groups more flexible","url":"/groups/gitlab-org/-/epics/6774","group_id":9970,"human_readable_end_date":"Dec 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94587973,"iid":342014,"project_id":278964,"title":"Mark strings for translation in `ee/app/views/projects/settings/slacks/edit.html.haml`","description":"The following strings in `ee/app/views/projects/settings/slacks/edit.html.haml` need to be marked for translation:\n\n- `Edit project alias`\n- `You can use this alias in your Slack commands`\n- `Enter your alias`\n- `Save changes`\n\nGitLab i18n guidelines for HAML files: https://docs.gitlab.com/ee/development/i18n/externalization.html#haml-files\n\nMake sure to run `bin/rake gettext:regenerate` locally to generate an updated `gitlab.pot` file.","state":"closed","created_at":"2021-09-30T06:22:00.412Z","updated_at":"2022-11-22T19:24:09.222Z","closed_at":"2021-11-15T17:50:05.865Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Category:Integrations","Category:Internationalization","Community contribution","Hacktoberfest","devops::manage","good for new contributors","group::integrations","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8561680,"username":"NIKU-SINGH","name":"Niku Singh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8561680/avatar.png","web_url":"https://gitlab.com/NIKU-SINGH"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":8561680,"username":"NIKU-SINGH","name":"Niku Singh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8561680/avatar.png","web_url":"https://gitlab.com/NIKU-SINGH"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/342014","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/342014","notes":"https://gitlab.com/api/v4/projects/278964/issues/342014/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/342014/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#342014","relative":"#342014","full":"gitlab-org/gitlab#342014"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94582025,"iid":342009,"project_id":278964,"title":"Merge Request Versions can point an incorrect SHA","description":"## Problem\n\nOriginally discovered in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68549#note_689815972.\n\nWhen a user performs git-push to a feature branch (or Web UI/IDE), a new [Merge Request Version](https://docs.gitlab.com/ee/user/project/merge_requests/versions.html) (a.k.a. `MergeRequestDiff`) is created. This represents the git-push history in the merge request and allows users to compare different versions. For example,\n\n1. User creates a Commit-A in a local branch and pushes the branch to the remote repository.\n1. User creates a Commit-B in a local branch and pushes the branch to the remote repository.\n\nThis creates two versions as the following:\n\n- Version 1: Commit-A\n- Version 2: Commit-B\n\nHowever, if a user performs the above operations **rapidly**, `Version 1` also can point to `Commit-B` as well. In fact, we [tested](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68549#note_689649660) the following scenario:\n\n\u003e\u003e\u003e\n1. Create an merge request.\n1. Push 100 times and create 100 pipelines in the MR. `for i in {1..100}; do echo 'a' \u003e\u003e README.md \u0026\u0026 git ci -am 'OK' \u0026\u0026 git push origin fe-4; done`\n\u003e\u003e\u003e\n\nHere is the Versions UI in a merge request. We can see that Version 96 and 95 have the same SHA, where Version 95 is supposed to point a different SHA:\n\n![2021-09-29_10-58](/uploads/0bfd29eb77049c54df41d425b95c8796/2021-09-29_10-58.png)\n\nIn total, we confirmed that 26 versions point to a duplicate/incorrect versions.\n\n```\n[7] pry(main)\u003e merge_request.merge_request_diffs.select do |diff|\n[7] pry(main)*   merge_request.merge_request_diffs.any? { |diff2| diff.head_commit_sha == diff2.head_commit_sha \u0026\u0026 diff.id != diff2.id }  \n[7] pry(main)* end.count  \n=\u003e 52\n```\n\nAs we [discussed](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68549#note_689732240), we suspect that this is a race condition due to its asynchronous process on `MergeRequestDiff` creation.\n\n## Proposal\n\nSince we already know [a pushed sha in `PostReceive`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/git_post_receive.rb#L45), we should be able to pass the SHA to the `MergeRequestDiff` async creation.","state":"closed","created_at":"2021-09-30T02:40:45.610Z","updated_at":"2022-05-24T12:00:24.956Z","closed_at":"2022-05-03T13:29:41.500Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["Deliverable","auto updated","backend","devops::create","group::code review","missed-SLO","missed-deliverable","missed:14.10","priority::4","reliability","section::dev","severity::4","type::bug","wontfix","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/342009","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/342009","notes":"https://gitlab.com/api/v4/projects/278964/issues/342009/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/342009/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#342009","relative":"#342009","full":"gitlab-org/gitlab#342009"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94579517,"iid":341979,"project_id":278964,"title":"Create shared badge component to use in Notes on External Issues","description":"The following discussion from !69932 should be addressed:\n\n- [ ] @tomquirk started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69932#note_690770035): \n\n    \u003e **suggestion**: we can make this badge a reusable component. Let's address this in a follow-up!","state":"closed","created_at":"2021-09-30T00:29:24.226Z","updated_at":"2022-11-22T19:24:10.756Z","closed_at":"2021-11-25T03:38:14.957Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Deliverable","devops::manage","frontend","group::integrations","maintenance::refactor","section::dev","type::maintenance","won't do","workflow::in dev"],"milestone":null,"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341979","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341979","notes":"https://gitlab.com/api/v4/projects/278964/issues/341979/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341979/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341979","relative":"#341979","full":"gitlab-org/gitlab#341979"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94579492,"iid":341978,"project_id":278964,"title":"Create shared alert component to use in External Issues","description":"The following discussion from !69932 should be addressed:\n\n- [x] @tomquirk started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69932#note_690769730): \n\n    \u003e **suggestion**: we can make this alert a reusable component. Lets create a follow-up!","state":"closed","created_at":"2021-09-30T00:27:42.937Z","updated_at":"2022-11-22T19:24:11.562Z","closed_at":"2021-11-05T02:55:38.816Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Stretch","devops::manage","frontend","group::integrations","maintenance::refactor","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341978","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341978","notes":"https://gitlab.com/api/v4/projects/278964/issues/341978/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341978/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341978","relative":"#341978","full":"gitlab-org/gitlab#341978"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94579383,"iid":341977,"project_id":278964,"title":"Dependency Scanning schema is missing required `package` object","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe Dependency Scanning (DS) report schema validates reports that the gitlab backend can't process because `dependency_files[].dependencies[].package` is missing, even though the schema doesn't require that field. See [dependency-scanning-report-format.json](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/v14.0.3/dist/dependency-scanning-report-format.json#L809).\n\nFor example, the Dependency List page displays an error after ingesting a DS report that has no `package` field:\n\n\u003e Error fetching the dependency list. Please check your network connection and try again.\n\nThis is caused by a 500 error in the REST endpoint used by the page (e.g. `https://gitlab.com/thiagocsf-group/demo/cs-with-deps/-/dependencies.json`).\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Further details\n\nThe error can be seen in [Sentry](https://sentry.gitlab.net/gitlab/gitlabcom/issues/2809695/?query=is%3Aunresolved%20dependencies):\n\n```\napp/models/ci/build.rb in block (2 levels) in each_report at line 1141\n\n        def each_report(report_types)\n          job_artifacts_for_types(report_types).each do |report_artifact|\n            report_artifact.each_blob do |blob|\n              yield report_artifact.file_type, blob, report_artifact\n            end\n          end\n        end\n```\n\nThe code depends on `package` object to have a `name` attribute here: [`ee/lib/gitlab/ci/parsers/security/formatters/dependency_list.rb:98`](https://gitlab.com/gitlab-org/gitlab/-/blob/cbc1b00bd6c1af8dd4919a1685b4263bff7f51ff/ee/lib/gitlab/ci/parsers/security/formatters/dependency_list.rb#L98).\n\nBut since there is no `package` object it’s raising an exception. The schema validates because the [`package` is not a required attribute for the items of the `dependencies` list](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/161081ffe01069fd57c38345aec81f7ac912565d/dist/dependency-scanning-report-format.json#L903).\n\nBoth the `dependency_files` array and the `location` object of [src/dependency-scanning-report-format.json](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/v14.0.3/src/dependency-scanning-report-format.json) use the `dependency` object defined in [src/security-report-format.json](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/v14.0.3/src/security-report-format.json#L167), and this object has no required property. Also, `dependency` has a `package` field, but the [definition of `package`](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/v14.0.3/src/security-report-format.json#L292) has no required field either.\n\n### Steps to reproduce\n\n1. Create a security report that passes validation for [`dependency-scanning-report-format.json`](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/161081ffe01069fd57c38345aec81f7ac912565d/dist/dependency-scanning-report-format.json). Here's [an example](https://thiagocsf-group.gitlab.io/-/demo/cs-with-deps/-/jobs/1635437840/artifacts/gl-dependency-scanning-report.json).\n2. Submit the report as a `dependency_scanning` report ([example](https://gitlab.com/thiagocsf-group/demo/cs-with-deps/-/jobs/1635437840))\n3. Go to Dependency List under Security \u0026 Compliance ([still broken example](https://gitlab.com/gitlab-org/protect/demos/container-scanning-test/-/dependencies); [fixed example](https://gitlab.com/thiagocsf-group/demo/cs-with-deps/-/dependencies) - the latter works because the latest pipeline ran with the fixed report)\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n- https://gitlab.com/thiagocsf-group/demo/cs-with-deps/-/dependencies\n- MR where issue was noticed: https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/merge_requests/2592\n- Commit that fixed the report: https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/merge_requests/2592/diffs?commit_id=656b72dd6a45ff20c034cceac108db67202d4dde\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/8e0bcc03d169b0eadcbb450472a237b6/image.png)\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Implementation plan\n\nPTAL at this started MR as it could be reused instead of starting from scratch: https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/merge_requests/114\n\nUpdate the Dependency Scanning JSON schema and declare new required fields:\n1. [x] List `package` and `version` as `required` properties of [`dependency`](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/v14.0.3/src/security-report-format.json#L167).\n1. [x] List `name` as a `required` property of [`package`](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/v14.0.3/src/security-report-format.json#L292).\n1. [ ] ~~Release a new `MODEL` because the new JSON has new required field. See https://gitlab.com/gitlab-org/security-products/security-report-schemas/#classifying-changes~~ This will be done with https://gitlab.com/gitlab-org/gitlab/-/issues/363134\n\nThere's no need to modify the Dependency Scanning analyzers since they all already produced these fields.\n\n/cc @NicoleSchwartz @gonzoyumo","state":"closed","created_at":"2021-09-30T00:20:03.778Z","updated_at":"2022-07-21T12:05:41.185Z","closed_at":"2022-07-18T00:47:46.070Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Deliverable","GitLab Ultimate","backend","devops::secure","group::composition analysis","priority::2","section::sec","security reports","severity::3","type::bug","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":22,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341977","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341977","notes":"https://gitlab.com/api/v4/projects/278964/issues/341977/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341977/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341977","relative":"#341977","full":"gitlab-org/gitlab#341977"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"needs_attention"},{"id":94579006,"iid":341974,"project_id":278964,"title":"GitHub Importer - Faraday::ConnectionFailed: execution expired","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/2787538/?referrer=gitlab_plugin\n\n```\nNet::OpenTimeout: execution expired\n  lib/gitlab/octokit/middleware.rb:13:in `call'\n    @app.call(env)\n  lib/gitlab/github_import/client.rb:86:in `block in pull_request'\n    with_rate_limit { octokit.pull_request(repo_name, iid) }\n  lib/gitlab/github_import/client.rb:158:in `with_rate_limit'\n    yield\n  lib/gitlab/github_import/client.rb:86:in `pull_request'\n    with_rate_limit { octokit.pull_request(repo_name, iid) }\n  lib/gitlab/github_import/importer/pull_requests_merged_by_importer.rb:39:in `block in each_object_to_import'\n    pull_request = client.pull_request(project.import_source, merge_request.iid)\n...\n(125 additional frame(s) were not displayed)\n\nFaraday::ConnectionFailed: execution expired\n\nexecution expired\n```\n\nTop 3 similar `Faraday::ConnectionFailed: execution expired` Errors in Sentry for GitHub importer with different workers:\n\n* ImportPullRequestsReviewsWorker: https://sentry.gitlab.net/gitlab/gitlabcom/issues/2786541/\n* ImportPullRequestsMergedByWorker: https://sentry.gitlab.net/gitlab/gitlabcom/issues/2787538/\n* CleanupContainerRepositoryWorker: https://sentry.gitlab.net/gitlab/gitlabcom/issues/2813144/ \u0026 https://sentry.gitlab.net/gitlab/gitlabcom/issues/2813013/\n\n[Current Errors](https://log.gprd.gitlab.net/app/discover#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-7d,to:now))\u0026_a=(columns:!(json.correlation_id,json.error_class,json.error_message,json.class),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:AWNABDRwNDuQHTm2tH6l,key:json.severity,negate:!t,params:(query:INFO),type:phrase),query:(match_phrase:(json.severity:INFO))),('$state':(store:appState),meta:(alias:!n,disabled:!f,index:AWNABDRwNDuQHTm2tH6l,key:json.class,negate:!t,params:(query:CleanupContainerRepositoryWorker),type:phrase),query:(match_phrase:(json.class:CleanupContainerRepositoryWorker))),('$state':(store:appState),meta:(alias:!n,disabled:!f,index:AWNABDRwNDuQHTm2tH6l,key:json.class,negate:!t,params:(query:DeleteContainerRepositoryWorker),type:phrase),query:(match_phrase:(json.class:DeleteContainerRepositoryWorker)))),index:AWNABDRwNDuQHTm2tH6l,interval:auto,query:(language:kuery,query:'json.error_class:%20%22Faraday::ConnectionFailed%22%20AND%20json.class:%20*GithubImport*'),sort:!()))\n\n[Current Retries](https://log.gprd.gitlab.net/app/discover#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-7d,to:now))\u0026_a=(columns:!(json.correlation_id,json.try_count,json.error.message,json.elapsed_time_s),filters:!(),index:AWNABDRwNDuQHTm2tH6l,interval:auto,query:(language:kuery,query:'json.message:%20%22GitHub%20connection%20retry%20triggered%22'),sort:!()))\n\n# Plan\n\n- [x] Allow GitHub exceptions on `Faraday::ConnectionFailed` to be retried up to 3 times. !74966\n   - This will solve issues if they are transient in nature\n- [x] ~~Allow failed API calls that have been re-tried due to Faraday::ConnectionFailed exceptions to continue to the next request without failing the import.~~\n   - ~~[details](https://gitlab.com/gitlab-org/gitlab/-/issues/341974#note_696529977)~~ Skipping this as the retries seem to resolve this.\n- [x] To be done as part of #342726 ~~Add github_identifiers or similar logging info before a GitHub API call is made so we can capture which record is trying to be retrieved from GitHub.~~\n\n# Status\n\n- [2021-12-06](https://gitlab.com/gitlab-org/gitlab/-/issues/341974#note_753562225)","state":"closed","created_at":"2021-09-30T00:03:04.508Z","updated_at":"2021-12-14T16:50:15.213Z","closed_at":"2021-12-08T16:20:00.743Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["Category:Importers","Importer:GitHub","Next Up","Unplanned","customer","devops::manage","group::import","movingtogitlab","needs investigation","priority::2","reproduced on GitLab.com","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":57,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341974","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341974","notes":"https://gitlab.com/api/v4/projects/278964/issues/341974/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341974/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341974","relative":"#341974","full":"gitlab-org/gitlab#341974"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6618,"epic":{"id":332691,"iid":6618,"title":"Manage:Import Customer Escalations","url":"/groups/gitlab-org/-/epics/6618","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94577880,"iid":341973,"project_id":278964,"title":"Add Test Coverage Data to Project Quality Summary UI","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Problem to solve\n\nAs an app dev team lead, I want to see how quality is trending in my projects, so I can prevent escaped defects and spend time shipping features not bug fixes.\n\n### Additional information / use cases\n\nHypothesis: If we provide high level data from more features to team leads, they will get their team to use the features driving usage.\n\nExperiment: Add data views for data we have about test execution and code coverage, add teaser links that can be tracked for other categories to inform what to develop next.\n\n### Proposal \n\n1st iteration - Display the the Text Coverage metric to the page.\n\nIf no test coverage data is available show the [empty state](https://gitlab.com/gitlab-org/gitlab/-/issues/344587) in this iteration.\n\n**Test coverage specifics**\n\n* Test coverage includes percentage of test coverage based on the latest pipeline results using [single stat component](https://design.gitlab.com/data-visualization/single-stat/)\n* Add question-circle icons to each card header with more information in a popover on what each means (see https://gitlab.com/gitlab-org/gitlab/-/issues/337307/designs/Popover.png for content that lives within it)\n* See project Code Coverage Statistics links to https://gitlab.com/gitlab-org/gitlab/-/graphs/master/charts\n* *The addition of the badge should only be added if https://gitlab.com/gitlab-org/gitlab/-/issues/344231 is completed beforehand. We will only show the percentage if that is not completed.*\n* If test coverage is not set up, show the empty state\n\n#### Future Iterations\n\n* Project Test Execution - Latest % of tests passed for the project on /default using [Single Stat Treatment](https://design.gitlab.com/data-visualization/single-stat). A link to the test summary for the latest pipeline of the default branch.\n* Critical and High Severity Quality Violations - Number of Critical and High violations in the default pipeline's latest report. Link to the Code Quality report view on the latest pipeline on the /default branch.\n* Repeat Failing Tests - Number of tests in the default pipeline that have failed multiple times over the last 14 days. This will link to [the report](https://gitlab.com/gitlab-org/gitlab/-/issues/210250) at some point in the future.\n* Load Testing / Browser Performance -\u003e Link to a landing page / blog post\n* Accessibility / Usability -\u003e Link to a landing page / blog post\n\nAdd this as a tab in Analytics -\u003e CI/CD.\n\n#### Design - Completed\n\nDesign for this issue is documented in https://gitlab.com/gitlab-org/gitlab/-/issues/322018/\n\n\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-09-29T23:10:25.739Z","updated_at":"2021-12-15T23:10:32.766Z","closed_at":"2021-12-15T23:10:32.750Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["Category:Code Testing and Coverage","FY22::Q4","GitLab Ultimate","UX","customer","devops::verify","direction","feature::addition","frontend","group::pipeline insights","internal customer","section::ops","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":2,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341973","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341973","notes":"https://gitlab.com/api/v4/projects/278964/issues/341973/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341973/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341973","relative":"#341973","full":"gitlab-org/gitlab#341973"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5430,"epic":{"id":208244,"iid":5430,"title":"Project Quality Summary MVC","url":"/groups/gitlab-org/-/epics/5430","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94577861,"iid":341972,"project_id":278964,"title":"Project Quality Summary Page without data","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\nAs an app dev team lead, I want to see how quality is trending in my projects, so I can prevent escaped defects and spend time shipping features not bug fixes.\n\n### Additional information / use cases\n\nHypothesis: If we provide high level data from more features to team leads, they will get their team to use the features driving usage.\n\nExperiment: Add data views for data we have about test execution and code coverage, add teaser links that can be tracked for other categories to inform what to develop next.\n\n### User experience goal of this iteration\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\nThe user should be able to navigate to the page that will hold data implemented as part of \u00265430\n\n### Proposal\n\n1. Create a tab on the existing Analytics -\u003e CI/CD page for a Quality Summary page\n1. Create the empty page \n1. Add documentation for the new page (place holder)\n1. Wrap it all in a feature flag?\n\n#### Technical proposal\n\n- Create a new blank vue component that we'll build the project summary in, something like `ee/app/assets/javascripts/project_quality_summary/components/app.vue`\n- Put the new component inside of a new `\u003cgl-tab\u003e` with the title `Project Quality` in [`~/projects/pipelines/charts/components/app.vue`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/projects/pipelines/charts/components/app.vue)\n- Add a new feature flag called `:project_quality_summary`, push it to the frontend, only display the tab/contents if it's enabled\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\nCreate some place holder documentation for the new page about what will be on it, this can be iterated on in later issues in the epic.\n\n### What does success look like, and how can we measure that?\n\n#### Acceptance Criteria\n* The page is created\n    - See https://gitlab.com/gitlab-org/gitlab/-/issues/337307 for design.\n* The page/tab is available when feature flag is set to display it\n* The page/tab is NOT available when the feature flag is set to not display it\n* UX review done cc @gdoyle \n* Page has a breadcrumb to navigate back to other parts of the site\n\n### Available Tier\n\n~\"GitLab Ultimate\" \n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\n* [Design Iteration issue](https://gitlab.com/gitlab-org/gitlab/-/issues/337307)","state":"closed","created_at":"2021-09-29T23:07:51.437Z","updated_at":"2021-11-11T18:54:49.060Z","closed_at":"2021-11-11T18:54:49.043Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["Category:Code Testing and Coverage","GitLab Ultimate","Stretch","UX","devops::verify","direction","documentation","feature::addition","frontend","group::pipeline insights","section::ops","type::feature","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341972","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341972","notes":"https://gitlab.com/api/v4/projects/278964/issues/341972/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341972/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341972","relative":"#341972","full":"gitlab-org/gitlab#341972"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5430,"epic":{"id":208244,"iid":5430,"title":"Project Quality Summary MVC","url":"/groups/gitlab-org/-/epics/5430","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94574072,"iid":341967,"project_id":278964,"title":"[UX] Early activation of cloud license on an instance with active non cloud license","description":"\n## Summary\n\n|  | Description |\n| ------ | ------ |\n| **Original\u0026nbsp;discussion** | `@tyleramos` - _\"We do have some work to do in CustomersDot for early activation of renewed subscriptions that were previously not cloud enabled.  It looks like we are allowing the current non-super-sonics subscription to have cloud licensing enabled (see version 1 of that sub) when it probably shouldn’t be.  I’m actually not quite sure what the preferred experience should be. Perhaps we could show an error if trying to activate the renewed subscription early, but this doesn’t seem like a great experience?  I guess ideally the customer could activate early and see the upcoming renewal license but not actually have it become active.\"_  |\n| **User** | **•** **User 1**: An Admin on the self-managed Instance ([Sidney - Systems Admin](https://about.gitlab.com/handbook/marketing/strategic-marketing/roles-personas/#sidney-systems-administrator))  |\n| **Problem** | A customer with an active legacy license activates a cloud license early (before the current license term has expired), the self-manage instance shows the newly added cloud license as active. |\n| **When** | After successfully adding a cloud license activation code to a SM instance that has a legacy license.  |\n| **Where** | **•** **User 1**: Self-managed instance (subscription page) |\n| **Why** | This will allow for a consistent and clear experience moving from a legacy license to cloud licensing, and starting that cloud license at the correct dates. |\n\n## Proposal \n\nWe should define an experience that allows customer with an active (legacy) license to **add** a new cloud license early, but inform the user when the activation will be effective.","state":"closed","created_at":"2021-09-29T21:09:49.086Z","updated_at":"2022-01-31T15:11:55.660Z","closed_at":"2021-10-18T18:39:43.464Z","closed_by":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"labels":["UX","[deprecated] Accepting merge requests","[deprecated] Category:Provision","auto updated","devops::fulfillment","feature::enhancement","group::provision","section::fulfillment","type::feature","workflow::ready for development"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341967","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341967","notes":"https://gitlab.com/api/v4/projects/278964/issues/341967/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341967/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341967","relative":"#341967","full":"gitlab-org/gitlab#341967"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6823,"epic":{"id":356925,"iid":6823,"title":"Define experience for early activation using cloud on instance with active non cloud license","url":"/groups/gitlab-org/-/epics/6823","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94574065,"iid":341966,"project_id":278964,"title":"Spike: Experience for early activation using cloud on instance with active non cloud license","description":"## Problem\n\nWhen a customer with an active (legacy) license activates a cloud license early (before the current license term has expired), the self-manage instance shows the newly activated cloud license as active.  \n\n## Proposal \n\nWe should define an experience that allows customer with an active (legacy) license to **add** a new cloud license early, but inform the user when the activation will be effective.\n\n## Original Request\n- [x] Define UX for when a user has a legacy license and renews using a cloud license as described in [this](https://gitlab.slack.com/archives/CNA13RPPA/p1629188766144200) conversation\n\n\u003e We do have some work to do in CustomersDot for early activation of renewed subscriptions that were previously not cloud enabled.  It looks like we are allowing the current non-super-sonics subscription to have cloud licensing enabled (see version 1 of that sub) when it probably shouldn’t be.  I’m actually not quite sure what the preferred experience should be. :thinking_face:\nPerhaps we could show an error if trying to activate the renewed subscription early, but this doesn’t seem like a great experience?  I guess ideally the customer could activate early and see the upcoming renewal license but not actually have it become active.  WDYT Teresa Tison?","state":"closed","created_at":"2021-09-29T21:09:32.196Z","updated_at":"2022-02-14T19:00:24.872Z","closed_at":"2022-02-09T22:05:36.314Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","auto updated","backend","devops::fulfillment","feature::enhancement","group::provision","missed:14.7","quad-planning::complete-action","section::fulfillment","type::feature","workflow::in dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341966","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341966","notes":"https://gitlab.com/api/v4/projects/278964/issues/341966/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341966/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341966","relative":"#341966","full":"gitlab-org/gitlab#341966"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6823,"epic":{"id":356925,"iid":6823,"title":"Define experience for early activation using cloud on instance with active non cloud license","url":"/groups/gitlab-org/-/epics/6823","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94573814,"iid":341965,"project_id":278964,"title":"[FE] - Experience for early activation using cloud on instance with active non cloud license","description":"## Problem\n\nWhen a customer with an active (legacy) license activates a cloud license early (before the current license term has expired), the self-manage instance shows the newly activated cloud license as active.  \n\n## Proposal \n\nWe should define an experience that allows customer with an active (legacy) license to **add** a new cloud license early, but inform the user when the activation will be effective.\n\n## Original Request\n- [ ] Define UX for when a user has a legacy license and renews using a cloud license as described in [this](https://gitlab.slack.com/archives/CNA13RPPA/p1629188766144200) conversation\n\n\u003e We do have some work to do in CustomersDot for early activation of renewed subscriptions that were previously not cloud enabled.  It looks like we are allowing the current non-super-sonics subscription to have cloud licensing enabled (see version 1 of that sub) when it probably shouldn’t be.  I’m actually not quite sure what the preferred experience should be. :thinking_face:\nPerhaps we could show an error if trying to activate the renewed subscription early, but this doesn’t seem like a great experience?  I guess ideally the customer could activate early and see the upcoming renewal license but not actually have it become active.  WDYT Teresa Tison?","state":"closed","created_at":"2021-09-29T21:08:35.457Z","updated_at":"2022-02-21T14:17:55.353Z","closed_at":"2022-02-21T14:17:46.122Z","closed_by":{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","auto updated","devops::fulfillment","feature::addition","frontend","group::provision","missed:14.6","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":4961018,"username":"mlunoe","name":"Michael Lunøe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4961018/avatar.png","web_url":"https://gitlab.com/mlunoe"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341965","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341965","notes":"https://gitlab.com/api/v4/projects/278964/issues/341965/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341965/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341965","relative":"#341965","full":"gitlab-org/gitlab#341965"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6823,"epic":{"id":356925,"iid":6823,"title":"Define experience for early activation using cloud on instance with active non cloud license","url":"/groups/gitlab-org/-/epics/6823","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94573167,"iid":341963,"project_id":278964,"title":"Refactor the Retry Build Service to use a ServiceResponse object","description":"## Summary\n\nCurrently in the `Ci::RetryPipelineService` service is not possible to generate exceptions as\nit could interrupt all of the builds as soon as one build throws one\n\n\n## Improvements\n\nThe RetryBuildService should use a [ServiceResponse](https://gitlab.com/gitlab-org/gitlab/blob/master/app/services/service_response.rb#L0-1) object some of the advantages described by Fabio in this [comment](https://gitlab.com/gitlab-org/gitlab/-/issues/331361#note_685016351) are:\n\n1. consistent experience for the caller of this service\n1. all errors are returned in the same way. Simplifies API/GraphQL/Controller code.\n1. failures are explicit (today are implicit or abrupt through exceptions)\n1. improves black box testing in our specs\n\n\n## Risks\n\n\u003c!--\nPlease list features that can break because of this refactoring and how you intend to solve that.\n--\u003e\n\n## Involved components\n\n- https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/ci/retry_build_service.rb\n- https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/services/ee/ci/retry_build_service.rb\n\n## Optional: Intended side effects\n\nSome caveats of the refactor are the following\n\n- Specs could be checked against the `response.success?` method\n- Integration specs might fail as we depend on the `Gitlab::Access::AccessDeniedError` exception if there's no sufficient permissions\n\n## proposed solution\n\n```ruby\ndef execute(buid)\n  response = reprocess!(build)\n  return response if response.error?\n\n  new_build = response.payload\n  check_assignable_runner!(new_build)\n\n  return ServiceResponse.error(message: 'build failed', payload: new_build) if new_build.failed?\n\n  Gitlab::OptimisticLocking.retry_lock(new_build, name: 'retry_build', \u0026:enqueue)\n  AfterRequeueJobService.new(project, current_user).execute(build)\n\n  ::MergeRequests::AddTodoWhenBuildFailsService\n    .new(project: project, current_user: current_user)\n    .close(new_build)\n\n  ServiceResponse.success(payload: new_build)\nend\n\ndef reprocess!(build)\n  raise TypeError unless build.instance_of?(Ci::Build)\n  \n  unless build.retryable?\n    return ServiceResponse.error(message: 'build can not be retried', payload: build)\n  end\n\n  unless can?(current_user, :update_build, build)\n    return ServiceResponse.error(message: 'insufficient permissions to retry the build', payload: build)\n  end\n\n  new_build = clone_build(build)\n  ::Ci::Pipelines::AddJobService.new(build.pipeline).execute!(new_build) do |job|\n    BulkInsertableAssociations.with_bulk_insert do\n      job.save!\n    end\n  end\n  build.reset # refresh the data to get new values of `retried` and `processed`.\n\n  ServiceResponse.success(payload: new_build)\nend\n\n```","state":"closed","created_at":"2021-09-29T20:56:53.718Z","updated_at":"2022-03-08T13:54:45.469Z","closed_at":"2022-03-07T15:23:57.360Z","closed_by":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"labels":["Category:Continuous Integration","Seeking community contributions","Verify::P3","[deprecated] Accepting merge requests","backend","devops::verify","group::pipeline execution","section::ops","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341963","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341963","notes":"https://gitlab.com/api/v4/projects/278964/issues/341963/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341963/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/347493"},"references":{"short":"#341963","relative":"#341963","full":"gitlab-org/gitlab#341963"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94570937,"iid":341962,"project_id":278964,"title":"Allow user to set the rule name to be displayed in the MR widget","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nCurrently scan finding rules have been displayed sequentially as the following:\n![Screen_Shot_2021-09-27_at_4.22.05_PM](https://gitlab.com/gitlab-org/gitlab/uploads/f11085533f75bad9346deb0f6f2263e0/Screen_Shot_2021-09-27_at_4.22.05_PM.png)\n\n## Proposal\n\nBecause the `rules` are actually joined together by `or` clauses, instead of representing this as three separate items that require approval, we should actually show this in the UI as just one item that requires approval.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [ ] ~backend either changed the backend to only consider one scan_finding per policy  \nor  \n- [ ] ~frontend group scan_finding rules per policy displaying only one in the MR widget and footnote  \n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-09-29T20:22:42.823Z","updated_at":"2021-12-15T22:50:07.315Z","closed_at":"2021-11-30T23:12:34.067Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Security Policy Management","Enterprise Edition","GitLab Ultimate","UX","backend","devops::govern","direction","group::security policies","missed:14.4","missed:14.5","section::sec","secure merge request approval","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341962","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341962","notes":"https://gitlab.com/api/v4/projects/278964/issues/341962/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341962/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341962","relative":"#341962","full":"gitlab-org/gitlab#341962"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6820,"epic":{"id":355873,"iid":6820,"title":"Enhancing `scan_result_policy` from its initial implementation","url":"/groups/gitlab-org/-/epics/6820","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94570776,"iid":341961,"project_id":278964,"title":"Rules with report_type scan_finding shouldn't be displayed under merge request approvals","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nRules with report_type scan_finding shouldn't be listed under merge request approvals section (project settings page):\n\n![Screen_Shot_2021-09-29_at_4.39.09_PM](https://gitlab.com/gitlab-org/gitlab/uploads/8cbfcbccc5db4fe8afacd17b7f9a1aa0/Screen_Shot_2021-09-29_at_4.39.09_PM.png)\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [x] ~backend remove project approval rules with report_type equals to `scan_finding` from the visible approval rules.\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-09-29T20:21:39.269Z","updated_at":"2021-11-22T03:21:57.666Z","closed_at":"2021-11-18T20:29:35.670Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Security Policy Management","Enterprise Edition","GitLab Ultimate","backend","devops::govern","direction","group::security policies","missed:14.4","section::sec","secure merge request approval","type::feature","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341961","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341961","notes":"https://gitlab.com/api/v4/projects/278964/issues/341961/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341961/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341961","relative":"#341961","full":"gitlab-org/gitlab#341961"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6604,"epic":{"id":331936,"iid":6604,"title":"Add `scan_result_policy` as an approval rule functionality","url":"/groups/gitlab-org/-/epics/6604","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94570145,"iid":341958,"project_id":278964,"title":"Determine if the full_path or importer should be used for import prometheus tracking","description":"## Question\n\nThe following discussion from !70012 should be addressed:\n\n- [ ] @dstull started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70012#note_684605111):  (+2 comments)\n\n    \u003e I was able to consolidate now into using this already existing method - but I don't know about this block - I couldn't really track down by one is `importer: importer` and GitHub is `project: project.full_path` - is it about uniqueness/ability to track them in Prometheus - is one wrong/can we consolidate on just one here?\n\n## Conclusion\n\nAfter gathering more information about how the metric works (https://gitlab.com/gitlab-com/runbooks/-/merge_requests/4082#note_733191118), it's clear now that this metric should not be associated with the project's full_path:\n\n\u003e Since `project.full_path` is user provided information, this means that the cardinality of this metric is not bound and we can't initialize the metric properly. Because the metric isn't initialized and the project is included we can never track the rate past 1 for each counter in the histogram: A histogram is a series of counters, in total there are `number of buckets * number of label combinations` counters that Prometheus uses to calculate the quantiles. For that, we're using a [rate](https://prometheus.io/docs/prometheus/latest/querying/functions/#rate), which is the increase of a counter in seconds.","state":"closed","created_at":"2021-09-29T20:05:56.320Z","updated_at":"2021-11-19T12:00:44.633Z","closed_at":"2021-11-19T12:00:44.622Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Next Up","auto updated","backend","devops::manage","group::import","section::dev","type::bug","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341958","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341958","notes":"https://gitlab.com/api/v4/projects/278964/issues/341958/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341958/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341958","relative":"#341958","full":"gitlab-org/gitlab#341958"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6618,"epic":{"id":332691,"iid":6618,"title":"Manage:Import Customer Escalations","url":"/groups/gitlab-org/-/epics/6618","group_id":9970,"human_readable_end_date":"Dec 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94569762,"iid":341957,"project_id":278964,"title":"UX/UI considerations for VET False Positives","description":"### Problem to solve\n\nWith the new creation of VET's `False positive` label, we need to consider how we should handle vulnerability findings with the `False positive` flag in the MR.\n\n@andyvolpe and I hypothesize that security pros would want to still manually verify that it is, indeed, a FP, and that it would still be valuable to bring these vulnerability findings into the Vulnerability Report. It MIGHT be the case that they want to verify and then if they agree with the logic in identifying FPs, i.e. they build trust with the tool, they may want to ability to hide from the MR or even auto-dismiss them later on. \n\nConsiderations:\n\n- **Show/ hide False Positives**: Do users want the ability to hide False Positives from the MR altogether? Would that be at a policy level or from within the MR? How might this affect the inline findings once we've implemented that? (I would assume that the decision taken to hide or show them within the security widget would also apply to the inline findings in the Changes tab).\n   - We're looking at adding a [filter to hide or show them on the Vulnerability Report](https://gitlab.com/gitlab-org/gitlab/-/issues/341953), but what about the data included in the Security Dashboard?\n\n\u003cl\u003e\u003c/l\u003e\n\n- **Vulnerability-Check rules**: Should Vulnerability-Check block the MR from merging if, say, a Critical vulnerability has been identified as a false positive? The user may want to set this as an option within the policy, e.g. a toggle for \"Do not block Critical/ High/ Unknown Vulnerabilities if identified as `False Positive`. Related to [Customize the type of vulnerability in regards to the default branch (e.g., main) for the approval](https://gitlab.com/gitlab-org/gitlab/-/issues/335336) cc @zmartins @sam.white @cam.x \n\n- **Auto-dismissal of False Positives**: How might we give users the option to auto-dismiss False Positives? What should be the default behavior here?\n\n- **Likelihood percentages**: VET MVC is binary but in the future [may have thresholds](https://gitlab.com/gitlab-org/gitlab/-/issues/341801#note_689319293) or likelihood percentages. How and where does this affect the UI? Consider potentially incorporating this into policies as well, e.g. \"Auto-dismiss if False Positive is above 95% likelihood\"\n\n### Proposed changes \n\n- Add ability for users to include VET FPs in the auto-dismiss rule (opt-in; default to no auto-dismissal)\n\n- Add ability for users to include False Positives in Vulnerability-Check (opt-out; default to excluding any False Positive that matches the criteria (Critical/ High/ Unknown to default branch) from the rule) \n\n### About VET\n\n1. SAST Analyzer detects vulnerabilities and generates a security report.\n2. VET analyzer works on the generated security report and augments false-positive information in the same report.\n3. Rails backend stores the security report information in the database.\n4. Frontend renders the UI based on GraphQL api call\n\nThe `false-positive` flag identifier is applied just after the security report is generated by the SAST analyzer (for now, only Brakeman).\n\n\ncc @matt_wilson @tmccaslin @theoretick @farias-gl @ssarka @lkerr @NicoleSchwartz @derekferguson @gitlab-com/gitlab-ux/secure-protect-ux","state":"closed","created_at":"2021-09-29T19:53:23.500Z","updated_at":"2021-09-30T15:24:56.649Z","closed_at":"2021-09-30T15:24:56.302Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:Security Policy Management","UX","UX Secure \u0026 Govern Team","auto updated","devops::govern","direction","group::security policies","section::sec","secure merge request approval","type::feature","workflow::ready for design"],"milestone":null,"assignees":[{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"}],"author":{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},"type":"ISSUE","assignee":{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341957","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341957","notes":"https://gitlab.com/api/v4/projects/278964/issues/341957/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341957/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341957","relative":"#341957","full":"gitlab-org/gitlab#341957"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94567169,"iid":341953,"project_id":278964,"title":"Vulnerability Report: Add false positive to Activity filter","description":"### Problem to solve\n\nWith VET adding a `False Positive` identifier, this is likely something that security pros will want to filter by on the Vulnerability Report. \n\n### Persona\n\n[Sam, Security Analyst](https://about.gitlab.com/handbook/marketing/strategic-marketing/roles-personas/#sam-security-analyst)\n\n### User stories (scenarios)\n\nAs a security analyst, I want to see all vulnerabilities labeled as `false positive` so that I can confirm that it won't pose a risk to my company's application.\n\nAs a security analyst, I want to filter OUT all vulnerabilities labeled as `false positive` so that I can view vulnerabilities that are confirmed true positives and thus pose a real risk to my company's application.\n\n### Proposed solution\n\nTBD\n\nInfluenced by decisions in [Allow filtering vulnerability dashboard by non-remediated activity](https://gitlab.com/gitlab-org/gitlab/-/issues/330248)","state":"closed","created_at":"2021-09-29T19:02:12.533Z","updated_at":"2021-11-15T03:21:43.320Z","closed_at":"2021-11-12T23:02:36.309Z","closed_by":{"id":4708748,"username":"matt_wilson","name":"Matt Wilson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4708748/avatar.png","web_url":"https://gitlab.com/matt_wilson"},"labels":["Category:Vulnerability Management","UX","auto updated","component:filter","design::ideation","devops::secure","feature::addition","group::threat insights","section::sec","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"}],"author":{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},"type":"ISSUE","assignee":{"id":4415483,"username":"beckalippert","name":"Becka Lippert","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4415483/avatar.png","web_url":"https://gitlab.com/beckalippert"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341953","notes":"https://gitlab.com/api/v4/projects/278964/issues/341953/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341953/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341953","relative":"#341953","full":"gitlab-org/gitlab#341953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3308,"epic":{"id":53573,"iid":3308,"title":"Improved Visibility and Efficiency","url":"/groups/gitlab-org/-/epics/3308","group_id":9970},"iteration":null,"health_status":null},{"id":94562905,"iid":341949,"project_id":278964,"title":"In-app awareness of Registration Features - Feature based CTA","description":"## Summary\n\nFrom [proposed idea](https://gitlab.com/groups/gitlab-org/-/epics/6822#proposed-ideas) 1 in the parent epic, this issue will tackle the idea of presenting in-app messaging for paid features associated with [Registration Features](https://docs.gitlab.com/ee/development/service_ping/index.html#registration-features-program) when [Service Ping](https://docs.gitlab.com/ee/development/service_ping) is not enabled.\n\n## Registration Feature - Feature Set\n\n1. [x] [Email from GitLab](https://docs.gitlab.com/ee/tools/email.html) [MVC](https://gitlab.com/groups/gitlab-org/-/epics/6144)\n1. [x] Limit project size at a global, group and project level | [Feature doc](https://docs.gitlab.com/ee/user/admin_area/settings/account_and_limit_settings.html#repository-size-limit)| [Iteration 2 Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/341442)\n1. [x] Restrict group access by IP address | [Feature doc](https://docs.gitlab.com/ee/user/group/#restrict-group-access-by-ip-address)| [Iteration 2 Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/341442)\n\n## Success Criteria\n\n**For self-managed instances with Service Ping disabled**:\n1. When an Admin user lands on a page where one of the features from the [Registration Feature Set](https://gitlab.com/gitlab-org/gitlab/-/issues/341949#registration-feature-feature-set) lives, we should draw their attention to the inaccessible feature (pop-up or sees a :question: they can hover over) \n1. For EE instances, the message should read:\n     1. _Want to use this feature for free? Enable Service Ping and register for this feature. Read more about the [Registration Features Program](https://docs.gitlab.com/ee/development/service_ping/index.html#registration-features-program)_\n     1. Where the \"Enable Service Ping and register for this feature\" links them to the appropriate section in admin settings.\n1. For CE instances, the message should read:\n     1. _Want to use this feature for free? Read more about the [Registration Features Program](https://docs.gitlab.com/ee/development/service_ping/index.html#registration-features-program)_\n\n### Criteria to show the CTA\n\nThe offer shouldn't be presented to **licensed instances** because they already have the paid features available, so the callout (to enable features they already have) doesn't make sense. The decision on whether to show the offer is on the true/false of whether Service Ping is enabled, not on whether Registration Features is enabled.\n\n| Instance Type | License Type | Service Ping Setting | Expected Behavior |\n| --- | --- | --- | --- |\n| CE | Unlicensed | Off | Link to docs |\n| EE | Unlicensed | Off | Link to admin setting |\n| EE | Licensed | Off | Do not present offer |\n| CE | Unlicensed | On | Do not present offer |\n| EE | Unlicensed | On | Do not present offer |\n| EE | Licensed | On | Do not present offer |\n\n## Additional Reference\n\n1. First glance breakdown conversation between BE \u0026 FE: https://gitlab.com/groups/gitlab-org/-/epics/6822#note_690515750\n1. Notice this :point_down_tone2: \"feature is locked\" CTA in production for Epics on a free project - I wonder if we can reuse this experience? Perhaps our text can be \"Use this feature free!\"\n\n\u003cdetails\u003e\u003csummary\u003eScreenshot\u003c/summary\u003e\n\n![Screen_Shot_2021-10-19_at_9.37.51_AM](/uploads/d0926ecdbd83389c0f4c0e7f018d19ef/Screen_Shot_2021-10-19_at_9.37.51_AM.png)\n\n\u003c/details\u003e\n\n## Designs\n\nThe CTA is always hidden if Service Ping is enabled.\n\n### Repo Size Limit\n\n\u003cdetails\u003e\u003csummary\u003eScreenshots\u003c/summary\u003e\n\n| Before (hidden) | After (CE) | After (EE) |\n| ------ | ------ | - |\n| ![image](/uploads/b140604df444611e35cf91d05556eebf/image.png) | ![image](/uploads/291a08ec458f93a07023a1e5a06a765c/image.png) | ![image](/uploads/d3ab816dbeac2fd6d6500ff6c87f04d5/image.png) |\n\n\u003c/details\u003e\n\n### Group Access by IP\n\n\u003cdetails\u003e\u003csummary\u003eScreenshots\u003c/summary\u003e\n\n\n| Before (hidden) | After (CE) | After (EE) |\n| ------ | ------ | - |\n| ![image](/uploads/9066f6791d591ce9974200b2aa6a3818/image.png) | ![image](/uploads/ef500aff6cacb569006eab6fe71b070b/image.png) | ![image](/uploads/3960330a54c26cee3b0098ced3d2bd01/image.png) |\n\n\u003c/details\u003e\n\n### Email from GitLab\n\n_Utilizing a banner approach due to [the complexity](https://gitlab.com/gitlab-org/gitlab/-/issues/341949#note_727350928) of the placement of the button._\n\n\u003cdetails\u003e\u003csummary\u003eScreenshots\u003c/summary\u003e\n\n| Before (hidden) | After (CE) | After (EE) |\n| ---- | ------ | - |\n![image](/uploads/b4dc53199516e8f4171b878aa8b329e8/image.png) | ![image](/uploads/2853662caf218952df724bb783a2549d/image.png) | ![image](/uploads/488a828474363d119267be18b9f2760d/image.png) |\n\n\n\u003c/details\u003e","state":"closed","created_at":"2021-09-29T17:17:38.127Z","updated_at":"2022-01-18T07:02:52.763Z","closed_at":"2022-01-13T18:06:32.048Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["Category:Product Analytics","Deliverable","devops::growth","frontend","group::product intelligence","missed-deliverable","missed:14.5","missed:14.6","section::growth","type::feature","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":24,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341949","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341949","notes":"https://gitlab.com/api/v4/projects/278964/issues/341949/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341949/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341949","relative":"#341949","full":"gitlab-org/gitlab#341949"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6822,"epic":{"id":356771,"iid":6822,"title":"In-app awareness of Registration Features","url":"/groups/gitlab-org/-/epics/6822","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94559614,"iid":341939,"project_id":278964,"title":"Unable to delete container tags that have \"Invalid tag: missing manifest digest\"","description":"### Summary\n\nUnable to delete container tags that have \"missing manifest digest\". The remove tag button is grey'ed out. \n\nMore problematic is when attempting to delete the entire image repository, the repository is scheduled for deletion then after some time, the invalid container tags remain. \n\nThese invalid tags cannot be deleted either one-by-one or by deleting the entire image repository. This has follow-on effects, like being unable to move the repository to another namespace. I would not like to delete and recreate the entire repository as a workaround.\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\nCreate a Dockerfile. Build and push to Gitlab Registry using `docker buildx`\n\n```\nbuild-container:\n  stage: build\n  image: \u003c use a base image with docker installed + buildx plugin installed \u003e\n  services:\n    - docker:stable-dind\n  script:\n    - export IMAGE_BASE=$CI_REGISTRY_IMAGE\n    - export IMAGE_CACHE_TAG=$CI_COMMIT_REF_NAME\n    - echo $CI_REGISTRY_PASSWORD | docker login -u $CI_REGISTRY_USER $CI_REGISTRY --password-stdin\n    - docker buildx create --use  \n    - docker buildx build\n      --tag $CI_REGISTRY_IMAGE:$CI_COMMIT_SHORT_SHA\n      --tag $IMAGE_BASE:$IMAGE_CACHE_TAG\n      --cache-from=type=registry,ref=$IMAGE_BASE:$IMAGE_CACHE_TAG\n      --cache-to=type=registry,ref=$IMAGE_BASE:$IMAGE_CACHE_TAG\n      --push\n      .\n```\n\n1. The image tags options are greyed out, there's no way to delete them.\n2. Then try to delete the entire image repository\n3. Expect that the entire image repository is deleted and no tags remain. Actually, tags remain.\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Possible fixes\n\nThe root cause for the UI issue you're seeing is https://gitlab.com/gitlab-org/gitlab/-/issues/232815.\n\nRegardless of the \"invalid\" message on the UI, nothing should stop us from deleting this tag through the UI/API. A tag delete request against the registry will definitely succeed.\n\nSo I think we can do the following:\n\n1. If a tag is deemed as invalid (for whatever reason), we should not gray out the delete option for that tag in the UI;\n1. When deleting a tag (either through the UI or API), the backend (Rails) should not halt if unable to fetch/validate the underlying image manifest. It should handle such exceptions gracefully and call the container registry tag `delete` endpoint.\n\n### Proposal\n\nThis issue will focus on the backend work to ensure that when deleting a tag (either through the UI or API), the backend (Rails) should not halt if unable to fetch/validate the underlying image manifest. It should handle such exceptions gracefully and call the container registry tag `delete` endpoint.\n\nThe follow-up issue, https://gitlab.com/gitlab-org/gitlab/-/issues/342866 will be scheduled once this issue is complete. \n\n### Example Project\n\nProject ID: 21998547\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n1. The image tags options are greyed out, there's no way to delete them.\n2. Then try to delete the entire image repository\n3. Tags marked \"missing manifest digest\" remain.\n\n### What is the expected *correct* behavior?\n\n1. Be able to delete invalid tags from the interface.\n1. Or be able to delete the entire image repository and no tags remain.\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/5d5e85b8e753d5c340192fbd9684c971/image.png)\n\n![image](/uploads/acdb90d8caf1b5932f94f57cc0a5aee5/image.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\nGitlab.com, GitLab Enterprise Edition 14.4.0-pre 4190ff47b10 \n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e","state":"closed","created_at":"2021-09-29T16:06:04.000Z","updated_at":"2022-10-18T10:06:50.241Z","closed_at":"2022-01-06T23:56:56.589Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Container Registry","Deliverable","Package:P1","backend","devops::package","frontend","frontend-weight::1","group::package registry","priority::2","ruby","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":5756270,"username":"vicken.papaya","name":"Vicken Simonian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5756270/avatar.png","web_url":"https://gitlab.com/vicken.papaya"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":36,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341939","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341939","notes":"https://gitlab.com/api/v4/projects/278964/issues/341939/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341939/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341939","relative":"#341939","full":"gitlab-org/gitlab#341939"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":94555804,"iid":341936,"project_id":278964,"title":"[Feature Flag] Enable ci_optimize_project_records_destruction","description":"## Summary\n\nThis issue is to rollout [optimized destruction of project-related CI records](https://gitlab.com/gitlab-org/gitlab/-/issues/24644) on production,\nthat is currently behind the `ci_optimize_project_records_destruction` feature flag.\n\nWe have added a `deleted_count` to the AppLogger that should be `0` should everything go well. This piece of code should be removed as part of the cleanup of this rollout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/342925\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline_execution`\n- Best individual to reach out to: @drew or @lauraX \n- PM: @jreporter \n\n## Stakeholders\n\nThis feature is also a step toward removing the `dependent: :destroy` association from `Project` to `Ci::Build`\n\n\n## Testing Groups/Projects/Users\n\n- `gitlab-org/gitlab` project\n- `gitlab-org/gitlab-foss` project\n- `gitlab-com/www-gitlab-com` project\n- `gitlab-org`/`gitlab-com` groups\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status 2ceeb0dd9c26a374be00c7c1274ecef768e401b0`\n10/19:\n- [x] Enable the feature globally on non-production environments.\n    - [X] `/chatops run feature set ci_optimize_project_records_destruction true --dev`\n    - [x] `/chatops run feature set ci_optimize_project_records_destruction true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [X] 10/19 (AM | UTC +2): Ensure that the feature MRs have been deployed to both production and canary.\n    - [X] `/chatops run auto_deploy status 2ceeb0dd9c26a374be00c7c1274ecef768e401b0`\n- [X] 10/19 (AM | UTC +2): Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n- [X] 10/19 (AM | UTC +2): Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n\n### Global rollout on production\n\n- [x] 10/19 (PM | UTC +2): Confirm the feature flag is enabled on `staging` without incident\n- [x] Roll out the feature to targeted testing projects/groups first\n    - [x] 10/19 (PM | UTC +2): `/chatops run feature set --project=gitlab-org/gitlab ci_optimize_project_records_destruction true`\n    - [x] 10/19 (PM | UTC +2): `/chatops run feature set --project=gitlab-org/gitlab-foss ci_optimize_project_records_destruction true`\n    - [x] 10/20 (AM | UTC +2): `/chatops run feature set --project=gitlab-com/www-gitlab-com ci_optimize_project_records_destruction true`\n    - [x] 10/20 (AM | UTC +2): `/chatops run feature set ci_optimize_project_records_destruction 25 --actors`\n    - [x] 10/20 (PM | UTC +2): `/chatops run feature set ci_optimize_project_records_destruction 50 --actors`\n    - [x] 10/21 (AM | UTC +2): `/chatops run feature set ci_optimize_project_records_destruction 75 --actors`\n    - [x] 10/21 (PM | UTC +2): `/chatops run feature set ci_optimize_project_records_destruction 100 --actors`\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] 10/22 (AM | UTC +2): Enable the feature globally on production environment. `/chatops run feature set ci_optimize_project_records_destruction true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n- [x] Create a merge request to remove `ci_optimize_project_records_destruction` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete ci_optimize_project_records_destruction --dev`\n    - [x] `/chatops run feature delete ci_optimize_project_records_destruction --staging`\n    - [x] `/chatops run feature delete ci_optimize_project_records_destruction`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_optimize_project_records_destruction false\n```\n\n### Observability\n\n[Kibana](https://log.gprd.gitlab.net/goto/62a9f3081330b5f8d831e5d0251ca479)  \n[Kibana - AppLogger](https://log.gprd.gitlab.net/app/discover#/?_g=h@4a87d06\u0026_a=h@02cdab1)","state":"closed","created_at":"2021-09-29T15:23:25.082Z","updated_at":"2021-12-29T21:11:47.404Z","closed_at":"2021-12-23T17:43:04.211Z","closed_by":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"labels":["Category:Continuous Integration","Engineering Allocation","Verify::P1","auto updated","backend","devops::verify","feature flag","group::pipeline execution","missed:14.4","priority::1","section::ops","severity::1","type::maintenance","workflow::verification"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341936","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":36,"completed_count":35},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"35 of 36 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341936","notes":"https://gitlab.com/api/v4/projects/278964/issues/341936/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341936/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341936","relative":"#341936","full":"gitlab-org/gitlab#341936"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7311,"epic":{"id":407355,"iid":7311,"title":"Artifact Expiration Merge Request and Feature Flag Rollout","url":"/groups/gitlab-org/-/epics/7311","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94552506,"iid":341932,"project_id":278964,"title":"FE: Adjustments to the drawer for Scan Execution policies to align it with the designs for Scan Results policies","description":"### Summary\n\nThe designs for the [Scan Execution policy drawer](https://gitlab.com/groups/gitlab-org/-/uploads/35b036dbfc9d6fffb925ca910a370bfd/drawer-details.png) do not match the designs for the [Scan Results policy drawer](https://gitlab.com/gitlab-org/gitlab/-/issues/334848/designs/policies-states-drawer-open.png). The overall styles should be similar even if some \n\n### Design \n\n- Design issue: https://gitlab.com/gitlab-org/gitlab/-/issues/339368\n- Figma: https://www.figma.com/file/rHSC5J4RmwYivZLwakENCX/Policy-List?node-id=1129%3A18342\n\n![drawer](https://gitlab.com/gitlab-org/gitlab/uploads/b6c2848a92f66d0a6160f5a8653fe900/drawer.png)\n\n### Implementation\n\n- [x] ~frontend update [base_policy_drawer component](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_drawer/base_policy.vue) to create the base structure for the drawer that can be reused for multiple policy types\n- [x] ~frontend update [scan_execution_drawer](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_drawer/scan_execution_policy.vue) and [network_policy_drawer](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_drawer/cilium_network_policy.vue) to use the updated [base_policy_drawer component](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_drawer/base_policy.vue)\n- [x] ~frontend create a human-readable summary of scan execution policies by updating `ee/app/assets/javascripts/threat_monitoring/components/policy_editor/scan_execution_policy/lib/from_yaml.js` to output a `summary` property that can be used in the drawer, perhaps use some logic from https://gitlab.com/gitlab-org/protect/demos/policy-mock/-/blob/master/public/scanning-policy.js#L41\n- [x] ~frontend update `Policy Summary` section to match designs\n- [x] ~frontend ~~update `Policy Type` section to display badge for what policies are in it (i.e. dast, container scanning, etcetera)~~ only for scan result policies, which are not in scope for this work\n- [x] ~frontend update `Status` section to match designs\n- [x] ~frontend ~~add `pending` badge and information to `Status` section~~ moved to https://gitlab.com/gitlab-org/gitlab/-/issues/352773+\n- [x] ~frontend ~~update `Change History` section to match designs~~ moved to https://gitlab.com/gitlab-org/gitlab/-/issues/352794\n- [x] ~frontend ~~update `Latest Scan` section to match designs~~ moved to https://gitlab.com/gitlab-org/gitlab/-/issues/352795\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-09-29T14:36:44.994Z","updated_at":"2022-03-30T17:39:35.671Z","closed_at":"2022-03-02T21:20:46.308Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Security Policy Management","Deliverable","Enterprise Edition","GitLab Ultimate","auto updated","devops::govern","direction","frontend","frontend-weight::5","group::security policies","missed-deliverable","missed:14.7","section::sec","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341932","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":9},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341932","notes":"https://gitlab.com/api/v4/projects/278964/issues/341932/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341932/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341932","relative":"#341932","full":"gitlab-org/gitlab#341932"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6611,"epic":{"id":332582,"iid":6611,"title":"Follow-on Improvements for the Security Policy Editor","url":"/groups/gitlab-org/-/epics/6611","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94545206,"iid":341922,"project_id":278964,"title":"Update Documentation to add 'read_repository' scope requirement for project migration","description":"The following discussion from !70326 should be addressed:\n\n- [ ] @georgekoltsov started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70326#note_690043521): \n\n    \u003e Additionally, this creates a requirement for provided api token to now have 2 scopes instead of 1. We now need to have `api` \u0026 `read_repository` scopes. Because of that, we need to document this change. I don't think we currently specify any required scope in our documentation https://docs.gitlab.com/ee/user/group/import/\n    \u003e \n    \u003e Because project migration is behind feature flag, we don't need to update the documentation now. May I ask you to create a follow up to update docs to reflect on the new required scope?","state":"closed","created_at":"2021-09-29T12:54:07.182Z","updated_at":"2021-10-28T21:22:16.518Z","closed_at":"2021-10-11T13:48:38.212Z","closed_by":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"labels":["Category:Importers","Importer:GitLab Migration","auto updated","devops::manage","documentation","group::import","milestone::p3","reliability","section::dev","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341922","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341922","notes":"https://gitlab.com/api/v4/projects/278964/issues/341922/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341922/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341922","relative":"#341922","full":"gitlab-org/gitlab#341922"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6681,"epic":{"id":342210,"iid":6681,"title":"GitLab Migration - Migrate Projects MVC","url":"/groups/gitlab-org/-/epics/6681","group_id":9970,"human_readable_end_date":"Dec 7, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94541636,"iid":341916,"project_id":278964,"title":"Merging is possible even when dependencies are still open, but merge check fails","description":"On MRs with unmerged dependencies the \"Merge\" button is available, but the process then errors out with a generic \"Merge failed...\" message. \n\n![Merge_failed](/uploads/ce9f40f76aa639a15ff11a6760ab1566/Merge_failed.mp4)\n\n### Proposal \n\nWe should probably deactivate the \"Merge\" button when the MR has dependencies that are not merged yet.","state":"closed","created_at":"2021-09-29T12:02:56.875Z","updated_at":"2022-06-22T15:00:51.585Z","closed_at":"2022-03-07T15:37:55.670Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","SUS::Impacting","UX","approaching-SLO","devops::create","frontend","group::code review","merge requests","missed-SLO","priority::1","quad-planning::complete-action","section::dev","severity::2","type::bug","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":3688647,"username":"mvanremmerden","name":"Marcel van Remmerden","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4f46ed49b87eab9e74f20e0e25b36d0f?s=80\u0026d=identicon","web_url":"https://gitlab.com/mvanremmerden"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341916","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341916","notes":"https://gitlab.com/api/v4/projects/278964/issues/341916/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341916/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341916","relative":"#341916","full":"gitlab-org/gitlab#341916"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94539168,"iid":341912,"project_id":278964,"title":"Move to teleport for generating service ping for GitLab.com","description":"## Summary\n\nMove to teleport for generating service ping for GitLab.com\n\n## Why?\n\n1. With using teleport we can have all team members generating service ping\n1. Workload will be spread across the team \n1. Less stressful, as we are having read-only access\n1. Remove the access to rails console production\n\n## Proposal\n\n- [x] Add new guide on how we can use teleport for generating service ping for GitLab.com\n- [x] Remove the writing part from [generating service ping only for GitLab.com](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/service_ping/submit_service.rb). There are 2 cases identified  \n  - raw_usage_data record This information is not used.\n  - ~~devops_report - Check any usage of this information for GitLab.com~~\n- [x] Add an option to skip DevOps [report generation](https://gitlab.com/gitlab-org/gitlab/-/issues/341912#note_729371039)  \n\n## References\n\n- [How to connect to teleport](https://gitlab.com/gitlab-com/runbooks/-/blob/master/docs/Teleport/Connect_to_Rails_Console_via_Teleport.md)\n- https://goteleport.com/docs/","state":"closed","created_at":"2021-09-29T11:14:45.505Z","updated_at":"2022-03-16T11:36:40.922Z","closed_at":"2021-12-06T08:31:31.041Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["backend","devops::growth","group::product intelligence","maintenance::workflow","missed:14.5","section::growth","type::maintenance","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341912","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341912","notes":"https://gitlab.com/api/v4/projects/278964/issues/341912/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341912/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341912","relative":"#341912","full":"gitlab-org/gitlab#341912"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94539100,"iid":341911,"project_id":278964,"title":"Introduce a new BaseEdge class for GraphQL","description":"### Background\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70692 we introduced a custom implementation of an `Edge` class, `RunnerWebUrlEdge` this class extends the `GraphQL::Types::Relay::BaseEdge`.\n\n### Problem\n\nThis class does not implement authorization like [`Types::BaseObject`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/graphql/types/base_object.rb#L1) currently does. So adding `:authorize` to edge classes does not have any effect.\n\n### Proposed solution\n\nImplement a `Types::BaseEdge` class to enforce security/authorization policies.\n\n### Original Discussion\n\nThe following discussion from !70692 should be addressed:\n\n- [ ] @alexkalderimis started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70692#note_682233423):  (+10 comments)\n\n    \u003e Suggestion, since this field is only available for admins, we may wish to hide it (i.e. using visibility overrides) when the current user is not an admin. This will prevent running queries with this field (it will raise the equivalant of a syntax error), and prevent revealing the field in introspection queries.\n    \u003e \n    \u003e Overall I think that would be safer, but please check with ~security","state":"closed","created_at":"2021-09-29T11:13:14.922Z","updated_at":"2022-11-22T19:24:13.218Z","closed_at":"2021-11-19T15:05:59.793Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["backend","devops::manage","feature::enhancement","group::integrations","maintenance::refactor","section::dev","security","type::feature","workflow::in review"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"}],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":{"id":3614858,"username":"alexkalderimis","name":"Alex Kalderimis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3614858/avatar.png","web_url":"https://gitlab.com/alexkalderimis"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341911","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341911","notes":"https://gitlab.com/api/v4/projects/278964/issues/341911/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341911/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341911","relative":"#341911","full":"gitlab-org/gitlab#341911"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94533303,"iid":341908,"project_id":278964,"title":"Support email sending via Microsoft Graph API with OAuth2","description":"Based on this [issue](https://gitlab.com/gitlab-org/gitlab/-/issues/214900) it appears that we support OAuth authentication for incoming emails in to GitLab, however we only support GitLab to SMTP server connection only with [username/password credentials](https://docs.gitlab.com/omnibus/settings/smtp.html).\n\nFeature Proposal: Enable GitLab to connect to SMTP sever via OAuth.\n\nRelated GitLab internal [ZD](https://gitlab.zendesk.com/agent/tickets/236708)","state":"closed","created_at":"2021-09-29T10:48:28.416Z","updated_at":"2022-08-17T09:40:28.622Z","closed_at":"2022-06-16T19:58:50.401Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Authentication and Authorization","[deprecated] Accepting merge requests","customer","devops::manage","group::authentication and authorization","section::dev","type::feature"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[],"author":{"id":1917618,"username":"mrjkc","name":"Julius Kvedaras","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d3e584486e9fd2c0db555061566b18c8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mrjkc"},"type":"ISSUE","assignee":null,"user_notes_count":27,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341908","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341908","notes":"https://gitlab.com/api/v4/projects/278964/issues/341908/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341908/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341908","relative":"#341908","full":"gitlab-org/gitlab#341908"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94496150,"iid":341889,"project_id":278964,"title":"Basic authorization header not sent when waiting for target","description":"## Problem\n\n`dast` will wait for a target to become available without sending basic auth headers. as a result, sites behind basic auth protection will never be accessible.\n\n### Reproduction Steps\n\n- spin up [test app](https://gitlab.com/philipcunningham/manual-qa-dast-basic-auth)\n- run `dast` scan against test app\n\n### Example\n\n#### Build Logs\n\n\u003cdetails\u003e\n\n```\nRunning with gitlab-runner 14.3.0-rc1 (ed15bfbf)\n  on docker-auto-scale z3WU8uu-\nResolving secrets 00:00\nPreparing the \"docker+machine\" executor 00:50\nUsing Docker executor with image registry.gitlab.com/gitlab-org/security-products/analyzers/dast:2 ...\nAuthenticating with credentials from job payload (GitLab Registry)\nPulling docker image registry.gitlab.com/gitlab-org/security-products/analyzers/dast:2 ...\nUsing docker image sha256:9c066cffd50079ec5c2c1401cee0ebf95f43e74a83226269eb84a3b7aa2da088 for registry.gitlab.com/gitlab-org/security-products/analyzers/dast:2 with digest registry.gitlab.com/gitlab-org/security-products/analyzers/dast@sha256:47428ec3e489b84f27ab5a71102b9b4026c68717b100e1c46ee38e8c67913950 ...\nPreparing environment 00:03\nRunning on runner-z3wu8uu--project-29984523-concurrent-0 via runner-z3wu8uu--srm-1632879194-e393b459...\nGetting source from Git repository 00:01\nSkipping Git repository setup\nSkipping Git checkout\nSkipping Git submodules setup\nExecuting \"step_script\" stage of the job script\nUsing docker image sha256:9c066cffd50079ec5c2c1401cee0ebf95f43e74a83226269eb84a3b7aa2da088 for registry.gitlab.com/gitlab-org/security-products/analyzers/dast:2 with digest registry.gitlab.com/gitlab-org/security-products/analyzers/dast@sha256:47428ec3e489b84f27ab5a71102b9b4026c68717b100e1c46ee38e8c67913950 ...\n$ /analyze\n2021-09-29 01:34:52,915 Running DAST v2.0.8 on Python 3.9.5 (default, May 19 2021, 11:32:47) [GCC 9.3.0]\n2021-09-29 01:34:52,916 Starting the ZAP Server\n2021-09-29 01:34:52,916 Running ZAP with parameters ['/zap/zap.sh', '-daemon', '-config', 'proxy.reverseProxy.use=1', '-config', 'proxy.reverseProxy.ip=0.0.0.0', '-config', 'proxy.reverseProxy.httpPort=53432', '-dir', '/app/zap', '-config', 'api.disablekey=true', '-config', 'api.addrs.addr.name=.*', '-config', 'api.addrs.addr.regex=true', '-config', 'selenium.firefoxDriver=/usr/bin/geckodriver', '-config', 'spider.maxDuration=1', '-silent', '-config', 'replacer.full_list(0).description=header_0', '-config', 'replacer.full_list(0).enabled=true', '-config', 'replacer.full_list(0).matchtype=REQ_HEADER', '-config', 'replacer.full_list(0).matchstr=Authorization', '-config', 'replacer.full_list(0).regex=false', '-config', 'replacer.full_list(0).replacement=Basic aGVsbG86d29ybGQ=']\n2021-09-29 01:34:52,918 looking for ZAP at http://127.0.0.1:53432...\n2021-09-29 01:34:53,926 looking for ZAP at http://127.0.0.1:53432...\n2021-09-29 01:34:54,930 looking for ZAP at http://127.0.0.1:53432...\n2021-09-29 01:34:55,934 looking for ZAP at http://127.0.0.1:53432...\n2021-09-29 01:34:56,938 looking for ZAP at http://127.0.0.1:53432...\n2021-09-29 01:34:57,942 looking for ZAP at http://127.0.0.1:53432...\n[zap_server] Found Java version 11.0.12\n[zap_server] Available memory: 3685 MB\n[zap_server] Using JVM args: -Xmx921m\n[zap_server] 510 [main] INFO org.zaproxy.zap.DaemonBootstrap  - OWASP ZAP D-2020-09-15 started 29/09/2021, 01:34:54 with home /app/zap/\n[zap_server] 569 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config proxy.reverseProxy.use = 1 was null\n[zap_server] 570 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config proxy.reverseProxy.ip = 0.0.0.0 was null\n[zap_server] 573 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config proxy.reverseProxy.httpPort = 53432 was null\n[zap_server] 573 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config api.disablekey = true was null\n[zap_server] 574 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config api.addrs.addr.name = .* was null\n[zap_server] 574 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config api.addrs.addr.regex = true was null\n[zap_server] 574 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config selenium.firefoxDriver = /usr/bin/geckodriver was null\n[zap_server] 574 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config spider.maxDuration = 1 was null\n[zap_server] 575 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config replacer.full_list(0).description = header_0 was null\n[zap_server] 575 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config replacer.full_list(0).enabled = true was null\n[zap_server] 575 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config replacer.full_list(0).matchtype = REQ_HEADER was null\n[zap_server] 575 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config replacer.full_list(0).matchstr = Authorization was null\n[zap_server] 576 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config replacer.full_list(0).regex = false was null\n[zap_server] 576 [main] INFO org.parosproxy.paros.common.AbstractParam  - Setting config replacer.full_list(0).replacement = Basic aGVsbG86d29ybGQ= was null\n[zap_server] 598 [main] INFO org.parosproxy.paros.network.SSLConnector  - Reading supported SSL/TLS protocols...\n[zap_server] 598 [main] INFO org.parosproxy.paros.network.SSLConnector  - Using a SSLEngine...\n[zap_server] 786 [main] INFO org.parosproxy.paros.network.SSLConnector  - Done reading supported SSL/TLS protocols: [SSLv2Hello, SSLv3, TLSv1, TLSv1.1, TLSv1.2, TLSv1.3]\n[zap_server] 797 [main] INFO org.parosproxy.paros.extension.option.OptionsParamCertificate  - Unsafe SSL renegotiation disabled.\n[zap_server] 1695 [ZAP-daemon] INFO org.zaproxy.zap.control.ExtensionFactory  - Loading extensions\n[zap_server] 4719 [ZAP-daemon] INFO org.zaproxy.zap.control.ExtensionFactory  - Installed add-ons: [[id=accessControl, version=6.0.0], [id=alertFilters, version=10.0.0], [id=ascanrules, version=37.0.0], [id=ascanrulesBeta, version=32.0.0], [id=bruteforce, version=10.0.0], [id=commonlib, version=1.2.0], [id=coreLang, version=14.0.0], [id=diff, version=10.0.0], [id=directorylistv1, version=4.0.0], [id=encoder, version=0.3.0], [id=formhandler, version=3.0.0], [id=fuzz, version=13.1.0], [id=fuzzdb, version=7.0.0], [id=gettingStarted, version=12.0.0], [id=help, version=11.0.0], [id=hud, version=0.12.0], [id=importurls, version=7.0.0], [id=invoke, version=10.0.0], [id=onlineMenu, version=8.0.0], [id=openapi, version=17.0.0], [id=plugnhack, version=12.0.0], [id=portscan, version=9.0.0], [id=pscanrules, version=30.0.0], [id=pscanrulesBeta, version=23.0.0], [id=quickstart, version=29.0.0], [id=replacer, version=8.0.0], [id=retire, version=0.5.0], [id=reveal, version=3.0.0], [id=saverawmessage, version=5.0.0], [id=savexmlmessage, version=0.1.0], [id=scripts, version=27.0.0], [id=selenium, version=15.3.0], [id=sequence, version=6.0.0], [id=spiderAjax, version=23.2.0], [id=tips, version=7.0.0], [id=webdriverlinux, version=28.0.0], [id=webdrivermacos, version=19.0.0], [id=webdriverwindows, version=20.0.0], [id=websocket, version=23.0.0], [id=zest, 2021-09-29 01:34:58,946 looking for ZAP at http://127.0.0.1:53432...\nversion=33.0.0]]\n[zap_server] 5225 [ZAP-daemon] INFO org.zaproxy.zap.control.ExtensionFactory  - Extensions loaded\n[zap_server] Sep 29, 2021 1:34:59 AM java.util.prefs.FileSystemPreferences$1 run\n[zap_server] INFO: Created user preferences directory.\n[zap_server] 5525 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Allows ZAP to check for updates\n[zap_server] 5528 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Options Extension\n[zap_server] 5529 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Edit Menu Extension\n[zap_server] 5529 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Provides a rest based API for controlling and accessing ZAP\n[zap_server] 5542 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Session State Extension\n[zap_server] 5542 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Report Extension\n[zap_server] 5543 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing History Extension\n[zap_server] 5546 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Show hidden fields and enable disabled fields\n[zap_server] 5547 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Search messages for strings and regular expressions\n[zap_server] 5548 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Allows you to intercept and modify requests and responses\n[zap_server] 5549 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Passive scanner\n[zap_server] 5703 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Script Passive Scan Rules\n[zap_server] 5708 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Stats Passive Scan Rule\n[zap_server] 5708 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Application Error Disclosure\n[zap_server] 5708 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Incomplete or No Cache-control and Pragma HTTP Header Set\n[zap_server] 5709 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Charset Mismatch\n[zap_server] 5709 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: CSP\n[zap_server] 5709 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Content-Type Header Missing\n[zap_server] 5709 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Cookie No HttpOnly Flag\n[zap_server] 5709 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Loosely Scoped Cookie\n[zap_server] 5709 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Cookie Without SameSite Attribute\n[zap_server] 5709 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Cookie Without Secure Flag\n[zap_server] 5709 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Cross-Domain Misconfiguration\n[zap_server] 5709 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Cross-Domain JavaScript Source File Inclusion\n[zap_server] 5709 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Absence of Anti-CSRF Tokens\n[zap_server] 5710 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Private IP Disclosure\n[zap_server] 5710 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Session ID in URL Rewrite\n[zap_server] 5710 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Information Disclosure - Debug Error Messages\n[zap_server] 5711 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Information Disclosure - Sensitive Information in URL\n[zap_server] 5711 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Information Disclosure - Sensitive Information in HTTP Referrer Header\n[zap_server] 5711 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Information Disclosure - Suspicious Comments\n[zap_server] 5711 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Weak Authentication Method\n[zap_server] 5711 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Insecure JSF ViewState\n[zap_server] 5711 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Secure Pages Include Mixed Content\n[zap_server] 5711 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Timestamp Disclosure\n[zap_server] 5712 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Username Hash Found\n[zap_server] 5712 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Viewstate\n[zap_server] 5712 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: X-AspNet-Version Response Header\n[zap_server] 5712 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: X-Content-Type-Options Header Missing\n[zap_server] 5712 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: X-Debug-Token Information Leak\n[zap_server] 5712 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: X-Frame-Options Header\n[zap_server] 5712 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Server Leaks Information via \"X-Powered-By\" HTTP Response Header Field(s)\n[zap_server] 5713 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Big Redirect Detected (Potential Sensitive Information Leak)\n[zap_server] 5715 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Content Security Policy (CSP) Header Not Set\n[zap_server] 5716 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Directory Browsing\n[zap_server] 5716 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Hash Disclosure\n[zap_server] 5716 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Heartbleed OpenSSL Vulnerability (Indicative)\n[zap_server] 5716 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: HTTP to HTTPS Insecure Transition in Form Post\n[zap_server] 5716 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: HTTPS to HTTP Insecure Transition in Form Post\n[zap_server] 5716 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Reverse Tabnabbing\n[zap_server] 5716 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Modern Web Application\n[zap_server] 5717 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: PII Disclosure\n[zap_server] 5717 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Retrieved from Cache\n[zap_server] 5717 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: HTTP Server Response Header\n[zap_server] 5717 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: HTTP Parameter Override\n[zap_server] 5717 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Strict-Transport-Security Header\n[zap_server] 5718 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: User Controllable Charset\n[zap_server] 5718 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Cookie Poisoning\n[zap_server] 5718 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: User Controllable HTML Element Attribute (Potential XSS)\n[zap_server] 5718 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: User Controllable JavaScript Event (XSS)\n[zap_server] 5718 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Open Redirect\n[zap_server] 5718 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: X-Backend-Server Header Information Leak\n[zap_server] 5718 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: X-ChromeLogger-Data (XCOLD) Header Information Leak\n[zap_server] 5719 [ZAP-daemon] INFO org.zaproxy.zap.extension.pscan.ExtensionPassiveScan  - loaded passive scan rule: Vulnerable JS Library\n[zap_server] 5741 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Allows you to view and manage alerts\n[zap_server] 5747 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Active scanner, heavily based on the original Paros active scanner, but with additional tests added\n[zap_server] 5760 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing ExtensionSequence\n[zap_server] 5761 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Spider used for automatically finding URIs on a site\n[zap_server] 5821 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing A set of common popup menus for miscellaneous tasks\n[zap_server] 5823 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Forced browsing of files and directories using code from the OWASP DirBuster tool\n[zap_server] 5824 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Simple but effective port scanner\n[zap_server] 5825 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Manual Request Editor Extension\n[zap_server] 5829 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Compares 2 sessions and generates an HTML file showing the differences\n[zap_server] 5829 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Invoke external applications passing context related information such as URLs and parameters\n[zap_server] 5830 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Handles anti cross site request forgery (CSRF) tokens\n[zap_server] 5834 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Authentication Extension\n[zap_server] 5859 [ZAP-daemon] INFO org.zaproxy.zap.extension.authentication.ExtensionAuthentication  - Loaded authentication method types: [Form-based Authentication, HTTP/NTLM Authentication, Manual Authentication, Script-based Authentication, JSON-based Authentication]\n[zap_server] 5860 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Creates a dynamic SSL certificate to allow SSL communications to be intercepted without warnings being generated by the browser\n[zap_server] 5860 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Logs errors to the Output tab in development mode only\n[zap_server] 5860 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Users Extension\n[zap_server] 582021-09-29 01:34:59,950 looking for ZAP at http://127.0.0.1:53432...\n62 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Summarise and analyse FORM and URL parameters as well as cookies\n[zap_server] 5865 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Script integration\n[zap_server] 5892 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Scripting console, supports all JSR 223 scripting languages\n[zap_server] 6126 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Forced User Extension\n[zap_server] 6128 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Extension handling HTTP sessions\n[zap_server] 6130 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Zest is a specialized scripting language, originally, from Mozilla specifically designed to be used in security tools\n[zap_server] 6424 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing ExtensionDiff\n[zap_server] 6424 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing HTTP Panel Post Table View Extension\n[zap_server] 6424 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Adds support for scriptable encoders to ZAP.\n[zap_server] 6425 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Simple browser configuration\n[zap_server] 6425 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Session Management Extension\n[zap_server] 6435 [ZAP-daemon] INFO org.zaproxy.zap.extension.sessions.ExtensionSessionManagement  - Loaded session management method types: [Cookie-based Session Management, HTTP Authentication Session Management, Script-based Session Management]\n[zap_server] 6435 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing HTTP Panel Form Table View Extension\n[zap_server] 6435 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Capture messages from WebSockets with the ability to set breakpoints.\n[zap_server] 6472 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Allows you to import a file containing URLs which ZAP will access, adding them to the Sites tree\n[zap_server] 6473 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Core UI related functionality.\n[zap_server] 6473 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Authorization Extension\n[zap_server] 6473 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing AJAX Spider, uses Crawljax\n[zap_server] 6475 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Provides WebDrivers to control several browsers using Selenium and includes HtmlUnit browser.\n[zap_server] 6483 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Manages the local proxy configurations\n[zap_server] 6488 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Add-on that adds a set of tools for testing access control in web applications.\n[zap_server] 6488 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Handles adding Global Excluded URLs\n[zap_server] 6489 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Adds menu item to refresh the Sites tree\n[zap_server] 6489 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing OWASP ZAP User Guide\n[zap_server] 6492 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Provides a URL suitable for calling from target sites\n[zap_server] 6494 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Allows you to configure which extensions are loaded when ZAP starts\n[zap_server] 6495 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Combined HTTP Panels Extension\n[zap_server] 6495 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing HTTP Panel Hex View Extension\n[zap_server] 6496 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing HTTP Panel Image View Extension\n[zap_server] 6496 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing HTTP Panel Large Request View Extension\n[zap_server] 6496 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing HTTP Panel Large Response View Extension\n[zap_server] 6496 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing HTTP Panel Query Table View Extension\n[zap_server] 6496 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing HTTP Panel Syntax Highlighter View Extension\n[zap_server] 6497 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Adds support for configurable keyboard shortcuts for all of the ZAP menus.\n[zap_server] 6497 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Active and passive rule configuration\n[zap_server] 6500 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Statistics\n[zap_server] 6505 [ZAP-daemon] INFO org.zaproxy.zap.extension.stats.ExtensionStats  - Start recording in memory stats\n[zap_server] 6506 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Adds the Quick Start panel for scanning and exploring applications\n[zap_server] 6506 [ZAP-daemon] INFO org.zaproxy.zap.extension.quickstart.ExtensionQuickStart  - Shh! No check-for-news - silent mode enabled\n[zap_server] 6506 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Add the option to use the Ajax Spider in the Quick Start scan\n[zap_server] 6507 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Launch browsers proxying through ZAP\n[zap_server] 6507 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Launch browsers proxying through ZAP\n[zap_server] 6507 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing This extension allows a user to change the default values used by ZAP Spiders.\n[zap_server] 6511 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Provides the foundation for concrete message types (for example, HTTP, WebSockets) expose fuzzer implementations.\n[zap_server] 6513 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Allows to fuzz HTTP messages.\n[zap_server] 6513 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Passive Scan Rules\n[zap_server] 6514 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing The ZAP Getting Started Guide\n[zap_server] 6514 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Context alert rules filter\n[zap_server] 6518 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Active Scan Rules\n[zap_server] 6518 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Allows you to spider and import OpenAPI (Swagger) definitions \n[zap_server] 6542 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Passive Scan Rules - beta\n[zap_server] 6546 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing The Online menu links\n[zap_server] 6546 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Heads Up Display\n[zap_server] 6637 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing ExtensionHUDlaunch\n[zap_server] 6638 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Tips and Tricks\n[zap_server] 6638 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Active Scan Rules - beta\n[zap_server] 6638 [ZAP-daemon] INFO org.parosproxy.paros.extension.ExtensionLoader  - Initializing Easy way to replace strings in requests and responses\n[zap_server] 6641 [ZA2021-09-29 01:35:00,955 looking for ZAP at http://127.0.0.1:53432...\n2021-09-29 01:35:01,959 looking for ZAP at http://127.0.0.1:53432...\n2021-09-29 01:35:02,964 looking for ZAP at http://127.0.0.1:53432...\n2021-09-29 01:35:03,024 connected to ZAP with version D-2020-09-15\n2021-09-29 01:35:04,156 Using scan target http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io\n2021-09-29 01:35:04,319 Waiting for http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io to be available\n2021-09-29 01:35:04,320 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:04,691 HTTPError: 401\n2021-09-29 01:35:07,695 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:08,021 HTTPError: 401\n2021-09-29 01:35:11,023 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:11,451 HTTPError: 401\n2021-09-29 01:35:14,454 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:14,830 HTTPError: 401\n2021-09-29 01:35:17,832 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:18,210 HTTPError: 401\n2021-09-29 01:35:21,214 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:21,535 HTTPError: 401\n2021-09-29 01:35:24,537 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:24,967 HTTPError: 401\n2021-09-29 01:35:27,971 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:28,299 HTTPError: 401\n2021-09-29 01:35:31,303 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:31,692 HTTPError: 401\n2021-09-29 01:35:34,695 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:35,063 HTTPError: 401\n2021-09-29 01:35:38,065 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:38,422 HTTPError: 401\n2021-09-29 01:35:41,424 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:41,766 HTTPError: 401\n2021-09-29 01:35:44,769 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:45,132 HTTPError: 401\n2021-09-29 01:35:48,136 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:48,454 HTTPError: 401\n2021-09-29 01:35:51,457 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:51,902 HTTPError: 401\n2021-09-29 01:35:54,905 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:55,222 HTTPError: 401\n2021-09-29 01:35:58,226 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:35:58,584 HTTPError: 401\n2021-09-29 01:36:01,585 Requesting access to http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io...\n2021-09-29 01:36:01,943 HTTPError: 401\n2021-09-29 01:36:01,943 TargetNotAccessibleError: Last attempted access of target caused error: 401 Client Error: Unauthorized for url: http://a005-2001-8003-4d48-8e01-dc0d-3551-add3-a999.ngrok.io/. Canceling scan. Set the variable DAST_SKIP_TARGET_CHECK to `true` to prevent this check\nUploading artifacts for failed job 00:00\nUploading artifacts...\nWARNING: gl-dast-report.json: no matching files    \nERROR: No files to upload                          \nCleaning up project directory and file based variables 00:01\nERROR: Job failed: exit code 1\n```\n\nhttps://gitlab.com/philipcunningham/manual-qa-dast-basic-auth/-/jobs/1631913980\n\n\u003c/details\u003e\n\n#### App Logs\n\n\u003cdetails\u003e\n\n```\n11:35:04 ngrok.1 | t=2021-09-29T11:35:04+1000 lvl=info msg=\"join connections\" obj=join id=2efbfd37d4d9 l=[::1]:3005 r=34.138.240.110:39698\n11:35:04 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:04 +1000] \"GET / HTTP/1.1\" 401 - 0.0011\n11:35:07 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:07 +1000] \"GET / HTTP/1.1\" 401 - 0.0006\n11:35:11 ngrok.1 | t=2021-09-29T11:35:11+1000 lvl=info msg=\"join connections\" obj=join id=29e800e30a15 l=[::1]:3005 r=34.138.240.110:45218\n11:35:11 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:11 +1000] \"GET / HTTP/1.1\" 401 - 0.0006\n11:35:14 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:14 +1000] \"GET / HTTP/1.1\" 401 - 0.0008\n11:35:17 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:17 +1000] \"GET / HTTP/1.1\" 401 - 0.0006\n11:35:21 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:21 +1000] \"GET / HTTP/1.1\" 401 - 0.0006\n11:35:24 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:24 +1000] \"GET / HTTP/1.1\" 401 - 0.0006\n11:35:27 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:27 +1000] \"GET / HTTP/1.1\" 401 - 0.0007\n11:35:31 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:31 +1000] \"GET / HTTP/1.1\" 401 - 0.0007\n11:35:34 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:34 +1000] \"GET / HTTP/1.1\" 401 - 0.0006\n11:35:37 ngrok.1 | t=2021-09-29T11:35:37+1000 lvl=info msg=\"join connections\" obj=join id=b09bcf9250df l=[::1]:3005 r=34.138.240.110:51304\n11:35:37 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:37 +1000] \"GET / HTTP/1.1\" 401 - 0.0006\n11:35:41 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:41 +1000] \"GET / HTTP/1.1\" 401 - 0.0006\n11:35:44 ngrok.1 | t=2021-09-29T11:35:44+1000 lvl=info msg=\"join connections\" obj=join id=c7aee31a5416 l=[::1]:3005 r=34.138.240.110:40510\n11:35:44 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:44 +1000] \"GET / HTTP/1.1\" 401 - 0.0007\n11:35:48 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:48 +1000] \"GET / HTTP/1.1\" 401 - 0.0007\n11:35:51 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:51 +1000] \"GET / HTTP/1.1\" 401 - 0.0006\n11:35:54 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:54 +1000] \"GET / HTTP/1.1\" 401 - 0.0006\n11:35:58 ngrok.1 | t=2021-09-29T11:35:58+1000 lvl=info msg=\"join connections\" obj=join id=041600f2d718 l=[::1]:3005 r=34.138.240.110:34372\n11:35:58 web.1   | 34.138.240.110 - - [29/Sep/2021:11:35:58 +1000] \"GET / HTTP/1.1\" 401 - 0.0006\n11:36:01 web.1   | 34.138.240.110 - - [29/Sep/2021:11:36:01 +1000] \"GET / HTTP/1.1\" 401 - 0.0007\n```\n\n\u003c/details\u003e\n\n## Solution 1\n\n- [ ] send `DAST_REQUEST_HEADERS` with the access check request\n\n## Solution 2\n\n- [x] treat 401 errors to indicate that the target is available https://gitlab.com/gitlab-org/security-products/dast/-/merge_requests/511","state":"closed","created_at":"2021-09-29T01:44:46.983Z","updated_at":"2021-10-04T20:50:53.291Z","closed_at":"2021-09-29T22:57:48.940Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","customer","devops::secure","group::dynamic analysis","section::sec","type::bug","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":4,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341889","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341889","notes":"https://gitlab.com/api/v4/projects/278964/issues/341889/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341889/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341889","relative":"#341889","full":"gitlab-org/gitlab#341889"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94492959,"iid":341886,"project_id":278964,"title":"GitLab Migration - Migrate Project Members","description":"## Proposed Solution\n\n* For each migrated project, add the project members if they exist in the parent group.\n* Match users by email.\n* Match the users to the existing objects in the project (issues, comments, etc.).\n* If a user doesn't exist, assign the importer user instead and add a note (similar to project imports). \n* Allow more relaxed user matching when the contributor already belongs to the (parent) group, as proposed [here](https://gitlab.com/gitlab-org/gitlab/-/issues/223137#proposal) for Project Import. (This would allow non-admins on GitLab.com to migrate projects and not have the importer user be the author for everything) **\u003csup\u003e*\u003c/sup\u003e**\n\n## Additional detail\n\n**\u003csup\u003e*\u003c/sup\u003e** To further clarify the proposal to allow a more relaxed user matching when the contributor already belongs to the (parent) group, which would allow non-admins on GitLab.com to migrate projects and not have the importer user be the author for everything, these would be the required conditions for this use-case:\n* importing into a group namespace (not user namespace), and\n* importing user is an owner/maintainer within (sub)group (should be tied to project creation option - which can include developer), and\n* contributor is a member of the group\n\nNote: if the above conditions are not met, or any of the following conditions are true, the contributions will still be associated with the importing user:\n* user does not exist, or\n* email associated with user in the source instance does not match the *primary* email of any user, or\n* user exists but is not a member of the group\n\n## Documentation\n\nFollowing documentation should be updated with the objects/fields added in this issue:\n* [ ] User docs: https://docs.gitlab.com/ee/user/group/import/\n* [ ] Dev docs: https://docs.gitlab.com/ee/development/bulk_import.html\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-09-28T23:41:38.245Z","updated_at":"2022-03-28T19:18:20.699Z","closed_at":"2022-01-28T10:36:48.894Z","closed_by":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"labels":["Category:Importers","Deliverable","GitLab Core","Importer:GitLab Migration","Next Up","backend","devops::manage","direction","estimation::completed","group::import","milestone::p2","section::dev","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341886","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341886","notes":"https://gitlab.com/api/v4/projects/278964/issues/341886/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341886/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341886","relative":"#341886","full":"gitlab-org/gitlab#341886"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6681,"epic":{"id":342210,"iid":6681,"title":"GitLab Migration - Migrate Projects MVC","url":"/groups/gitlab-org/-/epics/6681","group_id":9970,"human_readable_end_date":"Dec 7, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94491161,"iid":341882,"project_id":278964,"title":"Remove anchors/hashes in Snowplow events URLs","description":"Related to #338320\n\nThe reasoning behind this being that there might be PII contained in this string, that's mostly generated automatically.\n\n| Examples |\n| ------ |\n| \u003ccode\u003egitlab.com/namespace:4/project:2/-/wikis/My-Wiki\u003cs\u003e#my-section\u003c/s\u003e\u003c/code\u003e |\n| \u003ccode\u003egitlab.com/namespace:4/-/issues/123\u003cs\u003e#note_123\u003c/s\u003e\u003c/code\u003e |\n| \u003ccode\u003egitlab.com/namespace:4/project:2/-/edit\u003cs\u003e#js-general-settings\u003c/s\u003e\u003c/code\u003e |\n| \u003ccode\u003egitlab.com/namespace:4/project:2/-/merge_requests/133/diffs\u003cs\u003e#bffabf2f6e5fbbc42e0ec64dc79fc40e4387b425\u003c/s\u003e\u003c/code\u003e |\n| \u003ccode\u003egitlab.com/projects/new\u003cs\u003e#import_project\u003c/s\u003e\u003c/code\u003e |\n| \u003ccode\u003egitlab.com/namespace:4/project:2/-/usage_quotas\u003cs\u003e#seats-quota-tab\u003c/s\u003e\u003c/code\u003e |\n| \u003ccode\u003egitlab.com/namespace:4/project:2/-/releases\u003cs\u003e#5.2.1\u003c/s\u003e\u003c/code\u003e |\n\nNote that this is only for gitlab.com, the Handbook's links tracking hashes would be added as usual ( `about.gitlab.com/handbook/pages/my-page#my-section` for example).","state":"closed","created_at":"2021-09-28T22:08:11.192Z","updated_at":"2022-02-11T14:12:24.176Z","closed_at":"2021-10-08T12:06:42.249Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["Unplanned","devops::growth","frontend","group::product intelligence","section::growth","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341882","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341882","notes":"https://gitlab.com/api/v4/projects/278964/issues/341882/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341882/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341882","relative":"#341882","full":"gitlab-org/gitlab#341882"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6551,"epic":{"id":324918,"iid":6551,"title":"Pseudonymization of URLs","url":"/groups/gitlab-org/-/epics/6551","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94486670,"iid":341873,"project_id":278964,"title":"🎨 Design: Suggested reviewers MVC","description":"\n\n### Release notes\n\n### Problem to solve\n\nGitLab users currently have to manually search for and select relevant reviewers for their merge requests. They have to take into consideration things like:\n- does the reviewer have enough time to review in a reasonable amount of time? (ie do they already have 10 MRs assigned to them?)\n- does the reviewer have the appropriate level of knowledge to review this? (ie ruby expertise if the MR changes ruby code)\n- what time zone is the reviewer in? (this one may or may not be important)\n- is the reviewer available/in office?\n\nDeciding on reviewer(s) who match the correct criteria can be time-consuming and extend MR cycle time.\n\n### Intended users\n\n##### Primary\n- [Sasha (software developer)](https://about.gitlab.com/handbook/product/personas/#sasha-software-developer)\n\n##### Secondary\n - [Everyone else](https://about.gitlab.com/handbook/product/personas/#user-personas) who uses merge requests\n\n### Metrics\n- Reduced cycle time\n- First reviewer is the right one\n- Suggested reviewers get chosen\n\n### User experience goal\n- Make it easy for developers to see suggested reviewers and choose them for review\n- Handle edge cases where suggested reviewers are not available\n- stretch: allow users to mark bad suggestions. \n\n#### MVC\n\n- Users should be able to see suggested reviewers for a given MR and manually apply those suggestions when ready\n\n#### Overall vision\n\n\n\n### Proposal\n\nCustomers of GitLab.com will be able to start seeing and experiencing value from the functionality including the ability to intelligently assign code reviewers to merge requests based on machine learning models\n\n* Should be able to identify reviewers\n* Should be able to automatically assign reviewers\n\n### Further details\n\n### Permissions and Security\nAnyone who can set reviewers should have access to this feature to set recommended reviewers\nAnyone who can view a merge request can view the suggested reviewers but can't set them unless they have permission to set a reviewer. \n\n### Documentation\nTBD, I suspect we will want to document this behavior on the existing code review docs page but @tmccaslin is open to creating a new page as well.\n\n### Availability \u0026 Testing\nBehind a feature flag\n\n### Available Tier\nCurrently we are considering this part of ultimate, but may pull this down to Premium as well.\n\n### What does success look like, and how can we measure that?\nDevelopers set the suggested reviewers as reviewers and a review actually happens. \n\n### Links / references\n\n- Design issue for https://gitlab.com/groups/gitlab-org/-/epics/6113\n- Previous design explorations: https://gitlab.com/groups/gitlab-org/-/epics/5794#note_591442205\n- [Mural](https://app.mural.co/invitation/mural/gitlab2474/1638379964633?sender=annabel5274\u0026key=58e23ed2-7e3d-40c9-9f03-cf36e300b8e1)\n- [Figma](https://www.figma.com/file/akHFbt2fqFmKaQuYLgz72D/Suggested-Reviewers?node-id=4%3A51)","state":"closed","created_at":"2021-09-28T19:42:40.684Z","updated_at":"2022-09-12T16:24:55.744Z","closed_at":"2022-06-21T20:25:15.005Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:Code Review Workflow","UX","auto updated","devops::create","group::code review","missed:14.7","missed:15.1","section::dev","type::feature","workflow::design"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":57,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341873","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341873","notes":"https://gitlab.com/api/v4/projects/278964/issues/341873/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341873/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341873","relative":"#341873","full":"gitlab-org/gitlab#341873"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6113,"epic":{"id":282909,"iid":6113,"title":"Applied ML customer facing MVC of integration of unreview","url":"/groups/gitlab-org/-/epics/6113","group_id":9970,"human_readable_end_date":"May 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94476380,"iid":341868,"project_id":278964,"title":"Refactor import_entities/import_groups app to use new pagination_bar","description":"!71318 introduced new component - pagination-bar which is pagination links combined with dropdown for selecting page size:\n\n![Screenshot-20210928220211-679x72](/uploads/b12bed5789dcc4f91bc28867fd15cc13/Screenshot-20210928220211-679x72.png)\n\nWe need:\n\n* evaluate need of this component generally in GitLab. Should it be placed to `vue_shared`?\n* In any case refactor import_entities/import_groups to use this new component","state":"closed","created_at":"2021-09-28T19:04:10.612Z","updated_at":"2021-12-16T13:16:29.486Z","closed_at":"2021-12-16T13:16:29.473Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Next Up","auto updated","devops::manage","estimation::completed","frontend","group::import","maintenance::refactor","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":4,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341868","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341868","notes":"https://gitlab.com/api/v4/projects/278964/issues/341868/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341868/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341868","relative":"#341868","full":"gitlab-org/gitlab#341868"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94472096,"iid":341862,"project_id":278964,"title":"User Cap (SM) Feature - Instrument field for analytics collection","description":"## Summary\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/4315 we launched [User Caps](https://docs.gitlab.com/ee/user/admin_area/settings/sign_up_restrictions.html#user-cap) for self-managed instances. This issue is to instrument the User Cap feature setting, so we can monitor utilization and effectiveness of this feature.","state":"closed","created_at":"2021-09-28T18:36:05.158Z","updated_at":"2021-10-19T13:16:05.171Z","closed_at":"2021-10-18T14:36:03.603Z","closed_by":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"labels":["Category:Product Analytics","[deprecated] Category:Utilization","auto updated","backend","devops::fulfillment","group::utilization","quad-planning::complete-no-action","section::fulfillment","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341862","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341862","notes":"https://gitlab.com/api/v4/projects/278964/issues/341862/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341862/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341862","relative":"#341862","full":"gitlab-org/gitlab#341862"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4315,"epic":{"id":103540,"iid":4315,"title":"[Self-managed] Give Admins control over accidental user overages via a `User Cap` admin setting","url":"/groups/gitlab-org/-/epics/4315","group_id":9970},"iteration":null,"health_status":null},{"id":94464124,"iid":341852,"project_id":278964,"title":"Registration Flow - Don't pre-select role","description":"# Overview\n\nIn order to remove selection bias and allow us to better leverage the user's role information, we should stop pre-selecting \"software developer\" and make the user chose their role. \n\n![image](/uploads/a5944da46fc6324bd355881442543ff3/image.png)\n\n\n\n# Changes required: \n\n1. Add front-end validation to require role \n1. Create error message for case when the user attempts to submit without a populated role\n1. Create empty state guidance messaging \n\n\n# Copy\n\n1. Empty state: `Select a role`\n1. Error state: `A role is required. Choose one that best describes what you do.`","state":"closed","created_at":"2021-09-28T15:54:23.039Z","updated_at":"2022-03-07T20:22:49.068Z","closed_at":"2022-01-13T16:14:29.818Z","closed_by":{"id":4068412,"username":"mkarampalas","name":"Michael Karampalas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b1427f54773954af4d75c5514504229b?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkarampalas"},"labels":["Technical Writing","auto updated","devops::growth","group::adoption DEPRECATED","missed:14.6","section::growth","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"}],"author":{"id":4068412,"username":"mkarampalas","name":"Michael Karampalas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b1427f54773954af4d75c5514504229b?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkarampalas"},"type":"ISSUE","assignee":{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341852","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341852","notes":"https://gitlab.com/api/v4/projects/278964/issues/341852/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341852/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341852","relative":"#341852","full":"gitlab-org/gitlab#341852"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94464071,"iid":341851,"project_id":278964,"title":"Reapply table-layout fixed in the repository file list when possible","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nThe table-layout was removed recently due to problems with mobile views. See: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69445\n\nHowever, this property is there to ensure the table layout is not shifting with the content, thus keeping a low CLS (Cummulative Layout Shift). \n\nWe need to find a way to still ensure the layout stability while also avoiding the mobile bugs.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n1. Load https://gitlab.com/inkscape/inkscape/-/tree/master\n2. See the columns shift\n\n\nWith `table-layout fixed;`\n\n1. Load https://gitlab.com/inkscape/inkscape/-/tree/master\n2. Change to mobile layout/viewport\n3. See that the table layout is not correct\n\n\n### Example Project\n\nhttps://gitlab.com/inkscape/inkscape/-/tree/master\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nColumns shift as page loads in medium/large width layouts.\n\nColumns are incorrectly sized on mobile.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nColumns don't shift as page loads in medium/large width layouts.\n\nColumns are correctly sized on mobile.\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-09-28T15:52:55.676Z","updated_at":"2021-10-20T18:36:16.410Z","closed_at":"2021-10-20T18:36:16.389Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Category:Source Code Management","devops::create","frontend","group::source code","repository","section::dev","type::bug"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341851","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341851","notes":"https://gitlab.com/api/v4/projects/278964/issues/341851/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341851/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341851","relative":"#341851","full":"gitlab-org/gitlab#341851"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94455985,"iid":341840,"project_id":278964,"title":"Deployments-\u003eEnvironments displays wrong commit refs/tags","description":"### Summary\n\nThe deployments-\u003eenvironments overview page at https://your_gitlab_url/PROJECT/-/environments displays the wrong \"Commit\". It should display the commit that is currently deployed. Instead, from all the commits that so far have been deployed to an environment, GitLab picks the latest commit in the git graph.\n\n### Steps to reproduce\n\n1. create \u0026 push `commit 1`\n2. create \u0026 push `commit 2` (as a successor of `commit 1`)\n3. deploy `commit 2` to environment `x`\n4. deploy `commit 1` to environment `x`\n5. go to https://your_gitlab_url/PROJECT/-/environments\n6. observe that environment `x` is linked to `commit 2` rather than `commit 1`! :bug: \n\n### What is the expected *correct* behavior?\n\nenvironment `x` should be linked to `commit 1`, which is the one that was last deployed.\n\n### Relevant logs and/or screenshots\n\nIn this example, commit/tag `v18` is the one that should be displayed:\n\n![image](/uploads/c6d37d5b7da88a6447f4abba560b132f/image.png)\n\n![image](/uploads/c21112958e3520ec05097653334dd35d/image.png)\n\n### Output of checks\n\nThis bug happens on our self-hosted GitLab Enterprise Edition 14.3.0-ee.\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n$ gitlab-rake gitlab:env:info\n\nSystem information\nSystem:\t\t\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.7.4p191\nGem Version:\t3.2.19\nBundler Version:2.2.19\nRake Version:\t13.0.6\nRedis Version:\tunknown\nGit Version:\tunknown\nSidekiq Version:5.2.9\nGo Version:\tunknown\n\nGitLab information\nVersion:\t14.3.0-ee\nRevision:\tdec73e99fdd\nDirectory:\t/srv/gitlab\nDB Adapter:\tPostgreSQL\nDB Version:\t12.7\nURL:\t\thttps://gitlab.meteotest.ch\nHTTP Clone URL:\thttps://gitlab.meteotest.ch/some-group/some-project.git\nSSH Clone URL:\tgit@gitlab.meteotest.ch:some-group/some-project.git\nElasticsearch:\tyes\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers: google_oauth2\n\nGitLab Shell\nVersion:\t13.21.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/repo\nGitLab Shell path:\t\t/home/git/gitlab-shell\nGit:\t\t/usr/bin/git\n\u003c/pre\u003e\n\u003c/details\u003e\n\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n$ gitlab-rake gitlab:check SANITIZE=true\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.21.0 ? ... OK (13.21.0)\nRunning /home/git/gitlab-shell/bin/check\ngitlab-shell self-check failed\n  Try fixing it:\n  Make sure GitLab is running;\n  Check the gitlab-shell configuration file:\n  sudo -u git -H editor /home/git/gitlab-shell/config.yml\n  Please fix the error above and rerun the checks.\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... no\n  Try fixing it:\n  sudo -u git -H RAILS_ENV=production bin/background_jobs start\n  For more information see:\n  doc/install/installation.md in section \"Install Init Script\"\n  see log/sidekiq.log for possible errors\n  Please fix the error above and rerun the checks.\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... no\nTrying to fix error automatically. ...Failed\n  Try fixing it:\n  sudo -u git -H \"/usr/bin/git\" config --global core.autocrlf \"input\"\n  For more information see:\n  doc/install/installation.md in section \"GitLab\"\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... skipped (no tmp uploads folder yet)\nInit script exists? ... no\n  Try fixing it:\n  Install the init script\n  For more information see:\n  doc/install/installation.md in section \"Install Init Script\"\n  Please fix the error above and rerun the checks.\nInit script up-to-date? ... can't check because of previous errors\nProjects have namespace: ... \n13/1 ... yes\n3/9 ... yes\n30/12 ... yes\n13/14 ... yes\n13/15 ... yes\n13/17 ... yes\n30/18 ... yes\n30/33 ... yes\n30/34 ... yes\n13/35 ... yes\n30/38 ... yes\n30/39 ... yes\n13/40 ... yes\n30/41 ... yes\n13/46 ... yes\n30/51 ... yes\n30/52 ... yes\n30/53 ... yes\n13/54 ... yes\n13/55 ... yes\n13/57 ... yes\n13/58 ... yes\n13/59 ... yes\n30/64 ... yes\n13/66 ... yes\n30/68 ... yes\n30/70 ... yes\n13/71 ... yes\n30/73 ... yes\n13/74 ... yes\n30/75 ... yes\n30/76 ... yes\n30/79 ... yes\n30/80 ... yes\n13/81 ... yes\n13/87 ... yes\n30/90 ... yes\n13/94 ... yes\n13/99 ... yes\n30/100 ... yes\n13/101 ... yes\n30/103 ... yes\n13/104 ... yes\n13/105 ... yes\n13/106 ... yes\n30/107 ... yes\n30/108 ... yes\n76/112 ... yes\n13/113 ... yes\n30/114 ... yes\n30/115 ... yes\n30/116 ... yes\n30/117 ... yes\n21/118 ... yes\n21/119 ... yes\n30/120 ... yes\n21/121 ... yes\n30/123 ... yes\n13/124 ... yes\n21/125 ... yes\n21/126 ... yes\n30/127 ... yes\n13/128 ... yes\n30/129 ... yes\n30/130 ... yes\n30/132 ... yes\n30/133 ... yes\n13/134 ... yes\n21/135 ... yes\n30/136 ... yes\n30/137 ... yes\n30/139 ... yes\n30/140 ... yes\n30/141 ... yes\n30/142 ... yes\n30/144 ... yes\n30/145 ... yes\n13/147 ... yes\n13/148 ... yes\n30/150 ... yes\n13/151 ... yes\n76/152 ... yes\n13/153 ... yes\n21/154 ... yes\n30/155 ... yes\n13/156 ... yes\n30/158 ... yes\n13/159 ... yes\n25/162 ... yes\n30/163 ... yes\n30/165 ... yes\n13/166 ... yes\n13/170 ... yes\n30/172 ... yes\n30/173 ... yes\n13/174 ... yes\n13/175 ... yes\n13/176 ... yes\n13/178 ... yes\n31/182 ... yes\n13/183 ... yes\n30/188 ... yes\n13/189 ... yes\n21/190 ... yes\n30/192 ... yes\n13/193 ... yes\n23/194 ... yes\n13/197 ... yes\n30/198 ... yes\n30/199 ... yes\n30/200 ... yes\n13/201 ... yes\n30/203 ... yes\n30/204 ... yes\n87/205 ... yes\n87/206 ... yes\n87/207 ... yes\n87/208 ... yes\n87/209 ... yes\n87/210 ... yes\n30/211 ... yes\n87/212 ... yes\n13/213 ... yes\n87/214 ... yes\n87/215 ... yes\n87/216 ... yes\n87/217 ... yes\n13/219 ... yes\n30/220 ... yes\n13/221 ... yes\n31/222 ... yes\n87/223 ... yes\n87/224 ... yes\n13/225 ... yes\n13/226 ... yes\n13/227 ... yes\n13/234 ... yes\n13/243 ... yes\n30/244 ... yes\n30/249 ... yes\n30/250 ... yes\n30/251 ... yes\n30/252 ... yes\n13/254 ... yes\n31/255 ... yes\n13/256 ... yes\n30/259 ... yes\n33/262 ... yes\n13/264 ... yes\n53/266 ... yes\n52/268 ... yes\n53/272 ... yes\n53/273 ... yes\n51/275 ... yes\n52/277 ... yes\n13/278 ... yes\n87/279 ... yes\n33/281 ... yes\n33/282 ... yes\n33/283 ... yes\n13/284 ... yes\n30/285 ... yes\n33/286 ... yes\n13/287 ... yes\n30/290 ... yes\n87/291 ... yes\n87/292 ... yes\n21/293 ... yes\n57/294 ... yes\n57/295 ... yes\n57/296 ... yes\n13/298 ... yes\n30/299 ... yes\n13/300 ... yes\n23/303 ... yes\n13/304 ... yes\n30/305 ... yes\n13/306 ... yes\n30/307 ... yes\n60/309 ... yes\n13/310 ... yes\n30/311 ... yes\n8/312 ... yes\n8/313 ... yes\n52/314 ... yes\n13/316 ... yes\n21/317 ... yes\n60/318 ... yes\n13/319 ... yes\n30/320 ... yes\n13/322 ... yes\n30/323 ... yes\n4/325 ... yes\n21/326 ... yes\n30/327 ... yes\n30/328 ... yes\n30/329 ... yes\n61/331 ... yes\n13/332 ... yes\n30/333 ... yes\n13/334 ... yes\n13/336 ... yes\n30/337 ... yes\n13/338 ... yes\n13/339 ... yes\n13/341 ... yes\n21/342 ... yes\n13/344 ... yes\n13/345 ... yes\n13/346 ... yes\n30/347 ... yes\n28/352 ... yes\n13/353 ... yes\n30/354 ... yes\n30/355 ... yes\n13/356 ... yes\n30/358 ... yes\n30/359 ... yes\n13/360 ... yes\n30/361 ... yes\n13/362 ... yes\n65/367 ... yes\n65/368 ... yes\n65/369 ... yes\n65/370 ... yes\n65/371 ... yes\n65/373 ... yes\n31/374 ... yes\n13/375 ... yes\n60/376 ... yes\n13/377 ... yes\n21/378 ... yes\n13/379 ... yes\n31/380 ... yes\n31/381 ... yes\n13/383 ... yes\n30/384 ... yes\n87/388 ... yes\n72/392 ... yes\n73/393 ... yes\n73/394 ... yes\n73/395 ... yes\n73/396 ... yes\n73/397 ... yes\n73/398 ... yes\n73/399 ... yes\n73/400 ... yes\n73/401 ... yes\n73/402 ... yes\n13/403 ... yes\n13/404 ... yes\n30/405 ... yes\n13/406 ... yes\n60/407 ... yes\n30/412 ... yes\n76/414 ... yes\n60/416 ... yes\n60/417 ... yes\n13/420 ... yes\n74/422 ... yes\n13/424 ... yes\n30/425 ... yes\n13/426 ... yes\n60/427 ... yes\n72/431 ... yes\n72/432 ... yes\n13/433 ... yes\n60/434 ... yes\n13/435 ... yes\n76/436 ... yes\n76/437 ... yes\n76/438 ... yes\n13/442 ... yes\n30/443 ... yes\n13/444 ... yes\n13/477 ... yes\n13/478 ... yes\n61/480 ... yes\n13/481 ... yes\n13/482 ... yes\n30/483 ... yes\n72/484 ... yes\n62/486 ... yes\n62/487 ... yes\n13/489 ... yes\n13/490 ... yes\n31/491 ... yes\n31/493 ... yes\n65/494 ... yes\n62/495 ... yes\n31/497 ... yes\n51/498 ... yes\n84/500 ... yes\n84/501 ... yes\n13/502 ... yes\n60/504 ... yes\n30/505 ... yes\n75/507 ... yes\n13/508 ... yes\n86/509 ... yes\n75/510 ... yes\n60/513 ... yes\n75/514 ... yes\n21/515 ... yes\n70/518 ... yes\n75/519 ... yes\n83/520 ... yes\n76/521 ... yes\n76/522 ... yes\n13/523 ... yes\n84/525 ... yes\n99/526 ... yes\n31/527 ... yes\n13/529 ... yes\n31/530 ... yes\n31/531 ... yes\n60/533 ... yes\n13/534 ... yes\n13/536 ... yes\n74/537 ... yes\n31/538 ... yes\n31/540 ... yes\n101/541 ... yes\n31/544 ... yes\n84/545 ... yes\n84/546 ... yes\n31/547 ... yes\n113/549 ... yes\n113/550 ... yes\n113/551 ... yes\n113/552 ... yes\n113/553 ... yes\n113/554 ... yes\n113/555 ... yes\n113/556 ... yes\n114/557 ... yes\n112/558 ... yes\n112/559 ... yes\n112/560 ... yes\n112/561 ... yes\n112/562 ... yes\n112/563 ... yes\n112/564 ... yes\n112/565 ... yes\n112/566 ... yes\n112/567 ... yes\n112/568 ... yes\n112/569 ... yes\n112/570 ... yes\n112/571 ... yes\n112/572 ... yes\n112/573 ... yes\n112/574 ... yes\n115/575 ... yes\n62/576 ... yes\n62/578 ... yes\n100/579 ... yes\n31/580 ... yes\n117/581 ... yes\n31/582 ... yes\n119/583 ... yes\n13/584 ... yes\n112/586 ... yes\n60/587 ... yes\n31/588 ... yes\n101/589 ... yes\n121/590 ... yes\n31/593 ... yes\n84/594 ... yes\n75/595 ... yes\n75/596 ... yes\n13/597 ... yes\n51/598 ... yes\n53/600 ... yes\n31/601 ... yes\n31/602 ... yes\n13/603 ... yes\n13/604 ... yes\n53/605 ... yes\n127/606 ... yes\n129/607 ... yes\n62/609 ... yes\n62/610 ... yes\n62/611 ... yes\n62/613 ... yes\n62/614 ... yes\n62/615 ... yes\n62/616 ... yes\n62/617 ... yes\n62/618 ... yes\n62/619 ... yes\n62/620 ... yes\n62/621 ... yes\n62/622 ... yes\n62/623 ... yes\n62/624 ... yes\n62/626 ... yes\n62/627 ... yes\n62/628 ... yes\n62/629 ... yes\n62/630 ... yes\n62/631 ... yes\n62/632 ... yes\n13/633 ... yes\n13/634 ... yes\n62/635 ... yes\nRedis version \u003e= 5.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.4)\nGit version \u003e= 2.31.0 ? ... no\nYour git bin path is \"/usr/bin/git\"\n  Try fixing it:\n  Update your git to a version \u003e= 2.31.0 from Unknown\n  Please fix the error above and rerun the checks.\nGit user has default SSH configuration? ... yes\nActive users: ... 40\nIs authorized keys file accessible? ... skipped (authorized keys not enabled)\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\nElasticsearch version 7.x (6.4 - 6.x deprecated to be removed in 13.8)? ... yes (6.8.13)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\u003c/pre\u003e\n\u003c/details\u003e\n\n## Implementation plan\n\nThis is an ordering issue with `Environment#last_deployment`. To fix this, we could order deployments by `finished_at`. Example:\n\n```diff\ndiff --git a/app/models/environment.rb b/app/models/environment.rb\nindex 450ed6206d5..ae204fa1ae2 100644\n--- a/app/models/environment.rb\n+++ b/app/models/environment.rb\n@@ -26,7 +26,7 @@ class Environment \u003c ApplicationRecord\n   has_many :self_managed_prometheus_alert_events, inverse_of: :environment\n   has_many :alert_management_alerts, class_name: 'AlertManagement::Alert', inverse_of: :environment\n \n-  has_one :last_deployment, -\u003e { success.distinct_on_environment }, class_name: 'Deployment', inverse_of: :environment\n+  has_one :last_deployment, -\u003e { success.ordered }, class_name: 'Deployment', inverse_of: :environment\n   has_one :last_visible_deployment, -\u003e { visible.distinct_on_environment }, inverse_of: :environment, class_name: 'Deployment'\n   has_one :last_visible_deployable, through: :last_visible_deployment, source: 'deployable', source_type: 'CommitStatus', disable_joins: true\n   has_one :last_visible_pipeline, through: :last_visible_deployable, source: 'pipeline', disable_joins: true\n```\n\nIt may be worth looking into other uses of `distinct_on_environment` to see if they have similar ordering issues.","state":"closed","created_at":"2021-09-28T13:51:27.460Z","updated_at":"2022-04-28T17:00:54.130Z","closed_at":"2022-04-06T19:24:04.609Z","closed_by":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"labels":["Category:Environment Management","Deliverable","Next Up","SUS::Impacting","UX","backend","customer","devops::release","group::release","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"}],"author":{"id":2931023,"username":"weatherfrog","name":"Weatherfrog","state":"active","avatar_url":"https://secure.gravatar.com/avatar/807f57b079a71653bf544bb194e92fcb?s=80\u0026d=identicon","web_url":"https://gitlab.com/weatherfrog"},"type":"ISSUE","assignee":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"user_notes_count":16,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341840","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341840","notes":"https://gitlab.com/api/v4/projects/278964/issues/341840/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341840/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341840","relative":"#341840","full":"gitlab-org/gitlab#341840"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94455491,"iid":341838,"project_id":278964,"title":"Tag sharing the same name as protected branch could be checked out in place of intended branch in newly cloned repository","description":"**[HackerOne report #1314067](https://hackerone.com/reports/1314067)** by `arw9234` on 2021-08-21, assigned to @vdesousa:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nGitlab currently allows a branch and a tag to share the same name. This creates ambiguity with certain git commands such as `git checkout`, similar to the problem in #790634. If a tag is created with the same name as an existing protected branch, then cloning the repository and trying to checkout the branch using `git checkout branch_name` will instead checkout the tag. A user with Developer permissions in a repository can use this to have their branch checked out in place of a protected one by dependencies.\n\n#####  Steps to reproduce\n\n1. [Create a repository](https://gitlab.com/projects/new#blank_project) on gitlab.com  \n2. Run the following script (replace the value of `REPO` at the top with your repository):  \n```bash  \nREPO='username/your_repo_here'  \nmkdir test1 \u0026\u0026 mkdir test2 \u0026\u0026 mkdir test3 \u0026\u0026 cd test1\n\n###  set up branch that we want to checkout  \ngit clone \"git@gitlab.com:$REPO\" \u003e /dev/null 2\u003e\u00261 \u0026\u0026 cd $(basename $REPO)  \ngit checkout -b some_branch \u003e /dev/null 2\u003e\u00261  \necho 'expected content' \u003e file.txt  \ngit add . \u003e /dev/null 2\u003e\u00261  \ngit commit -m setup \u003e /dev/null 2\u003e\u00261  \ngit push origin --set-upstream some_branch \u003e /dev/null 2\u003e\u00261  \necho \"Pushed expected content to branch some_branch\\n\"\n\n###  try to clone repo and checkout some_branch  \ncd ../../test2  \ngit clone \"git@gitlab.com:$REPO\" \u003e /dev/null 2\u003e\u00261 \u0026\u0026 cd $(basename $REPO)  \ngit checkout some_branch \u003e /dev/null 2\u003e\u00261  \necho 'Tried to clone repo and checkout some_branch'  \necho 'Expecting file.txt to contain: expected content'  \necho \"It actually contained: $(cat file.txt)\\n\"\n\n###  set up maliciously tagged branch, which will override some_branch  \ncd \"../../test1/$(basename $REPO)\"  \ngit checkout -b some_other_branch \u003e /dev/null 2\u003e\u00261  \necho 'malicious content' \u003e file.txt  \ngit add . \u003e /dev/null 2\u003e\u00261  \ngit commit -m setup \u003e /dev/null 2\u003e\u00261  \ngit tag some_branch \u003e /dev/null 2\u003e\u00261  \ngit push origin --tags --set-upstream some_other_branch \u003e /dev/null 2\u003e\u00261  \necho \"Set up maliciously tagged branch\\n\"\n\n###  try to clone repo and checkout some_branch again  \ncd ../../test3  \ngit clone \"git@gitlab.com:$REPO\" \u003e /dev/null 2\u003e\u00261 \u0026\u0026 cd $(basename $REPO)  \ngit checkout some_branch \u003e /dev/null 2\u003e\u00261  \necho 'Tried to clone repo and checkout some_branch'  \necho 'Expecting file.txt to contain: expected content'  \necho \"It actually contained: $(cat file.txt)\"  \n```  \n3. The clone in `test2` will contain the text `expected content` in `file.txt`, while the clone in `test3` will contain the text `malicious content` in `file.txt`, even though the branch `some_branch` was checked out in both.\n\n#####  Impact\n\nA user with developer permissions in a repository can cause their branch to be checked out by dependencies or automated scripts that intend to check out another. This could cause their code to be ran in place of trusted code from a protected branch in programs that depend on a project on gitlab.\n\n#####  What is the current *bug* behavior?\n\nGitlab allows branches and tags to share the same name, which creates ambiguity with certain git commands.\n\n#####  What is the expected *correct* behavior?\n\nGitlab should not permit branches and tags with the same name.\n\nIf this is not possible (I'm not sure if any repositories are intentionally creating branches and tags with the same name, but there could be some), then gitlab could specifically restrict users who do not have permission to push to a protected branch from creating a tag with the same name. So, if branch `v2.0` exists and is protected, Developers can't create a tag named `v2.0`, but Maintainers and above can. If branch `v2.0` exists but is not protected, Developers can create a tag named `v2.0` (since they could just push to the branch anyway). This would solve the issue of Developers being able to override checkouts of protected branches while still allowing branches and tags to share the same name if that functionality is needed.\n\n#####  Relevant logs and/or screenshots\n\nOutput of the above script with git version 2.30.2:  \n```  \nPushed expected content to branch some_branch\n\nTried to clone repo and checkout some_branch  \nExpecting file.txt to contain: expected content  \nIt actually contained: expected content\n\nSet up maliciously tagged branch\n\nTried to clone repo and checkout some_branch  \nExpecting file.txt to contain: expected content  \nIt actually contained: malicious content  \n```\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n######  Results of GitLab environment info\n\nI tested this entirely against gitlab.com, which would be GitLab Enterprise Edition 14.3.0-pre, instead of using my own GitLab instance.\n\nBest regards,  \n[@]arw9234\n\n####  Impact\n\nA user with Developer permissions could trick dependencies of a project into checking out their branch in place of a protected branch and running attacker-controlled code.\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2021-09-28T13:43:38.288Z","updated_at":"2022-02-21T12:26:29.645Z","closed_at":"2022-01-21T03:57:46.614Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Category:Source Code Management","Eng-Consumer::Security","Eng-Producer::Development","Engineering Allocation","HackerOne","Weakness::CWE-840","backend","bug::vulnerability","devops::create","group::source code","priority::3","section::dev","security","security-backlog::review-complete","severity::3","type::bug","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":43,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-12-27","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341838","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341838","notes":"https://gitlab.com/api/v4/projects/278964/issues/341838/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341838/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341838","relative":"#341838","full":"gitlab-org/gitlab#341838"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7128,"epic":{"id":384256,"iid":7128,"title":"Security Engineering Allocation (Source Code BE): 10-NOV-2021","url":"/groups/gitlab-org/-/epics/7128","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94445307,"iid":341823,"project_id":278964,"title":"Add namespaces filtering to exclude `ProjectNamespaces` when fetching `Group`s","description":"Before we can backfill a `ProjectNamespace` for each `Project` we need to ensure that current `Namespace` behaviours as `Group` or `user namespace` is kept, so we need to filter out `ProjectNamespaces` types from code where `Group` or `user namespace` is expected, related thread in a POC MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70972/diffs#note_685493226\n\n* [x] update APIs REST/GraphQL - acroitor - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71987\n* [x] update group descendant/children queries - jprovaznik - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72119\n* [x] update scopes in Namespace model - cablett\n* [x] routes autocomplete finder - jprovaznik - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72862\n* [x] group transfer - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72863\n* [x] CI minutes reset - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72980","state":"closed","created_at":"2021-09-28T12:10:46.606Z","updated_at":"2022-02-01T09:58:29.898Z","closed_at":"2021-11-08T12:55:25.158Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["auto updated","devops::manage","group::organization","missed:14.4","section::dev","workflow::in dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341823","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341823","notes":"https://gitlab.com/api/v4/projects/278964/issues/341823/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341823/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341823","relative":"#341823","full":"gitlab-org/gitlab#341823"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6814,"epic":{"id":355782,"iid":6814,"title":"Project create should ensure a corresponding ProjectNamespace record is created","url":"/groups/gitlab-org/-/epics/6814","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94438302,"iid":341814,"project_id":278964,"title":"Handle similar naming between project and its sibling namespaces under same parent namespace","description":"Currently we do not allow 2 child groups to have the same name within a group but we do allow a project to have the same name as any of the child groups if using a different path. E.g.\n![Screenshot_2021-09-28_at_13.09.48](/uploads/c724c09c736b4228306f1581f4a1daea/Screenshot_2021-09-28_at_13.09.48.png)\n\nSo now when we introduce a `ProjectNamespace` linked to the `Project` we need to allow cases where a project may have the same name as one of the groups within its parent namespace, but not more than one. \n\nWe can do this by dropping the existing UNIQUE index on `name, parent_id` columns in `namespaces` table by first adding an UNIQUE index across `name, parent_id, type` columns. This will maintain existing unique constraint why still allowing to transition a `Project` with same name as a sibling `Group` to a `ProjectNamespace`.\n\nHowever that does bring the question of what happens when we will migrate off `Project` we will end-up with some child groups having the same name(not the same path as that is validated as being unique across its full path name).","state":"closed","created_at":"2021-09-28T10:19:36.665Z","updated_at":"2021-10-06T09:09:13.733Z","closed_at":"2021-10-06T09:09:13.710Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["auto updated","devops::manage","group::organization","section::dev","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341814","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341814","notes":"https://gitlab.com/api/v4/projects/278964/issues/341814/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341814/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341814","relative":"#341814","full":"gitlab-org/gitlab#341814"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6814,"epic":{"id":355782,"iid":6814,"title":"Project create should ensure a corresponding ProjectNamespace record is created","url":"/groups/gitlab-org/-/epics/6814","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94436819,"iid":341811,"project_id":278964,"title":"Remove unused CI template inclusion tracking metrics","description":"## Summary\n\nAfter removing the manual template name to event conversion (https://gitlab.com/gitlab-org/gitlab/-/issues/341071) we're left with a couple of unused metric definitions. We should remove these metrics.\n\n- `p_ci_templates_5_min_production_app`\n- `p_ci_templates_aws_cf_deploy_ec2`\n- `p_ci_templates_auto_devops_build`\n- `p_ci_templates_auto_devops_deploy`\n- `p_ci_templates_auto_devops_deploy_latest`\n\n## Proposal\n\nThese metrics should be removed according to the usage ping metric removal policy - https://docs.gitlab.com/ee/development/service_ping/metrics_lifecycle.html#removal-policy","state":"closed","created_at":"2021-09-28T09:57:10.534Z","updated_at":"2021-12-06T15:22:35.362Z","closed_at":"2021-12-06T15:22:30.822Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["auto updated","devops::configure","group::configure","maintenance::refactor","product intelligence","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341811","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341811","notes":"https://gitlab.com/api/v4/projects/278964/issues/341811/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341811/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341811","relative":"#341811","full":"gitlab-org/gitlab#341811"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94435548,"iid":341809,"project_id":278964,"title":"[Feature flag] Rollout mr_changes_fluid_layout","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/340761) on production,\nthat is currently behind the `mr_changes_fluid_layout` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::code review\" \n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: `@iamphill`\n- PM: `@phikai`\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org/gitlab-foss` project\n- `gitlab-com/www-gitlab-com` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing projects/groups first\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment. `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-09-28T09:41:51.749Z","updated_at":"2022-01-26T12:15:02.204Z","closed_at":"2022-01-26T12:15:02.189Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Stretch","auto updated","devops::create","feature flag","frontend","group::code review","missed:14.4","missed:14.6","missed:14.7","section::dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341809","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":13},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"13 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341809","notes":"https://gitlab.com/api/v4/projects/278964/issues/341809/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341809/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341809","relative":"#341809","full":"gitlab-org/gitlab#341809"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94406508,"iid":341779,"project_id":278964,"title":"Add Via header when using new RunnerService","description":"In order to allow detection of messages we send, a header \"Via\" is added to all outgoing requests. This header is missing from the new integrated runner.\n\n### Proposal\n\nAdd the Via header when generating the request/operations.\n\n```\nVia: HTTP/1.1 GitLabApiSecurity 0.0.0\n```","state":"closed","created_at":"2021-09-27T20:57:24.558Z","updated_at":"2021-10-28T13:52:12.418Z","closed_at":"2021-09-29T14:18:47.053Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:DAST","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341779","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341779","notes":"https://gitlab.com/api/v4/projects/278964/issues/341779/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341779/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341779","relative":"#341779","full":"gitlab-org/gitlab#341779"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6502,"epic":{"id":317541,"iid":6502,"title":"API Security scanner speed improvements","url":"/groups/gitlab-org/-/epics/6502","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94396190,"iid":341765,"project_id":278964,"title":"Cleanup bad data left from leaky SQL regex","description":"In a prior, now reverted migration (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67687#note_649843625), we attempted to populate the draft column based on the \"draft\" or \"WIP\" nature of the title, mirroring what is used in `MergeRequest#draft?`. However, an error in the SQL regexp caused us to grab an additional number of MRs and label them as \"draft\".\n\nWe will introduce a migration that finds all MRs that\n\n1. are `draft: true`\n1. match the original \"leaky\" regexp\n1. do NOT match the new, \"corrected\" regexp\n\nThis should give us the set of MRs that were incorrectly modified. We then update them to `draft: false`\nRelated to #337861 !70735","state":"closed","created_at":"2021-09-27T17:07:05.827Z","updated_at":"2022-03-31T14:59:17.037Z","closed_at":"2022-03-28T18:18:29.622Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["auto updated","backend","database","devops::create","group::code review","missed:14.8","section::dev","type::feature"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341765","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341765","notes":"https://gitlab.com/api/v4/projects/278964/issues/341765/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341765/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341765","relative":"#341765","full":"gitlab-org/gitlab#341765"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94390509,"iid":341759,"project_id":278964,"title":"[MR Widget Eng] MR Widget Extensions Rollout","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [Merge Request Report Widgets](https://gitlab.com/groups/gitlab-org/-/epics/6644) on production,\nthat is currently behind the `refactor_mr_widgets_extensions_user` and `refactor_mr_widgets_extensions` feature flags.\n\nThese flags should toggle rendering either the legacy merge request widgets or the newer report widget extensions. Confirm that when the ~\"feature flag\" is set to `true` that the legacy widgets **do not render**.\n\n### DRI's\n\n- Accessibility\n  - [x] @gdoyle\n  - [x] @mfluharty\n- Browser performance\n  - [x] @gdoyle \n  - [x] @mfluharty \n- Code quality\n  - [x] @mfangman \n  - [x] @jannik_lehmann \n- License compliance\n  - [x] @andyvolpe \n  - [x] @farias-gl \n- Metrics\n  - [x] @gdoyle \n  - [x] @mfluharty \n- Security\n  - [ ] @beckalippert \n  - [x] @svedova \n- Terraform\n  - [x] @andlovu \n  - [x] @anna_vovchenko \n- Test summary\n  - [x] @gdoyle \n  - [x] @mfluharty \n- Status checks\n  - [x] @seggenberger \n  - [x] @jiaan \n- Load performance\n  - [x] @gdoyle \n  - [x] @mfluharty \n\n## Owners\n\n- Team: NAME_OF_TEAM\n- Most appropriate slack channel to reach out to: `#g_TEAM_NAME`\n- Best individual to reach out to: NAME\n- PM: NAME\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org/gitlab-foss` project\n- `gitlab-com/www-gitlab-com` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [ ] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing projects/groups first\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment. `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-09-27T15:25:47.752Z","updated_at":"2022-10-21T12:01:36.225Z","closed_at":"2022-10-13T11:28:44.103Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","WorkingGroup::MergeRequestReportWidgets","auto updated","devops::create","feature flag","feature::enhancement","frontend","group::code review","missed-deliverable","missed:15.1","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":44,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341759","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":70,"completed_count":21},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"21 of 70 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341759","notes":"https://gitlab.com/api/v4/projects/278964/issues/341759/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341759/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341759","relative":"#341759","full":"gitlab-org/gitlab#341759"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6644,"epic":{"id":337727,"iid":6644,"title":"Merge Request Report Widgets Working Group","url":"/groups/gitlab-org/-/epics/6644","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94389627,"iid":341758,"project_id":278964,"title":"Use structure.sql instead of schema.rb for the Geo tracking database","description":"#### Summary\n\nTo accomplish https://gitlab.com/gitlab-org/gitlab/-/issues/340083, we need to use SQL instead of Active Record's schema for the Geo tracking database because the `schema_format` is a global setting and the way to dynamically set the format looks very hacky: https://stackoverflow.com/questions/53707704/how-to-dynamically-set-schema-format-for-custom-db-rake-tasks-in-rails.","state":"closed","created_at":"2021-09-27T15:11:42.869Z","updated_at":"2021-12-17T21:02:16.829Z","closed_at":"2021-10-04T15:39:03.844Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Enterprise Edition","GitLab Premium","devops::systems","group::geo","section::enablement","type::feature","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341758","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341758","notes":"https://gitlab.com/api/v4/projects/278964/issues/341758/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341758/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341758","relative":"#341758","full":"gitlab-org/gitlab#341758"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6458,"epic":{"id":315113,"iid":6458,"title":"Geo should use Rails 6 many databases support","url":"/groups/gitlab-org/-/epics/6458","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94388634,"iid":341754,"project_id":278964,"title":"Follow-up from \"Skip Product Intelligence review for growth experiments MRs\"","description":"The following discussion from !70907 should be addressed:\n\n- [ ] @rymai started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70907#note_685018508):  (+1 comment)\n\n    \u003e **question (non-blocking):** Was there a reason to have this specific file detection logic instead of relying on `project_helper.changes_by_category`? I think we could move the patterns to https://gitlab.com/gitlab-org/gitlab/-/blob/16903a6c6af215ea0ff07d9549de37cd5439e96b/tooling/danger/project_helper.rb#L36-141 and use `product_intelligence_paths_to_review = project_helper.changes_by_category[:product_intelligence]` in `danger/product_intelligence/Dangerfile` instead of `matching_changed_files = product_intelligence.matching_changed_files`.\n    \u003e \n    \u003e This can be done in a follow-up.\n\n## Summary\n\nProduct intelligence review was initially only a warning.\n\nLater we added the `product_intelligence` category and added the review in Danger roullete.\n\nWe can now move all logic for matching the files in https://gitlab.com/gitlab-org/gitlab/-/blob/16903a6c6af215ea0ff07d9549de37cd5439e96b/tooling/danger/project_helper.rb#L36-141 remove customer logic from [`Tooling::Danger::ProductIntelligence`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/tooling/danger/product_intelligence.rb#L42)","state":"closed","created_at":"2021-09-27T14:55:20.127Z","updated_at":"2021-11-01T19:12:44.728Z","closed_at":"2021-11-01T19:12:44.711Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["auto updated","backend","devops::growth","group::product intelligence","maintenance::refactor","product intelligence::onboarding issue","section::growth","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341754","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341754","notes":"https://gitlab.com/api/v4/projects/278964/issues/341754/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341754/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341754","relative":"#341754","full":"gitlab-org/gitlab#341754"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94370004,"iid":341741,"project_id":278964,"title":"Clarify \"Test jobs\" section in the development pipelines documentation","description":"The following discussion from !70974 should be addressed:\n\n- [ ] @godfat-gitlab started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70974#note_687834847): \n\n    \u003e I know this is moved over, and I tried to review on the review app rather than looking at the diff. This title jumps out because it's not clear to me what this section is trying to say if I just look at this title.\n    \u003e \n    \u003e What do you think about something like:\n    \u003e \n    \u003e ``` suggestion\n    \u003e ## Selective jobs\n    \u003e ```\n    \u003e \n    \u003e Or:\n    \u003e \n    \u003e ``` suggestion\n    \u003e ## Selective subset of jobs\n    \u003e ```\n\nThe following discussion from !70974 should be addressed:\n\n- [ ] @godfat-gitlab started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70974#note_687834859): \n\n    \u003e I am not very clear how this is relevant :thinking: I see it might be trying to say that we don't run system tests where only unit tests are needed, but this isn't obvious reading the page to me.\n    \u003e \n    \u003e It's not completely the same, but I feel this is more relevant to `Pipelines types for merge requests` in the same page: http://main-ee-70974.178.62.207.141.nip.io/ee/development/pipelines.html#pipelines-types-for-merge-requests\n    \u003e \n    \u003e Perhaps we can rework this section in the next iteration.","state":"closed","created_at":"2021-09-27T13:21:17.773Z","updated_at":"2022-03-16T11:36:46.526Z","closed_at":"2021-10-13T12:38:54.481Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","development guidelines","documentation","type::maintenance","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":6290669,"username":"godfat-gitlab","name":"Lin Jen-Shin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6290669/avatar.png","web_url":"https://gitlab.com/godfat-gitlab"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341741","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341741","notes":"https://gitlab.com/api/v4/projects/278964/issues/341741/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341741/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341741","relative":"#341741","full":"gitlab-org/gitlab#341741"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94356451,"iid":341730,"project_id":278964,"title":"[Feature flag] Rollout of `ci_use_new_monthly_minutes`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout the new CI minutes monthly tracking on production,\nthat is currently behind the `ci_use_new_monthly_minutes` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nWith this feature flag we will switch to a new architecture for tracking and enforcing CI minutes. The new tracking allows us to:\n- have an historical view of the CI minutes used per namespace and project\n- lazily create records when a new month starts - This in turns allows us to deprecate the large cron job worker that resets CI minutes across the instance\n- have a more efficient code since we use tables that are specific to CI domain - as opposed to the legacy tracking that uses `namespace_statistics`\n\n## Owners\n\n- Team: ~\"group::pipeline execution\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-execution`\n- Best individual to reach out to: @fabiopitino \n- PM: @jheimbuck_gl \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org/gitlab-foss` project\n- `gitlab-com/www-gitlab-com` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [x] Roll out the feature to targeted testing projects/groups first\n    - [x] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [x] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n- [x] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n    - `ci_use_new_monthly_minutes` flag must be enabled globally for the cron job recalculation of additional CI minutes to be skipped in favour of the lazy reset.\n- [x] Enable the feature globally on production environment. `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-09-27T10:20:50.953Z","updated_at":"2022-02-01T22:36:36.353Z","closed_at":"2022-02-01T10:20:12.366Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["CI minutes","Category:Continuous Integration","backend","devops::verify","feature flag","group::pipeline execution","missed:14.5","missed:14.6","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341730","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":49,"completed_count":22},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"22 of 49 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341730","notes":"https://gitlab.com/api/v4/projects/278964/issues/341730/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341730/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341730","relative":"#341730","full":"gitlab-org/gitlab#341730"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4840,"epic":{"id":140298,"iid":4840,"title":"Deprecate CI minutes reset jobs in favour of tracking historical usage data","url":"/groups/gitlab-org/-/epics/4840","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":94348345,"iid":341724,"project_id":278964,"title":"Remove index_for_resource_group from ci_builds","description":"As we merged the changes mentioned in https://gitlab.com/gitlab-org/gitlab/-/issues/340381#note_677741427 we can check and remove `index_for_resource_group` on `ci_builds` table.","state":"closed","created_at":"2021-09-27T08:35:13.019Z","updated_at":"2021-11-15T20:47:44.691Z","closed_at":"2021-11-15T20:47:44.665Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Category:Continuous Delivery","Release::P3","auto updated","backend","devops::release","group::release","maintenance::refactor","resource groups","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":9253328,"username":"bala.kumar","name":"Bala Kumar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9253328/avatar.png","web_url":"https://gitlab.com/bala.kumar"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341724","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341724","notes":"https://gitlab.com/api/v4/projects/278964/issues/341724/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341724/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341724","relative":"#341724","full":"gitlab-org/gitlab#341724"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94334678,"iid":341714,"project_id":278964,"title":"Console error when viewing external issue (Jira, ZenTao)","description":"The following discussion from !69930 should be addressed:\n\n- [ ] @tomquirk started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69930#note_687306765): \n\n    \u003e **issue** code in `ee/app/assets/javascripts/integrations/external_issue/issues_show/components/sidebar/issue_field.vue` is producing a runtime exception:\n    \u003e \n    \u003e ![Screen_Shot_2021-09-27_at_2.26.16_pm](/uploads/8d8bf420023b5c08405f3c881b6d9d62/Screen_Shot_2021-09-27_at_2.26.16_pm.png)\n    \u003e \n    \u003e It wasn't introduced in this MR, and this code is behind a feature flag disabled by default, so we can address it in a follow-up.","state":"closed","created_at":"2021-09-27T04:59:58.981Z","updated_at":"2022-11-22T19:24:17.927Z","closed_at":"2021-10-28T06:08:56.831Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Deliverable","Integration::Jira","devops::manage","frontend","group::integrations","section::dev","type::bug","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341714","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341714","notes":"https://gitlab.com/api/v4/projects/278964/issues/341714/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341714/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341714","relative":"#341714","full":"gitlab-org/gitlab#341714"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94332464,"iid":341710,"project_id":278964,"title":"Follow-up from \"Feature ZenTao integration: Extract Issue Detail Part\"","description":"The following discussion from !69930 should be addressed:\n\n- [ ] @tomquirk started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69930#note_687289672): \n\n    \u003e **suggestion (non-blocking)**: I discovered that these constants already exist elsewhere in `app/assets/javascripts/issue_show/constants.js`: we should consolidate these 2 files so that we have a Single Source of Truth for these issuable constants.\n    \u003e \n    \u003e I'll create a follow-up issue!","state":"closed","created_at":"2021-09-27T04:12:02.987Z","updated_at":"2022-11-22T19:24:18.647Z","closed_at":"2021-10-26T21:58:40.249Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Deliverable","Integration::ZenTao","auto updated","automation:ml","automation:ml wrong","devops::manage","frontend","group::integrations","maintenance::refactor","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341710","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341710","notes":"https://gitlab.com/api/v4/projects/278964/issues/341710/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341710/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341710","relative":"#341710","full":"gitlab-org/gitlab#341710"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94325765,"iid":341703,"project_id":278964,"title":"Recommend integrations changes receive an approval from the integrations team","description":"### About\n\n~\"group::integrations\" are responsible for the performance and security of code marked `category: integrations`. \n\nThe quality of our codebase affects the group with regards to:\n\n- Error budgets.\n- Feature change locks.\n\n~\"Category:Integrations\" codebase is reasonably unique in that other groups can consider themselves owners of certain integrations. \n\nTo align with our responsibility to the category, we need more oversight into the quality of integrations code contributed.\n\nAs a single data point of the problem: when I authored the Confluence integration https://gitlab.com/gitlab-org/gitlab/-/merge_requests/36262 as part of Create:Knowledge, I was unaware of an integrations group (ecosystem, then), or that another team might have interest in new integrations code. The MR received the required number of approvals by members of Knowledge and Stability. The MR was very simple, but Knowledge had extensive plans to expand it https://gitlab.com/groups/gitlab-org/-/epics/3629.\n\n### Proposal\n\nMerge requests that touch integrations code should receive at least one approval from an integrations team member, like how a product intelligence review [is recommended](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61743#note_575277346) by GitLab Bot through `Danger` (see https://gitlab.com/gitlab-org/gitlab-dangerfiles/-/merge_requests/25 and [`tooling/danger/project_helper.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/f566268a46efb202565cffaf3f26b15e8ee0053a/tooling/danger/project_helper.rb).\n\nThis would be recommended but not enforced (similar to product intelligence).\n\n### What might we review?\n\nWe can use git history to get a sense of changes authored outside of the integrations team to our integrations model code if we look at the (old) `app/models/project_services` directory. \n\nThere’s a recent flurry of documentation-related changes, but this was an anomaly while there was a documentation drive. We go back to [around March 2021](https://gitlab.com/gitlab-org/gitlab/-/commits/ff32d3705f06325238bafa6226ebc1b796c78b85/app/models/project_services) to get a better look. \n\nNotes:\n\n- Some of these may have been reviewed by integrations team members.\n- These don't represent \"dangerous\" changes, but just the frequency and kind of contributions.\n- This is just one directory.\n\nChanges ~6 months-worth:\n\n- March 2021: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/57434 \n- Feb 2021: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53534\n- Jan 2021: 94c62315ed0621ff359ace9450dbed1f7a616291\n- Jan 2021: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/51908\n- Jan 2021: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50794\n- Dec 2020: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50030\n- Nov 2020: 22504bd31d1bcc89fe422ee25e11459486a2a0aa\n- Nov 2020: bfb73335eb4bb329c25cf8ca8350753ac6a96ee6\n- Oct 2020: 7e70ed4c97d507e3116dd939dbc4ddcc00d6d28f\n\nThere were a few changes during that period that would probably constitute noise 611071d95f15433bf4c27c990268e3812bca677c 92db697a3fb0c998d432878d807be63a1c930219 0da7697fe014d25f5f3ff4d0cbaa5222ceb991ab c938349ffcec45d7cf73ee079cb9077091cd40d2.","state":"closed","created_at":"2021-09-27T00:00:35.683Z","updated_at":"2022-11-22T19:24:19.442Z","closed_at":"2021-10-20T20:50:21.272Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["auto updated","devops::manage","group::integrations","meta","section::dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341703","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341703","notes":"https://gitlab.com/api/v4/projects/278964/issues/341703/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341703/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341703","relative":"#341703","full":"gitlab-org/gitlab#341703"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94273818,"iid":341675,"project_id":278964,"title":"[Feature flag] Cleanup of `new_dir_modal`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `\u003cnew-dir-modal\u003e` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Source Code\n- Most appropriate slack channel to reach out to: `#g_create_source-code`\n- Best individual to reach out to:@sming-gitlab\n- PM:\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org/gitlab-foss` project\n- `gitlab-com/www-gitlab-com` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [ ] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing projects/groups first\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [ ] Enable the feature globally on production environment. `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [x] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-09-24T18:32:11.436Z","updated_at":"2022-04-18T07:01:05.404Z","closed_at":"2022-03-28T06:21:05.446Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","auto updated","devops::create","feature flag","frontend","group::source code","missed-deliverable","missed:14.6","section::dev"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341675","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341675","notes":"https://gitlab.com/api/v4/projects/278964/issues/341675/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341675/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341675","relative":"#341675","full":"gitlab-org/gitlab#341675"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":94218794,"iid":341626,"project_id":278964,"title":"Import Metrics project_counter does not need to be public","description":"The following discussion from !70012 should be addressed:\n\n- [ ] @dstull started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70012#note_685787387): \n\n    \u003e projects_counter does not need to be public spawning issue to resolve.","state":"closed","created_at":"2021-09-23T19:17:08.222Z","updated_at":"2021-10-28T21:21:29.483Z","closed_at":"2021-09-27T17:31:19.626Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["Category:Importers","auto updated","devops::manage","group::import","instrumentation","maintenance::refactor","section::dev","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341626","notes":"https://gitlab.com/api/v4/projects/278964/issues/341626/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341626/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341626","relative":"#341626","full":"gitlab-org/gitlab#341626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94211342,"iid":341623,"project_id":278964,"title":"Add GraphQL for group usage quotas for CI usage historical data by month/project","description":"### Proposal \n\nIn order to support https://gitlab.com/gitlab-org/gitlab/-/issues/341509, we need a new end point for the group quotas page, which matches the implementation in the users usage quota: https://gitlab.com/gitlab-org/gitlab/-/issues/332069\n\n#### **The GraphQL response for CI minutes usage:**\n\n```javascript\n// ciMinutesUsage.nodes\n\n[\n  {\n    \"month\": \"January\",\n    \"minutes\": 310,\n    \"projects\": [\n      { \"name\": \"Project-1\", \"minutes\": 100 },\n      { \"name\": \"Project-2\", \"minutes\": 120 },\n      { \"name\": \"Project-3\", \"minutes\": 90 },\n    ],\n  },\n  {\n    \"month\": \"February\",\n    \"minutes\": 310,\n    \"projects\": [\n      { \"name\": \"Project-1\", \"minutes\": 100 },\n      { \"name\": \"Project-2\", \"minutes\": 120 },\n      { \"name\": \"Project-3\", \"minutes\": 90 },\n    ],\n  },\n];\n```\n\n**The example GraphQL query**\n\n```graphql\nquery {\n  ciMinutesUsage(group: 'gitlab-org') {\n    nodes {\n      month\n      minutes\n      projects {\n        nodes {\n          name\n          minutes\n        }\n      }\n    }\n  }\n}\n```\n\n#### Technical details\n\nAdd a `group` filter to the `ci_minutes_usage` field on `EE::QueryType`. This may require the creation of a new resolver.","state":"closed","created_at":"2021-09-23T18:29:07.288Z","updated_at":"2022-01-05T09:07:50.147Z","closed_at":"2022-01-05T09:07:50.130Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["CI minutes","Category:Continuous Integration","Verify::P2","auto updated","backend","devops::verify","group::pipeline execution","missed:14.6","quad-planning::complete-no-action","section::ops","type::feature","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":11,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341623","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341623","notes":"https://gitlab.com/api/v4/projects/278964/issues/341623/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341623/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341623","relative":"#341623","full":"gitlab-org/gitlab#341623"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94211216,"iid":341622,"project_id":278964,"title":"Exclude projects that cannot see the security MR widget from the security_reports_mr_widget_prompt experiment","description":"# Overview\n\nWe're looking to launch an experiment to drive SAST adoption by creating an empty state for the security MR widget. I did not realize when writing up the experiment that the widget does not display for non-ultimate private projects. In order to have clean data, we'll need to exclude any projects from having their namespace enrolled in the experiment if they are not able to view the security MR widget, otherwise we'll create strange user experiences and challenging data. \n\nAs part of our testing we also discovered an issue where we are tracking assignment events for users that do not have write access to the repo. \n\n# Requirements\n\n- When deciding which namespaces get enrolled in the experiment upon viewing the MR page, we should exclude any that do not have the ability to see the security MR widget.\n- Do not track assignment events for users that do not have write access to the repo of the corresponding project","state":"closed","created_at":"2021-09-23T18:26:07.997Z","updated_at":"2021-10-25T17:53:44.120Z","closed_at":"2021-10-25T17:53:44.094Z","closed_by":{"id":4068412,"username":"mkarampalas","name":"Michael Karampalas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b1427f54773954af4d75c5514504229b?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkarampalas"},"labels":["auto updated","devops::growth","group::adoption DEPRECATED","growth experiment","section::growth","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4303974,"username":"jejacks0n1","name":"Jeremy Jackson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303974/avatar.png","web_url":"https://gitlab.com/jejacks0n1"}],"author":{"id":4068412,"username":"mkarampalas","name":"Michael Karampalas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b1427f54773954af4d75c5514504229b?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkarampalas"},"type":"ISSUE","assignee":{"id":4303974,"username":"jejacks0n1","name":"Jeremy Jackson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303974/avatar.png","web_url":"https://gitlab.com/jejacks0n1"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341622","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341622","notes":"https://gitlab.com/api/v4/projects/278964/issues/341622/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341622/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341622","relative":"#341622","full":"gitlab-org/gitlab#341622"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94211183,"iid":341621,"project_id":278964,"title":"Different fault count when connection via ssh","description":"### Summary\n\nWhen testing locally with the scanner port forwarded via SSH, the resulting fault count is lower than testing with the scanner on the same machine.\n\nNOTE: Issue reproduced with both speed branch and also pre-speed master.\n\n### Steps to reproduce\n\n1. Run scanner in Visual Studio debug with 5000+8000 port forwarded via SSH from Linux to Windows\n1. Run worker-entry tests from Linux machine using 127.0.0.1:5000\n1. Notice the HAR tests always return 4 faults instead of expected 8.\n\n### What is the current *bug* behavior?\n\nFewer vulnerabilities are identified.\n\n### What is the expected *correct* behavior?\n\nSame number of vulnerabilities are identified.","state":"closed","created_at":"2021-09-23T18:25:10.102Z","updated_at":"2021-09-27T21:20:18.105Z","closed_at":"2021-09-27T21:20:18.090Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","priority::3","section::sec","severity::3","type::bug","workflow::scheduling"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341621","notes":"https://gitlab.com/api/v4/projects/278964/issues/341621/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341621/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341621","relative":"#341621","full":"gitlab-org/gitlab#341621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94197808,"iid":341600,"project_id":278964,"title":"Remove test stage from the Schema","description":"## 🧩 Problem\n\nThe auto-complete feature in the pipeline editor doesn't behave as expected. \n\n- When typing a \"stage\" keyword, I'm given an option to auto-fill \"stage\". However, clicking on it auto-fills the actual stage name \"Test\" even when it makes no sense to add the \"test\" stage for a deploy job.\n\n\n\n|  | \n| ------ |\n| ![Screen_Recording_2021-09-23_at_03.02_PM](/uploads/3f5288824bcc6ba6f69a38d55a3c9b87/Screen_Recording_2021-09-23_at_03.02_PM.mov) | \n\n## Proposal\n\nThe auto-complete shouldn't complete the value of the stage keyword, it should only complete the keyword itself (stage) and offer a dropdown of stage options like build, test and deploy.\n\n## Out of scope (should be address in a separated issue)\n- When clicking on expand the keyword, it opens in the middle of the screen, far from the tooltip. - The keyword description should expand inside the tooltip. https://gitlab.com/gitlab-org/gitlab/-/issues/342222","state":"closed","created_at":"2021-09-23T14:13:40.788Z","updated_at":"2022-12-21T16:39:13.877Z","closed_at":"2021-10-29T07:31:37.136Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","Deliverable","Hacktoberfest","UI polish","UX","[deprecated] Accepting merge requests","candidate::14.5","devops::verify","frontend","group::pipeline authoring","section::ops","severity::3","type::bug","type::maintenance","usability","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341600","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341600","notes":"https://gitlab.com/api/v4/projects/278964/issues/341600/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341600/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341600","relative":"#341600","full":"gitlab-org/gitlab#341600"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5246,"epic":{"id":185171,"iid":5246,"title":"Pipeline Editor Auto-complete","url":"/groups/gitlab-org/-/epics/5246","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":36605,"iid":34,"sequence":1,"group_id":9970,"title":"Pipeline Authoring: October 18, 2021 - October 31, 2021","description":"Target milestone `14.5`","state":3,"created_at":"2021-10-05T20:42:58.367Z","updated_at":"2021-12-02T16:50:08.408Z","start_date":"2021-10-18","due_date":"2021-10-31","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36605"},"health_status":"on_track"},{"id":94197780,"iid":341599,"project_id":278964,"title":"Follow-up from \"Draft: Use v-safe-html in project_list_item.vue\"","description":"The following discussion from !70730 should be addressed:\n\n- [ ] @aturinske started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70730#note_684646071):  (+2 comments)\n\n    \u003e **question:** in the [`How to fix` section of the epic](https://gitlab.com/groups/gitlab-org/-/epics/4273#how-to-fix) it says `Important - If the value being passed to v-html is sanitized before, make sure to remove that part`, and [`highlight`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/lib/utils/highlight.js) does sanitize the text, but also does some other things.\n    \u003e \n    \u003e Our other options are to:\n    \u003e \n    \u003e 1. Leave `highlight` in until all three of its usage are removed and then we update it to not sanitize (I cannot see a harm in extra sanitizing) (we should create a follow-up for this then)\n    \u003e 1. Convert all three usages of `hightlight` at once and remove the sanitize part of `highlight`\n    \u003e 1. Create an extra `highlight` method that doesn't sanitize and switch to that until all original usages of `highlight` are removed\n    \u003e \n    \u003e I think `3` would be extra work, so I am against that. I personally think either `1` or `2` are fine. I will ask someone about this.\n    \u003e \n    \u003e ![highlight usage](/uploads/2f3747d5f906117baceffd2171a8c7b0/image.png)","state":"closed","created_at":"2021-09-23T14:13:15.464Z","updated_at":"2021-10-14T02:24:24.896Z","closed_at":"2021-10-14T02:24:24.881Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["[deprecated] 🍎","frontend","good for new contributors","maintenance::refactor","security","type::feature"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341599","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341599","notes":"https://gitlab.com/api/v4/projects/278964/issues/341599/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341599/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341599","relative":"#341599","full":"gitlab-org/gitlab#341599"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94187726,"iid":341591,"project_id":278964,"title":"Allow work-entry pytest to start/stop the scanner","description":"## Problem\n\n`pytest` uses a fixed configuration for the scanner (e.g. FUZZING mode), but test can be executed in different modes (e.g. DAST or FUZZING). Additionally, scanner output is stored in one single file while other services are storing their logs per test.\n\nIn order to increase integration test coverage, and ease log analysis, the scanner should be allowed to run under the proper mode and store its logs per test. \n\n## Proposal\n\n1. [x] Allow for restarting the scanner on each test (make this default to no, but easily turned on)\n1. [x] Capture output on a test-by-test basis (Scanner debug log)","state":"closed","created_at":"2021-09-23T12:10:22.611Z","updated_at":"2022-03-29T19:25:16.174Z","closed_at":"2022-03-29T19:25:16.159Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:API Security","GitLab Ultimate","auto updated","backend","devops::secure","group::dynamic analysis","section::sec","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341591","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341591","notes":"https://gitlab.com/api/v4/projects/278964/issues/341591/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341591/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341591","relative":"#341591","full":"gitlab-org/gitlab#341591"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94165549,"iid":341567,"project_id":278964,"title":"Schrödinger's Draft","description":"### Summary\n\nIf you put a prefix \"Draft\" instead of \"Draft:\" on your MR title, the MR has a state of being a draft while being not a draft\n\n### Steps to reproduce\n\nCreate a MR and prefix the title manually with \"Draft\"\n\n### Example Project\n\nhttps://gitlab.com/Black-Shadow/some-project/-/merge_requests/1\n\n### What is the current *bug* behavior?\n\nIn edit view for that MR, right below the title there is a link that says \"Remove the Draft prefix from the title to allow...\". That indicates, that the MR is a Draft.\nThis link works as expected. It removes the \"draft\" prefix and changes to \"start title with Draft: ...\"\n\nIn the overview of that MR is a Button in the top right corner which says \"mark as draft\". That indicates the opposite.\nThis button does exactly what it wants to do. it adds the \"Draft:\" Prefix right in front of the \"Draft\" prefix.\n\n### What is the expected *correct* behavior?\n\nBoth functions should determine the prefix the same, whether it is a draft or not.\n\n### Relevant logs and/or screenshots\n\n**Overview with Button**\n\n![Bildschirmfoto_vom_2021-09-23_08-09-26](/uploads/63c8eb63f4cd7b5b8cdd1f25404bf084/Bildschirmfoto_vom_2021-09-23_08-09-26.png)\n\n**Edit View with link**\n\n![Bildschirmfoto_vom_2021-09-23_08-09-55](/uploads/52b9ce5dfe1bd7df5cd8a63e46b0d6b3/Bildschirmfoto_vom_2021-09-23_08-09-55.png)\n\n### Output of checks\n\nBug found on:\n - gitlab.com\n - gitlab version: Enterprise Edition 13.12.2-ee","state":"closed","created_at":"2021-09-23T07:06:58.951Z","updated_at":"2021-10-18T13:09:01.135Z","closed_at":"2021-10-18T13:09:01.109Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["automation:ml","backend","devops::create","frontend","group::code review","section::dev","severity::3","type::bug"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":9793266,"username":"Black-Shadow","name":"Florian Evertz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8332dddd7f92307a28a5de72b7f0c4f8?s=80\u0026d=identicon","web_url":"https://gitlab.com/Black-Shadow"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341567","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341567","notes":"https://gitlab.com/api/v4/projects/278964/issues/341567/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341567/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341567","relative":"#341567","full":"gitlab-org/gitlab#341567"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3879,"epic":{"id":80141,"iid":3879,"title":"Rename WIP merge requests to Draft","url":"/groups/gitlab-org/-/epics/3879","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94162960,"iid":341561,"project_id":278964,"title":"Stage play manual jobs may randomly leave some jobs in skipped state","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen using manual jobs with a needs based DAG flow, the use of the stage-level play button can cause improper transitions and leave some further jobs in a skipped state.\n\n### Steps to reproduce\n\n1. Add the following pipeline definition in any CI/CD enabled project\n\n\u003cdetails\u003e\u003csummary\u003eClick to expand `.gitlab-ci.yml`\u003c/summary\u003e\n\n```yaml\nimage: bash:latest\n\nstages:\n  - first-auto\n  - second-manual\n  - third-auto\n  - fourth-manual\n  - fifth-manual\n\nfirst-auto:\n  stage: first-auto\n  script: echo\n\nsecond-manual-job-one:\n  stage: second-manual\n  script: echo\n  needs:\n    job: first-auto\n  when: manual\n\nsecond-manual-job-two:\n  stage: second-manual\n  script: echo\n  needs:\n    job: first-auto\n  when: manual\n\nthird-auto-job-one:\n  stage: third-auto\n  script: echo\n  needs:\n    job: second-manual-job-one\n\nthird-auto-job-two:\n  stage: third-auto\n  script: echo\n  needs:\n    job: second-manual-job-two\n\nfourth-manual-job-one:\n  stage: fourth-manual\n  script: echo\n  needs:\n    - job: second-manual-job-one\n    - job: third-auto-job-one\n  when: manual\n\nfourth-manual-job-two:\n  stage: fourth-manual\n  script: echo\n  needs:\n    - job: second-manual-job-two\n    - job: third-auto-job-two\n  when: manual\n\nfifth-manual:\n  stage: fifth-manual\n  script: echo\n  needs:\n    - job: first-auto\n    - job: fourth-manual-job-one\n    - job: fourth-manual-job-two\n  when: manual\n```\n\n\u003c/details\u003e\n\n2. Visit the created pipeline\n\n3. Await completion of \"first-auto\" stage job\n\n4. Use the stage-level play icon (not per-job level) to run both jobs of \"second-manual\" stage\n\n5. Observe (this may need a few retries of 2-4) that even after completion of these jobs, some jobs remain in a skipped state in the \"third-auto\" and \"fourth-manual\" stages.\n\nNote: Sometimes this occurs only after the stage play button is clicked over the \"fourth-manual\" job if the randomness has not affected any prior stage jobs.\n\nAlso note: This behavior does not reproduce if you use the per-manual-job play buttons instead of the stage-level ones.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nExample pipeline where one of the two 'fourth-manual' stage jobs remained skipped and would not auto transition: https://gitlab.com/gitlab-gold/hchouraria/sample-ci/-/pipelines/375727600\n\nExample pipeline where one of the two 'third-auto' stage jobs remained skipped and would not auto-transition: https://gitlab.com/gitlab-gold/hchouraria/sample-ci/-/pipelines/375730159\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nSome of the subsequent stage's jobs are randomly left skipped after the stage level play button is used.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nStage level play button must behave the same as job level play buttons and transition states of next stage jobs correctly every time.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\nUnexpected skipped states that occur at any stage when the stage buttons are used:\n\n![Screen_Shot_2021-09-23_at_11.44.19](/uploads/de187aa7009e9d3679d43d7ebbc703fa/Screen_Shot_2021-09-23_at_11.44.19.png)\n\n![Screen_Shot_2021-09-23_at_11.44.35](/uploads/9158d5f8763543784979db192dd450ba/Screen_Shot_2021-09-23_at_11.44.35.png)\n\n![Screen_Shot_2021-09-23_at_11.44.58](/uploads/3c263a9e9768c7794fae5e604e2b1b94/Screen_Shot_2021-09-23_at_11.44.58.png)\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com\n\nIt was also reported occurring on GitLab 13.12 by a premium customer over support ticket: https://gitlab.zendesk.com/agent/tickets/236412 (internal link)\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nTBD\n\n### Workarounds\n\n- Avoid the stage-level play button and instead fire the manual jobs directly via per job play button\n- If jobs appear stuck in a similar way as screenshots above, retry/re-run its prior stage job","state":"closed","created_at":"2021-09-23T06:19:32.276Z","updated_at":"2023-01-12T08:42:27.579Z","closed_at":"2022-01-24T07:52:48.571Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","approaching-SLO","backend","bug::transient","customer","devops::verify","group::pipeline authoring","missed-SLO","missed:14.5","missed:14.6","priority::2","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":7536567,"username":"hchouraria","name":"Harsh Chouraria","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7536567/avatar.png","web_url":"https://gitlab.com/hchouraria"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":73,"merge_requests_count":0,"upvotes":14,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341561","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341561","notes":"https://gitlab.com/api/v4/projects/278964/issues/341561/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341561/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341561","relative":"#341561","full":"gitlab-org/gitlab#341561"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":40215,"iid":47,"sequence":8,"group_id":9970,"title":"Pipeline Authoring: Jan 24, 2022 - Feb 6, 2022","description":"Target milestone `14.8`","state":3,"created_at":"2021-11-14T00:05:01.888Z","updated_at":"2022-02-07T00:05:02.316Z","start_date":"2022-01-24","due_date":"2022-02-06","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/40215"},"health_status":"on_track"},{"id":94161895,"iid":341560,"project_id":278964,"title":"Ensure go vet runs recursively","description":"### Summary\n\nWhile refining [Support multiple linters in secure analyzer projects by leveraging golangci-lint](https://gitlab.com/gitlab-org/gitlab/-/issues/337493) I realized that the `go vet` command added in [Replace golint with go vet](https://gitlab.com/gitlab-org/security-products/ci-templates/-/merge_requests/234) needs to be run recursively with `./...`, otherwise it only analyzes files in the root level of the project.\n\nFor example, the current `go vet` command in [this job in gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/jobs/1573530059) succeeds:\n\n```\n$ go vet\ngo: downloading gitlab.com/gitlab-org/security-products/analyzers/common/v2 v2.23.0\n...\nCleaning up file based variables\n00:01\nJob succeeded\n```\n\nHowever, when run with `./...`, it fails, as shown in [this job](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/jobs/1615228141):\n\n```\n$ go vet ./...\ngo: downloading gitlab.com/gitlab-org/security-products/analyzers/common/v2 v2.23.0\n...\n# gitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert\nconvert/vulnerability_converter.go:25:9: gitlab.com/gitlab-org/security-products/analyzers/report/v2.DependencyScanningVulnerability composite literal uses unkeyed fields\nconvert/graph_test.go:13:3: gitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/scanner/parser.Package composite literal uses unkeyed fields\n...\n# gitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/scanner/parser/yarn\nscanner/parser/yarn/yarn.go:52:2: struct field Requirement repeats json tag \"name\" also at yarn.go:51\nCleaning up project directory and file based variables\n00:01\nERROR: Job failed: exit code 1\n```\n\n### Steps to reproduce\n\n1. Run a pipeline in the [gemnasium project](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/) and notice that the `go vet` job succeeds. However, if you check out gemnasium locally and run `go vet ./...`, a failure occurs.\n\n### Example Project\n\n[gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/)\n\n### What is the current *bug* behavior?\n\nThe `go vet` job succeeds, even though files in sub directories have invalid syntax\n\n### What is the expected *correct* behavior?\n\nThe `go vet` job should fail when files in sub directories have invalid syntax \n\n### Possible fixes\n\nChange the `go vet` command in the [`go vet` job](https://gitlab.com/gitlab-org/security-products/ci-templates/blob/38d8519/includes-dev/go.yml#L25-25) to run recursively:\n\n```diff\ngo vet:\n  extends: .go\n  allow_failure: true\n  script:\n-    - go vet\n+    - go vet ./...\n```","state":"closed","created_at":"2021-09-23T05:55:09.564Z","updated_at":"2022-03-16T11:36:52.718Z","closed_at":"2021-09-27T23:58:01.169Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Category:SAST","Category:Secret Detection","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","maintenance::refactor","maintenance::workflow","section::sec","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341560","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341560","notes":"https://gitlab.com/api/v4/projects/278964/issues/341560/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341560/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341560","relative":"#341560","full":"gitlab-org/gitlab#341560"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94158246,"iid":341558,"project_id":278964,"title":"Backend: Use `include:remote` that points a YAML contains `include:template:rules` raises a system error","description":"## Problem\n\nDiscovered this bug while testing [the new feature](https://about.gitlab.com/releases/2021/09/22/gitlab-14-3-released/#include-gitlab-cicd-configuration-based-on-conditions) for [refactoring Auto DevOps yamls](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71019).\n\nFor example, I included [the modified `Auto-DevOps.gitlab-ci.yml`](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71019) in [a test project](https://gitlab.com/shinya.maeda/new-auto-devops-test). With the change:\n\n```\ninclude:\n  - remote: https://gitlab.com/gitlab-org/gitlab/-/raw/afe7f6fbd2a19f7633348d89d5e7fa673a553df7/lib/gitlab/ci/templates/Auto-DevOps.gitlab-ci.yml\n```\n\nThis results in [500 errors on viewing the file](https://gitlab.com/shinya.maeda/new-auto-devops-test/-/blob/master/.gitlab-ci.yml). This is because the system runs the static linter on the blob viewer and the linter encountered an exception. For example, you can reproduce this bug in the following commands in rails-console:\n\n```\nproject = Project.find_by_full_path('root/rules-include-test')\nuser = User.first\ncontent = \u003c\u003c~EOS\n  include:\n    - remote: https://gitlab.com/gitlab-org/gitlab/-/raw/afe7f6fbd2a19f7633348d89d5e7fa673a553df7/lib/gitlab/ci/templates/Auto-DevOps.gitlab-ci.yml\nEOS\nGitlab::Ci::Lint.new(project: project, current_user: user).validate(content)\n```\n\nDebugging with pry:\n\n```\nFrom: /devkitkat/services/rails/src/lib/gitlab/ci/pipeline/expression/statement.rb:13 Gitlab::Ci::Pipeline::Expression::Statement#initialize:\n\n    10: def initialize(statement, variables = nil)\n    11:   @lexer = Expression::Lexer.new(statement)\n    12:   binding.pry\n =\u003e 13:   @variables = variables\u0026.to_hash\n    14: end\n\n[1] pry(#\u003cGitlab::Ci::Pipeline::Expression::Statement\u003e)\u003e variables\u0026.to_hash\nNoMethodError: undefined method `to_hash' for []:Array\nDid you mean?  to_h\nfrom (pry):17:in `initialize'\n```\n\nThis is because the `context.mutate` wipes out the `variables` in `File::Template`:\n\n```\nFrom: /devkitkat/services/rails/src/lib/gitlab/ci/config/external/file/base.rb:102 Gitlab::Ci::Config::External::File::Base#expand_includes:\n\n    100: def expand_includes(hash)\n    101:   binding.pry\n =\u003e 102:   External::Processor.new(hash, context.mutate(expand_context_attrs)).perform\n    103:   binding.pry\n    104: end\n```\n\n## Sentry\n\nOriginal title: NoMethodError: undefined method `to_hash' for []:Array\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/issues/2813714/?referrer=gitlab_plugin\n\n```\nNoMethodError: undefined method `to_hash' for []:Array\nDid you mean?  to_h\n  lib/gitlab/ci/pipeline/expression/statement.rb:12:in `initialize'\n    @variables = variables\u0026.to_hash\n  lib/gitlab/ci/build/rules/rule/clause/if.rb:12:in `new'\n    ::Gitlab::Ci::Pipeline::Expression::Statement.new(\n  lib/gitlab/ci/build/rules/rule/clause/if.rb:12:in `satisfied_by?'\n    ::Gitlab::Ci::Pipeline::Expression::Statement.new(\n  lib/gitlab/ci/build/rules/rule.rb:27:in `block in matches?'\n    @clauses.all? { |clause| clause.satisfied_by?(pipeline, context) }\n  lib/gitlab/ci/build/rules/rule.rb:27:in `all?'\n    @clauses.all? { |clause| clause.satisfied_by?(pipeline, context) }\n...\n(159 additional frame(s) were not displayed)\n```","state":"closed","created_at":"2021-09-23T03:27:28.004Z","updated_at":"2022-01-20T23:19:43.617Z","closed_at":"2021-12-22T14:53:46.940Z","closed_by":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"labels":["Category:Pipeline Authoring","FY22::Q4","OKR","[deprecated] Accepting merge requests","approaching-SLO","backend","candidate::14.8","devops::verify","group::pipeline authoring","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341558","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341558","notes":"https://gitlab.com/api/v4/projects/278964/issues/341558/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341558/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341558","relative":"#341558","full":"gitlab-org/gitlab#341558"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94152786,"iid":341545,"project_id":278964,"title":"Resolve edge case in which approval of a \"draft\" MR triggers a detached pipeline","description":"When a maintainer approves a MR on gitlab, @danger-bot will automatically trigger a new pipeline, stating:\n\n\u003e To ensure full test coverage, a new pipeline has been started.\n\n![CleanShot_2021-09-22_at_18.05.43_2x](/uploads/d2c1e00233c07190e53dae464a7c1664/CleanShot_2021-09-22_at_18.05.43_2x.png)\n\nHowever, if the MR is still marked as a \"Draft\", this new `detached` pipeline is [run against the source branch](https://docs.gitlab.com/ee/ci/pipelines/pipelines_for_merged_results.html) rather than against the merged result. I had erroneously presumed that the pipeline triggered upon approval would be against the merged result, and this resulted in ~\"master:broken\" :scream: \n\nWhen I merged gitlab-org/gitlab!69072, I:\n\n1. clicked \"approve\"\n1. clicked \"mark as ready\"\n1. waited for the new pipeline to become visible\n1. clicked \"merge when pipeline succeeds\"\n1. a detached pipeline was run which did not include the latest changes from `master` and missed a test failure which would have occured against a merged result pipeline\n1. the pipeline passed and the merged branch ended up breaking master.\n\nHad I instead clicked \"mark as ready\" _before_ clicking \"approve\", the full merged result pipeline would have been created instead and this test failure would have been caught before it was automatically merged.\n\n### Recommendation\n\nThis behavior _is_ documented, so it is certainly my mistake, but I think if it's possible for @danger-bot to trigger a full merged-result pipeline regardless of the draft state we should configure it to do so (or failing that, it should produce a **warning** saying that the MR is marked as a draft and that a full merged-result pipeline should be triggered.)\n\n-----------\n\nOriginal discussion from !70746:\n\n\u003e \u003e I was not cognizant of any behavior change for pipelines triggered within draft MRs\n\u003e\n\u003e Yeah, it's a slightly surprising behaviour, but it is [documented](https://docs.gitlab.com/ee/ci/pipelines/pipelines_for_merged_results.html) (emphasis mine):\n\u003e\n\u003e \u003e When the merge request can’t be merged, the pipeline runs against the source branch only. For example, when:\n\u003e \u003e\n\u003e \u003e * The target branch has changes that conflict with the changes in the source branch.\n\u003e \u003e * The merge request **is a Draft merge request**.\n\u003e\n\u003e ---\n\u003e\n\u003e \u003e The pipeline was triggered by `@danger-bot` automatically upon my approval of the MR, so that’s why it doesn’t show me as the triggerer.\n\u003e \u003e\n\u003e \u003e Do you think there an actionable issue here @markrian?\n\u003e\n\u003e That does sound like an edge-case bug in our `@danger-bot` tooling, yes (i.e., when the MR is `Draft`). Do you know where we might file an issue or MR for this?","state":"closed","created_at":"2021-09-22T23:19:02.384Z","updated_at":"2022-03-16T11:36:54.309Z","closed_at":"2021-09-29T09:17:23.336Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","maintenance::workflow","section::dev","test","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341545","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341545","notes":"https://gitlab.com/api/v4/projects/278964/issues/341545/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341545/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341545","relative":"#341545","full":"gitlab-org/gitlab#341545"},"severity":"UNKNOWN","moved_to_id":94516468,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94146238,"iid":341537,"project_id":278964,"title":"Create a GraphQL mutation to configure project-level Jira integration for Vulnerability Management","description":"### Why are we doing this work?\n\nAs explained in #341409 we want to ease adoption of Jira integration for Vulnerability Management. The simplest possible change to achieve this is a GraphQL mutation to configure this integration on project level.\n\n### Implementation plan\n\n* [ ] ~backend create `enableCreateJiraIssueFromVulnerabilities` GraphQL that turns on the integration on project level provided credentials, and project key match.","state":"closed","created_at":"2021-09-22T20:39:14.873Z","updated_at":"2021-09-22T20:43:19.243Z","closed_at":"2021-09-22T20:43:19.227Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Category:Vulnerability Management","GitLab Ultimate","backend","customer","devops::secure","documentation","feature::addition","group::threat insights","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"}],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341537","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341537","notes":"https://gitlab.com/api/v4/projects/278964/issues/341537/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341537/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341537","relative":"#341537","full":"gitlab-org/gitlab#341537"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94144184,"iid":341536,"project_id":278964,"title":"Add `read_at` data to the dependency proxy","description":"## Proposal\n\nBased on the discussion linked below, we will:\n\n1. Add a `read_at` column to `dependency_proxy_blobs` and `dependency_proxy_manifests`.\n1. Update the dependency proxy services to update this value anytime an image is pulled.\n1. Update the cleanup workers to expire based off of `read_at` instead of `updated_at`.\n\nThe following discussion from !70029 should be addressed:\n\n- [ ] @10io started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70029#note_680551817):  (+4 comments)\n\n    \u003e Qualified blobs/manifests are based on their `created_at` attribute.\n    \u003e \n    \u003e Shouldn't we take into account the last time they were read?\n    \u003e \n    \u003e Imagine the situation of a single blob accessed over and over all the time by CI pipelines. Why would we want to remove that blob from the cache?\n    \u003e \n    \u003e It seems more accurate to remove blobs that have not been read for `ttl` days. That means that each time a blob/manifest is read we should update a timestamp. Ideally, we should have a `read_at` attribute for that but we could also use the `updated_at` for that although it's not really an update that we're doing.\n    \u003e \n    \u003e WDYT?","state":"closed","created_at":"2021-09-22T20:21:36.200Z","updated_at":"2021-11-11T14:29:24.014Z","closed_at":"2021-11-11T14:29:23.971Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Dependency Proxy","backend","bug::performance","devops::package","group::package registry","maintenance::refactor","ruby","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341536","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341536","notes":"https://gitlab.com/api/v4/projects/278964/issues/341536/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341536/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341536","relative":"#341536","full":"gitlab-org/gitlab#341536"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7044,"epic":{"id":379262,"iid":7044,"title":"Key improvements for the Dependency Proxy","url":"/groups/gitlab-org/-/epics/7044","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":94137034,"iid":341529,"project_id":278964,"title":"Remove `tmp_index_merge_requests_draft_and_status_leaky_regex`","description":"Created to support https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70735, this temporary index should be removed in the following milestone.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/337861","state":"closed","created_at":"2021-09-22T18:08:42.386Z","updated_at":"2022-05-12T16:12:23.341Z","closed_at":"2022-04-26T14:04:21.549Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["backend","database","devops::create","group::code review","missed:14.8","section::dev","type::feature"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341529","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341529","notes":"https://gitlab.com/api/v4/projects/278964/issues/341529/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341529/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341529","relative":"#341529","full":"gitlab-org/gitlab#341529"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94134630,"iid":341527,"project_id":278964,"title":"Improve performance to getPipelineDetails GraphQL endpoint.","description":"### Summary\n\nThis issue is to improve the response time performance of the `getPipelineDetails` GraphQL endpoint that was discussed in [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/330707#note_683213250).  \n\nAfter the MRs were shipped, the SQL counts improved but the response times didn't have a significant impact (see below :point_down:) with [!68743](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68743)\n\n![Screen_Shot_2021-09-21_at_17.06.32](/uploads/952b07e6fba5bc9427e8331e9ec454b0/Screen_Shot_2021-09-21_at_17.06.32.png)\n\n### What is the expected goal?\n\nThat the duration times are reduced to a better performant time consistently.\n\ncc: @furkanayhan @dhershkovitch","state":"closed","created_at":"2021-09-22T17:23:06.925Z","updated_at":"2021-11-19T15:07:25.278Z","closed_at":"2021-11-03T19:10:10.474Z","closed_by":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"labels":["Category:Pipeline Authoring","Deliverable","auto updated","backend","bug::performance","candidate::14.5","devops::verify","group::pipeline authoring","section::ops","type::maintenance","workflow::in dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":9468400,"username":"marknuzzo","name":"Mark Nuzzo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9468400/avatar.png","web_url":"https://gitlab.com/marknuzzo"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341527","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341527","notes":"https://gitlab.com/api/v4/projects/278964/issues/341527/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341527/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341527","relative":"#341527","full":"gitlab-org/gitlab#341527"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":36606,"iid":35,"sequence":2,"group_id":9970,"title":"Pipeline Authoring: November 01, 2021 - November 14, 2021","description":"Target milestone `14.5`","state":3,"created_at":"2021-10-05T20:42:58.372Z","updated_at":"2021-12-21T15:27:22.624Z","start_date":"2021-11-01","due_date":"2021-11-14","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36606"},"health_status":null},{"id":94124168,"iid":341511,"project_id":278964,"title":"Support conditional includes with exists","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nToday [it is possible](https://docs.gitlab.com/ee/ci/yaml/index.html#rules-with-include) to use `rules:if` as part of `include` blocks in pipelines. This is great but doesn't expose the full power of rules available with other keywords, such as `exists`.\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\nAllow the exists keywords to be used as part of an `include:rules` block:\n\n```yaml\ninclude:\n  - local: builds_docker.yml\n    rules:\n      - exists:\n          - Dockerfile\n\ntest:\n  stage: test\n  script: exit 0\n```\n\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e","state":"closed","created_at":"2021-09-22T14:40:09.148Z","updated_at":"2022-08-05T14:52:33.582Z","closed_at":"2021-11-12T08:42:05.160Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Pipeline Authoring","GitLab Free","GitLab Premium","GitLab Ultimate","devops::manage","direction","documentation","group::compliance","priority::1","release post item::in review","section::dev","type::feature","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":26,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341511","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341511","notes":"https://gitlab.com/api/v4/projects/278964/issues/341511/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341511/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341511","relative":"#341511","full":"gitlab-org/gitlab#341511"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4400,"epic":{"id":112232,"iid":4400,"title":"Allow `rules` to control more kinds of configuration","url":"/groups/gitlab-org/-/epics/4400","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":94122778,"iid":341509,"project_id":278964,"title":"Copy monthly CI minutes charts to Group Usage Quotas Page","description":"### Problem to solve \n\nToday users will have to go to multiple places to service storage and ci minutes, we want to make that experience easier so users can see all data in one place.\n\n### Propoal \n\nCopy the Usage Quota charts from User Profile to Group Settings (usage quotas page - groups/group_name/\\~/usage)quotas)\n\n![usage-quota-1](/uploads/06cf7a813282b04d7e46039e9c90b2fc/usage-quota-1.png)","state":"closed","created_at":"2021-09-22T14:20:54.762Z","updated_at":"2022-02-23T03:13:59.738Z","closed_at":"2022-02-16T16:38:20.594Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["CI minutes","Category:Continuous Integration","FY23::Q1","OKR","SUS::Impacting","UX","Verify::P3","auto updated","customer","devops::verify","documentation","frontend","group::pipeline execution","missed:14.6","missed:14.7","quad-planning::complete-no-action","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":37,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341509","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341509","notes":"https://gitlab.com/api/v4/projects/278964/issues/341509/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341509/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341509","relative":"#341509","full":"gitlab-org/gitlab#341509"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5653,"epic":{"id":231355,"iid":5653,"title":"CI minutes limits for public projects on GitLab.com","url":"/groups/gitlab-org/-/epics/5653","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":94118333,"iid":341506,"project_id":278964,"title":"GitLab Migration: Track number of attempted/failed/successful migrations","description":"As done with https://gitlab.com/gitlab-org/gitlab/-/issues/339392 for the GitHub Importer, we should do the same for GitLab\n\n## Problem\nIn order to understand the current performance and value of our GitLab Migration feature, we need to know what number/percentage of migrations are successful/failed.\n\n## Proposal\nCollect metrics (usage ping from Saas and Self-managed, 28d roll-ups):\n* ~~Number of GitLab Migrations attempted~~\n* Number of **finished** GitLab Migrations - number of group or project migration that finished **including** migrations that were partially successful (e.g. some MRs in a project were not migrated in project migration, or some projects or subgroups were not migrated in group migration).\n* Number of **failed** GitLab Migrations - number of group or project migration that failed with error and **not** with timeout. A group or project migration will be marked as failed only when a major issue happens. For group migration, it is when the group couldn't be created. For project migrations, it is when the project couldn't be created, or the repository wasn't migrated.\n* Number of GitLab Migrations that had **timeout** - number of group or project migration that failed because of timeout. Data could have been migrated. If the migration takes too long to complete, the migration is interrupted and marked as timeout.\n\n\nTo iterate, we will start with less detail, only showing success and failure, and no partial successes.\n\n## Out of scope\n* Number of fully successful migrations\n* Build a Sisense dashboard to show this data over time","state":"closed","created_at":"2021-09-22T13:22:19.321Z","updated_at":"2022-12-28T14:27:33.273Z","closed_at":"2022-09-15T07:58:54.183Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","Observability","analytics","auto updated","backend","devops::manage","group::import","instrumentation","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":11165152,"username":"rodrigo.tomonari","name":"Rodrigo Tomonari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11165152/avatar.png","web_url":"https://gitlab.com/rodrigo.tomonari"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341506","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341506","notes":"https://gitlab.com/api/v4/projects/278964/issues/341506/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341506/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341506","relative":"#341506","full":"gitlab-org/gitlab#341506"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6807,"epic":{"id":354610,"iid":6807,"title":"Track importers failure/success","url":"/groups/gitlab-org/-/epics/6807","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94118125,"iid":341505,"project_id":278964,"title":"GitHub rake importer task does not track errors in the final message","description":"The following discussion from !70012 should be addressed:\n\n- [ ] @dstull started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/70012#note_680952008): \n\n    \u003e we should do a follow-up here and figure out if we want to fix the messaging or merely remove this else statement","state":"closed","created_at":"2021-09-22T13:19:47.931Z","updated_at":"2021-10-28T21:19:32.074Z","closed_at":"2021-09-30T14:14:28.457Z","closed_by":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"labels":["Category:Importers","Importer:GitHub","auto updated","devops::manage","group::import","section::dev","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"}],"author":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"type":"ISSUE","assignee":{"id":3841241,"username":"dstull","name":"Doug Stull","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c2d7b8532bca28f593b193b012841a40?s=80\u0026d=identicon","web_url":"https://gitlab.com/dstull"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341505","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341505","notes":"https://gitlab.com/api/v4/projects/278964/issues/341505/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341505/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341505","relative":"#341505","full":"gitlab-org/gitlab#341505"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6270,"epic":{"id":299300,"iid":6270,"title":"⚙️ GitHub Importer Reliability Improvements","url":"/groups/gitlab-org/-/epics/6270","group_id":9970,"human_readable_end_date":"Aug 31, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94115214,"iid":341502,"project_id":278964,"title":"Version-App: versions and versions_checks tables are not updated on dwh","description":"Related data issue https://gitlab.com/gitlab-data/analytics/-/issues/10180\n\nSisense query\n\n```sql\nselect *\nfrom legacy.version_versions\norder by updated_at desc\n```\n\n### Some checks \n\nI'm checking the export jobs and see that some of the tables fail table versions  and versions_checks for example, these are failing in the last 5 exports\n\n- https://gitlab.com/gitlab-services/version-gitlab-com/-/jobs/1563476371\n- https://gitlab.com/gitlab-services/version-gitlab-com/-/pipelines/365347312\n- https://gitlab.com/gitlab-services/version-gitlab-com/-/jobs/1562641810\n- https://gitlab.com/gitlab-services/version-gitlab-com/-/jobs/1559142700\n- https://gitlab.com/gitlab-services/version-gitlab-com/-/jobs/1547689301\n\n`Error: HTTPError 409: Operation failed because another operation was already in progress.`\n\n:thinking: I wonder why we get this error in this case when only one job is running?\n\nPossible issue with the export job from Version-App\n\n## Quick fix we can try\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/341502#note_688835941\n\nexport manually one single table `versions` and `version_checks`.\n\nWe can at least try to update the data.\n\nThis can be achieved by using `SINGLE_TABLE_TO_EXPORT` env variable.\n\n## Action plan\n\n1. [x] [Export single table for `versions` and `version_checks`](#export-single-table), hopefully with this we could fill the missing data.\n   - [x] Check logs to confirm that files data was exported.\n     - [x] [Export versions table success ](https://gitlab.com/gitlab-services/version-gitlab-com/-/jobs/1632627041)\n     - [x] Export version_checks success https://gitlab.com/gitlab-services/version-gitlab-com/-/jobs/1632658965\n   - [x] List the files in the bucket after exporting \n     \u003cdetails\u003e\n       \u003csummary\u003e List of files\u003c/summary\u003e\n\n       ```\n       ➜  ~ gsutil ls gs://cloudsql-gs-production-efd5e8-cloudsql-exports | grep 2021-09-27\n\n       gs://cloudsql-gs-production-efd5e8-cloudsql-exports/gitlab-version-conversational_development_indices-2021-09-27.gz\n       gs://cloudsql-gs-production-efd5e8-cloudsql-exports/gitlab-version-fortune_companies-2021-09-27.gz\n       gs://cloudsql-gs-production-efd5e8-cloudsql-exports/gitlab-version-hosts-2021-09-27.gz\n       gs://cloudsql-gs-production-efd5e8-cloudsql-exports/gitlab-version-raw_usage_data-2021-09-27.gz\n       gs://cloudsql-gs-production-efd5e8-cloudsql-exports/gitlab-version-usage_data-2021-09-27.gz\n       gs://cloudsql-gs-production-efd5e8-cloudsql-exports/gitlab-version-version_checks-2021-09-27.gz\n       gs://cloudsql-gs-production-efd5e8-cloudsql-exports/gitlab-version-versions-2021-09-27.gz\n       ```\n\n     \u003c/details\u003e\n\n1. [x] MR: Add a sleep between SQL export calls, a recommendation from `@igorwwwwwwwwwwwwwwwwwwww` :bow: https://gitlab.com/gitlab-services/version-gitlab-com/-/merge_requests/624\n1. [x] Create issue: Update error verbosity level https://gitlab.com/gitlab-org/gitlab/-/issues/341817\n1. [x] Create issue: Add an alert when export is failing https://gitlab.com/gitlab-org/gitlab/-/issues/342031\n1. [x] Create issue: [Add a second job that can run manually](https://gitlab.com/gitlab-org/gitlab/-/issues/341502#note_689165643), in order to edit and use the existing one https://gitlab.com/gitlab-org/gitlab/-/issues/342030\n1. [x] Create issue: Print the cloud status output https://gitlab.com/gitlab-org/gitlab/-/issues/342019\n\n### Export single table:\n\n* [x] Edit the scheduled job and add `SINGLE_TABLE_TO_EXPORT: versions`\n* [x] Save configuration\n* [x] Run the script and check logs\n* [x] Same steps as above for the `version_checks`\n* [x] After the script is finished, remove the env variable from the scheduled job and save the configuration.","state":"closed","created_at":"2021-09-22T12:43:43.622Z","updated_at":"2022-03-16T11:36:55.002Z","closed_at":"2021-10-01T06:40:14.735Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Unplanned","backend","devops::growth","group::product intelligence","maintenance::pipelines","priority::1","section::growth","severity::1","type::maintenance","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341502","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":15,"completed_count":15},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"15 of 15 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341502","notes":"https://gitlab.com/api/v4/projects/278964/issues/341502/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341502/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341502","relative":"#341502","full":"gitlab-org/gitlab#341502"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94105171,"iid":341497,"project_id":278964,"title":"Refactor Jobs table on pipeline page to Vue/GraphQL","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Problem to solve \n\nIn order to [use vue tabs for the pipeline page](https://gitlab.com/groups/gitlab-org/-/epics/6756#note_683242105) we need to move the jobs table on this page to be rendered using Vue / GraphQL instead of the current HAML implementation.\n\n### Proposal \n\nUpdate to match the layout of the Jobs Page on the Jobs Tab of the pipeline page.\n\nThere's some similar work been done on [moving the jobs table on the jobs page](https://gitlab.com/groups/gitlab-org/-/epics/5604) which should help us with this effort, though it won't be as simple as a plug-and-play approach.\n\nThe data for the two tables is re-usable so we shouldn't need any ~backend work, but the designs are a little different.\n\n|jobs page |pipeline page |\n|---|---|\n| ![Screen_Shot_2021-09-21_at_8.25.54_AM](https://gitlab.com/groups/gitlab-org/-/uploads/da8bb8b1bd081ac9b3b4fe9ab2e29ac5/Screen_Shot_2021-09-21_at_8.25.54_AM.png)|![Screen_Shot_2021-09-21_at_8.25.59_AM](https://gitlab.com/groups/gitlab-org/-/uploads/3ca0e00cc391c23d5cd3b94141d19e72/Screen_Shot_2021-09-21_at_8.25.59_AM.png)|\n\nThis first thing we should do is work out if we want to be consistent with the current design, re-use the design from the jobs page, or do something different entirely. Note: there's some ongoing design work that may affect this too https://gitlab.com/gitlab-org/gitlab/-/issues/340029 - **Update 2021-11-24** - We will use the design from the jobs page to move this forward.\n\nThis issue crosses the boundaries of both ~\"group::pipeline authoring\" and ~\"group::pipeline execution\" and would be a good opportunity for collaboration across the groups.\n\n### Implementation \n\nWe should inject the [jobs table](/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/jobs/components/table/index.js) here [in the code](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/pipelines/_with_tabs.html.haml#L31).\n\nWe will need to edit and create a new app in `app/assets/javascripts/pipelines/pipeline_details_bundle.js`. Probably update some Rspec tests as well.\n\nThen we will need to dynamically hide the pipeline cell from the table just for this use case. Probably pass some data through the app and check in the table component.\n\n\n### User experience goal\n\nThe user should be able to see their jobs on the pipeline page as before, with the added performance gains this migration will unlock.\n\n### Documentation\n\nDepending on the UX approach we take, this may not need additional documentation.\nIf we change the designs though, we should update the documentation accordingly.\n\n### Availability \u0026 Testing\n\nWe should add appropriate Jest testing as standard, but should also work with our SETs to make sure the integration and E2E tests are robust enough to ensure feature parity. See the work in https://gitlab.com/gitlab-org/gitlab/-/issues/340069 for an example.\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning\n\n### Implementation Plan\n| Work Type | Description | Issue link |\n| ------ | ------ | ------ |\n| ~frontend | Refactor Failed jobs table on pipeline page to Vue/GraphQL | https://gitlab.com/gitlab-org/gitlab/-/issues/341498 |\n| ~frontend | **Refactor Jobs table on pipeline page to Vue/GraphQL** | :point_left: You are here  |\n| ~frontend | Refactor jobs view to Vue/GraphQL | https://gitlab.com/groups/gitlab-org/-/epics/5604 |","state":"closed","created_at":"2021-09-22T11:32:34.604Z","updated_at":"2022-04-05T11:18:00.999Z","closed_at":"2022-02-21T20:55:57.986Z","closed_by":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"labels":["Category:Continuous Integration","UX","Verify candidate","auto updated","bug::performance","devops::verify","frontend","group::pipeline execution","missed:14.7","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":20,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341497","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341497","notes":"https://gitlab.com/api/v4/projects/278964/issues/341497/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341497/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341497","relative":"#341497","full":"gitlab-org/gitlab#341497"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6756,"epic":{"id":349829,"iid":6756,"title":"Separating Pipeline Show Page","url":"/groups/gitlab-org/-/epics/6756","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":94098796,"iid":341489,"project_id":278964,"title":"Update the gitlab-cov-fuzz and other related documents","description":"Update the gitlab-cov-fuzz and other related documents with corpus management information.\n\nRelated to #341487.\nMore details to be followed\n\n\nThings to include:\n\n1. Docs needed for: Clarifying that package registry must be enabled on the project.\n2. Add troubleshooting steps.","state":"closed","created_at":"2021-09-22T09:56:49.417Z","updated_at":"2022-02-21T03:20:50.914Z","closed_at":"2022-02-15T23:46:25.722Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:Fuzz Testing","Technical Writing","backend","devops::secure","documentation","feature::addition","fuzzing::coverage","group::dynamic analysis","missed:14.6","missed:14.7","section::sec","tw-weight::8","type::feature"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341489","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341489","notes":"https://gitlab.com/api/v4/projects/278964/issues/341489/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341489/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341489","relative":"#341489","full":"gitlab-org/gitlab#341489"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5017,"epic":{"id":156867,"iid":5017,"title":"Fuzz corpus management interface - initial implementation","url":"/groups/gitlab-org/-/epics/5017","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94098794,"iid":341488,"project_id":278964,"title":"Error when using rules:exists with include","description":"### Summary\n\nWith #276515 and !67409, [`include:rules`](https://docs.gitlab.com/ee/ci/yaml/index.html#rules-with-include) was introduced. Only `rules:if` is supported for now and you cannot use other rules in `include`.\n\nWhen you use, for example, `rules:exits`, you get an `Undefined error`.\n\n### Steps to reproduce\n\n- Create a CI config with this;\n\n```yaml\ninclude:\n  - local: configs/builds.yml\n    rules:\n      - exists:\n        - '$INCLUDE_BUILDS'\n\ntest:\n  stage: test\n  script: exit 0\n```\n\n- And try to see the config file on the file show page.\n- And see the pipeline.\n\n![Screen_Shot_2021-09-22_at_12.55.10](/uploads/1837cec2b4e6c039da1acf7ad79104cd/Screen_Shot_2021-09-22_at_12.55.10.png)\n\n### Example Project\n\nhttps://gitlab.com/furkanayhan/test-project/-/pipelines/375096600\n\n### What is the current *bug* behavior?\n\n- The pipeline shows an undefined error.\n- The file show page returns 500.\n\n### What is the expected *correct* behavior?\n\n- The pipeline should show a correct error message.\n- The file show page should work properly.\n\n### Relevant logs and/or screenshots\n\nSentry errors: https://sentry.gitlab.net/gitlab/gitlabcom/?query=top_level_worktree_paths\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-09-22T09:56:44.402Z","updated_at":"2021-10-01T11:42:45.127Z","closed_at":"2021-10-01T11:42:45.110Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","candidate::14.4","devops::verify","group::pipeline authoring","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341488","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341488","notes":"https://gitlab.com/api/v4/projects/278964/issues/341488/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341488/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341488","relative":"#341488","full":"gitlab-org/gitlab#341488"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":94097963,"iid":341487,"project_id":278964,"title":"Update gitlab-cov-fuzz project to use the corpus from the registry.","description":"Coverage fuzzing currently gets its corpus from artefacts in previous runs. If the user sets up to use a registry, the corpus should be retrieved and stored in the corpus registry.\n\n```yaml\nfuzzinputs_target:\n    extends: .fuzz_base\n    image: registry.gitlab.com/gitlab-org/security-products/analyzers/gitlab-cov-fuzz/golang:1.12-buster-llvm9\n    variables:\n      COVFUZZ_USE_REGISTRY: \"true\"\n      COVFUZZ_CORPUS_NAME: \"package_name\"\n\n```\n\nIf `COVFUZZ_USE_CORPUS_REGISTRY` is set to true, the corpus registry should be used. If it is set to false, then pipeline artefacts should be used. The `COVFUZZ_CORPUS_NAME` should be used as the name of the corpus when it's stored.\n\nRelated to #334941.","state":"closed","created_at":"2021-09-22T09:45:38.614Z","updated_at":"2021-12-07T04:41:51.317Z","closed_at":"2021-11-22T05:04:20.836Z","closed_by":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"labels":["Category:Fuzz Testing","backend","devops::secure","feature::enhancement","fuzzing::coverage","group::dynamic analysis","section::sec","type::feature"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341487","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341487","notes":"https://gitlab.com/api/v4/projects/278964/issues/341487/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341487/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341487","relative":"#341487","full":"gitlab-org/gitlab#341487"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5017,"epic":{"id":156867,"iid":5017,"title":"Fuzz corpus management interface - initial implementation","url":"/groups/gitlab-org/-/epics/5017","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94097804,"iid":341486,"project_id":278964,"title":"Graphql query- fetch corpus","description":"Add a Graphql Query to fetch the corpus to be displayed on the manage corpus page. Following fields are required in the return response:\n\n  \n```\n   Required fields by the package registery\n   (p1) Target Name - Need to be stored in db\n   (p1) Latest Job / Pipeline - Package registry response\n   (p1) Last Updated - Package registry response\n   (p1) Last Used - Need to be stored in db\n   (p2) File Count - Package registry response\n   (p2) Coverage Percentage - Need to be stored in db\n   (p2) Crashes - Need to be stored in db\n\n   p1 = priority 1, p2 = priority 2.\n```\n\nPagination is also required.\n\nFile count, crashes, Last Used and coverage percentage is included as a part of https://gitlab.com/gitlab-org/gitlab/-/issues/341318\n\nRelated to #341218.","state":"closed","created_at":"2021-09-22T09:42:28.791Z","updated_at":"2021-11-15T04:52:00.742Z","closed_at":"2021-11-15T04:52:00.706Z","closed_by":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"labels":["Category:Fuzz Testing","backend","devops::secure","feature::addition","fuzzing::coverage","group::dynamic analysis","section::sec","type::feature"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341486","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341486","notes":"https://gitlab.com/api/v4/projects/278964/issues/341486/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341486/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341486","relative":"#341486","full":"gitlab-org/gitlab#341486"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5017,"epic":{"id":156867,"iid":5017,"title":"Fuzz corpus management interface - initial implementation","url":"/groups/gitlab-org/-/epics/5017","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94097670,"iid":341485,"project_id":278964,"title":"Graphql mutation to create the corpus record","description":"Graphql mutation to create the Fuzz::Corpus. Add corpus action will create this record and will be used to populate the manage corpus page.\n\nDetailed info to be followed\n\nref:\n\n![Screenshot_2021-09-22_at_2.15.19_PM](/uploads/2c25409f5f6370aa99df780e911b8d62/Screenshot_2021-09-22_at_2.15.19_PM.png)\n\nRelated to #341218.","state":"closed","created_at":"2021-09-22T09:40:40.212Z","updated_at":"2021-11-15T04:52:06.133Z","closed_at":"2021-11-15T04:52:06.098Z","closed_by":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"labels":["Category:Fuzz Testing","backend","devops::secure","feature::addition","fuzzing::coverage","group::dynamic analysis","section::sec","type::feature"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341485","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341485","notes":"https://gitlab.com/api/v4/projects/278964/issues/341485/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341485/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341485","relative":"#341485","full":"gitlab-org/gitlab#341485"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5017,"epic":{"id":156867,"iid":5017,"title":"Fuzz corpus management interface - initial implementation","url":"/groups/gitlab-org/-/epics/5017","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94097299,"iid":341484,"project_id":278964,"title":"Add Corpus model and validations","description":"Fuzz:Corpus model will hold the information about the corpus that we need to show on the corpus management page.\n\n```\nref https://docs.gitlab.com/ee/api/graphql/reference/#cijob\n\n(p1) Target Name - Corpus.package.pipeline.CiJob.name\n(p1) Latest Job / Pipeline - Corpus.package.pipeline.CiJob.id\n(p1) Last Updated - Corpus.updatedAt\n(p1) Last Used - latest Corpus.package.pipeline.CiJob.startedAt\n(p2) File Count - Corpus.package.filecount\n(p2) Coverage Percentage - Corpus.package.pipeline.coverage\n(p2) Crashes - This is in Ci.Reports.CoverageFuzzing.Reports we can include it incrementally.\n\n\n```","state":"closed","created_at":"2021-09-22T09:36:20.649Z","updated_at":"2021-10-08T06:04:41.829Z","closed_at":"2021-10-08T05:48:37.340Z","closed_by":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"labels":["Category:Fuzz Testing","backend","devops::secure","feature::addition","fuzzing::coverage","group::dynamic analysis","section::sec","type::feature"],"milestone":null,"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341484","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341484","notes":"https://gitlab.com/api/v4/projects/278964/issues/341484/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341484/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341484","relative":"#341484","full":"gitlab-org/gitlab#341484"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6683,"epic":{"id":342607,"iid":6683,"title":"Corpus Management - API Contract","url":"/groups/gitlab-org/-/epics/6683","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94072709,"iid":341461,"project_id":278964,"title":"Scrolling : Title bar separates from file contents in merge request diff","description":"![Screen_Recording_2021-09-22_at_2.05.01_PM](/uploads/3322a0851a1fcc7c46ad35cf065656ce/Screen_Recording_2021-09-22_at_2.05.01_PM.mov)\n\nWhile scrolling through an [MR diff](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66735/diffs), I can see the file title bar separate from the file content briefly before snapping back (see attached video). The file title bar should scroll together with the file.\n\n1. Go to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66735/diffs\n1. Use Cmd+f\n1. Scroll, observe the scrolling separation\n\n/cc @pedroms @iamphill","state":"closed","created_at":"2021-09-22T02:10:18.252Z","updated_at":"2021-12-18T07:00:56.560Z","closed_at":"2021-12-08T03:32:49.240Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Deliverable","devops::create","diff","frontend","group::code review","merge requests","missed-deliverable","missed:14.5","priority::3","section::dev","severity::4","type::bug"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341461","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341461","notes":"https://gitlab.com/api/v4/projects/278964/issues/341461/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341461/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341461","relative":"#341461","full":"gitlab-org/gitlab#341461"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94067537,"iid":341442,"project_id":278964,"title":"More paid features available to free users","description":"## Release Notes\n\nAs a follow-up iteration to the [Registration Features](https://docs.gitlab.com/ee/development/service_ping/index.html#registration-features-program) program released in 14.1, we've added two additional paid features available to free GitLab self-managed users running GitLab EE.\n\nBy simply registering with GitLab and sending us activity data via [Service Ping](https://docs.gitlab.com/ee/development/service_ping/index.html#what-is-service-ping), you can now enjoy these two additional Premium features free:\n\n1. [Limit project size at a global, group and project level](https://docs.gitlab.com/ee/user/admin_area/settings/account_and_limit_settings.html#repository-size-limit) \n1. [Restrict group access by IP address](https://docs.gitlab.com/ee/user/group/#restrict-group-access-by-ip-address)\n\n![Screen_Shot_2021-10-08_at_2.56.27_PM](/uploads/b6973164877dfea8383bb5d8e8e93c36/Screen_Shot_2021-10-08_at_2.56.27_PM.png)\n\n## Summary\n\nIn %\"14.1\" via https://gitlab.com/groups/gitlab-org/-/epics/6144 we shipped the MVC of [registration features](https://docs.gitlab.com/ee/development/service_ping/#registration-features-program) which offers SM users with free features (currently [email from GitLab](https://docs.gitlab.com/ee/tools/email.html) in exchange for turning on [Service Ping](https://docs.gitlab.com/ee/development/service_ping/#what-is-service-ping).\n\nIn this issue, we will introduce two additional [registration features](https://docs.gitlab.com/ee/development/service_ping/#registration-features-program). More details on our strategy behind registration features [here](https://about.gitlab.com/direction/registration-initiatives/#registration-features-ongoing). \n\nWe selected our first feature using [this criteria (option 1)](https://docs.google.com/document/d/1oFmmK8Kz8cQwyb_KAJ33rEnbNzG1niFp4bh7CGEaMkE/edit). Using the same criteria we'd like to select features from the following list (pulled from `features.yml`). \n\n1. [LDAP group sync](https://docs.gitlab.com/ee/administration/auth/ldap/index.html#group-sync)\n1. [Create and remove admins based on an LDAP](https://docs.gitlab.com/ee/administration/auth/ldap/index.html#administrator-sync)\n1. [Multiple LDAP / AD server support](https://docs.gitlab.com/ee/administration/auth/ldap/index.html#multiple-ldap-servers)\n1. [Kerberos user authentication](https://docs.gitlab.com/ee/integration/kerberos.html)\n1. [Limit project size at a global, group and project level](https://docs.gitlab.com/ee/user/admin_area/settings/account_and_limit_settings.html#repository-size-limit) \n1. [Restrict group access by IP address](https://docs.gitlab.com/ee/user/group/#restrict-group-access-by-ip-address) \n\n## Registration Feature - Feature Set\n\n1. [x] [Email from GitLab](https://docs.gitlab.com/ee/tools/email.html) MVC\n1. [ ] [Limit project size at a global, group and project level](https://docs.gitlab.com/ee/user/admin_area/settings/account_and_limit_settings.html#repository-size-limit) :point_left_tone2: **Iteration 2** \n1. [ ] [Restrict group access by IP address](https://docs.gitlab.com/ee/user/group/#restrict-group-access-by-ip-address) :point_left_tone2: **Iteration 2** \n\n## Success Criteria \n\n1. [ ] When the registration features sub-setting is `On`, the [feature set]() is provisioned in the instance\n1. [ ] When Service Ping is `Off` =\u003e _**No change to `Off` behavior since release of https://gitlab.com/groups/gitlab-org/-/epics/6144**_\n     1. The sub-setting is set to `Off`\n     1. The sub-setting is disabled for selection\n     1. The instance no longer receives the [paid feature set]()\n1. [ ] This change should not change the [instrumentation of this feature](https://gitlab.com/gitlab-org/gitlab/-/issues/338155) \n\n## Docs Updates\n\n1. [ ]  Update [Registration Features docs page](https://docs.gitlab.com/ee/development/service_ping/#registration-features-program) to include additional features as part of the total feature set\n\n## Feature Demo\n\n[Zoom Link](https://gitlab.zoom.us/rec/share/j6W9515hSuSiK_g07H4wRj9GvOpcdXqjhEKdQyJlAsYD8blQfHY8ntzfoKa6gAfs.40-OpiwK-eYavIZi?startTime=1632307727000)","state":"closed","created_at":"2021-09-21T21:59:59.674Z","updated_at":"2022-10-12T23:29:58.577Z","closed_at":"2021-10-25T15:44:23.963Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["Category:Product Analytics","GitLab Core","auto updated","devops::growth","group::product intelligence","release post item","release post item::in review","section::growth","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341442","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341442","notes":"https://gitlab.com/api/v4/projects/278964/issues/341442/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341442/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341442","relative":"#341442","full":"gitlab-org/gitlab#341442"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6798,"epic":{"id":352727,"iid":6798,"title":"Registration Features","url":"/groups/gitlab-org/-/epics/6798","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94062148,"iid":341426,"project_id":278964,"title":"Update the Apply button for Global Search facets to be disabled by default","description":"### Problem to Solve\nAs discussed a bit [here](https://gitlab.com/gitlab-org/gitlab/-/issues/331311/designs/Initial.png#note_639153770), it may not be immediately apparent to users when using the sidebar facets in Global Search that they need to hit the `Apply` button. In addition, the current `Apply` button is a little small, which was initially done for hierarchal purposes in order to not have the two primary buttons \"Search\" and \"Apply\" compete with one another.\n\n_Current default state_\n\n\u003cimg src=\"/uploads/1498688fd891ffba26d8aa5d0eb3ea80/Screen_Shot_2021-09-21_at_1.08.21_PM.png\" width=\"278\" /\u003e\n\n### Proposal\nTo provide a better affordance to users when the `Apply` button is necessary for a change, we should have this button disabled by default, and only enable it once a selection is made. This will aid users as an indication that they need to apply their changes. Additionally, this allows us to increase the size of the `Apply` button without competing with the primary `Search` button (as the `Apply` button would only be active once a facet is modified and needed).\n\n- [ ] Disable the Apply button by default, and enable it once a user has modified a facet selection\n- [ ] Increase the Apply button to use the default (`btn-med`) size","state":"closed","created_at":"2021-09-21T19:12:07.979Z","updated_at":"2022-05-30T16:29:47.636Z","closed_at":"2021-10-21T17:32:26.943Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Category:Global Search","UX","auto updated","devops::data_stores","frontend","group::global search","section::enablement","type::feature","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":5041243,"username":"nickbrandt","name":"Nick Brandt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/96e3036898d44a8ad7063ba07cce0998?s=80\u0026d=identicon","web_url":"https://gitlab.com/nickbrandt"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341426","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341426","notes":"https://gitlab.com/api/v4/projects/278964/issues/341426/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341426/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341426","relative":"#341426","full":"gitlab-org/gitlab#341426"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94061333,"iid":341423,"project_id":278964,"title":"[Feature flag] Cleanup of `operational_vulnerabilities`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/groups/gitlab-org/-/epics/6345) on production,\nthat is currently behind the `:operational_vulnerabilities` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Container Security\n- Most appropriate slack channel to reach out to: `#g_protect_container_security`\n- Best individual to reach out to: Alexander Turinske (@aturinske)\n- PM: Sam White\n\n## The Rollout Plan\n\n- Rollout Feature for everyone as soon as it's ready\n\n## Testing Groups/Projects/Users\n\n- [`staging.gitlab.com/defend-team-test`](https://staging.gitlab.com/defend-team-test) group\n- [`gitlab-org/protect`](https://gitlab.com/gitlab-org/protect) group\n\n## Expectations\n\n### What are we expecting to happen?\n\n- there will be tabs with different types of vulnerabilities\n\n### What might happen if this goes wrong?\n\n- the vulnerability pages (pipeline/project/group/instance) no longer work\n\n### What can we monitor to detect problems with this?\n\n- #questions Slack channel\n- #isThisKnown Slack channel\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status 842e902da028c14fc2d74e9c054eff8e1476c551`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set operational_vulnerabilities true --dev`\n    - [x] `/chatops run feature set operational_vulnerabilities true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status 842e902da028c14fc2d74e9c054eff8e1476c551`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing projects/groups first\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab operational_vulnerabilities true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss operational_vulnerabilities true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com operational_vulnerabilities true`\n\n- [x] Enable the feature globally on production environment. `/chatops run feature set operational_vulnerabilities true`\n- [x] Announce on [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/6345) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog). (I forgot to do this. Next time I will remember)\n- [x] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status 3fa04b4c9fd8eb5e1c95ff4af3b661890f6808a7`\n- [x] Close [the feature epic](https://gitlab.com/groups/gitlab-org/-/epics/6345) to indicate the feature will be released in the current milestone.\n- [x] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [x] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [x] Set the title to \"[Feature flag] Cleanup `operational_vulnerabilities`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `operational_vulnerabilities` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n    - [x] Remove the `gon.features?.operationalVulnerabilities` ternary in `ee/app/assets/javascripts/security_dashboard/vulnerability_report_init.js` and use only `getVulnerabilityComponent()`.\n    - [x] Fix broken tests in `ee/spec/frontend_integration/security_dashboard/vulnerability_report_init_integration_spec.js`.\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status 61833c7f887d3fa0eab221bbf0daf8d1dba13954`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete operational_vulnerabilities --dev`\n    - [x] `/chatops run feature delete operational_vulnerabilities --staging`\n    - [x] `/chatops run feature delete operational_vulnerabilities`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set operational_vulnerabilities false\n```","state":"closed","created_at":"2021-09-21T18:49:52.143Z","updated_at":"2022-01-18T07:03:25.453Z","closed_at":"2022-01-07T17:43:36.808Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Deliverable","GitLab Ultimate","auto updated","devops::govern","feature flag","frontend","frontend-weight::2","group::security policies","missed-deliverable","missed:14.4","missed:14.5","section::sec","type::feature","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341423","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":48,"completed_count":37},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"37 of 48 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341423","notes":"https://gitlab.com/api/v4/projects/278964/issues/341423/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341423/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341423","relative":"#341423","full":"gitlab-org/gitlab#341423"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6345,"epic":{"id":307314,"iid":6345,"title":"Cluster Image Scanning: Vulnerability Report Tab","url":"/groups/gitlab-org/-/epics/6345","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94060282,"iid":341422,"project_id":278964,"title":"GitLab Migration - Add GitLab version check for Project Migration","description":"## Problem\n\nFrom 14.4 or 14.5 on the GitLab Migration will start migrating also projects of groups on .com. If someone tries to import a group with projects from a self-managed GitLab with version lower than these release, the migration will fail since the source project will not export the project related data.\n\n## Solution\n\nSimilar to what was done to group import, we should also validate the GitLab instance source version and check whether it matches the GitLab target version that is triggering the import. See for reference:\n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/1e7a2d16b7b67fde966aa3ca0cb510a97dd52a5b/app/models/bulk_import.rb#L7","state":"closed","created_at":"2021-09-21T18:22:11.595Z","updated_at":"2021-11-15T14:26:51.811Z","closed_at":"2021-10-19T19:52:48.277Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Importers","Importer:GitLab Migration","Next Up","backend","devops::manage","feature::enhancement","group::import","reliability","section::dev","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":683729,"username":"Alexand","name":"João Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"}],"author":{"id":683729,"username":"Alexand","name":"João Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"type":"ISSUE","assignee":{"id":683729,"username":"Alexand","name":"João Alexandre Cunha","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fbf9eb0e06338db271e1ce6722c32cc0?s=80\u0026d=identicon","web_url":"https://gitlab.com/Alexand"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341422","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341422","notes":"https://gitlab.com/api/v4/projects/278964/issues/341422/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341422/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341422","relative":"#341422","full":"gitlab-org/gitlab#341422"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6681,"epic":{"id":342210,"iid":6681,"title":"GitLab Migration - Migrate Projects MVC","url":"/groups/gitlab-org/-/epics/6681","group_id":9970,"human_readable_end_date":"Dec 7, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94058557,"iid":341419,"project_id":278964,"title":"Interactive validation in security policy editor","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nTroubleshooting invalid security policies is currently somewhat difficult. I would be much easier if we could have interactive validation with in-line error reporting like we have on the CI / CD Editor:\n\n![](https://gitlab.com/gitlab-org/gitlab/uploads/5dd724c35f3ec249cbd9cdf34a263372/Screen_Shot_2021-09-21_at_7.43.46_AM.png)\n\nWe should be able to re-use its implementation with the [security orchestration policy schema](https://gitlab.com/gitlab-org/gitlab/-/blob/5fab6ac5747f72b3dc4bfb796904db118a31bb01/ee/app/validators/json_schemas/security_orchestration_policy.json)\n\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\nPossible implementation references:\n\n- https://gitlab.com/gitlab-org/gitlab/-/blob/1e7a2d16b7b67fde966aa3ca0cb510a97dd52a5b/app/assets/javascripts/editor/extensions/source_editor_ci_schema_ext.js#L5\n- https://gitlab.com/gitlab-org/gitlab/-/blob/1e7a2d16b7b67fde966aa3ca0cb510a97dd52a5b/app/assets/javascripts/pipeline_editor/components/editor/text_editor.vue#L18\n\n### Implementation\n- [ ] ~documentation extend JSON schema for Security Policies to have rich descriptions explaining each field,\n- [ ] ~backend Create `ee/app/services/security/security_orchestration_policies/fetch_schema_service.rb` which reads the JSON schema file and returns the raw JSON.\n- [ ] ~backend Add a `schema` action to `ee/app/controllers/projects/security/policies_controller.rb` which returns the raw schema JSON.\n- [ ] ~backend Update `ee/config/routes/project.rb` so that `resources :policies` is able to return the schema.\n- [ ] ~frontend Download the schema from the new `fetch_schema_service` when the page is loaded in the [scan_execution_policy_editor](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/scan_execution_policy/scan_execution_policy_editor.vue)\n- [ ] ~frontend pass the schema into [policy_editor_layout](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_editor/policy_editor_layout.vue) on a newly created `schema` prop to the `policy-yaml-editor`\n- [ ] ~frontend  update [policy_yaml_editor](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/threat_monitoring/components/policy_yaml_editor.vue) to [register the schema with the source_editor instance](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/pipeline_editor/components/editor/text_editor.vue#L18)\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-09-21T17:41:15.912Z","updated_at":"2022-04-19T16:25:43.335Z","closed_at":"2022-04-05T16:51:56.445Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:Security Policy Management","GitLab Ultimate","[deprecated] Accepting merge requests","backend","backend-weight::2","devops::govern","direction","feature::enhancement","frontend","frontend-weight::3","group::security policies","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":null,"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341419","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341419","notes":"https://gitlab.com/api/v4/projects/278964/issues/341419/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341419/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341419","relative":"#341419","full":"gitlab-org/gitlab#341419"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6611,"epic":{"id":332582,"iid":6611,"title":"Follow-on Improvements for the Security Policy Editor","url":"/groups/gitlab-org/-/epics/6611","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94058127,"iid":341418,"project_id":278964,"title":"Improve backend error messaging for orchestration policy validation","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nCurrently, if a Security Orchestration Policy violates the JSON schema, the backend will simply return [`Invalid policy yaml`](https://gitlab.com/gitlab-org/gitlab/-/blob/111ae4c123fa9f51e16ea862a60cea548a5e9623/ee/app/services/security/security_orchestration_policies/process_policy_service.rb#L25). This is unhelpful to the user because it does not tell them what part of the policy needs to be fixed. We should instead return a list of all the policy validation errors which occurred.\n\nPointed out in: https://gitlab.com/gitlab-org/gitlab/-/issues/339751#note_683097117\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\nPresently, this validation happens in [`orchestration_policy_configuration.rb`](https://gitlab.com/gitlab-org/gitlab/-/blob/1e7a2d16b7b67fde966aa3ca0cb510a97dd52a5b/ee/app/models/security/orchestration_policy_configuration.rb#L47) using `schemer.valid?`, which returns a boolean.\n\nWe should instead use `schemer.validate` to get a list of validation errors:\n\n```ruby\n[26] pry(main)\u003e policy = 'scan_execution_policy:\n- name: Run Cluster Image Scanning\n  description: This policy enforces container scans against a production cluster on a daily basis.\n  enabled: true\n  rules:\n  - type: schedule\n    agents:\n      production:\n        namespaces:\n        - production\n    cadence: 0 0 * * *\n  actions:\n  - scan: cluster_image_scanning\n'\n[27] pry(main)\u003e policy_yaml = Gitlab::Config::Loader::Yaml.new(policy).load!\n[28] pry(main)\u003e schemer.validate(policy_yaml.deep_stringify_keys).map { |e| JSONSchemer::Errors.pretty(e) }\n=\u003e [\"property '/scan_execution_policy/0/rules/0/agents' is invalid: error_type=schema\"]\n```\n\n1. ~backend Create new validator class in `lib/gitlab/security/validators/orchestration_policy_validator.rb`:\n\n   ```ruby\n   module GitLab\n     module Security\n       module Validators\n         class OrchestrationPolicyValidator\n           POLICY_SCHEMA_PATH = 'ee/app/validators/json_schemas/security_orchestration_policy.json'\n\n           def initialize(policy)\n             @errors = JSONSchemer\n               .schema(Rails.root.join(POLICY_SCHEMA_PATH))\n               .validate(policy)\n           end\n\n           def valid?\n             @errors.empty?\n           end\n\n           def errors\n             @errors.map { |e| JSONSchemer::Errors.pretty(e) }\n           end\n         end\n       end\n     end\n   end\n   ```\n\n1. ~backend Add a new `policy_validation` method to `orchestration_policy_configuration.rb` which returns\n   the `OrchestrationPolicyValidator`:\n\n   ```ruby\n   def policy_validation(policy = policy_hash)\n     GitLab::Security::Validators::OrchestrationPolicyValidator.new(policy)\n   end\n   ```\n\n1. ~backend Change [`ProcessPolicyService`](https://gitlab.com/gitlab-org/gitlab/-/blob/111ae4c123fa9f51e16ea862a60cea548a5e9623/ee/app/services/security/security_orchestration_policies/process_policy_service.rb#L25) to return a detailed error message when validation errors exist.\n\n   ```ruby\n   validator = policy_configuration.policy_validation(policy)\n   raise format_errors(validator.errors) unless validator.valid?\n   ```\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-09-21T17:30:10.196Z","updated_at":"2022-04-13T13:56:25.357Z","closed_at":"2022-02-07T12:42:16.854Z","closed_by":{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"},"labels":["Category:Security Policy Management","GitLab Ultimate","backend","devops::govern","direction","feature::enhancement","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[],"author":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341418","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341418","notes":"https://gitlab.com/api/v4/projects/278964/issues/341418/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341418/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341418","relative":"#341418","full":"gitlab-org/gitlab#341418"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6611,"epic":{"id":332582,"iid":6611,"title":"Follow-on Improvements for the Security Policy Editor","url":"/groups/gitlab-org/-/epics/6611","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94047565,"iid":341403,"project_id":278964,"title":"Clean `include ::ActionView::Helpers::UrlHelper` from lib/gitlab/email/message/in_product_marketing/helper.rb","description":"Before raising an issue to the GitLab issue tracker, please read through our guide for finding help to determine the best place to post:\n\n* https://about.gitlab.com/getting-help/\n\nIf you are experiencing an issue when using GitLab.com, your first port of call should be the Community Forum. Your issue may have already been reported there by another user. Please check:\n\n* https://forum.gitlab.com/\n\nIf you feel that your issue can be categorized as a reproducible bug or a feature proposal, please use one of the issue templates provided and include as much information as possible.\n\nThank you for helping to make GitLab a better product.","state":"closed","created_at":"2021-09-21T14:44:29.976Z","updated_at":"2021-10-28T13:52:20.519Z","closed_at":"2021-10-04T23:16:47.780Z","closed_by":{"id":4234774,"username":"pcalder","name":"Phil Calder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4234774/avatar.png","web_url":"https://gitlab.com/pcalder"},"labels":["devops::growth","group::activation","section::growth","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":9670031,"username":"eugielimpin","name":"Eugie Limpin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9670031/avatar.png","web_url":"https://gitlab.com/eugielimpin"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":9670031,"username":"eugielimpin","name":"Eugie Limpin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9670031/avatar.png","web_url":"https://gitlab.com/eugielimpin"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341403","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341403","notes":"https://gitlab.com/api/v4/projects/278964/issues/341403/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341403/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341403","relative":"#341403","full":"gitlab-org/gitlab#341403"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6767,"epic":{"id":350887,"iid":6767,"title":"Rails/IncludeUrlHelper violations","url":"/groups/gitlab-org/-/epics/6767","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94046598,"iid":341393,"project_id":278964,"title":"Implement triggers to keep the `vulnerability_reads table` in sync","description":"## Why are we doing this work\n\nAs we are constantly getting time-out errors while loading the group\u0026instance-level vulnerability reports pages, we wanted to implement a performant solution to query our complex data model. We are basically creating a new table to denormalize our data to make it easier to query which will improve the performance. This approach is called \"Command Query Responsibility Segregation\" which in short is CQRS.\n\nThe first implementation task of having a separate read model is defining \u0026 creating the read model which will be done within the scope of this issue.\n\n## Relevant links\n\n- An example timeout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/327607\n\n## Implementation plan\n\n- [ ] ~database Implement triggers for the following scenarios to keep the `vulnerability_reads` table in synch;\n    1) [ ] A trigger to insert into this table whenever we have a new record created in the `vulnerabilities` table\n    2) [ ] A trigger to update the related record when a duplicated column of a vulnerability gets updated in the `vulnerabilities` table\n    3) [ ] A trigger to update the `has_issues` flag, when we create an issue for a vulnerability\n\n\u003cdetails\u003e\n\u003csummary\u003e\nTrigger \u0026 function 1\n\u003c/summary\u003e\n\n```sql\ncreate or replace function insert_vulnerability_reads() returns trigger\n    language plpgsql\n    as $$\ndeclare\n  scanner_id bigint;\n  has_issues boolean;\nbegin\n  select \n    vulnerability_scanners.id into scanner_id \n  from \n    vulnerability_occurrences\n  inner join vulnerability_scanners on vulnerability_scanners.id = vulnerability_occurrences.scanner_id\n  where \n    vulnerability_occurrences.vulnerability_id = new.id;\n\n  select exists(\n    select \n      1 \n    from \n      vulnerability_issue_links \n    where vulnerability_issue_links.vulnerability_id = new.id\n  ) into has_issues;\n  \n  insert into vulnerability_reads (vulnerability_id, projects_id, report_type, scanner_id, severity, state, has_issues, resolved_on_default_branch)\n    values (new.id, new.project_id, new.report_type, scanner_id, new.severity, new.state, has_issues, new.resolved_on_default_branch);\nreturn null;\nend\n$$;\n\ncreate trigger insert_vulnerability_reads after insert on vulnerabilities for each row execute procedure insert_vulnerability_reads();\n```\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003e\nTrigger \u0026 function 2\n\u003c/summary\u003e\n\n```sql\ncreate or replace function update_vulnerability_reads_from_vulnerability() returns trigger\n  language plpgsql\n  as $$\nbegin\n  update \n    vulnerability_reads \n  set \n    severity = new.severity, \n    state = new.state, \n    resolved_on_default_branch = new.resolved_on_default_branch\n  where vulnerability_id = new.id;\nreturn null;\nend\n$$;\n\ncreate trigger update_vulnerability_reads_from_vulnerability after update on vulnerabilities for each row execute procedure update_vulnerability_reads_from_vulnerability();\n```\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003e\nTrigger \u0026 function 3\n\u003c/summary\u003e\n\n```sql\ncreate or replace function set_has_issues_on_vulnerability_reads() returns trigger\n  language plpgsql\n  as $$\nbegin\n  update \n    vulnerability_reads \n  set \n    has_issues = true \n  where \n    vulnerability_id = new.vulnerability_id;\nreturn null;\nend\n$$;\n\ncreate trigger set_has_issues_on_vulnerability_reads after update on vulnerability_issue_links for each row execute procedure set_has_issues_on_vulnerability_reads();\n```\n\u003c/details\u003e","state":"closed","created_at":"2021-09-21T14:32:05.731Z","updated_at":"2022-02-18T07:03:41.177Z","closed_at":"2022-02-03T21:25:34.448Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","Deliverable","auto updated","backend","database","devops::secure","group::threat insights","missed-deliverable","missed:14.6","missed:14.7","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341393","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341393","notes":"https://gitlab.com/api/v4/projects/278964/issues/341393/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341393/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341393","relative":"#341393","full":"gitlab-org/gitlab#341393"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6903,"epic":{"id":368043,"iid":6903,"title":"Improve performance of vulnerability reads","url":"/groups/gitlab-org/-/epics/6903","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94043744,"iid":341382,"project_id":278964,"title":"DAST On-Demand Scan - View Scans - Remove \"Saved Scans\" tab from DAST configuration","description":"## Why are we doing this work\n\nWith the overall implementation over, this is the last cleanup step where we can remove the legacy `Saved Scans` tab from the DAST configuration page. Considering that we now have a `Saved` tab in the on-demand scans index page, the legacy tab is not longer needed.\n\n## Relevant links\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/339993)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/339993/designs/On-demand_scans_-_saved_scans.png)\n\n## Implementation plan\n\n- [x] Remove all deprecated code and tests from the DAST configuration page.","state":"closed","created_at":"2021-09-21T13:48:27.244Z","updated_at":"2022-01-18T07:03:04.914Z","closed_at":"2022-01-14T08:08:28.198Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","Deliverable","devops::secure","feature flag","feature::addition","frontend","group::dynamic analysis","section::sec","type::feature","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341382","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341382","notes":"https://gitlab.com/api/v4/projects/278964/issues/341382/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341382/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341382","relative":"#341382","full":"gitlab-org/gitlab#341382"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6637,"epic":{"id":336470,"iid":6637,"title":"DAST On-Demand Scan - View Scans","url":"/groups/gitlab-org/-/epics/6637","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":94043464,"iid":341381,"project_id":278964,"title":"[Feature flag] Enable on-demand scans index page","description":"## Summary\n\nThis issue is to rollout [the on-demand scans index page](https://gitlab.com/groups/gitlab-org/-/epics/6637) on production,\nthat is currently behind the `dast_view_scans` feature flag.\n\nThe on-demand scans index page is the new entry point for the on-demand scans feature. Until now, we only had the on-demand scans form. We now have a new page that lists all past, present and scheduled on-demand scans.\n\n## Owners\n\n- Team: ~\"devops::secure\" ~\"group::dynamic analysis\" \n- Most appropriate slack channel to reach out to: `#g_secure-dynamic-analysis`\n- Best individual to reach out to:\n  - ~backend \n    - @sethgitlab (EM)\n    - @mc_rocha (Engineer)\n  - ~frontend \n    - @nmccorrison (EM)\n    - @pgascouvaillancourt (Engineer)\n- PM: @derekferguson\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org/gitlab-foss` project\n- `gitlab-com/www-gitlab-com` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nAll `/chatops` commands that target production should be done in the `#production` slack channel for visibility.\n\n- [ ] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing projects/groups first\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [ ] Enable the feature globally on production environment. `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set \u003cfeature-flag-name\u003e false\n```","state":"closed","created_at":"2021-09-21T13:44:07.674Z","updated_at":"2021-11-18T07:02:54.907Z","closed_at":"2021-11-08T10:01:27.345Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","Deliverable","devops::secure","feature flag","feature::addition","frontend","group::dynamic analysis","section::sec","type::feature","workflow::in dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341381","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341381","notes":"https://gitlab.com/api/v4/projects/278964/issues/341381/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341381/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341381","relative":"#341381","full":"gitlab-org/gitlab#341381"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6637,"epic":{"id":336470,"iid":6637,"title":"DAST On-Demand Scan - View Scans","url":"/groups/gitlab-org/-/epics/6637","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94042931,"iid":341380,"project_id":278964,"title":"DAST On-Demand Scan - View Scans - All tabs actions","description":"## Why are we doing this work\n\nNow that all tabs have been implemented, we can look back at each of them to implement the required actions.\n\n## Relevant links\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/339993)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/339993/designs/On-demand_scans_-_scan_actions.png)\n\n## Non-functional requirements\n\n- [x] Testing:\n  - [x] All actions perform the expected task.\n\n## Implementation plan\n\n- [x] `Running` scans (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76338):\n  - [x] `Cancel` triggers `Mutation.pipelineCancel`.\n- [x] `Scheduled` scans (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76532):\n  - [x] `Edit scan` links to edit form.\n- [x] `Failed` scans )https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76448):\n  - [x] `Retry` triggers `Mutation.pipelineRetry`.\n- [x] `Passed` scans (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/76532):\n  - [x] `View results` links to pipeline page.","state":"closed","created_at":"2021-09-21T13:36:54.324Z","updated_at":"2021-12-20T03:21:37.841Z","closed_at":"2021-12-16T13:06:06.902Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","Deliverable","devops::secure","documentation","feature flag","feature::addition","frontend","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/341380","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":10},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/341380","notes":"https://gitlab.com/api/v4/projects/278964/issues/341380/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/341380/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#341380","relative":"#341380","full":"gitlab-org/gitlab#341380"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6637,"epic":{"id":336470,"iid":6637,"title":"DAST On-Demand Scan - View Scans","url":"/groups/gitlab-org/-/epics/6637","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"}]