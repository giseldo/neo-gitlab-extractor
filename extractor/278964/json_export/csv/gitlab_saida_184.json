[{"id":17410188,"iid":9252,"project_id":278964,"title":"Automatically delete orphaned upload records","description":"Depends on https://gitlab.com/gitlab-org/gitlab-ee/issues/7184.\n\nIn rare cases it is possible for Upload records to be orphaned, even though the Upload class validates for the presence of `model`. We would have added a DB constraint, but we can't because the association is polymorphic.\n\nSo, on DB writeable GitLab instances (i.e. not on Geo secondary nodes), in the upload verification service, we should destroy the Upload if its model does not exist.\n\nAcceptance criteria:\n\n- Set up GitLab Geo\n- Add a project, add an issue, add an upload in it\n- Manually delete the project record on the primary e.g. `Project.last.delete`\n- Wait for upload verification\n- The upload record and file should disappear from the primary\n- The upload record should disappear from the secondary by DB replication\n- Wait for UploadDeletedEvent to be processed\n- The upload file should disappear from the secondary","state":"closed","created_at":"2019-01-17T00:01:26.164Z","updated_at":"2021-10-07T14:40:07.500Z","closed_at":"2021-10-07T14:40:07.346Z","closed_by":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"labels":["Category:Disaster Recovery","Category:Geo Replication","Enterprise Edition","[deprecated] Accepting merge requests","devops::systems","group::geo","section::enablement","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9252","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9252","notes":"https://gitlab.com/api/v4/projects/278964/issues/9252/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9252/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9252","relative":"#9252","full":"gitlab-org/gitlab#9252"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1180,"epic":{"id":5893,"iid":1180,"title":"Geo: Improve support for Uploads","url":"/groups/gitlab-org/-/epics/1180","group_id":9970},"iteration":null,"health_status":null},{"id":24687720,"iid":26193,"project_id":278964,"title":"Number of open issues and MRs leaked through new project list","description":"**[HackerOne report #480960](https://hackerone.com/reports/480960)** by `xanbanx` on 2019-01-16, assigned to `asaba`:\n\nLately, GitLab redesigned the projects overview page. Now, this page also includes the number of open issues, number of open merge requests, and number of forks.\nHowever, this information is leaking to  users with restricted project access. For public and internal projects, this information is leaked when the project's issues and MRs are configured to be accessible only by project members. For private projects, the number of MRs is leaked also to Guest project members, who, according to the GitLab permission system, don't have access to MRs.\n\n## Steps to reproduce\n\nTested on GitLab 11.7.0-rc5-ee\n\n1. Create a public project, restrict the access of issues and merge requests to project members only. In this example, I named the project `test-project-page`\n2. Create new issue and a merge request in this project\n3. As a non-project member, visit the projects page. Here you can search for the project since it's public by visiting the page: `https://example.gitlab.com/explore/projects?utf8=%E2%9C%93\u0026name=test-project-page\u0026sort=latest_activity_desc`\n4. The search result is leaking the number of issues and merge requests, although as a non-project member, you don't have access to this. You can also see this in the attached screenshot.\n\n## Steps to mitigate\n\nOnly display number of issues or MRs if user has permission to it\n\n## Impact\n\nUsers who don't have access to issues and MRs the number of open items.\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [leak-project-page.png](https://h1.sec.gitlab.net/a/480960/407359/leak-project-page.png)","state":"closed","created_at":"2019-01-16T18:17:33.797Z","updated_at":"2021-01-22T15:42:12.256Z","closed_at":"2021-01-22T15:42:12.046Z","closed_by":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"labels":["Category:Code Review Workflow","HackerOne","[deprecated] Accepting merge requests","backend","devops::create","group::code review","priority::4","section::dev","security","security-backlog::risk-acceptance","severity::4","type::bug","type::feature","workflow::ready for development"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":null,"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-03-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26193","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26193","notes":"https://gitlab.com/api/v4/projects/278964/issues/26193/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26193/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26193","relative":"#26193","full":"gitlab-org/gitlab#26193"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1322,"epic":{"id":7382,"iid":1322,"title":"Security: Confidential S2/S3","url":"/groups/gitlab-org/-/epics/1322","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17385829,"iid":9233,"project_id":278964,"title":"Remove second primary button from geo empty state","description":"### Summary\n\nDuring the update in !8576, we've missed deduplicating the primary buttons available in the Geo empty state.\n\n\u003e There is only one primary button since there can only be one primary button per form. If there is a need for more than one button, the other should be a secondary button.\n\nSee https://design.gitlab.com/regions/empty-states#design-specifications.\n\n### Steps to reproduce\n\nGo to `/admin/geo/nodes`.\n\n### Relevant logs and/or screenshots\n\n| Current | Proposed |\n| ------ | ------ |\n| ![geo-before](/uploads/db1cdcbbe012ebaa11c58bac812c704a/geo-before.png) | ![geo-after](/uploads/9eff003e30d764dfd6cf78a8adda8eb3/geo-after.png) |\n\n### Possible fixes\n\nThis could be fixed by updating the haml template like the following:\n\n```diff\ndiff --git a/ee/app/views/shared/empty_states/_geo.html.haml b/ee/app/views/shared/empty_states/_geo.html.haml\nindex 2f10bdaa792..6e1468bac8f 100644\n--- a/ee/app/views/shared/empty_states/_geo.html.haml\n+++ b/ee/app/views/shared/empty_states/_geo.html.haml\n@@ -5,6 +5,6 @@\n   .col-12\n     .text-content\n       %h4.text-center= _(\"Discover GitLab Geo\")\n-      %p= _(\"Make everyone on your team more productive regardless of their location. GitLab Geo creates read-only mirrors of your GitLab instance so you can reduce the time it takes to clone and fetch large repos.\")\n-      .text-center\n-        = link_to _('Learn more'), 'https://about.gitlab.com/features/gitlab-geo/', rel: 'nofollow', class: 'btn btn-success'\n+      %p\n+        = _(\"Make everyone on your team more productive regardless of their location. GitLab Geo creates read-only mirrors of your GitLab instance so you can reduce the time it takes to clone and fetch large repos.\")\n+        = link_to _('More information'), ('https://about.gitlab.com/features/gitlab-geo/'), rel: 'nofollow'\n```","state":"closed","created_at":"2019-01-16T10:50:17.836Z","updated_at":"2021-02-23T22:35:21.808Z","closed_at":"2019-12-16T08:33:16.117Z","closed_by":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"labels":["Enterprise Edition","UX","UX debt","devops::systems","frontend","group::geo"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":1474048,"username":"gtsiolis","name":"George Tsiolis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1474048/avatar.png","web_url":"https://gitlab.com/gtsiolis"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":6,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9233","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9233","notes":"https://gitlab.com/api/v4/projects/278964/issues/9233/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9233/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9233","relative":"#9233","full":"gitlab-org/gitlab#9233"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":913,"epic":{"id":4998,"iid":913,"title":"Geo: Improve Administrator Experience","url":"/groups/gitlab-org/-/epics/913","group_id":9970,"human_readable_end_date":"Oct 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17384331,"iid":9231,"project_id":278964,"title":"Remove page heading in feature flags empty state","description":"### Problem to solve\n\nCurrenlty, feature flags empty state is using a heading (*Feature flags*) which breaks top area navigation into 2 separate lines. Navigation controls should be in the same line with the tab filters (*All*, *Enabled*, *Disabled*). This was probably done because feature flags MVC (see !7433) didn't include tab filters (see !8821).\n\n### Proposal\n\n| Current | Proposed |\n| ------ | ------ |\n| ![feature-flags-nav-before](/uploads/897a16054e7eb59b0c6a4ae10eaf268c/feature-flags-nav-before.png) | ![feature-flags-nav-after](/uploads/243cd8c7207d6b2eae9fe0aa2e3bb8c9/feature-flags-nav-after.png) |","state":"closed","created_at":"2019-01-16T09:58:50.679Z","updated_at":"2020-08-11T13:39:06.620Z","closed_at":"2020-08-05T05:35:17.155Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Feature Flags","Enterprise Edition","Release::P3","UI polish","UX","cicd::active","devops::release","frontend","frontend-weight::1","group::release","priority::4","severity::4","workflow::production"],"milestone":{"id":1233752,"iid":50,"group_id":9970,"title":"13.3","description":"https://about.gitlab.com/releases/2020/08/22/gitlab-13-3-released/","state":"closed","created_at":"2020-04-09T17:39:21.090Z","updated_at":"2022-04-13T14:50:18.976Z","due_date":"2020-08-17","start_date":"2020-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/50"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":1474048,"username":"gtsiolis","name":"George Tsiolis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1474048/avatar.png","web_url":"https://gitlab.com/gtsiolis"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":20,"merge_requests_count":2,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9231","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9231","notes":"https://gitlab.com/api/v4/projects/278964/issues/9231/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9231/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9231","relative":"#9231","full":"gitlab-org/gitlab#9231"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3768,"epic":{"id":75020,"iid":3768,"title":"Release UI Polish","url":"/groups/gitlab-org/-/epics/3768","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17380158,"iid":9228,"project_id":278964,"title":"Geo: Document how to reconcile differences with Geo checksum mismatches","description":"Right now if the primary and secondary have a checksum verification failure, it's not obvious what exactly is the problem.\n\nThe way I do this now:\n\n1. Get the hashed path (e.g. `/var/opt/gitlab/git-data/repositories/@hashed/9a/e2/9ae2bdd7beedc2e766c6b76585530e16925115707dc7a06ab5ee4aa2776b2c7b.git`) from the `/admin` page.\n2. On both the primary and secondary, run: `git show-ref --head | grep -E \"HEAD|(refs/(heads|tags|keep-around|merge-requests|environments|notes)/)\"`. That last part is from https://gitlab.com/gitlab-org/gitaly/blob/be97ae4d2760e1065cbcd1fb66f37100b45699f0/internal/service/repository/calculate_checksum.go#L23.\n3. Do a diff between the contents.\n\nIn the future, it would be nice if Geo did this diff automatically and showed it in the admin screen.","state":"closed","created_at":"2019-01-16T07:14:12.821Z","updated_at":"2019-12-16T14:50:02.718Z","closed_at":"2019-05-13T20:45:50.925Z","closed_by":{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"},"labels":["Category:Geo Replication","Deliverable","Enterprise Edition","devops::systems","documentation","group::geo","missed-deliverable","missed:11.10","workflow::in review"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":7,"merge_requests_count":3,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9228","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9228","notes":"https://gitlab.com/api/v4/projects/278964/issues/9228/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9228/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9228","relative":"#9228","full":"gitlab-org/gitlab#9228"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1430,"epic":{"id":8109,"iid":1430,"title":"Geo: Verify all replicated data","url":"/groups/gitlab-org/-/epics/1430","group_id":9970,"human_readable_end_date":"Jan 1, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17380068,"iid":9227,"project_id":278964,"title":"Geo: Primary checksums are not recalculated after deployment refs are created","description":"From https://gitlab.com/gitlab-com/gl-infra/infrastructure/issues/5957, we see one repository on our Ops instance that is erroneously labeled as failed verification, when in fact, it is up-to-date.\n\nIt looks like the problem occurs because there are some refs that are created **after** a merge request is merged, and the primary doesn't know to do anything about that:\n\n```ruby\nirb(main):002:0\u003e Geo::ProjectRegistry.find_by(project_id: 150).last_repository_verification_ran_at\n=\u003e 2019-01-16 06:53:31 UTC\nirb(main):003:0\u003e Project.find(150).repository_state.last_repository_verification_ran_at\n=\u003e 2019-01-14 15:26:03 UTC\n```\n\nAs you can see above, the primary last ran its verification at 2019-01-14 15:26:03 UTC, which coincides when the last push to the repo happened:\n\n```ruby\nirb(main):005:0\u003e Project.find(150).events.last.created_at\n=\u003e Mon, 14 Jan 2019 15:22:28 UTC +00:00\n```\n\nHowever, if you look in the `refs/` directory, you can see new refs created after 15:22:28:\n\n```\nroot@gitlab-01-inf-ops.c.gitlab-ops.internal:/var/opt/gitlab/git-data/repositories/@hashed/9a/e2/9ae2bdd7beedc2e766c6b76585530e16925115707dc7a06ab5ee4aa2776b2c7b.git/refs/environments/staging/deployments# ls -al | grep 15:2\n-rw-r--r-- 1 git git   41 Jan 14 15:25 1696\n-rw-r--r-- 1 git git   41 Jan 14 15:25 1697\n-rw-r--r-- 1 git git   41 Jan 14 15:25 1698\n-rw-r--r-- 1 git git   41 Jan 14 15:25 1699\n-rw-r--r-- 1 git git   41 Jan 14 15:28 1704\n-rw-r--r-- 1 git git   41 Jan 14 15:27 1705\n-rw-r--r-- 1 git git   41 Jan 14 15:27 1706\n-rw-r--r-- 1 git git   41 Jan 14 15:27 1707\n```","state":"closed","created_at":"2019-01-16T07:07:14.173Z","updated_at":"2019-12-16T14:50:03.562Z","closed_at":"2019-03-19T11:53:52.110Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Geo Replication","Deliverable","Enterprise Edition","devops::systems","group::geo"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9227","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9227","notes":"https://gitlab.com/api/v4/projects/278964/issues/9227/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9227/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9227","relative":"#9227","full":"gitlab-org/gitlab#9227"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":19008343,"iid":10357,"project_id":278964,"title":"bypass MR approval count by exploiting Race condition in merge request approval","description":"**[HackerOne report #470309](https://hackerone.com/reports/470309)** by `flashdisk` on 2018-12-20, assigned to `asaba`:\n\nHi,\n\n**Description:** \n\nI found a race condition issue when a user approves a merge request he can set a number of developers to approve the merge request in order to merge it, but this can be bypassed by firing the following HTTP request using multiple threads in parallel \n\n```\nPOST /[user_name]/{project}/merge_requests/3/approvals HTTP/1.1\nHost: gitlab.com\nConnection: close\n\n```\n\nas an example at one of my projects I was able to approve the project twice as you see here:\n\n![racecond1.PNG](https://h1.sec.gitlab.net/a/0da4b1cd-a603-4872-9e98-cece0b5e9d6d/racecond1.PNG)\n\n# Fix\nadd a lock on this endpoint when a user can approve a merge request.\n\n\n\nthanks!\n\n## Impact\n\nRace condition in merge request approval\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [racecond1.PNG](https://h1.sec.gitlab.net/a/0da4b1cd-a603-4872-9e98-cece0b5e9d6d/racecond1.PNG)","state":"closed","created_at":"2019-01-15T22:04:03.358Z","updated_at":"2020-01-10T02:05:04.544Z","closed_at":"2019-05-02T00:18:13.361Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","HackerOne","backend","group::source code","missed-deliverable","missed:11.9","priority::3","security","severity::3","workflow::in review"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-03-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/10357","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/10357","notes":"https://gitlab.com/api/v4/projects/278964/issues/10357/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/10357/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#10357","relative":"#10357","full":"gitlab-org/gitlab#10357"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17371536,"iid":9217,"project_id":278964,"title":"Warn on Git push/pull over SSH if the secondary is lagging the primary","description":"On git push/pull over SSH from a secondary, display this message or something like it to the client:\n\n```\nCurrent replication lag to SECONDARYNAME is 2 minutes.\n```\n\nSee product discovery here: https://gitlab.com/groups/gitlab-org/-/epics/733","state":"closed","created_at":"2019-01-15T19:32:43.771Z","updated_at":"2019-12-11T20:03:57.839Z","closed_at":"2019-04-05T00:19:37.072Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Deliverable","Enterprise Edition","Geo Administration","customer","devops::systems","group::geo","type::feature","workflow::ready for development"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"user_notes_count":0,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9217","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9217","notes":"https://gitlab.com/api/v4/projects/278964/issues/9217/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9217/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9217","relative":"#9217","full":"gitlab-org/gitlab#9217"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":733,"epic":{"id":3180,"iid":733,"title":"Geo: Inform users about current replication lag on secondaries","url":"/groups/gitlab-org/-/epics/733","group_id":9970,"human_readable_end_date":"Nov 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17370463,"iid":9215,"project_id":278964,"title":"Promote issue to epic \"may expose confidential information\" warning needs explanation","description":"## Problem\n\nI knew we could promote issues to epics, and went to use it for the first time. I found https://docs.gitlab.com/ee/user/group/epics/#promoting-an-issue-to-an-epic and typed `/promote` into the comment field and saw:\n\n![image](/uploads/763f46017f7b270883d3b2718ea04d29/image.png)\n\nI thought: \"Oh no, what am I about to expose?\". And googled `site:gitlab.com \"may expose confidential information\"` and got nothing useful:\n\n![image](/uploads/46ee2c18113e8d7296c1459f0700b2e2/image.png)\n\nAt this point, many users will stop and never use the action.\n\nAs a GitLab dev, I found the string in the code, and found the MR and issue, but I'm actually still a little worried something unexpected could happen. Should the warning be displayed at all on a public issue of a public project?\n\nIf we want users to use the action, they need to know with more certainty what will happen if they use it.\n\n## Proposal\n\n- [ ] Add full explanation about the warning on https://docs.gitlab.com/ee/user/group/epics/#promoting-an-issue-to-an-epic\n\n## Add-on proposals\n\n- [ ] Hide the warning if irrelevant\n- [ ] Ideally link to the doc from the warning, but that's probably not possible on the select?\n\n## Design proposal\n1.  The most pressing requirement here is **exposing this warning only when it is relevant to the user**, and not in every issue.\n2.  Update the warning to better correlate this warning to the confidential banner, using the style of our [alert](https://gitlab-org.gitlab.io/gitlab-design/hosted/design-gitlab-specs/alerts-spec-previews/) component. \n\n\u003cimg src=\"/uploads/90daad5edfed17cf073c3685bf4e7bb8/confidentalalert.png\" width=\"600\"\u003e\n\nHere are specs for the cell: https://gitlab-org.gitlab.io/gitlab-design/hosted/alexis/ee%239125-promote-spec-previews/\n\nSimplified specs below:\n*  Banner height: 24px\n*  Banner background color: `#FFF1DE`\n*  Banner font color: `#A35200`\n*  `Confidential` icon, 4px spacing between icon and text\n\n3.  Update the banner copy that appears after a user has promoted their issue to `Promoted issue to epic. Information in this issue is no longer confidential as epics are public to group members.`\n\n\u003cimg src=\"/uploads/039d6bf7995b03dcfabda5791a2859ea/Confidentalconfirmation.png\" width=\"600\"\u003e","state":"closed","created_at":"2019-01-15T18:30:23.075Z","updated_at":"2022-05-19T16:14:42.078Z","closed_at":"2019-12-20T23:45:08.099Z","closed_by":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"labels":["Category:Portfolio Management","Enterprise Edition","GitLab Ultimate","devops::plan","documentation","epics","frontend","group::product planning","missed:12.5","missed:12.6","workflow::in review"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"user_notes_count":31,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9215","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9215","notes":"https://gitlab.com/api/v4/projects/278964/issues/9215/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9215/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9215","relative":"#9215","full":"gitlab-org/gitlab#9215"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6645,"epic":{"id":337734,"iid":6645,"title":"Confidential epic error \u0026 validation messaging improvements","url":"/groups/gitlab-org/-/epics/6645","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17369678,"iid":9214,"project_id":278964,"title":"Geo: Inform users about current replication lag in the UI on secondaries","description":"Follow up for https://gitlab.com/gitlab-org/gitlab-ee/issues/5386#note_124526415.\n\n## UX Conclusion\n\n- If DB replication lag is over 1 minute:\n\n![image](/uploads/c7881d28d5a7d8ccba804da1ed700e15/image.png)\n\n- If DB replication lag is _not_ over 1 minute, but the last processed Geo event is not the last known event, and it is over 1 minute old:\n\n![image](/uploads/3946e903c86355debf59a913dbee5eb1/image.png)","state":"closed","created_at":"2019-01-15T17:55:14.541Z","updated_at":"2020-02-19T16:40:51.179Z","closed_at":"2019-04-19T17:06:57.693Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Deliverable","Enterprise Edition","Geo Administration","UX","devops::systems","group::geo","type::feature","workflow::in review"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":15,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9214","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9214","notes":"https://gitlab.com/api/v4/projects/278964/issues/9214/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9214/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9214","relative":"#9214","full":"gitlab-org/gitlab#9214"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":733,"epic":{"id":3180,"iid":733,"title":"Geo: Inform users about current replication lag on secondaries","url":"/groups/gitlab-org/-/epics/733","group_id":9970,"human_readable_end_date":"Nov 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24687636,"iid":26159,"project_id":278964,"title":"Combine frontend and backend testing level documentation","description":"We should combine\n\n- https://docs.gitlab.com/ce/development/testing_guide/testing_levels.html\n- https://docs.gitlab.com/ce/development/testing_guide/frontend_testing.html#overview-of-frontend-testing-levels\n\ninto one guideâ€”optionally making the detailed descriptions of each level a sub page.","state":"closed","created_at":"2019-01-15T13:19:56.937Z","updated_at":"2022-05-19T16:14:59.152Z","closed_at":"2020-01-30T16:49:35.900Z","closed_by":{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},"labels":["Quality","development guidelines","devops::plan","docs-only","documentation","frontend","group::project management","test","workflow::production"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":15,"merge_requests_count":1,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26159","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26159","notes":"https://gitlab.com/api/v4/projects/278964/issues/26159/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26159/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26159","relative":"#26159","full":"gitlab-org/gitlab#26159"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687620,"iid":26154,"project_id":278964,"title":"A long URL in a git commit links to external url instead of the gitlab commit page","description":"### Summary\nThis bug happens on GitLab.com\n\n### Steps to reproduce\ngo to \nhttps://gitlab.com/xranby/blacknet/commits/accountinfo\nand try open the first commit, the user is sent to the address in the git commit title instead of the git commit page.\n\n### What is the current *bug* behaviour?\nThe user is directed to the URL in the commit title when trying to open a commit with a long URL. This happens when the title is \"...\" truncated\n![user_is_directed_to_external_page](/uploads/db164019955ca047cbbba44ad315cd99/user_is_directed_to_external_page.png)\n\n### What is the expected *correct* behaviour?\nThe user should be directed to the gitlab commit page, it work as intended with short URL's in the title\n![user_is_directed_to_commit_page](/uploads/ade77e06c87f41e14cb831691b916ff9/user_is_directed_to_commit_page.png)","state":"closed","created_at":"2019-01-15T10:09:24.195Z","updated_at":"2023-01-10T14:25:37.599Z","closed_at":"2020-11-23T02:07:39.337Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Create [DEPRECATED]","[deprecated] Accepting merge requests","auto closed","devops::create","group::source code","missed:12.10","missed:12.8","missed:12.9","missed:13.0","priority::3","repository","reproduced on GitLab.com","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":275628,"username":"xranby","name":"Xerxes RÃ¥nby","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/275628/gudinna_normal.gif","web_url":"https://gitlab.com/xranby"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26154","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26154","notes":"https://gitlab.com/api/v4/projects/278964/issues/26154/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26154/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26154","relative":"#26154","full":"gitlab-org/gitlab#26154"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687615,"iid":26151,"project_id":278964,"title":"When creating Merge Request, switching diff view resets form fields","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIn the new merge request page, switching the diff to side-by-side resets the MR description text box.\n\n### Steps to reproduce\n\n1. Click on new merge request, select source and target branch, then \"compare branches and continue\"\n2. Write something in the description\n3. Switch to the \"Changes tab\" and then to \"Side-by-side\"\n4. The entire page is refreshed and the user content in the description text box is lost.\n\nReproduced on GitLab Community Edition 11.6.3.\n\n### What is the current *bug* behavior?\n\nDescription is reset.\n\n### What is the expected *correct* behavior?\n\nUser content is kept on page reload.","state":"closed","created_at":"2019-01-15T09:09:42.443Z","updated_at":"2020-12-07T16:52:10.290Z","closed_at":"2020-02-17T03:28:55.839Z","closed_by":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"labels":["Category:Code Review Workflow","Stretch","[deprecated] Accepting merge requests","devops::create","frontend","group::code review","merge requests","priority::3","severity::3","type::bug"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[],"author":{"id":552912,"username":"vpoughon","name":"Victor Poughon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5f0d5e52fe6dbeb21c6b99fffd7e23a?s=80\u0026d=identicon","web_url":"https://gitlab.com/vpoughon"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26151","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26151","notes":"https://gitlab.com/api/v4/projects/278964/issues/26151/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26151/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26151","relative":"#26151","full":"gitlab-org/gitlab#26151"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17353737,"iid":9201,"project_id":278964,"title":"Create a user via SCIM","description":"### Problem to solve\n\nWhen an enterprise adds a new employee to a connected identity provider, they may want to provision the user in connected services immediately. One use case is being able to manage access control on the identity provider; some organizations may define a cut-off date and automatically deprovision users from connected applications. Other organizations may want to set up an employee ahead of time, so they're able to configure their permissions/projects on their behalf before their arrival.\n\n### Further details\n\nSee docs for [Salesforce](https://help.salesforce.com/articleView?id=sso_jit_about.htm\u0026type=5) and [Slack](https://api.slack.com/scim)\n\n### Proposal\n* An identity provider should be able to interact with an SCIM API endpoint for a group and create a new user. The user should be created and added to the group.\n\n### Links / references","state":"closed","created_at":"2019-01-15T07:48:54.503Z","updated_at":"2022-08-18T13:49:44.606Z","closed_at":"2019-04-05T13:43:36.394Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","authentication","backend","devops::manage","gitlab.com","priority::1","saml","type::feature","workflow::in dev"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":6,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9201","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9201","notes":"https://gitlab.com/api/v4/projects/278964/issues/9201/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9201/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9201","relative":"#9201","full":"gitlab-org/gitlab#9201"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":95,"epic":{"id":165,"iid":95,"title":"Automated member management for SSO-enabled groups","url":"/groups/gitlab-org/-/epics/95","group_id":9970,"human_readable_end_date":"Apr 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17342666,"iid":9195,"project_id":278964,"title":"Add secondary lag message on Git push over HTTP","description":"- [ ] Follow up https://gitlab.com/gitlab-org/gitlab-ee/issues/5386#note_130997059:\n\n\u003e\u003e\u003e\nPerhaps it is possible during git-push-over-HTTP for a primary to know the push request came via a redirect from the secondary.\n\nIf so, we could add the replication lag there, along with a message like:\n\n```\nCurrent replication lag to SECONDARYNAME is 2 minutes.\n\nThis message is not sent on git pull over HTTP due to protocol\nlimitations. You can change your remote to use git over SSH to\nreceive current replication lag on git pull.\n\nSee DOCUMENTATION_LINK for more information.\n```\n\u003e\u003e\u003e\n\n\u003e\u003e\u003e\nWe could possibly add a query string param / different endpoint as the URL to redirect to which would allow us to detect the original request was directed at the secondary.  It should be possible.  Definitely add as a follow up issue IMO as this issue is about fetch/pull so it would make sense to have one specifically for push.\n\u003e\u003e\u003e\n\n### Proposal\n\n- [ ] Add a current replication lag message on push to secondary\n\n### What does success look like, and how can we measure that?\n\n```\n$ git push\n[master b7e3005] Update README.md\n 1 file changed, 1 insertion(+)\nwarning: redirecting to http://localhost:3001/-/geo-node-referrer/4/twitter/typeahead-js.git/\nEnumerating objects: 5, done.\nCounting objects: 100% (5/5), done.\nDelta compression using up to 8 threads\nCompressing objects: 100% (3/3), done.\nWriting objects: 100% (3/3), 969 bytes | 969.00 KiB/s, done.\nTotal 3 (delta 2), reused 0 (delta 0)\nremote: \nremote: Current replication lag: 9 seconds\nremote: \nTo http://localhost:3002/twitter/typeahead-js.git\n   1e8b0c6..b7e3005  master -\u003e master\n```","state":"closed","created_at":"2019-01-14T19:55:43.233Z","updated_at":"2022-05-30T21:35:24.341Z","closed_at":"2019-09-13T21:46:18.758Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","Geo Administration","devops::systems","group::geo","missed-deliverable","missed:11.1","type::feature"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":34,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9195","notes":"https://gitlab.com/api/v4/projects/278964/issues/9195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9195","relative":"#9195","full":"gitlab-org/gitlab#9195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":733,"epic":{"id":3180,"iid":733,"title":"Geo: Inform users about current replication lag on secondaries","url":"/groups/gitlab-org/-/epics/733","group_id":9970,"human_readable_end_date":"Nov 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24687599,"iid":26145,"project_id":278964,"title":"CONTRIBUTING button show dotted line instead of solid line","description":"### Summary\n\nCONTRIBUTING button still show dotted line instead of solid line even CONTRIBUTING.md exists.\n\n### Steps to reproduce\n\nAdd a CONTRIBUTING.md to repository.\n\n### Example Project\n\nhttps://gitlab.com/gitlab-org/gitlab-ce\n\n### What is the current *bug* behavior?\n\nCONTRIBUTING button show dotted line.\n\n### What is the expected *correct* behavior?\n\nCONTRIBUTING button should show solid line like other buttons.\n\n### Relevant logs and/or screenshots\n\n![gitlab](/uploads/8625ccc381f09702debf81b6f2f45e9b/gitlab.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2019-01-14T16:34:43.450Z","updated_at":"2019-11-14T16:01:18.849Z","closed_at":"2019-11-14T16:01:18.516Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Create [DEPRECATED]","[deprecated] Accepting merge requests","devops::create","frontend","group::source code","priority::3","repository","reproduced on GitLab.com","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":555467,"username":"joshuaavalon","name":"Joshua Avalon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6c3ec2587ea08fe041c6b6ef9d0d21dd?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshuaavalon"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26145","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26145","notes":"https://gitlab.com/api/v4/projects/278964/issues/26145/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26145/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26145","relative":"#26145","full":"gitlab-org/gitlab#26145"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687559,"iid":26132,"project_id":278964,"title":"Sort secret variables alphabetically","description":"### Problem to solve\n\nFeature flag environment specs and secret variables (which use the same UX control) currently list in the order they were created, or perhaps a random order from the server. When looking at a long list this is not helpful as it can take a moment to manually search through and find the spec or variable you're looking for.\n\n### Target audience\n\nUsers of these features\n\n### Further details\n\nN/A\n\n### Proposal\n\nSort these lists alphabetically in the UX so you can find your item more easily.\n\n### What does success look like, and how can we measure that?\n\nN/A\n\n### Links / references","state":"closed","created_at":"2019-01-14T06:59:41.264Z","updated_at":"2022-08-02T12:28:11.854Z","closed_at":"2020-02-20T14:17:05.200Z","closed_by":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"labels":["Category:Secrets Management","Release::P3","UI polish","[deprecated] Accepting merge requests","devops::release","direction","type::feature"],"milestone":null,"assignees":[],"author":{"id":2243533,"username":"jyavorska","name":"Jason Yavorska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2243533/avatar.png","web_url":"https://gitlab.com/jyavorska"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26132","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26132","notes":"https://gitlab.com/api/v4/projects/278964/issues/26132/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26132/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26132","relative":"#26132","full":"gitlab-org/gitlab#26132"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687530,"iid":26123,"project_id":278964,"title":"Improve snippets search SQL","description":"This is a follow up to gitlab-foss!23952. We removed redundant counts there to improve the request time but the query itself might need improvements too.\n\n- Current query on [staging](https://staging.gitlab.com/search?search=foo\u0026snippets=true) (same in `master`):\n\n  \u003cdetails\u003e\n  \u003csummary\u003eSQL\u003c/summary\u003e\n\n  ```sql\n  SELECT COUNT(*)\n  FROM\n    (SELECT \"snippets\".*\n    FROM \"snippets\"\n    WHERE (snippets.visibility_level IN (10,\n                                          20)\n            OR snippets.author_id = 1675774)\n      AND \"snippets\".\"project_id\" IS NULL\n    UNION SELECT \"snippets\".*\n    FROM \"snippets\"\n    INNER JOIN \"projects\" ON \"projects\".\"id\" = \"snippets\".\"project_id\"\n    INNER JOIN \"project_features\" ON \"project_features\".\"project_id\" = \"projects\".\"id\"\n    WHERE (snippets.visibility_level IN (10,\n                                          20)\n            OR snippets.author_id = 1675774)\n      AND (projects.visibility_level IN (10,\n                                          20))\n      AND \"project_features\".\"snippets_access_level\" IN (20,\n                                                          30)\n    UNION SELECT \"snippets\".*\n    FROM \"snippets\"\n    INNER JOIN \"projects\" ON \"projects\".\"id\" = \"snippets\".\"project_id\"\n    INNER JOIN \"project_features\" ON \"project_features\".\"project_id\" = \"projects\".\"id\"\n    WHERE \"project_features\".\"snippets_access_level\" IN (20,\n                                                          30,\n                                                          10)\n      AND (EXISTS\n              (SELECT 1\n              FROM \"project_authorizations\"\n              WHERE (project_id = snippets.project_id)\n                AND \"project_authorizations\".\"user_id\" = 1675774))) snippets\n  WHERE \"snippets\".\"content\" ILIKE '%foo%'\n  ```\n  \u003c/details\u003e\n\n  \u003cdetails\u003e\n  \u003csummary\u003eEXPLAIN\u003c/summary\u003e\n\n  ```sql\n  Aggregate  (cost=13494.71..13494.72 rows=1 width=8) (actual time=9136.346..9136.346 rows=1 loops=1)\n    Buffers: shared hit=34431 read=20888\n    I/O Timings: read=962.676\n    -\u003e  HashAggregate  (cost=13492.51..13493.49 rows=98 width=1744) (actual time=9135.890..9136.298 rows=494 loops=1)\n          Group Key: snippets.id, snippets.title, snippets.content, snippets.author_id, snippets.project_id, snippets.created_at, snippets.updated_at, snippets.\n  file_name, snippets.type, snippets.visibility_level, snippets.title_html, snippets.content_html, snippets.cached_markdown_version, snippets.description, snippe\n  ts.description_html\n          Buffers: shared hit=34431 read=20888\n          I/O Timings: read=962.676\n          -\u003e  Append  (cost=605.78..13488.83 rows=98 width=1744) (actual time=30.786..8364.451 rows=509 loops=1)\n                Buffers: shared hit=25958 read=16632\n                I/O Timings: read=856.209\n                -\u003e  Bitmap Heap Scan on snippets  (cost=605.78..6538.49 rows=92 width=1134) (actual time=30.784..4049.599 rows=451 loops=1)\n                      Recheck Cond: (((visibility_level = ANY ('{10,20}'::integer[])) OR (author_id = 1675774)) AND (project_id IS NULL))\n                      Filter: (content ~~* '%foo%'::text)\n                      Rows Removed by Filter: 11029\n                      Heap Blocks: exact=5012\n                      Buffers: shared hit=3894 read=14249\n                      I/O Timings: read=615.799\n                      -\u003e  BitmapAnd  (cost=605.78..605.78 rows=10235 width=0) (actual time=19.574..19.575 rows=0 loops=1)\n                            Buffers: shared hit=51 read=107\n                            I/O Timings: read=12.004\n                            -\u003e  BitmapOr  (cost=162.75..162.75 rows=13978 width=0) (actual time=2.236..2.236 rows=0 loops=1)\n                                  Buffers: shared hit=49\n                                  -\u003e  Bitmap Index Scan on index_snippets_on_visibility_level  (cost=0.00..160.90 rows=13976 width=0) (actual time=2.220..2.220\n  rows=14132 loops=1)\n                                        Index Cond: (visibility_level = ANY ('{10,20}'::integer[]))\n                                        Buffers: shared hit=47\n                                  -\u003e  Bitmap Index Scan on index_snippets_on_author_id  (cost=0.00..1.80 rows=2 width=0) (actual time=0.015..0.015 rows=0 loops=\n  1)\n                                        Index Cond: (author_id = 1675774)\n                                        Buffers: shared hit=2\n                            -\u003e  Bitmap Index Scan on index_snippets_on_project_id  (cost=0.00..442.75 rows=37195 width=0) (actual time=16.478..16.478 rows=37500\n  loops=1)\n                                  Index Cond: (project_id IS NULL)\n                                  Buffers: shared hit=2 read=107\n                                  I/O Timings: read=12.004\n                -\u003e  Nested Loop  (cost=163.62..6881.02 rows=5 width=1134) (actual time=464.825..4168.857 rows=39 loops=1)\n                      Buffers: shared hit=19866 read=2292\n                      I/O Timings: read=210.612\n                      -\u003e  Nested Loop  (cost=163.19..6871.58 rows=15 width=1138) (actual time=461.839..4158.875 rows=41 loops=1)\n                            Buffers: shared hit=19740 read=2254\n                            I/O Timings: read=202.338\n                            -\u003e  Bitmap Heap Scan on snippets snippets_1  (cost=162.77..6624.38 rows=126 width=1134) (actual time=5.848..4150.055 rows=563 loops=\n  1)\n                                  Recheck Cond: ((visibility_level = ANY ('{10,20}'::integer[])) OR (author_id = 1675774))\n                                  Filter: (content ~~* '%foo%'::text)\n                                  Rows Removed by Filter: 13411\n                                  Heap Blocks: exact=5436\n                                  Buffers: shared hit=19239 read=2208\n                                  I/O Timings: read=199.190\n                                  -\u003e  BitmapOr  (cost=162.77..162.77 rows=13978 width=0) (actual time=1.477..1.477 rows=0 loops=1)\n                                        Buffers: shared hit=49\n                                        -\u003e  Bitmap Index Scan on index_snippets_on_visibility_level  (cost=0.00..160.90 rows=13976 width=0) (actual time=1.465..\n  1.465 rows=14132 loops=1)\n                                              Index Cond: (visibility_level = ANY ('{10,20}'::integer[]))\n                                              Buffers: shared hit=47\n                                        -\u003e  Bitmap Index Scan on index_snippets_on_author_id  (cost=0.00..1.80 rows=2 width=0) (actual time=0.008..0.008 rows=0\n  loops=1)\n                                              Index Cond: (author_id = 1675774)\n                                              Buffers: shared hit=2\n                            -\u003e  Index Only Scan using index_projects_on_id_partial_for_visibility on projects  (cost=0.42..1.95 rows=1 width=4) (actual time=0.0\n  11..0.012 rows=0 loops=563)\n                                  Index Cond: (id = snippets_1.project_id)\n                                  Heap Fetches: 191\n                                  Buffers: shared hit=501 read=46\n                                  I/O Timings: read=3.148\n                      -\u003e  Index Scan using index_project_features_on_project_id on project_features  (cost=0.43..0.62 rows=1 width=4) (actual time=0.237..0.238\n  rows=1 loops=41)\n                            Index Cond: (project_id = projects.id)\n                            Filter: (snippets_access_level = ANY ('{20,30}'::integer[]))\n                            Rows Removed by Filter: 0\n                            Buffers: shared hit=126 read=38\n                            I/O Timings: read=8.274\n  ```\n  \u003c/details\u003e\n\n  \u003cdetails\u003e\n  \u003csummary\u003eEXPLAIN for subquery 1\u003c/summary\u003e\n\n  ```sql\n  gitlabhq_production=\u003e explain (analyze, buffers) SELECT \"snippets\".*\n  gitlabhq_production-\u003e     FROM \"snippets\"\n  gitlabhq_production-\u003e     WHERE (snippets.visibility_level IN (10,\n  gitlabhq_production(\u003e                                           20)\n  gitlabhq_production(\u003e             OR snippets.author_id = 1675774)\n  gitlabhq_production-\u003e       AND \"snippets\".\"project_id\" IS NULL;\n\n  Bitmap Heap Scan on snippets  (cost=613.38..6520.51 rows=10235 width=1134) (actual time=6.284..21.256 rows=11480 loops=1)\n    Recheck Cond: (((visibility_level = ANY ('{10,20}'::integer[])) OR (author_id = 1675774)) AND (project_id IS NULL))\n    Heap Blocks: exact=5012\n    Buffers: shared hit=5170\n    -\u003e  BitmapAnd  (cost=613.38..613.38 rows=10235 width=0) (actual time=5.545..5.545 rows=0 loops=1)\n          Buffers: shared hit=158\n          -\u003e  BitmapOr  (cost=167.82..167.82 rows=13978 width=0) (actual time=1.746..1.746 rows=0 loops=1)\n                Buffers: shared hit=49\n                -\u003e  Bitmap Index Scan on index_snippets_on_visibility_level  (cost=0.00..160.90 rows=13976 width=0) (actual time=1.733..1.733 rows=14132 loops=1\n  )\n                      Index Cond: (visibility_level = ANY ('{10,20}'::integer[]))\n                      Buffers: shared hit=47\n                -\u003e  Bitmap Index Scan on index_snippets_on_author_id  (cost=0.00..1.80 rows=2 width=0) (actual time=0.010..0.010 rows=0 loops=1)\n                      Index Cond: (author_id = 1675774)\n                      Buffers: shared hit=2\n          -\u003e  Bitmap Index Scan on index_snippets_on_project_id  (cost=0.00..442.75 rows=37195 width=0) (actual time=2.992..2.992 rows=37500 loops=1)\n                Index Cond: (project_id IS NULL)\n                Buffers: shared hit=109\n  Planning time: 0.239 ms\n  Execution time: 21.987 ms\n  ```\n  \u003c/details\u003e\n\n  \u003cdetails\u003e\n  \u003csummary\u003eEXPLAIN for subquery 2\u003c/summary\u003e\n\n  ```sql\n  gitlabhq_production=\u003e explain (analyze, buffers) SELECT \"snippets\".*\n  gitlabhq_production-\u003e     FROM \"snippets\"\n  gitlabhq_production-\u003e     INNER JOIN \"projects\" ON \"projects\".\"id\" = \"snippets\".\"project_id\"\n  gitlabhq_production-\u003e     INNER JOIN \"project_features\" ON \"project_features\".\"project_id\" = \"projects\".\"id\"\n  gitlabhq_production-\u003e     WHERE (snippets.visibility_level IN (10,\n  gitlabhq_production(\u003e                                           20)\n  gitlabhq_production(\u003e             OR snippets.author_id = 1675774)\n  gitlabhq_production-\u003e       AND (projects.visibility_level IN (10,\n  gitlabhq_production(\u003e                                           20))\n  gitlabhq_production-\u003e       AND \"project_features\".\"snippets_access_level\" IN (20,\n  gitlabhq_production(\u003e                                                           30);\n\n  Nested Loop  (cost=170.55..17809.22 rows=605 width=1134) (actual time=3.175..187.270 rows=810 loops=1)\n    Buffers: shared hit=17790 read=1240\n    I/O Timings: read=136.371\n    -\u003e  Nested Loop  (cost=170.12..16768.46 rows=1654 width=1138) (actual time=3.070..64.243 rows=860 loops=1)\n          Buffers: shared hit=14998 read=589\n          I/O Timings: read=22.263\n          -\u003e  Bitmap Heap Scan on snippets  (cost=169.69..6596.36 rows=13978 width=1134) (actual time=2.330..22.674 rows=13974 loops=1)\n                Recheck Cond: ((visibility_level = ANY ('{10,20}'::integer[])) OR (author_id = 1675774))\n                Heap Blocks: exact=5436\n                Buffers: shared hit=5485\n                -\u003e  BitmapOr  (cost=169.69..169.69 rows=13978 width=0) (actual time=1.526..1.526 rows=0 loops=1)\n                      Buffers: shared hit=49\n                      -\u003e  Bitmap Index Scan on index_snippets_on_visibility_level  (cost=0.00..160.90 rows=13976 width=0) (actual time=1.518..1.518 rows=14132 l\n  oops=1)\n                            Index Cond: (visibility_level = ANY ('{10,20}'::integer[]))\n                            Buffers: shared hit=47\n                      -\u003e  Bitmap Index Scan on index_snippets_on_author_id  (cost=0.00..1.80 rows=2 width=0) (actual time=0.007..0.007 rows=0 loops=1)\n                            Index Cond: (author_id = 1675774)\n                            Buffers: shared hit=2\n          -\u003e  Index Only Scan using index_projects_on_id_partial_for_visibility on projects  (cost=0.42..0.72 rows=1 width=4) (actual time=0.003..0.003 rows=0 l\n  oops=13974)\n                Index Cond: (id = snippets.project_id)\n                Heap Fetches: 2095\n                Buffers: shared hit=9513 read=589\n                I/O Timings: read=22.263\n    -\u003e  Index Scan using index_project_features_on_project_id on project_features  (cost=0.43..0.62 rows=1 width=4) (actual time=0.142..0.142 rows=1 loops=860)\n          Index Cond: (project_id = projects.id)\n          Filter: (snippets_access_level = ANY ('{20,30}'::integer[]))\n          Rows Removed by Filter: 0\n          Buffers: shared hit=2792 read=651\n          I/O Timings: read=114.108\n  Planning time: 1.521 ms\n  Execution time: 187.459 ms\n  ```\n  \u003c/details\u003e\n\n  \u003cdetails\u003e\n  \u003csummary\u003eEXPLAIN for subquery 3\u003c/summary\u003e\n\n  ```sql\n  gitlabhq_production=\u003e explain (analyze, buffers) SELECT \"snippets\".*\n  gitlabhq_production-\u003e     FROM \"snippets\"\n  gitlabhq_production-\u003e     INNER JOIN \"projects\" ON \"projects\".\"id\" = \"snippets\".\"project_id\"\n  gitlabhq_production-\u003e     INNER JOIN \"project_features\" ON \"project_features\".\"project_id\" = \"projects\".\"id\"\n  gitlabhq_production-\u003e     WHERE \"project_features\".\"snippets_access_level\" IN (20,\n  gitlabhq_production(\u003e                                                           30,\n  gitlabhq_production(\u003e                                                           10)\n  gitlabhq_production-\u003e       AND (EXISTS\n  gitlabhq_production(\u003e               (SELECT 1\n  gitlabhq_production(\u003e               FROM \"project_authorizations\"\n  gitlabhq_production(\u003e               WHERE (project_id = snippets.project_id)\n  gitlabhq_production(\u003e                 AND \"project_authorizations\".\"user_id\" = 1675774));\n\n  Nested Loop  (cost=5.12..68.48 rows=1 width=1134) (actual time=0.561..9.657 rows=255 loops=1)\n    Buffers: shared hit=2827 read=5\n    I/O Timings: read=4.310\n    -\u003e  Nested Loop  (cost=4.69..67.99 rows=1 width=1142) (actual time=0.540..4.641 rows=255 loops=1)\n          Buffers: shared hit=1812\n          -\u003e  Nested Loop  (cost=4.40..58.59 rows=27 width=8) (actual time=0.158..3.224 rows=235 loops=1)\n                Buffers: shared hit=1100\n                -\u003e  HashAggregate  (cost=3.97..4.24 rows=27 width=4) (actual time=0.132..0.210 rows=235 loops=1)\n                      Group Key: project_authorizations.project_id\n                      Buffers: shared hit=8\n                      -\u003e  Index Only Scan using index_project_authorizations_on_user_id_project_id_access_level on project_authorizations  (cost=0.43..3.90 rows\n  =27 width=4) (actual time=0.035..0.073 rows=235 loops=1)\n                            Index Cond: (user_id = 1675774)\n                            Heap Fetches: 2\n                            Buffers: shared hit=8\n                -\u003e  Index Only Scan using idx_projects_on_repository_storage_last_repository_updated_at on projects  (cost=0.43..2.00 rows=1 width=4) (actual ti\n  me=0.012..0.012 rows=1 loops=235)\n                      Index Cond: (id = project_authorizations.project_id)\n                      Heap Fetches: 184\n                      Buffers: shared hit=1092\n          -\u003e  Index Scan using index_snippets_on_project_id on snippets  (cost=0.29..0.33 rows=2 width=1134) (actual time=0.003..0.005 rows=1 loops=235)\n                Index Cond: (project_id = projects.id)\n                Buffers: shared hit=712\n    -\u003e  Index Scan using index_project_features_on_project_id on project_features  (cost=0.43..0.47 rows=1 width=4) (actual time=0.019..0.019 rows=1 loops=255)\n          Index Cond: (project_id = projects.id)\n          Filter: (snippets_access_level = ANY ('{20,30,10}'::integer[]))\n          Buffers: shared hit=1015 read=5\n          I/O Timings: read=4.310\n  Planning time: 11.190 ms\n  Execution time: 9.803 ms\n  ```\n  \u003c/details\u003e\n  \u003cbr\u003e\n\n- Suggested query from the comment of @redbaron1 https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23952#note_128840089:\n\n  \u003e just curious does it get better if we merge first 2 selects from snippets? Idea is to get rid of duplicated heap scan in non-indexed case, which does more or less same job twice\n\n  \u003cdetails\u003e\n  \u003csummary\u003eSQL\u003c/summary\u003e\n\n  ```sql\n  SELECT COUNT(*)\n  FROM\n  (SELECT \"snippets\".*\n    FROM \"snippets\"\n    LEFT OUTER JOIN (\n        \"projects\"\n        INNER JOIN \"project_features\" ON \"project_features\".\"project_id\" = \"projects\".\"id\"\n                                      AND \"projects\".\"visibility_level\" IN (10, 20)\n                                      AND \"project_features\".\"snippets_access_level\" IN (20, 30)\n    ) ON \"projects\".\"id\" = \"snippets\".\"project_id\"\n    WHERE (snippets.visibility_level IN (10,\n                                        20)\n          OR snippets.author_id = 443319)\n          AND (\"snippets\".\"project_id\" IS NULL OR \"projects\".\"id\" IS NOT NULL)\n    UNION SELECT \"snippets\".*\n    FROM \"snippets\"\n    INNER JOIN \"projects\" ON \"projects\".\"id\" = \"snippets\".\"project_id\"\n    INNER JOIN \"project_features\" ON \"project_features\".\"project_id\" = \"projects\".\"id\"\n    WHERE \"project_features\".\"snippets_access_level\" IN (20,\n                                                        30,\n                                                        10)\n      AND (EXISTS\n            (SELECT 1\n              FROM \"project_authorizations\"\n              WHERE (project_id = snippets.project_id)\n                AND \"project_authorizations\".\"user_id\" = 443319))) snippets\n  WHERE (\"snippets\".\"content\" ILIKE '%foo%')\n  ```\n  \u003c/details\u003e\n\n  \u003cdetails\u003e\n  \u003csummary\u003eEXPLAIN (from staging)\u003c/summary\u003e\n\n  ```sql\n  Aggregate  (cost=8898.23..8898.24 rows=1 width=8) (actual time=5211.605..5211.606 rows=1 loops=1)\n    Buffers: shared hit=38571 read=2970\n    I/O Timings: read=528.957\n    -\u003e  HashAggregate  (cost=8895.37..8896.64 rows=127 width=1744) (actual time=5211.230..5211.565 rows=494 loops=1)\n          Group Key: snippets.id, snippets.title, snippets.content, snippets.author_id, snippets.project_id, snippets.created_at, snippets.updated_at, snippets.\n  file_name, snippets.type, snippets.visibility_level, snippets.title_html, snippets.content_html, snippets.cached_markdown_version, snippets.description, snippe\n  ts.description_html\n          Buffers: shared hit=38571 read=2970\n          I/O Timings: read=528.957\n          -\u003e  Append  (cost=163.82..8890.61 rows=127 width=1744) (actual time=24.537..4530.016 rows=510 loops=1)\n                Buffers: shared hit=25932 read=2880\n                I/O Timings: read=517.138\n                -\u003e  Nested Loop Left Join  (cost=163.82..6947.22 rows=126 width=1134) (actual time=24.537..4332.577 rows=491 loops=1)\n                      Filter: ((snippets.project_id IS NULL) OR (projects.id IS NOT NULL))\n                      Rows Removed by Filter: 73\n                      Buffers: shared hit=19437 read=2761\n                      I/O Timings: read=452.625\n                      -\u003e  Bitmap Heap Scan on snippets  (cost=162.96..6625.03 rows=126 width=1134) (actual time=24.520..4313.814 rows=564 loops=1)\n                            Recheck Cond: ((visibility_level = ANY ('{10,20}'::integer[])) OR (author_id = 443319))\n                            Filter: (content ~~* '%foo%'::text)\n                            Rows Removed by Filter: 13421\n                            Heap Blocks: exact=5441\n                            Buffers: shared hit=18747 read=2750\n                            I/O Timings: read=443.573\n                            -\u003e  BitmapOr  (cost=162.96..162.96 rows=14004 width=0) (actual time=6.450..6.450 rows=0 loops=1)\n                                  Buffers: shared hit=48 read=2\n                                  I/O Timings: read=3.773\n                                  -\u003e  Bitmap Index Scan on index_snippets_on_visibility_level  (cost=0.00..160.90 rows=13976 width=0) (actual time=2.516..2.516\n  rows=14125 loops=1)\n                                        Index Cond: (visibility_level = ANY ('{10,20}'::integer[]))\n                                        Buffers: shared hit=47\n                                  -\u003e  Bitmap Index Scan on index_snippets_on_author_id  (cost=0.00..2.00 rows=28 width=0) (actual time=3.931..3.931 rows=28 loop\n  s=1)\n                                        Index Cond: (author_id = 443319)\n                                        Buffers: shared hit=1 read=2\n                                        I/O Timings: read=3.773\n                      -\u003e  Nested Loop  (cost=0.85..2.55 rows=1 width=4) (actual time=0.029..0.029 rows=0 loops=564)\n                            Buffers: shared hit=690 read=11\n                            I/O Timings: read=9.052\n                            -\u003e  Index Only Scan using index_projects_on_id_partial_for_visibility on projects  (cost=0.42..1.92 rows=1 width=4) (actual time=0.0\n  20..0.020 rows=0 loops=564)\n                                  Index Cond: (id = snippets.project_id)\n                                  Heap Fetches: 174\n                                  Buffers: shared hit=525 read=8\n                                  I/O Timings: read=7.047\n                            -\u003e  Index Scan using index_project_features_on_project_id on project_features  (cost=0.43..0.62 rows=1 width=4) (actual time=0.090..\n  0.091 rows=1 loops=42)\n                                  Index Cond: (project_id = projects.id)\n                                  Filter: (snippets_access_level = ANY ('{20,30}'::integer[]))\n                                  Rows Removed by Filter: 0\n                                  Buffers: shared hit=165 read=3\n                                  I/O Timings: read=2.005\n                -\u003e  Nested Loop  (cost=59.73..1942.12 rows=1 width=1134) (actual time=70.415..197.145 rows=19 loops=1)\n                      Buffers: shared hit=6495 read=119\n                      I/O Timings: read=64.513\n                      -\u003e  Nested Loop  (cost=59.30..1941.64 rows=1 width=1142) (actual time=70.329..196.806 rows=19 loops=1)\n                            Buffers: shared hit=6419 read=119\n                            I/O Timings: read=64.513\n                            -\u003e  Nested Loop  (cost=59.01..1658.23 rows=826 width=8) (actual time=2.689..41.227 rows=954 loops=1)\n                                  Buffers: shared hit=3962 read=19\n                                  I/O Timings: read=26.518\n                                  -\u003e  HashAggregate  (cost=58.58..66.84 rows=826 width=4) (actual time=1.068..1.583 rows=954 loops=1)\n                                        Group Key: project_authorizations.project_id\n                                        Buffers: shared hit=135\n                                        -\u003e  Index Only Scan using index_project_authorizations_on_user_id_project_id_access_level on project_authorizations  (co\n  st=0.43..56.51 rows=826 width=4) (actual time=0.104..0.852 rows=954 loops=1)\n                                              Index Cond: (user_id = 443319)\n                                              Heap Fetches: 36\n                                              Buffers: shared hit=135\n                                  -\u003e  Index Only Scan using projects_pkey on projects projects_1  (cost=0.43..1.92 rows=1 width=4) (actual time=0.041..0.041 row\n  s=1 loops=954)\n                                        Index Cond: (id = project_authorizations.project_id)\n                                        Heap Fetches: 227\n                                        Buffers: shared hit=3827 read=19\n                                        I/O Timings: read=26.518\n                            -\u003e  Index Scan using index_snippets_on_project_id on snippets snippets_1  (cost=0.29..0.33 rows=1 width=1134) (actual time=0.057..0.\n  163 rows=0 loops=954)\n                                  Index Cond: (project_id = projects_1.id)\n                                  Filter: (content ~~* '%foo%'::text)\n                                  Rows Removed by Filter: 0\n                                  Buffers: shared hit=2457 read=100\n                                  I/O Timings: read=37.995\n                      -\u003e  Index Scan using index_project_features_on_project_id on project_features project_features_1  (cost=0.43..0.47 rows=1 width=4) (actual\n  time=0.013..0.014 rows=1 loops=19)\n                            Index Cond: (project_id = projects_1.id)\n                            Filter: (snippets_access_level = ANY ('{20,30,10}'::integer[]))\n                            Buffers: shared hit=76\n  Planning time: 41.530 ms\n  Execution time: 5212.074 ms\n  ```\n\n  \u003c/details\u003e\n\n  \u003cdetails\u003e\n  \u003csummary\u003eEXPLAIN for subquery 1\u003c/summary\u003e\n\n  ```sql\n  gitlabhq_production=\u003e explain (analyze, buffers) SELECT \"snippets\".*\n  gitlabhq_production-\u003e     FROM \"snippets\"\n  gitlabhq_production-\u003e     LEFT OUTER JOIN (\n  gitlabhq_production(\u003e         \"projects\"\n  gitlabhq_production(\u003e         INNER JOIN \"project_features\" ON \"project_features\".\"project_id\" = \"projects\".\"id\"\n  gitlabhq_production(\u003e                                       AND \"projects\".\"visibility_level\" IN (10, 20)\n  gitlabhq_production(\u003e                                       AND \"project_features\".\"snippets_access_level\" IN (20, 30)\n  gitlabhq_production(\u003e     ) ON \"projects\".\"id\" = \"snippets\".\"project_id\"\n  gitlabhq_production-\u003e     WHERE (snippets.visibility_level IN (10,\n  gitlabhq_production(\u003e                                         20)\n  gitlabhq_production(\u003e           OR snippets.author_id = 443319)\n  gitlabhq_production-\u003e           AND (\"snippets\".\"project_id\" IS NULL OR \"projects\".\"id\" IS NOT NULL);\n\n  Nested Loop Left Join  (cost=170.75..25586.51 rows=13997 width=1134) (actual time=4.929..51.256 rows=12301 loops=1)\n    Filter: ((snippets.project_id IS NULL) OR (projects.id IS NOT NULL))\n    Rows Removed by Filter: 1684\n    Buffers: shared hit=19236 read=2\n    I/O Timings: read=2.040\n    -\u003e  Bitmap Heap Scan on snippets  (cost=169.90..6596.96 rows=13997 width=1134) (actual time=4.881..22.648 rows=13985 loops=1)\n          Recheck Cond: ((visibility_level = ANY ('{10,20}'::integer[])) OR (author_id = 443319))\n          Heap Blocks: exact=5441\n          Buffers: shared hit=5489 read=2\n          I/O Timings: read=2.040\n          -\u003e  BitmapOr  (cost=169.90..169.90 rows=14004 width=0) (actual time=3.661..3.662 rows=0 loops=1)\n                Buffers: shared hit=48 read=2\n                I/O Timings: read=2.040\n                -\u003e  Bitmap Index Scan on index_snippets_on_visibility_level  (cost=0.00..160.90 rows=13976 width=0) (actual time=1.522..1.522 rows=14132 loops=1\n  )\n                      Index Cond: (visibility_level = ANY ('{10,20}'::integer[]))\n                      Buffers: shared hit=47\n                -\u003e  Bitmap Index Scan on index_snippets_on_author_id  (cost=0.00..2.00 rows=28 width=0) (actual time=2.137..2.138 rows=28 loops=1)\n                      Index Cond: (author_id = 443319)\n                      Buffers: shared hit=1 read=2\n                      I/O Timings: read=2.040\n    -\u003e  Nested Loop  (cost=0.85..1.35 rows=1 width=4) (actual time=0.001..0.001 rows=0 loops=13985)\n          Buffers: shared hit=13747\n          -\u003e  Index Only Scan using index_projects_on_id_partial_for_visibility on projects  (cost=0.42..0.72 rows=1 width=4) (actual time=0.001..0.001 rows=0 l\n  oops=13985)\n                Index Cond: (id = snippets.project_id)\n                Heap Fetches: 2225\n                Buffers: shared hit=10264\n          -\u003e  Index Scan using index_project_features_on_project_id on project_features  (cost=0.43..0.62 rows=1 width=4) (actual time=0.006..0.006 rows=1 loops\n  =870)\n                Index Cond: (project_id = projects.id)\n                Filter: (snippets_access_level = ANY ('{20,30}'::integer[]))\n                Rows Removed by Filter: 0\n                Buffers: shared hit=3483\n  Planning time: 1.264 ms\n  Execution time: 52.029 ms\n  ```\n  \u003c/details\u003e\n\n  \u003cdetails\u003e\n  \u003csummary\u003eEXPLAIN for subquery 2\u003c/summary\u003e\n\n  ```sql\n  gitlabhq_production=\u003e explain (analyze, buffers) SELECT \"snippets\".*\n  gitlabhq_production-\u003e     FROM \"snippets\"\n  gitlabhq_production-\u003e     INNER JOIN \"projects\" ON \"projects\".\"id\" = \"snippets\".\"project_id\"\n  gitlabhq_production-\u003e     INNER JOIN \"project_features\" ON \"project_features\".\"project_id\" = \"projects\".\"id\"\n  gitlabhq_production-\u003e     WHERE \"project_features\".\"snippets_access_level\" IN (20,\n  gitlabhq_production(\u003e                                                         30,\n  gitlabhq_production(\u003e                                                         10)\n  gitlabhq_production-\u003e       AND (EXISTS\n  gitlabhq_production(\u003e             (SELECT 1\n  gitlabhq_production(\u003e               FROM \"project_authorizations\"\n  gitlabhq_production(\u003e               WHERE (project_id = snippets.project_id)\n  gitlabhq_production(\u003e                 AND \"project_authorizations\".\"user_id\" = 443319));\n\n  Nested Loop  (cost=59.73..1985.51 rows=5 width=1134) (actual time=6.588..43.190 rows=260 loops=1)\n    Buffers: shared hit=6545 read=643\n    I/O Timings: read=25.879\n    -\u003e  Nested Loop  (cost=59.30..1978.77 rows=14 width=1142) (actual time=6.539..40.283 rows=260 loops=1)\n          Buffers: shared hit=5507 read=641\n          I/O Timings: read=23.839\n          -\u003e  Nested Loop  (cost=59.01..1691.23 rows=826 width=8) (actual time=2.162..36.626 rows=954 loops=1)\n                Buffers: shared hit=3354 read=638\n                I/O Timings: read=23.683\n                -\u003e  HashAggregate  (cost=58.58..66.84 rows=826 width=4) (actual time=1.962..2.508 rows=954 loops=1)\n                      Group Key: project_authorizations.project_id\n                      Buffers: shared hit=119 read=16\n                      I/O Timings: read=0.842\n                      -\u003e  Index Only Scan using index_project_authorizations_on_user_id_project_id_access_level on project_authorizations  (cost=0.43..56.51 row\n  s=826 width=4) (actual time=0.172..1.753 rows=954 loops=1)\n                            Index Cond: (user_id = 443319)\n                            Heap Fetches: 36\n                            Buffers: shared hit=119 read=16\n                            I/O Timings: read=0.842\n                -\u003e  Index Only Scan using projects_pkey on projects  (cost=0.43..1.96 rows=1 width=4) (actual time=0.035..0.035 rows=1 loops=954)\n                      Index Cond: (id = project_authorizations.project_id)\n                      Heap Fetches: 239\n                      Buffers: shared hit=3235 read=622\n                      I/O Timings: read=22.841\n          -\u003e  Index Scan using index_snippets_on_project_id on snippets  (cost=0.29..0.33 rows=2 width=1134) (actual time=0.003..0.003 rows=0 loops=954)\n                Index Cond: (project_id = projects.id)\n                Buffers: shared hit=2153 read=3\n                I/O Timings: read=0.156\n    -\u003e  Index Scan using index_project_features_on_project_id on project_features  (cost=0.43..0.47 rows=1 width=4) (actual time=0.011..0.011 rows=1 loops=260)\n          Index Cond: (project_id = projects.id)\n          Filter: (snippets_access_level = ANY ('{20,30,10}'::integer[]))\n          Buffers: shared hit=1038 read=2\n          I/O Timings: read=2.040\n  Planning time: 17.046 ms\n  Execution time: 43.345 ms\n  ```\n  \u003c/details\u003e","state":"closed","created_at":"2019-01-11T23:58:45.416Z","updated_at":"2019-10-18T12:21:04.986Z","closed_at":"2019-10-09T14:53:37.275Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"labels":["Category:Global Search","Category:Snippets","Deliverable","backend","bug::performance","database","devops::create","group::editor","severity::3","type::bug","workflow::in review"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":38,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26123","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26123","notes":"https://gitlab.com/api/v4/projects/278964/issues/26123/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26123/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26123","relative":"#26123","full":"gitlab-org/gitlab#26123"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1506,"epic":{"id":8514,"iid":1506,"title":"Search Performance","url":"/groups/gitlab-org/-/epics/1506","group_id":9970,"human_readable_end_date":"Sep 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17283662,"iid":9174,"project_id":278964,"title":"Geo: Support syncing over non-publicly accessible URLs","description":"## Problem\n\nAs mentioned in https://gitlab.com/gitlab-org/gitlab-ee/issues/6306#note_130326757:\n\n\u003e A customer has some kind of network configuration or security requirements that, for example, causes them to try to use IPs inaccessible to users as Geo node URLs. So they have working DB replication, but broken syncing. If I recall correctly, we ask them to make the Geo node URLs match the `external_url`, but they can't or don't want to. I've seen this in multiple support calls.\n\n## Possible solution\n\nSuggested by @nick.thomas https://gitlab.com/gitlab-org/gitlab-ee/issues/6306#note_78135896:\n\n\u003e decouple the Geo node identity from from the `external_url` completely. This may have some accessory benefits during failover.\n\n### Possible implementations\n\nDescribed by @vsizov in https://gitlab.com/gitlab-org/gitlab-ee/issues/6306#note_130316857:\n\n\u003e\u003e\u003e\nThis one is also possible and should be fairly easy to implement. As we decouple identity we will need to provide some alternative. I can think of two options:\n\n- We specify all the possible URLs for Geo secondary node in the Geo node configuration and so secondary can identify itself by matching request_uri with one of those.\n- We can identify the node by setting some name in the Geo node configuration (DB) and specify this name in `gitlab.rb` configuration file. So by matching those, the node can identify itself. I don't like this option though because we need to avoid configuration files as much as possible.\nAs you can see both implementation approaches are really similar. Note, we still need to update Doorkeeper application here!\n\u003e\u003e\u003e","state":"closed","created_at":"2019-01-11T23:16:17.314Z","updated_at":"2019-12-11T20:04:00.693Z","closed_at":"2019-04-05T13:13:25.451Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Deliverable","Enterprise Edition","Geo Administration","customer","devops::systems","frontend","group::geo","workflow::blocked","workflow::in review","workflow::ready for development"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":15,"merge_requests_count":1,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9174","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9174","notes":"https://gitlab.com/api/v4/projects/278964/issues/9174/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9174/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9174","relative":"#9174","full":"gitlab-org/gitlab#9174"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":951,"epic":{"id":5206,"iid":951,"title":"Geo: Support Nodes behind a Load Balancer","url":"/groups/gitlab-org/-/epics/951","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24687523,"iid":26121,"project_id":278964,"title":"Error tracking list does not wrap contents in table very well","description":"[Discussion](https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23770#note_130992273) from gitlab-ce!23770 \n\n### Problems\n\n- issue title sometimes very long and wraps\n- icons (external link and calendar) shrink when content is long\n\n\n### Solutions\n\n- use `metadata.type` instead of `meta.title` for the bold text title. That's what Sentry UI uses\n- don't wrap title text, add `.text-truncate`\n- icons should not shrink below 16x16px","state":"closed","created_at":"2019-01-11T22:47:40.455Z","updated_at":"2019-10-18T16:35:16.441Z","closed_at":"2019-10-18T16:29:53.113Z","closed_by":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"labels":["Category:Error Tracking","devops::monitor","frontend","group::respond","priority::4","severity::4","workflow::verification"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"}],"author":{"id":408677,"username":"ClemMakesApps","name":"Clement Ho","state":"active","avatar_url":"https://secure.gravatar.com/avatar/013b4af8b474654bce8039ecd262a84a?s=80\u0026d=identicon","web_url":"https://gitlab.com/ClemMakesApps"},"type":"ISSUE","assignee":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26121","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26121","notes":"https://gitlab.com/api/v4/projects/278964/issues/26121/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26121/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26121","relative":"#26121","full":"gitlab-org/gitlab#26121"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687520,"iid":26120,"project_id":278964,"title":"Deleting a user deletes sub-group when other owners are inherited","description":"Deleting a user and contributions mentions that only groups owned solely by the user will be removed. There seems to be an edge case with sub-groups that can cause a group to be deleted despite having other inherited/parent owners. \n\nSteps to reproduce:\n\n1. `user1` creates a top-level group\n1. `user2` adds `user2` to the top-level group\n1. `user2` creates a sub-group within this top-level group. This makes `user2` the sole *explicit* owner of the group, however `user1` is an inherited owner from the top-level group. \n1. `user1` or someone else deletes `user2` along with contributions. \n1. Observe that the sub-group no longer exists. \n\nTo highlight again, this seems to be due to the sub-group being owned explicitly at that level by the deleted user. We must not be taking inherited owners into account here. Interestingly, this problem does *not* occur with projects in a similar situation. That is, if `user2` created a project in the top-level group and is subsequently deleted, the project remains. \n\n@jeremy Does this fall within Manage?","state":"closed","created_at":"2019-01-11T22:13:55.866Z","updated_at":"2022-06-17T15:09:50.002Z","closed_at":"2022-05-31T01:41:38.997Z","closed_by":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"labels":["backend","customer","customer success","customer+","devops::manage","estimation::completed","group::organization","infradev","priority::1","section::dev","severity::1","type::bug","vintage","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"}],"author":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"type":"ISSUE","assignee":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"user_notes_count":20,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":"2022-05-31","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26120","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26120","notes":"https://gitlab.com/api/v4/projects/278964/issues/26120/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26120/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26120","relative":"#26120","full":"gitlab-org/gitlab#26120"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687505,"iid":26113,"project_id":278964,"title":"WebIDE: some plain text files are uploaded in base64 encoding","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nFiles that should be uploaded to WebIDE as plain text are uploaded in base64 encoding.\n\nThis issue is very similar to gitlab-foss#48746. It seems that problem still exists in version 11.6.2 CE\n\n### Steps to reproduce\n\nLooks like there is a problem related to mime-type detection and encoding when files are uploaded to WebIDE. I've prepared four files to show the problem:\n\n``` sh\n$ file -i *.{sql,txt} | sort\nascii.sql:     text/plain; charset=us-ascii\nascii.txt:     text/plain; charset=us-ascii\nnon-ascii.sql: text/plain; charset=utf-8\nnon-ascii.txt: text/plain; charset=utf-8\n$ sha1sum *.{sql,txt} | sort -k2,2\n22fe79a8ad71c02c63d5b2c10c349064dd762ce1  ascii.sql\n22fe79a8ad71c02c63d5b2c10c349064dd762ce1  ascii.txt\n0f7b4136fcbe71359340241e91a20f0ad4386552  non-ascii.sql\n0f7b4136fcbe71359340241e91a20f0ad4386552  non-ascii.txt\n```\n\n`ascii.*` files have different extensions only and contain only ASCII characters. All files are attached below.\n\n\n### What is the current *bug* behavior?\n\nFile name      |After upload to GitLab\n---------------|-----------------------------\n[ascii.sql](/uploads/2d2d323c4d19f5cf402b84a1d0eaa43d/ascii.sql) | ![ascii-sql](/uploads/ebb528f5dbbf185e2c42b2c52def81e3/ascii-sql.png)\n[ascii.txt](/uploads/a693f182362b72cdc339fcaeda0130d6/ascii.txt) | ![ascii-txt](/uploads/7f2dc97eb94bd6fad5719519f73d6f15/ascii-txt.png)\n[non-ascii.sql](/uploads/bae0f91b7617bcc628102597bd6a6db5/non-ascii.sql) | ![non-ascii-sql](/uploads/9a07b4125f96afc971a2f90c51ab9fbe/non-ascii-sql.png)\n[non-ascii.txt](/uploads/49055681eecb035a23bf748df053de7c/non-ascii.txt) | ![non-ascii-txt](/uploads/b678062923467a433cf04c6692ce0c54/non-ascii-txt.png)\n\n### What is the expected *correct* behavior?\n\nWell, I think this is obvious - use mime-type to detect if given file is a plain text file.\n\nFirst two files were uploaded correctly.\n\nThird file should not be uploaded in base64 encoding, because it is plain text file (`text/plain`). After upload it should look like this:\n\n![expected-non-ascii-sql](/uploads/04303d54ee0a69ebd1f7e1f0cd4cefd2/expected-non-ascii-sql.png)\n\nFourth file seems to be interpreted as plain text file just because it has `*.txt` extension, but encoding is wrong. After upload it should look like this:\n\n![expected-non-ascii-txt](/uploads/6a3f747737295a6f1cbdfafb1a95de4b/expected-non-ascii-txt.png)\n\n### Proposal\n\nImplement mime-type checking on the frontend via JS: https://gitlab.com/gitlab-org/gitlab/issues/26113#note_239792655\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\u003cpre\u003e\n\n```\n$ sudo gitlab-rake gitlab:env:info\n\nSystem information\nSystem:\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.5.3p105\nGem Version:    2.7.6\nBundler Version:1.16.6\nRake Version:   12.3.1\nRedis Version:  3.2.12\nGit Version:    2.18.1\nSidekiq Version:5.2.3\nGo Version:     unknown\n\nGitLab information\nVersion:        11.6.2\nRevision:       4d0c547\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     postgresql\nURL:            https://\u003cREDACTED\u003e\nHTTP Clone URL: https://\u003cREDACTED\u003e/some-group/some-project.git\nSSH Clone URL:  git@\u003cREDACTED\u003e:some-group/some-project.git\nUsing LDAP:     yes\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:        8.4.3\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nHooks:          /opt/gitlab/embedded/service/gitlab-shell/hooks\nGit:            /opt/gitlab/embedded/bin/git\n```\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n```\n$ sudo gitlab-rake gitlab:check SANITIZE=true\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 8.4.3 ? ... OK (8.4.3)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nRedis available via internal API: OK\n\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... Server: ldapmain\nLDAP authentication... Success\nLDAP users with access to your GitLab server (only showing the first 100 results)\n\u003cREDACTED\u003e\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n2/5 ... yes\n3/6 ... yes\n3/7 ... yes\n3/8 ... yes\n3/9 ... yes\n3/10 ... yes\n4/11 ... yes\n5/12 ... yes\n8/13 ... yes\n8/14 ... yes\n8/16 ... yes\n8/17 ... yes\n16/18 ... yes\n8/19 ... yes\n8/20 ... yes\n8/21 ... yes\n8/22 ... yes\n7/23 ... yes\n7/24 ... yes\n7/25 ... yes\n12/26 ... yes\n7/27 ... yes\n8/28 ... yes\n28/30 ... yes\n28/31 ... yes\n28/33 ... yes\n28/34 ... yes\n30/35 ... yes\n3/36 ... yes\n7/37 ... yes\n28/38 ... yes\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.3.5 ? ... yes (2.5.3)\nGit version \u003e= 2.18.0 ? ... yes (2.18.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 22\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n```\n\n\u003c/pre\u003e\n\u003c/details\u003e","state":"closed","created_at":"2019-01-11T15:48:30.253Z","updated_at":"2020-03-18T07:07:54.445Z","closed_at":"2020-03-17T06:47:35.762Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Category:Web IDE","Create [DEPRECATED]","Deliverable","devops::create","frontend","group::editor","missed-SLO","priority::2","severity::2","type::bug","workflow::production"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":1808606,"username":"maln0ir","name":"maln0ir","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1808606/avatar.png","web_url":"https://gitlab.com/maln0ir"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":21,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26113","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26113","notes":"https://gitlab.com/api/v4/projects/278964/issues/26113/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26113/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26113","relative":"#26113","full":"gitlab-org/gitlab#26113"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17270608,"iid":9164,"project_id":278964,"title":"Investigate how to expand the GitLab Package Registry to support remote and virtual repositories","description":"### Problem to solve\n\nA typical software project relies on a variety of dependencies, which we call Packages. Packages can be internally built and maintained, or sourced from a public repository. Based on our user research, weâ€™ve learned that most projects use a 50/50 mix of public vs. private packages. When installing packages, the order in which they are found and downloaded is very important, as downloading/using an incorrect package or version of a package can introduce breaking changes and security vulnerabilities into their pipelines. \n\n[Sidney](https://design.gitlab.com/getting-started/personas#persona-sidney) wants to rely solely on GitLab as a universal package manager so that they can reduce costs and drive operational efficiencies. However, GitLab only supports privately hosted package repositories, which only accounts for half of their team's use cases. In addition, the naming conventions enforced by the GitLab Package Registry, make it impossible for organizations with many teams and many developers to use GitLabâ€™s offering.\n\n### Target audience\n\n- [Systems Administrator](https://design.gitlab.com/getting-started/personas#persona-sidney)\n\n### Proposal\nInvestigate how we can expand the Package Registry to support the creation, usage and management of remote and virtual repositories. The output of this issue should be a planned implementation strategy and set of issues added to the epic [Expand the GitLab Package Registry by adding the ability to connect and setup remote and virtual repositories](https://gitlab.com/groups/gitlab-org/-/epics/2614)\n\n#### User flow\n[Sydney](https://design.gitlab.com/getting-started/personas#persona-sidney) would like to configure GitLab to function as a universal package manager for their team. They read that GitLab will allow them to add remote and virtual package repositories, which will help them to manage all of their group's dependencies (internal and external) in one central place. \n\n1. Sydney opens the GitLab app and navigates to their group.\n1. They navigate to `Packages \u0026 Registries` --\u003e `Dependency Proxy`\n1. They have not used this feature before and they see an empty state page with another great GitLab graphic and a link to the documentation.\n1. They navigate to https://docs.gitlab.com/ee/user/packages/dependency_proxy/\n1. They read about how to add and configure remote and virtual repositories using either the API or the UI. \n1. They switch back to the GitLab and decide to play around in the UI.\n1. They click a button to add a new repository.\n1. They are prompted to select the format and type.\n1. They choose to create an npm remote repository.\n1. They enter a name for the repository.\n1. They see that they need to enter a URL where the repository is hosted and they copy and paste a link to www.npmjs.com.\n1. They define a maximum package age which will define how long to cache artifacts before rechecking the remote repository. \n1. They see the option to define storage and that it's set to `default` which will use what was defined when [installing GitLab.](https://docs.gitlab.com/ee/administration/packages/dependency_proxy.html#changing-the-local-storage-path)\n1. They see that a box is checked by default to enforce content validation or to restrict usage to files appropriate for npm. \n1. They see that a box is checked enabling a feature to cache packages for future use.\n1. They see an option for a cache expiration policy and that it has been set to `30 days`.\n1. They decide to leave it set at 30 days. \n1. They see an option to enable authentication and enter a user name and password. \n1. They see HTTP Request settings and check the defaults to ensure they make sense. \n1. They see that GitLab has defined defaults for the number of connection retries and for connection timeouts. \n1. They leave the defaults set.\n1. They hit create. \n1. They view and copy a code snippet that they can run to quickly configure npm to point to that repository, so they can test that it works. \n1. They run `npm install` and it works.\n1. They create another hosted repository, repeating the above steps. \n1. Sydney decides to create a Virtual repository to try grouping the previously created remote repositories.\n1. Sydney clicks a button to create a new repository and when prompted, selects an npm + virtual repository.\n1. They enter a name for the repository.\n1. They leave the storage and content validation set to default.\n1. They see an option to add any existing npm repositories to and that it allows them to order them. \n1. They are happy with the ordering and they create the repository.\n1. They view and copy a code snippet that they can run to quickly configure npm to point to that repository, so they can test that it works. \n1. They choose to install a package that is in the second repository and not the first and attempt to install a package, using the new virtual endpoint. It works!\n1. Sydney would like to add some of their already create, private npm repositories to the group. They do so and define an ordered list of hosted and remote repositories using one virtual endpoint.\n1. Sydney shares that endpoint with their development team and says \"When you are installing packages using Gitlab CI, you can now simply use `http://gitlab.example.com/repository/npm-all/` and it will automatically resolve the correct package, in the following order:....\"\n1. Sydney navigates back to the Dependency Proxy and views all of their repositories in one place. \n\n\n### Further details\n\n#### Hosted vs. Remote vs. Virtual repositories\n- A `hosted` package repository is one that is hosted within your GitLab instance. Currently, we only supported hosted repositories. It is likely that a group will have several hosted repositories. For example, project-level, feature-level or for Maven it's common to create a `dev`, `snapshots` and `releases` repositories. \n- A `remote` package repository is any repository that is hosted outside of your GitLab instance. The most common examples of these are https://www.npmjs.com/ and https://mvnrepository.com/repos/central, but they also may be hosted on an S3 instance or within another product.  \n- A `virtual` package repository is one that groups an ordered list of `remote` and `hosted` repositories and exposes them using a single endpoint, such as `http://gitlab.example.com/repository/npm-all/`.\n\n#### Considerations\n\n##### Instance vs. Group-level vs. Project-level\nWe recently adding request forwarding for npm packages at the instance-level. So, if you try to install an npm package from your GitLab hosted repository, and it's not there, we will search npmjs.org. \n\nHowever, I'm not sure this feature makes sense at the instance level. \n- The Dependency Proxy is at the group level, and I expect this feature will be built with it.\n- We don't want to hide this functionality in the instance level admin screens. \n\n##### How does this impact publishing\nAlthough this feature does impact publishing packages, in that you are creating repositories to publish to, it won't change much. The big change is that you will be able to install packages using the URL for your `virtual` repository.\n\n##### Which formats to support\nWe are basing our prioritization decision on the popularity of each format. The current priority order is:\n- npm\n- Maven\n- NuGet\n- PyPI\n- Conan\n\n##### Design questions\n- Where should a user go to add, update and delete package repositories\n- What information do they need to include when adding a new repository? How does this differ from format to format?\n- How does the group repositories in the Virtual repository?\n- Following the GitLab principle of [convention over configuration](https://about.gitlab.com/handbook/product/#convention-over-configuration) how can we ensure users have a good default experience and that we help them to limit configuration?\n\n##### Technical considerations\n\n##### Network requests + time outs\nA virtual package repository can include a hosted, remote or an other virtual repository. We need to have a limit here for ~performance reasons. The number of remote repositories we request must be limited: these will be pinged in sequence when `npm` or `yarn` is executing `install`. In other words, we're making network requests within a network request -\u003e there is a hard timeout of 60s on production but we should aim for a lower time. \n\nOn a positive note, the cache feature will definitely help here (hitting the cache instead of hitting remote repository is a gain) but we still need to support the worst scenario where the cache is empty and not used at all.\n\n##### GraphQL\nWe will consider implementing this in GraphQL to allow greater flexibility and performance in the UI.\n\n#### API\nThe API will allow you to:\n- Create and configure a package repository.\n- Update the configurations of an existing repository.\n- List your group's repositories.\n- Delete a repository.\n\n##### Attributes\n\n###### Hosted repository attributes (sample)\nThere are likely more attributes that we should consider, but starting with:\n- \"key\": \"hosted-repo1\",\n  - \"type\" : \"hosted\",\n  - \"packageType\": \"maven\" | \"nuget\" | \"npm\" | \"composer\" | \"pypi\" | \"go\" | \"conan\" |\n  - \"description\": \"The local repository public description\",\n  - \"notes\": \"Notes\"\n\nOther attributes we should consider\n- Allow duplicate uploads\n- Enforce semantic versioning \n- Any additional format-specific settings, such as how we version Maven snapshots.\n\n###### Remote repository attributes (sample)\n- \"key\": \"remote-repo1\",\n  - \"type\" : \"remote\",\n  - \"packageType\": \"maven\" | \"nuget\" | \"npm\" | \"composer\" | \"pypi\" | \"go\" | \"conan\" \n  - \"url\" : \"https://www.npmjs.com/\",\n  - \"description\": \"Description\",\n  - \"notes\": \"Notes\"\n  - \"username\": \"user\",\n  - \"password\": \"pass\",\n\nOther attributes we should consider\n- Socket timeouts in MS\n- Set public registries as default remote repositories\n- Store packages locally (caching)\n\n###### Virtual repository attributes (sample)\n- \"key\": \"virtual-repo1\",\n  + \"rclass\" : \"virtual\",\n  - \"type\" : \"remote\",\n  - \"packageType\": \"maven\" | \"nuget\" | \"npm\" | \"composer\" | \"pypi\" | \"go\" | \"conan\" |\n  - \"repositories\": [\"hosted-repo1\", \"remote-repo1\", \"remote-repo2\", \"virtual-repo2\"]\n  - \"description\": \"Description\",\n  - \"notes\": \"Some internal notes\",\n\nOther attributes we should consider\n- Exclude packages matching a given criteria (Dependency Firewall)\n\n##### Future iterations will include\n- Use policies to enforce compliance and security regulations\n- View usage data\n- Cache frequently used packages\n\n### Permissions\n- The ability to CRUD package repositories will be limited to Maintainers and Owners\n\n### Documentation\n- [Permissions](https://docs.gitlab.com/ee/user/permissions.html)\n- [Packages API](https://docs.gitlab.com/ee/api/packages.html)\n\n### What does success look like, and how can we measure that?\nSuccess looks like we have give users a way of creating package repositories that meet all of their use cases. \n\n#### Measure\n- Count # of repositories created, updated, listed and deleted (segment by repository type and format)\n\n### Links / references\n- [Problem Validation Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/35886)\n- [Demos of Nexus Repository feature](https://about.gitlab.com/handbook/engineering/development/ci-cd/package/#nexus-repository-oss)","state":"closed","created_at":"2019-01-11T14:31:28.340Z","updated_at":"2022-10-28T09:03:16.962Z","closed_at":"2020-06-19T07:57:05.168Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Dependency Proxy","Category:Package Registry","Deliverable","Package:P1","backend","customer","devops::package","group::package registry","npm Registry","package:active","ruby","sec-planning::in-progress","type::feature","workflow::in dev"],"milestone":{"id":1112145,"iid":47,"group_id":9970,"title":"13.1","description":"","state":"closed","created_at":"2020-01-03T12:28:30.160Z","updated_at":"2020-10-08T12:01:07.361Z","due_date":"2020-06-17","start_date":"2020-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/47"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":97,"merge_requests_count":0,"upvotes":13,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9164","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9164","notes":"https://gitlab.com/api/v4/projects/278964/issues/9164/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9164/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9164","relative":"#9164","full":"gitlab-org/gitlab#9164"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2614,"epic":{"id":19231,"iid":2614,"title":"Expand the GitLab Package Registry by adding the ability to connect and setup remote and virtual repositories","url":"/groups/gitlab-org/-/epics/2614","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24687500,"iid":26111,"project_id":278964,"title":"Submodules to Github Gists appear with the wrong URL","description":"### Summary\n\nGit submodules that link to GitHub gists link to the wrong URL on the web UI.\n\n### Steps to reproduce\n\n1. `git submodule add \u003cpaste link of any GitHub Gist\u003e`\n2. Commit, push\n3. Open web UI and click on the link to the new submodule\n\n### Example Project\n\nhttps://gitlab.com/GreatEmerald/gist-submodule-bug-example\n\n### What is the current *bug* behavior?\n\nThe link goes to https://github.com/..., which gives a 404.\n\n### What is the expected *correct* behavior?\n\nIt should go to https://gist.github.com/... (simply prepending \"gist.\" makes it go to the right place)\n\n### Relevant logs and/or screenshots\n\nThe `.gitmodules` file uses the correct URL:\n\n```\n[submodule \"2556d79d899f253c46ee830a3b1c5c15\"]\n        path = 2556d79d899f253c46ee830a3b1c5c15\n        url = https://gist.github.com/GreatEmerald/2556d79d899f253c46ee830a3b1c5c15\n```\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2019-01-11T12:03:02.008Z","updated_at":"2020-03-17T04:11:39.408Z","closed_at":"2020-03-16T19:31:18.228Z","closed_by":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["[deprecated] Accepting merge requests","devops::create","group::source code","missed:12.7","missed:12.8","priority::3","repository","reproduced on GitLab.com","severity::3","type::bug","workflow::in review"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":120326,"username":"GreatEmerald","name":"Dainius â€œGreatEmeraldâ€ MasiliÅ«nas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5256451f55d4949947b3575b0abca9f?s=80\u0026d=identicon","web_url":"https://gitlab.com/GreatEmerald"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26111","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26111","notes":"https://gitlab.com/api/v4/projects/278964/issues/26111/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26111/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26111","relative":"#26111","full":"gitlab-org/gitlab#26111"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17254375,"iid":9154,"project_id":278964,"title":"Update user when identity resource has changed on the connected identity provider","description":"### Problem to solve\n\nWe'd like to use [SCIM](https://gitlab.com/gitlab-org/gitlab-ee/issues/7343) to manage members in a SSO-enabled group.\n\nAfter we've provisioned a user, their information may change on the identity provider. This is especially important when we're [enforcing credentials](https://gitlab.com/gitlab-org/gitlab-ee/issues/6260), and will be more important later when we are assigning permissions to the identity resource on the IdP.\n\n### Proposal\n\n* When an identity resource is updated on the identity provider, we should sync that information with the relevant user account in GitLab.\n\n### Links / references","state":"closed","created_at":"2019-01-11T02:10:06.016Z","updated_at":"2019-08-12T15:09:27.621Z","closed_at":"2019-03-26T15:43:54.660Z","closed_by":{"id":423915,"username":"godfat","name":"Lin Jen-Shin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8c73dab2ecd23d5b5627a0235ae2f9b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/godfat"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","authentication","backend","devops::manage","estimation::needed","gitlab.com","missed-deliverable","missed:11.9","priority::2","saml","type::feature","workflow::in dev","workflow::in review"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9154","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9154","notes":"https://gitlab.com/api/v4/projects/278964/issues/9154/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9154/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9154","relative":"#9154","full":"gitlab-org/gitlab#9154"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":95,"epic":{"id":165,"iid":95,"title":"Automated member management for SSO-enabled groups","url":"/groups/gitlab-org/-/epics/95","group_id":9970,"human_readable_end_date":"Apr 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17254290,"iid":9153,"project_id":278964,"title":"JIT provisioning for new users with Group Managed Accounts","description":"### Problem to solve\n\nWhen an enterprise adds a new user to their identity provider, that user may or may not go on to use GitLab. Similarly, when a new user interacts with an SSO URL for an SAML SSO configured group, they may not have an existing account.\n\nEspecially when a group is [enforcing unique credentials](https://gitlab.com/gitlab-org/gitlab-ee/issues/6260), we should support just-in-time provisioning when the user logs in via identity provider. This would automatically create their user, associate it with the email address in the response, and redirect them to their group's page for a fast and great experience with no registration steps.\n\n### Further details\n\nSee docs for [Salesforce](https://help.salesforce.com/articleView?id=sso_jit_about.htm\u0026type=5) and [Slack](https://api.slack.com/scim)\n\n### Proposal\n* If the configured group is [enforcing unique credentials](https://gitlab.com/gitlab-org/gitlab-ee/issues/6260) (enforced group managed accounts):\n  * If an existing user for that group with that email address is not found, register a new user immediately:\n     * Automatically assign a username and redirect the new user to the group's overview page with a welcome banner.\n\n### Links / references","state":"closed","created_at":"2019-01-11T02:00:55.983Z","updated_at":"2022-11-22T04:34:56.928Z","closed_at":"2019-05-30T15:33:24.303Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","authentication","backend","devops::manage","estimation::needed","gitlab.com","group::authentication and authorization","missed-deliverable","missed:11.10","priority::2","saml","type::feature"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"user_notes_count":10,"merge_requests_count":1,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9153","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9153","notes":"https://gitlab.com/api/v4/projects/278964/issues/9153/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9153/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9153","relative":"#9153","full":"gitlab-org/gitlab#9153"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":709,"epic":{"id":3015,"iid":709,"title":"Group managed accounts for Group SSO","url":"/groups/gitlab-org/-/epics/709","group_id":9970,"human_readable_end_date":"Aug 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17254039,"iid":9152,"project_id":278964,"title":"Group SAML - Check SSO status on Git activity","description":"### Problem to solve\n\nWhile we're [enforcing SSO](https://gitlab.com/gitlab-org/gitlab-ee/issues/5291), we should similarly enforce SSO outside of the GitLab UI. For the purposes of security, this gives enterprises a greater degree of control over protected resources. This is especially important for GitLab.com customers given multitenancy. \n\n### Proposal\n\nWe should perform the same check on Git activity that we do in the [UI](https://gitlab.com/gitlab-org/gitlab-ee/issues/5291):\n* When a user attempts a clone, push or pull with for a project in a group that's enforcing SSO:\n  * If the represented user does not meet the [SSO login threshold](https://gitlab.com/gitlab-org/gitlab-ee/issues/5291), present them with an error. \"`Cannot find valid SSO session. Please login via your group's SSO at https://gitlab.com/users/sign_in`?\"\n* Users will need to log in via the UI and then attempt the Git operation again.\n* Enabling Git SSO check should be a configuration option at the group level.\n* Credentials that are not tied to human users should not have an SSO check enforced (Project Access token, deploy keys, etc).\n* SSH and HTTPS Git activity should both be checked.\n\nNote from @jamedjo: \"Add check to UserAccess and user_access_denied_reason.rb to be displayed from GitAccess#check_active_user!. UserAccess changes can either be in the policy (:push_code and :read_project) or could be in UserAccess directly.\"\n\n## Issue readiness\n\n* [x]  Product: issue description is accurate with an acceptable proposal for an MVC\n* [x]  Engineering: issue is implementable with few remaining questions, is sufficiently broken down, and is able to be estimated","state":"closed","created_at":"2019-01-11T01:22:45.277Z","updated_at":"2022-08-09T19:57:35.399Z","closed_at":"2021-04-12T14:44:12.971Z","closed_by":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"labels":["Enterprise Edition","GitLab Premium","Next Up","authentication","backend","customer","devops::manage","direction","gitlab.com","group::authentication and authorization","missed-deliverable","missed:11.11","missed:11.8","missed:12.0","missed:12.1","planning priority","priority::1","quad-planning::complete-action","release post item","release post item::in review","saml","section::dev","type::feature","workflow::production"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},"user_notes_count":78,"merge_requests_count":0,"upvotes":13,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9152","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9152","notes":"https://gitlab.com/api/v4/projects/278964/issues/9152/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9152/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9152","relative":"#9152","full":"gitlab-org/gitlab#9152"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5609,"epic":{"id":226275,"iid":5609,"title":"SAML SSO Enforcement in API and CLI","url":"/groups/gitlab-org/-/epics/5609","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24687481,"iid":26103,"project_id":278964,"title":"Disclosure of Any User's Private Group Info by `available_group_templates`","description":"**[HackerOne report #475240](https://hackerone.com/reports/475240)** by `ngalog` on 2019-01-06, assigned to `asaba`:\n\n**Summary:**\nLately gitlab allow user to create project from group template, the newly introduced endpoint didn't perform access control check, allowing unauthorized user to access the private group info of other users.\n\n## Steps To Reproduce:\n- Login gitlab.com\n- visit https://gitlab.com/users/ashleyjohnson/available_group_templates\n- In burp send the request to repeater\n- add this line in header\n\n```\nX-CSRF-Token: testing\n```\n\nThe full request should look like \n\n```\nGET /users/ashleyjohnson/available_group_templates HTTP/1.1\nHost: gitlab.com\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.9 Safari/537.36\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: en-US,en;q=0.5\nAccept-Encoding: gzip, deflate\nX-CSRF-Token: X-CSRF-Token: testing\nX-Requested-With: XMLHttpRequest\nDNT: 1\nConnection: close\nCookie: xxx\nUpgrade-Insecure-Requests: 1\n```\n\n\nThen my private group `new-jjj-groupaaa` is leaked, and the all of the project name/namespace `gitlab-ce` are leaked too\n\nleaked info\n```\nvar target = $(\".project-templates-buttons#custom-group-project-templates\");\ntarget.empty();\ntarget.html(\"\u0026lt;div class=\\\"custom-project-templates\\\"\u0026gt;\\n\u0026lt;div class=\\\"border-top-0 expanded js-template-group-options template-group-options\\\"\u0026gt;\\n\u0026lt;div class=\\\"template-header d-flex align-items-center\\\"\u0026gt;\\n\u0026lt;div class=\\\"template-subgroup d-flex flex-fill align-items-center\\\"\u0026gt;\\n\u0026lt;div class=\\\"template-options-icon-container d-flex justify-content-center align-items-center append-right-10\\\"\u0026gt;\\n\u0026lt;svg class=\\\"s16 options-expanded-icon\\\"\u0026gt;\u0026lt;use xlink:href=\\\"https://gitlab.com/assets/icons-1bbf3f0e2e8f631ea6006c647f843db214684476054223102c16630dabc450d4.svg#angle-down\\\"\u0026gt;\u0026lt;\\/use\u0026gt;\u0026lt;\\/svg\u0026gt;\\n\u0026lt;svg class=\\\"s16 options-collapsed-icon\\\"\u0026gt;\u0026lt;use xlink:href=\\\"https://gitlab.com/assets/icons-1bbf3f0e2e8f631ea6006c647f843db214684476054223102c16630dabc450d4.svg#angle-right\\\"\u0026gt;\u0026lt;\\/use\u0026gt;\u0026lt;\\/svg\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;div class=\\\"avatar-container s40\\\"\u0026gt;\\n\u0026lt;div class=\\\"btn-template-icon avatar s40 avatar-tile identicon bg4\\\"\u0026gt;N\u0026lt;\\/div\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;div class=\\\"template-subgroup-name prepend-left-5\\\"\u0026gt;\\n\u0026lt;strong\u0026gt;newsub\u0026lt;\\/strong\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;div class=\\\"template-subgroup-project-count\\\"\u0026gt;\\n\u0026lt;span class=\\\"badge badge-pill\\\"\u0026gt;\\n\u0026lt;strong\u0026gt;\\n2\\n\u0026lt;\\/strong\u0026gt;\\n\u0026lt;\\/span\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;div class=\\\"template-option align-items-center\\\"\u0026gt;\\n\u0026lt;div class=\\\"avatar-container s40\\\"\u0026gt;\\n\u0026lt;img alt=\\\"tempalte\\\" class=\\\"btn-template-icon avatar s40 avatar-tile\\\" src=\\\"https://gitlab.com/uploads/-/system/project/avatar/10227470/logo-extra-whitespace.png\\\" /\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;div class=\\\"description prepend-left-5\\\"\u0026gt;\\n\u0026lt;strong\u0026gt;\\ntempalte\\n\u0026lt;\\/strong\u0026gt;\\n\u0026lt;br\u0026gt;\\n\u0026lt;div class=\\\"text-muted\\\"\u0026gt;\\nteamplte\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;div class=\\\"controls d-flex align-items-baseline\\\"\u0026gt;\\n\u0026lt;a class=\\\"btn btn-default append-right-10\\\" href=\\\"/new-jjj-groupaaa/newsub/tempalte\\\" rel=\\\"noopener noreferrer\\\" target=\\\"_blank\\\"\u0026gt;\\nPreview\\n\u0026lt;\\/a\u0026gt;\\n\u0026lt;label class=\\\"btn btn-success custom-template-button choose-template append-bottom-0\\\" for=\\\"tempalte\\\"\u0026gt;\\n\u0026lt;input autocomplete=\\\"off\\\" data-subgroup-id=\\\"4324729\\\" id=\\\"tempalte\\\" name=\\\"project[template_name]\\\" type=\\\"radio\\\" value=\\\"tempalte\\\"\u0026gt;\\n\u0026lt;span\u0026gt;\\nUse template\\n\u0026lt;\\/span\u0026gt;\\n\u0026lt;\\/label\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;div class=\\\"template-option align-items-center\\\"\u0026gt;\\n\u0026lt;div class=\\\"avatar-container s40\\\"\u0026gt;\\n\u0026lt;img alt=\\\"GitLab Community Edition\\\" class=\\\"btn-template-icon avatar s40 avatar-tile\\\" src=\\\"https://gitlab.com/uploads/-/system/project/avatar/10181735/logo-extra-whitespace.png\\\" /\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;div class=\\\"description prepend-left-5\\\"\u0026gt;\\n\u0026lt;strong\u0026gt;\\nGitLab Community Edition\\n\u0026lt;\\/strong\u0026gt;\\n\u0026lt;br\u0026gt;\\n\u0026lt;div class=\\\"text-muted\\\"\u0026gt;\\nGitLab Community Edition (CE) is an open source end-to-end software development platform with built-in version control, issue tracking, code review, CI/CD, and more. Self-host GitLab CE on your own servers, in a container, or on a cloud provider.\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;div class=\\\"controls d-flex align-items-baseline\\\"\u0026gt;\\n\u0026lt;a class=\\\"btn btn-default append-right-10\\\" href=\\\"/new-jjj-groupaaa/newsub/gitlab-ce\\\" rel=\\\"noopener noreferrer\\\" target=\\\"_blank\\\"\u0026gt;\\nPreview\\n\u0026lt;\\/a\u0026gt;\\n\u0026lt;label class=\\\"btn btn-success custom-template-button choose-template append-bottom-0\\\" for=\\\"GitLab Community Edition\\\"\u0026gt;\\n\u0026lt;input autocomplete=\\\"off\\\" data-subgroup-id=\\\"4324729\\\" id=\\\"GitLab Community Edition\\\" name=\\\"project[template_name]\\\" type=\\\"radio\\\" value=\\\"GitLab Community Edition\\\"\u0026gt;\\n\u0026lt;span\u0026gt;\\nUse template\\n\u0026lt;\\/span\u0026gt;\\n\u0026lt;\\/label\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\u0026lt;\\/div\u0026gt;\\n\\n\u0026lt;\\/div\u0026gt;\\n\");\ntarget.trigger(\"ajax:success\");\n```\n\n## Impact\n\nleaked this info to any unauthorised user\n\n![Screen_Shot_2019-01-06_at_10.35.55_PM.png](https://h1.sec.gitlab.net/a/475240/401796/Screen_Shot_2019-01-06_at_10.35.55_PM.png)\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [Screen_Shot_2019-01-06_at_10.35.55_PM.png](https://h1.sec.gitlab.net/a/475240/401796/Screen_Shot_2019-01-06_at_10.35.55_PM.png)","state":"closed","created_at":"2019-01-11T00:48:31.612Z","updated_at":"2022-01-05T08:56:10.275Z","closed_at":"2021-12-03T11:50:49.610Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","Deliverable","Eng-Consumer::Security","Eng-Producer::Development","Engineering Allocation","HackerOne","SaaS","backend","devops::create","group::source code","priority::3","section::dev","security","security-backlog::review-complete","severity::3","workflow::awaiting security release"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-12-20","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26103","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26103","notes":"https://gitlab.com/api/v4/projects/278964/issues/26103/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26103/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26103","relative":"#26103","full":"gitlab-org/gitlab#26103"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7128,"epic":{"id":384256,"iid":7128,"title":"Security Engineering Allocation (Source Code BE): 10-NOV-2021","url":"/groups/gitlab-org/-/epics/7128","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17252219,"iid":9148,"project_id":278964,"title":"Use email in response during new user flow when forcing use of dedicated credentials with Group SSO","description":"### Problem to solve\n\nWhile we're introducing a [new user flow](https://gitlab.com/gitlab-org/gitlab-ee/issues/5292) for new users who are SSOing into a SAML SSO configured group, we should also consider the case when a group wishes to restrict the use of outside e-mail addresses.\n\nSince we prompt the user for an email address on registration, we should simply use the email address that we receive for the new user in the response we receive from the identity provider. Since this is a dedicated user account specific for that enterprise, the user should be unable to change their address away from this address. \n\nThus, the user's work with that group stays appropriately isolated.\n\n### Proposal\n\n* When a group is requiring [dedicated credentials](https://gitlab.com/gitlab-org/gitlab-ee/issues/6260) in the settings for a group:\n  * Remove e-mail address from the registration flow.\n  * On creating the new user, set the e-mail address to the e-mail address we receive in the [identity provider's response](https://www.samltool.com/generic_sso_res.php) (`saml:Attribute Name=\"mail\"`?).\n  * Check this on every SSO, in case it has changed. If so, update the associated email address for the user and inform them with a banner that this has occurred.\n\nAs defined in https://gitlab.com/gitlab-org/gitlab-ee/issues/5332, the user should be unable to change their e-mail address away from this address for notifications.\n\n### Links / references","state":"closed","created_at":"2019-01-10T22:03:04.967Z","updated_at":"2020-03-09T11:10:43.182Z","closed_at":"2019-03-12T11:35:53.096Z","closed_by":{"id":2629166,"username":"lmcandrew","name":"Liam McAndrew","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5801f5e2fd21127836c0be61ec71f06b?s=80\u0026d=identicon","web_url":"https://gitlab.com/lmcandrew"},"labels":["Deliverable","Enterprise Edition","Manage [DEPRECATED]","[deprecated] Accepting merge requests","authentication","backend","devops::manage","gitlab.com","priority::2","saml","type::feature"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9148","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9148","notes":"https://gitlab.com/api/v4/projects/278964/issues/9148/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9148/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9148","relative":"#9148","full":"gitlab-org/gitlab#9148"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":709,"epic":{"id":3015,"iid":709,"title":"Group managed accounts for Group SSO","url":"/groups/gitlab-org/-/epics/709","group_id":9970,"human_readable_end_date":"Aug 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17247708,"iid":9142,"project_id":278964,"title":"Alternate URL for Geo secondaries behind a load balancer","description":"This issue is created based on the investigation done in https://gitlab.com/gitlab-org/gitlab-ee/issues/6306\n\n### Problem\n\nCustomer's use case is that they want to build multiple Geo secondaries, placed strategically in various geographic areas. Then, users will access Geo through a common name/load balancer. The load balancer intelligently routes the user to the closest Geo node. This is useful in large enterprises because users don't need to know where the Geo nodes are or what their specific URL is.\n\nThis currently doesn't work with Geo due to OAuth. When attempting to authenticate via the load balanced name, OAuth fails with 'Invalid URI' on the GitLab primary. However, authentication works fine when accessing a specific Geo node via it's proper URL. This seems to be due to the way we do name matching.\n\n\n### Solution\n\nMake it possible to specify an alternate URL for Geo Node. This URL has to be added to a Doorkeeper application. When I experimented locally I did it like this:\n\n```ruby\nDoorkeeper::Application.last.redirect_uri # =\u003e \"http://s1.gitlab.com/oauth/geo/callback\"\nnew_redirect_uri = \"http://s1.gitlab.com/oauth/geo/callback http://secondary.gitlab.com/oauth/geo/callback\"\nDoorkeeper::Application.last.update(redirect_uri: new_redirect_uri)\n```\n\nThis issue will probably need some help of frontend team. The administrator will need somewhere on the UI to specify these URLs.\n\nWe'll show the alternate URL and sync URL info in the 'Other information' section, illustrated below:\n\n![image](/uploads/8cccc2ec23ef97aea2828d92fa8a5dc7/image.png)\n\nRefactoring the form in 'Edit node' so it aligns with our form guidelines will make it easier to read and use. 'Alternate URL' fits well, right aligned with the main URL input field.\n\n![image](/uploads/90b188e8294752df8438ab29c8a8d2fe/image.png)\n\nAttaching how it should look like on mobile as well:\n\n![image](/uploads/a5aab87bb64b7311b95d93ba198cf522/image.png)\n\ncc @mkozono @rnienaber","state":"closed","created_at":"2019-01-10T17:28:10.413Z","updated_at":"2020-04-02T11:18:21.157Z","closed_at":"2019-03-12T13:19:03.111Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Geo Replication","Deliverable","Enterprise Edition","Geo Administration","devops::systems","frontend","group::geo","workflow::in review"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},{"id":1859215,"username":"matejlatin","name":"Matej Latin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1859215/avatar.png","web_url":"https://gitlab.com/matejlatin"}],"author":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"type":"ISSUE","assignee":{"id":411701,"username":"kushalpandya","name":"Kushal Pandya","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/411701/avatar.png","web_url":"https://gitlab.com/kushalpandya"},"user_notes_count":18,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9142","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9142","notes":"https://gitlab.com/api/v4/projects/278964/issues/9142/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9142/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9142","relative":"#9142","full":"gitlab-org/gitlab#9142"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":951,"epic":{"id":5206,"iid":951,"title":"Geo: Support Nodes behind a Load Balancer","url":"/groups/gitlab-org/-/epics/951","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17240520,"iid":9137,"project_id":278964,"title":"Use reverse order for timeline entries for batch comments (reviews) on merge requests","description":"### Problem to solve\n\nWhen you add multiple comments during a code review the order of the timeline entries for each comment appears in reverse order when compared to what the reviewer is viewing while inspecting the batch comments on the file changes. This can lead to a couple of issues, in contrast, to manually adding the comments one by one. Most of the times it won't make any difference since all comments should be addressed eventually. However, I've run into the following scenario a couple of times where the reviewer is referencing another comment by typing *...see comment above* or *...see comment below* which can be inaccurate on the merge request timeline.\n\n| During review | After review |\n| ------ | ------ |\n| ![review-during](/uploads/5ae5c7523afb03c312097f822d4bda4f/review-during.png) | ![review-after](/uploads/634e84ba50b97bf61f754c1c10661c94/review-after.png) | \n\n### Proposal\n\n**Use reverse order for timeline entries for batch comments (reviews) on merge requests.** This would allow the reviewer to evaluate review comments based on the linear order they appear on the file changes and expect these comments to appear in the same linear order after submitting the review. In the future, this could support chronological order of the comments which could allow the reviewer to indicate order or priority if needed.\n\n### What does success look like, and how can we measure that?\n\nThe user will feel confident that batch comments will appear in order as expected.","state":"closed","created_at":"2019-01-10T14:38:34.272Z","updated_at":"2020-12-07T17:23:48.911Z","closed_at":"2019-03-22T14:38:32.564Z","closed_by":{"id":636429,"username":"mikegreiling","name":"Mike Greiling","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/636429/avatar.png","web_url":"https://gitlab.com/mikegreiling"},"labels":["Category:Code Review Workflow","Create [DEPRECATED]","Deliverable","Enterprise Edition","UX","UX debt","backend","devops::create","group::code review","priority::3","reproduced on GitLab.com","severity::3","type::bug","workflow::in review"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":1474048,"username":"gtsiolis","name":"George Tsiolis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1474048/avatar.png","web_url":"https://gitlab.com/gtsiolis"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":10,"merge_requests_count":1,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9137","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9137","notes":"https://gitlab.com/api/v4/projects/278964/issues/9137/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9137/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9137","relative":"#9137","full":"gitlab-org/gitlab#9137"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687391,"iid":26070,"project_id":278964,"title":"Wiki editor: Improve design for consistency","description":"### Problem to solve\n\nEditing wiki pages is inconsistent with the UX patterns of editing issues and merge requests. We should make them consistent.\n\n| Edit issue | Edit wiki |\n| --- | --- |\n| ![Screen_Shot_2019-01-10_at_2.58.45_PM](/uploads/7c421dad4824ae3223b1899985ea561a/Screen_Shot_2019-01-10_at_2.58.45_PM.png) | ![Screen_Shot_2019-01-10_at_2.59.10_PM](/uploads/506a39fd7af1ec6f5d8132dfa453c1cc/Screen_Shot_2019-01-10_at_2.59.10_PM.png) |\n\n### Target audience\n\n\u003c!--- For whom are we doing this? Include either a persona from https://design.gitlab.com/getting-started/personas or define a specific company role. e.a. \"Release Manager\" or \"Security Analyst\" --\u003e\n\n### Further details\n\nWiki's are not consistent with the rest of the GitLab interface and need to be brought inline and up to date to make them more relevant and useful.\n\n### Proposal\n\nUpdate the wiki edit interface to be consistent with equivalent GitLab page designs.\n\n* Edit page heading should be smaller and say \"Created X time ago by user\" (remove duplicate page title)\n* Title/description form style should match discussion layout\n* Format drop down should be in same position as template drop down\n* Page history should be shown in the view mode, not while editing\n\n### New design proposals from @jareko \n\nSee [designs tab](https://gitlab.com/gitlab-org/gitlab/issues/26070/designs)\n\n### What does success look like, and how can we measure that?\n\nThis is reducing UX debt and is unlikely to increase usage of wiki's in and of itself/\n\n#### Todo list\n\n**Wiki page view**\n\n- [x] Move title to be part of the main wiki content (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/44390)\n- [x] Move \"edit\" button below \"new page\" button (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/44391)\n- [x] Use Toast for notification when wiki page is updated (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46201)\n- [ ] Wiki page: Add avatar to header (next to user fullname) (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46405)\n\n**Wiki page editing view**:\n\n- [x] shift labels inline with input fields (on the left hand side of fields) (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/45247)\n- [x] remove \"Page history\" button (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/45247)\n- [x] Change color of \"tip\" text (below \"title\" field) to `text-muted` (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/45247)\n- [ ] Wiki edit page: Add \"last edited by\" with User fullname and avatar (replacing the large page breadcrumb/page title)\n\n**Wiki page \"delete\" modal**:\n\n- [x] Make it smaller (?) (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/45740)\n- [x] Add \"Cancel\" button next to \"Delete page\" button (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/45740)\n\n**Wiki page diff view**:\n\n- [ ] Make consistent with all the above pages: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/31545#note_343409157\n\n**Won't do**:\n\n- Make action footer on \"editing\" page sticky\n- Shift button position/order on the action footer on \"editing\" page\n- Make \"editing\" page input fields columnar (inline with each other)\n\n### [Prototype here](https://sketch.cloud/s/Jv2D9/a/JokvZ9/play)","state":"closed","created_at":"2019-01-10T04:01:37.437Z","updated_at":"2021-07-09T05:40:54.249Z","closed_at":"2021-07-08T17:48:25.499Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Backlog Refinement::Editor","Category:Wiki","UX","backend-weight::1","devops::create","frontend","frontend-weight::2","group::editor","missed-deliverable","missed:12.4","missed:12.5","missed:12.8","quad-planning::complete-action","section::dev","type::feature","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":57,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26070","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":8},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26070","notes":"https://gitlab.com/api/v4/projects/278964/issues/26070/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26070/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26070","relative":"#26070","full":"gitlab-org/gitlab#26070"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6312,"epic":{"id":305033,"iid":6312,"title":"Update the Wiki editing experience","url":"/groups/gitlab-org/-/epics/6312","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24687380,"iid":26068,"project_id":278964,"title":"Allow gitlab.com Group Owners to obtain users' email addresses via the Users API","description":"### Problem to solve\n\n\u003c!--- What problem do we solve? --\u003e\n\nWhen enterprises are gitlab.com users, they do not have a way to quickly obtain the email addresses from the users in their group. \n### Target audience\n\n\u003c!--- For whom are we doing this? Include either a persona from https://design.gitlab.com/getting-started/personas or define a specific company role. e.a. \"Release Manager\" or \"Security Analyst\" --\u003e\n\ngitlab.com group owners\n\n### Further details\n\n\u003c!--- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\n\nA .com customer has subgroups and users. As the owner and the 'administrator' for the organization, the user would like to be able to somehow gather either via the UI, or via the API, the email addresses of everyone in their group. \n\nCurrently, the API call to get the email address for users is only available to Administrators. \n\n### Proposal\n\n\u003c!--- How are we going to solve the problem? --\u003e\n\nAllow non-admins to get obtain user email addresses via the users API. \n\nOR\n\nAllow Group Maintainers to have [Admin-only Users API Access](https://docs.gitlab.com/ee/api/users.html#for-administrators) for Enterprise Users.\n\n### What does success look like, and how can we measure that?\n\nAllow Group owners to gather email addresses of the members via the API, or via the UI. This will allow them to more easily audit users. \n\nThis should include all email addresses, not just primary.\n\n\u003c!--- If no way to measure success, link to an issue that will implement a way to measure this --\u003e\n\n## \"Workaround\"\n\nIt's possible to get a list using an admin account with the Users API ([internal example](https://gitlab.com/gitlab-com/support/runbooks/-/blob/master/code/group_members_list.rb#L27)), or through rails console ([internal example](https://gitlab.com/gitlab-com/support/runbooks/-/blob/master/code/user_list.rb#L27)).","state":"closed","created_at":"2019-01-10T02:40:31.219Z","updated_at":"2023-01-12T15:46:54.881Z","closed_at":"2022-12-13T21:09:57.040Z","closed_by":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"labels":["Deliverable","Enterprise Users","GitLab Premium","GitLab Ultimate","Support Efficiency","[deprecated] Accepting merge requests","auto updated","customer","devops::manage","group::authentication and authorization","potential proposal","section::dev","type::feature","workflow::complete"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"}],"author":{"id":1799366,"username":"kristie.thomas","name":"Kristie Thomas","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1799366/avatar.png","web_url":"https://gitlab.com/kristie.thomas"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":75,"merge_requests_count":0,"upvotes":19,"downvotes":1,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26068","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26068","notes":"https://gitlab.com/api/v4/projects/278964/issues/26068/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26068/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26068","relative":"#26068","full":"gitlab-org/gitlab#26068"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4786,"epic":{"id":137332,"iid":4786,"title":"Enterprise Users","url":"/groups/gitlab-org/-/epics/4786","group_id":9970},"iteration":null,"health_status":null},{"id":17219604,"iid":9123,"project_id":278964,"title":"Improve support of Geo secondaries behind a load balancer","description":"- [ ] Follow up from https://gitlab.com/gitlab-org/gitlab-ee/issues/6306#note_130326757:\n\n\u003e I'll open another issue for those items. It makes sense to address only the main blocker (secondary authentication) here. These items are incremental improvements on top of that.\n\n---------------------------\n\n~~A customer wants to run all Geo Nodes behind a location aware load balancer so their users don't need knowledge of Geo. This is not currently possible. Other than https://gitlab.com/gitlab-org/gitlab-ee/issues/6306, they also need the following items addressed.~~ =\u003e [Support putting the primary behind a Geo node load balancer](https://gitlab.com/gitlab-org/gitlab-ee/issues/10888)\n\n- ~~Use Alternate URL in Git clone HTTP host and SSH destination https://gitlab.com/gitlab-org/gitlab-ee/issues/9123#note_153104896~~\n- ~~The Edit button URL for Geo nodes should be relative, not absolute using the external URL.~~\n\nScope has been cut to include only secondaries behind a load balancer. No primary yet.\n\n- [x] Don't hard-code `gitlab-ctl replicate` DB name to `gitlabhq_...`. =\u003e https://gitlab.com/gitlab-org/omnibus-gitlab/merge_requests/3124\n- [x] Remove Alternate URL =\u003e https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/10609\n- [x] Decouple node identity from External URL, so External URL can be used with more flexibility. See https://gitlab.com/gitlab-org/gitlab-ee/issues/9123#note_156172347, copied below:\n\n\u003e\u003e\u003e\n### Perhaps a way to clean up Geo\n\nDon't reuse `external_url` as a unique identifier for \"which GeoNode am I?\".\n\nE.g.:\n\n* Add `gitlab_rails['geo_node_name']` to `gitlab.rb` and default it to `external_url`.\n* Rename GeoNode#url to GeoNode#name. It will be expected to match `gitlab_rails['geo_node_name']`.\n* Whereever we use GeoNode#url as an identifier, use GeoNode#name\n* Whereever we use GeoNode#url as a URL that something needs to actually contact, instead use `external_url` (or `internal_url`, which is being introduced in https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9634).\n* Profit???\n\n|  | UK (primary) | USA (secondary 1) | China (secondary 2) |\n|--|--------------|-------------------|---------------------|\n| gitlab.rb external_url | https://gitlab.com | https://secondary.gitlab.com | https://secondary.gitlab.com |\n| gitlab.rb geo_node_name | uk.gitlab.com | us.gitlab.com | cn.gitlab.com |\n| GeoNode name | uk.gitlab.com | us.gitlab.com | cn.gitlab.com |\n| GeoNode internal_url | https://uk.gitlab.com (or let it default to external_url) |  |  |\n\u003e\u003e\u003e\n\n\u0026nbsp;\n\n- Customer ticket: https://gitlab.zendesk.com/agent/tickets/106018 (internal use)\n- Slack discussion during customer call: https://gitlab.slack.com/archives/C32LCGC1H/p1540571721004700 (internal use)","state":"closed","created_at":"2019-01-09T21:36:46.403Z","updated_at":"2020-11-13T03:39:07.144Z","closed_at":"2019-05-01T18:34:56.610Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Deliverable","Enterprise Edition","Geo Administration","customer","devops::systems","group::geo","workflow::in dev","workflow::ready for development"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":43,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9123","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":3},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9123","notes":"https://gitlab.com/api/v4/projects/278964/issues/9123/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9123/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9123","relative":"#9123","full":"gitlab-org/gitlab#9123"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":951,"epic":{"id":5206,"iid":951,"title":"Geo: Support Nodes behind a Load Balancer","url":"/groups/gitlab-org/-/epics/951","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17215113,"iid":9121,"project_id":278964,"title":"Manual backlog grooming and prioritization","description":"~\"internal customer\" since I (VictorW) and other product members have said they would use this for grooming their respective backlogs.\n\n--- \n\nDesigns for the problem in https://gitlab.com/groups/gitlab-org/-/epics/482:\n\n### Problem\n\n- Currently, it is very difficult (if not impossible) to order a large list of issues, to indicate priority and/or order of implementation.\n- This is necessary for typical Agile use cases, such as grooming a backlog of issues, that are currently not scoped into any sprint yet.\n- Currently in GitLab, we have priority labels. This is not a scalable solution, since you cannot label every single issue with a priority label. Furthermore, is very difficult to re-order issues quickly/easily using labels.\n- We have a priority / priority label sort for issues lists, but they suffer the problem above, since they are based on priority labels.\n- You can order issues within an issue board, but the space is very limiting. Even if you use the `Open` list, it is very difficult to see a large list of issues. To mitigate the problem, you can narrow down the issues to a small subset, but that defeats the purpose of backlog grooming, where you want a large set of issues visible, that you can continuously groom over time.\n\n### Solution\n\n- Make the issues lists (all versions of them, including the dashboard list, group list, and project list) support manual reordering, exactly like how you re-order issues in a board.\n- In particular, there is a new dropdown selection called `Manual ordering`. If you select that mode, then you can drag and drop issues in the list view.\n- The order is saved to the system. The relative ordering, for any two given issues in the instance, is stored and saved and used for all issue lists views, and all board views. That means that if you re-order in one place, then it is reflected everywhere else in the instance. In other words, board lists are inherently always use the `Manual ordering` option. And there is no other option.\n- The order is shared in epic lists to be consistent. I.e. if you make an ordering re-arrangement in an epic list, it is reflected elsewhere as well.\n- It will be difficult to groom a large backlog, especially if the list page only shows 20 issues per paginated page. To solve this, we need to do infinite scrolling and/or have some way to move an issue from one paginated page to another page easily.\n- If you create a new issue while in this mode, then the issue would show all the way at the end.\n- You should probably be able to re-order issues in the closed and all tabs too.\n\n\n### Proposal\n![Screen_Shot_2019-01-23_at_12.25.20_PM](https://gitlab.com/gitlab-org/gitlab/uploads/347f4efd2ab41cdafb495ba79aa4ef39/Screen_Shot_2019-01-23_at_12.25.20_PM.png)\n\n* Add `Manual` option in sort dropdown\n* List displays 100 issues at a time\n* Issues use new drag-and-drop style (similar to issue boards)\n* Users can drag issues anywhere on the list, at any time. The list is automatically saved in the current order.\n\nNote- I opened an MR for the manual order styles (https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/9278/diffs). To whoever picks this up you can add `.manual-ordering` to `.issues-holder` to get it to work\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-01-09T16:42:12.786Z","updated_at":"2022-05-19T16:14:40.212Z","closed_at":"2019-05-22T16:38:45.225Z","closed_by":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"labels":["Enterprise Edition","Product Vision FY20","backend","customer","depth","devops::plan","direction","frontend","internal customer","issues","type::feature","workflow::in dev"],"milestone":null,"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":33,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9121","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9121","notes":"https://gitlab.com/api/v4/projects/278964/issues/9121/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9121/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9121","relative":"#9121","full":"gitlab-org/gitlab#9121"},"severity":"UNKNOWN","moved_to_id":21194221,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17175144,"iid":9104,"project_id":278964,"title":"Use CI/CD to update the NPM registry","description":"### Problem to solve\nThe GitLab NPM Registry allows users to publish and pull NPM packages right alongside their source code and CI pipelines. \n\nSince NPM requires authentication with OAuth, we do not currently allow users to authenticate with the [predefined environment variable `CI_JOB_TOKEN`](https://docs.gitlab.com/ee/ci/variables/predefined_variables.html#variables-reference). This is not a scalable solution for our enterprise customers as it prevents users from using two-factor authentication for their GitLab accounts.\n\n### Intended users\n- [Software Developer](https://design.gitlab.com/research/personas#persona-sasha)\n- [DevOps Engineer](https://design.gitlab.com/research/personas#persona-devon)\n\n### Further details\n\n#### Background Details\nWith milestone 12.2, we extend the [Personal Access Token to be OAuth2 compatible](https://gitlab.com/gitlab-org/gitlab-ce/issues/63438) and allow for [authentication with the PAT](https://gitlab.com/gitlab-org/gitlab-ee/issues/9140). This issue will add support for `CI_JOB_TOKEN`.\n\n#### User flow\n1. A Javascript (node.js) developer at a Premium customer wants to start using GitLab CI to publish NPM packages.\n2. Since the feature is enabled at the instance level, the developer can easily enable the feature at the project level by navigating to Settings-\u003eGeneral-\u003ePermissions and enabling 'Packages'\n3. They click on 'Packages' and see the empty state page that directs them to the [NPM documentation](https://docs.gitlab.com/ee/user/project/packages/npm_registry.html)\n4. They see an updated version of [this section of documentation](https://docs.gitlab.com/ee/user/project/packages/npm_registry.html#) that documents how to authenticate to the NPM registry from GitLab CI using `CI_JOB_TOKEN`.\n5. The user copies the example `gitlab-ci.yml` from the documentation and creates a pipeline to test publishing their NPM packages.\n6. The `gitlab-ci.yml` template allows the user to authenticate and publish a package from GitLab CI.\n7. The user celebrates and if they've been using OAuth they go and enable 2FA for their GitLab account.\n8. They begin using the NPM Registry and GitLab CI to publish and pull all of their packages.\n\n### Proposal\nAllow users to authenticate to the GitLab NPM Registry from GitLab CI using `CI_JOB_TOKEN`.\n\n### Permissions and Security\nFrom [CI build permissions model](https://docs.gitlab.com/ee/user/project/new_ci_build_permissions_model.html)\nIt is important to note that we have a few types of users:\n\n- Administrators: CI jobs created by Administrators will not have access to all GitLab projects, but only to projects and container images of projects that the administrator is a member of. That means that if a project is either public or internal users have access anyway, but if a project is private, the Administrator will have to be a member of it in order to have access to it via another projectâ€™s job.\n- External users: CI jobs created by external users will have access only to projects to which user has at least reporter access. This rules out accessing all internal projects by default.\n\n### Documentation\n- [NPM Registry](https://docs.gitlab.com/ee/user/project/packages/npm_registry.html)\n\n### What does success look like, and how can we measure that?\nSuccess looks like we allow users to use the CI token for authentication with the NPM Registry, so that they can seamlessly use GitLab CI to build and publish npm packages.\n\n### What is the type of buyer? \nThis feature will be focused on Director and Executives, as it is a Premium/Silver and Ultimate/Gold feature. \nhttps://about.gitlab.com/handbook/ceo/pricing/#four-tiers\n\n### Links / references\n- [Discussion about unifying tokens and why it's hard](https://gitlab.com/gitlab-org/gitlab-ce/issues/62295#note_181974192)\n- [Discussion about personal access tokens](https://gitlab.com/gitlab-org/gitlab-ce/issues/20993#note_173132336)\n- [CI Permissions Model](https://docs.gitlab.com/ee/user/project/new_ci_build_permissions_model.html)\n","state":"closed","created_at":"2019-01-08T16:36:25.692Z","updated_at":"2020-09-25T21:17:18.146Z","closed_at":"2019-11-15T07:32:46.121Z","closed_by":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"labels":["Category:Package Registry","Deliverable","Enterprise Edition","GitLab Premium","Product Vision FY20","auto updated","backend","customer","devops::package","direction","documentation","group::package registry","maturity::viable","missed-deliverable","missed:11.8","missed:12.3","missed:12.4","movingtogitlab","package:active","potential proposal","type::feature","workflow::in review"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"}],"author":{"id":926632,"username":"joshlambert","name":"Joshua Lambert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a0bdc5209b11e9c0953f80234dcb4ffb?s=80\u0026d=identicon","web_url":"https://gitlab.com/joshlambert"},"type":"ISSUE","assignee":{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"},"user_notes_count":39,"merge_requests_count":1,"upvotes":25,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9104","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9104","notes":"https://gitlab.com/api/v4/projects/278964/issues/9104/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9104/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9104","relative":"#9104","full":"gitlab-org/gitlab#9104"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1241,"epic":{"id":6538,"iid":1241,"title":"Improve the usability of the GitLab Package Registry","url":"/groups/gitlab-org/-/epics/1241","group_id":9970,"human_readable_end_date":"Feb 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17683218,"iid":9427,"project_id":278964,"title":"Add runbook link to assets in Releases - MVC","description":"## Problem to solve\n\nUsers want to be able to attach release plans to their Releases in GitLab. They want to be able to see tasks related to a specific release, which means on the Release Landing page as well as in the Release Dedicated view.  \n\n## Target audience\n\n* Release Managers and teams involved in executing releases \n* Our internal customers are the #production team (for runbooks in general) and #delivery team (for release plans).\n\n## UX Proposal\n\nAs a first step, this MVC will address creating the visibility by enabling users to add an Asset Link to the Runbooks using the UI of GitLab. In the Release page, users will be able to click the link and see the runbook linked. \n\n[ðŸ–¼ SEE UX PROTOTYPES IN THE DESIGN TAB ðŸ–¼](https://gitlab.com/gitlab-org/gitlab/issues/9427/designs/release__assets--link.png)\n\n### User stories\n\n\u003e As a Release Manager, I want to link assets to my release, so that I can combine planning all items, whether or not they are in GitLab, into my release plan.\n\n**Acceptance criteria:**\n\n- While creating a release using GitLab's UI, user sees a new `Links` option in the form, under the new section header  `Assets`.\n- A helper text should be displayed in the UI to inform users how to work with Links in releases, and it should point to a new section in the Releases documentation page.\n- User should be able to enter a link url in the `URL` input field.\n  - Form validation is provided for the URL input field. If the user enters an invalid URL, the input should display an error state and helper message.\n- User should be able to add a name to the Link in the `Link title` input field.\n- User should be able to add multiple links to the form. By clicking the `Add another link` option, a new set of `URL` and `Link title` form fields are displayed below the existing ones.\n- User should be able to remove a link from the form by clicking the `Remove` button next to the fields.\n  - A tooltip should be displayed when hovering the button. It should read `Remove link`.\n  - Clicking the button removes the fields from the UI.\n  - If there is only one (1) entry for a link in the row, and the user clicks the option to remove it, the information should be removed but the input fields remain in the UI. We always display at least one (1) set of input fields for `URL` and `Link title`.\n- The behaviour is valid for both create and edit release forms.\n- All fields are mandatory.\n\n**View created link**\n\n\u003e As a user, I want to see the data related to the link associated to a Release, so I can have access to assets that related to the release.\n\n- When the user creates a Release with a Link added to it, the new information should be displayed in the newly created Release item under the `Assets` section (view page/release detail page).\n  - The icon to identify the link should be the :link: Pajamas icon.\n- When user provided a **title** for the link, the name should be rendered on the Release view.\n- If the URL or Link title are long, and span across the container width, an ellipsis should be added. Hovering the truncated link should display a tooltip with the full URL or Title.\n  - Links URL or Title should not break into multiple lines.\n- Each link should render in a different row.\n\n### Out of scope\n\n- Any updated to the counter `badge` for assets.\n\n## Dev proposal **(NEEDS UPDATE)**\n\n* [ ]  Connecting a release, including [`Upcoming Release`](https://docs.gitlab.com/ee/api/releases/#upcoming-releases), to an instance of a runbook \n* [ ]  Link Release pages to the runbook which displays: \n  * [ ] Runbook status - running, complete, failed \n  * [ ] Runbook name, ID\n\n### Technical Instrumentation steps \n* Front End \u0026 Back End spec\n   * [ ] Same field for Assets \n   * [ ] Fields for manually populating tasks/ completed tasks and % complete \n   * [ ] Upload of runbook via API and populates to the runbook section \n\n## What does success look like, and how can we measure that?\n\nAs a factor of adoption, this feature should increase the number of runbooks linked in release pages.\n\n## Documentation\n\nYes, this feature will require updates to our documentation.\n\n## Links / references\n\n[Opportunity canvas](https://docs.google.com/document/d/12DQY3YZk5R2ydGcZKoYmOkCzym_T4eYbppDXCo5_Uss/edit?ts=5df795c2)","state":"closed","created_at":"2019-01-08T16:11:51.340Z","updated_at":"2022-07-18T17:03:32.658Z","closed_at":"2020-04-20T14:51:05.375Z","closed_by":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"labels":["Category:Release Orchestration","Deliverable","Dogfooding","Dogfooding::Build in GitLab","Enterprise Edition","GitLab Core","Product Vision FY20","Release::P1","UX","cicd::active","devops::release","direction","feature::enhancement","frontend","group::release","internal customer","maturity::complete","missed-deliverable","missed:12.9","type::feature","workflow::production"],"milestone":{"id":1104429,"iid":46,"group_id":9970,"title":"12.10","description":"https://about.gitlab.com/releases/2020/04/22/gitlab-12-10-released","state":"closed","created_at":"2019-12-20T15:15:53.243Z","updated_at":"2020-10-08T12:00:39.852Z","due_date":"2020-04-17","start_date":"2020-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/46"},"assignees":[{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},{"id":3079878,"username":"rayana","name":"Rayana Verissimo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3079878/avatar.png","web_url":"https://gitlab.com/rayana"}],"author":{"id":2243533,"username":"jyavorska","name":"Jason Yavorska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2243533/avatar.png","web_url":"https://gitlab.com/jyavorska"},"type":"ISSUE","assignee":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"user_notes_count":127,"merge_requests_count":1,"upvotes":7,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9427","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9427","notes":"https://gitlab.com/api/v4/projects/278964/issues/9427/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9427/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9427","relative":"#9427","full":"gitlab-org/gitlab#9427"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2711,"epic":{"id":23427,"iid":2711,"title":"Support all Release data on the \"New/Edit Release\" page","url":"/groups/gitlab-org/-/epics/2711","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17171798,"iid":9102,"project_id":278964,"title":"Hide dismissed vulnerabilities in security dashboards","description":"Previously part of https://gitlab.com/gitlab-org/gitlab-ee/issues/6240, but not finished in the %11.7 iteration.\n\nWe should follow up with this separate issue.\n\n### Description\n\nWhen dealing with security dashboards, users should be able to hide dismissed vulnerabilities from the entire dashboard, so they can work on what's important and remove the noise created by these dismissed vulns. \n\n\n### Proposal\n\nAdd a hide/show toggle to the filters area that effectively hides all dismissed vulnerabilities. \n\n### Experience\n\n| Dashboard with filters - first state |\n| ------ | \n| ![multiple-report-types-active](/uploads/106f3fba4eee434252be0012ac7d759a/multiple-report-types-active.png) |\n\n#### Filter detail \n| Hide dismissed toggle\n| ----- | \n| ![Screen_Shot_2018-12-11_at_1.37.35_PM](/uploads/9f102164de699efb44d509f1d9cc41cd/Screen_Shot_2018-12-11_at_1.37.35_PM.png) | \n|  When the \"Hide dismissed\" toggle is on and the user dismisses a vulnerability, we should display a toast at the bottom left of the window, and reload the dashboard with the newly dismissed vulnerability hidden. See more below \u003e  | \n\n| Dismissing a vulnerability with the \"Hide dismissed\" toggle active | \n| ------ | \n| ![Screen_Shot_2018-12-11_at_2.56.34_PM](/uploads/9db82da43d526499e6214ab988dd75ac/Screen_Shot_2018-12-11_at_2.56.34_PM.png) | \n| Once the user has clicked the dismiss vulnerability button, the dismissed vulnerability will hide and the list will shift up, adding 1 new vulnerability at the bottom of the list. The user will also see a toast appear with an ease-in animation from the bottom and display at the left-bottom of the screen alerting the user of their action. After a short while, the toast will ease-out with the opposite motion. | \n| If the user has the \"Hide dismissed\" toggle off, no motion will be applied to the vulnerability and no toast will appear. The dismissed vulnerability will appear as they do today, with the button for dismiss changing to the undo icon. | \n\n#### Edge cases \nTBD \n\n#### Documentation\n\nUpdate the (Security Dashboard)[https://docs.gitlab.com/ee/user/application_security/security_dashboard/] documentation to provide detail on what, specifically, the `Hide Dismissed` toggle does.  Also remove the reference to 12.5 availability when this feature is complete and no longer behind a feature flag.\n\n#### Design Specs: \n[See design specs here](https://gitlab-org.gitlab.io/gitlab-design/hosted/andy/ee%236240-add-sort-and-filter-to-group-security-dashboard-spec-previews/)","state":"closed","created_at":"2019-01-08T14:41:31.589Z","updated_at":"2022-04-18T19:23:50.651Z","closed_at":"2019-12-12T16:21:17.858Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Deliverable","Enterprise Edition","GitLab Ultimate","backend","backend-weight::3","customer","devops::secure","direction","documentation","frontend","frontend-weight::3","group::dynamic analysis","missed-deliverable","missed:12.3","missed:12.4","missed:12.5","security dashboard","type::feature","workflow::verification"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},{"id":4415595,"username":"pburkegitlab","name":"Paula Burke","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/5fa5bc4ce2a4fb892fb3ef3454779045?s=80\u0026d=identicon","web_url":"https://gitlab.com/pburkegitlab"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"},"user_notes_count":49,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9102","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9102","notes":"https://gitlab.com/api/v4/projects/278964/issues/9102/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9102/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9102","relative":"#9102","full":"gitlab-org/gitlab#9102"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17150960,"iid":9081,"project_id":278964,"title":"Setup Jest for EE-specific tests","description":"The Jest configuration made in https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/23406 does not cover EE-specific tests.\nWe should introduce a `ee/specs/frontend/` directory and add a `ee/` alias to Jest (similar to Webpack).","state":"closed","created_at":"2019-01-07T22:01:18.237Z","updated_at":"2019-08-12T15:09:46.345Z","closed_at":"2019-02-22T08:36:36.959Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","Enterprise Edition","Plan [DEPRECATED]","Quality","frontend","maintenance::refactor","test"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"user_notes_count":2,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9081","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9081","notes":"https://gitlab.com/api/v4/projects/278964/issues/9081/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9081/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9081","relative":"#9081","full":"gitlab-org/gitlab#9081"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17142888,"iid":9074,"project_id":278964,"title":"Have an endpoint for projects with security reports enabled","description":"### Problem to solve\n\nCurrently, the group security dashboard has a project filter that lists all the projects in a group. \n\n### Proposal\n\nWe should have an endpoint that allows us to see only the projects in a group that actually have security reports enabled/configured. This endpoint will then need hooking up to the dashboard store.\n\nTo take into account:\n\n- [x] Include the entire sub-groups tree, recursively\n- [x] Projects' visibility and access permissions\n- [-] Exclude forks (addressed in #11560)\n- [-] Exclude projects shared from other groups (addressed in #11560)\n\n### Further details\n\nThis functionality would more trivial and performant to implement if we would have [first-class reports implemented](https://gitlab.com/gitlab-org/gitlab-ee/issues/10250)\n\n---\n\nThe following discussion from !8944 should be addressed:\n\n- [ ] @ayufan started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8944#note_129311886):  (+2 comments)\n\n    \u003e btw. I guess that we use that for fetching a list of projects to show for the sake of filtering:\n    \u003e 1. we do something similar on issues and todos, is that re-usable?\n    \u003e 2. this fetches all projects, it is uber annoying that we do not show the ones matching.\n    \u003e \n    \u003e I did not check if the 2. is correct, but my gut feeling says that we do not show projects having vulns, but rather all of them.","state":"closed","created_at":"2019-01-07T16:55:46.447Z","updated_at":"2019-11-18T15:58:18.846Z","closed_at":"2019-09-05T12:19:52.235Z","closed_by":{"id":3337413,"username":"vzagorodny","name":"Victor Zagorodny","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/56410d67aa18e03b13e1585d436bf313?s=80\u0026d=identicon","web_url":"https://gitlab.com/vzagorodny"},"labels":["Deliverable","Enterprise Edition","backend","bug::performance","devops::secure","frontend","group::static analysis","security dashboard","type::feature"],"milestone":{"id":731038,"iid":37,"group_id":9970,"title":"12.3","description":"https://about.gitlab.com/releases/2019/09/22/gitlab-12-3-released/","state":"closed","created_at":"2018-12-07T12:40:55.400Z","updated_at":"2020-04-23T21:06:04.173Z","due_date":"2019-09-17","start_date":"2019-08-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/37"},"assignees":[{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},{"id":3337413,"username":"vzagorodny","name":"Victor Zagorodny","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/56410d67aa18e03b13e1585d436bf313?s=80\u0026d=identicon","web_url":"https://gitlab.com/vzagorodny"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9074","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9074","notes":"https://gitlab.com/api/v4/projects/278964/issues/9074/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9074/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9074","relative":"#9074","full":"gitlab-org/gitlab#9074"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687214,"iid":26013,"project_id":278964,"title":"Release Configuration in .yml + Job Token for release generation from .yml","description":"### Problem to solve\n\nNow that we have a releases page (https://gitlab.com/gitlab-org/gitlab-ce/issues/41766), there should be a straightforward way to create a release from the `.gitlab-ci.yml` without making curls to the [Releases API](https://docs.gitlab.com/ee/api/releases/index.html). This issue will just support the release configuration not generation. \n\n### Target audience\n\nAutomation engineers who are working on releases and want a native way to add releases without using `script:` elements to curl an API\n\n### Further details\n\nThis is good polish for the releases feature in that it makes the integration feel better integrated into the product. Also, this provides better overall experience once features like https://gitlab.com/gitlab-org/gitlab-ce/issues/56023 are implemented.\n\n### Proposal\nBuild release configuration in yml: \n\n```yaml\nstages:\n- build\n- test\n- release\n\nrelease:\n  stage: release\n  only: tags\n  script:\n    - make changelog | tee release_changelog.txt\n  release:\n    name: Release $CI_TAG_NAME\n    description: ./release_changelog.txt\n    assets:\n      links:\n        - name: cool-app.zip\n          url: http://my.awesome.download.site/1.0-$CI_COMMIT_SHORT_SHA.zip\n        - url: http://my.awesome.download.site/cool-app.exe\n```\n\nThese keys and links will be built in this iteration and exposed via the API. Binary Assets will be supported in a follow-up issue https://gitlab.com/gitlab-org/gitlab/issues/36133\n\n- `release:assets` adds assets to the release.\n- `release:assets:links` an array of link-type assets\n- `release:assets:links:name` (optional) specifies the asset name as an improvement over a raw url\n- `release:assets:links:url` specifies a link to the asset, which is stored externally and pre-created or created by `script`.\n\n\n\nUploading of binary or packaged assets into object storage or the GitLab Package repository are not supported by this iteration.\n\nSee also the [proposed documentation](https://gitlab.com/gitlab-org/gitlab/merge_requests/19237/diffs)","state":"closed","created_at":"2019-01-07T12:44:52.852Z","updated_at":"2020-11-12T10:24:00.064Z","closed_at":"2020-01-16T10:20:44.020Z","closed_by":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"labels":["Category:Release Orchestration","Deliverable","Product Vision FY20","customer","devops::release","group::release","maturity::viable","missed-deliverable","missed:12.5","missed:12.6","type::feature","workflow::production"],"milestone":{"id":891798,"iid":41,"group_id":9970,"title":"12.7","description":"https://about.gitlab.com/releases/2020/01/22/gitlab-12-7-released/","state":"closed","created_at":"2019-05-31T08:38:04.523Z","updated_at":"2020-05-19T13:46:24.737Z","due_date":"2020-01-17","start_date":"2019-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/41"},"assignees":[{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"}],"author":{"id":2243533,"username":"jyavorska","name":"Jason Yavorska","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2243533/avatar.png","web_url":"https://gitlab.com/jyavorska"},"type":"ISSUE","assignee":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"user_notes_count":148,"merge_requests_count":6,"upvotes":127,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/26013","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/26013","notes":"https://gitlab.com/api/v4/projects/278964/issues/26013/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/26013/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#26013","relative":"#26013","full":"gitlab-org/gitlab#26013"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2510,"epic":{"id":18384,"iid":2510,"title":"Release generation from `.gitlab-ci.yml` via API call","url":"/groups/gitlab-org/-/epics/2510","group_id":9970,"human_readable_end_date":"Jan 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":17125085,"iid":9066,"project_id":278964,"title":"[Frontend] Mirror changes from Web IDE to CI runner","description":"Frontend Issue for: https://gitlab.com/gitlab-org/gitlab-ee/issues/5276\n\nPlease refer to \u003ca href=\"https://gitlab.com/gitlab-org/gitlab-ee/issues/5276\"\u003ethe description of the parent issue\u003c/a\u003e for up-to-date information.\n\nThis issue was created to track Frontend weight independently of Backend.\n\n# Some details\n\nThis issue will require the FE to use a backend-provided API to keep runner in sync with the changes on the Web IDE, one way only.","state":"closed","created_at":"2019-01-07T10:43:52.870Z","updated_at":"2019-08-12T15:09:50.273Z","closed_at":"2019-04-08T10:51:11.561Z","closed_by":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Create [DEPRECATED]","Deliverable","Enterprise Edition","GitLab Ultimate","devops::create","frontend","missed-deliverable","missed:11.8","priority::1"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"}],"author":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9066","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9066","notes":"https://gitlab.com/api/v4/projects/278964/issues/9066/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9066/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9066","relative":"#9066","full":"gitlab-org/gitlab#9066"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687184,"iid":25998,"project_id":278964,"title":"A11y: It is difficult to use the search box \"jump to\"  dropdown using keyboard","description":"### Summary\n\nWhen using a keyboard to navigate Gitlab.com, it is difficult to navigate to the items in the dropdown using arrow-keys or tab. \n\nIn addition, the dropdown items only appear if one enters the search box, leaves, and returns - otherwise one only sees \"Loading...\"\n\nThe dropdown items then cannot be dismissed, blocking part of the screen until one leaves the page.\n\n### Steps to reproduce\n\nUse the tab key to navigate any gitlab.com page. It will currently start at the search box, so if you find yourself anywhere else, use alt-tab to get back to it. (the fact that it starts at search is a bit confusing, as well)\n\nTo encourage the dropdown items to appear, tab out and then alt tab back in. At this point, you cannot access the dropdown items.\n\nHowever, if one continues tabbing, after the \"new\" icon and dropdown, the focus will be on the items in the search dropdown. \n\nThis is very confusing behavior for someone who can see the screen but prefers or requires keyboard use. \n\nI am not entirely sure if it's also confusing for a user of a screen reader, as the dropdown options appear to allow jumping to things rather than searching.\n\nThe dropdown items will now not go away unless one leaves the current page.\n\n### Relevant logs and/or screenshots\n\nThis is what you see when you first enter the search box using the keyboard.\n![Screenshot_2019-01-05_at_11.48.46](/uploads/9d337d2d194366f36b25fd8bb6f45de8/Screenshot_2019-01-05_at_11.48.46.png)\n\nThe next time one enters the search box using the keyboard, one sees this. It will not go away, either. You can only access these if you first tab to the new icon and dropdown to the left of the search box, and then tab will bring you to each of those.\n![Screenshot_2019-01-05_at_11.49.31](/uploads/3c69d4eb43a8c8e64af4d21714722e35/Screenshot_2019-01-05_at_11.49.31.png)\n\n### Output of checks\n\nThis bug happens on gitlab.com","state":"closed","created_at":"2019-01-05T16:58:34.984Z","updated_at":"2022-05-31T11:56:42.401Z","closed_at":"2022-01-05T19:26:35.550Z","closed_by":{"id":516904,"username":"tauriedavis","name":"Taurie Davis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/516904/avatar.png","web_url":"https://gitlab.com/tauriedavis"},"labels":["Category:Global Search","Manage [DEPRECATED]","UX","[deprecated] Accepting merge requests","accessibility","advanced search","devops::data_stores","group::global search","project","section::enablement","severity::4","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2792987,"username":"wispfox","name":"Suzanne Hillman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6feb5c0c5b46609ffff332c072a5641d?s=80\u0026d=identicon","web_url":"https://gitlab.com/wispfox"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25998","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25998","notes":"https://gitlab.com/api/v4/projects/278964/issues/25998/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25998/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25998","relative":"#25998","full":"gitlab-org/gitlab#25998"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1505,"epic":{"id":8506,"iid":1505,"title":"UX Search Enhancements for Advanced Global Search","url":"/groups/gitlab-org/-/epics/1505","group_id":9970},"iteration":null,"health_status":null},{"id":24687173,"iid":25995,"project_id":278964,"title":"Relative links in Markdown files don't work according to a spec if they point to files that don't exist in repo","description":"### Summary\n\n1. Given: Making changes to a Markdown file in a repo located at: https://example.com/dreamhost/virtkick/kubekick/blob/master/docs/50-troubleshooting.md\n2. When: Markdown link to URL `/docs/0-setup.md#step-5-inspect-logs`\n3. Then: render HTML link to URL `https://example.com/dreamhost/virtkick/kubekick/blob/master/docs/0-setup.md#step-5-inspect-logs`\n   - As per the spec at https://docs.gitlab.com/ee/user/markdown.html#links\n4. Actual: render HTML link to URL `https://example.com/dreamhost/virtkick/kubekick/master/docs/0-setup.md#step-5-inspect-logs``\n\nContext: this ONLY happens if docs/0-setup.md doesn't exit in the repo. If docs/0-setup.md exists, the link is correct.\n\n### Steps to reproduce\n\n1. Edit any Markdown file in GitLab visual editor.\n2. Add anywhere: `[Kubekick guide, Inspect logs](/docs/0-setup.md#step-5-inspect-logs)`\n3. Click Preview.\n4. Hover on the new link.\n5. Note the generated URL is missing the `blob` part.\n\n![image](/uploads/b3b3482147c9cc8924833628b9d8e89c/image.png)\n\nGitLab: 11.6.2-ee\n\n### Why it matters?\n\n\u0026lt;DevilsAdvocate666\u0026gt; If I'm linking to a file that doesn't exist, why does it matter that the generated URL is still up to spec?\n\nBecause when I first make a mistake, and link to 0-setup.md instead of 10-setup.md, I'll check a link and it'll be invalid. If I spot lack of `/blob/` part in the link instead of my human typo `10` vs `0`, I'll think it's GitLab to blame, take down the company for GitLab upgrade (to make sure it's not a bug in GitLab), and when still not working, submit THIS ticket, only to realize that it was a typo at later point (but GitLab's inconsistency in generating links too). \n\n### Mentions\n\n@markglenfletcher @jramsay gitlab-ce~2278648 gitlab-ce~4107676 gitlab-ce~4107755","state":"closed","created_at":"2019-01-04T18:59:04.609Z","updated_at":"2020-03-11T04:12:29.576Z","closed_at":"2020-03-10T15:54:15.784Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["devops::create","group::source code","markdown","missed:12.7","missed:12.8","priority::3","repository","severity::3","type::bug","workflow::in review"],"milestone":{"id":1001916,"iid":44,"group_id":9970,"title":"12.9","description":"https://about.gitlab.com/releases/2020/03/22/gitlab-12-9-released","state":"closed","created_at":"2019-09-15T20:54:50.875Z","updated_at":"2020-09-02T11:04:41.671Z","due_date":"2020-03-17","start_date":"2020-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/44"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":536451,"username":"Nowaker","name":"Damian Nowak","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6c44da17cd76ce95e9690e135ce21ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/Nowaker"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":3,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25995","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25995","notes":"https://gitlab.com/api/v4/projects/278964/issues/25995/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25995/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25995","relative":"#25995","full":"gitlab-org/gitlab#25995"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17060077,"iid":9032,"project_id":278964,"title":"Geo: PruneOrphanedGeoEvents is running on a secondary","description":"ZenDesk: https://gitlab.zendesk.com/agent/tickets/110919\n\nSomehow the Geo secondary got this background migration:\n\n```\nPG::ReadOnlySqlTransaction: ERROR: cannot execute DELETE in a read-only transaction \n: DELETE FROM \"geo_hashed_storage_migrated_events\" WHERE \"geo_hashed_storage_migrated_events\".\"id\" IN (SELECT \"geo_hashed_storage_migrated_events\".\"id\" FROM \"geo_hashed_storage_migrated_events\" WHERE (NOT EXISTS ( SELECT 1 FROM geo_event_log WHERE geo_event_log.hashed_storage_migrated_event_id = geo_hashed_storage_migrated_events.id )) LIMIT 50000)\n\nfrom peek/views/pg.rb:17:in `async_exec' \nfrom peek/views/pg.rb:17:in `async_exec' \nfrom active_record/connection_adapters/postgresql_adapter.rb:600:in `block in exec_no_cache' \nfrom active_record/connection_adapters/abstract_adapter.rb:590:in `block in log' \nfrom active_support/notifications/instrumenter.rb:21:in `instrument' \nfrom active_record/connection_adapters/abstract_adapter.rb:583:in `log' \nfrom active_record/connection_adapters/postgresql_adapter.rb:600:in `exec_no_cache' \nfrom active_record/connection_adapters/postgresql_adapter.rb:587:in `execute_and_clear' \nfrom active_record/connection_adapters/postgresql/database_statements.rb:116:in `exec_delete' \nfrom active_record/connection_adapters/abstract/database_statements.rb:140:in `delete' \nfrom active_record/connection_adapters/abstract/query_cache.rb:17:in `delete' \nfrom active_record/relation.rb:546:in `delete_all' \nfrom gitlab/background_migration/prune_orphaned_geo_events.rb:42:in `delete_batch_of_orphans!' \nfrom gitlab/background_migration/prune_orphaned_geo_events.rb:67:in `prune_orphaned_rows' \nfrom gitlab/background_migration/prune_orphaned_geo_events.rb:59:in `perform' \nfrom gitlab/background_migration.rb:51:in `perform' \nfrom background_migration_worker.rb:26:in `perform' \nfrom sidekiq/processor.rb:185:in `execute_job' \nfrom sidekiq/processor.rb:167:in `block (2 levels) in process' \n```\n\nI'm not sure how this happened in the first place, but we should just skip this migration if we detect the node is a Geo secondary.","state":"closed","created_at":"2019-01-03T17:22:49.853Z","updated_at":"2019-12-11T20:04:12.457Z","closed_at":"2019-06-06T05:42:59.657Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Enterprise Edition","Geo Administration","customer","devops::systems","group::geo","priority::3","severity::4","type::bug","workflow::in review"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":8,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9032","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9032","notes":"https://gitlab.com/api/v4/projects/278964/issues/9032/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9032/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9032","relative":"#9032","full":"gitlab-org/gitlab#9032"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17054201,"iid":9029,"project_id":278964,"title":"Include issues in sub-epics when filtering by epic","description":"### Problem to solve\n\n\u003e As a user of Epics,\n\u003e \n\u003e I need to be able to be able to quickly pull a list of issues from a specific Epic,\n\u003e \n\u003e So I can find the right issues with the right parameters, and not spend a ton of time opneing tabs, and context switching. \n\n### Intended users\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Proposal\n\nEnable users to filter an issue list by an epic:\n\n- From project issue list\n- From group issue list\n\nWe should also include the Epic Id in the csv export so that data is maintained. \n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\nIf this feature requires changing permissions, this document https://docs.gitlab.com/ee/user/permissions.html must be updated accordingly. --\u003e\n\n### Links / references\nIcon should be `information-o`\n![Issue_List_hover](/uploads/d58c50a35a2741edfde90fcd3cee5e40/Issue_List_hover.png)\n\u003c/details\u003e\n\n_Note: this issue originally contained ability to filter by epics, not broken down. See details below._\n\nhttps://gitlab.com/gitlab-org/gitlab/issues/195704 allows for filtering by parent epic. This issue is for the next iteration, which is allowing of filtering by sub-epics.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2019-01-03T13:41:57.333Z","updated_at":"2022-05-19T16:14:36.137Z","closed_at":"2020-04-30T20:43:16.380Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel GarcÃ­a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["Category:Portfolio Management","Dogfooding","Enterprise Edition","GitLab Ultimate","Technical Writing","UX","backend","customer","customer+","devops::plan","direction","documentation","epics","frontend","group::product planning","missed-deliverable","missed:12.10","missed:12.7","missed:12.9","planning priority","workflow::in dev"],"milestone":{"id":991112,"iid":42,"group_id":9970,"title":"13.0","description":"","state":"closed","created_at":"2019-09-04T15:20:39.024Z","updated_at":"2020-10-08T12:00:55.725Z","due_date":"2020-05-17","start_date":"2020-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/42"},"assignees":[{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},{"id":5412956,"username":"agarciatesares","name":"Axel GarcÃ­a","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":3617348,"username":"uhlexsis","name":"Alexis Ginsberg","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3617348/avatar.png","web_url":"https://gitlab.com/uhlexsis"},"user_notes_count":107,"merge_requests_count":0,"upvotes":11,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9029","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9029","notes":"https://gitlab.com/api/v4/projects/278964/issues/9029/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9029/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9029","relative":"#9029","full":"gitlab-org/gitlab#9029"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2496,"epic":{"id":18324,"iid":2496,"title":"Filtering Issue list by Epic","url":"/groups/gitlab-org/-/epics/2496","group_id":9970,"human_readable_end_date":"Jul 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":24687117,"iid":25973,"project_id":278964,"title":"Merge Request sidebar adapts to long file paths","description":"### Problem to solve\n\nApplications with long file paths (for example, Java applications which often times are at least 6-level deep) cause the MR sidebar to show content that is not useful. The file name cannot be seen, for example:\n\n\n![Screen_Shot_2562-01-03_at_12.15.07](/uploads/036b44b67799a5f6e46d9779c5e8881c/Screen_Shot_2562-01-03_at_12.15.07.png)\n\n### Proposal\n\nWhen long file paths are present, use ellipsis to shorten/hide part of the path and show the containing folder.\n\n![image](/uploads/b74801323f5e550b93c34db9e9807241/image.png)","state":"closed","created_at":"2019-01-03T05:26:41.866Z","updated_at":"2022-08-03T10:24:46.906Z","closed_at":"2020-11-02T08:30:40.305Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Review Workflow","Deliverable","UX","customer","devops::create","frequently duplicated","frontend","group::code review","merge requests","section::dev","severity::3","type::bug"],"milestone":{"id":1233755,"iid":53,"group_id":9970,"title":"13.6","description":"https://about.gitlab.com/releases/2020/11/22/gitlab-13-6-released/","state":"closed","created_at":"2020-04-09T17:39:22.328Z","updated_at":"2022-04-13T14:51:04.376Z","due_date":"2020-11-17","start_date":"2020-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/53"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":1299367,"username":"tanapoln","name":"Tanapol Nearunchorn","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3cf8dccbcbd96a21b37dddc5d851babc?s=80\u0026d=identicon","web_url":"https://gitlab.com/tanapoln"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":17,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25973","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25973","notes":"https://gitlab.com/api/v4/projects/278964/issues/25973/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25973/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25973","relative":"#25973","full":"gitlab-org/gitlab#25973"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3607,"epic":{"id":68969,"iid":3607,"title":"Merge requests UX improvements","url":"/groups/gitlab-org/-/epics/3607","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e day remaining"},"iteration":null,"health_status":null},{"id":24687108,"iid":25970,"project_id":278964,"title":"Mirror pull for archived projects","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nMirror pull rule fails for archived projects \n\n### Steps to reproduce\n\n- Have a project\n- Set up mirror pull rule\n- Archive project\n- Observe error\n\n### What is the current *bug* behavior?\n\nMirror rule failes, mainteners get emails, error is shown on a project page\n\n### What is the expected *correct* behavior?\n\nMirror rule should pause or be deleted once a project archives. \nIt is expected that the rule fails, but it should not be an *error*. \nMaybe it is feature proposal rather than a bug, but I do not expect an error after I atchive a project. \n\n### Possible fixes\n\nAs I said, pause the rule, destroy it, or at least do not count as error.","state":"closed","created_at":"2019-01-02T23:53:15.096Z","updated_at":"2020-02-18T07:07:22.361Z","closed_at":"2020-02-13T03:02:34.530Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Deliverable","backend","devops::create","group::source code","mirror","priority::3","severity::3","type::bug"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":920678,"username":"dbogatov","name":"Dmytro Bogatov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08e0cc7d2509767800be5b4837a2ecbf?s=80\u0026d=identicon","web_url":"https://gitlab.com/dbogatov"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25970","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25970","notes":"https://gitlab.com/api/v4/projects/278964/issues/25970/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25970/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25970","relative":"#25970","full":"gitlab-org/gitlab#25970"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17029983,"iid":9023,"project_id":278964,"title":"Unable to comment in epics if I'm not a member","description":"### Description\n\nExisting permissions from https://docs.gitlab.com/ee/user/permissions.html#group-members-permissions:\n\n- View private group epic: Guest+\n- View internal group epic: Guest+\n- View public group epic: Guest+ (includes not logged in users which are implicit Guests)\n- Edit group epic: Reporter+\n\nPermissions to correct/implement for this issue:\n\n- If you can view an epic (as a logged in user), you should be able to comment on it.\n- If you are not logged in, you cannot edit an epic.\n\nVerify UX for cases when you cannot edit comments.\n\n### Original description\nI mentioned some community members in https://gitlab.com/groups/gitlab-org/-/epics/622, and I was surprised to hear that they weren't able to participate in the epic (https://gitlab.com/gitlab-org/gitlab-ce/issues/52092#note_128297214).\n\nI took a look on another account, and noticed this:\n\n![image](/uploads/fb2dc5f3924f9da64d30e814134a1405/image.png)\n\n1. I'm logged in, but see the \"Please register or sign-in to reply\" container where the reply to discussion input box should be. Notice that **I'm logged in**, so none of the presented options would actually solve my problem.\n1. I see \"This issue is locked. Only project members can comment\" at the bottom, where we'd normally present the comment box.\n   * It's not clear which project this is referring to, since the epic covers a couple of projects.","state":"closed","created_at":"2019-01-02T18:21:00.549Z","updated_at":"2022-05-19T16:14:35.804Z","closed_at":"2019-03-01T20:43:11.129Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Category:Portfolio Management","Enterprise Edition","backend","devops::plan","epics"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":1086520,"username":"jeremy-gl","name":"Jeremy Watson (ex-GitLab)","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1086520/avatar.png","web_url":"https://gitlab.com/jeremy-gl"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":11,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9023","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9023","notes":"https://gitlab.com/api/v4/projects/278964/issues/9023/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9023/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9023","relative":"#9023","full":"gitlab-org/gitlab#9023"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24687102,"iid":25968,"project_id":278964,"title":"MergeRequest Notes API Slow for Large Notes","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nMergeRequest Notes API poor performance on large notes, when compared to UI performance.  \n  \nThis was discovered when wondering why one of our merge-request check bots was timing out on certain merge requests. The use case of what triggers this is that a branch was created as a hotfix into a previous release, but then determined not to be a hotfix, and rebased and retargeted into master (in that specific order of actions). \n\n### Steps to reproduce\n\nCreate a `new` branch from `target`, add a couple commits to `new`. Create an MR from `new` to `target`. Rebase `new` such that it has a few (2+) thousand commits that aren't in `target`. Force push `new`.\n\n### Example Project\n\n[Example MR](https://gitlab.com/jhenkens/gitlab-ce/merge_requests/2)  \n[Example MR API call](https://gitlab.com/api/v4/projects/7162695/merge_requests/2/notes)  \n\n### What is the current *bug* behavior?\n\nThe API request can take tens of seconds, whereas the UI seems to load the same data \"quickly\" (less than three seconds).\n\n### What is the expected *correct* behavior?\n\nAPI call should be no slower than the UI call.\n\n### Output of checks\n\nThis bug happens on GitLab.com, as well as on our self-hosted instance.","state":"closed","created_at":"2019-01-02T17:49:26.631Z","updated_at":"2021-04-21T16:21:15.687Z","closed_at":"2020-01-21T20:56:27.687Z","closed_by":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"labels":["Category:Code Review Workflow","[deprecated] Accepting merge requests","api","backend","bug::performance","customer","customer success","devops::create","group::code review","merge requests","missed-SLO","needs investigation","priority::2","severity::2","type::bug"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[],"author":{"id":2488390,"username":"jhenkens","name":"Johan Henkens","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c89a0cd58832ee9e15bd4aadaec73b41?s=80\u0026d=identicon","web_url":"https://gitlab.com/jhenkens"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25968","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25968","notes":"https://gitlab.com/api/v4/projects/278964/issues/25968/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25968/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/32455"},"references":{"short":"#25968","relative":"#25968","full":"gitlab-org/gitlab#25968"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":17015202,"iid":9013,"project_id":278964,"title":"Related merge request spinner on commit pipeline page spins forever","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label.\n\nFor the Community Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ce/issues?label_name%5B%5D=bug\n\nFor the Enterprise Edition issue tracker:\n\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab-ee/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\nThe box that shows related merge requests for a commit loads when the `Commit` tab is selected on the commit page, but it never loads on the `Pipelines` page.\n\n### Steps to reproduce\n\n1. Find a commit that has a pipeline enabled - `\u003crepo\u003e/commit/\u003chash\u003e/pipelines`\n2. The related merge requests field never loads\n\n### Example Project\n\nLink to a commit on gitlab.com where this happens:\nhttps://gitlab.com/gitlab-org/gitlab-ee/commit/a1447b2629c2c5ef720e042601b1177ade74a8a3/pipelines?ref=master\n\n### What is the current *bug* behavior?\n\nThe related merge request spinner loads forever\n\n### What is the expected *correct* behavior?\n\nThe field indicated either \"No related merge requests found\" or the related merge requests, as it does [here](https://gitlab.com/gitlab-org/gitlab-ee/commit/a1447b2629c2c5ef720e042601b1177ade74a8a3)\n\n### Relevant logs and/or screenshots\n\n![pipeline](/uploads/27ec2b82faa0c85b5b62052d3b58718e/pipeline.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com as well as our self-hosted environment\n\n### Possible fixes\n\nIt seems that on the commit page \"merge_requests.json\" is loaded via AJAX, but this request never occurs on the pipelines page, and thus the spinner is never replaced with the correct content.","state":"closed","created_at":"2019-01-02T07:27:09.936Z","updated_at":"2020-12-07T16:52:12.438Z","closed_at":"2020-07-13T18:10:27.543Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Category:Code Review Workflow","Create [DEPRECATED]","Deliverable","Enterprise Edition","customer","devops::create","frontend","group::code review","merge requests","pipeline","priority::3","reproduced on GitLab.com","severity::3","type::bug","workflow::production"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":149036,"username":"jlynch630","name":"John Lynch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b4036e1dca5f70eeee019c6a2074f716?s=80\u0026d=identicon","web_url":"https://gitlab.com/jlynch630"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/9013","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/9013","notes":"https://gitlab.com/api/v4/projects/278964/issues/9013/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/9013/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#9013","relative":"#9013","full":"gitlab-org/gitlab#9013"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24686982,"iid":25953,"project_id":278964,"title":"API exposes comment field of user uploaded SSH keys","description":"**[HackerOne report #473439](https://hackerone.com/reports/473439)** by `dcsec` on 2018-12-31:\n\n## Summary \n\nThe Gitlab API exposes the comment field of user's public SSH keys\n\n## Description \n\nThe [specification](https://gitlab.com/gitlab-org/gitlab-ce/blob/4ccd767abf45df909c43e93d8898096236c99e3d/spec/controllers/profile_keys_controller_spec.rb#L58) seems to state that this should not happen. The [commit](https://github.com/gitlabhq/gitlabhq/commit/4ccd767abf45df909c43e93d8898096236c99e3d) that made the changes to the specification also seems to suggest this is not intentional.\n\nKey comments are not disclosed when accessing a users keys via the web interface. Example below (cut for brevity): \n\n```\n$ curl https://gitlab.com/dsadnasdsandajn.keys\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAIQC8HSa4ekYekN0hAgxlEBHMcGvoKw0n22Qf+ZWAfVHfnw== dsadnasdsandajn (gitlab.com)\n```\n\nApart from being unintentional, it's likely that in some cases this could leak sensitive information to an attacker (system usernames, internal host names, an accidentally pasted password if we are really unlucky/lucky).\n\nGithub doesn't publish the comment field.\n\n## Steps To Reproduce\n\n1. List a users public SSH keys via the API. Example below (output cut for brevity): \n\n```\n$ curl https://gitlab.com/api/v4/users/3137456/keys/\n[{\"id\":2936115,\"title\":\"example-comment-exposure\",\"key\":\"ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAIEA4SU05weyscjB1OWy7GBGRIH7OpJycoJ/9jKo16TFfgL+mUe1+aTOddEaKj6+YrcW3g0ONNWGfL9j7nu4LvW0vNk2hD6ghb2B357fK3pe/AUdeOEUN3qH2nEj00UUhLUSQ5hXxVr6Spb9XTkpQOTO9q+U7vfJyHxS8FRredMeETU= example-comment-exposure\",\"created_at\":\"2018-12-31T00:07:05.812Z\"}]\n```\nThe key comment field is listed directly inside the *title* property and also the at the end of the *key* property.\n\n## Impact\n\nApart from being unintentional, it's likely that in some cases this could leak sensitive information to an attacker (system usernames, internal host names, an accidentally pasted password if we are really unlucky/lucky).","state":"closed","created_at":"2018-12-31T19:51:10.388Z","updated_at":"2021-01-28T13:08:47.483Z","closed_at":"2020-07-13T05:32:59.163Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Category:Authentication and Authorization","Deliverable","HackerOne","backend","devops::create","group::source code","priority::3","security","severity::3","type::bug"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-03-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25953","notes":"https://gitlab.com/api/v4/projects/278964/issues/25953/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25953/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25953","relative":"#25953","full":"gitlab-org/gitlab#25953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1322,"epic":{"id":7382,"iid":1322,"title":"Security: Confidential S2/S3","url":"/groups/gitlab-org/-/epics/1322","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24686979,"iid":25952,"project_id":278964,"title":"Add ability to hide Kubernetes menu option in groups","description":"### Problem to solve\n\nWith the addition of [group-level Kubernetes clusters](https://docs.gitlab.com/ee/user/group/clusters/), there is a Kubernetes menu item on the group page for maintainers and owners. Some customers don't use CI/CD and would like the Kubernetes menu item hidden in this case. These options are [hidden on the project level when builds are turned off](https://gitlab.com/gitlab-org/gitlab-ce/issues/47631). There is not a group or instance level setting to hide the Kubernetes menu item.\n\nCustomer ticket: https://gitlab.zendesk.com/agent/tickets/110840\n\n### Target audience\n\nFrom the customer:\n\n```\nthis will bring confusion to our developers and, more importantly, customers that have groups in our instance.\n```\n\n### Further details\n\nFrom the customer:\n\n```\nwe've just updated our test instance from 11.3-stable-ee to \n11-6-stable-ee and noticed there's now a Kubernetes menuitem on \ngrouplevel. We don't use autodevops, docker, kubernetes etc. so we need \nto get rid of the button before we roll this out to production.\n...\nAs we're not using docker, Kubernetes, etc. this will bring confusion \nto our developers and, more importantly, customers that have groups in \nour instance. We need to have this removed on group level as well.\n```\n\n### Proposal\n\n* disabling Kubernetes integrations at the instance/group level should disable it at the levels below as well\n* when the feature is disabled, hide the menu \"Kubernetes\" in groups and \"Infrastructure/Kubernetes clusters\" in projects\n* if the integration is disabled, we should show a text about it at the settings' place\n  * if disabled at the instance level, show the text under the group and project settings\n  * if disabled at the group level, show the test under subgroup and project settings\n* disabling the integration should disable the related APIs too\n  * when disabled at a group, it should not be possible to\n    * register an agent in any of the projects within that group\n    * share an agent with any of the projects or groups within that group\n    * the previously registered agents should stop working\n    * the previously shared agent connections should stop working\n\nInstead of Agent for Kubernetes. I recommend to call it \"Kubernetes integrations\". The header would be \"Kubernetes integrations\", the checkbox could read \"Enable agent for Kubernetes\"\n\n\n### What does success look like, and how can we measure that?\n\nCustomers will have the ability to hide the Kubernetes menu item for groups.\n\n### Links / references\n\n\n@danielgruesso","state":"closed","created_at":"2018-12-31T18:09:23.057Z","updated_at":"2022-08-21T12:04:12.371Z","closed_at":"2022-08-17T07:22:45.882Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["Category:Kubernetes Management","Deliverable","UX","customer","devops::configure","frontend","frontend-weight::2","group::configure","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"}],"author":{"id":2658602,"username":"blunceford","name":"Blair Lunceford","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2658602/avatar.png","web_url":"https://gitlab.com/blunceford"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":20,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25952","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25952","notes":"https://gitlab.com/api/v4/projects/278964/issues/25952/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25952/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25952","relative":"#25952","full":"gitlab-org/gitlab#25952"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":115,"epic":{"id":187,"iid":115,"title":"Category Epic: Kubernetes Management","url":"/groups/gitlab-org/-/epics/115","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":24686892,"iid":25921,"project_id":278964,"title":"Support wildcards when specifying include paths in .gitlab-ci.yml","description":"### Release notes\n\nInclude keyword in CI/CD pipelines allows you to break down one long gitlab-ci.yml file into multiple files to increase readability, or reduce duplication of the same configuration in multiple places, in many cases there are multiple files to be included in a single CI/CD pipelines, in this release we now support the usage of a wildcard on the include file path which makes the CI/CD pipeline less verbose and easier to read. \n\n\n\n### Problem to solve\n\nIt would be really useful if the `include` keyword in `.gitlab-ci.yml` supported wildcards, e.g.:\n\n```\ninclude: '/libs/*/ci.yml'\n```\n\n### Target audience\n\nDevelopers / DevOps\n\n### Further details\n\nThe ability to \"include\" external files when writing the `.gitlab-ci.yml` file is really great. However, I think it would be of even more use if wildcards could be used in (local?) include paths.\n\nConsider the following example:\n\n```\n.build_libs:\n  stage: build\n  script:\n    - foo bar\n\ninclude: '/libs/*/ci.yml'\n```\n\nWhen adding a new dir in `libs`, devs can then simply drop in a `ci.yml` file, extend `.build_libs` and their new file will be automatically included without any edit to the main `.gitlab-ci.yml` file.\n\n### Proposal\n\nWhen parsing include paths, expand wildcards to build the final list of files to be included.\n\n### What does success look like, and how can we measure that?\n\nNew local include files, covered by wildcard paths, will be included without additional edits to the `.gitlab-ci.yml` file.\n\n### Links / references","state":"closed","created_at":"2018-12-27T11:33:20.165Z","updated_at":"2022-09-21T08:20:01.952Z","closed_at":"2021-05-11T08:34:58.057Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","DEPRECATE_pipeline authoring","Deliverable","auto updated","backend","candidate::13.11","customer","devops::verify","direction","group::pipeline authoring","pipeline","potential proposal","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":255509,"username":"harbottle","name":"harbottle","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d1a926a3081557f4319ad6f9a50038f6?s=80\u0026d=identicon","web_url":"https://gitlab.com/harbottle"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":40,"merge_requests_count":0,"upvotes":67,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25921","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25921","notes":"https://gitlab.com/api/v4/projects/278964/issues/25921/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25921/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25921","relative":"#25921","full":"gitlab-org/gitlab#25921"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":24686875,"iid":25916,"project_id":278964,"title":"Bug in LFS import when import_url user or password have invalid characters","description":"Imagine the `import_url` of a project is something like `http://t+u:a#b@example.com`. When we try to parse it using `Addressable::URI.parse` or `URI.parse` it will raise an error.\n\nIn order to avoid this, in https://gitlab.com/gitlab-org/gitlab-ce/commit/50ff36265016728ab9372bff6b16b49e2d2364d6, we used `Gitlab::UrlSanitizer` in between of this process. So now, when you query the project `import_url` it will return the encoded version of the url (`http://t%2Bu:a%23b@example.com`).\n\nNevertheless, in the LFS import workflow, these `encoding` changes weren't reflected. That means, when `LfsDownloadLinkListService` asks for the `oids`' links in `get_download_links`, it will be using invalid credentials, `http://t%2Bu:a%23b@example.com/info/lfs/objects/batch`, and it will also build invalid links.\n\nTo fix this we need to unencode the user and password before requesting any data.","state":"closed","created_at":"2018-12-26T16:01:07.927Z","updated_at":"2023-01-09T09:38:09.063Z","closed_at":"2022-10-31T03:04:04.044Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Source Code Management","DEPRECATED_import","Git LFS","[deprecated] Accepting merge requests","auto closed","backend","devops::create","group::source code","missed-deliverable","missed:11.10","priority::3","section::dev","severity::3","stale","type::bug","vintage","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier LÃ³pez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25916","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25916","notes":"https://gitlab.com/api/v4/projects/278964/issues/25916/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25916/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25916","relative":"#25916","full":"gitlab-org/gitlab#25916"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16855519,"iid":8965,"project_id":278964,"title":"`gitlab-rake geo:db:reset` drops but cannot create the database","description":"First found by Drupal here: https://gitlab.slack.com/archives/C8XUSB5L3/p1545423901023100\n\nConfirmed on my test setup:\n\n```\nroot@selective-sync-test-secondary:~#  gitlab-rake geo:db:reset\nDropped database 'gitlabhq_geo_production'\nPG::InsufficientPrivilege: ERROR:  permission denied to create database\n: CREATE DATABASE \"gitlabhq_geo_production\" ENCODING = 'unicode' LC_COLLATE = ''\nCouldn't create database for {\"adapter\"=\u003e\"postgresql\", \"encoding\"=\u003e\"unicode\", \"collation\"=\u003enil, \"database\"=\u003e\"gitlabhq_geo_production\", \"pool\"=\u003e10, \"username\"=\u003e\"gitlab_geo\", \"password\"=\u003enil, \"host\"=\u003e\"/var/opt/gitlab/geo-postgresql\", \"port\"=\u003e5431, \"socket\"=\u003enil, \"sslmode\"=\u003enil, \"sslcompression\"=\u003e0, \"sslrootcert\"=\u003enil, \"sslca\"=\u003enil, \"load_balancing\"=\u003e{\"hosts\"=\u003e[]}, \"prepared_statements\"=\u003enil, \"statements_limit\"=\u003enil, \"fdw\"=\u003etrue}\nrake aborted!\nActiveRecord::StatementInvalid: PG::InsufficientPrivilege: ERROR:  permission denied to create database\n: CREATE DATABASE \"gitlabhq_geo_production\" ENCODING = 'unicode' LC_COLLATE = ''\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:12:in `public_send'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:12:in `block in method_missing'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:181:in `with_geo_db'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:11:in `method_missing'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/tasks/geo.rake:19:in `block (3 levels) in \u003ctop (required)\u003e'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/tasks/geo.rake:47:in `block (3 levels) in \u003ctop (required)\u003e'\n/opt/gitlab/embedded/bin/bundle:23:in `load'\n/opt/gitlab/embedded/bin/bundle:23:in `\u003cmain\u003e'\n\nCaused by:\nPG::InsufficientPrivilege: ERROR:  permission denied to create database\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:12:in `public_send'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:12:in `block in method_missing'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:181:in `with_geo_db'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/gitlab/geo/database_tasks.rb:11:in `method_missing'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/tasks/geo.rake:19:in `block (3 levels) in \u003ctop (required)\u003e'\n/opt/gitlab/embedded/service/gitlab-rails/ee/lib/tasks/geo.rake:47:in `block (3 levels) in \u003ctop (required)\u003e'\n/opt/gitlab/embedded/bin/bundle:23:in `load'\n/opt/gitlab/embedded/bin/bundle:23:in `\u003cmain\u003e'\nTasks: TOP =\u003e geo:db:create\n(See full trace by running task with --trace)\n```\n\n`gitlab-rake geo:db:reset` is used near the end of https://docs.gitlab.com/ee/administration/geo/replication/troubleshooting.html#how-to-reset-geo-secondary-replication.\n\ncc @stanhu","state":"closed","created_at":"2018-12-21T22:07:32.051Z","updated_at":"2022-12-12T01:57:12.873Z","closed_at":"2019-11-18T06:45:39.607Z","closed_by":{"id":2683848,"username":"eread","name":"Evan Read","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2683848/avatar.png","web_url":"https://gitlab.com/eread"},"labels":["Enterprise Edition","Geo Administration","customer","devops::systems","group::geo","missed:12.4","missed:12.5","priority::3","severity::3","type::bug"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":17,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8965","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8965","notes":"https://gitlab.com/api/v4/projects/278964/issues/8965/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8965/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8965","relative":"#8965","full":"gitlab-org/gitlab#8965"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":917,"epic":{"id":5025,"iid":917,"title":"Geo: Resolve Setup Problems and Improve Documentation","url":"/groups/gitlab-org/-/epics/917","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":24686797,"iid":25888,"project_id":278964,"title":"New discussion design probably creates glitches for image diff discussions","description":"### Problem\n\nNew discussion design probably creates glitches for image diff discussions\n\n### Sources/examples\n\ngitlab-ce~3293941 \n\n- https://gitlab.com/dimitrieh/comment-on-pictures/merge_requests/1\n- https://gitlab.com/dimitrieh/comment-on-pictures/merge_requests/2\n- https://gitlab.com/dimitrieh/comment-on-pictures/merge_requests/3\n\n### Screenshots\n\n![image](/uploads/e7ebf002739395cd111c5d2fa0699d06/image.png)\n\n![2018-12-21_16.03.28](/uploads/5c41b81d5c9d7ae2f93e35b7b1f2fb02/2018-12-21_16.03.28.gif)\n\n![2018-12-21_16.04.09](/uploads/5d769b87b75ea22280745712383deaed/2018-12-21_16.04.09.gif)\n\n![2018-12-21_16.04.24](/uploads/09133596514d4e5c738190afc0abc32b/2018-12-21_16.04.24.gif)\n\n### mentions\n\ncc: @annabeldunstone @victorwu","state":"closed","created_at":"2018-12-21T15:07:06.239Z","updated_at":"2020-12-07T17:23:51.152Z","closed_at":"2020-10-15T14:58:17.417Z","closed_by":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"labels":["Category:Code Review Workflow","Create [DEPRECATED]","UI polish","devops::plan","frontend","group::code review","image diff","section::dev","stale","type::bug","vintage"],"milestone":null,"assignees":[],"author":{"id":489558,"username":"dimitrieh","name":"Dimitrie Hoekstra","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/489558/avatar.png","web_url":"https://gitlab.com/dimitrieh"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25888","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25888","notes":"https://gitlab.com/api/v4/projects/278964/issues/25888/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25888/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25888","relative":"#25888","full":"gitlab-org/gitlab#25888"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16823775,"iid":8948,"project_id":278964,"title":"Extract code from EpicsHelper to a presenter/serializer","description":"The following discussion from !8637 should be addressed:\n\n- [ ] @dzaporozhets started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8637#note_126491498):  (+1 comment)\n\n    \u003e @jarka I feel like this whole file should be a serializer or presenter instead. I propose we create a ~\"technical debt\" issue for it","state":"closed","created_at":"2018-12-20T17:17:36.404Z","updated_at":"2022-05-19T16:14:34.216Z","closed_at":"2019-05-06T15:22:37.097Z","closed_by":{"id":33100,"username":"mayra-cabrera","name":"Mayra Cabrera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/33100/avatar.png","web_url":"https://gitlab.com/mayra-cabrera"},"labels":["Enterprise Edition","backend","devops::plan","maintenance::refactor"],"milestone":{"id":655280,"iid":28,"group_id":9970,"title":"11.11","description":"","state":"closed","created_at":"2018-09-21T19:08:37.027Z","updated_at":"2019-06-10T14:39:00.009Z","due_date":"2019-05-22","start_date":"2019-04-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/28"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":444,"username":"dzaporozhets","name":"Dmytro Zaporozhets (DZ)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/444/avatar.png","web_url":"https://gitlab.com/dzaporozhets"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":4,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8948","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8948","notes":"https://gitlab.com/api/v4/projects/278964/issues/8948/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8948/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8948","relative":"#8948","full":"gitlab-org/gitlab#8948"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16793600,"iid":8933,"project_id":278964,"title":"Decouple BE-saved sort type and direction for roadmap away from epic list view","description":"Currently, the roadmap view and the epic list view have the following sort types:\n\n- Created date\n- Last updated\n- Start date\n- Due date\n\nIt also has the sort directions.\n\nThe BE-saved sort type and directions are coupled for the epic list view and the roadmap view. That is, if you make a choice in one, it is saved so that you see the same choice when you load the other view.\n\nThe scope of this issue is to decouple the roadmap view BE-saved sort type and direction away from the list view. This is because typically users want different things when they look at the two views. When looking at the list view, they usually want to see the newest created object (Created date). And when they see the roadmap view, they want to see the epics in order of when they start or end.\n\nSo for this issue:\n\n- No changes to the epic list view.\n- For roadmap view, the BE-saved sort type and direction should be independent now. The default should be:\n  - Type: Start date\n  - Direction: Earliest date (closest to negative infinity time) epics come first","state":"closed","created_at":"2018-12-19T15:16:05.232Z","updated_at":"2022-05-19T16:16:15.428Z","closed_at":"2019-01-30T13:12:15.429Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Portfolio Management","Enterprise Edition","backend","depth","devops::plan","epics","workflow::in review"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":590748,"username":"mdelaossa","name":"Mario de la Ossa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/590748/avatar.png","web_url":"https://gitlab.com/mdelaossa"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":1,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8933","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8933","notes":"https://gitlab.com/api/v4/projects/278964/issues/8933/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8933/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8933","relative":"#8933","full":"gitlab-org/gitlab#8933"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16771120,"iid":8923,"project_id":278964,"title":"Geo: Verification of Job artifacts","description":"Data integrity is essential to Geo. If the data is worth replicating, then it's worth verifying.\n\n- [ ] Wait for ~~https://gitlab.com/gitlab-org/gitlab-ee/issues/5591~~ **Edit:** The former issue was modified over time to only cover front-end. This issue actually depends on https://gitlab.com/groups/gitlab-org/-/epics/1817, and maybe https://gitlab.com/gitlab-org/gitlab/issues/8922\n- [ ] Verify Job artifacts as well\n\nRefactor if needed, don't reimplement things.","state":"closed","created_at":"2018-12-18T18:42:34.041Z","updated_at":"2021-11-18T15:41:04.698Z","closed_at":"2021-11-18T15:41:04.677Z","closed_by":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"labels":["Category:Geo Replication","Enterprise Edition","[deprecated] Accepting merge requests","devops::systems","geo::planning","group::geo","section::enablement","type::feature","workflow::validation backlog"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8923","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8923","notes":"https://gitlab.com/api/v4/projects/278964/issues/8923/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8923/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8923","relative":"#8923","full":"gitlab-org/gitlab#8923"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1430,"epic":{"id":8109,"iid":1430,"title":"Geo: Verify all replicated data","url":"/groups/gitlab-org/-/epics/1430","group_id":9970,"human_readable_end_date":"Jan 1, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16771085,"iid":8922,"project_id":278964,"title":"Geo: Verification of LFS objects","description":"Data integrity is essential to Geo. If the data is worth replicating, then it's worth verifying.\n\n- [ ] Wait for attachment reverification to be completed ~~https://gitlab.com/gitlab-org/gitlab-ee/issues/5591~~ **Edit:** The former issue was modified over time to only cover front-end. Now this depends on https://gitlab.com/gitlab-org/gitlab-ee/issues/7257\n- [ ] Automatically verify LFS objects as well\n\nRefactor if needed, don't reimplement things.\n\ncc @harishsr @rnienaber","state":"closed","created_at":"2018-12-18T18:39:45.769Z","updated_at":"2021-11-22T09:24:38.327Z","closed_at":"2021-03-09T15:40:20.236Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Geo Replication","Enterprise Edition","[deprecated] Accepting merge requests","customer+","devops::systems","geo::planning","group::geo","section::enablement","type::feature","workflow::validation backlog"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8922","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8922","notes":"https://gitlab.com/api/v4/projects/278964/issues/8922/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8922/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/323286"},"references":{"short":"#8922","relative":"#8922","full":"gitlab-org/gitlab#8922"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1430,"epic":{"id":8109,"iid":1430,"title":"Geo: Verify all replicated data","url":"/groups/gitlab-org/-/epics/1430","group_id":9970,"human_readable_end_date":"Jan 1, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16770973,"iid":8921,"project_id":278964,"title":"Validate file integrity for Attachments, LFS objects and Job artifacts after transfer to secondary","description":"If data is worth replicating, it is worth being validated.\n\n### Problem to solve\n\nGeo is being used in a case where a node has an internet connection bad enough to corrupt file transfers over HTTP: https://gitlab.zendesk.com/agent/tickets/110423\n\nThis especially impacts Attachments, LFS objects, and Job artifacts since they are never checked at any point. We should ensure that data transferred via HTTP is checked.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\nPersonas can be found at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ --\u003e\n\nUsers are customers where the internet connection is bad enough to corrupt file transfers.\n\n### Further details\n\n\u003c!-- Include use cases, benefits, and/or goals (contributes to our vision?) --\u003e\nN/A\n\n### Proposal\n\n- [-] Generate a checksum at some point (e.g. just before transfer, or store one upon file creation)\n  - [x] Attachments and LFS objects already store checksums upon file creation (in a job if large).\n  - [-] The only artifacts that already have checksums are complete job traces. =\u003e Opened issue to generate artifact checksums: https://gitlab.com/gitlab-org/gitlab-ee/issues/12743\n- [ ] Fail a transfer if the checksum does not match so it will be retried\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)? --\u003e\n\nN/A\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html\nAdd all known Documentation Requirements here, per https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements --\u003e\n\n### Testing\n\n\u003c!-- What risks does this change pose? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing? See the test engineering process for further guidelines: https://about.gitlab.com/handbook/engineering/quality/guidelines/test-engineering/ --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n- Attachments, LFS objects, and job artifacts are checksummed on secondary nodes after transfer, compared with the stored checksum, and rejected if mismatched.\n- Ignore if checksum doesn't exist. (Large uploads are checksummed in a job after creation, and many types of artifacts don't calculate it at all https://gitlab.com/gitlab-org/gitlab-ee/issues/12743)\n\n### What is the type of buyer? \n\n\u003c!-- Which leads to: in which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Links / references\n\n/label ~feature\n","state":"closed","created_at":"2018-12-18T18:31:46.540Z","updated_at":"2019-12-16T14:50:08.833Z","closed_at":"2019-07-12T14:42:44.560Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Category:Geo Replication","Deliverable","Enterprise Edition","customer","devops::systems","direction","group::geo","type::feature","workflow::in review"],"milestone":{"id":693520,"iid":34,"group_id":9970,"title":"12.1","description":"https://about.gitlab.com/releases/2019/07/22/gitlab-12-1-released","state":"closed","created_at":"2018-10-30T16:47:58.826Z","updated_at":"2020-04-27T16:30:09.107Z","due_date":"2019-07-22","start_date":"2019-06-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/34"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":16,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8921","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8921","notes":"https://gitlab.com/api/v4/projects/278964/issues/8921/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8921/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8921","relative":"#8921","full":"gitlab-org/gitlab#8921"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1430,"epic":{"id":8109,"iid":1430,"title":"Geo: Verify all replicated data","url":"/groups/gitlab-org/-/epics/1430","group_id":9970,"human_readable_end_date":"Jan 1, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16770931,"iid":8920,"project_id":278964,"title":"Track how often issues are promoted to epics","description":"- Should likely be done using Snowplow.\n- Log a Snowplow tracking event every time a user promotes an issue to an epic.","state":"closed","created_at":"2018-12-18T18:29:07.235Z","updated_at":"2022-05-19T16:16:15.137Z","closed_at":"2019-04-08T10:00:32.656Z","closed_by":{"id":15139,"username":"rspeicher","name":"Robert Speicher","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73c8253932541a7b5cbc5d79493f2bea?s=80\u0026d=identicon","web_url":"https://gitlab.com/rspeicher"},"labels":["Enterprise Edition","backend","devops::plan","snowplow tracking events","workflow::in review"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":5,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8920","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8920","notes":"https://gitlab.com/api/v4/projects/278964/issues/8920/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8920/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8920","relative":"#8920","full":"gitlab-org/gitlab#8920"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24686636,"iid":25839,"project_id":278964,"title":"No \"merged\" badge when branch is merged via CLI until another commit","description":"### Summary\n\nIf a branch is merged via the UI, the branches page shows a `merged` badge/icon/label immediately. But if the branch is merged externally and then pushed (e.g., via Git CLI), the badge doesn't appear until another commit is made.\n\nDiscovered while working on a test during a gitlab-ce~2278656 tech interview: https://gitlab.com/gitlab-org/gitlab-ce/issues/48529\n\n### Steps to reproduce\n\n1. Create a branch in a project, using Git CLI not GitLab UI.\n1. Push the branch.\n1. Merge the branch into master (still using Git).\n1. Push master.\n1. Check the branches page. It should show a `merged` badge, but it doesn't.\n1. Make another commit to master and push it.\n1. Check the branches page again. Now shows the `merged` badge.\n\n### Example Project\n\nhttps://gitlab.com/mlapierre/merge-test/-/branches\n\n![merge](/uploads/701ee572fb8ed3d0d3b0ce8702d9e236/merge.png).\n\nAll git operations were done via Git CLI. Branch `merge-me` was merged first and then `merge-me-too` was merged, but it doesn't show a `merged` badge.\n\n### What is the current *bug* behavior?\n\nThe branches page doesn't show a `merged` badge even though the branch has been merged.\n\n### What is the expected *correct* behavior?\n\nThe branches page shows a `merged` badge for all merged branches\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n/cc @jramsay @DouweM","state":"closed","created_at":"2018-12-18T17:19:15.023Z","updated_at":"2022-11-28T22:51:07.854Z","closed_at":"2022-11-28T22:51:07.832Z","closed_by":{"id":655908,"username":"mlapierre","name":"Mark Lapierre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/655908/avatar.png","web_url":"https://gitlab.com/mlapierre"},"labels":["Create [DEPRECATED]","SUS::Impacting","UX","[deprecated] Accepting merge requests","devops::create","group::source code","priority::3","repository","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":655908,"username":"mlapierre","name":"Mark Lapierre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/655908/avatar.png","web_url":"https://gitlab.com/mlapierre"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25839","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25839","notes":"https://gitlab.com/api/v4/projects/278964/issues/25839/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25839/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25839","relative":"#25839","full":"gitlab-org/gitlab#25839"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24336942,"iid":14624,"project_id":278964,"title":"Rename 'license_management' job to 'license_scanning' in the vendored template","description":"### Description\n\nWe are renaming License Management to License Compliance (https://gitlab.com/groups/gitlab-org/-/epics/659). \n\nThough CI job generating the report itself has nothing to do with compliance. This is why we are renaming it to `license_scanning`.\n\nWe need to align our vendored template to reflect that renaming.\n\n### Proposal\n\n**This is blocked by https://gitlab.com/gitlab-org/gitlab-ee/issues/8911**\n\n- Add a new `License-Scanning.gitlab-ci.yml` vendored template. Copy content from the existing [License-Management.gitlab-ci.yml](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/lib/gitlab/ci/templates/Security/License-Management.gitlab-ci.yml) but use new naming for job name (`license_scanning`) report type (`artifact:report:license_scanning`), and report filename (`gl-license-scanning-report.json`)\n- Update the existing [License-Management.gitlab-ci.yml](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/lib/gitlab/ci/templates/Security/License-Management.gitlab-ci.yml) with a deprecation notice. We need to keep the old template working until next major release of GitLab (`13.0`).\n\n## Product\n- [ ] Release Post","state":"closed","created_at":"2018-12-18T13:33:05.146Z","updated_at":"2021-03-23T21:56:36.621Z","closed_at":"2020-02-06T13:10:12.713Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","missed-deliverable","missed:12.4","missed:12.5","missed:12.6","missed:12.7","type::feature","workflow::verification"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":25,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/14624","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/14624","notes":"https://gitlab.com/api/v4/projects/278964/issues/14624/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/14624/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#14624","relative":"#14624","full":"gitlab-org/gitlab#14624"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":659,"epic":{"id":2526,"iid":659,"title":"Rename License Management to License Compliance","url":"/groups/gitlab-org/-/epics/659","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16754453,"iid":8908,"project_id":278964,"title":"Deprecate License Management in favor of License Compliance in the release post","description":"We are renaming License Management in License Compliance (https://gitlab.com/groups/gitlab-org/-/epics/659) though the report itself has nothing to do with compliance. This is why we are renaming it to `License Scanning` on the technical side.\n\nWe need to announce the deprecation of any use of License Management (e.g. job names, reports). They will be supported and working as expected until next major %13.0.\n\nList of deprecated items:\n\n- `artifacts:reports:license_management` report type\n- `License-Management.gitlab-ci.yml` vendored template\n\n\nRelease Post MR - https://gitlab.com/gitlab-com/www-gitlab-com/-/merge_requests/41157/diffs","state":"closed","created_at":"2018-12-18T13:23:23.066Z","updated_at":"2020-02-20T18:53:53.232Z","closed_at":"2020-02-20T18:53:53.185Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","backend","deprecation","devops::secure","group::composition analysis","missed-deliverable","missed:12.4","missed:12.5","release post item","type::feature","workflow::ready for development"],"milestone":{"id":1001915,"iid":43,"group_id":9970,"title":"12.8","description":"https://about.gitlab.com/releases/2020/02/22/gitlab-12-8-released","state":"closed","created_at":"2019-09-15T20:53:58.792Z","updated_at":"2020-05-19T14:23:44.837Z","due_date":"2020-02-17","start_date":"2020-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/43"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"}],"author":{"id":1273957,"username":"bikebilly","name":"Fabio Busatto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1273957/avatar.png","web_url":"https://gitlab.com/bikebilly"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8908","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8908","notes":"https://gitlab.com/api/v4/projects/278964/issues/8908/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8908/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8908","relative":"#8908","full":"gitlab-org/gitlab#8908"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":659,"epic":{"id":2526,"iid":659,"title":"Rename License Management to License Compliance","url":"/groups/gitlab-org/-/epics/659","group_id":9970,"human_readable_end_date":"Aug 17, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24686612,"iid":25827,"project_id":278964,"title":"Image commenting with 'Start a review' not working?","description":"Adding a comment against an image using the 'Start a review' button does not seem to work?\n\n![screencast_2018-12-18_11-14-32](/uploads/340a0652c3d6064710aa5104bc62aa58/screencast_2018-12-18_11-14-32.mp4)","state":"closed","created_at":"2018-12-18T00:32:31.212Z","updated_at":"2022-01-13T08:13:39.510Z","closed_at":"2022-01-12T15:51:20.204Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["UX","[deprecated] Accepting merge requests","devops::create","frontend","group::code review","missed-SLO","priority::3","section::dev","severity::3","type::bug","vintage"],"milestone":null,"assignees":[],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25827","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25827","notes":"https://gitlab.com/api/v4/projects/278964/issues/25827/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25827/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25827","relative":"#25827","full":"gitlab-org/gitlab#25827"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16733296,"iid":8903,"project_id":278964,"title":"Ensure Geo selective sync consistently handles both git pull and push to unselected projects","description":"### Verify whether there is inconsistent behavior\n\n1. Setup Geo with selective sync\n1. `git fetch` an unselected project from a secondary (fails?)\n1. `git push` to an unselected project on a secondary (succeeds because it proxies to primary?)\n\n### Resolve inconsistency\n\nThe first fix that comes to mind is checking selected projects on the secondary before proxying pushes. But that sounds inefficient, and is it unnecessary? How did the user get into this situation anyway? Did they clone from the primary and then add the secondary remote later? If so, why not proxy pushes to the primary?\n\nMaybe the real fix is to proxy fetches to the primary when the project doesn't exist on the secondary?\n\ncc @ashmckenzie","state":"closed","created_at":"2018-12-17T21:28:04.314Z","updated_at":"2019-12-11T20:04:22.039Z","closed_at":"2019-03-27T17:08:50.016Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","Geo Administration","[deprecated] Accepting merge requests","devops::systems","group::geo","priority::4","severity::4","type::bug","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8903","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8903","notes":"https://gitlab.com/api/v4/projects/278964/issues/8903/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8903/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8903","relative":"#8903","full":"gitlab-org/gitlab#8903"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":576,"epic":{"id":2208,"iid":576,"title":"Geo: Selective Sync Enhancements","url":"/groups/gitlab-org/-/epics/576","group_id":9970,"human_readable_end_date":"Aug 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24686609,"iid":25825,"project_id":278964,"title":"Possible DoS when requesting profile events, limit parameter is NOT checked for an upper bound","description":"**[HackerOne report #463010](https://hackerone.com/reports/463010)** by brandonnnn on 2018-12-14:\n\n**Summary:**\n\nSending a GET request to a profile activity page (https://gitlab.com/PROFILENAME?limit=X) seems to have no upper bound, and appears to be an expensive operation.\n\n**Description:**\n\nThe standard 10 limit which you call when visiting a profile took 700ms and was 19.52KB.\nWhen testing with 100 limit, it took 2,287ms and was 190.62KB.\nI only tested up to 1000 limit, which took 11,599ms, and returned an incomplete JSON payload of 1.76MB.\n\nSome simple extrapolation would mean a request with a 50,000 activity limit would take roughly 9 minutes and return a ~93MB payload (if it managed to finish at all, which it seems like it wouldn't).\n\n## Steps To Reproduce:\n\n  1. Use curl to request the profile activity (I chose a user with \u0026gt;10k commits): [REDACTED]\n  2. Wait for the operation to return an incomplete JSON payload \n\n\n## Supporting Material/References:\n\n  * [Screenshot of developer console sending requests][REDACTED]\n\n## Impact\n\nDenial of Service","state":"closed","created_at":"2018-12-17T20:21:49.414Z","updated_at":"2022-07-06T15:03:39.897Z","closed_at":"2020-09-03T06:51:28.661Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Application Limits","Deliverable","HackerOne","api","backend","devops::create","estimation::completed","group::source code","priority::3","section::dev","security","severity::3","workflow::verification"],"milestone":{"id":1233753,"iid":51,"group_id":9970,"title":"13.4","description":"https://about.gitlab.com/releases/2020/09/22/gitlab-13-4-released/","state":"closed","created_at":"2020-04-09T17:39:21.662Z","updated_at":"2022-04-13T14:50:33.769Z","due_date":"2020-09-17","start_date":"2020-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/51"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25825","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25825","notes":"https://gitlab.com/api/v4/projects/278964/issues/25825/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25825/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25825","relative":"#25825","full":"gitlab-org/gitlab#25825"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1748,"epic":{"id":10725,"iid":1748,"title":"Application limits: Manage","url":"/groups/gitlab-org/-/epics/1748","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16731319,"iid":8902,"project_id":278964,"title":"As a GitLab instance admin, you can set up Jira development panel integration of all groups","description":"## Description\n- As a GitLab instance admin, you can set up Jira development panel integration of all groups, including the case if you are not a member of one of those groups.\n- That is, Jira development panel integration (in particular, able to see all GitLab repos via the dev panel in Jira) is possible for all these cases.\n\n## Original description\n\u003cdetails\u003e\n### Summary\n\nWhen setting up the JIRA DVCS integration as the `root` user in GitLab, you are unable to access projects for a group that the `root` user is not a member of. The DVCS account is created in JIRA, but no projects will be added.\n\n### Steps to reproduce\n\n1. Create group that the `root` user is not a member of.\n2. Set up JIRA DVCS integration, authorizing as the `root` user in GitLab\n3. In JIRA, set up DVCS account for group that `root` is not a member of.\n\n### What is the current *bug* behavior?\n\nUnable to access GitLab repositories in JIRA when `root` is not a member of the group.\n\n### What is the expected *correct* behavior?\n\nAll projects should be added in JIRA for a group the `root` user is not a member of.\n\nCustomer ticket: https://gitlab.zendesk.com/agent/tickets/110163 (internal use)\nI was able to reproduce this on my test instance. Once I added the `root` user to the group, I was able to update the DVCS account in JIRA and see the projects.\n\n\n/cc @victorwu\n\u003c/details\u003e","state":"closed","created_at":"2018-12-17T20:05:19.219Z","updated_at":"2022-05-19T16:16:14.475Z","closed_at":"2019-04-03T13:31:12.943Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Enterprise Edition","Integration::Jira","backend","customer","devops::plan","type::feature"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":1625112,"username":"abuerer1","name":"Aric Buerer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1625112/avatar.png","web_url":"https://gitlab.com/abuerer1"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":16,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8902","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8902","notes":"https://gitlab.com/api/v4/projects/278964/issues/8902/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8902/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8902","relative":"#8902","full":"gitlab-org/gitlab#8902"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16721350,"iid":8893,"project_id":278964,"title":"Persist Group Level Security Dashboard filters in URL","description":"Right now, if I cannot share the security dashboard in a specific state, because the filters are not persisted in the URL. This Issue is for adding persistence to the filters added with https://gitlab.com/gitlab-org/gitlab-ee/issues/6240, so that one can share/bookmark a certain config for the dashboard.\n\nPersistence is of the format:\n\n`?report_type=sast\u0026severity=medium\u0026severity=high\u0026project_id=10\u0026project_id=15`\n\n/cc @plafoucriere @bikebilly","state":"closed","created_at":"2018-12-17T13:30:37.012Z","updated_at":"2019-11-18T15:58:29.746Z","closed_at":"2019-02-08T10:12:28.128Z","closed_by":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"labels":["Deliverable","Enterprise Edition","devops::secure","frontend","security dashboard","type::feature"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"}],"author":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"type":"ISSUE","assignee":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8893","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8893","notes":"https://gitlab.com/api/v4/projects/278964/issues/8893/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8893/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8893","relative":"#8893","full":"gitlab-org/gitlab#8893"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":275,"epic":{"id":566,"iid":275,"title":"Security Dashboard improvements","url":"/groups/gitlab-org/-/epics/275","group_id":9970,"human_readable_end_date":"Dec 17, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16721264,"iid":8892,"project_id":278964,"title":"Vulnerabilities with long titles overflow in Group level security dashboard","description":"See:\n![Screenshot_2018-12-17_at_14.06.53](/uploads/0ddd92024ac5d78457bfe888d01716fa/Screenshot_2018-12-17_at_14.06.53.png)\n\nand once you add wrapping, the alignment is completely off:\n\n![Screenshot_2018-12-17_at_14.10.35](/uploads/c662e30ad6dbbba4976d6873114f410e/Screenshot_2018-12-17_at_14.10.35.png)\n\n/cc @samdbeckham @bikebilly","state":"closed","created_at":"2018-12-17T13:26:45.944Z","updated_at":"2019-11-18T15:58:29.717Z","closed_at":"2019-02-05T19:31:14.621Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Deliverable","Enterprise Edition","UI polish","devops::secure","frontend","priority::4","security dashboard","severity::4","type::bug","workflow::in review"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},{"id":2338871,"username":"andyvolpe","name":"Andy Volpe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2338871/avatar.png","web_url":"https://gitlab.com/andyvolpe"}],"author":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"type":"ISSUE","assignee":{"id":181229,"username":"leipert","name":"Lukas 'Eipi' Eipert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/19a1f1260fa70323f35bc508927921a2?s=80\u0026d=identicon","web_url":"https://gitlab.com/leipert"},"user_notes_count":6,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8892","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8892","notes":"https://gitlab.com/api/v4/projects/278964/issues/8892/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8892/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8892","relative":"#8892","full":"gitlab-org/gitlab#8892"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24686539,"iid":25802,"project_id":278964,"title":"Creating a user returns \"password, reset_password are missing, at least one parameter must be provided\" for an LDAP authenticated user","description":"### Summary\n\nCalling [POST /users](https://docs.gitlab.com/ee/api/users.html#user-creation) will return `password, reset_password are missing, at least one parameter must be provided` even though an external user ID and provider have been specified in the function parameters.\n\nThis should not happen for a user with an external authentication provider (in my case LDAP) as the password storage is handled by LDAP and not Gitlab.\n\n*This is important for an external user raking task to be possible in order to assign users projects etc prior to their first self sign in.*\n\n### Steps to reproduce\n\nCall [POST /users](https://docs.gitlab.com/ee/api/users.html#user-creation) specifying with the following parameter keys:\n\n* email\n* password: `null`, or don't define\n* reset_password: `false`, or don't define\n* username: User's LDAP UID\n* name\n* extern_uid: User's LDAP DN\n* provider: LDAP instance name as per your Gitlab configuration\n* skip_confirmation: `true`\n\n### What is the current *bug* behavior?\n\nThe API function returns `password, reset_password are missing, at least one parameter must be provided`.\n\nIf you define `reset_password` as `false` in the parameters then the API function instead returns `\"password\" can't be blank`.\n\n### What is the expected *correct* behavior?\n\nUser should be created successfully without a password or the requirement to reset their password so the user can authenticate using their LDAP credentials in the same way they can do so when signing in for the first time.\n\n#### Results of GitLab environment info\n\n```\nSystem information\nSystem:         Debian 9.6\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.4.5p335\nGem Version:    2.7.6\nBundler Version:1.16.6\nRake Version:   12.3.1\nRedis Version:  3.2.12\nGit Version:    2.18.1\nSidekiq Version:5.2.1\nGo Version:     unknown\n\nGitLab information\nVersion:        11.5.4\nRevision:       315df49\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     postgresql\nURL:            private\nHTTP Clone URL: private\nSSH Clone URL:  private\nUsing LDAP:     yes\nUsing Omniauth: yes\nOmniauth Providers:\n\nGitLab Shell\nVersion:        8.4.1\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nHooks:          /opt/gitlab/embedded/service/gitlab-shell/hooks\nGit:            /opt/gitlab/embedded/bin/git\n```\n\n#### Results of GitLab application Check\n\n```\nChecking GitLab Shell ...\n\nGitLab Shell version \u003e= 8.4.1 ? ... OK (8.4.1)\nhooks directories in repos are links: ... can't check, you have no projects\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nCheck GitLab API access: OK\nRedis available via internal API: OK\n\nAccess to /var/opt/gitlab/.ssh/authorized_keys: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\ndefault ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nRunning? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nReply by email is disabled in config/gitlab.yml\nChecking LDAP ...\n\nServer: ldapmain\nLDAP authentication... Success\nLDAP users with access to your GitLab server (only showing the first 100 results)\n        private, but a valid list of user DNs shows up with their correct UIDs\n\nChecking LDAP ... Finished\n\nChecking GitLab ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ... can't check, you have no projects\nRedis version \u003e= 2.8.0? ... yes\nRuby version \u003e= 2.3.5 ? ... yes (2.4.5)\nGit version \u003e= 2.9.5 ? ... yes (2.18.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 3\n\nChecking GitLab ... Finished\n```","state":"closed","created_at":"2018-12-16T15:12:26.484Z","updated_at":"2021-04-14T13:49:55.162Z","closed_at":"2021-04-14T13:49:55.073Z","closed_by":{"id":5709669,"username":"mushakov","name":"Melissa Ushakov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709669/avatar.png","web_url":"https://gitlab.com/mushakov"},"labels":["Category:User Management","api","devops::manage","group::authentication and authorization","section::dev","severity::3","type::bug","user creation","workflow::in dev"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"}],"author":{"id":3283517,"username":"adambean","name":"Adam Reece","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6b2733a0a39bc00eb9a0278c6e726a88?s=80\u0026d=identicon","web_url":"https://gitlab.com/adambean"},"type":"ISSUE","assignee":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"user_notes_count":11,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25802","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25802","notes":"https://gitlab.com/api/v4/projects/278964/issues/25802/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25802/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25802","relative":"#25802","full":"gitlab-org/gitlab#25802"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24686503,"iid":25788,"project_id":278964,"title":"Follow modal guidelines in issues CSV import and export","description":"\u003cdetails\u003e\n![Screen_Shot_2018-12-14_at_12.52.27](/uploads/8221b93ed08b235a17aaaf3f2873f5cd/Screen_Shot_2018-12-14_at_12.52.27.png)\n\nSee discussion starting in https://gitlab.com/gitlab-org/gitlab-ce/issues/49231#note_125081520.\n\u003c/details\u003e\n\n### Updated description\nThe modals were updated in a separate issue to address original description styling concerns, but still do not contain the \"Cancel\" button. This issue is now just to include that.\n\n### Changes\n\n- Use pajamas modal -- https://design.gitlab.com/components/modal.\n- The action area/footer should include a \"Cancel\" button placed next to and on the left of the \"Export issues\" button.","state":"closed","created_at":"2018-12-14T17:53:49.302Z","updated_at":"2022-09-01T10:06:11.704Z","closed_at":"2022-06-02T08:43:55.392Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["SUS::Impacting","UI polish","UX","UX debt","[deprecated] Accepting merge requests","devops::plan","frontend","group::project management","issues","missed-deliverable","missed:12.4","missed:12.7","priority::3","section::dev","severity::4","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25788","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25788","notes":"https://gitlab.com/api/v4/projects/278964/issues/25788/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25788/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25788","relative":"#25788","full":"gitlab-org/gitlab#25788"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2458,"epic":{"id":18042,"iid":2458,"title":"Plan - UX Deficiencies","url":"/groups/gitlab-org/-/epics/2458","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16661698,"iid":8855,"project_id":278964,"title":"Use gitlab-ui dropdown components for issue board switcher","description":"This is a follow-up of https://gitlab.com/gitlab-org/gitlab-ee/issues/7715. We should switch to the gitlab-ui dropdown components (https://gitlab.com/gitlab-org/gitlab-ui/merge_requests/83) after they have been merged. This adds\n\n- `switch board` header to the dropdown as in the design of https://gitlab.com/gitlab-org/gitlab-ee/issues/7715\n- keyboard navigation\n- fixes https://gitlab.com/gitlab-org/gitlab-ce/issues/47721\n- reduces complexity of the board switcher component","state":"closed","created_at":"2018-12-14T13:04:57.788Z","updated_at":"2022-05-19T16:16:13.210Z","closed_at":"2019-01-25T09:01:42.496Z","closed_by":{"id":1149402,"username":"timzallmann","name":"Tim Zallmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1149402/avatar.png","web_url":"https://gitlab.com/timzallmann"},"labels":["Category:Team Planning","Deliverable","Enterprise Edition","boards","devops::plan","frontend","maintenance::refactor"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"}],"author":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"type":"ISSUE","assignee":{"id":1212235,"username":"winh","name":"Inactive Account","state":"active","avatar_url":"https://secure.gravatar.com/avatar/e34b010c96ff3f44c62cddf66607232a?s=80\u0026d=identicon","web_url":"https://gitlab.com/winh"},"user_notes_count":4,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8855","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8855","notes":"https://gitlab.com/api/v4/projects/278964/issues/8855/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8855/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8855","relative":"#8855","full":"gitlab-org/gitlab#8855"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16636539,"iid":8845,"project_id":278964,"title":"View ancestor line in epic sidebar","description":"### Current\n- An issue can have a parent epic.\n- An epic can have a parent epic.\n\n### Design\n- So given an epic, view your ancestor line in the sidebar.\n- For the first iteration, _only_ the epic sidebar should have this tree. The issue sidebar should continue to show just the immediate parent, as it is (https://gitlab.com/gitlab-org/ux-research/issues/134 and https://gitlab.com/gitlab-org/growth/issues/63 will aim to decrease the number of components in the issue sidebar)\n\n| header | header |\n| ------ | ------ |\n| ![Screen_Shot_2019-02-25_at_2.38.47_PM](https://gitlab.com/gitlab-org/gitlab/uploads/93c95526e8e4bbf60360007be55a236c/Screen_Shot_2019-02-25_at_2.38.47_PM.png) | ![Screen_Shot_2019-02-25_at_2.37.49_PM](https://gitlab.com/gitlab-org/gitlab/uploads/c5a14c6ae0b815a39ee0308cf985b073/Screen_Shot_2019-02-25_at_2.37.49_PM.png) |\n\n\n\n\n* Position in sidebar- this section will replace `Parent epic`, so the order in the sidebar should be (top to bottom): `Todo`, `Start date`, `Due date`, `Labels`, `Ancestors`, `Participants`, `Notifications`\n* Icons are `Open` and `Closed`\n* Icons should be filled `#1f78d1`(`$blue-500`) if the issue/epic is closed, and `#1aaa55` (`$green-500`) if the issue/epic is open\n* Each ancestor has `16px` margin between them\n* Connecting lines are `#a7a7a7` (`$gray-500`)\n* Recommendation- add the connecting lines as one solid line, like we do for the discussion/system notes connecting lines, rather than using pseudo-elements\n\n\n\u003cdetails\u003e\n\u003csummary\u003eEnd goal (when we have sub-issues and updated icons\u003c/summary\u003e\n|  |  |\n| ------ | ------ |\n| ![Screen_Shot_2019-02-14_at_10.47.34_AM](/uploads/700531202bfd117eb5cce532a948cfe5/Screen_Shot_2019-02-14_at_10.47.34_AM.png) | ![Screen_Shot_2019-02-14_at_10.47.09_AM](/uploads/bc290111327e28cd2f915ca305590733/Screen_Shot_2019-02-14_at_10.47.09_AM.png) |\n\n\u003c/details\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2018-12-13T15:51:49.764Z","updated_at":"2022-05-19T16:16:12.427Z","closed_at":"2019-03-07T15:09:29.962Z","closed_by":{"id":87854,"username":"DouweM","name":"Douwe Maan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/73d1548ae618321220679b3a4fda7fb1?s=80\u0026d=identicon","web_url":"https://gitlab.com/DouweM"},"labels":["Category:Portfolio Management","Enterprise Edition","GitLab Ultimate","backend","devops::plan","direction","epics","frontend"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":28,"merge_requests_count":1,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8845","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8845","notes":"https://gitlab.com/api/v4/projects/278964/issues/8845/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8845/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8845","relative":"#8845","full":"gitlab-org/gitlab#8845"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":758,"epic":{"id":3390,"iid":758,"title":"Child epics basic structure","url":"/groups/gitlab-org/-/epics/758","group_id":9970,"human_readable_end_date":"Jun 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16634073,"iid":8844,"project_id":278964,"title":"`Commands applied` feedback should be applied after promote quick action is executed","description":"When you do a move quick action (or any other quick action), there is a `Commands applied` feedback.\n\n![Screen_Shot_2018-12-13_at_09.21.31](/uploads/5023be29ec10a7ec583bcb864f00df94/Screen_Shot_2018-12-13_at_09.21.31.png)\n\nBut this isn't available for the new promote quick action. We should add it for consistency.\n\n![2018-12-13_09.23.53](/uploads/f6ef1cb5458dfa9cdd80f1f9b28e3188/2018-12-13_09.23.53.gif)","state":"closed","created_at":"2018-12-13T14:27:00.470Z","updated_at":"2022-05-19T16:16:12.251Z","closed_at":"2019-03-04T09:21:42.956Z","closed_by":{"id":443319,"username":"smcgivern","name":"Sean McGivern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/443319/avatar.png","web_url":"https://gitlab.com/smcgivern"},"labels":["Enterprise Edition","backend","devops::plan","priority::2","severity::4","type::bug","workflow::in review"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":711023,"username":"victorwu","name":"Victor Wu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/711023/avatar.png","web_url":"https://gitlab.com/victorwu"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":12,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8844","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8844","notes":"https://gitlab.com/api/v4/projects/278964/issues/8844/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8844/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8844","relative":"#8844","full":"gitlab-org/gitlab#8844"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24686355,"iid":25751,"project_id":278964,"title":"Add \u003ca href=\u003e into our name and bypass \"//\" being used in URL to create a valid URL + custom image on snippets","description":"**[HackerOne report #460224](https://hackerone.com/reports/460224)** by zseano on 2018-12-11:\n\n**Summary:** For some reason GitLab allow for certain HTML tags in our name which renders when we visit a snippet. Using this we can actually trick the user into visiting our URL when they click our username. \n\n**Description:** When setting your name, using \u0026lt;a href=x\u0026gt; will render a valid link, except using \u0026lt;a href=https://www.evilsite.com/\u0026gt;hi\u0026lt;/a\u0026gt; will not work. However if we use \u0026lt;a href=https:\\\\evilsite.com\u0026gt;notsean\u0026lt;/a\u0026gt;, it allows it through and we get this result. The use of ``\\`` is important since ``/`` is filtered.\n\n![gitlab-href.png](https://h1.sec.gitlab.net/a/460224/388533/gitlab-href.png)\n\nIf a user is to click onto my name to visit my profile, they will actually be redirected to my site instead. To see it in action, visit ``https://gitlab.com/snippets/1788795`` and check out my comment from my account @notsean, hover over my profile and you'll see it redirects to evilsite.com\n\nWe can then be a bit more clever and add an image icon, add the \"title\" attribute, and we can build a perfect phisher to either harvest their credentials, OR redirect to a GitLab Oauth application and gain access via that (users are more likely to just click ALLOW, especially if they think they will get some VIP upgrade.. :D)\n\n## Steps To Reproduce:\n\n(Add details for how we can reproduce the issue)\n\n  1. Visit your GitLab account settings and set your name to ``\u0026lt;a href=http:\\\\evilsite.com\u0026gt;notsean \u0026lt;img src=\"https:\\\\www.bugbountynotes.com\\assets\\img\\vip.png\" title=\"VIP User\"\u0026gt;\u0026lt;/a\u0026gt;``  - Replace notsean with your username to look real.\n  2. Go comment on a snippet and people will see a 'VIP' badge next to your name, hover over it will show 'VIP User', and clicking it will redirect to our site. The perfect scenario for an attacker! :)\n\n![gitlab-bugg.png](https://h1.sec.gitlab.net/a/460224/388543/gitlab-bugg.png)\n\n## Impact\n\nAdd custom HTML to our name and trick user into handing over their credentials or giving us access to their gitlab account via a rogue application designed to look like it will get them a \"VIP\" upgrade (this is jsut an example)\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [gitlab-bugg.png](https://h1.sec.gitlab.net/a/460224/388543/gitlab-bugg.png)\n* [gitlab-href.png](https://h1.sec.gitlab.net/a/460224/388533/gitlab-href.png)\n\n---\n\n## Testing Activity \n@fjsanpedro \n* Test that the user name is rendering the html name but as text and not as html\n\n## Security Testing Activity\n@vij \n* Test that names are rendered safely\n\n\n## MR Breakdown\n@fjsanpedro \n* In https://gitlab.com/gitlab-org/gitlab/blob/master/app/views/shared/notes/_note.html.haml#L35 we call the method `sanitize` to clean the user name. Nevertheless, that method ends up calling `html_safe`. Therefore, if the `a` attribute is allowed, the user name will be rendered as html.\n\nWe can easily fix by replacing the method `sanitize` with `simple_sanitize`. Nevertheless, this method removes all html tags from the name. To be compliant with other parts of the platform, we shouldn't do this. In other features, we just render the user name without removing any data, just showing it as text instead of as HTML.\n\n* The fix will pass by removing the call to `sanitize` in that line, and just show the user name directly as text.\n\n@vij \n* The rendering of the user's name can be modified to not call html_safe, which will fix the rendering of any existing malicious user names","state":"closed","created_at":"2018-12-13T00:04:51.196Z","updated_at":"2021-02-01T21:30:24.626Z","closed_at":"2020-06-30T07:31:14.805Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Category:Authentication and Authorization","Category:Snippets","Deliverable","HackerOne","Manage [DEPRECATED]","backend","devops::manage","group::editor","priority::3","sec-planning::complete","security","severity::3","workflow::verification"],"milestone":{"id":1233746,"iid":49,"group_id":9970,"title":"13.2","description":"https://about.gitlab.com/releases/2020/07/22/gitlab-13-2-released/","state":"closed","created_at":"2020-04-09T17:28:01.032Z","updated_at":"2022-04-13T14:48:24.167Z","due_date":"2020-07-17","start_date":"2020-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/49"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-02-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25751","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25751","notes":"https://gitlab.com/api/v4/projects/278964/issues/25751/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25751/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25751","relative":"#25751","full":"gitlab-org/gitlab#25751"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1322,"epic":{"id":7382,"iid":1322,"title":"Security: Confidential S2/S3","url":"/groups/gitlab-org/-/epics/1322","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":24686332,"iid":25746,"project_id":278964,"title":"Error 500 viewing diffs.json","description":"Can be seen in https://gitlab.com/gitlab-org/gitlab-ce/merge_requests/14543/diffs.json.\n\nhttps://sentry.gitlab.net/gitlab/gitlabcom/issues/589058/\n\n```\nNoMethodError: undefined method `[]' for nil:NilClass\n  commit.rb:79:in `truncate_sha'\n    sha[0..MIN_SHA_LENGTH]\n  git_helper.rb:9:in `short_sha'\n    Commit.truncate_sha(text)\n  merge_request_diff_entity.rb:24:in `block in \u003cclass:MergeRequestDiffEntity\u003e'\n    short_sha(merge_request_diff.head_commit_sha)\n  grape_entity/entity.rb:494:in `instance_exec'\n    instance_exec(object, \u0026block)\n  grape_entity/entity.rb:494:in `exec_with_object'\n    instance_exec(object, \u0026block)\n...\n(172 additional frame(s) were not displayed)\n\nNoMethodError: undefined method `[]' for nil:NilClass\n```","state":"closed","created_at":"2018-12-12T22:25:37.104Z","updated_at":"2019-11-18T07:12:18.616Z","closed_at":"2019-11-13T08:51:26.829Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Deliverable","backend","customer","devops::create","diff","group::source code","missed-SLO","priority::2","regression","regression:11.6","repository","severity::2","type::bug"],"milestone":{"id":891796,"iid":39,"group_id":9970,"title":"12.5","description":"https://about.gitlab.com/releases/2019/11/22/gitlab-12-5-released","state":"closed","created_at":"2019-05-31T08:38:03.087Z","updated_at":"2020-04-27T16:27:03.474Z","due_date":"2019-11-17","start_date":"2019-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/39"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25746","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25746","notes":"https://gitlab.com/api/v4/projects/278964/issues/25746/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25746/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25746","relative":"#25746","full":"gitlab-org/gitlab#25746"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16612611,"iid":8831,"project_id":278964,"title":"Show plan of parent group on subgroup details page","description":"### Problem to solve\n\nCurrently when viewing details of a subgroup the viewer is unaware of the parent group's GitLab plan (subscription). For GitLab admins this is especially inconvenient because we need to know what plan an account is on when troubleshooting issues.\n\n\n### Proposal\n\nIt would be great if the parent group's plan was displayed (maybe in parenthesis) on the subgroup details page.\n![Screen_Shot_2018-12-12_at_2.13.15_PM](/uploads/7623f6206d0907f01fb7c952ea70da69/Screen_Shot_2018-12-12_at_2.13.15_PM.png)\n\n![Screen_Shot_2018-12-12_at_2.13.38_PM](/uploads/6a255cf37ba439606f02f0d07035bfd3/Screen_Shot_2018-12-12_at_2.13.38_PM.png)","state":"closed","created_at":"2018-12-12T19:21:05.878Z","updated_at":"2021-07-16T21:18:41.545Z","closed_at":"2019-11-25T10:53:05.450Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Enterprise Edition","Support Priority","admin dashboard","devops::fulfillment","frontend","group::purchase","internal customer","priority::4","section::fulfillment","workflow::in review"],"milestone":{"id":891797,"iid":40,"group_id":9970,"title":"12.6","description":"https://about.gitlab.com/releases/2019/12/22/gitlab-12-6-released","state":"closed","created_at":"2019-05-31T08:38:03.539Z","updated_at":"2020-04-27T16:27:13.329Z","due_date":"2019-12-17","start_date":"2019-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/40"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":8,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8831","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8831","notes":"https://gitlab.com/api/v4/projects/278964/issues/8831/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8831/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8831","relative":"#8831","full":"gitlab-org/gitlab#8831"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":645,"epic":{"id":2460,"iid":645,"title":"Admin Dashboard Improvements for GitLab.com management","url":"/groups/gitlab-org/-/epics/645","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16607177,"iid":8827,"project_id":278964,"title":"Geo - Gitlab::Geo should not serialize ActiveRecord objects","description":"`Gitlab::Geo` in `lib/gitlab/geo.rb` caches a number of ActiveRecord objects but we should avoid putting binary ActiveRecord objects in the cache. We should instead store a JSON representation of the ActiveRecord objects to the cache and parses the cached value back when requested.","state":"closed","created_at":"2018-12-12T16:16:41.229Z","updated_at":"2019-12-11T20:04:23.369Z","closed_at":"2018-12-18T22:37:25.917Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Enterprise Edition","Geo Administration","devops::systems","group::geo","maintenance::refactor","workflow::in review"],"milestone":{"id":581385,"iid":22,"group_id":9970,"title":"11.7","description":"","state":"closed","created_at":"2018-06-26T15:14:47.054Z","updated_at":"2019-02-07T18:12:10.925Z","due_date":"2019-01-22","start_date":"2018-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/22"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":0,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8827","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8827","notes":"https://gitlab.com/api/v4/projects/278964/issues/8827/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8827/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8827","relative":"#8827","full":"gitlab-org/gitlab#8827"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24686258,"iid":25730,"project_id":278964,"title":"Render suggested changes in draft merge request review notes","description":"Currently that's how ``` suggestions will appear like in Draft notes (batch review):\n\n![Screen_Shot_2018-12-12_at_13.17.01](/uploads/5b74920ce263d79804871bb8c373d336/Screen_Shot_2018-12-12_at_13.17.01.png)\n\nThat happens because Draft Notes is different from Diff Notes on the backend (separate tables).\n\nToday, the `suggestions` table saves the `note_id`, which always stores the DiffNote record. Ideally, we should also be able to save the `draft_note_id`. Unless there's an alternative to that.","state":"closed","created_at":"2018-12-12T14:56:38.274Z","updated_at":"2021-05-17T02:08:13.665Z","closed_at":"2021-05-17T02:08:13.649Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Code Review Workflow","Create [DEPRECATED]","[deprecated] Accepting merge requests","auto closed","backend","devops::create","frontend","frontend-weight::3","group::code review","merge requests","missed-deliverable","missed:11.10","priority::3","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25730","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25730","notes":"https://gitlab.com/api/v4/projects/278964/issues/25730/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25730/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25730","relative":"#25730","full":"gitlab-org/gitlab#25730"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16604742,"iid":8823,"project_id":278964,"title":"Render suggested changes in draft merge request review notes","description":"Currently that's how ``` suggestions will appear like in Draft notes (batch review):\n\n![Screen_Shot_2018-12-12_at_13.17.01](/uploads/6c27a168ebbe5ec417a4b845d4e013ea/Screen_Shot_2018-12-12_at_13.17.01.png)\n\nThat happens because Draft Notes is different from Diff Notes on the backend (separate tables).\n\nToday, the `suggestions` table saves the `note_id`, which always stores the DiffNote record. Ideally, we should also be able to save the `draft_note_id`. Unless there's an alternative to that.","state":"closed","created_at":"2018-12-12T14:56:38.274Z","updated_at":"2020-12-07T16:52:13.826Z","closed_at":"2019-08-05T21:11:16.152Z","closed_by":{"id":1187333,"username":"jramsay-gitlab","name":"James Ramsay (ex-GitLab)","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1187333/avatar.png","web_url":"https://gitlab.com/jramsay-gitlab"},"labels":["Category:Code Review Workflow","Create [DEPRECATED]","Enterprise Edition","[deprecated] Accepting merge requests","backend","devops::create","frontend","group::code review","merge requests","missed-deliverable","missed:11.10","priority::3","severity::3","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":11493,"username":"oswaldo","name":"Oswaldo Ferreira","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11493/avatar.png","web_url":"https://gitlab.com/oswaldo"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8823","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8823","notes":"https://gitlab.com/api/v4/projects/278964/issues/8823/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8823/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8823","relative":"#8823","full":"gitlab-org/gitlab#8823"},"severity":"UNKNOWN","moved_to_id":23521434,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24686211,"iid":25719,"project_id":278964,"title":"`Environments` tracks the wrong deployment","description":"Our gitlab gitlab-ce~8080482 tab is tracking the wrong deployment.\n\nHere is our jobs page. you can see that our version 2.44.0 was run after version 2.43.0 - but for some reason the build number is higher:\n\n![Release_Bug_1](/uploads/431977f3e1d741c8a5b0fb1cd18cbc3c/Release_Bug_1.png)\n\nSo when we go to our gitlab-ce~8080482 page it shows that the latest release ise 2.43.0 not 2.44.0!\n\n![Releases2](/uploads/954586940609435bee1c345df8456e1e/Releases2.png)\n\nSurely the environments tab should be sorted by the order the job finished in? Not the sequential job number?\n\n### Proposal\n\nSort jobs inside environment by \"Deployed at\"","state":"closed","created_at":"2018-12-11T16:13:51.538Z","updated_at":"2021-05-20T16:28:48.165Z","closed_at":"2021-05-20T16:28:48.146Z","closed_by":{"id":8059235,"username":"dfosco","name":"Daniel Fosco","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8059235/avatar.png","web_url":"https://gitlab.com/dfosco"},"labels":["Category:Release Orchestration","[deprecated] Accepting merge requests","awaiting feedback","cicd::active","deploy","devops::release","environments","group::release","section::ops","support request","type::feature","usability","workflow::scheduling"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":216833,"username":"gaff","name":"Matthew","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81d4eada46fc4977440ccb33d96bec89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gaff"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25719","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25719","notes":"https://gitlab.com/api/v4/projects/278964/issues/25719/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25719/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25719","relative":"#25719","full":"gitlab-org/gitlab#25719"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3294,"epic":{"id":53415,"iid":3294,"title":"Environments: Bugs to Fix","url":"/groups/gitlab-org/-/epics/3294","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16554680,"iid":8800,"project_id":278964,"title":"Users can see Security report of public projects","description":"\u003cp\u003e\n\u003cdetails\u003e\n\u003csummary\u003eIssue as reported from HackerOne\u003c/summary\u003e\n**[HackerOne report #459034](https://hackerone.com/reports/459034)** by ashish_r_padelkar on 2018-12-08:\n\n**Summary:** \nHello,\n\nAs per documentation here `https://gitlab.com/help/user/permissions`, `Guest` and `Reporters` are not allowed to see project `Security Dashboard`.\n\nThis report also appears on default branch pipeline security tab at `/pipelines/\u0026lt;PipelineId\u0026gt;/security`\n\n\n\n**Description:** \n\nThis works perfectly for private projects. Security dashboard as well as pipeline security report is not visible for guests\n\nHowever, for public project this isn't the case. The security dashboard is not accessible but pipeline security report is visible to everyone which i believe is the same information? So this should not be visible for everyone for public projects too\n\n\n## Steps To Reproduce:\n1. As any user try to access security dashboard `/security/dashboard` of public project and you will get access denied `403`\n\n2. Now go to any successful pipeline of default branch and click on security tab `/pipelines/\u0026lt;PipelineId\u0026gt;/security` and all the information is displayed!\n\n\nRegards,\nAshish\n\n## Impact\n\nSecurity report is visible for public projects!\n\u003c/details\u003e\n\u003c/p\u003e\n\n### Summary\n\nWhen a public project has `Settings \u003e CI/CD \u003e Public Pipeline` unchecked, `/pipelines/:id/security` is still accessible to any user.\n\n### Steps to reproduce\n\n1) In a public project, set `Settings \u003e General \u003e Project Visibility \u003e Pipelines` to `Everyone with access`. \n2) In the same project, set `Settings \u003e CI/CD \u003e Public Pipelines` as unchecked.\n3) Navigate to `/pipelines/:pipeline_id/security`.\n\nNote: pipelines can be made public/private in two different settings. You should follow the steps above to isolate the behavior for the setting with the bug.\n\n### What is the current *bug* behavior?\n\nThe pipeline security report is visible.\n\n### What is the expected *correct* behavior?\n\nThe pipeline security report should respond with 404. This should match the behavior from when the pipelines visibility setting is controlled by `Settings \u003e General \u003e Project Visibility`.\n\n### Relevant logs and/or screenshots\n\n[Setting Screenshots](https://gitlab.com/gitlab-org/gitlab-ee/issues/8800#note_215046889)\n\n### Resolution\n\nFix bug and [update documentation](https://gitlab.com/gitlab-org/gitlab-ee/issues/8800#note_212918295)\n","state":"closed","created_at":"2018-12-10T19:10:42.234Z","updated_at":"2022-02-01T09:52:18.478Z","closed_at":"2019-10-11T17:47:26.226Z","closed_by":{"id":4543806,"username":"pulkitsharma","name":"Pulkit Sharma","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/27a50531bf4fd501b5f0a9b2765a661a?s=80\u0026d=identicon","web_url":"https://gitlab.com/pulkitsharma"},"labels":["Enterprise Edition","HackerOne","backend","backend-weight::1","devops::secure","group::dynamic analysis","priority::3","security","security dashboard","severity::3","type::bug"],"milestone":{"id":731039,"iid":38,"group_id":9970,"title":"12.4","description":"https://about.gitlab.com/releases/2019/10/22/gitlab-12-4-released","state":"closed","created_at":"2018-12-07T12:41:53.212Z","updated_at":"2020-04-27T16:30:43.889Z","due_date":"2019-10-17","start_date":"2019-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/38"},"assignees":[{"id":4415595,"username":"pburkegitlab","name":"Paula Burke","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/5fa5bc4ce2a4fb892fb3ef3454779045?s=80\u0026d=identicon","web_url":"https://gitlab.com/pburkegitlab"},{"id":4543806,"username":"pulkitsharma","name":"Pulkit Sharma","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/27a50531bf4fd501b5f0a9b2765a661a?s=80\u0026d=identicon","web_url":"https://gitlab.com/pulkitsharma"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":4415595,"username":"pburkegitlab","name":"Paula Burke","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/5fa5bc4ce2a4fb892fb3ef3454779045?s=80\u0026d=identicon","web_url":"https://gitlab.com/pburkegitlab"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-02-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8800","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8800","notes":"https://gitlab.com/api/v4/projects/278964/issues/8800/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8800/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8800","relative":"#8800","full":"gitlab-org/gitlab#8800"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16550785,"iid":8798,"project_id":278964,"title":"Geo: Implement selective sync support for the various FDW queries","description":"Follow up after ~\"product discovery\" in https://gitlab.com/gitlab-org/gitlab-ee/issues/4645:\n\nImplement selective sync support for the various FDW queries in https://gitlab.com/gitlab-org/gitlab-ee/tree/master/ee/app/finders/geo\n\n\n* [ ] 1. Implement the FDW queries for selective sync under a feature flag - %11.9 - %11.10\n* [ ] 2. Test the performance of these queries with a large dataset - %11.10\n* [ ] 3. Based on the test results make FDW a hard requirement or implement https://gitlab.com/gitlab-org/gitlab-ee/issues/7109#note_136712102 - %12.0\n* [ ] 4. Remove the feature flag and the legacy queries - %12.1\n","state":"closed","created_at":"2018-12-10T17:16:29.381Z","updated_at":"2019-12-16T11:56:48.610Z","closed_at":"2019-04-08T15:08:40.751Z","closed_by":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"labels":["Enterprise Edition","bug::performance","devops::systems","group::geo","workflow::in dev","workflow::ready for development"],"milestone":{"id":655279,"iid":27,"group_id":9970,"title":"11.10","description":"","state":"closed","created_at":"2018-09-21T19:08:16.261Z","updated_at":"2019-05-21T09:17:49.051Z","due_date":"2019-04-22","start_date":"2019-03-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/27"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8798","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8798","notes":"https://gitlab.com/api/v4/projects/278964/issues/8798/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8798/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8798","relative":"#8798","full":"gitlab-org/gitlab#8798"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":576,"epic":{"id":2208,"iid":576,"title":"Geo: Selective Sync Enhancements","url":"/groups/gitlab-org/-/epics/576","group_id":9970,"human_readable_end_date":"Aug 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16550346,"iid":8796,"project_id":278964,"title":"Geo: Replicating artifact expirations","description":"Customer tickets:\n- https://gitlab.zendesk.com/agent/tickets/109339\n- https://gitlab.zendesk.com/agent/tickets/109921\n\nA couple of customers noticed that artifacts take up much more space on their secondaries than on their primaries.  One noticed a 100GB difference and the other one noticed a 640GB difference.\n\nHere's what one customer is seeing on the primary and secondary:\n\n```ruby\n# Primary\nirb(main):001:0\u003e Ci::JobArtifact.count\n=\u003e 318952\n\n# Secondary\nirb(main):001:0\u003e Ci::JobArtifact.count\n=\u003e 318965\nirb(main):002:0\u003e Geo::JobArtifactRegistry.synced.count\n=\u003e 340520\n```\n\nAs per [this Slack conversation](https://gitlab.slack.com/archives/C32LCGC1H/p1543594388005400), the problem may be that artifacts aren't being expired on the secondary.  ","state":"closed","created_at":"2018-12-10T16:52:17.401Z","updated_at":"2019-12-16T14:47:52.852Z","closed_at":"2019-07-19T10:10:02.348Z","closed_by":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"labels":["CI artifacts","Category:Geo Replication","Deliverable","Enterprise Edition","customer","devops::systems","group::geo","missed-deliverable","missed:11.10","missed:11.8","missed:11.9","priority::3","severity::3","workflow::in dev"],"milestone":{"id":693521,"iid":35,"group_id":9970,"title":"12.2","description":"https://about.gitlab.com/releases/2019/08/22/gitlab-12-2-released","state":"closed","created_at":"2018-10-30T16:48:32.567Z","updated_at":"2020-04-27T16:30:20.799Z","due_date":"2019-08-22","start_date":"2019-07-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/35"},"assignees":[{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},{"id":790854,"username":"harishsr","name":"Harish Ramachandran","state":"active","avatar_url":"https://secure.gravatar.com/avatar/668a43b1e7eb48458ce81dbf2a22e595?s=80\u0026d=identicon","web_url":"https://gitlab.com/harishsr"}],"author":{"id":790854,"username":"harishsr","name":"Harish Ramachandran","state":"active","avatar_url":"https://secure.gravatar.com/avatar/668a43b1e7eb48458ce81dbf2a22e595?s=80\u0026d=identicon","web_url":"https://gitlab.com/harishsr"},"type":"ISSUE","assignee":{"id":660180,"username":"toon","name":"Toon Claes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/660180/avatar.png","web_url":"https://gitlab.com/toon"},"user_notes_count":19,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8796","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8796","notes":"https://gitlab.com/api/v4/projects/278964/issues/8796/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8796/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8796","relative":"#8796","full":"gitlab-org/gitlab#8796"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1531,"epic":{"id":8650,"iid":1531,"title":"Geo: Data Housekeeping","url":"/groups/gitlab-org/-/epics/1531","group_id":9970,"human_readable_end_date":"Aug 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16538525,"iid":8789,"project_id":278964,"title":"[API] Multiple blocking merge request approval rules","description":"API part for the issue #1979, to allow one MR to have multiple approval rules, each with different members/ approval required settings.\n\nPrevious issue about DB migration: #8647\n\nPart 1: Model: !8974\n\nPart 2: API: !8769","state":"closed","created_at":"2018-12-10T09:16:39.186Z","updated_at":"2019-08-12T15:10:49.947Z","closed_at":"2019-02-08T16:39:33.930Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Enterprise Edition","api","approvals","backend","priority::1","workflow::in dev"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8789","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8789","notes":"https://gitlab.com/api/v4/projects/278964/issues/8789/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8789/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8789","relative":"#8789","full":"gitlab-org/gitlab#8789"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24686017,"iid":25667,"project_id":278964,"title":"'mergeable_discussions_state' doesn't only consider discussions in a Merge Request","description":"### Problem to solve\n\nThe 'mergeable_discussions_state' attribute also consider if the Merge Request has conflicts and should not.\n\n### Further details\n\nIn a Python script, When I'm looking at the 'mergeable_discussions_state' value in the json of a Merge Request, it sometimes confusing as it returns false if no discussions exist, but has conflicts.\n\n### Proposal\n\nMake the 'mergeable_discussions_state' attribute only to false if discussions are unresolved.","state":"closed","created_at":"2018-12-07T22:10:15.977Z","updated_at":"2020-12-07T16:52:15.361Z","closed_at":"2019-09-25T14:43:52.901Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["Category:Code Review Workflow","[deprecated] Accepting merge requests","customer","devops::create","group::code review","merge requests","priority::4","severity::4","type::bug"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":83904,"username":"sebastienbonami","name":"SÃ©bastien Bonami","state":"active","avatar_url":"https://secure.gravatar.com/avatar/77f3a078a7848b54a0370bf33afa382b?s=80\u0026d=identicon","web_url":"https://gitlab.com/sebastienbonami"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25667","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25667","notes":"https://gitlab.com/api/v4/projects/278964/issues/25667/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25667/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/30161"},"references":{"short":"#25667","relative":"#25667","full":"gitlab-org/gitlab#25667"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16413071,"iid":8768,"project_id":278964,"title":"Maintainer can add project members despite group member lock","description":"**[HackerOne report #457627](https://hackerone.com/reports/457627)** by ashish_r_padelkar on 2018-12-06:\n\n**Summary:**\nHello,\n\nWhen group is enabled with `Member Lock` , the maintainers of the project inside group can not add any project members at `https://gitlab.com/thisisprivategroup/projectinsideprivategroupt/project_members/`\n\n![Screenshot_2018-12-07_at_01.33.48.png](https://h1.sec.gitlab.net/a/457627/386647/Screenshot_2018-12-07_at_01.33.48.png)\n\n**Description:** \nHowever, using project member import feature, Users with `Maintainer` role of such projects can still import project members \n\nThe project member import url is `https://gitlab.com/\u0026lt;GroupWithMemberLock\u0026gt;/\u0026lt;ProjectName\u0026gt;/project_members/import`\n\n## Steps To Reproduce:\n1. As a `Owner` of a private group , enable member lock at `https://gitlab.com/groups/\u0026lt;group\u0026gt;/-/edit#js-permissions-settings`\n\n2. Login as `Maintainer` and go into project within the group. You will see that you dont have option to add project members at `https://gitlab.com/\u0026lt;GroupWithMemberLock\u0026gt;/\u0026lt;ProjectName\u0026gt;/project_members`\n\n3. Now just visit direct url `https://gitlab.com/\u0026lt;GroupWithMemberLock\u0026gt;/\u0026lt;ProjectName\u0026gt;/project_members/import`\n\n4. Import the project members from other project and it will be successfully added to the current project which should not have been possible otherwise!\n\n\nRegards,\nAshish\n\n## Impact\n\n`Maintainer` can add/import project members despite member lock to a group\n\n## Attachments\n**Warning:** Attachments received through HackerOne, please exercise caution!\n* [Screenshot_2018-12-07_at_01.33.48.png](https://h1.sec.gitlab.net/a/457627/386647/Screenshot_2018-12-07_at_01.33.48.png)","state":"closed","created_at":"2018-12-07T19:11:10.338Z","updated_at":"2022-07-04T14:00:12.902Z","closed_at":"2019-04-15T22:53:40.077Z","closed_by":{"id":2719180,"username":"estrike","name":"Ethan Strike","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2719180/avatar.png","web_url":"https://gitlab.com/estrike"},"labels":["Deliverable","Enterprise Edition","HackerOne","Manage [DEPRECATED]","backend","devops::manage","priority::2","security","severity::2","type::bug","workflow::in dev"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2019-02-23","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8768","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8768","notes":"https://gitlab.com/api/v4/projects/278964/issues/8768/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8768/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8768","relative":"#8768","full":"gitlab-org/gitlab#8768"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16406131,"iid":8761,"project_id":278964,"title":"Remove Rails 4 compatibility","description":"Supposing we will release 11.6 with rails 5 (https://gitlab.com/gitlab-org/gitlab-ce/issues/48991), there is no reason to keep rails 4 compatibility anymore.\n\nThere can be multiple separate MRs to achieve this:\n\n* remove rails 4 jobs from `.gitlab-ci.yaml` and `Gemfile`\n* then follow up with MRs which remove `if not Gitlab.rails5` from code","state":"closed","created_at":"2018-12-07T13:19:02.927Z","updated_at":"2019-08-12T15:10:57.848Z","closed_at":"2018-12-14T19:34:55.342Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Enterprise Edition","[deprecated] Accepting merge requests","backend","rails5"],"milestone":{"id":581385,"iid":22,"group_id":9970,"title":"11.7","description":"","state":"closed","created_at":"2018-06-26T15:14:47.054Z","updated_at":"2019-02-07T18:12:10.925Z","due_date":"2019-01-22","start_date":"2018-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/22"},"assignees":[],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":1,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8761","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8761","notes":"https://gitlab.com/api/v4/projects/278964/issues/8761/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8761/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8761","relative":"#8761","full":"gitlab-org/gitlab#8761"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24685907,"iid":25641,"project_id":278964,"title":"Selected filters not persisted to BE in Geo secondaries","description":"We currently persist filters and sorting options to `UserPreference` in the `GET` request for that resource.\n\nThis doesn't work in Geo secondaries because the DB is read only.\n\nUpdates to the DB should be done in a separate POST / PUT request.\n\nThis is happening to the issues/ MRs discussion filter (all activity / comments only / history only) and also `roadmap_epics_state` and `epics_sort` in EE.\n\nThis also applies to fields we plan to save in the backend: https://gitlab.com/gitlab-org/gitlab-ce/issues/50352","state":"closed","created_at":"2018-12-07T03:51:13.177Z","updated_at":"2022-05-19T16:16:33.455Z","closed_at":"2020-10-19T02:30:07.244Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["auto closed","backend","devops::plan","priority::4","section::dev","severity::3","stale","type::bug","vintage"],"milestone":null,"assignees":[],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25641","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25641","notes":"https://gitlab.com/api/v4/projects/278964/issues/25641/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25641/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25641","relative":"#25641","full":"gitlab-org/gitlab#25641"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16387641,"iid":8746,"project_id":278964,"title":"Follow-up from \"[EE] Support unlimited file search in web UI and API\"","description":"The following discussion from !8671 should be addressed:\n\n- [ ] @jprovaznik started a [discussion](https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8671#note_122267256):  (+1 comment)\n\n    \u003e Wiki blobs are search slightly differently - I didn't investigate this further so I kept the limit here (originally it was inherited from `FileFinder`)\n\nUpdate: This should be mostly a testing and pretty simple task: create many wiki blobs (tens of thousands), test that `WikiFileFinder#search_filenames` performs reasonably well after removing the `BATCH_SIZE` limit.","state":"closed","created_at":"2018-12-06T16:36:07.288Z","updated_at":"2022-05-19T16:15:53.813Z","closed_at":"2019-02-04T09:32:45.487Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Global Search","Enterprise Edition","backend","backstage [DEPRECATED]","devops::plan","maintenance::refactor"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":128633,"username":"rymai","name":"RÃ©my Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka KoÅ¡anovÃ¡","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8746","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8746","notes":"https://gitlab.com/api/v4/projects/278964/issues/8746/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8746/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8746","relative":"#8746","full":"gitlab-org/gitlab#8746"},"severity":"UNKNOWN","moved_to_id":17930172,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16387319,"iid":8745,"project_id":278964,"title":"Geo - \"Last time verified\" on Geo Projects page shows wrong value","description":"#### Summary\n\nAll these projects show \"Last time verified\" as `Never` on Geo Projects page because we incorrectly assumed that the `last_repository_check_at` column would contain a timestamp with the last time the repository was verified. This column was introduced in https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/5550 and contain the last time we ran `git fsck` for the repository.\n\n![geo-ops](/uploads/4340a419fcc1e093930e6f0fdd812366/geo-ops.gif)\n\n#### Proposal\n\n**Proposal 1**: \n\n1. Rename the \"Last time verified\" on the Geo Projects page to \"Last time repository check ran\"\n1. Create another issue with the second proposal\n\n**Proposal 2**: \n\n1. Add `last_repository_verification_ran_at`, and `last_wiki_verification_ran_at` fields to Geo Project Registry table;\n1. Update these fields while running the verification on ([Geo::RepositoryVerificationSecondaryService](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/ee/app/services/geo/repository_verification_secondary_service.rb)) \n1. Update the Geo Projects page to use the proper column.\n\n/cc @rnienaber @stanhu @brodock","state":"closed","created_at":"2018-12-06T16:22:47.531Z","updated_at":"2019-12-16T14:50:11.292Z","closed_at":"2018-12-17T21:23:55.760Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Category:Geo Replication","Enterprise Edition","Geo Administration","devops::systems","group::geo","priority::2","severity::3","type::bug","workflow::in review"],"milestone":{"id":581385,"iid":22,"group_id":9970,"title":"11.7","description":"","state":"closed","created_at":"2018-06-26T15:14:47.054Z","updated_at":"2019-02-07T18:12:10.925Z","due_date":"2019-01-22","start_date":"2018-12-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/22"},"assignees":[{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"user_notes_count":5,"merge_requests_count":1,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8745","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8745","notes":"https://gitlab.com/api/v4/projects/278964/issues/8745/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8745/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8745","relative":"#8745","full":"gitlab-org/gitlab#8745"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16355394,"iid":8734,"project_id":278964,"title":"[Frontend] Filter merge requests by individual approvers","description":"Frontend Issue for: https://gitlab.com/gitlab-org/gitlab-ee/issues/1951\n\nPlease refer to \u003ca href=\"https://gitlab.com/gitlab-org/gitlab-ee/issues/1951\"\u003ethe description of the parent issue\u003c/a\u003e for up-to-date information.\n\nThis issue was created to track Frontend weight independently of Backend.","state":"closed","created_at":"2018-12-05T18:36:26.915Z","updated_at":"2019-08-12T15:11:03.162Z","closed_at":"2019-02-27T21:13:46.600Z","closed_by":{"id":3046722,"username":"sbigelow","name":"Sam Bigelow","state":"active","avatar_url":"https://secure.gravatar.com/avatar/469286018ddff635b600def386a5281f?s=80\u0026d=identicon","web_url":"https://gitlab.com/sbigelow"},"labels":["Category:Global Search","Create [DEPRECATED]","Deliverable","Enterprise Edition","approvals","coach will finish","customer","devops::create","frontend","missed-deliverable","missed:11.7","priority::3","severity::4","type::feature","usability","workflow::blocked"],"milestone":{"id":581391,"iid":23,"group_id":9970,"title":"11.8","description":"","state":"closed","created_at":"2018-06-26T15:15:18.359Z","updated_at":"2019-03-08T17:33:19.162Z","due_date":"2019-02-22","start_date":"2019-01-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/23"},"assignees":[{"id":3046722,"username":"sbigelow","name":"Sam Bigelow","state":"active","avatar_url":"https://secure.gravatar.com/avatar/469286018ddff635b600def386a5281f?s=80\u0026d=identicon","web_url":"https://gitlab.com/sbigelow"}],"author":{"id":853414,"username":"andr3","name":"AndrÃ© LuÃ­s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":3046722,"username":"sbigelow","name":"Sam Bigelow","state":"active","avatar_url":"https://secure.gravatar.com/avatar/469286018ddff635b600def386a5281f?s=80\u0026d=identicon","web_url":"https://gitlab.com/sbigelow"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8734","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8734","notes":"https://gitlab.com/api/v4/projects/278964/issues/8734/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8734/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8734","relative":"#8734","full":"gitlab-org/gitlab#8734"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16349901,"iid":8729,"project_id":278964,"title":"Next Destination for Geo based on Customer Feedback","description":"\u003ch3\u003eBackground\u003c/h3\u003e\n\nThere have been a few recent (and less recent) issues about the long term goal for Geo. \n\n* #8353 - Mid/long term direction for Geo using federation (This issue contains a number of other issues talking about technical goals for Geo).\n* #8411 - Secondary first MR's\n\nIt is important for us to consider what our long term goal is so that we make good short term decisions, and to do this we need to spend time researching our options. \n\n\u003ch3\u003eCustomer Centric Research\u003c/h3\u003e\n\nEach of the previous issues focuses on the technical ability of the feature, and what that affords the customer. For this issue I would like us to think about this the other way around. What do our customers want, and how will we build that. \n\n**Selective Sync of Projects** : some customers with many projects want the ability to be able to sync only certain projects to certain nodes. They have legal requirements that data for certain projects is not physically located outside of the USA. Yet they still need to have a Geo node closer to their users. \n\n**Writable Nodes** : customers want to be able to write to the nodes to reduce latency even further. \n\n**Transparent Setup** : customers want to be able to congifure their client the same way globally and let their operations teams orchestrate the nodes transparently to the users. \n\nThese are the first few that come to mind, I will add others as I find them. (And I'll find the issue links).\n\n\u003ch3\u003eOutcome for this issue\u003c/h3\u003e\n\nResearch like this has the potential to be long running. This issue is to set up the research project and create issues for the various avenues of enquiry.\n\nThe outcome for this issue is to create a set of issues that describe the research required for each topic. This issue is about breadth, and the set of issues that needs to be created is about depth. If possible, each issue should take no longer than one milestone to research.","state":"closed","created_at":"2018-12-05T14:17:50.440Z","updated_at":"2020-02-19T10:47:38.271Z","closed_at":"2019-03-08T14:18:48.804Z","closed_by":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"labels":["Category:Disaster Recovery","Deliverable","Enterprise Edition","Geo Next Gen","devops::systems","group::geo","missed-deliverable","missed:11.8","product discovery [DEPRECATED]"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"}],"author":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"type":"ISSUE","assignee":{"id":2722370,"username":"rnienaber","name":"Rachel Nienaber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2722370/avatar.png","web_url":"https://gitlab.com/rnienaber"},"user_notes_count":10,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8729","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8729","notes":"https://gitlab.com/api/v4/projects/278964/issues/8729/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8729/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8729","relative":"#8729","full":"gitlab-org/gitlab#8729"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":24685825,"iid":25607,"project_id":278964,"title":"Extended popover for issue links","description":"### Overview\n\nWe are working on a gitlab-ce~3592632 in https://gitlab.com/gitlab-org/gitlab-ce/issues/50913. This issue serves as implementation issue of the final design. \n\n### Problem to solve\nWhen hovering over an issue link, we currently display the issue name in the tooltip. There is an opportunity to enhance this via additional information of this issue to get more context without having to open the actual link.\n\n### Proposal\n\nLet's enhance the tooltip by using a [popover](https://bootstrap-vue.js.org/docs/components/popover/) and display this additional information when hovering over issue links.\n\n* Title\n* State\n* Creation date\n* Milestone\n* Weight\n* Author\n* Assignees\n* Confidential?\n\n### Solution\n\nThe work involved here is just the Barebones design below, which will be the first MVC. Fully specced out work will be done in https://gitlab.com/gitlab-org/gitlab/-/issues/364049.\n\n| Fully specced out + long title | Barebones | Skeleton |\n|--------------------------------|-----------|----------|\n| ![image](/uploads/c4b6325182e4eef223078220c54e43a9/image.png) | ![image](/uploads/4b60a02a2351e8bce8b34553fd82f28b/image.png) | ![image](/uploads/b77d1b60840d111ecba2a2bbe8200e3e/image.png) |\n\n#### Header\n\n![image](/uploads/be04760a9852948bbee49d50aafd8c60/image.png)\n\nI don't want to reinvent a pattern that is already in use and a convention at gitlab. When on an issue page, the status badge, the confidential icon and age are all in one line at the top. I wanted to reuse this pattern. It's what users are used to already.\n\n#### Milestone, weight, due date\n\n![image](/uploads/98fbcc4ade286a1fc35693ac99099070/image.png)\n\nThis is something that I noticed in the board cards and I think it works really well. Again, let's reuse what is already a convention at GitLab.\n\n#### Assignees\n\n![image](/uploads/c625c6da5bc09f9f4e82c5e0a7f8dc83/image.png)\n\nAt first, I wanted to have the assignees in the same line as milestone etc. Then I remembered that in board cards the assignees are in the bottom right corner, stacked up if more than one. It makes total sense to reuse this here. We want to establish a design language that users will understand by simply using the interface. Re-using patterns like these and creating conventions is the best approach to do this. \n\n### Vision\n\nThis is all good, but we can make it better. What if we tell the user if they interacted with the issue in question? Let's say they took part in the discussion, we could show that. \n\n![image](/uploads/bfaf6bc4c6e75927c0a8fd21bf785779/image.png)\n\n\n### What does success look like, and how can we measure that?\n\n(If no way to measure success, link to an issue that will implement a way to measure this)\n\n### Acceptance Criteria\n\n- [ ] Popover renders when hovering over an issue reference and loads up-to-date information\n- [ ] Popovers work when logged out.\n- [ ] Only users with permission to view the referenced issue can trigger/view the popover","state":"closed","created_at":"2018-12-05T12:59:53.878Z","updated_at":"2022-07-14T05:03:34.236Z","closed_at":"2022-06-03T10:09:06.788Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Deliverable","UX","backend","depth","devops::plan","frontend","group::project management","priority::3","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":2263795,"username":"akaemmerle","name":"Andreas KÃ¤mmerle","state":"active","avatar_url":"https://secure.gravatar.com/avatar/52b29212f6c52f2d58d8fd848e43a7d9?s=80\u0026d=identicon","web_url":"https://gitlab.com/akaemmerle"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":29,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/25607","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/25607","notes":"https://gitlab.com/api/v4/projects/278964/issues/25607/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/25607/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#25607","relative":"#25607","full":"gitlab-org/gitlab#25607"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":708,"epic":{"id":3004,"iid":708,"title":"Link popovers for planning","url":"/groups/gitlab-org/-/epics/708","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16334439,"iid":8723,"project_id":278964,"title":"Geo: Remove Gitlab::LfsToken::LegacyRedisDeviseToken implementation and usage","description":"Context: https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/8044#note_122351185\n\n`Gitlab::LfsToken::LegacyRedisDeviseToken` is meant as a stop gap solution to assist in maintaining any git-lfs download requests that may already be in flight during a GitLab upgrade.","state":"closed","created_at":"2018-12-05T06:52:26.547Z","updated_at":"2019-12-11T20:26:24.157Z","closed_at":"2019-05-22T08:26:43.269Z","closed_by":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"labels":["Deliverable","Enterprise Edition","Geo Administration","devops::systems","group::geo"],"milestone":{"id":693518,"iid":33,"group_id":9970,"title":"12.0","description":"https://about.gitlab.com/releases/2019/06/22/gitlab-12-0-released/","state":"closed","created_at":"2018-10-30T16:47:37.975Z","updated_at":"2020-04-22T19:51:03.475Z","due_date":"2019-06-22","start_date":"2019-05-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/33"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":2187482,"username":"ashmckenzie","name":"Ash McKenzie","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2187482/avatar.png","web_url":"https://gitlab.com/ashmckenzie"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":4,"merge_requests_count":2,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8723","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8723","notes":"https://gitlab.com/api/v4/projects/278964/issues/8723/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8723/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8723","relative":"#8723","full":"gitlab-org/gitlab#8723"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":16317936,"iid":8712,"project_id":278964,"title":"Move all EE CSS differences out of the CE code","description":"Similar to https://gitlab.com/gitlab-org/gitlab-ee/issues/8710 and https://gitlab.com/gitlab-org/gitlab-ee/issues/8711, all EE specific CSS changes should be moved out of `app/assets/stylesheets` and into the `ee/` directory.\n\n## Differences\n\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/framework/selects.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/selects.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/selects.scss\nindex bcd601e198a..90997a1a0f7 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/selects.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/selects.scss\n@@ -264,6 +264,16 @@\n   }\n }\n \n+.project-result {\n+  .project-name {\n+    font-weight: $gl-font-weight-bold;\n+  }\n+\n+  .project-path {\n+    color: $gl-gray-400;\n+  }\n+}\n+\n .user-result {\n   min-height: 24px;\n   display: flex;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/framework/dropdowns.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/dropdowns.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/dropdowns.scss\nindex b90db135b4a..1ad9bfcf6a1 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/dropdowns.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/dropdowns.scss\n@@ -26,7 +26,7 @@\n \n .show.dropdown {\n   .dropdown-menu,\n-  .dropdown-menu-nav {\n+  .dropdown-menu {\n     @include set-visible;\n     min-height: $dropdown-min-height;\n     max-height: $dropdown-max-height;\n@@ -404,7 +404,7 @@\n }\n \n .droplab-dropdown .dropdown-menu,\n-.droplab-dropdown .dropdown-menu-nav {\n+.droplab-dropdown .dropdown-menu {\n   display: none;\n   opacity: 1;\n   visibility: visible;\n@@ -417,7 +417,7 @@\n \n .filtered-search-box-input-container {\n   .dropdown-menu,\n-  .dropdown-menu-nav {\n+  .dropdown-menu {\n     max-width: 280px;\n   }\n }\n@@ -813,7 +813,7 @@\n \n   header.navbar-gitlab .dropdown {\n     .dropdown-menu,\n-    .dropdown-menu-nav {\n+    .dropdown-menu {\n       width: 100%;\n       min-width: 100%;\n     }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/framework/secondary_navigation_elements.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/secondary_navigation_elements.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/secondary_navigation_elements.scss\nindex 19640ab5986..31297b9d20c 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/secondary_navigation_elements.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/secondary_navigation_elements.scss\n@@ -181,6 +181,33 @@\n         margin: 0;\n         width: 100%;\n       }\n+\n+      \u0026.inline {\n+        display: flex;\n+        flex-flow: row wrap;\n+        justify-content: space-between;\n+\n+        \u003e .btn,\n+        \u003e .btn-container,\n+        \u003e .dropdown,\n+        \u003e input,\n+        \u003e form {\n+          flex: 1 1 auto;\n+          margin: 0 0 10px;\n+          margin-left: $gl-padding-top;\n+          width: auto;\n+\n+          \u0026:first-child {\n+            margin-left: 0;\n+            float: none;\n+          }\n+        }\n+\n+        .btn-full {\n+          flex: 1 1 100%;\n+          margin-left: 0;\n+        }\n+      }\n     }\n   }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/framework/avatar.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/avatar.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/avatar.scss\nindex e132aa4c216..ad2850a4813 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/avatar.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/avatar.scss\n@@ -62,6 +62,10 @@\n     border: 0;\n   }\n \n+  \u0026.avatar-placeholder {\n+    border: 0;\n+  }\n+\n   \u0026:not([href]):hover {\n     border-color: darken($gray-normal, 10%);\n   }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/framework/common.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/common.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/common.scss\nindex 0fb9bde1785..04370427fa0 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/common.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/common.scss\n@@ -103,7 +103,7 @@ hr {\n   text-overflow: ellipsis;\n   white-space: nowrap;\n \n-  \u003e div,\n+  \u003e div:not(.block),\n   .str-truncated {\n     display: inline;\n   }\n@@ -362,12 +362,14 @@ img.emoji {\n .prepend-left-5 { margin-left: 5px; }\n .prepend-left-8 { margin-left: 8px; }\n .prepend-left-10 { margin-left: 10px; }\n+.prepend-left-15 { margin-left: 15px; }\n .prepend-left-default { margin-left: $gl-padding; }\n .prepend-left-20 { margin-left: 20px; }\n .append-right-4 { margin-right: 4px; }\n .append-right-5 { margin-right: 5px; }\n .append-right-8 { margin-right: 8px; }\n .append-right-10 { margin-right: 10px; }\n+.append-right-15 { margin-right: 15px; }\n .append-right-default { margin-right: $gl-padding; }\n .append-right-20 { margin-right: 20px; }\n .append-bottom-0 { margin-bottom: 0; }\n@@ -379,6 +381,8 @@ img.emoji {\n .append-bottom-20 { margin-bottom: 20px; }\n .append-bottom-default { margin-bottom: $gl-padding; }\n .inline { display: inline-block; }\n+.block { display: block; }\n+.flex { display: flex; }\n .center { text-align: center; }\n .vertical-align-middle { vertical-align: middle; }\n .vertical-align-sub { vertical-align: sub; }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/framework/lists.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/lists.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/lists.scss\nindex d9d4a210f5f..bb5538e7161 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/lists.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/lists.scss\n@@ -156,6 +156,12 @@ ul.content-list {\n         margin-top: 3px;\n         margin-bottom: 4px;\n \n+        \u0026.btn-ldap-override {\n+          @include media-breakpoint-up(sm) {\n+            margin-bottom: 0;\n+          }\n+        }\n+\n         \u0026.has-tooltip,\n         \u0026:last-child {\n           margin-right: 0;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/framework/buttons.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/buttons.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/buttons.scss\nindex d164cc56e44..f8a0706a204 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/buttons.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/buttons.scss\n@@ -444,7 +444,7 @@\n     border-color: transparent;\n   }\n \n-  \u0026.btn-secondary-hover-link {\n+  \u0026.btn-default-hover-link {\n     color: $gl-text-color-secondary;\n \n     \u0026:hover,\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/framework/markdown_area.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/markdown_area.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/markdown_area.scss\nindex f708a26bb32..ef13b7e6cec 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/markdown_area.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/markdown_area.scss\n@@ -61,6 +61,10 @@\n       padding-top: 0;\n       line-height: 19px;\n \n+      \u0026.btn.btn-sm {\n+        padding: 2px 5px;\n+      }\n+\n       \u0026:focus {\n         margin-top: -10px;\n         padding-top: 10px;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/framework/blank.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/blank.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/blank.scss\nindex 91dbb2a6365..8904e0bfb01 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/blank.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/blank.scss\n@@ -69,6 +69,7 @@\n \n   @include media-breakpoint-up(sm) {\n     display: flex;\n+    height: 100%;\n     align-items: center;\n     padding: 50px 30px;\n   }\n@@ -99,3 +100,32 @@\n     }\n   }\n }\n+\n+/* EE-specific Styles */\n+\n+@include media-breakpoint-up(lg) {\n+  .column-large {\n+    flex: 2;\n+  }\n+\n+  .column-small {\n+    flex: 1;\n+    margin-bottom: 15px;\n+\n+    .blank-state {\n+      max-width: 400px;\n+      flex-wrap: wrap;\n+      margin-left: 15px;\n+    }\n+\n+    .blank-state-icon {\n+      margin-bottom: 30px;\n+    }\n+  }\n+}\n+\n+@include media-breakpoint-down(xs) {\n+  .blank-state-icon svg {\n+    width: 315px;\n+  }\n+}\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/framework/variables.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/variables.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/variables.scss\nindex 9eae9a831fa..f50893d407e 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/variables.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/variables.scss\n@@ -23,6 +23,7 @@ $darken-border-dashed-factor: 25%;\n $white-light: #fff;\n $white-normal: #f0f0f0;\n $white-dark: #eaeaea;\n+$white-transparent: rgba(255, 255, 255, 0.8);\n \n $gray-lightest: #fdfdfd;\n $gray-light: #fafafa;\n@@ -284,6 +285,12 @@ $gl-line-height: 16px;\n $gl-line-height-24: 24px;\n $gl-line-height-14: 14px;\n \n+// EE-only CSS variables START\n+$system-header-height: 35px;\n+$issue-box-upcoming-bg: #8f8f8f;\n+$pages-group-name-color: #4c4e54;\n+// EE-only CSS variables END\n+\n /*\n * Common component specific colors\n */\n@@ -617,6 +624,18 @@ Animation Functions\n */\n $dropdown-animation-timing: cubic-bezier(0.23, 1, 0.32, 1);\n \n+/*\n+GitLab Plans\n+*/\n+$gl-gold-plan: #d4af37;\n+$gl-silver-plan: #91a1ab;\n+$gl-bronze-plan: #cd7f32;\n+\n+/*\n+Cross-project Pipelines\n+ */\n+$linked-project-column-margin: 60px;\n+\n /*\n Performance Bar\n */\n@@ -640,6 +659,17 @@ Image Commenting cursor\n $image-comment-cursor-left-offset: 12;\n $image-comment-cursor-top-offset: 12;\n \n+/*\n+Add GitLab Slack Application\n+*/\n+$add-to-slack-popup-max-width: 400px;\n+$add-to-slack-gif-max-width: 850px;\n+$add-to-slack-well-max-width: 750px;\n+$add-to-slack-logo-size: 100px;\n+$double-headed-arrow-width: 100px;\n+$double-headed-arrow-height: 25px;\n+$right-arrow-size: 16px;\n+\n /*\n Popup\n */\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/framework/wells.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/wells.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/wells.scss\nindex 161943766d4..434cbd6d21c 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/framework/wells.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/framework/wells.scss\n@@ -12,6 +12,10 @@\n       border-bottom: 1px solid $well-inner-border;\n     }\n \n+    \u0026.borderless {\n+      border-bottom: 0;\n+    }\n+\n     \u0026.branch-info {\n       .commit-sha,\n       .commit-info {\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/pages/issues.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/issues.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/issues.scss\nindex 0037364978c..dc5b4707c75 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/issues.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/issues.scss\n@@ -147,6 +147,11 @@ ul.related-merge-requests \u003e li {\n   }\n }\n \n+.issues-footer {\n+  padding-top: $gl-padding;\n+  padding-bottom: 37px;\n+}\n+\n .issues-nav-controls {\n   font-size: 0;\n \n@@ -291,3 +296,109 @@ ul.related-merge-requests \u003e li {\n     text-align: right;\n   }\n }\n+\n+.issue-token {\n+  display: inline-flex;\n+  align-items: stretch;\n+  max-width: 100%;\n+  line-height: 1.75;\n+  white-space: nowrap;\n+}\n+\n+.issue-token-link {\n+  display: inline-flex;\n+  min-width: 0;\n+\n+  color: $gl-text-color-secondary;\n+\n+  \u0026[href] {\n+    color: $blue-600;\n+  }\n+\n+  \u0026:hover,\n+  \u0026:focus {\n+    outline: none;\n+    text-decoration: none;\n+  }\n+}\n+\n+.issue-token-reference {\n+  display: flex;\n+  align-items: center;\n+  margin-right: 1px;\n+  padding-left: 0.5em;\n+  padding-right: 0.5em;\n+  background-color: $gray-lighter;\n+  border-top-left-radius: 2px;\n+  border-bottom-left-radius: 2px;\n+  transition: background $general-hover-transition-duration $general-hover-transition-curve, color $general-hover-transition-duration $general-hover-transition-curve;\n+\n+  .issue-token:hover \u0026,\n+  .issue-token-link:focus \u003e \u0026 {\n+    background-color: $gray-normal;\n+    color: $blue-800;\n+    text-decoration: none;\n+  }\n+}\n+\n+.issue-token-state-icon-open {\n+  color: $green-500;\n+}\n+\n+.issue-token-state-icon-closed {\n+  color: $blue-500;\n+}\n+\n+.issue-token-title {\n+  overflow: hidden;\n+  display: flex;\n+  align-items: baseline;\n+  padding-left: 0.5em;\n+  background-color: $gray-normal;\n+  color: $gl-text-color-secondary;\n+  transition: background $general-hover-transition-duration $general-hover-transition-curve;\n+\n+  .issue-token:hover \u0026,\n+  .issue-token-link:focus \u003e \u0026 {\n+    background-color: $border-gray-normal;\n+  }\n+\n+  \u003e .fa {\n+    line-height: inherit;\n+  }\n+}\n+\n+.issue-token-title-standalone {\n+  padding-right: 0.5em;\n+  border-top-right-radius: 2px;\n+  border-bottom-right-radius: 2px;\n+}\n+\n+.issue-token-title-text {\n+  overflow: hidden;\n+  text-overflow: ellipsis;\n+}\n+\n+.issue-token-remove-button {\n+  display: flex;\n+  align-items: center;\n+  padding: 0 0.5em;\n+  background-color: $gray-normal;\n+  border: 0;\n+  border-top-right-radius: 2px;\n+  border-bottom-right-radius: 2px;\n+  color: $gl-text-color-secondary;\n+  transition: background $general-hover-transition-duration $general-hover-transition-curve;\n+\n+  \u0026:hover,\n+  \u0026:focus,\n+  .issue-token:hover \u0026,\n+  .issue-token-link:focus + \u0026 {\n+    background-color: $border-gray-normal;\n+    outline: none;\n+  }\n+\n+  \u003e .fa {\n+    font-size: 0.9em;\n+  }\n+}\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/pages/pipelines.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/pipelines.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/pipelines.scss\nindex e676d48c1f4..febdd3ffd26 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/pipelines.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/pipelines.scss\n@@ -496,7 +496,8 @@\n       list-style: none;\n     }\n \n-    \u0026:last-child {\n+    // when downstream pipelines are present, the last stage isn't the last column\n+    \u0026:last-child:not(.has-downstream) {\n       .build {\n         // Remove right connecting horizontal line from first build in last stage\n         \u0026:first-child::after {\n@@ -513,7 +514,8 @@\n       }\n     }\n \n-    \u0026:first-child {\n+    // when upstream pipelines are present, the first stage isn't the first column\n+    \u0026:first-child:not(.has-upstream) {\n       .build {\n         // Remove left curved connectors from all builds in first stage\n         \u0026:not(:first-child)::before {\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/pages/milestone.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/milestone.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/milestone.scss\nindex 15f3a2ef4a8..53f00494696 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/milestone.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/milestone.scss\n@@ -239,7 +239,7 @@ $status-box-line-height: 26px;\n     padding: 0;\n   }\n \n-  .popover-content {\n+  .popover-body {\n     padding: 0;\n   }\n }\n@@ -272,3 +272,162 @@ $status-box-line-height: 26px;\n     display: inline;\n   }\n }\n+\n+// EE-only\n+\n+.burndown-hint.container-fluid {\n+  border: 1px solid $border-color;\n+  border-radius: $border-radius-default;\n+  position: relative;\n+  margin: $gl-padding 0;\n+  overflow: hidden;\n+  padding-top: 15px;\n+  padding-bottom: 15px;\n+\n+  .dismiss-icon {\n+    position: absolute;\n+    right: $gl-padding;\n+    cursor: pointer;\n+    color: $cycle-analytics-dismiss-icon-color;\n+    z-index: 1;\n+  }\n+\n+  .svg-container {\n+    text-align: center;\n+\n+    svg {\n+      max-width: 200px;\n+      max-height: 200px;\n+    }\n+  }\n+\n+  .inner-content {\n+    @include media-breakpoint-down(xs) {\n+      padding: 0 28px;\n+      text-align: center;\n+    }\n+\n+    h4 {\n+      color: $gl-text-color;\n+      font-size: 17px;\n+    }\n+\n+    p {\n+      color: $cycle-analytics-box-text-color;\n+      margin-bottom: $gl-padding;\n+    }\n+  }\n+}\n+\n+.burndown-docs-link {\n+  color: inherit;\n+  text-decoration: underline;\n+}\n+\n+.burndown-header {\n+  margin: 24px 0 12px;\n+\n+  h3 {\n+    font-size: 16px;\n+    margin: 0;\n+  }\n+\n+  .btn-group {\n+    margin-left: 20px;\n+    margin-bottom: 2px;\n+  }\n+\n+  .btn {\n+    @include btn-outline($white-light, $blue-500, $blue-500, $blue-500, $white-light, $blue-600, $blue-600, $blue-700);\n+\n+    font-size: 12px;\n+\n+    \u0026.active {\n+      background-color: $blue-500;\n+      border-color: $blue-600;\n+      color: $white-light;\n+    }\n+  }\n+}\n+\n+.burndown-chart {\n+  width: 100%;\n+  height: 380px;\n+  margin: 5px 0;\n+\n+  @include media-breakpoint-down(sm) {\n+    height: 320px;\n+  }\n+\n+  @include media-breakpoint-down(xs) {\n+    height: 200px;\n+  }\n+\n+  .axis {\n+    font-size: 12px;\n+\n+    line,\n+    path {\n+      fill: none;\n+      stroke: $gl-gray-350;\n+      shape-rendering: crispEdges;\n+    }\n+  }\n+\n+  .axis-label {\n+    text {\n+      fill: $gl-text-color-secondary;\n+    }\n+\n+    line {\n+      stroke: $border-color;\n+    }\n+  }\n+\n+  .legend {\n+    shape-rendering: crispEdges;\n+\n+    text {\n+      font-size: 13px;\n+      fill: $gl-text-color-tertiary;\n+    }\n+\n+    rect {\n+      stroke: $border-color;\n+      fill: none;\n+    }\n+  }\n+\n+  .line {\n+    stroke-width: 2px;\n+    fill: none;\n+\n+    \u0026.actual {\n+      stroke: $green-500;\n+    }\n+\n+    \u0026.ideal {\n+      stroke: $gl-gray-350;\n+      stroke-dasharray: 6px 6px;\n+    }\n+  }\n+\n+  .focus {\n+    circle {\n+      fill: $white-light;\n+      stroke: $green-500;\n+      stroke-width: 2px;\n+    }\n+  }\n+\n+  .chart-tooltip {\n+    text {\n+      font-size: 12px;\n+      fill: $white-light;\n+    }\n+\n+    rect {\n+      fill: $black;\n+    }\n+  }\n+}\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/pages/boards.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/boards.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/boards.scss\nindex bc28ffb3a92..cce168aebca 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/boards.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/boards.scss\n@@ -24,6 +24,7 @@\n \n .is-ghost {\n   opacity: 0.3;\n+  pointer-events: none;\n }\n \n .dropdown-projects {\n@@ -55,6 +56,42 @@\n   .content-wrapper {\n     padding-bottom: 0;\n   }\n+\n+  .issues-details-filters {\n+    display: -webkit-flex;\n+    display: flex;\n+  }\n+\n+  .filter-form {\n+    width: 100%;\n+  }\n+}\n+\n+.board-extra-actions {\n+  font-size: 0;\n+  white-space: nowrap;\n+}\n+\n+@include media-breakpoint-up(md) {\n+  .issue-boards-content.is-focused {\n+    position: fixed;\n+    width: 100%;\n+    height: 100%;\n+    top: 0;\n+    left: 0;\n+    background: $white-light;\n+    z-index: 9000;\n+\n+    .boards-list {\n+      height: calc(100vh - #{$issue-boards-filter-height});\n+      overflow-x: scroll;\n+    }\n+\n+    .issue-boards-sidebar {\n+      height: 100%;\n+      top: 0;\n+    }\n+  }\n }\n \n .boards-app {\n@@ -234,7 +271,8 @@\n   }\n }\n \n-.board-blank-state {\n+.board-blank-state,\n+.board-promotion-state {\n   padding: $gl-padding;\n   background-color: $white-light;\n   flex: 1;\n@@ -242,6 +280,13 @@\n   overflow-x: hidden;\n }\n \n+.board-promotion-state {\n+  .btn.btn-primary {\n+    display: block;\n+    margin-bottom: 15px;\n+  }\n+}\n+\n .board-blank-state-list {\n   list-style: none;\n \n@@ -443,6 +488,30 @@\n   margin: 5px;\n }\n \n+.boards-title-holder {\n+  padding: 25px 13px $gl-padding;\n+\n+  .dropdown-menu {\n+    margin-top: -15px;\n+    margin-left: 8px;\n+  }\n+}\n+\n+.board-selector-page-two {\n+  padding-left: 10px;\n+  padding-right: 10px;\n+  white-space: normal;\n+}\n+\n+.form-section-title {\n+  font-size: 16px;\n+}\n+\n+.board-delete-btns {\n+  padding-top: 12px;\n+  border-top: 1px solid $border-color;\n+}\n+\n .page-with-contextual-sidebar.layout-page .issue-boards-sidebar {\n   .issuable-sidebar-header {\n     position: relative;\n@@ -658,6 +727,45 @@\n   }\n }\n \n+.board-milestone-list {\n+  \u003e li {\n+    padding-left: 0;\n+    padding-right: 0;\n+  }\n+\n+  a {\n+    padding-left: 25px;\n+  }\n+\n+  .fa-check {\n+    margin-left: -18px;\n+  }\n+}\n+\n+.board-inner-milestone-dropdown {\n+  margin-top: 10px;\n+\n+  .dropdown-menu {\n+    position: fixed;\n+    left: 10px;\n+    top: 175px;\n+    min-width: 200px;\n+  }\n+}\n+\n+.board-config-modal {\n+  width: 440px;\n+\n+  .block {\n+    padding: $gl-padding 0;\n+\n+    // add a border between all items, but not at the start or end\n+    + .block {\n+      border-top: solid 1px $border-color;\n+    }\n+  }\n+}\n+\n .board-card-info {\n   color: $gl-text-color-secondary;\n   white-space: nowrap;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/pages/issuable.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/issuable.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/issuable.scss\nindex e0bdc1341b1..bbb1b0ff82e 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/issuable.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/issuable.scss\n@@ -207,6 +207,15 @@\n         }\n       }\n     }\n+\n+    \u0026.weight {\n+      .gl-field-error {\n+        margin-top: $gl-padding-8;\n+        margin-left: -6px;\n+        display: flex;\n+        align-items: center;\n+      }\n+    }\n   }\n \n   .block-first {\n@@ -263,6 +272,10 @@\n \n   .selectbox {\n     display: none;\n+\n+    \u0026.show {\n+      display: block;\n+    }\n   }\n \n   .btn-clipboard:hover {\n@@ -316,7 +329,7 @@\n     }\n \n     .no-value,\n-    .btn-secondary-hover-link {\n+    .btn-default-hover-link {\n       color: $gl-text-color-secondary;\n     }\n \n@@ -599,7 +612,6 @@\n   margin: -7px;\n }\n \n-\n .user-list {\n   display: flex;\n   flex-wrap: wrap;\n@@ -726,6 +738,7 @@\n       .issuable-main-info {\n         flex: 1 auto;\n         margin-right: 10px;\n+        min-width: 0;\n \n         .issue-weight-icon {\n           vertical-align: sub;\n@@ -787,6 +800,7 @@\n     @media(max-width: map-get($grid-breakpoints, lg)-1) {\n       .task-status,\n       .issuable-due-date,\n+      .issuable-weight,\n       .project-ref-path {\n         display: none;\n       }\n@@ -925,12 +939,53 @@\n   }\n }\n \n+.add-issuable-form-input-wrapper {\n+  height: auto;\n+  padding: $gl-vert-padding $gl-vert-padding 0 $gl-input-padding;\n+\n+  \u0026.focus,\n+  \u0026.focus:hover {\n+    border-color: $blue-300;\n+    box-shadow: 0 0 4px $dropdown-input-focus-shadow;\n+  }\n+}\n+\n+.add-issuable-form-input-token-list {\n+  display: flex;\n+  flex-wrap: wrap;\n+  align-items: baseline;\n+  list-style: none;\n+  margin-bottom: 0;\n+  padding-left: 0;\n+}\n+\n+.add-issuable-form-token-list-item {\n+  max-width: 100%;\n+  margin-bottom: $gl-vert-padding;\n+  margin-right: 5px;\n+}\n+\n+.add-issuable-form-input-list-item {\n+  flex: 1;\n+  min-width: 200px;\n+  margin-bottom: $gl-vert-padding;\n+}\n+\n+.add-issuable-form-input {\n+  width: 100%;\n+  border: 0;\n+\n+  \u0026:focus {\n+    outline: none;\n+  }\n+}\n+\n+.add-issuable-form-actions {\n+  margin-top: $gl-padding;\n+}\n+\n .right-sidebar-collapsed {\n   .sidebar-grouped-item {\n-    .sidebar-collapsed-icon {\n-      margin-bottom: 0;\n-    }\n-\n     .sidebar-collapsed-divider {\n       line-height: 5px;\n       font-size: 12px;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/pages/members.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/members.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/members.scss\nindex 99609a96976..efa3c7dbead 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/members.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/members.scss\n@@ -14,6 +14,12 @@\n }\n \n .member {\n+  \u0026.is-overriden {\n+    .btn-ldap-override {\n+      display: none !important;\n+    }\n+  }\n+\n   .list-item-name {\n     @include media-breakpoint-up(sm) {\n       float: left;\n@@ -123,6 +129,50 @@\n   outline: 0;\n }\n \n+.members-ldap {\n+  -webkit-align-self: center;\n+  align-self: center;\n+  height: 100%;\n+  margin-right: 10px;\n+  margin-left: -49px;\n+}\n+\n+.alert-member-ldap {\n+  background-color: $orange-50;\n+\n+  @include media-breakpoint-up(sm) {\n+    line-height: 40px;\n+  }\n+\n+  \u003e p {\n+    float: left;\n+    margin-bottom: 10px;\n+    color: $orange-600;\n+\n+    @include media-breakpoint-up(sm) {\n+      padding-left: 55px;\n+      margin-bottom: 0;\n+    }\n+  }\n+\n+  .controls {\n+    width: 100%;\n+\n+    @include media-breakpoint-up(sm) {\n+      width: auto;\n+    }\n+  }\n+}\n+\n+.btn-ldap-override {\n+  width: 100%;\n+\n+  @include media-breakpoint-up(sm) {\n+    margin-left: 10px;\n+    width: auto;\n+  }\n+}\n+\n .flex-project-members-panel {\n   display: flex;\n   flex-direction: row;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/pages/settings.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/settings.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/settings.scss\nindex c5b9d1f6885..bef215bd59c 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/settings.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/settings.scss\n@@ -211,6 +211,31 @@\n   }\n }\n \n+.nested-settings {\n+  padding-left: 20px;\n+}\n+\n+.input-btn-group {\n+  display: flex;\n+\n+  .input-large {\n+    flex: 1;\n+  }\n+\n+  .btn {\n+    margin-left: 10px;\n+  }\n+}\n+\n+.settings-flex-row {\n+  display: flex;\n+  align-items: center;\n+\n+  .float-right {\n+    margin-left: auto;\n+  }\n+}\n+\n .prometheus-metrics-monitoring {\n   .card {\n     .card-toggle {\n@@ -241,14 +266,24 @@\n     }\n   }\n \n-  .loading-metrics,\n-  .empty-metrics {\n-    padding: 30px 10px;\n+  .custom-monitored-metrics {\n+    .card-title {\n+      display: flex;\n+      align-items: center;\n \n-    p,\n-    .btn {\n-      margin-top: 10px;\n-      margin-bottom: 0;\n+      \u003e .btn-success {\n+        margin-left: auto;\n+      }\n+    }\n+\n+    .custom-metric {\n+      display: flex;\n+      align-items: center;\n+    }\n+\n+    .custom-metric-link-bold {\n+      font-weight: $gl-font-weight-bold;\n+      text-decoration: none;\n     }\n   }\n \n@@ -275,6 +310,12 @@\n   }\n }\n \n+.saml-settings.info-well {\n+  .form-control[readonly] {\n+    background: $white-light;\n+  }\n+}\n+\n .modal-doorkeepr-auth {\n   .modal-body {\n     padding: $gl-padding;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/pages/groups.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/groups.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/groups.scss\nindex 8ade995525a..0a07747e0d4 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/groups.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/groups.scss\n@@ -15,6 +15,11 @@\n   word-wrap: nowrap;\n }\n \n+.content-list .group-name {\n+  font-weight: $gl-font-weight-bold;\n+  color: $pages-group-name-color;\n+}\n+\n .group-row {\n   @include basic-list-stats;\n \n@@ -172,6 +177,50 @@\n   }\n }\n \n+.card {\n+  .shared_runners_limit_under_quota {\n+    color: $green-500;\n+  }\n+\n+  .shared_runners_limit_over_quota {\n+    color: $red-500;\n+  }\n+}\n+\n+.pipeline-quota {\n+  border-top: 1px solid $table-border-color;\n+  border-bottom: 1px solid $table-border-color;\n+  margin: 0 0 $gl-padding;\n+\n+  .row {\n+    padding-top: 10px;\n+    padding-bottom: 10px;\n+  }\n+\n+  .right {\n+    text-align: right;\n+  }\n+\n+  .progress {\n+    height: 6px;\n+    width: 100%;\n+    margin-bottom: 0;\n+    margin-top: 4px;\n+  }\n+}\n+\n+.user-settings-pipeline-quota {\n+  margin-top: $gl-padding;\n+\n+  .pipeline-quota {\n+    border-top: 0;\n+  }\n+}\n+\n+table.pipeline-project-metrics tr td {\n+  padding: $gl-padding;\n+}\n+\n .mattermost-icon svg {\n   width: 16px;\n   height: 16px;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/pages/builds.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/builds.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/builds.scss\nindex 65f46e3852a..a39b1091279 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/builds.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/builds.scss\n@@ -50,7 +50,6 @@\n     position: relative;\n   }\n \n-\n   .build-trace {\n     @include build-trace();\n   }\n@@ -139,12 +138,6 @@\n   }\n }\n \n-.with-performance-bar .build-page {\n-  .top-bar.affix {\n-    top: $header-height + $performance-bar-height;\n-  }\n-}\n-\n .build-header {\n   .ci-header-container,\n   .header-action-buttons {\n@@ -388,3 +381,14 @@\n   right: 0;\n   margin-top: -17px;\n }\n+\n+@include media-breakpoint-down(sm) {\n+  .top-bar {\n+    .truncated-info {\n+      white-space: nowrap;\n+      overflow: hidden;\n+      max-width: 220px;\n+      text-overflow: ellipsis;\n+    }\n+  }\n+}\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/pages/environments.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/environments.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/environments.scss\nindex b6abb792709..5c2c458e170 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/environments.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/environments.scss\n@@ -123,6 +123,166 @@\n   }\n }\n \n+/**\n+ * Deploy boards\n+ */\n+.deploy-board {\n+  padding: 10px;\n+  background-color: $gray-light;\n+  min-height: 20px;\n+\n+  .fa-spinner {\n+    margin: 0 auto;\n+    width: 20px;\n+    display: block;\n+    font-size: 20px;\n+  }\n+\n+  \u003e div {\n+    display: flex;\n+    justify-content: space-between;\n+\n+    .deploy-board-information {\n+      order: 1;\n+      display: flex;\n+      width: 70px;\n+      flex-wrap: wrap;\n+      justify-content: center;\n+      margin: 20px 0 20px 5px;\n+\n+      \u003e span {\n+        text-align: center;\n+      }\n+\n+      .percentage {\n+        color: $gl-text-color;\n+      }\n+\n+      .text {\n+        color: $gl-text-color-secondary;\n+      }\n+    }\n+\n+    .deploy-board-instances {\n+      order: 2;\n+      margin-left: 20px;\n+      width: 100%;\n+\n+      .text {\n+        color: $gl-text-color-secondary;\n+        font-size: 12px;\n+      }\n+\n+      .deploy-board-instances-container {\n+        display: flex;\n+        flex-wrap: wrap;\n+        flex-direction: row;\n+        margin-top: -8px;\n+      }\n+    }\n+\n+    .deploy-board-actions {\n+      order: 3;\n+      align-self: center;\n+      min-width: 150px;\n+      margin-left: 10px;\n+    }\n+\n+    \u0026.deploy-board-error-message {\n+      justify-content: center;\n+    }\n+\n+    .deploy-board-empty-state-svg {\n+      order: 1;\n+      width: 90px;\n+      margin: auto 0 auto 20px;\n+    }\n+\n+    .deploy-board-empty-state-text {\n+      order: 2;\n+      flex-wrap: wrap;\n+      margin: auto auto 15px 0;\n+\n+      .title {\n+        order: 1;\n+        display: flex;\n+        font-size: 17px;\n+        line-height: 40px;\n+      }\n+    }\n+  }\n+}\n+\n+.deploy-board-instance {\n+  width: 15px;\n+  height: 15px;\n+  border-radius: 3px;\n+  border-width: 1px;\n+  border-style: solid;\n+  margin: 1px;\n+  display: flex;\n+  justify-content: center;\n+  align-items: center;\n+\n+  \u0026-running {\n+    background-color: $green-100;\n+    border-color: $green-400;\n+\n+    // EE-specific start\n+    \u0026:hover {\n+      background-color: $green-300;\n+      border-color: $green-500;\n+    }\n+    // EE-specific end\n+  }\n+\n+  \u0026-succeeded {\n+    background-color: $green-50;\n+    border-color: $green-400;\n+  }\n+\n+  \u0026-failed {\n+    background-color: $red-200;\n+    border-color: $red-500;\n+  }\n+\n+  \u0026-unknown {\n+    background-color: $red-200;\n+    border-color: $red-500;\n+  }\n+\n+  \u0026-pending {\n+    background-color: $white-light;\n+    border-color: $border-color;\n+  }\n+\n+  \u0026.deploy-board-instance-canary {\n+    \u0026::after {\n+      width: 7px;\n+      height: 7px;\n+      border: 1px solid $white-light;\n+      background-color: $orange-300;\n+      border-radius: 50%;\n+      content: '';\n+    }\n+  }\n+}\n+\n+.deploy-board-icon {\n+  display: none;\n+\n+  @include media-breakpoint-up(md) {\n+    float: left;\n+    display: block;\n+  }\n+\n+  i {\n+    cursor: pointer;\n+    color: $layout-link-gray;\n+    padding-right: 10px;\n+  }\n+}\n+\n .gl-responsive-table-row {\n   .branch-commit {\n     max-width: 100%;\n@@ -355,8 +515,8 @@\n       top: 13px;\n     }\n \n-    \u003e .popover-title,\n-    \u003e .popover-content {\n+    \u003e .popover-header,\n+    \u003e .popover-body {\n       padding: 8px;\n       font-size: 12px;\n       white-space: nowrap;\n@@ -484,3 +644,136 @@\n .prometheus-table-row-highlight {\n   background-color: $gray-100;\n }\n+\n+// EE-only\n+.cluster-health-graphs {\n+  .prometheus-state {\n+    .state-svg img {\n+      max-height: 120px;\n+    }\n+\n+    .state-description,\n+    .state-button {\n+      display: none;\n+    }\n+  }\n+}\n+\n+.alert-dropdown-button {\n+  margin-left: $btn-side-margin;\n+\n+  .dropdown.open \u0026 {\n+    background: $white-normal;\n+    outline: 0;\n+  }\n+\n+  svg {\n+    margin: 0;\n+\n+    + svg {\n+      margin-left: -$gl-padding-4;\n+    }\n+\n+    \u0026.chevron {\n+      color: $gl-text-color-secondary;\n+    }\n+  }\n+}\n+\n+.alert-dropdown-menu {\n+  right: 0;\n+  left: auto;\n+  z-index: $zindex-popover + 5; // must be higher than graph flag popover\n+\n+  .dropdown-title {\n+    margin: 0;\n+  }\n+}\n+\n+.alert-error-message {\n+  color: $red-500;\n+  vertical-align: middle;\n+}\n+\n+.alert-current-setting {\n+  color: $gl-text-color-disabled;\n+  vertical-align: middle;\n+}\n+\n+.alert-form {\n+  padding: $gl-padding $gl-padding $gl-padding-8;\n+\n+  label {\n+    font-weight: normal;\n+  }\n+\n+  .btn-group,\n+  .action-group {\n+    display: flex;\n+\n+    .btn {\n+      flex: 1 auto;\n+      box-shadow: none;\n+    }\n+  }\n+\n+  .action-group .btn + .btn {\n+    margin-left: $gl-padding-8;\n+  }\n+}\n+\n+// ee-only start\n+.canary-deployment-callout {\n+  border-bottom: 1px solid $border-white-normal;\n+  display: flex;\n+\n+  @include media-breakpoint-down(sm) {\n+    display: none;\n+  }\n+\n+  \u0026-lock {\n+    height: 82px;\n+    width: 92px;\n+  }\n+\n+  \u0026-message {\n+    max-width: 600px;\n+    color: $gray-700;\n+  }\n+\n+  \u0026-close {\n+    color: $gray-700;\n+    cursor: pointer;\n+  }\n+\n+  \u0026-button {\n+    border-color: $blue-500;\n+    color: $blue-500;\n+\n+    \u0026:not(:disabled):not(.disabled):active {\n+      background-color: $blue-200;\n+      border: 2px solid $blue-600;\n+      color: $blue-700;\n+      height: 34px;\n+      padding: 5px 9px;\n+    }\n+\n+    \u0026:focus {\n+      background-color: $blue-100;\n+      border: 2px solid $blue-500;\n+      box-shadow: 0 0 4px 1px $blue-200;\n+      color: $blue-600;\n+      height: 34px;\n+      padding: 5px 9px;\n+    }\n+\n+    \u0026:hover {\n+      background-color: $blue-100;\n+      border: 2px solid $blue-500;\n+      color: $blue-600;\n+      height: 34px;\n+      padding: 5px 9px;\n+    }\n+  }\n+}\n+// ee-only end\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/stylesheets/pages/profile.scss\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/profile.scss b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/profile.scss\nindex a1e847009fc..86fb050c282 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/stylesheets/pages/profile.scss\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/stylesheets/pages/profile.scss\n@@ -322,6 +322,7 @@ table.u2f-registrations {\n   margin: 20px -5px 0;\n \n   .bordered-box {\n+    padding: 32px;\n     border: 1px solid $blue-300;\n     border-radius: $border-radius-default;\n     background-color: $blue-50;\n@@ -329,10 +330,6 @@ table.u2f-registrations {\n     display: flex;\n     justify-content: center;\n     align-items: center;\n-  }\n-\n-  .landing {\n-    padding: 32px;\n \n     .close {\n       position: absolute;\n@@ -478,3 +475,41 @@ table.u2f-registrations {\n .help-block {\n   color: $gl-text-color-secondary;\n }\n+\n+.gitlab-slack-gif {\n+  width: 100%;\n+  max-width: $add-to-slack-gif-max-width;\n+}\n+\n+.gitlab-slack-well {\n+  background-color: $white-light;\n+  box-shadow: none;\n+  max-width: $add-to-slack-well-max-width;\n+}\n+\n+.gitlab-slack-logo {\n+  width: $add-to-slack-logo-size;\n+  height: $add-to-slack-logo-size;\n+}\n+\n+.gitlab-slack-popup {\n+  width: 100%;\n+  max-width: $add-to-slack-popup-max-width;\n+}\n+\n+.gitlab-slack-right-arrow svg {\n+  fill: $white-dark;\n+  width: $right-arrow-size;\n+  height: $right-arrow-size;\n+  vertical-align: text-bottom;\n+}\n+\n+.gitlab-slack-double-headed-arrow {\n+  vertical-align: text-top;\n+\n+  svg {\n+    fill: $gray-darker;\n+    width: $double-headed-arrow-width;\n+    height: $double-headed-arrow-height;\n+  }\n+}\n```\n\n\u003c/details\u003e\n","state":"closed","created_at":"2018-12-04T14:40:29.887Z","updated_at":"2019-12-02T11:55:55.946Z","closed_at":"2019-02-25T12:29:02.178Z","closed_by":{"id":116,"username":"marin","name":"Marin Jankovski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5154f0b0eda3f798c8a254962d57192f?s=80\u0026d=identicon","web_url":"https://gitlab.com/marin"},"labels":["Enterprise Edition","[deprecated] Accepting merge requests","backstage [DEPRECATED]","frontend","team::Delivery"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8712","time_stats":{"time_estimate":288000,"total_time_spent":0,"human_time_estimate":"80h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8712","notes":"https://gitlab.com/api/v4/projects/278964/issues/8712/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8712/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8712","relative":"#8712","full":"gitlab-org/gitlab#8712"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":16317797,"iid":8711,"project_id":278964,"title":"Move all EE specific frontend assets behind an EE flag","description":"Similar to https://gitlab.com/gitlab-org/gitlab-ee/issues/8710, we need to gate all EE specific changes made to all frontend assets out of the CE code behind an EE flag.\n\n@filipa created a proposal of how this can be accomplished for each of the frontend assets:\n\n## CSS\n\n- All our CSS will be under the MIT license. Since CSS is only applied when the elemnents exist, I'd say it's safe to keep the current structure we have.\n- The frontend team is working on moving CSS from sprockets to webpack, which eventually will allow us to do code splitting and only load the CSS we need per page.\n\n\n## JavaScript\n### Vue Files\nVue files are composed for a `script` tag, which is plain JS and a `template` tag.\n\nWe will create a [global](https://vuejs.org/v2/guide/mixins.html#Global-Mixin) `mixin` with a function called `renderIfEE`.\n\n#### `script` tag\n* **For child components only imported in EE**\n  - We will use [`async components`](https://vuejs.org/v2/guide/components-dynamic-async.html#Async-Components) to import components that should be imported for EE code only. \n\n  ##### Example:\n  ```javascript\n    components: {\n      'ee-component': () =\u003e this.renderIfEE \u0026\u0026 import('./ee-component.vue')\n    }\n  ```\n\n* **For JS code that is EE only, like props, computed properties, methods, etc, we will keep the current approach**\n\n  - Since we [can't async load a mixin](https://github.com/vuejs/vue-loader/issues/418#issuecomment-254032223) we will use the [`ee_else_ce`](https://docs.gitlab.com/ee/development/ee_features.html#javascript-code-in-assetsjavascripts) alias we already have for webpack.\n  - This means all the EE specific props, computed properties, methods, etc that are EE only should be in a mixin in the `ee/` folder and we need to create a CE counterpart of the mixin\n\n  ##### Example:\n  ```javascript\n  import mixin from 'ee_else_ce/path/mixin';\n\n  {\n    mixins: [mixin]\n  }\n  ```\n- Computed Properties/methods and getters only used in the child import still need a counterpart in CE\n- For store modules, we will need a CE counterpart too.\n\n#### `template` tag\n* **EE Child components**\n  - Since we are using the async loading to check which component to load, we'd still use the component's name\n  ##### Example:\n  ```vue\n  \u003cscript\u003e\n  {\n    components: {\n      'ee-component': () =\u003e this.renderIfEE ? import('./ee-component.vue') : import('vue_shared/compoments/empty_ce_vue_component.vue')\n    }\n  }\n  \u003c/script\u003e\n  \u003ctemplate\u003e\n    \u003cdiv\u003e\n      \u003cee-component\u003e\n    \u003c/div\u003e\n  \u003c/template\u003e\n  ```\n\n* **EE extra HTML**\n  - For the templates that have extra HTML in EE we will use the `renderIfEE` mixin with the `v-if` directive.\n  - You can either use the `template` tag as a wrapper or directly in the element, if there is only one element to be rendered in EE:\n  ```html\n    \u003ctemplate v-if=\"renderIfEE\"\u003e\n      \u003cp\u003eSeveral\u003c/p\u003e\n      \u003cp\u003enon wrapper\u003c/p\u003e\n      \u003cp\u003eelements\u003c/p\u003e\n      \u003cp\u003ethat are rendered\u003c/p\u003e\n      \u003cp\u003ein EE only\u003c/p\u003e\n    \u003c/template\u003e\n  ```\n\n  ```html\n    \u003cul v-if=\"renderIfEE\"\u003e\n      \u003cli\u003eOne wrapped\u003c/li\u003e\n      \u003cli\u003eelement\u003c/li\u003e\n      \u003cli\u003ethat is rendered\u003c/li\u003e\n      \u003cli\u003ein EE only\u003c/li\u003e\n    \u003c/template\u003e\n  ```\n\n### Non Vue Files\nFor regular JS files, the approach is similar.\n\n1. We will keep using the [`ee_else_ce`](https://docs.gitlab.com/ee/development/ee_features.html#javascript-code-in-assetsjavascripts) helper, this means that EE only code should be inside the `ee/` folder.\n  1. An EE file should be created with the EE only code, and it should extend the CE counterpart.\n1. We will create an helper function `renderIfEE` in our utils files. For code inside functions that can't be extended, we will use an `if` statement.\n  ##### example:\n  ```javascript\n  import renderIfEE from '~/lib/utils/common_utils'\n  if (renderIfEE) {\n    $('.js-import-git-toggle-button').on('click', () =\u003e {\n      const $projectMirror = $('#project_mirror');\n\n      $projectMirror.attr('disabled', !$projectMirror.attr('disabled'));\n    });\n  }\n  ``` \n\n\n## Differences\n\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/sidebar/components/todo_toggle/todo.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/sidebar/components/todo_toggle/todo.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/sidebar/components/todo_toggle/todo.vue\nindex 706e6ca19c3..57125c78cf6 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/sidebar/components/todo_toggle/todo.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/sidebar/components/todo_toggle/todo.vue\n@@ -50,6 +50,9 @@ export default {\n     buttonLabel() {\n       return this.isTodo ? MARK_TEXT : TODO_TEXT;\n     },\n+    buttonTooltip() {\n+      return !this.collapsed ? undefined : this.buttonLabel;\n+    },\n     collapsedButtonIconClasses() {\n       return this.isTodo ? 'todo-undone' : '';\n     },\n@@ -69,7 +72,7 @@ export default {\n   \u003cbutton\n     v-tooltip\n     :class=\"buttonClasses\"\n-    :title=\"buttonLabel\"\n+    :title=\"buttonTooltip\"\n     :aria-label=\"buttonLabel\"\n     :data-issuable-id=\"issuableId\"\n     :data-issuable-type=\"issuableType\"\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/projects/project_new.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/projects/project_new.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/projects/project_new.js\nindex 998554d1be5..0105a4d919e 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/projects/project_new.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/projects/project_new.js\n@@ -161,6 +161,12 @@ const bindEvents = () =\u003e {\n \n   $projectImportUrl.keyup(() =\u003e deriveProjectPathFromUrl($projectImportUrl));\n \n+  $('.js-import-git-toggle-button').on('click', () =\u003e {\n+    const $projectMirror = $('#project_mirror');\n+\n+    $projectMirror.attr('disabled', !$projectMirror.attr('disabled'));\n+  });\n+\n   $projectName.on('keyup change', () =\u003e {\n     onProjectNameChange($projectName, $projectPath);\n     hasUserDefinedProjectPath = $projectPath.val().trim().length \u003e 0;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/monitoring/components/dashboard.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/monitoring/components/dashboard.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/monitoring/components/dashboard.vue\nindex cea5c1a56ca..9e2b84d2d1d 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/monitoring/components/dashboard.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/monitoring/components/dashboard.vue\n@@ -1,4 +1,7 @@\n \u003cscript\u003e\n+// ee-only\n+import DashboardMixin from 'ee/monitoring/components/dashboard_mixin';\n+\n import _ from 'underscore';\n import { s__ } from '~/locale';\n import Icon from '~/vue_shared/components/icon.vue';\n@@ -19,6 +22,10 @@ export default {\n     EmptyState,\n     Icon,\n   },\n+\n+  // ee-only\n+  mixins: [DashboardMixin],\n+\n   props: {\n     hasMetrics: {\n       type: Boolean,\n@@ -93,6 +100,11 @@ export default {\n       type: String,\n       required: true,\n     },\n+    showEnvironmentDropdown: {\n+      type: Boolean,\n+      required: false,\n+      default: true,\n+    },\n   },\n   data() {\n     return {\n@@ -131,9 +143,29 @@ export default {\n   },\n   mounted() {\n     this.resizeThrottled = _.debounce(this.resize, 100);\n+    this.servicePromises = [\n+      this.service\n+        .getGraphsData()\n+        .then(data =\u003e this.store.storeMetrics(data))\n+        .catch(() =\u003e Flash(s__('Metrics|There was an error while retrieving metrics'))),\n+      this.service\n+        .getDeploymentData()\n+        .then(data =\u003e this.store.storeDeploymentData(data))\n+        .catch(() =\u003e Flash(s__('Metrics|There was an error getting deployment information.'))),\n+    ];\n     if (!this.hasMetrics) {\n       this.state = 'gettingStarted';\n     } else {\n+      if (this.showEnvironmentDropdown) {\n+        this.servicePromises.push(\n+          this.service\n+            .getEnvironmentsData()\n+            .then(data =\u003e this.store.storeEnvironmentsData(data))\n+            .catch(() =\u003e\n+              Flash(s__('Metrics|There was an error getting environments information.')),\n+            ),\n+        );\n+      }\n       this.getGraphsData();\n       window.addEventListener('resize', this.resizeThrottled, false);\n \n@@ -149,17 +181,7 @@ export default {\n     },\n     getGraphsData() {\n       this.state = 'loading';\n-      Promise.all([\n-        this.service.getGraphsData().then(data =\u003e this.store.storeMetrics(data)),\n-        this.service\n-          .getDeploymentData()\n-          .then(data =\u003e this.store.storeDeploymentData(data))\n-          .catch(() =\u003e Flash(s__('Metrics|There was an error getting deployment information.'))),\n-        this.service\n-          .getEnvironmentsData()\n-          .then(data =\u003e this.store.storeEnvironmentsData(data))\n-          .catch(() =\u003e Flash(s__('Metrics|There was an error getting environments information.'))),\n-      ])\n+      Promise.all(this.servicePromises)\n         .then(() =\u003e {\n           if (this.store.groups.length \u003c 1) {\n             this.state = 'noData';\n@@ -185,7 +207,7 @@ export default {\n \n \u003ctemplate\u003e\n   \u003cdiv v-if=\"!showEmptyState\" :key=\"forceRedraw\" class=\"prometheus-graphs prepend-top-default\"\u003e\n-    \u003cdiv class=\"environments d-flex align-items-center\"\u003e\n+    \u003cdiv v-if=\"showEnvironmentDropdown\" class=\"environments d-flex align-items-center\"\u003e\n       {{ s__('Metrics|Environment') }}\n       \u003cdiv class=\"dropdown prepend-left-10\"\u003e\n         \u003cbutton class=\"dropdown-menu-toggle\" data-toggle=\"dropdown\" type=\"button\"\u003e\n@@ -230,7 +252,24 @@ export default {\n         group-id=\"monitor-area-chart\"\n       \u003e\n         \u003c!-- EE content --\u003e\n-        {{ null }}\n+        \u003ctemplate slot=\"additionalSvgContent\" scope=\"{ graphDrawData }\"\u003e\n+          \u003cthreshold-lines\n+            v-for=\"(alert, alertName) in alertData[graphData.id]\"\n+            :key=\"alertName\"\n+            :operator=\"alert.operator\"\n+            :threshold=\"alert.threshold\"\n+            :graph-draw-data=\"graphDrawData\"\n+          /\u003e\n+        \u003c/template\u003e\n+        \u003calert-widget\n+          v-if=\"alertsEndpoint \u0026\u0026 graphData.id\"\n+          :alerts-endpoint=\"alertsEndpoint\"\n+          :label=\"getGraphLabel(graphData)\"\n+          :current-alerts=\"getQueryAlerts(graphData)\"\n+          :custom-metric-id=\"graphData.id\"\n+          :alert-data=\"alertData[graphData.id]\"\n+          @setAlerts=\"setAlerts\"\n+        /\u003e\n       \u003c/component\u003e\n     \u003c/graph-group\u003e\n   \u003c/div\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/notes/components/noteable_discussion.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/noteable_discussion.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/noteable_discussion.vue\nindex 695efe3602f..ce843a7bb4b 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/noteable_discussion.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/noteable_discussion.vue\n@@ -6,6 +6,8 @@ import { truncateSha } from '~/lib/utils/text_utility';\n import { s__, __, sprintf } from '~/locale';\n import systemNote from '~/vue_shared/components/notes/system_note.vue';\n import icon from '~/vue_shared/components/icon.vue';\n+import batchCommentsDiffLineNoteFormMixin from 'ee/batch_comments/mixins/diff_line_note_form';\n+import DraftNote from 'ee/batch_comments/components/draft_note.vue';\n import TimelineEntryItem from '~/vue_shared/components/notes/timeline_entry_item.vue';\n import Flash from '../../flash';\n import { SYSTEM_NOTE } from '../constants';\n@@ -42,12 +44,19 @@ export default {\n     placeholderNote,\n     placeholderSystemNote,\n     systemNote,\n+    DraftNote,\n     TimelineEntryItem,\n   },\n   directives: {\n     GlTooltip: GlTooltipDirective,\n   },\n-  mixins: [autosave, noteable, resolvable, discussionNavigation],\n+  mixins: [\n+    autosave,\n+    noteable,\n+    resolvable,\n+    discussionNavigation,\n+    batchCommentsDiffLineNoteFormMixin,\n+  ],\n   props: {\n     discussion: {\n       type: Object,\n@@ -85,6 +94,7 @@ export default {\n     return {\n       isReplying: false,\n       isResolving: false,\n+      isUnresolving: false,\n       resolveAsThread: true,\n       isRepliesCollapsed: Boolean(!isDiffDiscussion \u0026\u0026 resolved),\n     };\n@@ -440,8 +450,13 @@ Please check your network connection and try again.`;\n                   \u003c/component\u003e\n                 \u003c/template\u003e\n               \u003c/ul\u003e\n+              \u003cdraft-note\n+                v-if=\"showDraft(discussion.reply_id)\"\n+                :key=\"`draft_${discussion.id}`\"\n+                :draft=\"draftForDiscussion(discussion.reply_id)\"\n+              /\u003e\n               \u003cdiv\n-                v-if=\"!isRepliesCollapsed || !hasReplies\"\n+                v-else-if=\"!isRepliesCollapsed || !hasReplies\"\n                 :class=\"{ 'is-replying': isReplying }\"\n                 class=\"discussion-reply-holder\"\n               \u003e\n@@ -490,6 +505,7 @@ Please check your network connection and try again.`;\n                   :is-editing=\"false\"\n                   :line=\"diffLine\"\n                   save-button-title=\"Comment\"\n+                  @handleFormUpdateAddToReview=\"addReplyToReview\"\n                   @handleFormUpdate=\"saveReply\"\n                   @cancelForm=\"cancelReplyForm\"\n                 /\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/notes/components/note_actions.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/note_actions.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/note_actions.vue\nindex d99694b06e9..da78e4605d4 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/note_actions.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/note_actions.vue\n@@ -2,6 +2,7 @@\n import { mapGetters } from 'vuex';\n import Icon from '~/vue_shared/components/icon.vue';\n import { GlLoadingIcon, GlTooltipDirective } from '@gitlab/ui';\n+import resolvedStatusMixin from 'ee/batch_comments/mixins/resolved_status';\n \n export default {\n   name: 'NoteActions',\n@@ -12,6 +13,7 @@ export default {\n   directives: {\n     GlTooltip: GlTooltipDirective,\n   },\n+  mixins: [resolvedStatusMixin],\n   props: {\n     authorId: {\n       type: Number,\n@@ -93,6 +95,8 @@ export default {\n       return this.getUserDataByProp('id');\n     },\n     resolveButtonTitle() {\n+      if (this.discussionId) return this.resolvedStatusMessage;\n+\n       let title = 'Mark as resolved';\n \n       if (this.resolvedBy) {\n@@ -113,6 +117,7 @@ export default {\n       this.$emit('handleResolve');\n     },\n   },\n+  showStaysResolved: true,\n };\n \u003c/script\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/notes/components/note_body.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/note_body.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/note_body.vue\nindex bcf5d334da4..82b6cd35ec2 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/note_body.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/note_body.vue\n@@ -1,5 +1,5 @@\n \u003cscript\u003e\n-import { mapActions } from 'vuex';\n+import { mapGetters, mapActions } from 'vuex';\n import $ from 'jquery';\n import noteEditedText from './note_edited_text.vue';\n import noteAwardsList from './note_awards_list.vue';\n@@ -43,6 +43,7 @@ export default {\n     },\n   },\n   computed: {\n+    ...mapGetters(['getDiscussion']),\n     noteBody() {\n       return this.note.note;\n     },\n@@ -52,6 +53,11 @@ export default {\n     lineType() {\n       return this.line ? this.line.type : null;\n     },\n+    discussion() {\n+      if (!this.note.isDraft) return {};\n+\n+      return this.getDiscussion(this.note.discussion_id);\n+    },\n   },\n   mounted() {\n     this.renderGFM();\n@@ -76,8 +82,8 @@ export default {\n     renderGFM() {\n       $(this.$refs['note-body']).renderGFM();\n     },\n-    handleFormUpdate(note, parentElement, callback) {\n-      this.$emit('handleFormUpdate', note, parentElement, callback);\n+    handleFormUpdate(note, parentElement, callback, resolveDiscussion) {\n+      this.$emit('handleFormUpdate', note, parentElement, callback, resolveDiscussion);\n     },\n     formCancelHandler(shouldConfirm, isDirty) {\n       this.$emit('cancelForm', shouldConfirm, isDirty);\n@@ -112,6 +118,8 @@ export default {\n       :note=\"note\"\n       :help-page-path=\"helpPagePath\"\n       :markdown-version=\"note.cached_markdown_version\"\n+      :discussion=\"discussion\"\n+      :resolve-discussion=\"note.resolve_discussion\"\n       @handleFormUpdate=\"handleFormUpdate\"\n       @cancelForm=\"formCancelHandler\"\n     /\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/notes/components/note_header.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/note_header.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/note_header.vue\nindex 7b39901024d..68b753a4abf 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/note_header.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/note_header.vue\n@@ -69,7 +69,7 @@ export default {\n         type=\"button\"\n         @click=\"handleToggle\"\n       \u003e\n-        \u003ci :class=\"toggleChevronClass\" class=\"fa\" aria-hidden=\"true\"\u003e \u003c/i\u003e\n+        \u003ci :class=\"toggleChevronClass\" class=\"fa\" aria-hidden=\"true\"\u003e\u003c/i\u003e\n         {{ __('Toggle discussion') }}\n       \u003c/button\u003e\n     \u003c/div\u003e\n@@ -81,19 +81,18 @@ export default {\n       :data-user-id=\"author.id\"\n       :data-username=\"author.username\"\n     \u003e\n+      \u003cslot name=\"note-header-info\"\u003e\u003c/slot\u003e\n       \u003cspan class=\"note-header-author-name\"\u003e{{ author.name }}\u003c/span\u003e\n       \u003cspan v-if=\"author.status_tooltip_html\" v-html=\"author.status_tooltip_html\"\u003e\u003c/span\u003e\n-      \u003cspan class=\"note-headline-light\"\u003e @{{ author.username }} \u003c/span\u003e\n+      \u003cspan class=\"note-headline-light\"\u003e@{{ author.username }}\u003c/span\u003e\n     \u003c/a\u003e\n-    \u003cspan v-else\u003e {{ __('A deleted user') }} \u003c/span\u003e\n+    \u003cspan v-else\u003e{{ __('A deleted user') }}\u003c/span\u003e\n     \u003cspan class=\"note-headline-light\"\u003e\n       \u003cspan class=\"note-headline-meta\"\u003e\n         \u003cspan class=\"system-note-message\"\u003e \u003cslot\u003e\u003c/slot\u003e \u003c/span\u003e\n         \u003ctemplate v-if=\"createdAt\"\u003e\n           \u003cspan class=\"system-note-separator\"\u003e\n-            \u003ctemplate v-if=\"actionText\"\u003e\n-              {{ actionText }}\n-            \u003c/template\u003e\n+            \u003ctemplate v-if=\"actionText\"\u003e{{ actionText }}\u003c/template\u003e\n           \u003c/span\u003e\n           \u003ca\n             :href=\"noteTimestampLink\"\n@@ -107,8 +106,7 @@ export default {\n           class=\"fa fa-spinner fa-spin editing-spinner\"\n           aria-label=\"Comment is being updated\"\n           aria-hidden=\"true\"\n-        \u003e\n-        \u003c/i\u003e\n+        \u003e\u003c/i\u003e\n       \u003c/span\u003e\n     \u003c/span\u003e\n   \u003c/div\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/notes/components/note_form.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/note_form.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/note_form.vue\nindex 269b4a4b117..07cc7bf9c8b 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/note_form.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/note_form.vue\n@@ -7,6 +7,7 @@ import markdownField from '../../vue_shared/components/markdown/field.vue';\n import issuableStateMixin from '../mixins/issuable_state';\n import resolvable from '../mixins/resolvable';\n import { __ } from '~/locale';\n+import noteFormMixin from 'ee/batch_comments/mixins/note_form';\n \n export default {\n   name: 'NoteForm',\n@@ -14,7 +15,7 @@ export default {\n     issueWarning,\n     markdownField,\n   },\n-  mixins: [issuableStateMixin, resolvable],\n+  mixins: [issuableStateMixin, resolvable, noteFormMixin],\n   props: {\n     noteBody: {\n       type: String,\n@@ -151,19 +152,29 @@ export default {\n       return shouldResolve || shouldToggleState;\n     },\n     handleKeySubmit() {\n-      this.handleUpdate();\n+      if (this.showBatchCommentsActions) {\n+        this.handleAddToReview();\n+      } else {\n+        this.handleUpdate();\n+      }\n     },\n     handleUpdate(shouldResolve) {\n       const beforeSubmitDiscussionState = this.discussionResolved;\n       this.isSubmitting = true;\n \n-      this.$emit('handleFormUpdate', this.updatedNoteBody, this.$refs.editNoteForm, () =\u003e {\n-        this.isSubmitting = false;\n+      this.$emit(\n+        'handleFormUpdate',\n+        this.updatedNoteBody,\n+        this.$refs.editNoteForm,\n+        () =\u003e {\n+          this.isSubmitting = false;\n \n-        if (this.shouldToggleResolved(shouldResolve, beforeSubmitDiscussionState)) {\n-          this.resolveHandler(beforeSubmitDiscussionState);\n-        }\n-      });\n+          if (this.shouldToggleResolved(shouldResolve, beforeSubmitDiscussionState)) {\n+            this.resolveHandler(beforeSubmitDiscussionState);\n+          }\n+        },\n+        this.discussionResolved ? !this.isUnresolving : this.isResolving,\n+      );\n     },\n     editMyLastNote() {\n       if (this.updatedNoteBody === '') {\n@@ -227,28 +238,72 @@ export default {\n         \u003e\u003c/textarea\u003e\n       \u003c/markdown-field\u003e\n       \u003cdiv class=\"note-form-actions clearfix\"\u003e\n-        \u003cbutton\n-          :disabled=\"isDisabled\"\n-          type=\"button\"\n-          class=\"js-vue-issue-save btn btn-success js-comment-button qa-reply-comment-button\"\n-          @click=\"handleUpdate()\"\n-        \u003e\n-          {{ saveButtonTitle }}\n-        \u003c/button\u003e\n-        \u003cbutton\n-          v-if=\"discussion.resolvable\"\n-          class=\"btn btn-nr btn-default append-right-10 js-comment-resolve-button\"\n-          @click.prevent=\"handleUpdate(true)\"\n-        \u003e\n-          {{ resolveButtonTitle }}\n-        \u003c/button\u003e\n-        \u003cbutton\n-          class=\"btn btn-cancel note-edit-cancel js-close-discussion-note-form\"\n-          type=\"button\"\n-          @click=\"cancelHandler()\"\n-        \u003e\n-          Cancel\n-        \u003c/button\u003e\n+        \u003cp v-if=\"showResolveDiscussionToggle\"\u003e\n+          \u003clabel\u003e\n+            \u003ctemplate v-if=\"discussionResolved\"\u003e\n+              \u003cinput\n+                v-model=\"isUnresolving\"\n+                type=\"checkbox\"\n+                class=\"qa-unresolve-review-discussion\"\n+              /\u003e\n+              {{ __('Unresolve discussion') }}\n+            \u003c/template\u003e\n+            \u003ctemplate v-else\u003e\n+              \u003cinput v-model=\"isResolving\" type=\"checkbox\" class=\"qa-resolve-review-discussion\" /\u003e\n+              {{ __('Resolve discussion') }}\n+            \u003c/template\u003e\n+          \u003c/label\u003e\n+        \u003c/p\u003e\n+        \u003cdiv v-if=\"showBatchCommentsActions\"\u003e\n+          \u003cbutton\n+            :disabled=\"isDisabled\"\n+            type=\"button\"\n+            class=\"btn btn-success qa-start-review\"\n+            @click=\"handleAddToReview\"\n+          \u003e\n+            \u003ctemplate v-if=\"hasDrafts\"\u003e{{ __('Add to review') }}\u003c/template\u003e\n+            \u003ctemplate v-else\u003e{{ __('Start a review') }}\u003c/template\u003e\n+          \u003c/button\u003e\n+          \u003cbutton\n+            :disabled=\"isDisabled\"\n+            type=\"button\"\n+            class=\"btn qa-comment-now\"\n+            @click=\"handleUpdate()\"\n+          \u003e\n+            {{ __('Add comment now') }}\n+          \u003c/button\u003e\n+          \u003cbutton\n+            class=\"btn btn-cancel note-edit-cancel js-close-discussion-note-form\"\n+            type=\"button\"\n+            @click=\"cancelHandler()\"\n+          \u003e\n+            {{ __('Cancel') }}\n+          \u003c/button\u003e\n+        \u003c/div\u003e\n+        \u003ctemplate v-else\u003e\n+          \u003cbutton\n+            :disabled=\"isDisabled\"\n+            type=\"button\"\n+            class=\"js-vue-issue-save btn btn-success js-comment-button qa-reply-comment-button\"\n+            @click=\"handleUpdate()\"\n+          \u003e\n+            {{ saveButtonTitle }}\n+          \u003c/button\u003e\n+          \u003cbutton\n+            v-if=\"discussion.resolvable\"\n+            class=\"btn btn-nr btn-default append-right-10 js-comment-resolve-button\"\n+            @click.prevent=\"handleUpdate(true)\"\n+          \u003e\n+            {{ resolveButtonTitle }}\n+          \u003c/button\u003e\n+          \u003cbutton\n+            class=\"btn btn-cancel note-edit-cancel js-close-discussion-note-form\"\n+            type=\"button\"\n+            @click=\"cancelHandler()\"\n+          \u003e\n+            Cancel\n+          \u003c/button\u003e\n+        \u003c/template\u003e\n       \u003c/div\u003e\n     \u003c/form\u003e\n   \u003c/div\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/notes/components/noteable_note.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/noteable_note.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/noteable_note.vue\nindex 3c48d81ed05..8077d63f663 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/components/noteable_note.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/components/noteable_note.vue\n@@ -145,12 +145,16 @@ export default {\n       this.$refs.noteBody.resetAutoSave();\n       this.$emit('updateSuccess');\n     },\n-    formUpdateHandler(noteText, parentElement, callback) {\n+    formUpdateHandler(noteText, parentElement, callback, resolveDiscussion) {\n       this.$emit('handleUpdateNote', {\n         note: this.note,\n         noteText,\n+        resolveDiscussion,\n         callback: () =\u003e this.updateSuccess(),\n       });\n+\n+      if (this.note.isDraft) return;\n+\n       const data = {\n         endpoint: this.note.path,\n         note: {\n@@ -223,6 +227,7 @@ export default {\n     \u003cdiv class=\"timeline-content\"\u003e\n       \u003cdiv class=\"note-header\"\u003e\n         \u003cnote-header v-once :author=\"author\" :created-at=\"note.created_at\" :note-id=\"note.id\"\u003e\n+          \u003cslot slot=\"note-header-info\" name=\"note-header-info\"\u003e\u003c/slot\u003e\n           \u003cspan v-if=\"commit\" v-html=\"actionText\"\u003e\u003c/span\u003e\n           \u003cspan v-else class=\"d-none d-sm-inline\"\u003e\u0026middot;\u003c/span\u003e\n         \u003c/note-header\u003e\n@@ -235,12 +240,16 @@ export default {\n           :can-award-emoji=\"note.current_user.can_award_emoji\"\n           :can-delete=\"note.current_user.can_edit\"\n           :can-report-as-abuse=\"canReportAsAbuse\"\n-          :can-resolve=\"note.current_user.can_resolve\"\n+          :can-resolve=\"\n+            note.current_user.can_resolve || (note.isDraft \u0026\u0026 note.discussion_id !== null)\n+          \"\n           :report-abuse-path=\"note.report_abuse_path\"\n-          :resolvable=\"note.resolvable\"\n-          :is-resolved=\"note.resolved\"\n+          :resolvable=\"note.resolvable || note.isDraft\"\n+          :is-resolved=\"note.resolved || note.resolve_discussion\"\n           :is-resolving=\"isResolving\"\n           :resolved-by=\"note.resolved_by\"\n+          :discussion-id=\"note.isDraft \u0026\u0026 note.discussion_id\"\n+          :resolve-discussion=\"note.isDraft \u0026\u0026 note.resolve_discussion\"\n           @handleEdit=\"editHandler\"\n           @handleDelete=\"deleteHandler\"\n           @handleResolve=\"resolveHandler\"\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/notes/stores/getters.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/stores/getters.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/stores/getters.js\nindex 0ffc0cb2593..52ce0ee5e5e 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/stores/getters.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/stores/getters.js\n@@ -189,6 +189,9 @@ export const firstUnresolvedDiscussionId = (state, getters) =\u003e diffOrder =\u003e {\n   return getters.unresolvedDiscussionsIdsByDate[0];\n };\n \n+export const getDiscussion = state =\u003e discussionId =\u003e\n+  state.discussions.find(discussion =\u003e discussion.id === discussionId);\n+\n export const commentsDisabled = state =\u003e state.commentsDisabled;\n \n // prevent babel-plugin-rewire from generating an invalid default during karma tests\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/notes/mixins/resolvable.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/mixins/resolvable.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/mixins/resolvable.js\nindex 8edf3d088bb..2329727bca2 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/notes/mixins/resolvable.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/notes/mixins/resolvable.js\n@@ -31,6 +31,10 @@ export default {\n   },\n   methods: {\n     resolveHandler(resolvedState = false) {\n+      if (this.note \u0026\u0026 this.note.isDraft) {\n+        return this.$emit('toggleResolveStatus');\n+      }\n+\n       this.isResolving = true;\n       const isResolved = this.discussionResolved || resolvedState;\n       const discussion = this.resolveAsThread;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/filtered_search/filtered_search_dropdown_manager.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/filtered_search/filtered_search_dropdown_manager.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/filtered_search/filtered_search_dropdown_manager.js\nindex 57ec6603d80..de10bbc6401 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/filtered_search/filtered_search_dropdown_manager.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/filtered_search/filtered_search_dropdown_manager.js\n@@ -1,5 +1,6 @@\n import _ from 'underscore';\n import DropLab from '~/droplab/drop_lab';\n+import DropdownWeight from 'ee/filtered_search/dropdown_weight';\n import FilteredSearchContainer from './container';\n import FilteredSearchTokenKeys from './filtered_search_token_keys';\n import DropdownUtils from './dropdown_utils';\n@@ -106,6 +107,14 @@ export default class FilteredSearchDropdownManager {\n         gl: NullDropdown,\n         element: this.container.querySelector('#js-dropdown-admin-runner-type'),\n       },\n+\n+      // EE-only start\n+      weight: {\n+        reference: null,\n+        gl: DropdownWeight,\n+        element: this.container.querySelector('#js-dropdown-weight'),\n+      },\n+      // EE-only end\n     };\n \n     supportedTokens.forEach(type =\u003e {\n@@ -118,7 +127,12 @@ export default class FilteredSearchDropdownManager {\n   }\n \n   getMilestoneEndpoint() {\n-    const endpoint = `${this.baseEndpoint}/milestones.json`;\n+    let endpoint = `${this.baseEndpoint}/milestones.json`;\n+\n+    // EE-only\n+    if (this.groupsOnly) {\n+      endpoint = `${endpoint}?only_group_milestones=true`;\n+    }\n \n     return endpoint;\n   }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/filtered_search/dropdown_user.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/filtered_search/dropdown_user.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/filtered_search/dropdown_user.js\nindex d5027590bb7..a372e88a2e1 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/filtered_search/dropdown_user.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/filtered_search/dropdown_user.js\n@@ -18,6 +18,7 @@ export default class DropdownUser extends FilteredSearchDropdown {\n           group_id: this.getGroupId(),\n           project_id: this.getProjectId(),\n           current_user: true,\n+          ...this.projectOrGroupId(),\n         },\n         searchValueFunction: this.getSearchInput.bind(this),\n         loadingTemplate: this.loadingTemplate,\n@@ -57,6 +58,19 @@ export default class DropdownUser extends FilteredSearchDropdown {\n     return this.input.getAttribute('data-project-id');\n   }\n \n+  projectOrGroupId() {\n+    const projectId = this.getProjectId();\n+    const groupId = this.getGroupId();\n+    if (groupId) {\n+      return {\n+        group_id: groupId,\n+      };\n+    }\n+    return {\n+      project_id: projectId,\n+    };\n+  }\n+\n   getSearchInput() {\n     const query = DropdownUtils.getSearchInput(this.input);\n     const { lastToken } = FilteredSearchTokenizer.processTokens(query, this.tokenKeys.get());\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/filtered_search/filtered_search_manager.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/filtered_search/filtered_search_manager.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/filtered_search/filtered_search_manager.js\nindex 33c82778c79..a54b88b78df 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/filtered_search/filtered_search_manager.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/filtered_search/filtered_search_manager.js\n@@ -41,6 +41,9 @@ export default class FilteredSearchManager {\n       merge_requests: 'merge-request-recent-searches',\n     };\n \n+    // EE specific setup\n+    this.initEE();\n+\n     this.recentSearchesStore = new RecentSearchesStore({\n       isLocalStorageAvailable: RecentSearchesService.isAvailable(),\n       allowedKeys: this.filteredSearchTokenKeys.getKeys(),\n@@ -55,6 +58,26 @@ export default class FilteredSearchManager {\n     this.recentSearchesService = new RecentSearchesService(recentSearchesKey);\n   }\n \n+  /**\n+   * Do EE specific initializations\n+   */\n+  initEE() {\n+    // Setup token keys for multiple-assignees support\n+    if (typeof this.filteredSearchTokenKeys.init === 'function') {\n+      this.filteredSearchTokenKeys.init({\n+        multipleAssignees: this.filteredSearchInput.dataset.multipleAssignees,\n+      });\n+    }\n+\n+    // Add localStorage key name for Epics recent searches\n+    this.recentsStorageKeyNames.epics = 'epics-recent-searches';\n+\n+    // Update `isGroup` from DOM info\n+    if (this.filteredSearchInput) {\n+      this.isGroup = !!this.filteredSearchInput.getAttribute('data-group-id');\n+    }\n+  }\n+\n   setup() {\n     // Fetch recent searches from localStorage\n     this.fetchingRecentSearchesPromise = this.recentSearchesService\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/gl_dropdown.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/gl_dropdown.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/gl_dropdown.js\nindex a8ac2f510a4..a4aa383b9fb 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/gl_dropdown.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/gl_dropdown.js\n@@ -719,6 +719,10 @@ GitLabDropdown = (function() {\n     }\n     html = document.createElement('li');\n \n+    if (rowHidden) {\n+      html.style.display = 'none';\n+    }\n+\n     if (data === 'divider' || data === 'separator') {\n       html.className = data;\n       return html;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/diffs/components/diff_line_note_form.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/diffs/components/diff_line_note_form.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/diffs/components/diff_line_note_form.vue\nindex 18edbe286ba..95fde0e83b9 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/diffs/components/diff_line_note_form.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/diffs/components/diff_line_note_form.vue\n@@ -1,6 +1,7 @@\n \u003cscript\u003e\n import { mapState, mapGetters, mapActions } from 'vuex';\n import { s__ } from '~/locale';\n+import batchCommentsDiffLineNoteFormMixin from 'ee/batch_comments/mixins/diff_line_note_form';\n import noteForm from '../../notes/components/note_form.vue';\n import autosave from '../../notes/mixins/autosave';\n import { DIFF_NOTE_TYPE } from '../constants';\n@@ -9,7 +10,7 @@ export default {\n   components: {\n     noteForm,\n   },\n-  mixins: [autosave],\n+  mixins: [autosave, batchCommentsDiffLineNoteFormMixin],\n   props: {\n     diffFileHash: {\n       type: String,\n@@ -103,6 +104,7 @@ export default {\n       :help-page-path=\"helpPagePath\"\n       save-button-title=\"Comment\"\n       class=\"diff-comment-form\"\n+      @handleFormUpdateAddToReview=\"addToReview\"\n       @cancelForm=\"handleCancelCommentForm\"\n       @handleFormUpdate=\"handleSaveNote\"\n     /\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/diffs/components/inline_diff_view.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/diffs/components/inline_diff_view.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/diffs/components/inline_diff_view.vue\nindex e781397214d..af9746ffe87 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/diffs/components/inline_diff_view.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/diffs/components/inline_diff_view.vue\n@@ -3,10 +3,14 @@ import { mapGetters } from 'vuex';\n import inlineDiffTableRow from './inline_diff_table_row.vue';\n import inlineDiffCommentRow from './inline_diff_comment_row.vue';\n \n+// eslint-disable-next-line import/order\n+import InlineDraftCommentRow from 'ee/batch_comments/components/inline_draft_comment_row.vue';\n+\n export default {\n   components: {\n     inlineDiffCommentRow,\n     inlineDiffTableRow,\n+    InlineDraftCommentRow,\n   },\n   props: {\n     diffFile: {\n@@ -25,6 +29,7 @@ export default {\n   },\n   computed: {\n     ...mapGetters('diffs', ['commitId']),\n+    ...mapGetters('batchComments', ['shouldRenderDraftRow', 'draftForLine']),\n     diffLinesLength() {\n       return this.diffLines.length;\n     },\n@@ -54,6 +59,11 @@ export default {\n           :line=\"line\"\n           :help-page-path=\"helpPagePath\"\n         /\u003e\n+        \u003cinline-draft-comment-row\n+          v-if=\"shouldRenderDraftRow(diffFile.file_hash, line)\"\n+          :key=\"`draft_${index}`\"\n+          :draft=\"draftForLine(diffFile.file_hash, line)\"\n+        /\u003e\n       \u003c/template\u003e\n     \u003c/tbody\u003e\n   \u003c/table\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/diffs/components/parallel_diff_view.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/diffs/components/parallel_diff_view.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/diffs/components/parallel_diff_view.vue\nindex 1bf693380db..354e12746a8 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/diffs/components/parallel_diff_view.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/diffs/components/parallel_diff_view.vue\n@@ -3,10 +3,14 @@ import { mapGetters } from 'vuex';\n import parallelDiffTableRow from './parallel_diff_table_row.vue';\n import parallelDiffCommentRow from './parallel_diff_comment_row.vue';\n \n+// eslint-disable-next-line import/order\n+import ParallelDraftCommentRow from 'ee/batch_comments/components/parallel_draft_comment_row.vue';\n+\n export default {\n   components: {\n     parallelDiffTableRow,\n     parallelDiffCommentRow,\n+    ParallelDraftCommentRow,\n   },\n   props: {\n     diffFile: {\n@@ -25,6 +29,7 @@ export default {\n   },\n   computed: {\n     ...mapGetters('diffs', ['commitId']),\n+    ...mapGetters('batchComments', ['shouldRenderParallelDraftRow', 'draftForLine']),\n     diffLinesLength() {\n       return this.diffLines.length;\n     },\n@@ -56,6 +61,12 @@ export default {\n             :line-index=\"index\"\n             :help-page-path=\"helpPagePath\"\n           /\u003e\n+          \u003cparallel-draft-comment-row\n+            v-if=\"shouldRenderParallelDraftRow(diffFile.file_hash, line)\"\n+            :key=\"`drafts-${index}`\"\n+            :line=\"line\"\n+            :diff-file-content-sha=\"diffFile.file_hash\"\n+          /\u003e\n         \u003c/template\u003e\n       \u003c/tbody\u003e\n     \u003c/table\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/mr_notes/stores/index.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/mr_notes/stores/index.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/mr_notes/stores/index.js\nindex c4225c8ec08..c52ad4ceb65 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/mr_notes/stores/index.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/mr_notes/stores/index.js\n@@ -2,6 +2,7 @@ import Vue from 'vue';\n import Vuex from 'vuex';\n import notesModule from '~/notes/stores/modules';\n import diffsModule from '~/diffs/store/modules';\n+import batchCommentsModule from 'ee/batch_comments/stores/modules/batch_comments';\n import mrPageModule from './modules';\n \n Vue.use(Vuex);\n@@ -12,6 +13,7 @@ export const createStore = () =\u003e\n       page: mrPageModule,\n       notes: notesModule(),\n       diffs: diffsModule(),\n+      batchComments: batchCommentsModule(),\n     },\n   });\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/boards/index.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/index.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/index.js\nindex f88e9b55988..1a328689d03 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/index.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/index.js\n@@ -10,26 +10,33 @@ import '~/vue_shared/models/assignee';\n import FilteredSearchBoards from './filtered_search_boards';\n import eventHub from './eventhub';\n import sidebarEventHub from '~/sidebar/event_hub';\n-import './models/issue';\n-import './models/list';\n import './models/milestone';\n import './models/project';\n import boardsStore from './stores/boards_store';\n import ModalStore from './stores/modal_store';\n-import BoardService from './services/board_service';\n import modalMixin from './mixins/modal_mixins';\n import './filters/due_date_filters';\n-import Board from './components/board';\n-import BoardSidebar from './components/board_sidebar';\n+import Board from 'ee/boards/components/board';\n+import BoardSidebar from 'ee/boards/components/board_sidebar';\n import initNewListDropdown from './components/new_list_dropdown';\n-import BoardAddIssuesModal from './components/modal/index.vue';\n+import BoardAddIssuesModal from 'ee/boards/components/modal/index';\n import '~/vue_shared/vue_resource_interceptor';\n import { NavigationType, parseBoolean } from '~/lib/utils/common_utils';\n \n+import 'ee/boards/models/list';\n+import 'ee/boards/models/issue';\n+import 'ee/boards/models/project';\n+import BoardService from 'ee/boards/services/board_service';\n+import BoardsSelector from 'ee/boards/components/boards_selector.vue';\n+import collapseIcon from 'ee/boards/icons/fullscreen_collapse.svg';\n+import expandIcon from 'ee/boards/icons/fullscreen_expand.svg';\n+import tooltip from '~/vue_shared/directives/tooltip';\n+\n let issueBoardsApp;\n \n export default () =\u003e {\n   const $boardApp = document.getElementById('board-app');\n+  const issueBoardsContent = document.querySelector('.content-wrapper \u003e .js-focus-mode-board');\n \n   // check for browser back and trigger a hard reload to circumvent browser caching.\n   window.addEventListener('pageshow', event =\u003e {\n@@ -114,6 +121,7 @@ export default () =\u003e {\n           this.state.lists = _.sortBy(this.state.lists, 'position');\n \n           boardsStore.addBlankState();\n+          boardsStore.addPromotionState();\n           this.loading = false;\n         })\n         .catch(() =\u003e {\n@@ -128,16 +136,23 @@ export default () =\u003e {\n         const { sidebarInfoEndpoint } = newIssue;\n         if (sidebarInfoEndpoint \u0026\u0026 newIssue.subscribed === undefined) {\n           newIssue.setFetchingState('subscriptions', true);\n+          newIssue.setFetchingState('weight', true);\n+          newIssue.setFetchingState('epic', true);\n           BoardService.getIssueInfo(sidebarInfoEndpoint)\n             .then(res =\u003e res.data)\n             .then(data =\u003e {\n               newIssue.setFetchingState('subscriptions', false);\n+              newIssue.setFetchingState('weight', false);\n+              newIssue.setFetchingState('epic', false);\n               newIssue.updateData({\n                 subscribed: data.subscribed,\n+                weight: data.weight,\n+                epic: data.epic,\n               });\n             })\n             .catch(() =\u003e {\n               newIssue.setFetchingState('subscriptions', false);\n+              newIssue.setFetchingState('weight', false);\n               Flash(__('An error occurred while fetching sidebar data'));\n             });\n         }\n@@ -172,12 +187,56 @@ export default () =\u003e {\n     el: document.getElementById('js-add-list'),\n     data: {\n       filters: boardsStore.state.filters,\n+      milestoneTitle: $boardApp.dataset.boardMilestoneTitle,\n     },\n     mounted() {\n       initNewListDropdown();\n     },\n   });\n \n+  const configEl = document.querySelector('.js-board-config');\n+\n+  if (configEl) {\n+    gl.boardConfigToggle = new Vue({\n+      el: configEl,\n+      directives: {\n+        tooltip,\n+      },\n+      data() {\n+        return {\n+          canAdminList: this.$options.el.hasAttribute('data-can-admin-list'),\n+          hasScope: this.$options.el.hasAttribute('data-has-scope'),\n+          state: boardsStore.state,\n+        };\n+      },\n+      computed: {\n+        buttonText() {\n+          return this.canAdminList ? 'Edit board' : 'View scope';\n+        },\n+        tooltipTitle() {\n+          return this.hasScope ? __(\"This board's scope is reduced\") : '';\n+        },\n+      },\n+      methods: {\n+        showPage: page =\u003e boardsStore.showPage(page),\n+      },\n+      template: `\n+        \u003cdiv class=\"prepend-left-10\"\u003e\n+          \u003cbutton\n+            v-tooltip\n+            :title=\"tooltipTitle\"\n+            class=\"btn btn-inverted\"\n+            :class=\"{ 'dot-highlight': hasScope }\"\n+            type=\"button\"\n+            @click.prevent=\"showPage('edit')\"\n+          \u003e\n+            {{ buttonText }}\n+          \u003c/button\u003e\n+        \u003c/div\u003e\n+      `,\n+    });\n+  }\n+\n   const issueBoardsModal = document.getElementById('js-add-issues-btn');\n \n   if (issueBoardsModal) {\n@@ -189,6 +248,8 @@ export default () =\u003e {\n         return {\n           modal: ModalStore.store,\n           store: boardsStore.state,\n+          isFullscreen: false,\n+          focusModeAvailable: $boardApp.hasAttribute('data-focus-mode-available'),\n           canAdminList: this.$options.el.hasAttribute('data-can-admin-list'),\n         };\n       },\n@@ -251,4 +312,78 @@ export default () =\u003e {\n       `,\n     });\n   }\n+\n+  // eslint-disable-next-line no-new\n+  new Vue({\n+    el: document.getElementById('js-toggle-focus-btn'),\n+    data: {\n+      modal: ModalStore.store,\n+      store: boardsStore.state,\n+      isFullscreen: false,\n+      focusModeAvailable: $boardApp.hasAttribute('data-focus-mode-available'),\n+    },\n+    methods: {\n+      toggleFocusMode() {\n+        if (!this.focusModeAvailable) {\n+          return;\n+        }\n+\n+        $(this.$refs.toggleFocusModeButton).tooltip('hide');\n+        issueBoardsContent.classList.toggle('is-focused');\n+\n+        this.isFullscreen = !this.isFullscreen;\n+      },\n+    },\n+    template: `\n+      \u003cdiv class=\"board-extra-actions\"\u003e\n+        \u003ca\n+          href=\"#\"\n+          class=\"btn btn-default has-tooltip prepend-left-10 js-focus-mode-btn\"\n+          role=\"button\"\n+          aria-label=\"Toggle focus mode\"\n+          title=\"Toggle focus mode\"\n+          ref=\"toggleFocusModeButton\"\n+          v-if=\"focusModeAvailable\"\n+          @click=\"toggleFocusMode\"\u003e\n+          \u003cspan v-show=\"isFullscreen\"\u003e\n+            ${collapseIcon}\n+          \u003c/span\u003e\n+          \u003cspan v-show=\"!isFullscreen\"\u003e\n+            ${expandIcon}\n+          \u003c/span\u003e\n+        \u003c/a\u003e\n+      \u003c/div\u003e\n+    `,\n+  });\n+\n+  const boardsSwitcherElement = document.getElementById('js-multiple-boards-switcher');\n+  // eslint-disable-next-line no-new\n+  new Vue({\n+    el: boardsSwitcherElement,\n+    components: {\n+      BoardsSelector,\n+    },\n+    data() {\n+      const { dataset } = boardsSwitcherElement;\n+\n+      const boardsSelectorProps = {\n+        ...dataset,\n+        currentBoard: JSON.parse(dataset.currentBoard),\n+        hasMissingBoards: parseBoolean(dataset.hasMissingBoards),\n+        canAdminBoard: parseBoolean(dataset.canAdminBoard),\n+        multipleIssueBoardsAvailable: parseBoolean(dataset.multipleIssueBoardsAvailable),\n+        projectId: Number(dataset.projectId),\n+        groupId: Number(dataset.groupId),\n+        scopedIssueBoardFeatureEnabled: parseBoolean(dataset.scopedIssueBoardFeatureEnabled),\n+        weights: JSON.parse(dataset.weights),\n+      };\n+\n+      return { boardsSelectorProps };\n+    },\n+    render(createElement) {\n+      return createElement(BoardsSelector, {\n+        props: this.boardsSelectorProps,\n+      });\n+    },\n+  });\n };\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/boards/components/board_sidebar.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/components/board_sidebar.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/components/board_sidebar.js\nindex e637e1f1223..f02de68df7d 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/components/board_sidebar.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/components/board_sidebar.js\n@@ -2,6 +2,7 @@\n \n import $ from 'jquery';\n import Vue from 'vue';\n+import Weight from 'ee/sidebar/components/weight/weight.vue';\n import Flash from '../../flash';\n import { sprintf, __ } from '../../locale';\n import Sidebar from '../../right_sidebar';\n@@ -22,6 +23,7 @@ export default Vue.extend({\n     Assignees,\n     RemoveBtn,\n     Subscriptions,\n+    Weight,\n   },\n   props: {\n     currentUser: {\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/boards/components/board_new_issue.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/components/board_new_issue.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/components/board_new_issue.vue\nindex 28d96dab605..67d2d287423 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/components/board_new_issue.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/components/board_new_issue.vue\n@@ -51,11 +51,14 @@ export default {\n \n       const labels = this.list.label ? [this.list.label] : [];\n       const assignees = this.list.assignee ? [this.list.assignee] : [];\n+      const milestone = this.list.milestone ? this.list.milestone : null;\n+\n       const issue = new ListIssue({\n         title: this.title,\n         labels,\n         subscribed: true,\n         assignees,\n+        milestone,\n         project_id: this.selectedProject.id,\n       });\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/boards/components/issue_card_inner.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/components/issue_card_inner.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/components/issue_card_inner.vue\nindex 90ab3a76342..3820156e7ee 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/components/issue_card_inner.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/components/issue_card_inner.vue\n@@ -3,6 +3,7 @@ import { GlTooltipDirective } from '@gitlab/ui';\n import { sprintf, __ } from '~/locale';\n import Icon from '~/vue_shared/components/icon.vue';\n import TooltipOnTruncate from '~/vue_shared/components/tooltip_on_truncate.vue';\n+import IssueCardWeight from 'ee/boards/components/issue_card_weight.vue';\n import UserAvatarLink from '../../vue_shared/components/user_avatar/user_avatar_link.vue';\n import eventHub from '../eventhub';\n import IssueDueDate from './issue_due_date.vue';\n@@ -15,6 +16,7 @@ export default {\n     UserAvatarLink,\n     TooltipOnTruncate,\n     IssueDueDate,\n+    IssueCardWeight,\n     IssueTimeEstimate,\n   },\n   directives: {\n@@ -209,6 +211,10 @@ export default {\n           \u003cissue-due-date v-if=\"issue.dueDate\" :date=\"issue.dueDate\" /\u003e\u003cissue-time-estimate\n             v-if=\"issue.timeEstimate\"\n             :estimate=\"issue.timeEstimate\"\n+          /\u003e\u003cissue-card-weight\n+            v-if=\"issue.weight\"\n+            :weight=\"issue.weight\"\n+            @click=\"filterByWeight(issue.weight)\"\n           /\u003e\n         \u003c/span\u003e\n       \u003c/div\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/boards/stores/boards_store.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/stores/boards_store.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/stores/boards_store.js\nindex 802796208c2..af721ba8238 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/stores/boards_store.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/stores/boards_store.js\n@@ -5,6 +5,7 @@ import $ from 'jquery';\n import _ from 'underscore';\n import Vue from 'vue';\n import Cookies from 'js-cookie';\n+import BoardsStoreEE from 'ee/boards/stores/boards_store_ee';\n import { getUrlParamsArray, parseBoolean } from '~/lib/utils/common_utils';\n \n const boardsStore = {\n@@ -12,7 +13,13 @@ const boardsStore = {\n   filter: {\n     path: '',\n   },\n-  state: {},\n+  state: {\n+    currentBoard: {\n+      labels: [],\n+    },\n+    currentPage: '',\n+    reload: false,\n+  },\n   detail: {\n     issue: {},\n   },\n@@ -27,6 +34,17 @@ const boardsStore = {\n       issue: {},\n     };\n   },\n+  createNewListDropdownData() {\n+    this.state.currentBoard = {\n+      labels: [],\n+    };\n+    this.state.currentPage = '';\n+    this.state.reload = false;\n+  },\n+  showPage(page) {\n+    this.state.reload = false;\n+    this.state.currentPage = page;\n+  },\n   addList(listObj, defaultAvatar) {\n     const list = new List(listObj, defaultAvatar);\n     this.state.lists.push(list);\n@@ -174,6 +192,8 @@ const boardsStore = {\n   },\n };\n \n+BoardsStoreEE.initEESpecific(boardsStore);\n+\n // hacks added in order to allow milestone_select to function properly\n // TODO: remove these\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/boards/models/milestone.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/models/milestone.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/models/milestone.js\nindex 17d15278a74..5fc9f31eb89 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/models/milestone.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/models/milestone.js\n@@ -1,7 +1,11 @@\n-class ListMilestone {\n+export default class ListMilestone {\n   constructor(obj) {\n     this.id = obj.id;\n     this.title = obj.title;\n+    this.path = obj.path;\n+    this.state = obj.state;\n+    this.webUrl = obj.web_url || obj.webUrl;\n+    this.description = obj.description;\n   }\n }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/boards/models/issue.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/models/issue.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/models/issue.js\nindex dd92d3c8552..56766b2a679 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/models/issue.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/models/issue.js\n@@ -28,7 +28,6 @@ class ListIssue {\n     this.referencePath = obj.reference_path;\n     this.path = obj.real_path;\n     this.toggleSubscriptionEndpoint = obj.toggle_subscription_endpoint;\n-    this.milestone_id = obj.milestone_id;\n     this.project_id = obj.project_id;\n     this.timeEstimate = obj.time_estimate;\n     this.assignableLabelsEndpoint = obj.assignable_labels_endpoint;\n@@ -39,6 +38,7 @@ class ListIssue {\n \n     if (obj.milestone) {\n       this.milestone = new ListMilestone(obj.milestone);\n+      this.milestone_id = obj.milestone.id;\n     }\n \n     obj.labels.forEach(label =\u003e {\n@@ -88,6 +88,19 @@ class ListIssue {\n     this.assignees = [];\n   }\n \n+  addMilestone(milestone) {\n+    const miletoneId = this.milestone ? this.milestone.id : null;\n+    if (milestone.id !== miletoneId) {\n+      this.milestone = new ListMilestone(milestone);\n+    }\n+  }\n+\n+  removeMilestone(removeMilestone) {\n+    if (removeMilestone \u0026\u0026 removeMilestone.id === this.milestone.id) {\n+      this.milestone = {};\n+    }\n+  }\n+\n   getLists() {\n     return boardsStore.state.lists.filter(list =\u003e list.findIssue(this.id));\n   }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/boards/models/list.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/models/list.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/models/list.js\nindex 9f6d9a853da..227d242e4c3 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/models/list.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/models/list.js\n@@ -6,6 +6,7 @@ import ListLabel from '~/vue_shared/models/label';\n import ListAssignee from '~/vue_shared/models/assignee';\n import { urlParamsToObject } from '~/lib/utils/common_utils';\n import boardsStore from '../stores/boards_store';\n+import ListMilestone from './milestone';\n \n const PER_PAGE = 20;\n \n@@ -51,6 +52,9 @@ class List {\n     } else if (obj.user) {\n       this.assignee = new ListAssignee(obj.user);\n       this.title = this.assignee.name;\n+    } else if (obj.milestone) {\n+      this.milestone = new ListMilestone(obj.milestone);\n+      this.title = this.milestone.title;\n     }\n \n     if (!typeInfo.isBlank \u0026\u0026 this.id) {\n@@ -69,12 +73,14 @@ class List {\n   }\n \n   save() {\n-    const entity = this.label || this.assignee;\n+    const entity = this.label || this.assignee || this.milestone;\n     let entityType = '';\n     if (this.label) {\n       entityType = 'label_id';\n-    } else {\n+    } else if (this.assignee) {\n       entityType = 'assignee_id';\n+    } else if (this.milestone) {\n+      entityType = 'milestone_id';\n     }\n \n     return gl.boardService\n@@ -192,6 +198,13 @@ class List {\n         issue.addAssignee(this.assignee);\n       }\n \n+      if (this.milestone) {\n+        if (listFrom \u0026\u0026 listFrom.type === 'milestone') {\n+          issue.removeMilestone(listFrom.milestone);\n+        }\n+        issue.addMilestone(this.milestone);\n+      }\n+\n       if (listFrom) {\n         this.issuesSize += 1;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/boards/filtered_search_boards.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/filtered_search_boards.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/filtered_search_boards.js\nindex c14d69c5d18..aa9a23a3a7a 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/boards/filtered_search_boards.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/boards/filtered_search_boards.js\n@@ -1,3 +1,4 @@\n+import IssuesFilteredSearchTokenKeysEE from 'ee/filtered_search/issues_filtered_search_token_keys';\n import FilteredSearchContainer from '../filtered_search/container';\n import FilteredSearchManager from '../filtered_search/filtered_search_manager';\n import boardsStore from './stores/boards_store';\n@@ -8,6 +9,8 @@ export default class FilteredSearchBoards extends FilteredSearchManager {\n       page: 'boards',\n       isGroupDecendent: true,\n       stateFiltersSelector: '.issues-state-filters',\n+      isGroup: true,\n+      filteredSearchTokenKeys: IssuesFilteredSearchTokenKeysEE,\n     });\n \n     this.store = store;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/members.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/members.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/members.js\nindex bd263c75a3d..59af9b7873f 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/members.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/members.js\n@@ -1,4 +1,7 @@\n import $ from 'jquery';\n+import Flash from './flash';\n+import { __ } from './locale';\n+import axios from './lib/utils/axios_utils';\n \n export default class Members {\n   constructor() {\n@@ -7,6 +10,15 @@ export default class Members {\n   }\n \n   addListeners() {\n+    $('.js-ldap-permissions')\n+      .off('click')\n+      .on('click', this.showLDAPPermissionsWarning.bind(this));\n+    $('.js-ldap-override')\n+      .off('click')\n+      .on('click', this.toggleMemberAccessToggle.bind(this));\n+    $('.project_member, .group_member')\n+      .off('ajax:success')\n+      .on('ajax:success', this.removeRow);\n     $('.js-member-update-control')\n       .off('change')\n       .on('change', this.formSubmit.bind(this));\n@@ -23,6 +35,10 @@ export default class Members {\n       $btn.glDropdown({\n         selectable: true,\n         isSelectable(selected, $el) {\n+          if ($el.data('revert')) {\n+            return false;\n+          }\n+\n           return !$el.hasClass('is-active');\n         },\n         fieldName: $btn.data('fieldName'),\n@@ -30,10 +46,28 @@ export default class Members {\n           return $el.data('id');\n         },\n         toggleLabel(selected, $el) {\n+          if ($el.data('revert')) {\n+            return $btn.text();\n+          }\n+\n           return $el.text();\n         },\n         clicked: options =\u003e {\n-          this.formSubmit(null, options.$el);\n+          const $link = options.$el;\n+\n+          if (!$link.data('revert')) {\n+            this.formSubmit(null, $link);\n+          } else {\n+            const { $memberListItem, $toggle, $dateInput } = this.getMemberListItems($link);\n+\n+            $toggle.disable();\n+            $dateInput.disable();\n+\n+            this.overrideLdap($memberListItem, $link.data('endpoint'), false).catch(() =\u003e {\n+              $toggle.enable();\n+              $dateInput.enable();\n+            });\n+          }\n         },\n       });\n     });\n@@ -55,6 +89,15 @@ export default class Members {\n     $toggle.enable();\n     $dateInput.enable();\n   }\n+\n+  showLDAPPermissionsWarning(e) {\n+    const $btn = $(e.currentTarget);\n+    const { $memberListItem } = this.getMemberListItems($btn);\n+    const $ldapPermissionsElement = $memberListItem.next();\n+\n+    $ldapPermissionsElement.toggle();\n+  }\n+\n   // eslint-disable-next-line class-methods-use-this\n   getMemberListItems($el) {\n     const $memberListItem = $el.is('.member') ? $el : $(`#${$el.data('elId')}`);\n@@ -65,4 +108,44 @@ export default class Members {\n       $dateInput: $memberListItem.find('.js-access-expiration-date'),\n     };\n   }\n+\n+  toggleMemberAccessToggle(e) {\n+    const $btn = $(e.currentTarget);\n+    const { $memberListItem, $toggle, $dateInput } = this.getMemberListItems($btn);\n+\n+    $btn.disable();\n+    this.overrideLdap($memberListItem, $btn.data('endpoint'), true)\n+      .then(() =\u003e {\n+        this.showLDAPPermissionsWarning(e);\n+\n+        $toggle.enable();\n+        $dateInput.enable();\n+      })\n+      .catch(xhr =\u003e {\n+        $btn.enable();\n+\n+        if (xhr.status === 403) {\n+          Flash(\n+            __(\n+              'You do not have the correct permissions to override the settings from the LDAP group sync.',\n+            ),\n+          );\n+        } else {\n+          Flash(__('An error occurred while saving LDAP override status. Please try again.'));\n+        }\n+      });\n+  }\n+\n+  // eslint-disable-next-line class-methods-use-this\n+  overrideLdap($memberListitem, endpoint, override) {\n+    return axios\n+      .patch(endpoint, {\n+        group_member: {\n+          override,\n+        },\n+      })\n+      .then(() =\u003e {\n+        $memberListitem.toggleClass('is-overriden', override);\n+      });\n+  }\n }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/issuable_form.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/issuable_form.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/issuable_form.js\nindex c81a2230310..70dbb3e33f7 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/issuable_form.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/issuable_form.js\n@@ -6,6 +6,7 @@ import GfmAutoComplete from './gfm_auto_complete';\n import ZenMode from './zen_mode';\n import AutoWidthDropdownSelect from './issuable/auto_width_dropdown_select';\n import { parsePikadayDate, pikadayToString } from './lib/utils/datetime_utility';\n+import groupsSelect from './groups_select';\n \n export default class IssuableForm {\n   constructor(form) {\n@@ -20,6 +21,7 @@ export default class IssuableForm {\n       gl.GfmAutoComplete \u0026\u0026 gl.GfmAutoComplete.dataSources,\n     ).setup();\n     this.usersSelect = new UsersSelect();\n+    groupsSelect();\n     this.zenMode = new ZenMode();\n \n     this.titleField = this.form.find('input[name*=\"[title]\"]');\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/vue_merge_request_widget/components/mr_widget_pipeline.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_merge_request_widget/components/mr_widget_pipeline.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_merge_request_widget/components/mr_widget_pipeline.vue\nindex f11cf21b0ca..d6cb1dd3c13 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_merge_request_widget/components/mr_widget_pipeline.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_merge_request_widget/components/mr_widget_pipeline.vue\n@@ -5,6 +5,7 @@ import PipelineStage from '~/pipelines/components/stage.vue';\n import CiIcon from '~/vue_shared/components/ci_icon.vue';\n import Icon from '~/vue_shared/components/icon.vue';\n import TooltipOnTruncate from '~/vue_shared/components/tooltip_on_truncate.vue';\n+import LinkedPipelinesMiniList from 'ee/vue_shared/components/linked_pipelines_mini_list.vue';\n \n export default {\n   name: 'MRWidgetPipeline',\n@@ -13,6 +14,7 @@ export default {\n     CiIcon,\n     Icon,\n     TooltipOnTruncate,\n+    LinkedPipelinesMiniList,\n   },\n   props: {\n     pipeline: {\n@@ -74,10 +76,20 @@ export default {\n         false,\n       );\n     },\n+    /* We typically set defaults ([]) in the store or prop declarations, but because triggered\n+     * and triggeredBy are appended to `pipeline`, we can't set defaults in the store, and we\n+     * need to check their length here to prevent initializing linked-pipeline-mini-lists\n+     * unneccessarily. */\n+    triggered() {\n+      return this.pipeline.triggered || [];\n+    },\n+    triggeredBy() {\n+      const response = this.pipeline.triggered_by;\n+      return response ? [response] : [];\n+    },\n   },\n };\n \u003c/script\u003e\n-\n \u003ctemplate\u003e\n   \u003cdiv v-if=\"hasPipeline || hasCIError\" class=\"ci-widget media\"\u003e\n     \u003ctemplate v-if=\"hasCIError\"\u003e\n@@ -126,15 +138,24 @@ export default {\n         \u003c/div\u003e\n         \u003cdiv\u003e\n           \u003cspan class=\"mr-widget-pipeline-graph\"\u003e\n-            \u003cspan v-if=\"hasStages\" class=\"stage-cell\"\u003e\n-              \u003cdiv\n-                v-for=\"(stage, i) in pipeline.details.stages\"\n-                :key=\"i\"\n-                class=\"stage-container dropdown js-mini-pipeline-graph mr-widget-pipeline-stages\"\n-              \u003e\n-                \u003cpipeline-stage :stage=\"stage\" /\u003e\n-              \u003c/div\u003e\n+            \u003cspan class=\"stage-cell\"\u003e\n+              \u003clinked-pipelines-mini-list v-if=\"triggeredBy.length\" :triggered-by=\"triggeredBy\" /\u003e\n+              \u003ctemplate v-if=\"hasStages\"\u003e\n+                \u003cdiv\n+                  v-for=\"(stage, i) in pipeline.details.stages\"\n+                  :key=\"i\"\n+                  :class=\"{\n+                    'has-downstream': i === pipeline.details.stages.length - 1 \u0026\u0026 triggered.length,\n+                  }\"\n+                  class=\"stage-container dropdown js-mini-pipeline-graph\n+                  mr-widget-pipeline-stages\"\n+                \u003e\n+                  \u003cpipeline-stage :stage=\"stage\" /\u003e\n+                \u003c/div\u003e\n+              \u003c/template\u003e\n             \u003c/span\u003e\n+\n+            \u003clinked-pipelines-mini-list v-if=\"triggered.length\" :triggered=\"triggered\" /\u003e\n           \u003c/span\u003e\n         \u003c/div\u003e\n       \u003c/div\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/vue_merge_request_widget/components/states/ready_to_merge.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_merge_request_widget/components/states/ready_to_merge.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_merge_request_widget/components/states/ready_to_merge.vue\nindex b8f29649eb5..399c3bad4e7 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_merge_request_widget/components/states/ready_to_merge.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_merge_request_widget/components/states/ready_to_merge.vue\n@@ -100,6 +100,7 @@ export default {\n         !commitMessage.length ||\n           !this.shouldShowMergeControls() ||\n           this.isMakingRequest ||\n+          this.isApprovalNeeded ||\n           this.mr.preventMerge,\n       );\n     },\n@@ -110,6 +111,9 @@ export default {\n       const { commitsCount, enableSquashBeforeMerge } = this.mr;\n       return enableSquashBeforeMerge \u0026\u0026 commitsCount \u003e 1;\n     },\n+    isApprovalNeeded() {\n+      return this.mr.approvalsRequired ? !this.mr.isApproved : false;\n+    },\n   },\n   methods: {\n     shouldShowMergeControls() {\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/vue_merge_request_widget/mr_widget_options.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_merge_request_widget/mr_widget_options.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_merge_request_widget/mr_widget_options.vue\nindex 5a9d86594b1..c18d6a6f9be 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_merge_request_widget/mr_widget_options.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_merge_request_widget/mr_widget_options.vue\n@@ -153,6 +153,7 @@ export default {\n         statusPath: store.statusPath,\n         mergeActionsContentPath: store.mergeActionsContentPath,\n         rebasePath: store.rebasePath,\n+        approvalsPath: store.approvalsPath,\n       };\n       return new MRWidgetService(endpoints);\n     },\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/api.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/api.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/api.js\nindex d1396b6c4bc..81d273a40f5 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/api.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/api.js\n@@ -17,6 +17,7 @@ const Api = {\n   projectRunnersPath: '/api/:version/projects/:id/runners',\n   mergeRequestsPath: '/api/:version/merge_requests',\n   groupLabelsPath: '/groups/:namespace_path/-/labels',\n+  ldapGroupsPath: '/api/:version/ldap/:provider/groups.json',\n   issuableTemplatePath: '/:namespace_path/:project_path/templates/:type/:key',\n   projectTemplatePath: '/api/:version/projects/:id/templates/:type/:key',\n   projectTemplatesPath: '/api/:version/projects/:id/templates/:type',\n@@ -29,6 +30,8 @@ const Api = {\n   commitPipelinesPath: '/:project_id/commit/:sha/pipelines',\n   branchSinglePath: '/api/:version/projects/:id/repository/branches/:branch',\n   createBranchPath: '/api/:version/projects/:id/repository/branches',\n+  geoNodesPath: '/api/:version/geo_nodes',\n+  subscriptionPath: '/api/:version/namespaces/:id/gitlab_subscription',\n   releasesPath: '/api/:version/projects/:id/releases',\n \n   group(groupId, callback) {\n@@ -308,6 +311,48 @@ const Api = {\n     });\n   },\n \n+  approverUsers(search, options, callback = $.noop) {\n+    const url = Api.buildUrl('/autocomplete/users.json');\n+    return axios\n+      .get(url, {\n+        params: Object.assign(\n+          {\n+            search,\n+            per_page: 20,\n+          },\n+          options,\n+        ),\n+      })\n+      .then(({ data }) =\u003e {\n+        callback(data);\n+\n+        return data;\n+      });\n+  },\n+\n+  ldap_groups(query, provider, callback) {\n+    const url = Api.buildUrl(this.ldapGroupsPath).replace(':provider', provider);\n+    return axios\n+      .get(url, {\n+        params: {\n+          search: query,\n+          per_page: 20,\n+          active: true,\n+        },\n+      })\n+      .then(({ data }) =\u003e {\n+        callback(data);\n+\n+        return data;\n+      });\n+  },\n+\n+  userSubscription(namespaceId) {\n+    const url = Api.buildUrl(this.subscriptionPath).replace(':id', encodeURIComponent(namespaceId));\n+\n+    return axios.get(url);\n+  },\n+\n   releases(id) {\n     const url = Api.buildUrl(this.releasesPath).replace(':id', encodeURIComponent(id));\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/environments/folder/environments_folder_view.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/folder/environments_folder_view.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/folder/environments_folder_view.vue\nindex d6f0b6115a6..eb8a0fc1ded 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/folder/environments_folder_view.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/folder/environments_folder_view.vue\n@@ -31,6 +31,28 @@ export default {\n       type: Boolean,\n       required: true,\n     },\n+    // ee-only start\n+    canaryDeploymentFeatureId: {\n+      type: String,\n+      required: true,\n+    },\n+    showCanaryDeploymentCallout: {\n+      type: Boolean,\n+      required: true,\n+    },\n+    userCalloutsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    lockPromotionSvgPath: {\n+      type: String,\n+      required: true,\n+    },\n+    helpCanaryDeploymentsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    // ee-only end\n   },\n   methods: {\n     successCallback(resp) {\n@@ -57,6 +79,11 @@ export default {\n       :pagination=\"state.paginationInformation\"\n       :can-create-deployment=\"canCreateDeployment\"\n       :can-read-environment=\"canReadEnvironment\"\n+      :canary-deployment-feature-id=\"canaryDeploymentFeatureId\"\n+      :show-canary-deployment-callout=\"showCanaryDeploymentCallout\"\n+      :user-callouts-path=\"userCalloutsPath\"\n+      :lock-promotion-svg-path=\"lockPromotionSvgPath\"\n+      :help-canary-deployments-path=\"helpCanaryDeploymentsPath\"\n       @onChangePage=\"onChangePage\"\n     /\u003e\n   \u003c/div\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/environments/folder/environments_folder_bundle.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/folder/environments_folder_bundle.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/folder/environments_folder_bundle.js\nindex 982e550e73c..4013cc43f5f 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/folder/environments_folder_bundle.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/folder/environments_folder_bundle.js\n@@ -3,6 +3,10 @@ import environmentsFolderApp from './environments_folder_view.vue';\n import { parseBoolean } from '../../lib/utils/common_utils';\n import Translate from '../../vue_shared/translate';\n \n+// ee-only start\n+import CanaryCalloutMixin from 'ee/environments/mixins/canary_callout_mixin'; // eslint-disable-line import/order\n+// ee-only end\n+\n Vue.use(Translate);\n \n export default () =\u003e\n@@ -11,6 +15,9 @@ export default () =\u003e\n     components: {\n       environmentsFolderApp,\n     },\n+    // ee-only start\n+    mixins: [CanaryCalloutMixin],\n+    // ee-only end\n     data() {\n       const environmentsData = document.querySelector(this.$options.el).dataset;\n \n@@ -30,6 +37,13 @@ export default () =\u003e\n           cssContainerClass: this.cssContainerClass,\n           canCreateDeployment: this.canCreateDeployment,\n           canReadEnvironment: this.canReadEnvironment,\n+          // ee-only start\n+          canaryDeploymentFeatureId: this.canaryDeploymentFeatureId,\n+          showCanaryDeploymentCallout: this.showCanaryDeploymentCallout,\n+          userCalloutsPath: this.userCalloutsPath,\n+          lockPromotionSvgPath: this.lockPromotionSvgPath,\n+          helpCanaryDeploymentsPath: this.helpCanaryDeploymentsPath,\n+          // ee-only end\n         },\n       });\n     },\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/environments/index.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/index.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/index.js\nindex d366e7550b7..ee153cf26dd 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/index.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/index.js\n@@ -3,6 +3,10 @@ import environmentsComponent from './components/environments_app.vue';\n import { parseBoolean } from '../lib/utils/common_utils';\n import Translate from '../vue_shared/translate';\n \n+// ee-only start\n+import CanaryCalloutMixin from 'ee/environments/mixins/canary_callout_mixin'; // eslint-disable-line import/order\n+// ee-only end\n+\n Vue.use(Translate);\n \n export default () =\u003e\n@@ -11,6 +15,9 @@ export default () =\u003e\n     components: {\n       environmentsComponent,\n     },\n+    // ee-only start\n+    mixins: [CanaryCalloutMixin],\n+    // ee-only end\n     data() {\n       const environmentsData = document.querySelector(this.$options.el).dataset;\n \n@@ -34,6 +41,13 @@ export default () =\u003e\n           canCreateEnvironment: this.canCreateEnvironment,\n           canCreateDeployment: this.canCreateDeployment,\n           canReadEnvironment: this.canReadEnvironment,\n+          // ee-only start\n+          canaryDeploymentFeatureId: this.canaryDeploymentFeatureId,\n+          showCanaryDeploymentCallout: this.showCanaryDeploymentCallout,\n+          userCalloutsPath: this.userCalloutsPath,\n+          lockPromotionSvgPath: this.lockPromotionSvgPath,\n+          helpCanaryDeploymentsPath: this.helpCanaryDeploymentsPath,\n+          // ee-only end\n         },\n       });\n     },\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/environments/components/environment_item.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/environment_item.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/environment_item.vue\nindex f44806d82a6..346278ed5a3 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/environment_item.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/environment_item.vue\n@@ -447,12 +447,19 @@ export default {\n     folderIconName() {\n       return this.model.isOpen ? 'chevron-down' : 'chevron-right';\n     },\n+\n+    deployIconName() {\n+      return this.model.isDeployBoardVisible ? 'chevron-down' : 'chevron-right';\n+    },\n   },\n \n   methods: {\n     onClickFolder() {\n       eventHub.$emit('toggleFolder', this.model);\n     },\n+    toggleDeployBoard() {\n+      eventHub.$emit('toggleDeployBoard', this.model);\n+    },\n   },\n };\n \u003c/script\u003e\n@@ -474,8 +481,16 @@ export default {\n       \u003cdiv v-if=\"!model.isFolder\" class=\"table-mobile-header\" role=\"rowheader\"\u003e\n         {{ s__('Environments|Environment') }}\n       \u003c/div\u003e\n+\n+      \u003cspan v-if=\"model.hasDeployBoard\" class=\"deploy-board-icon\" @click=\"toggleDeployBoard\"\u003e\n+        \u003cicon :name=\"deployIconName\" /\u003e\n+      \u003c/span\u003e\n+\n       \u003cspan v-if=\"!model.isFolder\" class=\"environment-name table-mobile-content\"\u003e\n         \u003ca class=\"qa-environment-link\" :href=\"environmentPath\"\u003e {{ model.name }} \u003c/a\u003e\n+        \u003cspan v-if=\"isProtected\" class=\"badge badge-success\"\u003e\n+          {{ s__('Environments|protected') }}\n+        \u003c/span\u003e\n       \u003c/span\u003e\n       \u003cspan v-else class=\"folder-name\" role=\"button\" @click=\"onClickFolder\"\u003e\n         \u003cicon :name=\"folderIconName\" class=\"folder-icon\" /\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/environments/components/environments_app.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/environments_app.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/environments_app.vue\nindex 87c1d44dd40..30908182bf8 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/environments_app.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/environments_app.vue\n@@ -44,17 +44,49 @@ export default {\n       type: String,\n       required: true,\n     },\n+    // ee-only start\n+    canaryDeploymentFeatureId: {\n+      type: String,\n+      required: true,\n+    },\n+    showCanaryDeploymentCallout: {\n+      type: Boolean,\n+      required: true,\n+    },\n+    userCalloutsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    lockPromotionSvgPath: {\n+      type: String,\n+      required: true,\n+    },\n+    helpCanaryDeploymentsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    // ee-only end\n   },\n \n   created() {\n     eventHub.$on('toggleFolder', this.toggleFolder);\n+    eventHub.$on('toggleDeployBoard', this.toggleDeployBoard);\n   },\n \n   beforeDestroy() {\n     eventHub.$off('toggleFolder');\n+    eventHub.$off('toggleDeployBoard');\n   },\n \n   methods: {\n+    /**\n+     * Toggles the visibility of the deploy boards of the clicked environment.\n+     * @param {Object} model\n+     */\n+    toggleDeployBoard(model) {\n+      this.store.toggleDeployBoard(model.id);\n+    },\n+\n     toggleFolder(folder) {\n       this.store.toggleFolder(folder);\n \n@@ -108,6 +140,11 @@ export default {\n       :pagination=\"state.paginationInformation\"\n       :can-create-deployment=\"canCreateDeployment\"\n       :can-read-environment=\"canReadEnvironment\"\n+      :canary-deployment-feature-id=\"canaryDeploymentFeatureId\"\n+      :show-canary-deployment-callout=\"showCanaryDeploymentCallout\"\n+      :user-callouts-path=\"userCalloutsPath\"\n+      :lock-promotion-svg-path=\"lockPromotionSvgPath\"\n+      :help-canary-deployments-path=\"helpCanaryDeploymentsPath\"\n       @onChangePage=\"onChangePage\"\n     \u003e\n       \u003cempty-state\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/environments/components/container.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/container.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/container.vue\nindex bd402c0eea5..0bffa3a0cf1 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/container.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/container.vue\n@@ -30,6 +30,28 @@ export default {\n       type: Boolean,\n       required: true,\n     },\n+    // ee-only start\n+    canaryDeploymentFeatureId: {\n+      type: String,\n+      required: true,\n+    },\n+    showCanaryDeploymentCallout: {\n+      type: Boolean,\n+      required: true,\n+    },\n+    userCalloutsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    lockPromotionSvgPath: {\n+      type: String,\n+      required: true,\n+    },\n+    helpCanaryDeploymentsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    // ee-only end\n   },\n   methods: {\n     onChangePage(page) {\n@@ -55,6 +77,11 @@ export default {\n         :environments=\"environments\"\n         :can-create-deployment=\"canCreateDeployment\"\n         :can-read-environment=\"canReadEnvironment\"\n+        :canary-deployment-feature-id=\"canaryDeploymentFeatureId\"\n+        :show-canary-deployment-callout=\"showCanaryDeploymentCallout\"\n+        :user-callouts-path=\"userCalloutsPath\"\n+        :lock-promotion-svg-path=\"lockPromotionSvgPath\"\n+        :help-canary-deployments-path=\"helpCanaryDeploymentsPath\"\n       /\u003e\n \n       \u003ctable-pagination\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/environments/components/environments_table.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/environments_table.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/environments_table.vue\nindex 75bdf87137f..08c3f5e377d 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/components/environments_table.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/components/environments_table.vue\n@@ -3,12 +3,21 @@\n  * Render environments table.\n  */\n import { GlLoadingIcon } from '@gitlab/ui';\n-import environmentItem from './environment_item.vue';\n+import environmentItem from './environment_item.vue'; // eslint-disable-line import/order\n+\n+// ee-only start\n+import deployBoard from 'ee/environments/components/deploy_board_component.vue';\n+import CanaryDeploymentCallout from 'ee/environments/components/canary_deployment_callout.vue';\n+// ee-only end\n \n export default {\n   components: {\n     environmentItem,\n+    deployBoard,\n     GlLoadingIcon,\n+    // ee-only start\n+    CanaryDeploymentCallout,\n+    // ee-only end\n   },\n \n   props: {\n@@ -29,6 +38,33 @@ export default {\n       required: false,\n       default: false,\n     },\n+\n+    // ee-only start\n+    canaryDeploymentFeatureId: {\n+      type: String,\n+      required: true,\n+    },\n+\n+    showCanaryDeploymentCallout: {\n+      type: Boolean,\n+      required: true,\n+    },\n+\n+    userCalloutsPath: {\n+      type: String,\n+      required: true,\n+    },\n+\n+    lockPromotionSvgPath: {\n+      type: String,\n+      required: true,\n+    },\n+\n+    helpCanaryDeploymentsPath: {\n+      type: String,\n+      required: true,\n+    },\n+    // ee-only end\n   },\n   methods: {\n     folderUrl(model) {\n@@ -37,6 +73,11 @@ export default {\n     shouldRenderFolderContent(env) {\n       return env.isFolder \u0026\u0026 env.isOpen \u0026\u0026 env.children \u0026\u0026 env.children.length \u003e 0;\n     },\n+    // ee-only start\n+    shouldShowCanaryCallout(env) {\n+      return env.showCanaryCallout \u0026\u0026 this.showCanaryDeploymentCallout;\n+    },\n+    // ee-only end\n   },\n };\n \u003c/script\u003e\n@@ -68,6 +109,21 @@ export default {\n         :can-read-environment=\"canReadEnvironment\"\n       /\u003e\n \n+      \u003cdiv\n+        v-if=\"model.hasDeployBoard \u0026\u0026 model.isDeployBoardVisible\"\n+        :key=\"`deploy-board-row-${i}`\"\n+        class=\"js-deploy-board-row\"\n+      \u003e\n+        \u003cdiv class=\"deploy-board-container\"\u003e\n+          \u003cdeploy-board\n+            :deploy-board-data=\"model.deployBoardData\"\n+            :is-loading=\"model.isLoadingDeployBoard\"\n+            :is-empty=\"model.isEmptyDeployBoard\"\n+            :logs-path=\"model.logs_path\"\n+          /\u003e\n+        \u003c/div\u003e\n+      \u003c/div\u003e\n+\n       \u003ctemplate v-if=\"shouldRenderFolderContent(model)\"\u003e\n         \u003cdiv v-if=\"model.isLoadingFolderContent\" :key=\"`loading-item-${i}`\"\u003e\n           \u003cgl-loading-icon :size=\"2\" class=\"prepend-top-16\" /\u003e\n@@ -92,6 +148,17 @@ export default {\n           \u003c/div\u003e\n         \u003c/template\u003e\n       \u003c/template\u003e\n+\n+      \u003ctemplate v-if=\"shouldShowCanaryCallout(model)\"\u003e\n+        \u003ccanary-deployment-callout\n+          :key=\"`canary-promo-${i}`\"\n+          :canary-deployment-feature-id=\"canaryDeploymentFeatureId\"\n+          :user-callouts-path=\"userCalloutsPath\"\n+          :lock-promotion-svg-path=\"lockPromotionSvgPath\"\n+          :help-canary-deployments-path=\"helpCanaryDeploymentsPath\"\n+          :data-js-canary-promo-key=\"i\"\n+        /\u003e\n+      \u003c/template\u003e\n     \u003c/template\u003e\n   \u003c/div\u003e\n \u003c/template\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/environments/stores/environments_store.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/stores/environments_store.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/stores/environments_store.js\nindex 5808a2d4afa..4a076d44c3f 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/environments/stores/environments_store.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/environments/stores/environments_store.js\n@@ -1,4 +1,7 @@\n import { parseIntPagination, normalizeHeaders } from '~/lib/utils/common_utils';\n+\n+// ee-only\n+import { CLUSTER_TYPE } from '~/clusters/constants';\n /**\n  * Environments Store.\n  *\n@@ -30,6 +33,14 @@ export default class EnvironmentsStore {\n    * If the `size` is bigger than 1, it means it should be rendered as a folder.\n    * In those cases we add `isFolder` key in order to render it properly.\n    *\n+   * Top level environments - when the size is 1 - with `rollout_status`\n+   * can render a deploy board. We add `isDeployBoardVisible` and `deployBoardData`\n+   * keys to those environments.\n+   * The first key will let's us know if we should or not render the deploy board.\n+   * It will be toggled when the user clicks to seee the deploy board.\n+   *\n+   * The second key will allow us to update the environment with the received deploy board data.\n+   *\n    * @param  {Array} environments\n    * @returns {Array}\n    */\n@@ -62,14 +73,58 @@ export default class EnvironmentsStore {\n         filtered = Object.assign(filtered, env);\n       }\n \n+      if (\n+        filtered.size === 1 \u0026\u0026\n+        filtered.rollout_status \u0026\u0026\n+        filtered.cluster_type !== CLUSTER_TYPE.GROUP\n+      ) {\n+        filtered = Object.assign({}, filtered, {\n+          hasDeployBoard: true,\n+          isDeployBoardVisible:\n+            oldEnvironmentState.isDeployBoardVisible === false\n+              ? oldEnvironmentState.isDeployBoardVisible\n+              : true,\n+          deployBoardData:\n+            filtered.rollout_status.status === 'found' ? filtered.rollout_status : {},\n+          isLoadingDeployBoard: filtered.rollout_status.status === 'loading',\n+          isEmptyDeployBoard: filtered.rollout_status.status === 'not_found',\n+        });\n+      }\n       return filtered;\n     });\n \n     this.state.environments = filteredEnvironments;\n \n+    // ee-only start\n+    /**\n+     * Add the canary callout banner underneath the second environment listed.\n+     *\n+     * If there is only one environment, then add to it underneath the first.\n+     */\n+    if (this.state.environments.length \u003e= 2) {\n+      this.state.environments[1].showCanaryCallout = true;\n+    } else if (this.state.environments.length === 1) {\n+      this.state.environments[0].showCanaryCallout = true;\n+    }\n+    // ee-only end\n+\n     return filteredEnvironments;\n   }\n \n+  /**\n+   * Stores the pagination information needed to render the pagination for the\n+   * table.\n+   *\n+   * Normalizes the headers to uppercase since they can be provided either\n+   * in uppercase or lowercase.\n+   *\n+   * Parses to an integer the normalized ones needed for the pagination component.\n+   *\n+   * Stores the normalized and parsed information.\n+   *\n+   * @param  {Object} pagination = {}\n+   * @return {Object}\n+   */\n   setPagination(pagination = {}) {\n     const normalizedHeaders = normalizeHeaders(pagination);\n     const paginationInformation = parseIntPagination(normalizedHeaders);\n@@ -165,4 +220,27 @@ export default class EnvironmentsStore {\n \n     return environments.filter(env =\u003e env.isFolder \u0026\u0026 env.isOpen);\n   }\n+\n+  /**\n+   * Toggles deploy board visibility for the provided environment ID.\n+   *\n+   * @param  {Object} environment\n+   * @return {Array}\n+   */\n+  toggleDeployBoard(environmentID) {\n+    const environments = this.state.environments.slice();\n+\n+    this.state.environments = environments.map(env =\u003e {\n+      let updated = Object.assign({}, env);\n+\n+      if (env.id === environmentID) {\n+        updated = Object.assign({}, updated, {\n+          isDeployBoardVisible: !env.isDeployBoardVisible,\n+        });\n+      }\n+      return updated;\n+    });\n+\n+    return this.state.environments;\n+  }\n }\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/vue_shared/components/sidebar/labels_select/dropdown_value_collapsed.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_shared/components/sidebar/labels_select/dropdown_value_collapsed.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_shared/components/sidebar/labels_select/dropdown_value_collapsed.vue\nindex 373794fb1f2..05446903286 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_shared/components/sidebar/labels_select/dropdown_value_collapsed.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_shared/components/sidebar/labels_select/dropdown_value_collapsed.vue\n@@ -14,10 +14,12 @@ export default {\n   },\n   computed: {\n     labelsList() {\n-      const labelsString = this.labels\n-        .slice(0, 5)\n-        .map(label =\u003e label.title)\n-        .join(', ');\n+      const labelsString = this.labels.length\n+        ? this.labels\n+            .slice(0, 5)\n+            .map(label =\u003e label.title)\n+            .join(', ')\n+        : s__('LabelSelect|Labels');\n \n       if (this.labels.length \u003e 5) {\n         return sprintf(s__('LabelSelect|%{labelsString}, and %{remainingLabelCount} more'), {\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/vue_shared/components/ci_icon.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_shared/components/ci_icon.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_shared/components/ci_icon.vue\nindex b8eb555106f..a1087b1d0a3 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_shared/components/ci_icon.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_shared/components/ci_icon.vue\n@@ -21,6 +21,7 @@ import Icon from '../../vue_shared/components/icon.vue';\n  * - Jobs table\n  * - Jobs show view header\n  * - Jobs show view sidebar\n+ * - Linked pipelines\n  */\n const validSizes = [8, 12, 16, 18, 24, 32, 48, 72];\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/vue_shared/components/svg_gradient.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_shared/components/svg_gradient.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_shared/components/svg_gradient.vue\nindex cca90af275e..5ce45d492f9 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/vue_shared/components/svg_gradient.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/vue_shared/components/svg_gradient.vue\n@@ -4,10 +4,16 @@ export default {\n     colors: {\n       type: Array,\n       required: true,\n+      validator(value) {\n+        return value.length === 2;\n+      },\n     },\n     opacity: {\n       type: Array,\n       required: true,\n+      validator(value) {\n+        return value.length === 2;\n+      },\n     },\n     identifierName: {\n       type: String,\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/pages/groups/issues/index.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/groups/issues/index.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/groups/issues/index.js\nindex 736c6a62610..1fa163bb2d1 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/groups/issues/index.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/groups/issues/index.js\n@@ -1,13 +1,13 @@\n import projectSelect from '~/project_select';\n import initFilteredSearch from '~/pages/search/init_filtered_search';\n import { FILTERED_SEARCH } from '~/pages/constants';\n-import IssuableFilteredSearchTokenKeys from '~/filtered_search/issuable_filtered_search_token_keys';\n+import IssuesFilteredSearchTokenKeysEE from 'ee/filtered_search/issues_filtered_search_token_keys';\n \n document.addEventListener('DOMContentLoaded', () =\u003e {\n   initFilteredSearch({\n     page: FILTERED_SEARCH.ISSUES,\n     isGroupDecendent: true,\n-    filteredSearchTokenKeys: IssuableFilteredSearchTokenKeys,\n+    filteredSearchTokenKeys: IssuesFilteredSearchTokenKeysEE,\n   });\n   projectSelect();\n });\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/pages/projects/shared/permissions/components/settings_panel.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/shared/permissions/components/settings_panel.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/shared/permissions/components/settings_panel.vue\nindex 19d9903c988..0c1ad372449 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/shared/permissions/components/settings_panel.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/shared/permissions/components/settings_panel.vue\n@@ -37,6 +37,11 @@ export default {\n       required: false,\n       default: false,\n     },\n+    packagesAvailable: {\n+      type: Boolean,\n+      required: false,\n+      default: false,\n+    },\n     visibilityHelpPath: {\n       type: String,\n       required: false,\n@@ -67,6 +72,11 @@ export default {\n       required: false,\n       default: '',\n     },\n+    packagesHelpPath: {\n+      type: String,\n+      required: false,\n+      default: '',\n+    },\n   },\n \n   data() {\n@@ -82,6 +92,7 @@ export default {\n       pagesAccessLevel: 20,\n       containerRegistryEnabled: true,\n       lfsEnabled: true,\n+      packagesEnabled: true,\n       requestAccessEnabled: true,\n       highlightChangesClass: false,\n     };\n@@ -157,12 +168,14 @@ export default {\n         if (value === 0) {\n           this.containerRegistryEnabled = false;\n           this.lfsEnabled = false;\n+          this.packagesEnabled = false;\n         }\n       } else if (oldValue === 0) {\n         this.mergeRequestsAccessLevel = value;\n         this.buildsAccessLevel = value;\n         this.containerRegistryEnabled = true;\n         this.lfsEnabled = true;\n+        this.packagesEnabled = true;\n       }\n     },\n \n@@ -304,6 +317,18 @@ export default {\n             name=\"project[lfs_enabled]\"\n           /\u003e\n         \u003c/project-setting-row\u003e\n+        \u003cproject-setting-row\n+          v-if=\"packagesAvailable\"\n+          :help-path=\"packagesHelpPath\"\n+          label=\"Packages\"\n+          help-text=\"Every project can have its own space to store its packages\"\n+        \u003e\n+          \u003cproject-feature-toggle\n+            v-model=\"packagesEnabled\"\n+            :disabled-input=\"!repositoryEnabled\"\n+            name=\"project[packages_enabled]\"\n+          /\u003e\n+        \u003c/project-setting-row\u003e\n       \u003c/div\u003e\n       \u003cproject-setting-row label=\"Wiki\" help-text=\"Pages for project documentation\"\u003e\n         \u003cproject-feature-setting\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/pages/projects/project.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/project.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/project.js\nindex b288989b252..f0d529758d5 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/project.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/project.js\n@@ -39,6 +39,11 @@ export default class Project {\n         $label.text(activeText);\n       });\n \n+      $('#modal-geo-info').data({\n+        cloneUrlSecondary: $this.attr('href'),\n+        cloneUrlPrimary: $this.data('primaryUrl') || '',\n+      });\n+\n       if (mobileCloneField) {\n         mobileCloneField.dataset.clipboardText = url;\n       } else {\n@@ -67,6 +72,13 @@ export default class Project {\n         .remove();\n       return e.preventDefault();\n     });\n+    $('.hide-shared-runner-limit-message').on('click', function(e) {\n+      var $alert = $(this).parents('.shared-runner-quota-message');\n+      var scope = $alert.data('scope');\n+      Cookies.set('hide_shared_runner_quota_message', 'false', { path: scope });\n+      $alert.remove();\n+      e.preventDefault();\n+    });\n     $('.hide-auto-devops-implicitly-enabled-banner').on('click', function(e) {\n       const projectId = $(this).data('project-id');\n       const cookieKey = `hide_auto_devops_implicitly_enabled_banner_${projectId}`;\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/pages/projects/issues/form.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/issues/form.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/issues/form.js\nindex f99023ad8e7..a2d8ae6d526 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/issues/form.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/issues/form.js\n@@ -8,6 +8,7 @@ import MilestoneSelect from '~/milestone_select';\n import ShortcutsNavigation from '~/behaviors/shortcuts/shortcuts_navigation';\n import IssuableTemplateSelectors from '~/templates/issuable_template_selectors';\n import initSuggestions from '~/issuable_suggestions';\n+import WeightSelect from 'ee/weight_select';\n \n export default () =\u003e {\n   new ShortcutsNavigation();\n@@ -20,4 +21,6 @@ export default () =\u003e {\n   if (gon.features.graphql) {\n     initSuggestions();\n   }\n+\n+  new WeightSelect();\n };\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/pages/projects/issues/index/index.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/issues/index/index.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/issues/index/index.js\nindex a56c0bb6be8..1e36f098c88 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/projects/issues/index/index.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/projects/issues/index/index.js\n@@ -4,14 +4,14 @@ import IssuableIndex from '~/issuable_index';\n import ShortcutsNavigation from '~/behaviors/shortcuts/shortcuts_navigation';\n import UsersSelect from '~/users_select';\n import initFilteredSearch from '~/pages/search/init_filtered_search';\n-import IssuableFilteredSearchTokenKeys from '~/filtered_search/issuable_filtered_search_token_keys';\n import { FILTERED_SEARCH } from '~/pages/constants';\n import { ISSUABLE_INDEX } from '~/pages/projects/constants';\n+import IssuesFilteredSearchTokenKeysEE from 'ee/filtered_search/issues_filtered_search_token_keys';\n \n document.addEventListener('DOMContentLoaded', () =\u003e {\n   initFilteredSearch({\n     page: FILTERED_SEARCH.ISSUES,\n-    filteredSearchTokenKeys: IssuableFilteredSearchTokenKeys,\n+    filteredSearchTokenKeys: IssuesFilteredSearchTokenKeysEE,\n   });\n   new IssuableIndex(ISSUABLE_INDEX.ISSUE);\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/pages/milestones/shared/components/promote_milestone_modal.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/milestones/shared/components/promote_milestone_modal.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/milestones/shared/components/promote_milestone_modal.vue\nindex a79ef07f1c5..42124c63885 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pages/milestones/shared/components/promote_milestone_modal.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pages/milestones/shared/components/promote_milestone_modal.vue\n@@ -31,11 +31,26 @@ export default {\n       });\n     },\n     text() {\n+      const milestonePromotion = sprintf(\n+        s__(`Milestones|Promoting %{milestone} will make it available for all projects inside %{groupName}.\n+          Existing project milestones with the same name will be merged. `),\n+        {\n+          milestone: this.milestoneTitle,\n+          groupName: this.groupName,\n+        },\n+      );\n+      const finalWarning = s__('Milestones|This action cannot be reversed.');\n+\n       return sprintf(\n-        s__(`Milestones|Promoting %{milestoneTitle} will make it available for all projects inside %{groupName}.\n-        Existing project milestones with the same title will be merged.\n-        This action cannot be reversed.`),\n-        { milestoneTitle: this.milestoneTitle, groupName: this.groupName },\n+        s__(\n+          `Milestones|\u003cp\u003e%{milestonePromotion}\u003c/p\u003e\n+          %{finalWarning}`,\n+        ),\n+        {\n+          milestonePromotion,\n+          finalWarning,\n+        },\n+        false,\n       );\n     },\n   },\n@@ -72,6 +87,6 @@ export default {\n     \u003ctemplate slot=\"title\"\u003e\n       {{ title }}\n     \u003c/template\u003e\n-    {{ text }}\n+    \u003cdiv v-html=\"text\"\u003e\u003c/div\u003e\n   \u003c/gl-modal\u003e\n \u003c/template\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/pipelines/components/graph/stage_column_component.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pipelines/components/graph/stage_column_component.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pipelines/components/graph/stage_column_component.vue\nindex 09a50d25020..556d26b33c9 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pipelines/components/graph/stage_column_component.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pipelines/components/graph/stage_column_component.vue\n@@ -27,13 +27,18 @@ export default {\n       required: false,\n       default: '',\n     },\n+    hasTriggeredBy: {\n+      type: Boolean,\n+      required: false,\n+      default: false,\n+    },\n   },\n   methods: {\n     groupId(group) {\n       return `ci-badge-${_.escape(group.name)}`;\n     },\n     buildConnnectorClass(index) {\n-      return index === 0 \u0026\u0026 !this.isFirstColumn ? 'left-connector' : '';\n+      return index === 0 \u0026\u0026 (!this.isFirstColumn || this.hasTriggeredBy) ? 'left-connector' : '';\n     },\n     pipelineActionRequestComplete() {\n       this.$emit('refreshPipelineGraph');\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/pipelines/pipeline_details_bundle.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pipelines/pipeline_details_bundle.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pipelines/pipeline_details_bundle.js\nindex dc9befe6349..313348386ae 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/pipelines/pipeline_details_bundle.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/pipelines/pipeline_details_bundle.js\n@@ -2,10 +2,11 @@ import Vue from 'vue';\n import Flash from '~/flash';\n import Translate from '~/vue_shared/translate';\n import { __ } from '~/locale';\n-import PipelinesMediator from './pipeline_details_mediator';\n-import pipelineGraph from './components/graph/graph_component.vue';\n+import PipelinesMediator from 'ee/pipelines/pipeline_details_mediator';\n+import pipelineGraph from 'ee/pipelines/components/graph/graph_component.vue';\n import pipelineHeader from './components/header_component.vue';\n import eventHub from './event_hub';\n+import GraphEEMixin from 'ee/pipelines/mixins/graph_pipeline_bundle_mixin'; // eslint-disable-line import/order\n \n Vue.use(Translate);\n \n@@ -22,6 +23,7 @@ export default () =\u003e {\n     components: {\n       pipelineGraph,\n     },\n+    mixins: [GraphEEMixin],\n     data() {\n       return {\n         mediator,\n@@ -41,9 +43,21 @@ export default () =\u003e {\n         props: {\n           isLoading: this.mediator.state.isLoading,\n           pipeline: this.mediator.store.state.pipeline,\n+          // EE-only start\n+          triggeredPipelines: this.mediator.store.state.triggeredPipelines,\n+          triggered: this.mediator.store.state.triggered,\n+          triggeredByPipelines: this.mediator.store.state.triggeredByPipelines,\n+          triggeredBy: this.mediator.store.state.triggeredBy,\n+          // EE-only end\n         },\n         on: {\n           refreshPipelineGraph: this.requestRefreshPipelineGraph,\n+          // EE-only start\n+          refreshTriggeredPipelineGraph: this.mediator.refreshTriggeredByPipelineGraph,\n+          refreshTriggeredByPipelineGraph: this.mediator.refreshTriggeredByPipelineGraph,\n+          onClickTriggeredBy: pipeline =\u003e this.clickTriggeredBy(pipeline),\n+          onClickTriggered: pipeline =\u003e this.clickTriggered(pipeline),\n+          // EE-only end\n         },\n       });\n     },\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/jobs/components/job_app.vue\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/jobs/components/job_app.vue b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/jobs/components/job_app.vue\nindex d473d6a482d..c1842d5b475 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/jobs/components/job_app.vue\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/jobs/components/job_app.vue\n@@ -7,6 +7,9 @@ import { polyfillSticky } from '~/lib/utils/sticky';\n import bp from '~/breakpoints';\n import CiHeader from '~/vue_shared/components/header_ci_component.vue';\n import Callout from '~/vue_shared/components/callout.vue';\n+// ee-only start\n+import SharedRunner from 'ee/jobs/components/shared_runner_limit_block.vue';\n+// ee-only end\n import Icon from '~/vue_shared/components/icon.vue';\n import createStore from '../store';\n import EmptyState from './empty_state.vue';\n@@ -28,12 +31,13 @@ export default {\n     EmptyState,\n     EnvironmentsBlock,\n     ErasedBlock,\n+    GlLoadingIcon,\n     Icon,\n     Log,\n     LogTopBar,\n     StuckBlock,\n+    SharedRunner,\n     Sidebar,\n-    GlLoadingIcon,\n   },\n   mixins: [delayedJobMixin],\n   props: {\n@@ -84,6 +88,7 @@ export default {\n       'shouldRenderCalloutMessage',\n       'shouldRenderTriggeredLabel',\n       'hasEnvironment',\n+      'shouldRenderSharedRunnerLimitWarning',\n       'hasTrace',\n       'emptyStateIllustration',\n       'isScrollingDown',\n@@ -221,6 +226,14 @@ export default {\n           :runners-path=\"runnerSettingsUrl\"\n         /\u003e\n \n+        \u003cshared-runner\n+          v-if=\"shouldRenderSharedRunnerLimitWarning\"\n+          class=\"js-shared-runner-limit\"\n+          :quota-used=\"job.runners.quota.used\"\n+          :quota-limit=\"job.runners.quota.limit\"\n+          :runners-path=\"runnerHelpUrl\"\n+        /\u003e\n+\n         \u003cenvironments-block\n           v-if=\"hasEnvironment\"\n           class=\"js-job-environment\"\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/jobs/store/getters.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/jobs/store/getters.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/jobs/store/getters.js\nindex 98911717381..734c1cf0cb3 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/jobs/store/getters.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/jobs/store/getters.js\n@@ -28,6 +28,19 @@ export const emptyStateIllustration = state =\u003e\n export const emptyStateAction = state =\u003e\n   (state.job \u0026\u0026 state.job.status \u0026\u0026 state.job.status.action) || null;\n \n+// ee-only start\n+/**\n+ * Shared runners limit is only rendered when\n+ * used quota is bigger or equal than the limit\n+ *\n+ * @returns {Boolean}\n+ */\n+export const shouldRenderSharedRunnerLimitWarning = state =\u003e\n+  !_.isEmpty(state.job.runners) \u0026\u0026\n+  !_.isEmpty(state.job.runners.quota) \u0026\u0026\n+  state.job.runners.quota.used \u003e= state.job.runners.quota.limit;\n+// ee-only end\n+\n export const isScrollingDown = state =\u003e isScrolledToBottom() \u0026\u0026 !state.isTraceComplete;\n \n export const hasRunnersForProject = state =\u003e\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/gfm_auto_complete.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/gfm_auto_complete.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/gfm_auto_complete.js\nindex 570d3b712e0..82fc44ef65f 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/gfm_auto_complete.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/gfm_auto_complete.js\n@@ -1,5 +1,9 @@\n import $ from 'jquery';\n import _ from 'underscore';\n+\n+// EE-specific\n+import setupAutoCompleteEpics from 'ee/gfm_auto_complete_ee';\n+\n import glRegexp from './lib/utils/regexp';\n import AjaxCache from './lib/utils/ajax_cache';\n \n@@ -53,6 +57,9 @@ class GfmAutoComplete {\n     if (this.enableMap.labels) this.setupLabels($input);\n     if (this.enableMap.snippets) this.setupSnippets($input);\n \n+    // EE-specific\n+    if (this.enableMap.epics) setupAutoCompleteEpics($input, this.getDefaultCallbacks());\n+\n     // We don't instantiate the quick actions autocomplete for note and issue/MR edit forms\n     $input.filter('[data-supports-quick-actions=\"true\"]').atwho({\n       at: '/',\n```\n\n\u003c/details\u003e\n\u003cdetails\u003e\n\u003csummary\u003eapp/assets/javascripts/lib/utils/number_utils.js\u003c/summary\u003e\n\n```diff\ndiff --git a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/lib/utils/number_utils.js b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/lib/utils/number_utils.js\nindex 2ccc51c35f7..19c4de6083d 100644\n--- a/home/yorickpeterse/Projects/gitlab/gdk-ce/gitlab/app/assets/javascripts/lib/utils/number_utils.js\n+++ b/home/yorickpeterse/Projects/gitlab/gdk-ee/gitlab/app/assets/javascripts/lib/utils/number_utils.js\n@@ -80,3 +80,22 @@ export function numberToHumanSize(size) {\n   }\n   return `${bytesToGiB(size).toFixed(2)} GiB`;\n }\n+\n+/**\n+ * A simple method that returns the value of a + b\n+ * It seems unessesary, but when combined with a reducer it\n+ * adds up all the values in an array.\n+ *\n+ * e.g. `[1, 2, 3, 4, 5].reduce(sum) // =\u003e 15`\n+ *\n+ * @param {Float} a\n+ * @param {Float} b\n+ * @example\n+ * // return 15\n+ * [1, 2, 3, 4, 5].reduce(sum);\n+ *\n+ * // returns 6\n+ * Object.values([{a: 1, b: 2, c: 3].reduce(sum);\n+ * @returns {Float} The summed value\n+ */\n+export const sum = (a = 0, b = 0) =\u003e a + b;\n```\n\n\u003c/details\u003e\n","state":"closed","created_at":"2018-12-04T14:35:02.508Z","updated_at":"2019-12-02T11:55:55.348Z","closed_at":"2019-04-09T08:42:04.132Z","closed_by":{"id":116,"username":"marin","name":"Marin Jankovski","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5154f0b0eda3f798c8a254962d57192f?s=80\u0026d=identicon","web_url":"https://gitlab.com/marin"},"labels":["Enterprise Edition","backstage [DEPRECATED]","frontend","single codebase","team::Delivery"],"milestone":{"id":523180,"iid":18,"group_id":9970,"title":"11.9","description":"https://about.gitlab.com/releases/2019/03/22/gitlab-11-9-released/","state":"closed","created_at":"2018-05-09T14:56:19.024Z","updated_at":"2020-04-30T19:56:35.917Z","due_date":"2019-03-22","start_date":"2019-02-08","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/18"},"assignees":[{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":482476,"username":"filipa","name":"Filipa Lacerda","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/482476/avatar.png","web_url":"https://gitlab.com/filipa"},"user_notes_count":65,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/8711","time_stats":{"time_estimate":1152000,"total_time_spent":0,"human_time_estimate":"320h","human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/8711","notes":"https://gitlab.com/api/v4/projects/278964/issues/8711/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/8711/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#8711","relative":"#8711","full":"gitlab-org/gitlab#8711"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":601,"epic":{"id":2297,"iid":601,"title":"Move all EE specific frontend code behind an EE flag","url":"/groups/gitlab-org/-/epics/601","group_id":9970,"human_readable_end_date":"May 22, 2019","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]