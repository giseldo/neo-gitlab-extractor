[{"id":108469005,"iid":362297,"project_id":278964,"title":"Include event_type in the JSON payload of a streaming audit event","description":"Full context in [parent epic](https://gitlab.com/groups/gitlab-org/-/epics/8057)\n\n\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nIt can be challenging to understand what type of data a streaming audit event will contain without parsing the entire message. This is complicated, time-consuming, and error prone code to write. Additionally, it is not always possible to look at the audit event type HTTP header, since the headers may be gone by the time a portion of code has access to the JSON payload of a message.\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nUpdate streaming audit events to include the `event_type` value in the JSON payload. This value should match the `x-gitlab-audit-event-type` that is sent in the event's HTTP header.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-05-12T18:24:48.776Z","updated_at":"2022-06-02T06:47:52.001Z","closed_at":"2022-06-02T06:47:51.961Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["Category:Audit Events","GitLab Ultimate","devops::manage","direction","documentation","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362297","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362297","notes":"https://gitlab.com/api/v4/projects/278964/issues/362297/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362297/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362297","relative":"#362297","full":"gitlab-org/gitlab#362297"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8057,"epic":{"id":521071,"iid":8057,"title":"Add event type information for all streaming audit events","url":"/groups/gitlab-org/-/epics/8057","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":108461664,"iid":362282,"project_id":278964,"title":"Update a task","description":"GraphQL API should have a mutation that will allow to update a task and at the same time expire the markdown cache of the work item referencing the task. The mutation should also allow to fetch updated information of both the task and the work item that references the task","state":"closed","created_at":"2022-05-12T16:42:38.694Z","updated_at":"2022-06-21T12:00:57.843Z","closed_at":"2022-06-16T02:13:22.783Z","closed_by":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"labels":["Deliverable","auto updated","backend","devops::plan","frontend","group::project management","missed-deliverable","missed:15.0","section::dev","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"type":"ISSUE","assignee":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362282","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362282","notes":"https://gitlab.com/api/v4/projects/278964/issues/362282/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362282/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362282","relative":"#362282","full":"gitlab-org/gitlab#362282"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7169,"epic":{"id":390060,"iid":7169,"title":"🚀 Manage a Task","url":"/groups/gitlab-org/-/epics/7169","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108461495,"iid":362281,"project_id":278964,"title":"Recreate Redis Counters using Snowplow events - Phase 2: Wave 5","description":"## Summary\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/7493, we instrumented the first set of Redis Counters using Snowplow events in SaaS. This is the 5th wave of counters to be instrumented using Snowplow Events.\n\n1. [ ] ~~[redis_hll_counters.ecosystem.ecosystem_total_unique_counts_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216184957_ecosystem_total_unique_counts_monthly.yml)~~ Covered in https://gitlab.com/gitlab-org/gitlab/-/issues/369090\n1. [ ] ~~[redis_hll_counters.epics_usage.epics_usage_total_unique_counts_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/config/metrics/counts_28d/20210216174929_g_analytics_valuestream_monthly.yml)~~ Covered in https://gitlab.com/gitlab-org/gitlab/-/issues/366827 \n1. [x] [redis_hll_counters.code_review.i_code_review_user_approve_mr_monthly](url)   \n1. [ ] ~~[redis_hll_counters.analytics.analytics_total_unique_counts_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216175016_analytics_total_unique_counts_monthly.yml)~~ Covered in https://gitlab.com/gitlab-org/gitlab/-/issues/369846 and https://gitlab.com/gitlab-org/gitlab/-/issues/373146\n1. [x] [counts.source_code_pushes](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_all/20210216182006_source_code_pushes.yml)                                              \n\n## Note\n\nPlease be aware that the [Optimize team is creating two additional counters](https://gitlab.com/gitlab-org/gitlab/-/issues/365103) which will be added to the existing GMAU counter: https://metrics.gitlab.com/?q=analytics_unique_visits.analytics_unique_visits_for_any_target_monthly. Please make sure we instrument these new counters as well.\n\n## Feature Flag\n\nThese events should be instrumented behind a feature flag (separate from the FF used for the first wave of metrics) in case we need to quickly turn off collection.\n\n## Next Step\n\nPost delivery, the data team will need to aggregate the snowplow events into counters for use in Sisense and Gainsight. Data team issue for this wave: https://gitlab.com/gitlab-data/analytics/-/issues/13211","state":"closed","created_at":"2022-05-12T16:38:59.950Z","updated_at":"2022-11-21T12:07:15.142Z","closed_at":"2022-10-25T00:56:01.221Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["Deliverable","backend","devops::analytics","group::product intelligence","missed-deliverable","missed:15.2","missed:15.3","missed:15.4","missed:15.5","quad-planning::complete-no-action","section::analytics","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362281","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":2},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"2 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362281","notes":"https://gitlab.com/api/v4/projects/278964/issues/362281/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362281/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362281","relative":"#362281","full":"gitlab-org/gitlab#362281"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7494,"epic":{"id":435082,"iid":7494,"title":"Send RedisHLL metrics via Snowplow for SaaS namespaces - Phase 2","url":"/groups/gitlab-org/-/epics/7494","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":108460870,"iid":362279,"project_id":278964,"title":"Recreate Redis Counters using Snowplow events - Phase 2: Wave 3","description":"## Summary\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/7493, we instrumented the first set of Redis Counters using Snowplow events in SaaS. This is the 3rd wave of counters to be instrumented using Snowplow Events.\n\n* [ ] ~~[redis_hll_counters.issues_edit.issues_edit_total_unique_counts_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216181504_issues_edit_total_unique_counts_monthly.yml)~~ Addressed in https://gitlab.com/gitlab-org/gitlab/-/issues/365960               \n* [x] [usage_activity_by_stage_monthly.create.merge_requests_users](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216175101_merge_requests_users.yml)                          \n* [x] [usage_activity_by_stage_monthly.create.action_monthly_active_users_ide_edit](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216180327_action_monthly_active_users_ide_edit.yml)          \n* [x] [redis_hll_counters.search.search_total_unique_counts_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216180431_search_total_unique_counts_monthly.yml)                         \n* [x] [usage_activity_by_stage_monthly.create.action_monthly_active_users_design_management](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216180745_action_monthly_active_users_design_management.yml) \n\n## Feature Flag\n\nThese events should be instrumented behind a feature flag (separate from the FF used for the first wave of metrics) in case we need to quickly turn off collection.\n\n## Testing\n\nLocal manual testing and make sure QA pipelines are passing.\n\n## Next Step\n\nPost delivery, the data team will need to aggregate the snowplow events into counters for use in Sisense and Gainsight. Data team issue for this wave: ## Next Step\n\nPost delivery, the data team will need to aggregate the snowplow events into counters for use in Sisense and Gainsight. Data team issue for this wave: https://gitlab.com/gitlab-data/analytics/-/issues/13209","state":"closed","created_at":"2022-05-12T16:24:53.152Z","updated_at":"2022-08-19T06:05:25.892Z","closed_at":"2022-07-02T00:58:03.857Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["Deliverable","backend","devops::analytics","group::product intelligence","missed-deliverable","missed:15.1","quad-planning::complete-action","section::analytics","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362279","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":4},"weight":8,"blocking_issues_count":2,"has_tasks":true,"task_status":"4 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362279","notes":"https://gitlab.com/api/v4/projects/278964/issues/362279/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362279/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362279","relative":"#362279","full":"gitlab-org/gitlab#362279"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7494,"epic":{"id":435082,"iid":7494,"title":"Send RedisHLL metrics via Snowplow for SaaS namespaces - Phase 2","url":"/groups/gitlab-org/-/epics/7494","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":108460554,"iid":362277,"project_id":278964,"title":"Update delegation of #wip_title to #draft_title","description":"As part of https://gitlab.com/groups/gitlab-org/-/epics/3879+ update `app/services/merge_requests/build_service.rb` so that it is delegating to `#draft_title` instead of `#wip_title`\n\nWhile we're at it, let's also clean up the remaining WIP/Draft discrepancies.","state":"closed","created_at":"2022-05-12T16:19:35.103Z","updated_at":"2022-06-21T12:01:43.528Z","closed_at":"2022-05-24T18:56:10.186Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Category:Code Review Workflow","Deliverable","backend","devops::create","group::code review","section::dev","type::maintenance"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362277","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362277","notes":"https://gitlab.com/api/v4/projects/278964/issues/362277/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362277/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362277","relative":"#362277","full":"gitlab-org/gitlab#362277"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3879,"epic":{"id":80141,"iid":3879,"title":"Rename WIP merge requests to Draft","url":"/groups/gitlab-org/-/epics/3879","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108460202,"iid":362274,"project_id":278964,"title":"Recreate Redis Counters using Snowplow events - Phase 2: Wave 2","description":"## Summary\n\nIn https://gitlab.com/groups/gitlab-org/-/epics/7493, we instrumented the first set of Redis Counters using Snowplow events in SaaS. This is the 2nd wave of counters to be instrumented using Snowplow Events.\n\n1. ~~[analytics_unique_visits.analytics_unique_visits_for_any_target_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216174910_analytics_unique_visits_for_any_target_monthly.yml)~~ EDIT: this is a self-managed only feature and is not available in SaaS, therefore we will remove this metric from the project \n* [x] [redis_hll_counters.terraform.p_terraform_state_api_unique_users_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216184259_p_terraform_state_api_unique_users_monthly.yml) \n* [x] [counts.static_site_editor_views](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_all/20210216180259_static_site_editor_views.yml)                                         \n* [x] [redis_hll_counters.search.i_search_paid_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/config/metrics/counts_all/20210216184035_i_search_paid_monthly.yml)                         \n5. ~~[analytics_unique_visits.analytics_unique_visits_for_any_target_monthly](https://gitlab.com/gitlab-org/gitlab/-/blob/master/config/metrics/counts_28d/20210216174910_analytics_unique_visits_for_any_target_monthly.yml)~~ EDIT: Duplicate of metric 1 above\n\n## Feature Flag\n\nThese events should be instrumented behind a feature flag (separate from the FF used for the first wave of metrics) in case we need to quickly turn off collection.\n\n## Next Step\n\nPost delivery, the data team will need to aggregate the snowplow events into counters for use in Sisense and Gainsight. Data team issue for this wave: https://gitlab.com/gitlab-data/analytics/-/issues/13208\n\n## Data Availability\n\nThe aggregate metrics can be found in SiSense in the following tables per [this comment](https://gitlab.com/gitlab-data/analytics/-/issues/13208#note_1007437120).\n\n1. `mart_product_usage_paid_user_metrics_monthly_workspace` table - Gainsight/Customer Success\n1. `redis_namespace_snowplow_clicks_aggregated_workspace` table - the redis events themselves that Product Data Insights can query and also what feeds the above referenced Gainsight data model.","state":"closed","created_at":"2022-05-12T16:13:25.913Z","updated_at":"2022-08-18T14:16:47.217Z","closed_at":"2022-06-11T04:59:47.085Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["Data team review","Deliverable","auto updated","backend","devops::growth","group::product intelligence","section::growth","workflow::feature-flagged"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362274","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362274","notes":"https://gitlab.com/api/v4/projects/278964/issues/362274/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362274/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362274","relative":"#362274","full":"gitlab-org/gitlab#362274"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7494,"epic":{"id":435082,"iid":7494,"title":"Send RedisHLL metrics via Snowplow for SaaS namespaces - Phase 2","url":"/groups/gitlab-org/-/epics/7494","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":108455270,"iid":362265,"project_id":278964,"title":"Streaming destinations should not be created for subgroups via API","description":"## Current behavior\n\nOur GraphQL API currently allows for destinations for audit events at the subgroup-level.\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/graphql/mutations/audit_events/external_audit_event_destinations/create.rb\n\n```ruby\ndef resolve(destination_url:, group_path:)\n  group = authorized_find!(group_path)\n  destination = ::AuditEvents::ExternalAuditEventDestination.new(group: group, destination_url: destination_url)\n\n  audit(destination, action: :create) if destination.save\n\n  { external_audit_event_destination: (destination if destination.persisted?), errors: Array(destination.errors) }\nend\n\nprivate\n\ndef find_object(group_path)\n  ::Group.find_by_full_path(group_path)\nend\n```\n\n## Expected behavior\n\nDestinations should only be allowed to be set up at the root group-level.\n\n## Technical implementation\n\nAttempting to create a destination on a subgroup should return a 400 Bad Request error.","state":"closed","created_at":"2022-05-12T15:04:36.153Z","updated_at":"2022-05-23T12:28:04.125Z","closed_at":"2022-05-23T12:28:04.100Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Events","GitLab Ultimate","devops::manage","group::compliance","priority::2","section::dev","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362265","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362265","notes":"https://gitlab.com/api/v4/projects/278964/issues/362265/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362265/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362265","relative":"#362265","full":"gitlab-org/gitlab#362265"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5925,"epic":{"id":263863,"iid":5925,"title":"Streaming Audit Events to user-defined location","url":"/groups/gitlab-org/-/epics/5925","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":108455237,"iid":362264,"project_id":278964,"title":"Audit event \"Streams\" tab should not be in subgroups UI","description":"### Summary\n\nStreaming audit event destinations are currently visible in the UI of subgroups. They should only be visible and configurable at the top-level group.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nThe \"Streams\" tab is currently visible when viewing a subgroup's audit event page.\n\n### What is the expected *correct* behavior?\n\nThe \"Streams\" tab _should not_ be visible when viewing a subgroup's audit event page.\n\n### Relevant logs and/or screenshots\n\n![Bildschirmfoto_2022-05-12_um_08.03.40](/uploads/6ba14d4528b08254c3a372bc55e1662e/Bildschirmfoto_2022-05-12_um_08.03.40.png)\n\n### Implementation plan\n\n~frontend - :two: \n\n1. Update https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/views/groups/audit_events/index.html.haml#L12 to check for if the group is a root-level group by using `@group.subgroup?`\n2. Update specs to validate the stream tab doesn't appear on subgroups\n3. Update [documentation](https://staging.gitlab.com/help/administration/audit_event_streaming.md) to make it clear its only available on root-groups:\n\n```diff\n-Event streaming allows owners of top-level groups to set an HTTP endpoint to receive all audit events about the group, and its subgroups and projects as structured JSON.\n+Event streaming is a top-level group feature that allows users with the Owner role to set an HTTP endpoint to receive all audit events about the group, and its subgroups and projects as structured JSON.\n```","state":"closed","created_at":"2022-05-12T15:04:11.058Z","updated_at":"2022-05-24T07:10:25.931Z","closed_at":"2022-05-24T07:10:25.907Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Audit Events","GitLab Ultimate","backend","devops::manage","documentation","frontend","group::compliance","priority::2","section::dev","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362264","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362264","notes":"https://gitlab.com/api/v4/projects/278964/issues/362264/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362264/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362264","relative":"#362264","full":"gitlab-org/gitlab#362264"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5925,"epic":{"id":263863,"iid":5925,"title":"Streaming Audit Events to user-defined location","url":"/groups/gitlab-org/-/epics/5925","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":108455171,"iid":362263,"project_id":278964,"title":"Direct read queries of RepositoryUpdateMirrorWorker to a replica","description":"This worker is scheduled from the [`ProjectImportScheduleWorker`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/workers/project_import_schedule_worker.rb) or from the web fleet when triggered manually. I think we could use `data_consistency :sticky` for this worker: it performs a lot of IO bound work talking to Gitaly, and only needs data from the database for validating permissions. The writes it does seem to do are related to updating the state of the import.\n\nRegardless, this worker was responsible for [9.41% (at the time of writing)](https://log.gprd.gitlab.net/goto/a18f1fb0-d1da-11ec-afaf-2bca15dfbf33) of the time spent talking to the primary database from Sidekiq the past 7 days. This isn't necessarily because of inefficient queries, it could be because of the amount of these jobs we process. Because of this, it would be beneficial to direct as much of the reads as possible to a read-replica.\n\nWhen looking at the worker, it does seem like it performs writes pretty early when running: https://gitlab.com/gitlab-org/gitlab/blob/832d65d8e791d642cd8b141e76b71dfe88a70af4/ee/app/workers/repository_update_mirror_worker.rb#L22. Right after finding the project to work on, it marks the project as \"in progress\". But after, multiple relations are still loaded for performing permission checks, checking whether or not a branch is protected or if a tag can be created or removed by the mirroring user. We could move as many of these reads as possible to the start of thejob, before we mark the mirror as started. As far as I can tell, this entails the following relations:\n\n- [`project.mirror_user`](https://gitlab.com/gitlab-org/gitlab/blob/832d65d8e791d642cd8b141e76b71dfe88a70af4/ee/app/workers/repository_update_mirror_worker.rb#L24)\n- [`project.creator`](https://gitlab.com/gitlab-org/gitlab/blob/832d65d8e791d642cd8b141e76b71dfe88a70af4/ee/app/workers/repository_update_mirror_worker.rb#L24)\n- [`project.import_state`](https://gitlab.com/gitlab-org/gitlab/blob/832d65d8e791d642cd8b141e76b71dfe88a70af4/ee/app/workers/repository_update_mirror_worker.rb#L43)\n- [`project.team.max_member_access(user)`](https://gitlab.com/gitlab-org/gitlab/blob/832d65d8e791d642cd8b141e76b71dfe88a70af4/app/policies/project_policy.rb#L809): This is used for checking if the user can actually perform the mirror. Perhaps we can check the permissions earlier so they're memoized for the rest of the run by checking [`can?(current_user, :push_code_to_protected_branches, project)`](https://gitlab.com/gitlab-org/gitlab/blob/832d65d8e791d642cd8b141e76b71dfe88a70af4/ee/app/services/projects/update_mirror_service.rb#L29)\n- [`project.protected_tags`](https://gitlab.com/gitlab-org/gitlab/blob/832d65d8e791d642cd8b141e76b71dfe88a70af4/app/models/protected_tag.rb#L11) and the related [`ProtectedTag#create_access_levels`](https://gitlab.com/gitlab-org/gitlab/blob/832d65d8e791d642cd8b141e76b71dfe88a70af4/app/models/concerns/protected_ref.rb#L43): From [`UpdateMirrorService#can_crate_tag?`](https://gitlab.com/gitlab-org/gitlab/blob/832d65d8e791d642cd8b141e76b71dfe88a70af4/ee/app/services/projects/update_mirror_service.rb#L143)\n- [`project.protected_branches`](https://gitlab.com/gitlab-org/gitlab/blob/832d65d8e791d642cd8b141e76b71dfe88a70af4/ee/app/services/projects/update_mirror_service.rb#L194): to check if we should pull the branch or not if we're only mirroring protected branches. I think we only need to load these if `project.only_mirror_protected_branches` is enabled.\n\nThis worker only performs 7 writes: marking the state being 2 of them, I suspect most of the reads come from an N+1 when iterating over the tags we're importing. So hopefully the preloading before the first write would also take care of that.\n\nQuery counts for this worker: https://log.gprd.gitlab.net/goto/fa79b840-d1f0-11ec-b73f-692cc1ae8214","state":"closed","created_at":"2022-05-12T15:02:59.166Z","updated_at":"2022-07-25T14:14:07.322Z","closed_at":"2022-07-07T11:41:17.602Z","closed_by":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"labels":["Category:Source Code Management","Deliverable","auto updated","backend","backend-weight::3","bug::performance","devops::create","group::source code","infradev","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":421631,"username":"vyaklushin","name":"Vasilii Iakliushin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/421631/avatar.png","web_url":"https://gitlab.com/vyaklushin"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362263","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362263","notes":"https://gitlab.com/api/v4/projects/278964/issues/362263/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362263/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362263","relative":"#362263","full":"gitlab-org/gitlab#362263"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8225,"epic":{"id":543697,"iid":8225,"title":"Pull Mirroring Improvements","url":"/groups/gitlab-org/-/epics/8225","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108452705,"iid":362259,"project_id":278964,"title":"Add a `last_downloaded_at` field to the Package model","description":"## :fire: Problem\n\nDownload statistics for the [package registry](https://docs.gitlab.com/ee/user/packages/package_registry/) is something that keep coming back from users. Related issue: https://gitlab.com/gitlab-org/gitlab/-/issues/293739.\n\n## :fire_engine: Solution\n\nThis issue is to propose a simple first iteration: have a `last_downloaded_at` field that is updated each time a package is pulled from the registry.\n\nWhy such simple approach?\n\n1. It could fill _some_ of the user needs.\n1. Cleanup policies could leverage this field to have rules like:\n   * Remove any package that has not been downloaded in the last 30 days.\n   * Remove any package that was created 6 months ago and was never downloaded.","state":"closed","created_at":"2022-05-12T14:31:50.376Z","updated_at":"2022-09-21T12:04:38.483Z","closed_at":"2022-09-15T10:08:27.001Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","Deliverable","Package:P1","backend","devops::package","feature::addition","group::package registry","rails","section::ops","type::feature","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362259","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362259","notes":"https://gitlab.com/api/v4/projects/278964/issues/362259/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362259/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362259","relative":"#362259","full":"gitlab-org/gitlab#362259"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8064,"epic":{"id":521985,"iid":8064,"title":"Display package usage data","url":"/groups/gitlab-org/-/epics/8064","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":108450995,"iid":362252,"project_id":278964,"title":"Raise error when an unversioned schema is used","description":"## Why are we doing this work?\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/353997+ we made sure to use versioned security report schemas when possible. After we enable `enforce_security_report_validation` we don't want to ingest reports that don't conform to schema\n\n## Implementation plan\n\n1. Adjust `Gitlab::Ci::Parsers::Security::Validators::SchemaValidator#schema_path` to error out if `enforce_security_report_validation` is enabled and no version is declared in the report","state":"closed","created_at":"2022-05-12T14:09:08.063Z","updated_at":"2022-05-23T11:42:15.681Z","closed_at":"2022-05-19T10:23:43.979Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["backend","devops::secure","feature::enhancement","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"}],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362252","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362252","notes":"https://gitlab.com/api/v4/projects/278964/issues/362252/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362252/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362252","relative":"#362252","full":"gitlab-org/gitlab#362252"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6968,"epic":{"id":374803,"iid":6968,"title":"Enforce validation of security reports","url":"/groups/gitlab-org/-/epics/6968","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108450023,"iid":362245,"project_id":278964,"title":"Use FIPS-compliant OpenJDK in gemnasium-maven FIPS image","description":"### Release notes\n\nStarting from GitLab 15.1, Dependency Scanning for Java (gemnasium-maven) uses the OpenJDK packages for RedHat UBI 8 when the FIPS mode is enabled. It previously used asdf-java, which is not FIPS-compliant. As a result of this change, it only supports Java 7, 11, and 17 when FIPS is enabled. Java 13, 14, 15, and 16 are no longer supported in FIPS mode.\n\n### Problem to solve\n\nFIPS-enabled Docker images of `gemnasium-maven` were introduced as part https://gitlab.com/gitlab-org/gitlab/-/issues/354994. However, these images use versions of OpenJDK installed using [asdf](https://github.com/asdf-vm/asdf), and these might not comply with FIPS. See https://gitlab.com/gitlab-org/gitlab/-/issues/357919#note_934409150\n\n### Further details\n\nRHEL UBI 8 provides packages for OpenJDK 8, 11, and 17. When installed using RHEL packages, OpenJDK \"self-configures FIPS according to the global policy\".\n\nLinks\n- https://access.redhat.com/documentation/en-us/openjdk/8/html/configuring_openjdk_8_on_rhel_with_fips/config-fips-in-openjdk\n- https://access.redhat.com/documentation/en-us/openjdk/11/html/configuring_openjdk_11_on_rhel_with_fips/config-fips-in-openjdk\n- https://access.redhat.com/documentation/en-us/openjdk/17/html/configuring_openjdk_17_on_rhel_with_fips/config-fips-in-openjdk\n\nCurrently Dependency Scanning supports the following versions of Java: 8, 11, 13, 14, 15, 16, 17.\n\nSee https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#configuring-specific-analyzers-used-by-dependency-scanning\n\n### Proposal\n\nInstall versions of OpenJDK officially supported by Dependency Scanning using the following RHEL UBI packages:\n\n```\njava-1.8.0-openjdk\njava-11-openjdk\njava-17-openjdk\n```\n\nSwitch between these packages based on `DS_JAVA_VERSION`.\n- Set environment variable `JAVA_HOME`.\n- Set `java` CLI using RedHat's `alternatives` command.\n\nThe only supported versions of Java are: 8, 11, and 7.\n\nJava 13, 14, 15, and 16 are no longer supported.\n\nIt's no longer necessary to compress `/opt/asdf` b/c it only contains the build tools (Gradle, Maven, and Sbt). `asdf-java` is removed.\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/357919#note_934409150\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Documentation\n\nThe gemnasium-maven FIPS image only supports specific versions of Java, and this limitation should be documented in https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#configuring-specific-analyzers-used-by-dependency-scanning.\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### Implementation plan\n\n- [x] Update [`config/install.sh`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/build/gemnasium-maven/config/install.sh) to install `openjdk-*` packages instead of `asdf-java`.\n- [x] Update [`config/.bashrc`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/build/gemnasium-maven/config/.bashrc) to switch to the `openjdk-*` package that matches `DS_JAVA_VERSION`.\n- [x] Show message when it can't use the requested Java version; it uses the default version instead.\n- [x] Update [`spec/gemnasium-maven_image_spec.rb`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/spec/gemnasium_image_spec.rb) and the corresponding [CI config](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/.gitlab/ci/gemnasium-maven.gitlab-ci.yml) to only test the supported version of Java when testing the FIPS image, in the `image test fips` and `image test only slow scans fips` jobs.\n- [x] Update [user documentation](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#configuring-specific-analyzers-used-by-dependency-scanning) to let users know that the FIPS image only supports specific versions of Java.\n\n/cc @sam.white @gonzoyumo","state":"closed","created_at":"2022-05-12T13:51:23.334Z","updated_at":"2022-07-27T09:58:27.816Z","closed_at":"2022-06-15T09:10:03.777Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","FIPS","GitLab Ultimate","backend","devops::secure","documentation","feature::addition","group::composition analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"}],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362245","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362245","notes":"https://gitlab.com/api/v4/projects/278964/issues/362245/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362245/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362245","relative":"#362245","full":"gitlab-org/gitlab#362245"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":108449345,"iid":362242,"project_id":278964,"title":"Archive retire.js and bundler-audit analyzers","description":"## Description\n\nretire.js and bundler-audit analyzer support was removed in %\"15.0\": https://gitlab.com/gitlab-org/gitlab/-/issues/289830 and https://gitlab.com/gitlab-org/gitlab/-/issues/347491\n\nHowever, it was decided to keep automated rebuilds (via the scheduled pipeline) in line with keeping the removal announcement for 3 months: https://docs.gitlab.com/ee/development/documentation/versions.html#remove-a-page\n\n## Implementation Plan\n\n- [x] remove removal announcements\n- [x] archive projects\n  - [x] https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit\n  - [x] https://gitlab.com/gitlab-org/security-products/analyzers/retire.js\n  - [x] ensure scheduled pipeline is disabled\n\n## Related issues\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/289830","state":"closed","created_at":"2022-05-12T13:40:33.181Z","updated_at":"2022-12-29T03:08:38.845Z","closed_at":"2022-11-18T18:37:36.447Z","closed_by":{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","backend","devops::secure","documentation","group::composition analysis","maintenance::removal","missed:15.4","priority::2","quad-planning::complete-no-action","section::sec","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":3652047,"username":"twoodham","name":"Thomas Woodham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3652047/avatar.png","web_url":"https://gitlab.com/twoodham"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362242","notes":"https://gitlab.com/api/v4/projects/278964/issues/362242/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362242/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362242","relative":"#362242","full":"gitlab-org/gitlab#362242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":108447303,"iid":362237,"project_id":278964,"title":"Fix Deployment Approval popup to support Multiple approval rules","description":"### Summary\n\nUsers can't see [the Deployment Approval popup](https://docs.gitlab.com/ee/ci/environments/deployment_approvals.html#approve-or-reject-a-deployment-using-the-ui) in the Environment index/detail page when [Multiple approval rules](https://docs.gitlab.com/ee/ci/environments/deployment_approvals.html#multiple-approval-rules) is configured.\n\n### Steps to reproduce\n\n1. Configure [Multiple approval rules](https://docs.gitlab.com/ee/ci/environments/deployment_approvals.html#multiple-approval-rules)\n2. Try [Approve or reject a deployment using the UI](https://docs.gitlab.com/ee/ci/environments/deployment_approvals.html#approve-or-reject-a-deployment-using-the-ui). You'll notice that there are no approval/reject buttons.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nCan't do [Approve or reject a deployment using the UI](https://docs.gitlab.com/ee/ci/environments/deployment_approvals.html#approve-or-reject-a-deployment-using-the-ui).\n\n### What is the expected *correct* behavior?\n\nCan do [Approve or reject a deployment using the UI](https://docs.gitlab.com/ee/ci/environments/deployment_approvals.html#approve-or-reject-a-deployment-using-the-ui).\n\nThe proper UI/UX changes for Multiple approval rules has already been issued in #355708 and #362236. These issues require UX consideration.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nSee https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87363 for the fix.","state":"closed","created_at":"2022-05-12T13:09:01.603Z","updated_at":"2022-07-21T12:03:48.792Z","closed_at":"2022-07-13T10:42:01.120Z","closed_by":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"labels":["Category:Environment Management","Deliverable","Next Up","Release::P1","SUS::Impacting","UX","backend","customer","devops::release","group::release","priority::2","section::ops","severity::2","type::bug"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362237","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362237","notes":"https://gitlab.com/api/v4/projects/278964/issues/362237/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362237/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362237","relative":"#362237","full":"gitlab-org/gitlab#362237"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108444120,"iid":362233,"project_id":278964,"title":"Delete regulated column from compliance_management_frameworks table","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal\n\nThe `compliance_management_frameworks` table contains an unused column named `regulated`. We should run [the multi-release process to remove it from the database](https://docs.gitlab.com/ee/development/database/avoiding_downtime_in_migrations.html#dropping-columns).\n\n| Step | MR | Milestone | Status |\n| ------ | ------ | ----- | ----- |\n| Ignore column | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87417 | 15.0 | :white_check_mark: |\n| Drop column/remove references | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87657 | 15.1 | :white_check_mark: |\n| Remove ignore rule | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90479 | 15.2 | ~\"workflow::in review\"  |","state":"closed","created_at":"2022-05-12T12:15:42.481Z","updated_at":"2022-06-27T07:55:57.850Z","closed_at":"2022-06-27T07:55:57.831Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Events","devops::manage","group::compliance","maintenance::refactor","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362233","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362233","notes":"https://gitlab.com/api/v4/projects/278964/issues/362233/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362233/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362233","relative":"#362233","full":"gitlab-org/gitlab#362233"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108438317,"iid":362228,"project_id":278964,"title":"Backend: Add application limits to projects and group variables","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\nProject and group variables are scoped to environments, which means that we need to execute a database query for each environment and each type of variable. And because these variables are encrypted, we need CPU time to decrypt them.\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78440#note_814018166: \n\n\u003e An example: 160 environments \\* 120 CI variables means you still have over 19,000 decryptions to process. Caching by environment only works well if you have a few of them.\n\nBut we have a limit of [500 environments](https://gitlab.com/gitlab-org/gitlab/-/blob/5e0bcd6d60d968a747adb78d38834b285bc3b496/doc/administration/instance_limits.md#L344-365) and no limit for the variables, currently the max number of variables for projects is `2018` and for groups is `997`. If the project that has the 2000 variables would use 500 environments, we'd do 1 million decryptions.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/78440 is an optimization band-aid, but we need to treat it as ~\"technical debt\" and remove as soon as possible, but to do it we need to add a reasonable limit on the number of variables that will allow us to load all the variables into memory and do the environment filtering in Ruby. This should help us cache the data more efficiently and remove the RequestCache.\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\n## Proposal\n\nAdd a 200 variables limit to the project and group variables. \n\n#### User experience specs\n\n- Update the Variables section description.\n\nProject:\n\u003e Variables store information, like passwords and secret keys, that you can use in job scripts. Each project can define a maximum of 200 variables. [Learn more](url)\n\nGroup:\n\u003e Variables store information, like passwords and secret keys, that you can use in job scripts. Each group can define a maximum of 200 variables. [Learn more](url)\n\n| Project updated variables description | Group updated variables description |\n| ------ | ------ |\n| ![image](/uploads/26791f467e4f85dd1981dd79e20c80e6/image.png) | ![image](/uploads/69ad441ac20ded20e2f1c8290f2620f7/image.png) |\n\n- When a project or a group has 200+ variables defined, we will show an info alert at the top of the variables section notifying the user about the reached limit. **The alert will be non-dismissable.**\n\n- When user deletes some variables and the total number of variables in a project or group is 199 or lower, we'll remove the notification and enable the \"Add variable\" button again.\n\n| Project variables limit notification | Group variables limit notification |\n| ------ | ------ |\n| ![image](/uploads/5cafd6c4d502b8f53222991e48f411dc/image.png) | ![image](/uploads/e9a6133e3ec8501cf44b90d1c0af9a5b/image.png) |\n\n- When a project or a group has 200+ variables defined, we will disable the \"Add variable\" button in the CI/CD Settings variables form, preventing the user from adding more variables. When hovering over the disabled \"Add variable\" button we'll show a popover explaining the limitation. The popover should also be accessible via keyboard.\n\nProject:\n\u003e **Maximum number of variables reached.**\n\u003e This project has 225 defined CI/CD variables, which is over the limit of 200 variables per project. To add new variables, you must reduce the number of defined variables.\n\nGroup:\n\u003e **Maximum number of variables reached.**\n\u003e This group has 225 defined CI/CD variables, which is over the limit of 200 variables per group. To add new variables, you must reduce the number of defined variables.\n\n| Project button popover | Group button popover |\n| ------ | ------ |\n| ![image](/uploads/888c8e68f23f4d0955c231fabd1c2b44/image.png) | ![image](/uploads/4b8d3e214794b21183319bb9f2a65409/image.png) |\n\n### Implementation plan\n\n| Name | Link |\n| ------ | ------\n|Design: Add application limits to projects and group variables| https://gitlab.com/gitlab-org/gitlab/-/issues/350643\n| Frontend: Add application limits to projects and group variables |https://gitlab.com/gitlab-org/gitlab/-/issues/362227| \n| Backend: Add application limits to projects and group variables | :point_left: you are here","state":"closed","created_at":"2022-05-12T10:28:46.735Z","updated_at":"2022-11-28T15:52:33.644Z","closed_at":"2022-09-16T15:45:54.652Z","closed_by":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"labels":["Application Limits","Category:Pipeline Authoring","auto updated","backend","candidate::15.4","devops::verify","documentation","group::pipeline authoring","missed:15.2","section::ops","type::maintenance"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362228","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362228","notes":"https://gitlab.com/api/v4/projects/278964/issues/362228/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362228/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362228","relative":"#362228","full":"gitlab-org/gitlab#362228"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8209,"epic":{"id":542230,"iid":8209,"title":"Variables work for PA kickoff","url":"/groups/gitlab-org/-/epics/8209","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":{"id":65959,"iid":79,"sequence":24,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-06-24T00:05:02.623Z","updated_at":"2022-09-19T00:05:01.940Z","start_date":"2022-09-05","due_date":"2022-09-18","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/65959"},"health_status":"at_risk"},{"id":108438252,"iid":362227,"project_id":278964,"title":"Frontend: Add application limits to projects and group variables","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\nProject and group variables are scoped to environments, which means that we need to execute a database query for each environment and each type of variable. And because these variables are encrypted, we need CPU time to decrypt them.\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78440#note_814018166: \n\n\u003e An example: 160 environments \\* 120 CI variables means you still have over 19,000 decryptions to process. Caching by environment only works well if you have a few of them.\n\nBut we have a limit of [500 environments](https://gitlab.com/gitlab-org/gitlab/-/blob/5e0bcd6d60d968a747adb78d38834b285bc3b496/doc/administration/instance_limits.md#L344-365) and no limit for the variables, currently the max number of variables for projects is `2018` and for groups is `997`. If the project that has the 2000 variables would use 500 environments, we'd do 1 million decryptions.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/78440 is an optimization band-aid, but we need to treat it as ~\"technical debt\" and remove as soon as possible, but to do it we need to add a reasonable limit on the number of variables that will allow us to load all the variables into memory and do the environment filtering in Ruby. This should help us cache the data more efficiently and remove the RequestCache.\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\n## Proposal\n\nAdd a 200 variables limit to the project and group variables. \n\n#### User experience specs\n\n#### User experience specs\n\n- Update the Variables section description.\n\nProject:\n\u003e Variables store information, like passwords and secret keys, that you can use in job scripts. Each project can define a maximum of 200 variables. [Learn more](url)\n\nGroup:\n\u003e Variables store information, like passwords and secret keys, that you can use in job scripts. Each group can define a maximum of 200 variables. [Learn more](url)\n\n| Project updated variables description | Group updated variables description |\n| ------ | ------ |\n| ![image](/uploads/26791f467e4f85dd1981dd79e20c80e6/image.png) | ![image](/uploads/69ad441ac20ded20e2f1c8290f2620f7/image.png) |\n\n- When a project or a group has 200+ variables defined, we will show an info alert at the top of the variables section notifying the user about the reached limit. **The alert will be non-dismissable.**\n\n- When user deletes some variables and the total number of variables in a project or group is 199 or lower, we'll remove the notification and enable the \"Add variable\" button again.\n\n| Project variables limit notification | Group variables limit notification |\n| ------ | ------ |\n| ![image](/uploads/5cafd6c4d502b8f53222991e48f411dc/image.png) | ![image](/uploads/e9a6133e3ec8501cf44b90d1c0af9a5b/image.png) |\n\n- When a project or a group has 200+ variables defined, we will disable the \"Add variable\" button in the CI/CD Settings variables form, preventing the user from adding more variables. When hovering over the disabled \"Add variable\" button we'll show a popover explaining the limitation. The popover should also be accessible via keyboard.\n\nProject:\n\u003e **Maximum number of variables reached.**\n\u003e This project has 225 defined CI/CD variables, which is over the limit of 200 variables per project. To add new variables, you must reduce the number of defined variables.\n\nGroup:\n\u003e **Maximum number of variables reached.**\n\u003e This group has 225 defined CI/CD variables, which is over the limit of 200 variables per group. To add new variables, you must reduce the number of defined variables.\n\n| Project button popover | Group button popover |\n| ------ | ------ |\n| ![image](/uploads/888c8e68f23f4d0955c231fabd1c2b44/image.png) | ![image](/uploads/4b8d3e214794b21183319bb9f2a65409/image.png) |\n\n### Implementation plan\n\n| Name | Link | \n| ------ | ------ \n|Design: Add application limits to projects and group variables| https://gitlab.com/gitlab-org/gitlab/-/issues/350643\n| Frontend: Add application limits to projects and group variables | :point_left: you are here\n| Backend: Add application limits to projects and group variables |https://gitlab.com/gitlab-org/gitlab/-/issues/362228","state":"closed","created_at":"2022-05-12T10:27:14.739Z","updated_at":"2023-01-15T18:33:07.590Z","closed_at":"2022-12-01T01:55:01.856Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Application Limits","Category:Pipeline Authoring","UX","auto updated","candidate::15.6","devops::verify","frontend","group::pipeline authoring","missed:15.6","section::ops","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":2,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362227","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362227","notes":"https://gitlab.com/api/v4/projects/278964/issues/362227/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362227/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362227","relative":"#362227","full":"gitlab-org/gitlab#362227"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108425497,"iid":362224,"project_id":278964,"title":"Show upstream group-level protected environments in the project-level CI/CD setting page","description":"### Release notes\nPreviously, there was no way to see if there are upstream group-level protected environment settings when viewing a project's configuration settings. In 15.3, you can now see these setting in the project's protected environment configuration settings.\n\n### Problem\n\nFor the project maintainers, they have no idea whether their projects are affected by [group-level protected environments](https://docs.gitlab.com/ee/ci/environments/protected_environments.html#group-level-protected-environments). We should give them visibility that what protected environment rules are coming down from the upstream group/organization.\n\n### Proposal\n\n~\"GitLab Premium\" \n\nSee mockup.\n\n## Implementation plan\n\n~backend \n\n- [ ] Return environments protected by upstream groups (for project-level view)\n\n~frontend\n\n- [ ] Add display for environments protected by upstream groups","state":"closed","created_at":"2022-05-12T09:36:23.943Z","updated_at":"2022-08-21T12:03:52.191Z","closed_at":"2022-08-12T18:45:13.541Z","closed_by":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"labels":["Category:Environment Management","Deliverable","GitLab Premium","Next Up","Release::P1","UX","backend","backend-weight::2","devops::release","feature::enhancement","frontend","frontend-weight::2","group::release","release post item::in review","section::ops","type::feature"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362224","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362224","notes":"https://gitlab.com/api/v4/projects/278964/issues/362224/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362224/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362224","relative":"#362224","full":"gitlab-org/gitlab#362224"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108423307,"iid":362217,"project_id":278964,"title":"Branch rules MVC: List branch rules under Repository Settings","description":"### Description\n\nAs part of the [MVC](https://gitlab.com/gitlab-org/gitlab/-/issues/351468) for organizing rules based on branches, we need to list all branch rules under the Repository settings \u003e Branch rules section.\n\n### Scope\n\nThe scope of this issue includes:\n\n* Retrieve branch rules (blocked by ???)\n* Render branch rules\n\n\n### Implementation plan\n\n| issue | note |\n| ------ | ------ |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362205+ |  |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362212+ |  |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362214+ |  |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362219+ |  |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362217+ | :point_left: **this issue** (:warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362219) |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362218+ | :warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362219 |\n\n### Mockups\n\n![image](/uploads/733b58c9e80c217b53b8c624d978327b/image.png)\n\n### Questions\n\n- [ ] **question:** Should we display details of the branch? https://gitlab.com/gitlab-org/gitlab/-/issues/362217#note_1085486138","state":"closed","created_at":"2022-05-12T09:00:36.477Z","updated_at":"2023-01-04T07:11:44.651Z","closed_at":"2022-09-15T08:11:10.453Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","automation:ml","devops::create","frontend","group::source code","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362217","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362217","notes":"https://gitlab.com/api/v4/projects/278964/issues/362217/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362217/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362217","relative":"#362217","full":"gitlab-org/gitlab#362217"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8578,"epic":{"id":583395,"iid":8578,"title":"MVC: Branch Rules Overview","url":"/groups/gitlab-org/-/epics/8578","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":108422384,"iid":362213,"project_id":278964,"title":"Hiearchy widget - extend work item update mutation with accepting parent/child widget","description":"* the scope of work might be similar to create mutation (https://gitlab.com/gitlab-org/gitlab/-/issues/362206)\n* ~~TODO~~ clarify need or custom ordering (https://gitlab.com/gitlab-org/gitlab/-/issues/358195#note_932035936) - maybe we may need a separate mutation for reordering?. For MVC relative position ordering (and so also mutation) may not be required.\n  * Parent/child widget **should** support manual reordering (https://gitlab.com/gitlab-org/gitlab/-/issues/358195#note_932452009)\n  * Reordering is **not** needed for MVC (https://gitlab.com/gitlab-org/gitlab/-/issues/358195#note_943049254)\n* hierarchy widget should be developed behind a feature flag\n* TODO: consider if parent link removal could/should be handled as part of UPDATE (just update with parent_id: nil) or if a separate mutation is needed)\n\nDraft: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85700/diffs\n\nSPIKE discussion: https://gitlab.com/gitlab-org/gitlab/-/issues/358195#note_932136343\n\nUPDATE: there is an ongoing discussion (slack link - https://gitlab.slack.com/archives/C02403NRD40/p1653590052892849 - TODO: replace with an issue link when an issue is created for the proposal), whether we should rather use separate small mutation for each widget - if we would go this path, it would impact also implementation of this task\n\nThere is also an upcoming MR for updating description widget - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88955\n\n### Queries\n\n\u003cdetails\u003e\u003csummary\u003eUpdate work item's parent\u003c/summary\u003e\n\n```graphql\nmutation updateParent {\n  workItemUpdate(input: { id: \"gid://gitlab/WorkItem/{TASK_ID}\", hierarchyWidget: { parentId: \"gid://gitlab/Issue/{ISSUE_ID}\"}}) {\n    workItem {\n      id\n      description\n      widgets {\n        ... on WorkItemWidgetHierarchy {\n          parent {\n            id\n          }\n        }\n      }\n    }\n  }\n}\n\n```\n\n\u003c/details\u003e\n\n\n\u003cdetails\u003e\u003csummary\u003eUpdate work item's children\u003c/summary\u003e\n\n```graphql\nmutation updateChildren {\n  workItemUpdate(input: { id: \"gid://gitlab/Issue/{ISSUE_ID}\", hierarchyWidget: { childrenIds: [\"gid://gitlab/WorkItem/{TASK_ID}\", \"gid://gitlab/WorkItem/{OTHER_TASK_ID}\"]}}) {\n    workItem {\n      id\n      description\n      widgets  {\n        ... on WorkItemWidgetHierarchy {\n          children {\n            edges {\n              node {\n                id\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n\u003c/details\u003e\n\n### Feature flag\n\n`work_items_hierarchy` (FF issue: https://gitlab.com/gitlab-org/gitlab/-/issues/363447)\n\n---\n\n### Tasks\n\n- [x] Move widgets update logic from the model layer to the service layer [https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90817]\n- [x] Add `hierarchyWidget` argument to  to `WorkItemUpdate` mutation [https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90908]\n- [x] Add the ability to remove a child work item from its parent [https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91494]\n- [x] Add system notes for work item's hierarchy changes [https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91495]","state":"closed","created_at":"2022-05-12T08:48:56.002Z","updated_at":"2022-07-21T12:00:53.311Z","closed_at":"2022-07-21T11:35:32.387Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["Deliverable","Next Up","backend","devops::plan","group::product planning","missed-deliverable","missed:15.1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362213","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362213","notes":"https://gitlab.com/api/v4/projects/278964/issues/362213/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362213/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362213","relative":"#362213","full":"gitlab-org/gitlab#362213"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8279,"epic":{"id":549867,"iid":8279,"title":"MVC 1 - Foundations for Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8279","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108421977,"iid":362208,"project_id":278964,"title":"Hierarchy widget - extend work item create mutation with accepting parent/child widget","description":"* this needs to be part of work item create mutation because we need to create parent/child relationship as part of work item creation action\n* add a new graphql input type for passing parent ID reference (e.g. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85700/diffs#921faa2ed28ca3b0c8ebdfeef0b856fb2d8e925e_0_10)\n* add service-level layer for parent/child widget and hook it to work item create service (e.g. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85700/diffs#b9d52a4d47f65fd3021570fb3548d5fcbaddbc89_0_4)\n* ideally put widgets input under `widgets:` - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85700#note_957267576 (this is a change compared to the original draft)\n\nDraft: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85700/diffs\n\nSPIKE discussion: https://gitlab.com/gitlab-org/gitlab/-/issues/358195#note_932136343","state":"closed","created_at":"2022-05-12T08:41:35.328Z","updated_at":"2022-07-21T12:00:53.436Z","closed_at":"2022-07-14T12:40:25.907Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Deliverable","Next Up","backend","devops::plan","group::product planning","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362208","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362208","notes":"https://gitlab.com/api/v4/projects/278964/issues/362208/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362208/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362208","relative":"#362208","full":"gitlab-org/gitlab#362208"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8279,"epic":{"id":549867,"iid":8279,"title":"MVC 1 - Foundations for Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8279","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108421909,"iid":362206,"project_id":278964,"title":"Hierarchy widget - add parent/child widget when showing a work item","description":"* add a new grapqhl type for exposing parent/child data (e.g. https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85700/diffs#4ab5e8934807b8a59cb4426959ebaaf57a33a3b7_0_6)\n* expose permissioned list child items through this widget and also parent item, ordered by relative position (relative positioning is not included in POC). Ordering by relative_position doesn't have to be part of MVC (https://gitlab.com/gitlab-org/gitlab/-/issues/358195#note_932035936)\n* hierarchy widget should be developed behind a feature flag\n\nDraft: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85700/diffs\n\nSPIKE discussion: https://gitlab.com/gitlab-org/gitlab/-/issues/358195#note_932136343","state":"closed","created_at":"2022-05-12T08:39:57.868Z","updated_at":"2022-07-15T17:21:16.276Z","closed_at":"2022-06-10T12:29:04.932Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Deliverable","Next Up","backend","devops::plan","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362206","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362206","notes":"https://gitlab.com/api/v4/projects/278964/issues/362206/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362206/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362206","relative":"#362206","full":"gitlab-org/gitlab#362206"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8279,"epic":{"id":549867,"iid":8279,"title":"MVC 1 - Foundations for Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8279","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108421735,"iid":362205,"project_id":278964,"title":"Branch rules MVC: Implement frontend skeleton","description":"### Description\n\nAs part of the [MVC](https://gitlab.com/gitlab-org/gitlab/-/issues/351468) for organizing rules based on branches, we need to implement the skeleton/foundation on the frontend that we'll use to build the rest of the feature. \n\n### Scope\n\nThe scope of this issue includes:\n\n* Add `Branch rules section in repository settings` behind a feature flag (empty)\n* Set up a new `Branch rules page` (empty)\n* Add `Branch rules endpoint` to Project routes (ensures we can visit the new branch rules page)\n\n### Implementation plan\n\n| issue | note |\n| ------ | ------ |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362205+ | :point_left: **this issue** |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362212+ |  |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362214+ |  |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362705+ |  | \n| https://gitlab.com/gitlab-org/gitlab/-/issues/362706+ |  :warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362705 |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362707+ | :warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362705  | \n| https://gitlab.com/gitlab-org/gitlab/-/issues/362219+ | :warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362705 | \n| https://gitlab.com/gitlab-org/gitlab/-/issues/362217+ | :warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362219 |\n| https://gitlab.com/gitlab-org/gitlab/-/issues/362218+ | :warning: blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/362219 |\n\n### Mockups\n\nMockups can be found in the [MVC issue](https://gitlab.com/gitlab-org/gitlab/-/issues/351468)","state":"closed","created_at":"2022-05-12T08:37:07.205Z","updated_at":"2023-01-04T07:12:34.941Z","closed_at":"2022-06-02T07:30:35.133Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362205","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362205","notes":"https://gitlab.com/api/v4/projects/278964/issues/362205/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362205/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362205","relative":"#362205","full":"gitlab-org/gitlab#362205"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8075,"epic":{"id":524022,"iid":8075,"title":"MVC: view and edit source code rules organized by branches (fka: Source code rules - MVC)","url":"/groups/gitlab-org/-/epics/8075","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108421709,"iid":362203,"project_id":278964,"title":"Hierarchy widget - Add restrictions for parent type model","description":"* should validate that assigned parent is allowed, https://gitlab.com/groups/gitlab-org/-/epics/7448#note_952801954: parent should be of type Issue and child should be of type Task\n* maximum number of children per parent is 100 (https://gitlab.com/groups/gitlab-org/-/epics/7448#note_961232633)\n* Issue\u003c-\u003eTask relationship should be available in ~\"GitLab Free\" (https://gitlab.com/groups/gitlab-org/-/epics/7448#note_961490289)\n* should be kept in mind that in future custom definitions should be supported (https://gitlab.com/groups/gitlab-org/-/epics/7876)\n\nDraft: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85700/diffs\n\nSPIKE discussion: https://gitlab.com/gitlab-org/gitlab/-/issues/358195#note_932136343","state":"closed","created_at":"2022-05-12T08:36:42.853Z","updated_at":"2022-07-08T11:10:22.811Z","closed_at":"2022-07-08T11:10:22.777Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["Deliverable","Next Up","backend","devops::plan","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362203","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362203","notes":"https://gitlab.com/api/v4/projects/278964/issues/362203/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362203/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362203","relative":"#362203","full":"gitlab-org/gitlab#362203"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8279,"epic":{"id":549867,"iid":8279,"title":"MVC 1 - Foundations for Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8279","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108415465,"iid":362195,"project_id":278964,"title":"Store Service ping duration information in database","description":"## Summary\n\nWith https://gitlab.com/gitlab-org/gitlab/-/issues/295289 we collect information for how long service ping metrics generation takes.\n\nThe information is stored in VersionApp logs\n\n# Why\n\nWe could save this information in the database and visualize it later in Sisense\n\n- Improve the Service Ping health dashboard\n- Get more understanding of Service Ping limitations for self-managed instances\n\n## Testing\n\n- Ensure related test is passing","state":"closed","created_at":"2022-05-12T07:15:38.108Z","updated_at":"2022-09-30T00:55:51.440Z","closed_at":"2022-07-29T03:31:42.910Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["PI System Reliability and Monitoring","backend","devops::analytics","feature::enhancement","group::product intelligence","quad-planning::complete-action","section::analytics","type::feature","workflow::in dev"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362195","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362195","notes":"https://gitlab.com/api/v4/projects/278964/issues/362195/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362195/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362195","relative":"#362195","full":"gitlab-org/gitlab#362195"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7030,"epic":{"id":378920,"iid":7030,"title":"Product Intelligence – Improve Monitoring and Reliability","url":"/groups/gitlab-org/-/epics/7030","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108413837,"iid":362188,"project_id":278964,"title":"Follow-up from \"Remove support for Cluster Image Scanning Analyzer\"","description":"The following discussion from !87000 should be addressed:\n\n- [ ] @mparuszewski started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87000#note_943659981): \n\n    \u003e **suggestion (non-blocking):** I believe we can do it in follow up issue, but we can now easily remove `for_cluster?` and `applicabe_clusters` methods from `Security::OrchestrationPolicyRuleSchedule`. We can also remove `clusters` from https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/validators/json_schemas/security_orchestration_policy.json#L56, WDYT @bwill? :thinking:","state":"closed","created_at":"2022-05-12T06:44:14.684Z","updated_at":"2022-12-29T03:08:39.518Z","closed_at":"2022-05-17T10:56:44.557Z","closed_by":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"labels":["backend","devops::govern","follow-up","group::security policies","maintenance::removal","section::sec","type::maintenance","workflow::refinement"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"}],"author":{"id":4092171,"username":"alexpooley","name":"Alex Pooley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4092171/avatar.png","web_url":"https://gitlab.com/alexpooley"},"type":"ISSUE","assignee":{"id":8953999,"username":"bwill","name":"Brian Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8953999/avatar.png","web_url":"https://gitlab.com/bwill"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362188","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362188","notes":"https://gitlab.com/api/v4/projects/278964/issues/362188/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362188/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362188","relative":"#362188","full":"gitlab-org/gitlab#362188"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108400141,"iid":362169,"project_id":278964,"title":"Break up remediation ingestion","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nPer discussion in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49762#note_935454969:\n\nIn order to ingest remediations while doing a background migration, we need to be able to split up the remediation ingestion process. By using an upsert, we can get part of the remediation in the DB quickly, so we don't have a conflict with the database migration. This has the added benefit of simplifying the ingestion service.\n\nWe will use sequential flow to create remediations for findings\n\n* Create remediations records with UPSERT queries\n* Create file attachments for the created records\n* Associate the remediations with findings\n\n## Relevant links\n\n- [Original discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49762#note_935454969)\n\n## Non-functional requirements\n\n- [ ] Performance: Confirm no performance hits\n- [ ] Testing: Confirm all tests still work, add if needed.\n\n\n## Implementation plan\n\n- [ ] ~backend Use sequential flow to create remediations for findings\n\n* Create remediations records with UPSERT queries\n* Create file attachments for the created records\n* Associate the remediations with findings\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n## Verification steps\n\u003c!--\nAdd verification steps to help GitLab team members test the implementation. This is particularly useful\nduring the MR review and the ~\"workflow::verification\" step. You may not know exactly what the\nverification steps should be during issue refinement, so you can always come back later to add\nthem.\n\n1. Check-out the corresponding branch\n1. ...\n1. Profit!\n--\u003e","state":"closed","created_at":"2022-05-11T21:05:41.885Z","updated_at":"2022-11-01T22:43:31.709Z","closed_at":"2022-11-01T21:21:36.775Z","closed_by":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"labels":["backend","devops::govern","feature::enhancement","group::threat insights","maintenance::refactor","quad-planning::complete-no-action","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"}],"author":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"type":"ISSUE","assignee":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362169","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362169","notes":"https://gitlab.com/api/v4/projects/278964/issues/362169/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362169/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362169","relative":"#362169","full":"gitlab-org/gitlab#362169"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4239,"epic":{"id":97511,"iid":4239,"title":"Vulnerability Management DDL to replace raw JSON in the DB","url":"/groups/gitlab-org/-/epics/4239","group_id":9970},"iteration":null,"health_status":null},{"id":108395451,"iid":362163,"project_id":278964,"title":"wiki anchors don't work","description":"### Summary\n\nWiki anchor links do not work.\n\n### Steps to reproduce\n\n 1. Create a page long enough to need to scroll to get to a title, with multiple headings and a `[[_TOC_]]` entry\n 2. click on some TOC entry that makes the page scroll (that works)\n 3. copy the URL in the URL bar\n 4. open a new tab\n 5. paste the URL\n 6. notice how the page doesn't scroll down to the anchor\n\n### Example Project\n\nThis link should drop down to the \"[Colonial Internet](#colonial-internet)\" anchor, but doesn't: https://gitlab.com/anarcat/test/-/wikis/long-page-no-anchors#colonial-internet\n\n### What is the current *bug* behavior?\n\nThe viewport doesn't scroll down in my web browser. Reproducible in:\n\n * Firefox 91.9.0esr (64-bit) with an empty profile, on Debian 11 bullseye\n * Chromium 101.0.4951.41 (Official Build) built on Debian 11.3, running on Debian 11.3 (64-bit)\n\n### What is the expected *correct* behavior?\n\nThe viewport should scroll.\n\n### Relevant logs and/or screenshots\n\nThis is pretty unremarkable for a screenshot, but you asked for one. :)\n\n![screenshot of Firefox rendering the wiki page without scrolling to the right place](/uploads/52d63ce8377e8edd182cf77a53b31b82/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\nI'm not sure, but it *looks* like this happens because the wiki page content is dynamically loaded *after* the actual page load, and then the browser can't find the anchor at load time. There would probably need to be some javascript that scrolls the viewport after the wiki page actually load.\n\n### Future iterations\n\nAlternatively, how about getting rid of some javascript here and just render the page correctly without javascript? Right now if I turn off javascript (with uBlock), the page just renders a blank, which is pretty bad behavior. text-based browsers like w3m also fail to render the page, and i suspect crawlers might have trouble too. Follow up issue to address this is https://gitlab.com/gitlab-org/gitlab/-/issues/363122.","state":"closed","created_at":"2022-05-11T19:21:47.522Z","updated_at":"2022-08-13T14:03:47.340Z","closed_at":"2022-07-26T07:27:34.526Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Category:Wiki","Seeking community contributions","[deprecated] Accepting merge requests","devops::create","frontend","group::editor","missed:15.2","priority::3","section::dev","severity::4","type::bug","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[],"author":{"id":71118,"username":"anarcat","name":"Antoine Beaupré","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/71118/folipon.jpg","web_url":"https://gitlab.com/anarcat"},"type":"ISSUE","assignee":null,"user_notes_count":14,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362163","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362163","notes":"https://gitlab.com/api/v4/projects/278964/issues/362163/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362163/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362163","relative":"#362163","full":"gitlab-org/gitlab#362163"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108391435,"iid":362157,"project_id":278964,"title":"Add Elasticsearch data migration rule to pause indexing in case of incompatible Elasticsearch version","description":"Starting from GitLab %\"15.0\" release, Elasticsearch version 6.x and prior versions won't be compatible with GitLab. Customers who are running Elasticsearch 6.x need to upgrade their Elasticsearch instances to version 7.x and only 7.x in GitLab %\"14.10\" before upgrading to GitLab %\"15.0\". However, we may want to consider adding more guide-rails in our code to perhaps pause the indexing if we detect an incompatible Elasticsearch version is being used. At this point, an Elasticsearch data migration rule may do the job.","state":"closed","created_at":"2022-05-11T17:37:05.003Z","updated_at":"2022-05-30T15:51:46.006Z","closed_at":"2022-05-17T16:47:13.309Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","auto updated","devops::data_stores","group::global search","maintenance::dependency","needs weight","section::enablement","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"}],"author":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"type":"ISSUE","assignee":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362157","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362157","notes":"https://gitlab.com/api/v4/projects/278964/issues/362157/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362157/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362157","relative":"#362157","full":"gitlab-org/gitlab#362157"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108383909,"iid":362148,"project_id":278964,"title":"Private projects wikis do not link to issues or merge requests","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\nLinks to issues and merge requests in a wiki no longer automatically link to the page for a private project.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n1. Create a private project. \n2. Create an issue.  \n3. Create a wiki page and reference the issue with `#1`.  \n    - This will link to the issue when previewing the markdown but not when viewing the wiki.\n4. Change the project to public\n5. The wiki page will now have a link to the issue instead of plain text.\n\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nCant share because the project needs to be private to see the bug","state":"closed","created_at":"2022-05-11T16:28:25.804Z","updated_at":"2022-06-21T12:02:13.858Z","closed_at":"2022-05-30T11:24:51.400Z","closed_by":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"labels":["Category:Wiki","Deliverable","backend","bug::availability","devops::create","group::editor","priority::3","section::dev","severity::4","type::bug"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"}],"author":{"id":2987572,"username":"tjander22work","name":"Tyler Anderson","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2746f590fa7073705a32ecd659767055?s=80\u0026d=identicon","web_url":"https://gitlab.com/tjander22work"},"type":"ISSUE","assignee":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"user_notes_count":4,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362148","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362148","notes":"https://gitlab.com/api/v4/projects/278964/issues/362148/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362148/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362148","relative":"#362148","full":"gitlab-org/gitlab#362148"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108380931,"iid":362125,"project_id":278964,"title":"Add parent-child work item table","description":"- Add a parent-child work item table with model and associations\n\n- We need a new table which keeps parent reference for a work item, in future, it can be easily extended with work item's namespace (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85700/diffs#2b082fc1831991d48d393026c0c6a4283cb3d159_22195_22195)\n\n- Table should probably also include relative_position (TBC)","state":"closed","created_at":"2022-05-11T15:31:48.536Z","updated_at":"2022-08-19T04:50:19.143Z","closed_at":"2022-05-25T10:06:37.510Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["backend","database","devops::plan","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"}],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362125","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362125","notes":"https://gitlab.com/api/v4/projects/278964/issues/362125/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362125/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362125","relative":"#362125","full":"gitlab-org/gitlab#362125"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8279,"epic":{"id":549867,"iid":8279,"title":"MVC 1 - Foundations for Hierarchy Widget","url":"/groups/gitlab-org/-/epics/8279","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108378811,"iid":362117,"project_id":278964,"title":"Enqueuer loop mode","description":"## :fire: Problem\n\nFrom our observations on production, the Enqueuer jobs seem to have high chances to hit the exclusive lease key guard and as such end up in doing nothing.\n\nBecause it's a global redis key, only _one_ Enqueuer job execution can be in the steps that pickup a repo and start the migration.\n\nIt seems that due to the high concurrency we see, several jobs snowball together but only one of them is executed = only one repo is picked up.\n\nThat could explain why we don't see the amount of inflight pre imports hitting max capacity.\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/361445, we tried to scope the redis key to the repo that has been picked up. Due to the high concurrency, this [failed](https://gitlab.com/gitlab-org/gitlab/-/issues/361445#note_939839903) miserably.\n\n## :fire_engine: Alternative solution\n\nWith this issue, we want to tackle things differently: let each execution pickup and start migrations as many as \u003cmax_capacity\u003e.\n\nIt's basically taking `x` executions that we have today and compact them in a single one. In that regard, the Enqueuer job will simply loop on available repositories until reaching either:\n\n* \u003cmax_capacity\u003e.\n* related ~\"feature flag\" disabled because yes, this change is going to be gated behind a ~\"feature flag\".\n* timeout reached.\n   * this is an additional safety net to ensure that we don't end up in a _ad vitam aeternam_ loop.\n\nOne nice thing with this is that we can keep the global exclusive lease key. We know that it works well with the level of concurrency we're facing.\n\n### :thinking: Downsides\n\nThe main downside is that a ruby loop that start many migrations could be a small burst in requests done to the container registry.\n\nGiven that the registry node can reject the migration start request and rails will simply re-execute the request to hit a different node, we could be triggering 2 * `\u003cmax capacity\u003e` requests in a very short amount of time. At the time of this writing, `\u003cmax capacity\u003e` is `25`, so we could fire `50` requests. Given the number of registry nodes available, I think this is still a reasonable number.\n\n### :crystal_ball: Follow ups\n\nWe could optimize the loop by not looping on the existing execution path _but_ simply:\n1. Get as many aborted migrations as possible (max current capacity).\n1. If there are still any free slots, get as many next migrations as possible.\n1. Loop on this set of repositories.\n\nThat's basically building the target repositories only once instead of fetching them one by one on each iteration.","state":"closed","created_at":"2022-05-11T14:56:06.010Z","updated_at":"2022-05-17T15:53:44.247Z","closed_at":"2022-05-17T12:21:37.005Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Container Registry Migration","Container Registry Migration Unplanned","Container Registry Migration::Phase 2","backend","devops::package","group::package registry","package:active","ruby","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362117","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362117","notes":"https://gitlab.com/api/v4/projects/278964/issues/362117/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362117/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362117","relative":"#362117","full":"gitlab-org/gitlab#362117"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7316,"epic":{"id":408066,"iid":7316,"title":"Drive the Container Registry migration Phase 2 from Rails","url":"/groups/gitlab-org/-/epics/7316","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108377965,"iid":362114,"project_id":278964,"title":"Backend: Opt-out of the cache segregation by protected ref status default behavior","description":"## Problem\n\nWith the recent [change](https://gitlab.com/gitlab-org/security/gitlab/-/merge_requests/1551) to use a suffix on the cache key determined by the protected status, some customer's workflows are broken because their workflow relies on a shared cache for both protected and non-protected branches. \n\n### Related issue(s):\n\n-  https://gitlab.com/gitlab-org/gitlab/-/issues/360910\n\n\n## Proposal\n\n- Allow users to configure an opt-out of the cache segregation by protected ref status in the .gitlab-ci.yml file.\n\nusing the suggested syntax which adds `unprotect:` key\n\n```yaml\njob1:\n  script:\n    - echo\n  cache:\n    key: \"$CI_COMMIT_REF_SLUG\"\n    paths:\n      - binaries/\n    unprotect: true # Uses the `non_protected` suffix in all cases\n```\n\n## Implementation Details\n\n{placeholder for details}\n\n- https://gitlab.com/gitlab-org/security/gitlab/-/merge_requests/1551#note_936736450\n\n- https://gitlab.com/gitlab-org/security/gitlab/-/merge_requests/1551#note_938122991","state":"closed","created_at":"2022-05-11T14:42:18.746Z","updated_at":"2022-12-23T18:12:21.885Z","closed_at":"2022-12-20T15:32:47.254Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Category:Pipeline Authoring","DEPRECATE_pipeline authoring","GitLab Free","Technical Writing","auto updated","backend","backend-weight::3","candidate::15.8","devops::verify","documentation","group::pipeline authoring","missed:15.7","section::ops","type::feature","workflow::production"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":4228834,"username":"DarrenEastman","name":"Darren Eastman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4228834/avatar.png","web_url":"https://gitlab.com/DarrenEastman"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":19,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362114","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362114","notes":"https://gitlab.com/api/v4/projects/278964/issues/362114/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362114/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362114","relative":"#362114","full":"gitlab-org/gitlab#362114"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108375919,"iid":362110,"project_id":278964,"title":"DAST runner validation - Investigate and configure bundle on CI to disallow any changes to Gemfile.lock","description":"This is a ~\"corrective action\" of sirt-2266.\n\nDetermine whether this project (https://gitlab.com/gitlab-org/security-products/dast-runner-validation) uses `bundle` or `bundle install` in CI. Per the Rubygems.org advisory, we should use either the `frozen` or `deployment` options as defense-in-depth to mitigate supply chain attacks. This project needs to use the `frozen` or `deployment` options if not yet.\n\n## More background\n\nSee https://github.com/rubygems/rubygems.org/security/advisories/GHSA-hccv-rwq6-vh79:\n\n\u003e Using Bundler in --frozen or --deployment mode in CI and during deploys, as the Bundler team has always recommended, will guarantee that your application does not silently switch to versions created using this exploit.\n\nNote that the `deployment` option installs gems to `vendor`, which we may not want. So `frozen` will usually be the smaller change.\n\nNote that:\n\n\u003e \\[DEPRECATED\\] The `--frozen` flag is deprecated because it relies on being remembered across bundler invocations, which bundler will no longer do in future versions. Instead please use `bundle config set --local frozen 'true'`, and stop using this flag\n\nNote: Please feel free to move this issue under https://gitlab.com/gitlab-org/security-products/dast-runner-validation.","state":"closed","created_at":"2022-05-11T14:13:41.360Z","updated_at":"2022-05-30T14:28:01.567Z","closed_at":"2022-05-24T05:43:45.511Z","closed_by":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"labels":["corrective action","devops::secure","feature::enhancement","group::dynamic analysis","section::sec","security","severity::2","type::feature"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"}],"author":{"id":3753003,"username":"cdu1","name":"Chun Du","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3753003/avatar.png","web_url":"https://gitlab.com/cdu1"},"type":"ISSUE","assignee":{"id":8995688,"username":"atiwari71","name":"Aditya Tiwari","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8995688/avatar.png","web_url":"https://gitlab.com/atiwari71"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362110","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362110","notes":"https://gitlab.com/api/v4/projects/278964/issues/362110/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362110/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362110","relative":"#362110","full":"gitlab-org/gitlab#362110"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8028,"epic":{"id":518339,"iid":8028,"title":"Use `deployment` or `frozen` options with `bundle install` in CI on all Ruby projects and Chef cookbooks that use Ruby gems","url":"/groups/gitlab-org/-/epics/8028","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108375658,"iid":362109,"project_id":278964,"title":"License Finder - Investigate and configure bundle on CI to disallow any changes to Gemfile.lock","description":"This is a ~\"corrective action\" of sirt-2266.\n\nDetermine whether this project (https://gitlab.com/gitlab-org/security-products/analyzers/license-finder) uses `bundle` or `bundle install` in CI. Per the Rubygems.org advisory, we should use either the `frozen` or `deployment` options as defense-in-depth to mitigate supply chain attacks. This project needs to use the `frozen` or `deployment` options if not yet.\n\n## More background\n\nSee https://github.com/rubygems/rubygems.org/security/advisories/GHSA-hccv-rwq6-vh79:\n\n\u003e Using Bundler in --frozen or --deployment mode in CI and during deploys, as the Bundler team has always recommended, will guarantee that your application does not silently switch to versions created using this exploit.\n\nNote that the `deployment` option installs gems to `vendor`, which we may not want. So `frozen` will usually be the smaller change.\n\nNote that:\n\n\u003e \\[DEPRECATED\\] The `--frozen` flag is deprecated because it relies on being remembered across bundler invocations, which bundler will no longer do in future versions. Instead please use `bundle config set --local frozen 'true'`, and stop using this flag\n\nNote: Please feel free to move this issue under https://gitlab.com/gitlab-org/security-products/analyzers/license-finder.","state":"closed","created_at":"2022-05-11T14:09:52.966Z","updated_at":"2022-06-13T19:09:59.132Z","closed_at":"2022-06-13T19:09:59.113Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Stretch","backend","corrective action","devops::secure","feature::enhancement","priority::2","section::sec","security","severity::2","type::feature","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":3753003,"username":"cdu1","name":"Chun Du","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3753003/avatar.png","web_url":"https://gitlab.com/cdu1"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362109","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362109","notes":"https://gitlab.com/api/v4/projects/278964/issues/362109/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362109/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362109","relative":"#362109","full":"gitlab-org/gitlab#362109"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8028,"epic":{"id":518339,"iid":8028,"title":"Use `deployment` or `frozen` options with `bundle install` in CI on all Ruby projects and Chef cookbooks that use Ruby gems","url":"/groups/gitlab-org/-/epics/8028","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108371332,"iid":362101,"project_id":278964,"title":"Audit Event proposal: Enable Admin Mode","description":"\u003c!-- Audit Event documentation: See https://docs.gitlab.com/ee/administration/audit_events.html --\u003e\n\n## Audit need\n\nWe provide the [Admin mode](https://docs.gitlab.com/ee/user/admin_area/settings/sign_in_restrictions.html#admin-mode) so that instance admins can use their accounts as regular users, unless they require access to the admin panel.\n\nGiven that, \"Enable admin mode\" is an action which elevates permissions. It opens access to private resources or potentially dangerous settings, and therefore should be auditable.\n\n## Proposal\n\nEmit an instance-level audit event whenever a user enables admin mode. Currently, the [code](https://gitlab.com/gitlab-org/gitlab/-/blob/13b7598ac95fa214235a8c20339b8c59308693df/lib/gitlab/auth/current_user_mode.rb#L76) only writes a debug-level log entry.","state":"closed","created_at":"2022-05-11T13:02:33.699Z","updated_at":"2023-01-04T22:43:13.708Z","closed_at":"2022-11-23T19:17:47.605Z","closed_by":{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"},"labels":["Category:Audit Events","devops::manage","group::authentication and authorization","quad-planning::complete-no-action","release post item::in review","section::dev","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"}],"author":{"id":10554979,"username":"jkunzmann","name":"Jan Kunzmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10554979/avatar.png","web_url":"https://gitlab.com/jkunzmann"},"type":"ISSUE","assignee":{"id":9717295,"username":"bdenkovych","name":"Bogdan Denkovych","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9717295/avatar.png","web_url":"https://gitlab.com/bdenkovych"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362101","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362101","notes":"https://gitlab.com/api/v4/projects/278964/issues/362101/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362101/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362101","relative":"#362101","full":"gitlab-org/gitlab#362101"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":476,"epic":{"id":1504,"iid":476,"title":"Comprehensive audit log: instance settings","url":"/groups/gitlab-org/-/epics/476","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":108363926,"iid":362087,"project_id":278964,"title":"Refactor BaseItemsListService to accept board a list arguments","description":"The following discussion from !85581 should be addressed:\n\n- [ ] @egrieff started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85581#note_942642740): \n\n    \u003e We can investigate if `Boards::Issues::ListService` could benefit from having preloaded board and list too, and if so, move the extra arguments to `Boards::BaseItemsListService`.\n    \u003e","state":"closed","created_at":"2022-05-11T11:16:33.002Z","updated_at":"2022-07-20T16:28:10.527Z","closed_at":"2022-07-20T16:28:10.504Z","closed_by":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"labels":["GraphQL","backend","devops::plan","group::product planning","section::dev","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":3860200,"username":"egrieff","name":"Eugenia Grieff","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3860200/avatar.png","web_url":"https://gitlab.com/egrieff"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362087","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362087","notes":"https://gitlab.com/api/v4/projects/278964/issues/362087/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362087/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362087","relative":"#362087","full":"gitlab-org/gitlab#362087"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108356679,"iid":362071,"project_id":278964,"title":"Unify common customisation settings among CI badges","description":"CI budges have some common settings:\n* key_text\n* key_width\n\nThey are duplicated in:\n1. http://gitlab.com/gitlab-org/gitlab/blob/87ae8e98342ab3a71388fc77835e5b59f6dc7bc9/lib/gitlab/ci/badge/pipeline/template.rb#L27-L27\n2. http://gitlab.com/gitlab-org/gitlab/blob/87ae8e98342ab3a71388fc77835e5b59f6dc7bc9/lib/gitlab/ci/badge/coverage/template.rb#L28-L28\n3. http://gitlab.com/gitlab-org/gitlab/blob/87ae8e98342ab3a71388fc77835e5b59f6dc7bc9/lib/gitlab/ci/badge/release/template.rb#L18-L18\n\n### Implementation guide\nMaybe we can move them to the parent class and avoid duplication?","state":"closed","created_at":"2022-05-11T09:20:58.480Z","updated_at":"2022-06-26T23:16:01.847Z","closed_at":"2022-06-26T23:16:01.836Z","closed_by":{"id":5487572,"username":"emanuelfarias","name":"Emanuel H. Farias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5487572/avatar.png","web_url":"https://gitlab.com/emanuelfarias"},"labels":["Category:Continuous Integration","Category:Release Orchestration","auto updated","backend","good for new contributors","ruby","type::feature"],"milestone":null,"assignees":[{"id":5487572,"username":"emanuelfarias","name":"Emanuel H. Farias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5487572/avatar.png","web_url":"https://gitlab.com/emanuelfarias"}],"author":{"id":3379682,"username":"vshushlin","name":"Vladimir Shushlin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3379682/avatar.png","web_url":"https://gitlab.com/vshushlin"},"type":"ISSUE","assignee":{"id":5487572,"username":"emanuelfarias","name":"Emanuel H. Farias","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5487572/avatar.png","web_url":"https://gitlab.com/emanuelfarias"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362071","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362071","notes":"https://gitlab.com/api/v4/projects/278964/issues/362071/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362071/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362071","relative":"#362071","full":"gitlab-org/gitlab#362071"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108351752,"iid":362065,"project_id":278964,"title":"Technical blueprint for frontend access to KAS","description":"## Scope\n\nThis issue is part of a bigger development effort described in detail by its epic. The scope of this issue is to come up with a technical blueprint for the epic.\n\n## Actions\n\n- [x] Technical proposal. We have a [design doc MR](https://gitlab.com/gitlab-org/cluster-integration/gitlab-agent/-/merge_requests/671) that talks about authn with cookies but we don't have technical design on when and what sets the cookie. This needs to be added to the linked doc as part of this issue.\n- [x] Iteration plan with rough work estimates.","state":"closed","created_at":"2022-05-11T08:06:50.305Z","updated_at":"2022-11-21T12:05:12.656Z","closed_at":"2022-11-14T19:17:28.953Z","closed_by":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"labels":["Category:Kubernetes Management","Deliverable","backend","configure::discussion","devops::configure","feature::addition","group::configure","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"}],"author":{"id":4545061,"username":"nagyv-gitlab","name":"Viktor Nagy (GitLab)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/fb255c1e9c228b9356af165939b3ac9b?s=80\u0026d=identicon","web_url":"https://gitlab.com/nagyv-gitlab"},"type":"ISSUE","assignee":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362065","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362065","notes":"https://gitlab.com/api/v4/projects/278964/issues/362065/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362065/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362065","relative":"#362065","full":"gitlab-org/gitlab#362065"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8038,"epic":{"id":519677,"iid":8038,"title":"Frontend access to Kubernetes API through KAS","url":"/groups/gitlab-org/-/epics/8038","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":108344730,"iid":362041,"project_id":278964,"title":"[Feature flag] Rollout of `seat_count_alerts`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the seat count alerts for group owners feature](https://gitlab.com/gitlab-org/gitlab/-/issues/348481) on production,\nthat is currently behind the `seat_count_alerts` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nSaaS customers are being surprised and taken off-guard by Quarterly Subscription reconciliations. Because self-service SaaS customers have not historically been charged true-ups, the QSR process and the fact that they have to pay for overages is totally new.\n\nThis feature displays an alert to group owners on QSR enabled subscriptions at different thresholds to warn them when their group is approaching the number of purchased seats in their subscription.\n\n## Owners\n\n- Team: Fulfillment Purchase\n- Most appropriate slack channel to reach out to: `#g_purchase`\n- Best individual to reach out to: @jhyson\n- PM: @tgolubeva\n\n## Expectations\n\n### What are we expecting to happen?\n\nThe usage alert will be displayed to group owners when they are approaching their purchased seat count. This will show up on the project, group and subgroup, billing and usage pages.\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\nWhen the MRs associated with https://gitlab.com/gitlab-org/gitlab/-/issues/348481+ are merged, in particular https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89204+, which ties up all the work for this issue.\n\n### What might happen if this goes wrong?\n\nHigh traffic pages could potentially break or suffer performance issues.\n\n### What can we monitor to detect problems with this?\n\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n**Sentry:**\n\n- `seat count` keyword search https://sentry.gitlab.net/gitlab/staginggitlabcom/?query=is%3Aunresolved+seat+count\n- `Projects::IssuesController`: https://sentry.gitlab.net/gitlab/staginggitlabcom/?query=is%3Aunresolved+%22Projects%3A%3AIssuesController%22\n- `GroupsController`: https://sentry.gitlab.net/gitlab/staginggitlabcom/?query=is%3Aunresolved+%22GroupsController%22\n- `ProjectsController`: https://sentry.gitlab.net/gitlab/staginggitlabcom/?query=is%3Aunresolved+%22ProjectsController%22\n- `Groups::BillingsController`: https://sentry.gitlab.net/gitlab/staginggitlabcom/?query=is%3Aunresolved+%22Groups%3A%3ABillingsController%22\n- `Groups::UsageQuotasController`: https://sentry.gitlab.net/gitlab/staginggitlabcom/?query=is%3Aunresolved+%22Groups%3A%3AUsageQuotasController%22\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n**Sentry:**\n\n- `seat count` keyword search https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+seat+count\n- `Projects::IssuesController`: https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+%22Projects%3A%3AIssuesController%22\n- `GroupsController`: https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+%22GroupsController%22\n- `ProjectsController`: https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+%22ProjectsController%22\n- `Groups::BillingsController`: https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+%22Groups%3A%3ABillingsController%22\n- `Groups::UsageQuotasController`: https://sentry.gitlab.net/gitlab/gitlabcom/?query=is%3Aunresolved+%22Groups%3A%3AUsageQuotasController%22\n\n**Kibana**\n\n[Visualisation of the duration of requests for controllers affects by this change](https://log.gprd.gitlab.net/app/lens#/edit/5a93f120-e78e-11ec-b86b-d963a1a6788e?_g=h@0e494b1)\n\n[Error responses on controllers affected by this change](https://log.gprd.gitlab.net/goto/ec396930-ed1e-11ec-b86b-d963a1a6788e)\n\n**CustomersDot:**\n\n- [Requests to the GraphQL endpoint](https://console.cloud.google.com/logs/query;query=resource.type%3D%22gce_instance%22%0Alog_name%3D%22projects%2Fgitlab-subscriptions-prod%2Flogs%2Frails.production%22%0A%22eligibleForSeatUsageAlerts%22;summaryFields=:false:32:beginning:false;cursorTimestamp=2022-06-16T02:22:50.946923580Z?referrer=search\u0026project=gitlab-subscriptions-prod)\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status d284afe981c503c854cbe8c8283e916ea04b8769`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set seat_count_alerts true --dev`\n    - [x] `/chatops run feature set seat_count_alerts true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status d284afe981c503c854cbe8c8283e916ea04b8769`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --group=gitlab-org,gitlab-com seat_count_alerts true`\n- [x] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [x] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_purchase`).\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set seat_count_alerts 25 --actors`\n    - [x] `/chatops run feature set seat_count_alerts 50 --actors`\n    - [x] `/chatops run feature set seat_count_alerts 75 --actors`\n    - [ ] `/chatops run feature set seat_count_alerts 100 --actors`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set seat_count_alerts true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/348481) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create [a merge request to remove `seat_count_alerts` feature flag](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/95775). Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [x] Close [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79563) to indicate the feature will be released in the current milestone.\n- [x] If not already done, clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete seat_count_alerts --dev --staging --staging-ref --production`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set seat_count_alerts false\n```","state":"closed","created_at":"2022-05-11T05:56:45.130Z","updated_at":"2022-10-21T10:43:22.429Z","closed_at":"2022-08-29T23:13:02.598Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["Category:Purchase","backend","devops::fulfillment","feature flag","feature::addition","group::purchase","missed:15.1","missed:15.2","missed:15.3","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362041","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":33,"completed_count":27},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"27 of 33 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362041","notes":"https://gitlab.com/api/v4/projects/278964/issues/362041/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362041/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362041","relative":"#362041","full":"gitlab-org/gitlab#362041"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7230,"epic":{"id":401187,"iid":7230,"title":"[QSR] [SaaS] Create transparency about User Overage process at the time of adding users","url":"/groups/gitlab-org/-/epics/7230","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":108335332,"iid":362017,"project_id":278964,"title":"Finalize Default Widget Extension Telemetry","description":"### Context\n\nWe're [trying to add](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86409) more [default telemetry](https://gitlab.com/gitlab-org/gitlab/-/issues/358172) to the MR Widgets.\n\n### \"Problem\"\n\nThe [current rough draft implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86409) is effective for its purpose (dual: determine feasibility and set a general architecture), but now needs to move from \"Spike Implementation\" to \"Final Implementation.\"\n\n### Tasks\n\n1. [x] (Out of Scope) [Fix constant teardown/reconstruction of the extensions](https://gitlab.com/gitlab-org/gitlab/-/issues/362015)\n1. [x] Ensure reporting architecture meets all stakeholder needs:\n    - Widget extension authors find it painless to use\n    - PM(s) get the data they need\n    - Engineers can extend the existing framework effectively to add:\n        - new destinations beyond Redis\n        - new behaviors\n        - new events\n1. [x] Confirm user UI behaviors map correctly to the expected tracking events\n1. [x] Write unit tests\n\n----\n\n| Stat | Value | Description |\n| ----- | ----- | ----------- |\n| Type | Feature | _Technically_, this is part of a refactor, but this is fundamentally new work. |\n| Weight | ~\"frontend-weight::2\" | Weighting this a frontend 2 because it **should** be unsurprising and straightforward. |","state":"closed","created_at":"2022-05-10T22:22:32.677Z","updated_at":"2022-06-30T14:33:31.335Z","closed_at":"2022-06-21T16:11:42.155Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Deliverable","WorkingGroup::MergeRequestReportWidgets","devops::create","frontend","group::code review","maintenance::refactor","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362017","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362017","notes":"https://gitlab.com/api/v4/projects/278964/issues/362017/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362017/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362017","relative":"#362017","full":"gitlab-org/gitlab#362017"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108335117,"iid":362015,"project_id":278964,"title":"MR Widget Extensions Continuously Teardown, Reconstruct, and Remount","description":"### Context\n\nWe're [trying to add](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86409) more [default telemetry](https://gitlab.com/gitlab-org/gitlab/-/issues/358172) to the MR Widgets.  \nOne of the events is \"viewed.\" Barring complex logic like actual scroll positioning, the best indicator of `viewed` is that the component was mounted into the DOM.\n\n### Problem\n\nUnfortunately the extensions continuously teardown, reconstruct, and remount into the DOM. This means that neither the `created` nor the `mounted` callback are useful for tracking views.\n\n#### Problem Caveat\n\nIn my _test scenario_ I had forced every widget to display, despite none of them having useful data.  \nDuring this testing, they were showing the \"failed to load data\" error states, which **could** have led to the continuous remounting.  \n\nIt's possible it only occurs in this specific scenario, but even so it is possible in a real-world use case, so we should address it regardless.\n\n### Solution\n\nI don't have a technical solution, but in broad terms, the component should remain rendered and only change its display content if data changes or errors are cleared.\n\n----\n\n| Stat | Value | Description |\n| ----- | ----- | ----------- |\n| Type | Defect \u0026 Investigation | This is probably mostly just defect fix work, but I don't _personally_ know why the described issue is occurring, so it would require a bit of investigation, which necessarily means digging around with potentially deep Vue rendering pipelines. |\n| Weight | ~\"frontend-weight::3\" | Weighting this a frontend 3 because of the above uncertainty. It could be a 1, but I'm not sure what it will take. |","state":"closed","created_at":"2022-05-10T22:11:07.345Z","updated_at":"2022-06-21T12:01:43.614Z","closed_at":"2022-05-25T08:36:11.469Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","WorkingGroup::MergeRequestReportWidgets","devops::create","frontend","group::code review","merge requests","section::dev","type::bug","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362015","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362015","notes":"https://gitlab.com/api/v4/projects/278964/issues/362015/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362015/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362015","relative":"#362015","full":"gitlab-org/gitlab#362015"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108333788,"iid":362010,"project_id":278964,"title":"Add form for editing scanner and site profiles to a drawer","description":"According to [new design](https://www.figma.com/file/o6NoqgLnxv0KnK2y9Qum51/DAST-Configuration-UI?node-id=1162%3A80372) side drawer must contain a form for editing existing scanner|site profile.\n\n`ee/app/assets/javascripts/security_configuration/dast_profiles/dast_scanner_profiles/components/dast_scanner_profile_form.vue`\n`ee/app/assets/javascripts/security_configuration/dast_profiles/dast_site_profiles/components/dast_site_profile_form.vue`\n\ncan be reused for creating new profiles in the drawer.\n\n- [ ] Update css of existing forms so it can be stacked in narrow containers\n- [ ] Put forms in drawer, display forms only when new scanner mode is active\n- [ ] Adjust callbacks for successful profile creation and failure.\n- [ ] Add test coverage for new use cases\n\nBefore raising an issue to the GitLab issue tracker, please read through our guide for finding help to determine the best place to post:\n\n* https://about.gitlab.com/getting-help/\n\nIf you are experiencing an issue when using GitLab.com, your first port of call should be the Community Forum. Your issue may have already been reported there by another user. Please check:\n\n* https://forum.gitlab.com/\n\nIf you feel that your issue can be categorized as a reproducible bug or a feature proposal, please use one of the issue templates provided and include as much information as possible.\n\nThank you for helping to make GitLab a better product.","state":"closed","created_at":"2022-05-10T21:14:29.012Z","updated_at":"2022-05-16T03:23:21.625Z","closed_at":"2022-05-13T15:36:51.688Z","closed_by":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"labels":["Category:DAST","devops::secure","feature flag","frontend","group::dynamic analysis","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"}],"author":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"type":"ISSUE","assignee":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362010","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362010","notes":"https://gitlab.com/api/v4/projects/278964/issues/362010/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362010/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362010","relative":"#362010","full":"gitlab-org/gitlab#362010"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7631,"epic":{"id":451408,"iid":7631,"title":"On-demand DAST configuration improvements","url":"/groups/gitlab-org/-/epics/7631","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108332366,"iid":362007,"project_id":278964,"title":"Elasticsearch stops indexing after upgrading to GitLab 15.0 when using Elasticsearch 6.8","description":"**Elasticsearch 15.0 is not compatible with Elasticsearch 6.8.\u003cBR\u003e\nCustomers upgrading from Gitlab 14.10 to GitLab 15.0 will need to use Elsticsearch 7.x before upgrading.\u003cBR\u003e\nElasticsearch 8.x and Opensearch are not compatible with Gitlab 14.10. Using these versions should only happen after GitLab 15.0 upgrade is complete.**\n\nAfter upgrading to GitLab 15.0, indexing will silently fail if you run Easticsearch 6.8. \n\nThe following error can be found in the elasticsearch.log \n\n```\n{\"severity\":\"ERROR\"\n\"message\":\"bulk_exception\",\"error_class\":\"Elasticsearch::Transport::Transport::Errors::BadRequest\",\"error_message\"\n:\"[400] {\\\"error\\\":{\\\"root_cause\\\":[{\\\"type\\\":\\\"action_request_validation_exception\\\",\\\"reason\\\":\\\"Validation\n Failed: 1: type is missing;2: type is missing;\\\"}],\\\"type\\\":\\\"action_request_validation_exception\\\",\\\"reason\\\"\n:\\\"Validation Failed: 1: type is missing;2: type is missing;\\\"},\\\"status\\\":400}\"}\n```\n\nSearch still works but will not index new content or content changes. \n\n### Resolution\n\n1. Pause Indexing in the Admin Console. \n2. Upgrade to Elasticsearch to 7.x or greater, or Opensearch 1.x or greater. \n3. Unpause Indexing in the admin console. \n4. Rerun the failed redis jobs. \n\n### Next Steps\n\nWe should report this failure in the admin console for the Advanced Search Integration. \n\n\u003e  Search indexing has stopped. Confirm your search deployment is compatible then rerun failed Redis jobs.","state":"closed","created_at":"2022-05-10T20:37:52.143Z","updated_at":"2022-05-30T15:51:48.119Z","closed_at":"2022-05-17T16:50:16.835Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Category:Global Search","advanced search","auto updated","devops::data_stores","group::global search","section::enablement","type::maintenance","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"}],"author":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"type":"ISSUE","assignee":{"id":5708766,"username":"terrichu","name":"Terri Chu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5708766/avatar.png","web_url":"https://gitlab.com/terrichu"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362007","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362007","notes":"https://gitlab.com/api/v4/projects/278964/issues/362007/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362007/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362007","relative":"#362007","full":"gitlab-org/gitlab#362007"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7778,"epic":{"id":478279,"iid":7778,"title":"Advanced Search is compatible with Elasticsearch 8","url":"/groups/gitlab-org/-/epics/7778","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108330964,"iid":362006,"project_id":278964,"title":"Slack GBP icon update","description":"### Context\n\nWe are in the process of updating the GitLab Slack application from Classic to use Granular Bot Permissions. During this first update, we should also update the Slack app icon to use the new branding.\n\n| Current  | Proposal |\n| ------ | ------ |\n| ![current](/uploads/eba79dedac3ea32c3e4273dc8f693cf8/current.png) | ![proposal](/uploads/482f5bd2e52827a246a532da4c59116c/proposal.png) |\n\n\n### Design source\n\n:pencil2: [Figma project](https://www.figma.com/file/ykS95bjLoOKpStyfZBOagF/Rebuild%2Frefactor-the-Slack-Application-(%266187)?node-id=1958%3A26396)\n\n| GitLab logo 2000x2000(png)|\n| ------ |\n| ![Gitlab-2000x2000](/uploads/87df0a06b581131e923a8c26536832e6/Gitlab-2000x2000.png) | \n\n### Resources\n- https://api.slack.com/start/distributing/guidelines#icon","state":"closed","created_at":"2022-05-10T19:56:31.323Z","updated_at":"2022-11-22T18:42:13.368Z","closed_at":"2022-05-11T00:51:03.848Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Integration::Slack","SUS::Impacting","UI polish","automation:ux-missing-labels","devops::manage","group::integrations","section::dev","type::feature","workflow::ready for development"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":5022246,"username":"lvanc","name":"Libor Vanc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5022246/avatar.png","web_url":"https://gitlab.com/lvanc"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/362006","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/362006","notes":"https://gitlab.com/api/v4/projects/278964/issues/362006/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/362006/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#362006","relative":"#362006","full":"gitlab-org/gitlab#362006"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7729,"epic":{"id":469302,"iid":7729,"title":"Migrate Slack App from Classic App to Granular Bot Permissions App","url":"/groups/gitlab-org/-/epics/7729","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108329653,"iid":361999,"project_id":278964,"title":"Update `Admin` -\u003e `User` -\u003e `Edit` layout to be Pajamas compliant","description":"The `Admin` -\u003e `User` -\u003e `Edit` layout is not consistent with the Pajamas designs system. We should update this to be compliant with Pajamas.\n\n![Screen_Shot_2022-05-10_at_12.07.46_PM](/uploads/1f9178572d3485d7d1709cf1b2508a92/Screen_Shot_2022-05-10_at_12.07.46_PM.png)","state":"closed","created_at":"2022-05-10T19:19:25.270Z","updated_at":"2022-08-03T19:00:36.220Z","closed_at":"2022-06-28T16:08:32.387Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","FY23::Q2","OKR","Pajamas","SUS::Impacting","auto updated","devops::manage","frontend","group::organization","missed-deliverable","missed:15.1","pajamas::integrate","quad-planning::complete-action","section::dev","severity::4","type::maintenance","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361999","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361999","notes":"https://gitlab.com/api/v4/projects/278964/issues/361999/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361999/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361999","relative":"#361999","full":"gitlab-org/gitlab#361999"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8400,"epic":{"id":568335,"iid":8400,"title":"Organization UI improvements (low effort)","url":"/groups/gitlab-org/-/epics/8400","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":108329599,"iid":361998,"project_id":278964,"title":"Update `Admin` -\u003e `Group` -\u003e `Edit` layout to be Pajamas compliant","description":"The `Admin` -\u003e `Group` -\u003e `Edit` layout is not consistent with the Pajamas designs system. We should update this to be compliant with Pajamas.\n\n![Screen_Shot_2022-05-10_at_12.08.10_PM](/uploads/a6ae7ec4f56db61af80a0871d46bd9c2/Screen_Shot_2022-05-10_at_12.08.10_PM.png)\n\n### Availability and Testing\n\nThere are several QA tests that use components used by this page, for example:\n- `app/views/shared/_allow_request_access.html.haml`\n  - `data: { qa_selector: 'request_access_checkbox' }`\n- `app/views/shared/_group_form.html.haml`\n    - `data: { qa_selector: 'group_name_field' }`\n    - `data: { qa_selector: 'group_path_field' }`\n- `app/views/shared/_visibility_radios.html.haml`\n   - `data: { qa_selector: \"#{visibility_level_label(level).downcase}_radio\" }`\n- `app/views/admin/groups/_form.html.haml`\n   - `data: { qa_selector: 'save_changes_button' }`\n\nPlease run `package-and-qa` job to ensure no regressions occur once MR is ready","state":"closed","created_at":"2022-05-10T19:18:11.142Z","updated_at":"2022-07-21T12:02:09.147Z","closed_at":"2022-07-07T19:12:09.886Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","FY23::Q2","Pajamas","SUS::Impacting","auto updated","devops::manage","frontend","group::organization","missed-deliverable","missed:15.1","pajamas::integrate","quad-planning::complete-action","section::dev","severity::4","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361998","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361998","notes":"https://gitlab.com/api/v4/projects/278964/issues/361998/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361998/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361998","relative":"#361998","full":"gitlab-org/gitlab#361998"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8400,"epic":{"id":568335,"iid":8400,"title":"Organization UI improvements (low effort)","url":"/groups/gitlab-org/-/epics/8400","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":108328869,"iid":361992,"project_id":278964,"title":"Update RequirementFinder to do all filtering on Issue table","description":"We should start using Issues table to find requirements.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/358976#note_940225514","state":"closed","created_at":"2022-05-10T19:00:35.755Z","updated_at":"2023-01-12T21:24:51.015Z","closed_at":"2022-06-07T08:01:39.539Z","closed_by":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"labels":["auto updated","backend","devops::plan","group::certify","section::dev","workflow::in review"],"milestone":null,"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361992","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361992","notes":"https://gitlab.com/api/v4/projects/278964/issues/361992/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361992/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361992","relative":"#361992","full":"gitlab-org/gitlab#361992"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8032,"epic":{"id":519221,"iid":8032,"title":"Start using requirement issue (instead of requirement) internally","url":"/groups/gitlab-org/-/epics/8032","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108328005,"iid":361991,"project_id":278964,"title":"[Investigation] Seats Usage page delay in updating \"Seats in use\"","description":"### Resolution\n\n**Main discussion**: thread https://gitlab.com/gitlab-org/gitlab/-/issues/361991#note_1007271945 \n\n**Issue for technical implementation**: https://gitlab.com/gitlab-org/gitlab/-/issues/382428\n\n**MR that fixes this issue**: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/103817\n\n---\n\n### Summary\n\nGitLab support has had a few reports of GitLab.com SaaS customers reporting that the Usage Quotas -\u003e Seats (Usage) page appears to occasionally be not live-updating their seats usage when removing users from the group.  The [documentation](https://docs.gitlab.com/ee/subscriptions/gitlab_com/#view-seat-usage) states it should be real time updates, versus the group's billing page refreshing only once per day around 12:00 UTC.\n\nThis is only in direct relation to the \"Seats in use / Seats in subscription\" card at the top.  The members list is updated immediately in all cases.\n\nThere's some related discussion in two slack threads, mainly [this one](https://gitlab.slack.com/archives/C01E07BC4FQ/p1651765435419509), but a some extra info [here](https://gitlab.slack.com/archives/C018C623KBJ/p1651746048476589) as well.\n\n### Steps to reproduce\n\nHaven't directly reproduced yet.  Only aware of it from customers sharing screenshots.  In theory:\n\n1. Remove users from a group\n2. Check the Seats in Use number on Settings \u003e Usage Quotas \u003e Seats page\n\n### What is the current *bug* behavior?\n\nSeats in use / Seats in subscription, occasionally and under unknown circumstances, does not update/refresh immediately when removing users\n\n### What is the expected *correct* behavior?\n\nSeats usage value should update/refresh immediately\n\n### Relevant logs and/or screenshots\n\n41 \"seats in use\" but only 10 shown on the page (default pagination is 20 per page)\n\n![screenshot-2022-05-10-14_23](/uploads/d81515a1fa5a1c47352b8339e92b2ac6/screenshot-2022-05-10-14_23.png)\n\n5 \"seats in use\", only 3 shown\n\n![screenshot-2022-05-10-14_25](/uploads/6bf9b35b78b0086a695456532d5df6f5/screenshot-2022-05-10-14_25.png)\n\n### Output of checks\n\nThis is happening on GitLab.com\n\n### Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/284822\n1. https://gitlab.zendesk.com/agent/tickets/288564\n2. https://gitlab.zendesk.com/agent/tickets/298151\n3. https://gitlab.zendesk.com/agent/tickets/302464\n4. https://gitlab.zendesk.com/agent/tickets/303685\n5. https://gitlab.zendesk.com/agent/tickets/328311\n6. https://gitlab.zendesk.com/agent/tickets/334376\n7. https://gitlab.zendesk.com/agent/tickets/335600","state":"closed","created_at":"2022-05-10T18:36:33.031Z","updated_at":"2022-11-29T11:42:15.345Z","closed_at":"2022-11-22T00:02:43.753Z","closed_by":{"id":5211906,"username":"csouthard","name":"Chase Southard","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5e2adecb9fa1d32cf007754824aa358f?s=80\u0026d=identicon","web_url":"https://gitlab.com/csouthard"},"labels":["Deliverable","SUS::Impacting","UX","[deprecated] Category:Utilization","bug::ux","customer","devops::fulfillment","estimation::completed","frontend","group::utilization","missed-deliverable","missed:15.3","missed:15.4","missed:15.5","missed:15.6","priority::2","section::fulfillment","severity::3","type::bug","workflow::in review"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"}],"author":{"id":4447183,"username":"kevenhughes","name":"Keven Hughes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447183/avatar.png","web_url":"https://gitlab.com/kevenhughes"},"type":"ISSUE","assignee":{"id":8858358,"username":"sheldonled","name":"Sheldon Led","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4a4252822d6a503697403c631ca987dc?s=80\u0026d=identicon","web_url":"https://gitlab.com/sheldonled"},"user_notes_count":59,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361991","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361991","notes":"https://gitlab.com/api/v4/projects/278964/issues/361991/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361991/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361991","relative":"#361991","full":"gitlab-org/gitlab#361991"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6330,"epic":{"id":306319,"iid":6330,"title":"Generate Trust in User Counts","url":"/groups/gitlab-org/-/epics/6330","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e546\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":108327600,"iid":361990,"project_id":278964,"title":"Prevent creating requirements with deprecated attributes","description":"When creating new requirement, we should internally create a new issue (of type `requirement`) and make sure that necessary attributes are synced to the requirement object.\n\nUpdating of requirements might be tackled as part of this too, but if it means too much extra work we can put it into a separate issue too.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/issues/358976#note_940225514","state":"closed","created_at":"2022-05-10T18:28:53.521Z","updated_at":"2023-01-12T21:24:50.968Z","closed_at":"2022-09-06T18:14:35.230Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Stretch","auto updated","backend","devops::plan","group::product planning","missed:15.3","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361990","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361990","notes":"https://gitlab.com/api/v4/projects/278964/issues/361990/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361990/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361990","relative":"#361990","full":"gitlab-org/gitlab#361990"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8032,"epic":{"id":519221,"iid":8032,"title":"Start using requirement issue (instead of requirement) internally","url":"/groups/gitlab-org/-/epics/8032","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108327436,"iid":361987,"project_id":278964,"title":"Remove NOT NULL constraints from requirements columns","description":"@felipe_artur pointed out in https://gitlab.com/gitlab-org/gitlab/-/issues/358976#note_940225514 that before we can start ignoring some columns we have to remove their \"not null\" constraint:\n\n```\ncreated_at timestamp with time zone NOT NULL,\nupdated_at timestamp with time zone NOT NULL,\nstate smallint DEFAULT 1 NOT NULL,\ntitle character varying(255) NOT NULL,\n```","state":"closed","created_at":"2022-05-10T18:26:10.257Z","updated_at":"2023-01-12T21:24:50.919Z","closed_at":"2022-07-25T18:11:11.065Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["auto updated","backend","devops::plan","group::product planning","missed:15.1","missed:15.2","section::dev","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361987","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361987","notes":"https://gitlab.com/api/v4/projects/278964/issues/361987/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361987/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361987","relative":"#361987","full":"gitlab-org/gitlab#361987"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8032,"epic":{"id":519221,"iid":8032,"title":"Start using requirement issue (instead of requirement) internally","url":"/groups/gitlab-org/-/epics/8032","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108327115,"iid":361986,"project_id":278964,"title":"Rearrange user popover layout","description":"Follow-up to https://gitlab.com/gitlab-org/gitlab/-/issues/323686\n\nThe current layout of the user popover doesn't leave much room for the user content and in a lot of cases feels a bit cramped. \n\n![Screen_Shot_2022-05-10_at_11.29.31_AM](/uploads/3c3f4126cedbc2ecb58658186e8bffdb/Screen_Shot_2022-05-10_at_11.29.31_AM.png)\n\nIf we switch from a two column layout to a one column layout and move the avatar above the bio, location, etc it will feel less cramped.\n\n### Proposal\n\n![cleanup_button-default](/uploads/8772a5e919ab340a201146cc8e0fc4d2/cleanup_button-default.png)","state":"closed","created_at":"2022-05-10T18:23:52.305Z","updated_at":"2022-07-18T14:55:58.454Z","closed_at":"2022-05-30T18:06:24.862Z","closed_by":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"labels":["auto updated","devops::manage","frontend","group::organization","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361986","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361986","notes":"https://gitlab.com/api/v4/projects/278964/issues/361986/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361986/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361986","relative":"#361986","full":"gitlab-org/gitlab#361986"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8400,"epic":{"id":568335,"iid":8400,"title":"Organization UI improvements (low effort)","url":"/groups/gitlab-org/-/epics/8400","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":108320650,"iid":361974,"project_id":278964,"title":"Checks at different request methods should produce different findings","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Problem\n\nMany DAST CWE checks uniqueness definition requires that findings be considered duplicates if they have the same request path. As the code behind request paths often differ by request method, this issue proposes that request method also be included in the uniqueness definition.\n\n### Proposal\n\nThe following checks should be updated to include `request_method` in the uniqueness definition:\n\n- checks/1004/1004.1.yaml\n- checks/16/16.1.yaml\n- checks/200/200.1.yaml\n- checks/319/319.1.yaml\n- checks/548/548.1.yaml\n- checks/614/614.1.yaml\n\n### Implementation plan\n\n- [x] [Update report uniqueness template for listed checks above](https://gitlab.com/gitlab-org/security-products/dast-cwe-checks/-/merge_requests/147). Template should contain `{request_method}{request_path}` instead of `{request_path}` or `{request_path}{request_method}` \n- [x] Add a CHANGELOG entry\n- [x] Release DAST CWE checks\n- [x] [Update Browserker to included the latest version of the DAST CWE checks](https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/merge_requests/715)\n- [x] Update Browserker test expectations to make the new report uniqueness template\n- [x] Release Browserker\n- [X] [Update DAST to include the latest Browserker](https://gitlab.com/gitlab-org/security-products/dast/-/merge_requests/628)\n- [x] Release DAST","state":"closed","created_at":"2022-05-10T15:52:13.485Z","updated_at":"2022-07-11T03:22:52.269Z","closed_at":"2022-07-07T06:18:42.884Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","GitLab Ultimate","auto updated","dast::browserker","devops::secure","group::dynamic analysis","section::sec","type::feature"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361974","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361974","notes":"https://gitlab.com/api/v4/projects/278964/issues/361974/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361974/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361974","relative":"#361974","full":"gitlab-org/gitlab#361974"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8034,"epic":{"id":519327,"iid":8034,"title":"Browser-based DAST post-passive check cleanup","url":"/groups/gitlab-org/-/epics/8034","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108318242,"iid":361969,"project_id":278964,"title":"Fix alignment of follow/unfollow button in user popover","description":"### Summary\n\nThe follow/unfollow button added in https://gitlab.com/gitlab-org/gitlab/-/issues/353362 is misaligned.\n\n### Steps to reproduce\n\nHover over someone's name\n\n### What is the current *bug* behavior?\n\nButton is misaligned\n\n### What is the expected *correct* behavior?\n\nButton should be aligned\n\n### Relevant logs and/or screenshots\n\n![Screenshot_2022-05-10_at_07.11.38](/uploads/a6feaf95b4581864706bd65172600dd2/Screenshot_2022-05-10_at_07.11.38.png)\n\n### Possible fixes\n\nAdd missing right margin to button","state":"closed","created_at":"2022-05-10T15:14:27.959Z","updated_at":"2022-05-16T14:36:26.940Z","closed_at":"2022-05-16T14:36:26.882Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["devops::manage","frontend","group::organization","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361969","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361969","notes":"https://gitlab.com/api/v4/projects/278964/issues/361969/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361969/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361969","relative":"#361969","full":"gitlab-org/gitlab#361969"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108316934,"iid":361964,"project_id":278964,"title":"Update a streaming audit event header","description":"## Overview\n\nOnce it is possible to [create a streaming audit event HTTP header](https://gitlab.com/gitlab-org/gitlab/-/issues/361216), it should be possible to update the same header via the GraphQL API.\n\n## Proposal\n\n* Create a GraphQL mutation to update a streaming audit event HTTP header.\n\n```graphql\nmutation {\n  externalAuditEventDestinationHeaderDestroy(input: { desintationID: \"gid://gitlab/somethingsomething/Destination/2, headerID: \"gid://id/to/header\", key: \"NEW_KEY\", value: \"NEW_VALUE\" } ) {\n    errors\n  }\n}\n```","state":"closed","created_at":"2022-05-10T14:51:55.380Z","updated_at":"2022-07-06T14:20:46.275Z","closed_at":"2022-06-30T10:29:01.938Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Events","GraphQL","auto updated","backend","devops::manage","feature::addition","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361964","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361964","notes":"https://gitlab.com/api/v4/projects/278964/issues/361964/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361964/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361964","relative":"#361964","full":"gitlab-org/gitlab#361964"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7976,"epic":{"id":512619,"iid":7976,"title":"APIs to specify custom HTTP headers for streaming audit events","url":"/groups/gitlab-org/-/epics/7976","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108313405,"iid":361950,"project_id":278964,"title":"Adjust `Vulnerabilities::DismissService` not to create a `Vulnerabilities::Feedback`","description":"## Why are we doing this work\n\nWe already have `Mutations::Vulnerabilities::Dismiss` which calls `Vulnerabilities::DismissService`. In order to depreacte `Vulnerabilities::Feedback` objects we can't create them any longer\n\n## Implementation plan\n\n- [x] Adjust `Vulnerabilities::DismissService` so it *does not* create a `Vulnerabilities::Feedback` object when `deprecate_vulnerabilities_feedback` feature flag is enabled.\n- [x] Adjust `Vulnerabilities::FindingDismissService` so it *does not* create a `Vulnerabilities::Feedback` object when `deprecate_vulnerabilities_feedback` feature flag is enabled.\n\n## Risks\n\nIf enabled for a \"serious\" project and disabled then we will have data inconsistency - we need to make sure to communicate that this can lead to data inconsistency and should not be enabled without contating TI","state":"closed","created_at":"2022-05-10T13:59:17.088Z","updated_at":"2022-11-21T18:08:39.785Z","closed_at":"2022-11-20T22:55:17.792Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","backend","devops::govern","group::threat insights","maintenance::refactor","missed:15.2","missed:15.4","missed:15.5","quad-planning::complete-no-action","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361950","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361950","notes":"https://gitlab.com/api/v4/projects/278964/issues/361950/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361950/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361950","relative":"#361950","full":"gitlab-org/gitlab#361950"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5629,"epic":{"id":228751,"iid":5629,"title":"Deprecate and remove Vulnerabilities::Feedback","url":"/groups/gitlab-org/-/epics/5629","group_id":9970},"iteration":null,"health_status":null},{"id":108312422,"iid":361948,"project_id":278964,"title":"Create `Mutations::SecurityFinding::CreateIssue`","description":"## Why are we doing this work?\n\nWe want to be able to create `Issue` objects directly from `Security::Findings`. At the same time we want to deprecate `Vulnerabilities::Feedback` objects.\n\nTo do this easily, we want to introduce `Mutations::SecurityFinding::CreateIssue` GraphQL mutation and `Vulnerabilities::SecurityFinding::CreateIssue` service object.\n\n## Implementation plan\n\n1. ~backend Create `Vulnerabilities::SecurityFinding::CreateIssue`\n2. ~backend Create `Mutations::SecurityFinding::CreateIssue`\n\n### `Vulnerabilities::SecurityFindings::CreateIssue`\n\nHigh level overview:\n\n1. Look for given `Security::Finding`\n1. \"Promote\" - `Security::Finding` to `Vulnerabilities::Finding`\n2. Create a `Vulnerability` for a given `Vulnerabilities::Finding` if it doesn't exist\n3. Create an `Issue` for that `Vulnerability`\n4. Create an `Vulnerabilities::IssueLink` for that `(vulnerability_id, issue_id)` pair\n\nWe should use state of `deprecate_vulnerabilities_feedback` feature flag to determine the correct way to do this. The differences are outlined below.\n\n#### deprecate_vulnerabilities_feedback is enabled\n\nIn this branch we would **skip** creating Vulnerabilities::Feedback objects\n\n1. See if the `Vulnerabilities::Finding` has a `vulnerability_id`\n1. It not then create it using `Vulnerabilities::CreateService` ([`ee/app/services/vulnerabilities/create_service.rb`](https://gitlab.com/gitlab-org/gitlab/blob/0c52ca1336792a1255b2e05f791690fee49863c0/ee/app/services/vulnerabilities/create_service.rb#L8))\n1. Use the `vulnerability_id` to create an Issue via `Issues::CreateFromVulnerabilityDataService` ([ee/app/services/issues/create_from_vulnerability_data_service.rb](https://gitlab.com/gitlab-org/gitlab/blob/0c52ca1336792a1255b2e05f791690fee49863c0/ee/app/services/issues/create_from_vulnerability_data_service.rb#L4\n))\n1. Make sure to create `Vulnerabilities::IssueLink` object with the `vulnerability_id` and `issue_id` \n\nI think steps 2 - 4 could be wrapped in a `Vulnerabilites::CreateFromFindingService` which we could reuse later on.\n\n#### deprecate_vulnerabilities_feedback is disabled\n\nIn this branch we would just:\n\n1. Use `VulnerabilityFeedback::CreateService` to create a `Vulnerabilities::Feedback` object and `Issue` for it. See [`Vulnerabilities::Feedback#create_issue` method](https://gitlab.com/gitlab-org/gitlab/blob/0c52ca1336792a1255b2e05f791690fee49863c0/ee/app/services/vulnerability_feedback/create_service.rb#L59)\n\n#### Finding is not found\n\nThis shouldn't happen, but in this case we should just error out\n\n### `Mutations::SecurityFindings::CreateIssue`\n\n1. Accepts `security_finding_id`\n2. Calls `Vulnerabilities::SecurityFinding::CreateIssue`\n3. Returns the created `Issue`","state":"closed","created_at":"2022-05-10T13:43:51.568Z","updated_at":"2023-01-12T16:20:43.587Z","closed_at":"2022-11-21T23:57:16.854Z","closed_by":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"labels":["Category:Vulnerability Management","backend","devops::govern","group::threat insights","maintenance::refactor","missed:15.3","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361948","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361948","notes":"https://gitlab.com/api/v4/projects/278964/issues/361948/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361948/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361948","relative":"#361948","full":"gitlab-org/gitlab#361948"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5629,"epic":{"id":228751,"iid":5629,"title":"Deprecate and remove Vulnerabilities::Feedback","url":"/groups/gitlab-org/-/epics/5629","group_id":9970},"iteration":null,"health_status":null},{"id":108311989,"iid":361947,"project_id":278964,"title":"Rename `Mutations::Vulnerabilities::FindingDismiss` to `Mutations::SecurityFinding::Dismiss`","description":"## Why are we doing this work?\n\nWe want to rename `Mutations::Vulnerabilities::FindingDismiss` to `Mutations::SecurityFinding::Dismiss` to better reflect the underlying logic\n\n## Implementation plan\n\n1. Rename the class\n1. Rename file\n1. Adjust specs","state":"closed","created_at":"2022-05-10T13:37:09.032Z","updated_at":"2022-05-17T14:39:01.210Z","closed_at":"2022-05-17T14:39:01.190Z","closed_by":{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"},"labels":["Category:Vulnerability Management","backend","devops::secure","group::threat insights","maintenance::refactor","section::sec","type::maintenance","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"}],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":9430722,"username":"mc_rocha","name":"Marcos Rocha","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9430722/avatar.png","web_url":"https://gitlab.com/mc_rocha"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361947","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361947","notes":"https://gitlab.com/api/v4/projects/278964/issues/361947/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361947/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361947","relative":"#361947","full":"gitlab-org/gitlab#361947"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5629,"epic":{"id":228751,"iid":5629,"title":"Deprecate and remove Vulnerabilities::Feedback","url":"/groups/gitlab-org/-/epics/5629","group_id":9970},"iteration":null,"health_status":null},{"id":108311461,"iid":361945,"project_id":278964,"title":"Adjust layout for Create Vulnerability button on mobile view","description":"The following discussion from !87040 should be addressed:\n\n- [ ] @dftian started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/87040#note_940359000):  (+1 comment)\n\n\u003e While this fixes the button's height, it does feel somewhat weird that we keep the title and actions side-by-side on mobile. I believe that we usually adjust the layout so that actions are moved below the title on smaller viewports. That's what we did for on-demand scans for example:\n\n| Desktop | Mobile |\n| ------ | ------ |\n| ![Screen_Shot_2022-05-10_at_6.49.35_AM](/uploads/592eec488b14aa9d91bee4e6b4f63f87/Screen_Shot_2022-05-10_at_6.49.35_AM.png) | ![Screen_Shot_2022-05-10_at_6.49.53_AM](/uploads/3606acd3a3144961336cdd2a2bac8d81/Screen_Shot_2022-05-10_at_6.49.53_AM.png) |","state":"closed","created_at":"2022-05-10T13:28:25.353Z","updated_at":"2022-05-16T18:53:27.079Z","closed_at":"2022-05-16T18:53:21.267Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:Vulnerability Management","devops::secure","frontend","group::threat insights","priority::4","section::sec","severity::4","type::bug","workflow::in dev"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":1646689,"username":"oregand","name":"David O'Regan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1646689/avatar.png","web_url":"https://gitlab.com/oregand"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361945","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361945","notes":"https://gitlab.com/api/v4/projects/278964/issues/361945/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361945/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361945","relative":"#361945","full":"gitlab-org/gitlab#361945"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108308272,"iid":361934,"project_id":278964,"title":"Backend: Add raw attribute to ci/cd settings variables \u0026 expose in endpoint","description":"This is the ~backend issue to unblock https://gitlab.com/gitlab-org/gitlab/-/issues/217309+\n\n\n### Problem to solve\n\nCurrently, the majority of variables sent by GitLab to Runner are subject to variable expansion and does not support special characters such as `$`. When users add a variable value with $ (which is very common for generated passwords), the value is treated as a variable reference, which isn't expected behavior.\n\nUsers find it surprising that the variable gets expanded by default when the value contains a $. Often times the value is machine generated and might contain a $ to make it more secure.\n\n### Proposal\n\n| Description | MR Link | Notes |\n| ------ | ------ | ------ | \n|Add `raw` to database|https://gitlab.com/gitlab-org/gitlab/-/merge_requests/88554||\n|Add `VariableType` to GraphQL |||\n|Add the variable field to Project, Group, Query|||","state":"closed","created_at":"2022-05-10T12:39:15.545Z","updated_at":"2022-11-02T13:50:00.330Z","closed_at":"2022-07-04T14:01:17.260Z","closed_by":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"labels":["Category:Pipeline Authoring","auto updated","backend","devops::verify","documentation","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":34,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361934","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361934","notes":"https://gitlab.com/api/v4/projects/278964/issues/361934/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361934/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361934","relative":"#361934","full":"gitlab-org/gitlab#361934"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8209,"epic":{"id":542230,"iid":8209,"title":"Variables work for PA kickoff","url":"/groups/gitlab-org/-/epics/8209","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":{"id":54829,"iid":70,"sequence":19,"group_id":9970,"title":null,"description":"Target milestone `15.2`","state":3,"created_at":"2022-05-01T00:05:30.620Z","updated_at":"2022-07-11T00:05:02.227Z","start_date":"2022-06-27","due_date":"2022-07-10","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/54829"},"health_status":null},{"id":108300502,"iid":361925,"project_id":278964,"title":"Integrate custom headers update GraphQL into custom headers form for streaming audit events","description":"## Overview\n\nCurrently, when streaming audit events, GitLab adds a single HTTP header to aid in verification but group owners cannot specify their own HTTP headers.\n\nCertain ingestion services require certain header values for authentication or other purposes.\n\n## Proposal\n\nUpdate the streaming audit events form to save mutations to headers via the GraphQL API\n\n## Designs\n| Add stream | Edit stream |\n| ---------- | ----------- |\n| ![image](https://gitlab.com/groups/gitlab-org/-/uploads/203f42e42cceeda27911744adedd413a/image.png) | ![image](https://gitlab.com/groups/gitlab-org/-/uploads/7bc79fdcf3319d2b368b82d72078f79b/image.png) |\n\n## Implementation plan\n\n~frontend - :two:\n\n**Behind the** `:custom_headers_streaming_audit_events_ui` ~\"feature flag\"\n\n1. Update the streaming audit events form to update the existing headers on saving of the form\n1. Remove **read-only** limitation on inputs and remove the **disabled** attribute from the `active` checkbox\n1. Add specs for the new mutation logic\n1. Update specs for the inputs and checkbox","state":"closed","created_at":"2022-05-10T10:15:39.356Z","updated_at":"2022-12-06T02:25:53.525Z","closed_at":"2022-07-25T06:55:58.610Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Audit Events","GraphQL","devops::manage","feature flag","feature::addition","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361925","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361925","notes":"https://gitlab.com/api/v4/projects/278964/issues/361925/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361925/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361925","relative":"#361925","full":"gitlab-org/gitlab#361925"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7975,"epic":{"id":512618,"iid":7975,"title":"UI screens to specify custom HTTP headers for streaming audit events","url":"/groups/gitlab-org/-/epics/7975","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":108272968,"iid":361819,"project_id":278964,"title":"Create a service to marks many packages for destruction","description":"### Context\n\nThis work is part of two epics. https://gitlab.com/groups/gitlab-org/-/epics/5152+ because it is a key step in creating the next iteration of package-cleanup policies, which will allow users to programmatically delete packages. \n\nIt is also a part of https://gitlab.com/groups/gitlab-org/-/epics/8022+ because it's required to update the user interface to allow users to multi-select delete packages from the GitLab application. \n\n### Problem to solve\n\nIn order to bulk delete packages, we need a service that can first mark `n` items for destruction, so they can be deleted later from object storage. \n\nFor example, check out the [service](https://gitlab.com/gitlab-org/gitlab/-/blob/b5e6b56776836f372ea0a3238789a0955cc84bc5/app/services/packages/mark_package_files_for_destruction_service.rb) for package assets.\n\n### Proposal\n\nCreate a service for the bulk deletion of packages to unblock phase 2 of the cleanup policies and bulk deletion from the UI. \n\n#### Batch size\n\n- For assets, we chose 500 as the batch size. Maybe the same would work for packages?","state":"closed","created_at":"2022-05-09T21:24:31.803Z","updated_at":"2022-10-21T12:03:56.345Z","closed_at":"2022-10-17T13:14:48.231Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Package Registry","Deliverable","Package:P1","SUS::Non-impacting","backend","customer","devops::package","feature::enhancement","group::package registry","package:active","rails","section::ops","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361819","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361819","notes":"https://gitlab.com/api/v4/projects/278964/issues/361819/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361819/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361819","relative":"#361819","full":"gitlab-org/gitlab#361819"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8022,"epic":{"id":518276,"iid":8022,"title":"Bulk delete packages and package assets from the UI","url":"/groups/gitlab-org/-/epics/8022","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":108272944,"iid":361818,"project_id":278964,"title":"Follow-up from \"Remove GraphQL type and resolver for Network Policies\"","description":"The following discussion from !86204 should be addressed:\n\n- [x] `@.luke` started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86204#note_940322562): \n\n    \u003e **Suggestion (not blocking)**\n    \u003e \n    \u003e It might be a good idea to tell people now that the field returns no data as of %\"15.0\". Something like:\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e               deprecated: { reason: 'Network policies are deprecated and will be removed in GitLab 16.0. Since GitLab 15.0 this field returns no data', milestone: '14.8' },\n    \u003e ```","state":"closed","created_at":"2022-05-09T21:23:10.438Z","updated_at":"2022-05-23T16:45:23.036Z","closed_at":"2022-05-23T16:45:11.891Z","closed_by":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"labels":["GraphQL","documentation","missed:15.0","type::maintenance","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361818","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361818","notes":"https://gitlab.com/api/v4/projects/278964/issues/361818/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361818/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361818","relative":"#361818","full":"gitlab-org/gitlab#361818"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108272497,"iid":361816,"project_id":278964,"title":"Refactor group path suggestion to Vue","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/356934 we partially fixed an issue with group path suggestions. But part of the issue is that there are two files doing similar things and conflicting with each other. These two files are [app/assets/javascripts/group.js](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/group.js) and [app/assets/javascripts/pages/groups/new/group_path_validator.js](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/pages/groups/new/group_path_validator.js).\n\nWe should refactor these files and related HAML to Vue so we can consolidate the logic and remove some legacy HAML/jQuery.","state":"closed","created_at":"2022-05-09T21:08:30.351Z","updated_at":"2022-07-21T12:02:09.346Z","closed_at":"2022-06-21T15:07:59.225Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","devops::manage","frontend","group::organization","maintenance::refactor","quad-planning::complete-action","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361816","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361816","notes":"https://gitlab.com/api/v4/projects/278964/issues/361816/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361816/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361816","relative":"#361816","full":"gitlab-org/gitlab#361816"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108270161,"iid":361811,"project_id":278964,"title":"Instrumentation for Average number of approvals required","description":"### Problem\nWe would like to know the average number of approvers for protected environments that require a deployment approval so we can understand how the feature is being used.\n\n### Proposal\n\n- [x] **Unified approval setting**:\n  - Create a counter to get the average number of required approvals for protected environments.\n  - Column: `protected_environments.required_approval_count`.\n  - Timeframe should be last 28d.\n- [x] **Multiple approval rules**:\n  - Create a counter to get the average number of required approvals in approval rules for protected environments.\n  - Column: `protected_environment_approval_rules.required_approvals`\n  - Timeframe should be last 28d.","state":"closed","created_at":"2022-05-09T19:59:59.943Z","updated_at":"2022-07-01T09:19:40.364Z","closed_at":"2022-07-01T09:19:40.346Z","closed_by":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"labels":["Category:Environment Management","Next Up","Release::P2","devops::release","group::release","instrumentation","missed:15.1","section::ops","type::maintenance"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"}],"author":{"id":9677998,"username":"cbalane","name":"Chris Balane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9677998/avatar.png","web_url":"https://gitlab.com/cbalane"},"type":"ISSUE","assignee":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361811","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361811","notes":"https://gitlab.com/api/v4/projects/278964/issues/361811/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361811/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361811","relative":"#361811","full":"gitlab-org/gitlab#361811"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108270096,"iid":361810,"project_id":278964,"title":"Instrumentation for Count of environments requiring approval","description":"### Problem\nWe would like to know the number of protected environments that require a deployment approval so we can track user adoption over time.\n\n### Proposal\nCreate 1 new counter for the number of protected environments that require a deployment approval. Timeframe should be last 28d","state":"closed","created_at":"2022-05-09T19:57:50.155Z","updated_at":"2022-07-22T20:16:35.949Z","closed_at":"2022-06-10T13:10:04.039Z","closed_by":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"labels":["Category:Environment Management","Deliverable","Next Up","Release::P1","devops::release","group::release","instrumentation","section::ops","type::maintenance"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"}],"author":{"id":9677998,"username":"cbalane","name":"Chris Balane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9677998/avatar.png","web_url":"https://gitlab.com/cbalane"},"type":"ISSUE","assignee":{"id":9396342,"username":"acook.gitlab","name":"Allen Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9396342/avatar.png","web_url":"https://gitlab.com/acook.gitlab"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361810","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361810","notes":"https://gitlab.com/api/v4/projects/278964/issues/361810/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361810/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361810","relative":"#361810","full":"gitlab-org/gitlab#361810"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108270059,"iid":361809,"project_id":278964,"title":"Instrumentation for Count of Approvals","description":"### Problem\nWe would like to know the count of [deployment approvals] that are executed so we can track user adoption over time.\n\n### Proposal\nCreate 1 new counter for the number of deployment approvals that are executed. Timeframes should be last 28d and all-time.","state":"closed","created_at":"2022-05-09T19:55:36.277Z","updated_at":"2022-06-29T13:16:28.643Z","closed_at":"2022-06-01T11:28:47.554Z","closed_by":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"labels":["Category:Environment Management","Deliverable","Next Up","Release::P1","devops::release","group::release","instrumentation","section::ops","type::maintenance"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"}],"author":{"id":9677998,"username":"cbalane","name":"Chris Balane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9677998/avatar.png","web_url":"https://gitlab.com/cbalane"},"type":"ISSUE","assignee":{"id":11334402,"username":"ahmed.hemdan","name":"Ahmed Hemdan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11334402/avatar.png","web_url":"https://gitlab.com/ahmed.hemdan"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361809","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361809","notes":"https://gitlab.com/api/v4/projects/278964/issues/361809/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361809/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361809","relative":"#361809","full":"gitlab-org/gitlab#361809"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7818,"epic":{"id":486644,"iid":7818,"title":"(Minimal maturity) Deployment Approvals","url":"/groups/gitlab-org/-/epics/7818","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":108265775,"iid":361803,"project_id":278964,"title":"Geo: Remove replication_enabled_by_default? method","description":"The following discussion from !86785 should be addressed:\n\n- [ ] @ayufan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86785#note_938093664):  (+2 comments)\n\n    \u003e @mkozono @dbalexandre Maybe we can completely get rid of this method now?\n\nNote that we will need to adjust the issue templates and specs as part of this.","state":"closed","created_at":"2022-05-09T17:56:20.442Z","updated_at":"2022-05-17T16:20:37.567Z","closed_at":"2022-05-17T16:20:37.550Z","closed_by":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"labels":["Enterprise Edition","GitLab Premium","devops::systems","group::geo","maintenance::refactor","section::enablement","type::maintenance","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361803","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361803","notes":"https://gitlab.com/api/v4/projects/278964/issues/361803/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361803/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361803","relative":"#361803","full":"gitlab-org/gitlab#361803"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108258042,"iid":361796,"project_id":278964,"title":"Code Review GitLab API Gap and Support Analysis","description":"## Problem to Solve\n\nThe Ecosystem group is interested in learning more about gaps in the API and where we might have REST/GraphQL differences. Currently there isn't a good source of documentation for this and an initial manual approach is being looked at to see what an effort to build some better API practices might be.\n\n### Additional details\n\nEcosystem is looking to answer:\n\n1. By Product Category and Product Group, which GitLab Features are supported by REST APIs, GraphQL APIs, and Webhooks? Where are there gaps?\n2. How much development effort was required to build APIs to support a GitLab Feature?                                                        \n3. How much development effort is required to maintain APIs that support each GitLab Feature?                                                 \n4. How much (estimated) effort is required to solve for each of the gaps?   \n\n## Proposal\n\nReview the [instructions](https://docs.google.com/spreadsheets/d/1L89dnPWqp-SJucsPmSiAd6X-tcBHGPhvoCTLPgIF-ZM/edit#gid=654605319) and complete the effort for ~\"group::code review\". If the scope is too large - we could minimally start with the [merge request api](https://docs.gitlab.com/ee/api/merge_requests.html) and extend to others in the future.","state":"closed","created_at":"2022-05-09T16:36:07.521Z","updated_at":"2022-09-12T20:26:56.071Z","closed_at":"2022-09-12T17:41:23.737Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["backend","devops::create","feature::enhancement","group::code review","missed-deliverable","missed:15.1","missed:15.2","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361796","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361796","notes":"https://gitlab.com/api/v4/projects/278964/issues/361796/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361796/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361796","relative":"#361796","full":"gitlab-org/gitlab#361796"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108257055,"iid":361794,"project_id":278964,"title":"Service ping for streaming audit events by type","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nVisibility into the quantity and types of audit events that are sent with streaming audit events will help us to better understand which features users are using. It is currently difficult to understand when events in streaming audit events are truly \"high volume\" or not, which means we err on the side of caution of which events to include in streaming audit events compared to normal audit events.\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nAdd service ping counters for the quantity of each streaming audit event type sent over the reporting period. This is intended to just be a raw count over the time period - we do not want to collect any of the source, target, IP, messages, or any of the sensitive data in the event itself.\n* This can use the event_type/name that already exists in the event, rather than creating new event names. If there is no name, create a default name to catch all events within it.\n\nAs an illustrative example, these results might look like this JSON dictionary:\n```\n{\n   reported_at: \"2022-05-01\",\n   streaming_audit_event_counts: {\n      event_1: 499,\n      event_2: 74,\n      ...\n      event_n: 918\n   }\n}\n```\n\n_Question: What sort of performance impact, if any, would recording this data have?_\n_Question: What is the best format to send these events back in so that they can easily be interfaced with in Snowflake along our other service ping data? Consider talking to the Product Intelligence team._\n\n## Implementation plan\n\n* Implement a [Redis instrumentation class](https://docs.gitlab.com/ee/development/service_ping/implement.html#redis-counters) to count the number of audit events generated for each type.\n* Inside the `AuditEventStreamingWorker` class, increment this counter each time a new audit event is streamed.\n\n### Intended users\n\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-05-09T16:14:03.246Z","updated_at":"2022-12-19T20:06:34.032Z","closed_at":"2022-11-28T05:51:57.447Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["GitLab Ultimate","devops::govern","direction","documentation","group::compliance","missed:15.6","priority::3","section::sec","type::feature","workflow::in review"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361794","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361794","notes":"https://gitlab.com/api/v4/projects/278964/issues/361794/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361794/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361794","relative":"#361794","full":"gitlab-org/gitlab#361794"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7058,"epic":{"id":379960,"iid":7058,"title":"MVC: Streamed audit event filtering with API","url":"/groups/gitlab-org/-/epics/7058","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":108241643,"iid":361773,"project_id":278964,"title":"Cleanup «New issue»","description":"Cleanup spacings, unbox actions.\n\n| Before | After |\n| ------ | ------ |\n| ![image](/uploads/f30a4f869290edd24df1ecbb826df5d1/image.png) | ![image](/uploads/35f74146a26cd9c9b947b4e017f7c824/image.png) |","state":"closed","created_at":"2022-05-09T12:35:47.038Z","updated_at":"2022-09-02T18:51:11.022Z","closed_at":"2022-05-30T18:08:35.395Z","closed_by":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"labels":["SUS::Impacting","UI polish","devops::manage","feature::enhancement","frontend","group::compliance","section::dev","severity::4","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"}],"author":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"type":"ISSUE","assignee":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361773","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361773","notes":"https://gitlab.com/api/v4/projects/278964/issues/361773/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361773/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361773","relative":"#361773","full":"gitlab-org/gitlab#361773"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108238409,"iid":361768,"project_id":278964,"title":"Add scan.analyzer support to gemnasium","description":"### Proposal\n\nNow that the [report](https://gitlab.com/gitlab-org/security-products/analyzers/report) package has been updated to https://gitlab.com/gitlab-org/security-products/analyzers/report/-/merge_requests/28+, we need to update gemnasium to use this version of the `report` package and populate the `scan.analyzer` object with valid details.\n\n### Implementation plan\n\n- [x] bump `gemnasium` to use `report` `v3.11.0` - https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/go.mod#L15\n- [x] update gemnasium `convert` package to add `Analyzer` attribute to `Config` https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/master/convert/convert.go#L20\n- [x] update the metadata of each analyzer\n  - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/metadata/metadata.go\n  - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/cmd/gemnasium-maven/metadata/metadata.go\n  - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/cmd/gemnasium-python/metadata/metadata.go\n- [x] release new version of Gemnasium\n\n/cc @fcatteau @gonzoyumo @sam.white","state":"closed","created_at":"2022-05-09T11:39:29.450Z","updated_at":"2022-09-02T09:19:22.998Z","closed_at":"2022-08-02T15:27:28.207Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:Dependency Scanning","Category:Vulnerability Management","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","maintenance::usability","quad-planning::complete-no-action","section::sec","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361768","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361768","notes":"https://gitlab.com/api/v4/projects/278964/issues/361768/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361768/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361768","relative":"#361768","full":"gitlab-org/gitlab#361768"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8409,"epic":{"id":569293,"iid":8409,"title":"Dependency Scanning uses Security Report Schema 15-0-0","url":"/groups/gitlab-org/-/epics/8409","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":108236470,"iid":361764,"project_id":278964,"title":"Subgroup projects do not trigger streaming-only audit events","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n* Audit event streamed-only events do not trigger for projects in subgroups.\n\n### Steps to reproduce\n\n* In an ultimate root-group:\n* Create a subgroup, and a project within it.\n* Create an audit event streaming destination.\n* Perform a git operation either in the UI or via the git CLI.\n\n### Example Project\n\nhttps://gitlab.com/mwoolf-verification-group/test-subgroup-12345/fsdfdsfs\n\n### What is the current *bug* behavior?\n\n* When a git operation is performed on a project in a subgroup, no streaming audit event is triggered.\n\n### What is the expected *correct* behavior?\n\n* All projects, regardless of position in the project/group hierarchy should trigger streaming events.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n* ee/app/controllers/ee/repositories/git_http_controller.rb:114\n* ee/lib/ee/api/internal/base.rb:29\n\nBoth of these refer to `@project.group` and not `@project.root_ancestor` as they should.","state":"closed","created_at":"2022-05-09T11:01:32.843Z","updated_at":"2022-05-09T11:12:48.263Z","closed_at":"2022-05-09T11:12:48.250Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["backend","devops::manage","group::compliance","priority::1","severity::1","type::bug","workflow::in dev"],"milestone":null,"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361764","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361764","notes":"https://gitlab.com/api/v4/projects/278964/issues/361764/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361764/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361764","relative":"#361764","full":"gitlab-org/gitlab#361764"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108227656,"iid":361753,"project_id":278964,"title":"[Feature flag] Rollout of `mr_default_description_from_repo`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [Default.md MR template precedence](https://gitlab.com/gitlab-org/gitlab/-/issues/353548) on production,\nthat is currently behind the `mr_default_description_from_repo` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: Code Review\n- Most appropriate slack channel to reach out to: `#g_code_review`\n- Best individual to reach out to: Marc Shaw\n- PM: Kai Armstrong\n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### When is the feature viable?\n\n\u003c!-- What are the settings we need to configure in order to have this feature viable? --\u003e\n\n\u003c!-- \nExample below:\n \n1. Enable service ping collection\n   `ApplicationSetting.first.update(usage_ping_enabled: true)`\n--\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n_Consider mentioning checks for 5xx errors or other anomalies like an increase in redirects \n(302 HTTP response status)_\n\n### What can we check for monitoring production after rollouts?\n\n_Consider adding links to check for Sentry errors, Production logs for 5xx, 302s, etc._\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n      The best environment to validate the feature in is [staging-canary](https://about.gitlab.com/handbook/engineering/infrastructure/environments/#staging-canary)\n      as this is the first environment deployed to. Note you will need to make sure you are configured to use canary as outlined [here](https://about.gitlab.com/handbook/engineering/infrastructure/environments/canary-stage/)\n      when accessing the staging environment in order to make sure you are testing appropriately.\n\n### Specific rollout on production\n\n- Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- If you're using [project-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [x] `/chatops run feature set --project=gitlab-org/gitlab \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --project=gitlab-com/www-gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [group-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --group=gitlab-org \u003cfeature-flag-name\u003e true`\n    - [ ] `/chatops run feature set --group=gitlab-com \u003cfeature-flag-name\u003e true`\n- If you're using [user-actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), you must enable the feature on these entries:\n    - [ ] `/chatops run feature set --user=\u003cyour-username\u003e \u003cfeature-flag-name\u003e true`\n- [ ] Verify that the feature works on the specific entries. Posting the QA result in this issue is preferable.\n\n### Preparation before global rollout\n\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com. \n- [ ] Ensure that any breaking changes have been announced following the [release post process](https://about.gitlab.com/handbook/marketing/blog/release-posts/#deprecations-removals-and-breaking-changes) to ensure GitLab customers are aware.\n- [ ] Notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on production\n\nFor visibility, all `/chatops` commands that target production should be executed in the `#production` slack channel and cross-posted (with the command results) to the responsible team's slack channel (`#g_TEAM_NAME`).\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --random`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can [create a separate issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\nYou can either [create a follow-up issue for Feature Flag Cleanup](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Feature%20Flag%20Cleanup) or use the checklist below in this same issue.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been included in the release package.\n      If the merge request was deployed before [the monthly release was tagged](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run release check \u003cmerge-request-url\u003e \u003cmilestone\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set mr_default_description_from_repo false\n```","state":"closed","created_at":"2022-05-09T08:40:03.348Z","updated_at":"2022-06-24T12:42:15.357Z","closed_at":"2022-06-15T06:51:27.492Z","closed_by":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"labels":["Deliverable","Technical Writing","automation:ml","backend","devops::create","documentation","feature::enhancement","group::code review","section::dev","type::feature"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"}],"author":{"id":4402493,"username":"davebarr","name":"David Barr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4402493/avatar.png","web_url":"https://gitlab.com/davebarr"},"type":"ISSUE","assignee":{"id":5918904,"username":"marc_shaw","name":"Marc Shaw","state":"active","avatar_url":"https://secure.gravatar.com/avatar/78c946cb19e40815a2b5d97cefecec6a?s=80\u0026d=identicon","web_url":"https://gitlab.com/marc_shaw"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361753","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361753","notes":"https://gitlab.com/api/v4/projects/278964/issues/361753/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361753/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361753","relative":"#361753","full":"gitlab-org/gitlab#361753"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108225382,"iid":361751,"project_id":278964,"title":"Remove jira_upgrade_cta.vue and upgradePlanPath prop","description":"The following discussion from !86897 should be addressed:\n\n- [x] @justin_ho started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86897#note_939253557): \n\n    \u003e This component along with the `upgradePlanPath` is no longer used. I will remove them in a follow-up to avoid bloating this MR too much.","state":"closed","created_at":"2022-05-09T08:04:02.860Z","updated_at":"2022-11-22T18:42:16.601Z","closed_at":"2022-05-25T07:32:27.500Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Category:Integrations","Deliverable","devops::manage","frontend","group::integrations","section::dev","type::maintenance"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361751","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361751","notes":"https://gitlab.com/api/v4/projects/278964/issues/361751/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361751/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361751","relative":"#361751","full":"gitlab-org/gitlab#361751"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108221712,"iid":361747,"project_id":278964,"title":"Add ability to link to a line on File Blame page","description":"In https://gitlab.com/gitlab-org/gitlab/-/merge_requests/85827 we added paging to the File Blame page, but when a user want to link to a line that is not on `page 1` they would have to pass a page number with the line number (e.g. `CHANGELOG.md?page=2#L1100`).\n\nIt would be more intuitive if a user only needs to pass the line number to link to a line.\n\nThis issue proposes adding the ability to link to a line without having to pass a page number.\n\n| current | proposal |\n| ------ | ------ |\n| needs the context of what page the line is on | no need to pass a page number to link to a line |\n| `https://gitlab.com/gitlab-org/gitlab/-/blame/master/CHANGELOG.md?page=2#L1100` | `https://gitlab.com/gitlab-org/gitlab/-/blame/master/CHANGELOG.md#L1100` |\n\nUpdate: \nDue to limitations(not being able to access hash on the server which means we know the line number only on the client) we ended up with the following solution:\nto be able to send user to a correct blame page \n1. When user clicks on Blame button on the top of the page we calculate correct page to send him to\n2. When user just pastes a url with line at the end we check if the page parameter should be added and perform an actual redirect if needed.","state":"closed","created_at":"2022-05-09T07:18:13.068Z","updated_at":"2022-12-21T15:25:40.056Z","closed_at":"2022-10-27T16:29:03.986Z","closed_by":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"labels":["Category:Source Code Management","Deliverable","devops::create","feature::enhancement","frontend","group::source code","missed-deliverable","missed:15.5","section::dev","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":11703928,"username":"nradina","name":"Nataliia Radina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11703928/avatar.png","web_url":"https://gitlab.com/nradina"},"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361747","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361747","notes":"https://gitlab.com/api/v4/projects/278964/issues/361747/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361747/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361747","relative":"#361747","full":"gitlab-org/gitlab#361747"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108220927,"iid":361746,"project_id":278964,"title":"VSA Endpoints for lead/cycle time as time series data","description":"## Background\n\nAs part of https://gitlab.com/gitlab-org/gitlab/-/issues/322135, we would like to separately display time series line charts to depict _lead time_ and _cycle time_. We will require additional ~backend endpoints to retrieve this data, the endpoints should accept the same filters that are currently available for the rest of the VSA data.","state":"closed","created_at":"2022-05-09T07:03:30.733Z","updated_at":"2022-07-21T12:02:19.098Z","closed_at":"2022-07-05T10:42:09.364Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Value Stream Management","Deliverable","backend","devops::manage","group::optimize","priority::3","section::dev","type::feature","workflow::production"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361746","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361746","notes":"https://gitlab.com/api/v4/projects/278964/issues/361746/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361746/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361746","relative":"#361746","full":"gitlab-org/gitlab#361746"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108209906,"iid":361734,"project_id":278964,"title":"Follow-up from \"Add slack_app_signing_secret to ApplicationSettings\": Improve form labels for Slack application settings","description":"The following discussion from !86623 should be addressed:\n\n- [ ] @tomquirk started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86623#note_937281277):  (+1 comment)\n\n    \u003e **suggestion**: could we mark this label for translation?\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e           = f.label :slack_app_signing_secret, s_('SlackIntegration|Signing Secret'), class: 'label-bold'\n    \u003e ```\n    \u003e \n    \u003e I notice the other existing labels here aren't marked. Could add these in a follow-up but up to you :slight_smile:","state":"closed","created_at":"2022-05-08T22:47:30.306Z","updated_at":"2022-11-22T18:42:20.931Z","closed_at":"2022-05-23T00:37:28.739Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["devops::manage","feature::enhancement","frontend","group::integrations","section::dev","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361734","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361734","notes":"https://gitlab.com/api/v4/projects/278964/issues/361734/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361734/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361734","relative":"#361734","full":"gitlab-org/gitlab#361734"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108208753,"iid":361732,"project_id":278964,"title":"Mass-update other SlackIntegration records with bot token when Slack re-installed","description":"### About\n\nThis issue came out of this discussion https://gitlab.com/groups/gitlab-org/-/epics/7729#note_936450511. \n\nDue to the current modelling of the Slack integration, when they re-install their Slack app (https://gitlab.com/gitlab-org/gitlab/-/issues/360681) they will need to take that action for _each project_ that has the \"GitLab Slack Application\" integration. \n\nInstead, we could mass-update any other `SlackIntegration` records that share a `team_id` and insert the new `bot_access_token` into these records on their behalf. See https://gitlab.com/groups/gitlab-org/-/epics/7729#note_936450511 for untested concept code (note, that the integration we would scope for would be `Integrations::GitlabSlackApplication` and not `Integrations::Slack` in the comment).","state":"closed","created_at":"2022-05-08T21:18:46.176Z","updated_at":"2022-11-22T18:42:21.630Z","closed_at":"2022-09-13T22:59:33.254Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Deliverable","backend","devops::manage","feature::enhancement","group::integrations","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361732","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361732","notes":"https://gitlab.com/api/v4/projects/278964/issues/361732/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361732/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361732","relative":"#361732","full":"gitlab-org/gitlab#361732"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7729,"epic":{"id":469302,"iid":7729,"title":"Migrate Slack App from Classic App to Granular Bot Permissions App","url":"/groups/gitlab-org/-/epics/7729","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108166178,"iid":361711,"project_id":278964,"title":"\"Datadog site is invalid\" on valid url","description":"### Summary\n\nDatadog integration errors on government datadog site.\n\n### Steps to reproduce\n\nType `ddog-gov.com` into the datadog integration url.\n\nIt will also fail with:\n - `app.ddog-gov.com`\n - `https://app.ddog-gov.com`\n\n### What is the current *bug* behavior?\n\n![image](/uploads/63c5bbe4e996329988a1e20673b9f83e/image.png)\n\n### What is the expected *correct* behavior?\n\nIt should not error.\n\n#### Results of GitLab environment info\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\nSystem information\nSystem:         Ubuntu 20.04\nProxy:          no\nCurrent User:   git\nUsing RVM:      no\nRuby Version:   2.7.5p203\nGem Version:    3.1.4\nBundler Version:2.2.33\nRake Version:   13.0.6\nRedis Version:  6.2.6\nSidekiq Version:6.4.0\nGo Version:     unknown\n\nGitLab information\nVersion:        14.10.2-ee\nRevision:       459b3357007\nDirectory:      /opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:     PostgreSQL\nDB Version:     12.7\nURL:            https://gitlab.cog.space\nHTTP Clone URL: https://gitlab.cog.space/some-group/some-project.git\nSSH Clone URL:  git@gitlab.cog.space:some-group/some-project.git\nElasticsearch:  no\nGeo:            no\nUsing LDAP:     no\nUsing Omniauth: yes\nOmniauth Providers: azure_oauth2\n\nGitLab Shell\nVersion:        13.25.1\nRepository storage paths:\n- default:      /var/opt/gitlab/git-data/repositories\nGitLab Shell path:              /opt/gitlab/embedded/service/gitlab-shell\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.25.1 ? ... OK (13.25.1)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes (cluster/worker) ... 1/1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nSystemd unit files or init script exist? ... skipped (omnibus-gitlab has neither init script nor systemd units)\nSystemd unit files or init script up-to-date? ... skipped (omnibus-gitlab has neither init script nor systemd units)\nProjects have namespace: ...\n4/1 ... yes\n4/2 ... yes\n4/3 ... yes\n4/4 ... yes\n3/5 ... yes\n4/6 ... yes\n4/7 ... yes\n4/8 ... yes\n4/9 ... yes\n4/10 ... yes\n4/12 ... yes\n4/13 ... yes\n4/14 ... yes\n4/16 ... yes\n4/17 ... yes\n4/18 ... yes\n4/19 ... yes\n18/20 ... yes\n4/21 ... yes\n6/23 ... yes\nRedis version \u003e= 5.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.5)\nGit user has default SSH configuration? ... yes\nActive users: ... 25\nIs authorized keys file accessible? ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\nElasticsearch version 7.x (6.4 - 6.x deprecated to be removed in 13.8)? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n[The validation](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/integrations/datadog.rb#L24) (shown below) does not allow hyphens, but the [government datadog url contains a hyphen](https://docs.datadoghq.com/getting_started/site/).\n```\nvalidates :datadog_site, format: { with: /\\A[\\w\\.]+\\z/, allow_blank: true }\n```","state":"closed","created_at":"2022-05-06T21:05:23.866Z","updated_at":"2022-11-22T18:42:26.416Z","closed_at":"2022-10-20T10:06:00.227Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Category:Integrations","Community contribution","Integration::Datadog","backend","bug::functional","devops::manage","group::integrations","section::dev","severity::4","type::bug","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":6115756,"username":"joseph","name":"Joseph Wambua","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97a2e7dc3273d27e993f35de226a0ed6?s=80\u0026d=identicon","web_url":"https://gitlab.com/joseph"}],"author":{"id":1707396,"username":"miketwo1","name":"Michael Ricks-Aherne (MikeTwo)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/816a9afef42e248dee435dc4798e0179?s=80\u0026d=identicon","web_url":"https://gitlab.com/miketwo1"},"type":"ISSUE","assignee":{"id":6115756,"username":"joseph","name":"Joseph Wambua","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97a2e7dc3273d27e993f35de226a0ed6?s=80\u0026d=identicon","web_url":"https://gitlab.com/joseph"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361711","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361711","notes":"https://gitlab.com/api/v4/projects/278964/issues/361711/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361711/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361711","relative":"#361711","full":"gitlab-org/gitlab#361711"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108162118,"iid":361705,"project_id":278964,"title":"Add jtbd, website_url, comment, role to Platypus::LogLeadService::LOGGABLE_ATTRIBUTES","description":"During testing we noticed that the lead record created didn't persist all of the relevant information.\n\nPlease add the relevant attributes to the `LOGGABLE_ATTRIBUTES`","state":"closed","created_at":"2022-05-06T18:28:16.303Z","updated_at":"2022-05-31T15:13:59.560Z","closed_at":"2022-05-31T15:13:59.539Z","closed_by":{"id":4303974,"username":"jejacks0n1","name":"Jeremy Jackson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303974/avatar.png","web_url":"https://gitlab.com/jejacks0n1"},"labels":["auto updated","devops::growth","free user priority","group::adoption DEPRECATED","missed:15.0","section::growth","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4303974,"username":"jejacks0n1","name":"Jeremy Jackson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303974/avatar.png","web_url":"https://gitlab.com/jejacks0n1"}],"author":{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},"type":"ISSUE","assignee":{"id":4303974,"username":"jejacks0n1","name":"Jeremy Jackson","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303974/avatar.png","web_url":"https://gitlab.com/jejacks0n1"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361705","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361705","notes":"https://gitlab.com/api/v4/projects/278964/issues/361705/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361705/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361705","relative":"#361705","full":"gitlab-org/gitlab#361705"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108161457,"iid":361702,"project_id":278964,"title":"API for Group-level Protected Environment settings","description":"\u003c!-- This issue template can be used as a great starting point for feature requests. The section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab.\n\nThe goal of this template is brevity for quick/smaller iterations. For a more thorough list of considerations for larger features or feature sets, you can leverage the detailed [feature proposal](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md). --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve\n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nTypically, large enterprise organizations have an explicit permission boundary between [developers and operators](https://about.gitlab.com/topics/devops/). Developers build and test their code/application, and operators deploy and monitor the application. The permission of each group is carefully configured in order to avoid unauthorised users gain an access to a critical component.\n\n### Further details\n\nThis follows the configuration introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/215888\n\n### Proposal\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n#### Implementation plan\n\n~backend \n- [ ] Add Protected Environment instance variables to `Groups::Settings::CiCdController` (similar to https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/controllers/ee/projects/settings/ci_cd_controller.rb#L27)\n- [ ] Create `Groups::ProtectedEnvironmentsController` (similar to https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/controllers/projects/protected_environments_controller.rb)\n- [ ] Return environments protected by upstream groups (for project-level view)\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n- Usage of the API to configure settings\n\n\u003c!-- Label reminders\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-05-06T18:02:41.776Z","updated_at":"2022-05-13T03:00:39.128Z","closed_at":"2022-05-13T03:00:39.114Z","closed_by":{"id":9677998,"username":"cbalane","name":"Chris Balane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9677998/avatar.png","web_url":"https://gitlab.com/cbalane"},"labels":["Category:Environment Management","Category:Release Orchestration","GitLab Free","GitLab Premium","GitLab Ultimate","Next Up","[deprecated] Accepting merge requests","backend","devops::release","direction","documentation","group::release","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[],"author":{"id":9677998,"username":"cbalane","name":"Chris Balane","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9677998/avatar.png","web_url":"https://gitlab.com/cbalane"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361702","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361702","notes":"https://gitlab.com/api/v4/projects/278964/issues/361702/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361702/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361702","relative":"#361702","full":"gitlab-org/gitlab#361702"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108158657,"iid":361692,"project_id":278964,"title":"Validate not null constraint of requirements.issue_id","description":"On https://gitlab.com/gitlab-org/gitlab/-/issues/348188 we added a not-null constraint to\n`requirements.issue_id` column with `validate: false` following https://docs.gitlab.com/ee/development/database/not_null_constraints.html#add-a-not-null-constraint-to-an-existing-column  \n\nThe next step is to validate the constraint with a migration.","state":"closed","created_at":"2022-05-06T17:12:14.855Z","updated_at":"2022-07-25T18:10:57.697Z","closed_at":"2022-07-25T18:10:57.669Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Next Up","Stretch","auto updated","backend","devops::plan","group::product planning","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361692","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361692","notes":"https://gitlab.com/api/v4/projects/278964/issues/361692/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361692/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361692","relative":"#361692","full":"gitlab-org/gitlab#361692"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108158146,"iid":361688,"project_id":278964,"title":"[Group Activity Analytics] /analytics/group_activity/issues_count API exceeds target duration","description":"In Kibana over the past 7 days, `GET /api/:version/analytics/group_activity/issues_count` has exceeded the target duration of 5 second hundreds times.\n\nWe need to improve this to respond in less than 5 seconds.\n\n[Filtered Kibana logs](https://log.gprd.gitlab.net/goto/d12684a0-e00a-11ec-8741-ad075583b944)","state":"closed","created_at":"2022-05-06T16:56:19.313Z","updated_at":"2022-06-21T12:02:47.942Z","closed_at":"2022-06-21T09:37:21.942Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Deliverable","Error Budget Improvement","auto updated","backend","devops::manage","group::optimize","priority::3","section::dev","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361688","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361688","notes":"https://gitlab.com/api/v4/projects/278964/issues/361688/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361688/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361688","relative":"#361688","full":"gitlab-org/gitlab#361688"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8013,"epic":{"id":516368,"iid":8013,"title":"Optimize Apdex Improvements","url":"/groups/gitlab-org/-/epics/8013","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108158138,"iid":361687,"project_id":278964,"title":"[Group Activity Analytics] /analytics/group_activity/merge_requests_count API exceeds target duration","description":"In Kibana over the past 7 days, `GET /api/:version/analytics/group_activity/merge_requests_count` has exceeded the target duration of 5 second hundreds times.\n\nWe need to improve this to respond in less than 5 seconds.\n\n[Kibana logs link](https://log.gprd.gitlab.net/goto/a643a350-e00d-11ec-8741-ad075583b944)","state":"closed","created_at":"2022-05-06T16:56:09.874Z","updated_at":"2022-06-21T12:02:48.000Z","closed_at":"2022-06-21T09:37:12.304Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Deliverable","Error Budget Improvement","auto updated","backend","devops::manage","group::optimize","priority::3","section::dev","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":4554599,"username":"m_gill","name":"Michelle Gill","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554599/avatar.png","web_url":"https://gitlab.com/m_gill"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361687","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361687","notes":"https://gitlab.com/api/v4/projects/278964/issues/361687/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361687/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361687","relative":"#361687","full":"gitlab-org/gitlab#361687"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8013,"epic":{"id":516368,"iid":8013,"title":"Optimize Apdex Improvements","url":"/groups/gitlab-org/-/epics/8013","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108157378,"iid":361684,"project_id":278964,"title":"`Changes to free tier public projects` alert is shown to all users","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe `Changes to free tier public projects` alert is shown to users that are not a member of the group or project. It probably makes sense to only show this banner to users that can admin the the group or project. \n\n### Steps to reproduce\n\nVisit a group or project you are not a member of on GitLab.com. https://gitlab.com/inkscape/inkscape\n\n### Example Project\n\nhttps://gitlab.com/inkscape/inkscape\n\n### What is the current *bug* behavior?\n\n`Changes to free tier public projects` alert is shown to users that are not a member of the group or project.\n\n### What is the expected *correct* behavior?\n\n`Changes to free tier public projects` should only be shown to users that can admin the group or project.\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2022-05-06_at_9.28.41_AM](/uploads/aa0db46ba406ee94715f0618f1d9ba7d/Screen_Shot_2022-05-06_at_9.28.41_AM.png)\n\n### Possible fixes\n\nAdd permissions check to [ee/app/helpers/ee/namespaces_helper.rb#L64](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/helpers/ee/namespaces_helper.rb#L64)","state":"closed","created_at":"2022-05-06T16:33:55.798Z","updated_at":"2022-07-21T12:02:09.399Z","closed_at":"2022-07-05T14:58:12.660Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Deliverable","backend","devops::manage","group::organization","section::dev","severity::4","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361684","notes":"https://gitlab.com/api/v4/projects/278964/issues/361684/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361684/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361684","relative":"#361684","full":"gitlab-org/gitlab#361684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108154866,"iid":361669,"project_id":278964,"title":"Add form for creating scanner and site profiles to a drawer","description":"According to [new design](https://www.figma.com/file/o6NoqgLnxv0KnK2y9Qum51/DAST-Configuration-UI?node-id=1162%3A80372) side drawer must contain a form adding new scanner|site profile.\n\n`ee/app/assets/javascripts/security_configuration/dast_profiles/dast_scanner_profiles/components/dast_scanner_profile_form.vue`\n`ee/app/assets/javascripts/security_configuration/dast_profiles/dast_site_profiles/components/dast_site_profile_form.vue`\n\ncan be reused for creating new profiles in the drawer.\n\n- [x] Update css of existing forms so it can be stacked in narrow containers\n- [x] Put forms in drawer, display forms only when new scanner mode is active\n- [x] Adjust callbacks for successful profile creation and failure.\n- [x] Add test coverage for new use cases\n\nBefore raising an issue to the GitLab issue tracker, please read through our guide for finding help to determine the best place to post:\n\n* https://about.gitlab.com/getting-help/\n\nIf you are experiencing an issue when using GitLab.com, your first port of call should be the Community Forum. Your issue may have already been reported there by another user. Please check:\n\n* https://forum.gitlab.com/\n\nIf you feel that your issue can be categorized as a reproducible bug or a feature proposal, please use one of the issue templates provided and include as much information as possible.\n\nThank you for helping to make GitLab a better product.","state":"closed","created_at":"2022-05-06T15:38:14.598Z","updated_at":"2022-05-16T03:23:21.743Z","closed_at":"2022-05-12T20:53:11.575Z","closed_by":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"labels":["Category:DAST","devops::secure","feature flag","frontend","group::dynamic analysis","section::sec","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"}],"author":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"type":"ISSUE","assignee":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361669","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361669","notes":"https://gitlab.com/api/v4/projects/278964/issues/361669/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361669/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361669","relative":"#361669","full":"gitlab-org/gitlab#361669"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7631,"epic":{"id":451408,"iid":7631,"title":"On-demand DAST configuration improvements","url":"/groups/gitlab-org/-/epics/7631","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108141132,"iid":361633,"project_id":278964,"title":"Integrate custom headers deletion GraphQL into custom headers form for streaming audit events","description":"## Overview\n\nCurrently, when streaming audit events, GitLab adds a single HTTP header to aid in verification but group owners cannot specify their own HTTP headers.\n\nCertain ingestion services require certain header values for authentication or other purposes.\n\n## Proposal\n\nUpdate the streaming audit events form to delete the custom headers via the GraphQL API\n\n## Designs\n| List | List (before updating is available) | Add stream | Edit stream |\n| ---- | ----------------------------------- | ---------- | ----------- |\n| ![image](https://gitlab.com/groups/gitlab-org/-/uploads/bdaeea23d15914af8087397514ac5df5/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab/uploads/9d17bd76cedad0981eae5dca25941e31/image.png) | ![image](https://gitlab.com/groups/gitlab-org/-/uploads/203f42e42cceeda27911744adedd413a/image.png) | ![image](https://gitlab.com/groups/gitlab-org/-/uploads/7bc79fdcf3319d2b368b82d72078f79b/image.png) |\n\n## Implementation plan\n\n~frontend - :two:\n\n**Behind the** `:custom_headers_streaming_audit_events_ui` ~\"feature flag\"\n\n1. Update the streaming audit events form to delete the headers on saving the form\n1. Add specs for the new deletion logic","state":"closed","created_at":"2022-05-06T11:10:57.793Z","updated_at":"2022-12-06T02:25:53.572Z","closed_at":"2022-07-25T06:55:53.994Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Audit Events","GraphQL","devops::manage","feature flag","feature::addition","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361633","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361633","notes":"https://gitlab.com/api/v4/projects/278964/issues/361633/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361633/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361633","relative":"#361633","full":"gitlab-org/gitlab#361633"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7975,"epic":{"id":512618,"iid":7975,"title":"UI screens to specify custom HTTP headers for streaming audit events","url":"/groups/gitlab-org/-/epics/7975","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":108141121,"iid":361632,"project_id":278964,"title":"Integrate custom headers list GraphQL into custom headers form for streaming audit events","description":"## Overview\n\nCurrently, when streaming audit events, GitLab adds a single HTTP header to aid in verification but group owners cannot specify their own HTTP headers.\n\nCertain ingestion services require certain header values for authentication or other purposes.\n\n## Proposal\n\nUpdate the streaming audit events form to list all the custom headers returned by the GraphQL endpoint\n\n## Designs\n| List | List (before updating is available) |\n| ---- | ----------------------------------- |\n| ![image](https://gitlab.com/groups/gitlab-org/-/uploads/bdaeea23d15914af8087397514ac5df5/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab/uploads/9d17bd76cedad0981eae5dca25941e31/image.png) |\n\n## Implementation plan\n\n~frontend - :two:\n\n**Behind the** `:custom_headers_streaming_audit_events_ui` ~\"feature flag\"\n\n1. Update the streaming audit events form to list the custom headers returned by the GraphQL endpoint\n1. While the update API is unavailable, the headers should be shown as **read-only** inputs\n1. Add specs for the new list logic","state":"closed","created_at":"2022-05-06T11:10:31.270Z","updated_at":"2022-12-06T02:25:53.625Z","closed_at":"2022-07-20T07:21:45.967Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Audit Events","GraphQL","devops::manage","feature flag","feature::addition","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361632","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361632","notes":"https://gitlab.com/api/v4/projects/278964/issues/361632/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361632/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361632","relative":"#361632","full":"gitlab-org/gitlab#361632"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7975,"epic":{"id":512618,"iid":7975,"title":"UI screens to specify custom HTTP headers for streaming audit events","url":"/groups/gitlab-org/-/epics/7975","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":108141016,"iid":361631,"project_id":278964,"title":"Integrate custom headers creation GraphQL into custom headers form for streaming audit events","description":"## Overview\n\nCurrently, when streaming audit events, GitLab adds a single HTTP header to aid in verification but group owners cannot specify their own HTTP headers.\n\nCertain ingestion services require certain header values for authentication or other purposes.\n\n## Proposal\n\nUpdate the streaming audit events form to save new headers via the GraphQL API\n\n## Designs\n| Add stream | Edit stream |\n| ---------- | ----------- |\n| ![image](https://gitlab.com/groups/gitlab-org/-/uploads/203f42e42cceeda27911744adedd413a/image.png) | ![image](https://gitlab.com/groups/gitlab-org/-/uploads/7bc79fdcf3319d2b368b82d72078f79b/image.png) |\n\n## Implementation plan\n\n~frontend - :two:\n\n**Behind the** `:custom_headers_streaming_audit_events_ui` ~\"feature flag\"\n\n1. Update the streaming audit events form to create the headers on saving of the form\n1. Add specs for the new mutation logic","state":"closed","created_at":"2022-05-06T11:08:05.223Z","updated_at":"2022-07-14T10:02:05.059Z","closed_at":"2022-07-14T10:02:05.038Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Audit Events","GraphQL","devops::manage","feature flag","feature::addition","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361631","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361631","notes":"https://gitlab.com/api/v4/projects/278964/issues/361631/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361631/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361631","relative":"#361631","full":"gitlab-org/gitlab#361631"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7975,"epic":{"id":512618,"iid":7975,"title":"UI screens to specify custom HTTP headers for streaming audit events","url":"/groups/gitlab-org/-/epics/7975","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108140989,"iid":361630,"project_id":278964,"title":"Add custom headers form to streaming audit events","description":"## Overview\n\nCurrently, when streaming audit events, GitLab adds a single HTTP header to aid in verification but group owners cannot specify their own HTTP headers.\n\nCertain ingestion services require certain header values for authentication or other purposes.\n\n## Proposal\n\nAdd a form to the streaming audit events app to allow users to add **up to 20** custom headers.\n\n## Designs\n\n| List | List (before updating is available) | Max header limit reached | Add stream | Edit stream |\n| ---- | ----------------------------------- | ------------------------ | ---------- | ----------- |\n| ![image](https://gitlab.com/groups/gitlab-org/-/uploads/bdaeea23d15914af8087397514ac5df5/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab/uploads/9d17bd76cedad0981eae5dca25941e31/image.png) | ![image](https://gitlab.com/gitlab-org/gitlab/uploads/06217beeda2a4df40bf86fdcb668ef15/image.png) | ![image](https://gitlab.com/groups/gitlab-org/-/uploads/7bc79fdcf3319d2b368b82d72078f79b/image.png) |  ![image](https://gitlab.com/groups/gitlab-org/-/uploads/7bc79fdcf3319d2b368b82d72078f79b/image.png) |\n\n## Implementation plan\n\n~frontend - :three:\n\n1. Add the `:custom_headers_streaming_audit_events_ui` ~\"feature flag\" \n2. Create the designed form with the ability to add and remove rows\n    * Limit to **20** rows and show message when reached\n    * Automatically show a new blank row when the previous row gets filled in with a `header` and `value`\n    * Inputs should be **read-only** when they contain values on the initial setup\n    * Make the `active` checkbox **disabled** for now\n3. Add ~documentation explaining how to use the new UI and the row limit\n4. Add specs for the new UI","state":"closed","created_at":"2022-05-06T11:07:29.654Z","updated_at":"2022-07-04T14:16:37.444Z","closed_at":"2022-07-04T14:16:37.421Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Audit Events","GraphQL","customer","devops::manage","documentation","feature flag","feature::addition","frontend","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361630","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361630","notes":"https://gitlab.com/api/v4/projects/278964/issues/361630/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361630/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361630","relative":"#361630","full":"gitlab-org/gitlab#361630"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7975,"epic":{"id":512618,"iid":7975,"title":"UI screens to specify custom HTTP headers for streaming audit events","url":"/groups/gitlab-org/-/epics/7975","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108140292,"iid":361628,"project_id":278964,"title":"Increase navbar height slightly","description":"### Why do I propose this change?\n\nThe `navbar` currently feels a bit too dense. Increasing the height by just `8px` (.5rem) would lead to the following improvements:\n\na) a more modern look \u0026 feel\\\nb) improves the visibility of e.g. `:focus` styles\n\n| Before | After |\n| ------ | ------ |\n| ![navbar_before](/uploads/d9107bf58764deedf398339d914c7b82/navbar_before.png) | ![navbar_after](/uploads/adc826146659cecceb8ce91a5ef63d49/navbar_after.png) |\n| ![focus_before](/uploads/6ed20da9b5ec6402ef07c6272fc627fa/focus_before.png) | ![focus_after](/uploads/cf8316a2b8709b9a35f0c89bf14489aa/focus_after.png) |\n\n### Changes\nChange `--header-height: 48px;`","state":"closed","created_at":"2022-05-06T10:52:06.353Z","updated_at":"2022-05-25T14:43:36.930Z","closed_at":"2022-05-24T09:04:19.980Z","closed_by":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"labels":["Category:Navigation \u0026 Settings","SUS::Impacting","UI polish","devops::manage","feature::enhancement","frontend","group::compliance","section::dev","severity::4","type::feature"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"}],"author":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"type":"ISSUE","assignee":{"id":10822627,"username":"seggenberger","name":"Sascha Eggenberger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10822627/avatar.png","web_url":"https://gitlab.com/seggenberger"},"user_notes_count":16,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361628","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361628","notes":"https://gitlab.com/api/v4/projects/278964/issues/361628/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361628/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361628","relative":"#361628","full":"gitlab-org/gitlab#361628"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108132774,"iid":361616,"project_id":278964,"title":"Redeploy button on the Project environment page doesn't start a redeploy job","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"type::bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=type::bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen a project run a deployment to an environment, the deployment normally can be redeployed from Project Deployment \u003e Environment page and a new job will start for the re-deployment. Now when users go to the environment page and click on the three vertical dots \u003e `Re-deploy to environment`, nothing will happen.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Have a project setup to deploy to an environment\n2. Run the deploy job\n3. After that go to Project \u003e Deployments \u003e Environments \u003e click on the 3 vertical dots \u003e `Re-deploy to environment`\n4. Click on `Re-deploy to environment` again on the prompt box\n5. Observe no job run for the trigger\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/gitlab-gold/rotanak/cicd/-/environment\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n`Re-deploy to environment` button doesn't start a new job for deployment.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com; GitLab Enterprise Edition 15.0.0-pre 1e2d0eef45d\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2022-05-06T08:48:24.859Z","updated_at":"2022-11-14T14:59:04.135Z","closed_at":"2022-11-14T09:45:40.147Z","closed_by":{"id":12455340,"username":"andrei.zubov","name":"Andrei Zubov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12455340/avatar.png","web_url":"https://gitlab.com/andrei.zubov"},"labels":["Category:Environment Management","Next Up","Release::P2","SUS::Impacting","UX","customer","devops::release","frontend","group::release","priority::3","reproduced on GitLab.com","section::ops","severity::3","type::bug","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":12455340,"username":"andrei.zubov","name":"Andrei Zubov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12455340/avatar.png","web_url":"https://gitlab.com/andrei.zubov"}],"author":{"id":786864,"username":"rotanak","name":"Sokunrotanak Srey (Rotanak)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9e138f6598fa362b95f725febc80087e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rotanak"},"type":"ISSUE","assignee":{"id":12455340,"username":"andrei.zubov","name":"Andrei Zubov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12455340/avatar.png","web_url":"https://gitlab.com/andrei.zubov"},"user_notes_count":19,"merge_requests_count":0,"upvotes":9,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361616","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361616","notes":"https://gitlab.com/api/v4/projects/278964/issues/361616/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361616/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361616","relative":"#361616","full":"gitlab-org/gitlab#361616"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":108122281,"iid":361602,"project_id":278964,"title":"Change kubectl port-forward to use WebSocket protocol","description":"This issue tracks upstream contribution to https://github.com/kubernetes/kubernetes/issues/89163. Only `port-forward` command is in scope.","state":"closed","created_at":"2022-05-06T04:28:11.753Z","updated_at":"2022-10-19T02:25:39.037Z","closed_at":"2022-10-19T02:25:39.020Z","closed_by":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"labels":["[deprecated] Accepting merge requests","devops::configure","feature::addition","group::configure","missed:15.1","missed:15.3","section::ops","type::feature","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361602","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361602","notes":"https://gitlab.com/api/v4/projects/278964/issues/361602/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361602/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361602","relative":"#361602","full":"gitlab-org/gitlab#361602"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5528,"epic":{"id":217347,"iid":5528,"title":"CI/CD tunnel","url":"/groups/gitlab-org/-/epics/5528","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108122147,"iid":361601,"project_id":278964,"title":"Change kubectl exec/attach/cp to use WebSocket protocol","description":"This issue tracks upstream contribution to https://github.com/kubernetes/kubernetes/issues/89163. Only `exec`, `attach`, and `cp` commands are in scope.","state":"closed","created_at":"2022-05-06T04:18:32.837Z","updated_at":"2022-10-19T02:25:31.778Z","closed_at":"2022-10-19T02:25:31.760Z","closed_by":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"labels":["devops::configure","feature::addition","group::configure","missed:15.1","section::ops","type::feature","workflow::blocked"],"milestone":null,"assignees":[],"author":{"id":4855585,"username":"ash2k","name":"Mikhail Mazurskiy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a3161684bd29f5016064a6c16ccd3bc7?s=80\u0026d=identicon","web_url":"https://gitlab.com/ash2k"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361601","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361601","notes":"https://gitlab.com/api/v4/projects/278964/issues/361601/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361601/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361601","relative":"#361601","full":"gitlab-org/gitlab#361601"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5528,"epic":{"id":217347,"iid":5528,"title":"CI/CD tunnel","url":"/groups/gitlab-org/-/epics/5528","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108121886,"iid":361600,"project_id":278964,"title":"Replace 'report with scanned files' shared example with 'recorded report' example in dependency scanning image tests","description":"### Proposal\n\nAs discussed [here](https://gitlab.com/gitlab-org/gitlab/-/issues/354079#note_934132600), we should remove the [report with scanned files](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/blob/9c7955d/lib/gitlab_secure/integration_test/shared_examples/report_shared_examples.rb#L72-82) shared examples from the [integration-test](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test) project and use the [recorded report](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/blob/9c7955d/lib/gitlab_secure/integration_test/shared_examples/report_shared_examples.rb#L84-132) shared example in the image integration tests instead.\n\nThe `report with scanned files` shared example is problematic for the following reasons:\n\n1. It assumes that all the dependency files being scanned [have vulnerabilities](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/blob/9c7955d/lib/gitlab_secure/integration_test/shared_examples/report_shared_examples.rb#L77). This requires additional work to fix, which is described in https://gitlab.com/gitlab-org/gitlab/-/issues/354079+\n2. It often duplicates existing tests, like [this example](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/f0c9361/spec/image_spec.rb#L447-460) which duplicates [this test](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/f0c9361/spec/image_spec.rb#L462-464)\n3. When it doesn't duplicate existing tests, it still leads to additional code such as [this test](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/f0c9361/spec/image_spec.rb#L76-85)\n4. It's confusing - we can obtain the necessary coverage by using `recorded report`, which will compare the actual report with an expected report.\n\n### Implementation Plan\n\n1. [x] Remove [report with scanned files](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/blob/9c7955d/lib/gitlab_secure/integration_test/shared_examples/report_shared_examples.rb#L72-82) shared examples from the [integration-test](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test) project\n2. [x] Replace all occurrences of `it_behaves_like \"report with scanned files\"` with `it_behaves_like \"recorded report\"` in the following image specs:\n\n   - [x] [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/71b593e/spec/image_spec.rb) (16 occurrences)\n   - [x] [gemnasium-python](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/blob/bc8873b/spec/image_spec.rb) (7 occurrences)\n3. Replace the following workarounds and extra tests with `it_behaves_like \"recorded report\"`:\n   - [x] gemnasium\n      - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/71b593e/spec/image_spec.rb#L76-85\n      - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/71b593e/spec/image_spec.rb#L118-129\n      - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/71b593e/spec/image_spec.rb#L447-460\n      - [ ] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/71b593e/spec/image_spec.rb#L495-509\n   - [x] gemnasium-maven\n      - [x] https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/blob/276cda2/spec/image_spec.rb#L71-81\n\n/cc @fcatteau @gonzoyumo @sam.white","state":"closed","created_at":"2022-05-06T04:03:15.291Z","updated_at":"2022-09-15T16:51:24.634Z","closed_at":"2022-08-19T12:48:22.772Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","maintenance::refactor","priority::2","quad-planning::complete-action","section::sec","test","type::maintenance","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361600","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":10},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361600","notes":"https://gitlab.com/api/v4/projects/278964/issues/361600/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361600/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361600","relative":"#361600","full":"gitlab-org/gitlab#361600"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":108120264,"iid":361596,"project_id":278964,"title":"Request for change for an admin of SaaS instance to set the new ApplicationSettings slack_app_signing_secret setting","description":"### About\n\nThis issue captures the step to request (somehow) that an admin of the SaaS instance sets the `slack_app_signing_secret` to the [GitLab Slack App](https://api.slack.com/apps/A676ADMV5)'s Signing Secret [from this page](https://api.slack.com/apps/A676ADMV5/published-settings?).\n\nThe setting is necessary to have link unfurl requests (and in future, other requests that use the [Slack events API](https://api.slack.com/apis/connections/events-api)) verified. See https://gitlab.com/gitlab-org/gitlab/-/issues/358676 and https://gitlab.com/gitlab-org/gitlab/-/merge_requests/86323).","state":"closed","created_at":"2022-05-06T02:24:52.482Z","updated_at":"2022-11-22T18:42:30.583Z","closed_at":"2022-05-26T21:30:08.204Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Stretch","devops::manage","feature::addition","group::integrations","section::dev","type::feature","workflow::in dev"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361596","notes":"https://gitlab.com/api/v4/projects/278964/issues/361596/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361596/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361596","relative":"#361596","full":"gitlab-org/gitlab#361596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6389,"epic":{"id":311459,"iid":6389,"title":"Link unfurls","url":"/groups/gitlab-org/-/epics/6389","group_id":9970,"human_readable_end_date":"Jul 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108115929,"iid":361587,"project_id":278964,"title":"\"Infrastructure\" Visibility Toggle","description":"After https://gitlab.com/gitlab-org/gitlab/-/issues/225307, https://gitlab.com/gitlab-org/gitlab/-/issues/322790 and https://gitlab.com/gitlab-org/gitlab/-/issues/246813 were implemented, the previous \"Operations\" menu became three separate top-level items (\"Deployments\", \"Infrastructure\" and \"Monitor\") in the left sidebar, as shown below.\n\nWe will need a separate visibility toggle for Infrastucture as seen in the `Visibility, project features, and permissions` settings. Currently, there is only one toggle for all of \"Operations\" when we need separate toggles for Deployments, Infrastructure, and Monitor.\n\nThis ticket will be for the Configure team to create a \"Infrastructure\" visibility setting.\n\n## Proposal\n\nImplement a separate toggle for the Infrastructure menu and put it behind a feature flag introduced in https://gitlab.com/gitlab-org/gitlab/-/issues/361588","state":"closed","created_at":"2022-05-05T23:11:11.146Z","updated_at":"2022-11-21T12:05:12.708Z","closed_at":"2022-11-03T12:38:56.303Z","closed_by":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"labels":["Deliverable","auto updated","configure::backlog","devops::configure","frontend","group::configure","section::ops","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},{"id":12514438,"username":"partiaga","name":"Pam Artiaga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12514438/avatar.png","web_url":"https://gitlab.com/partiaga"}],"author":{"id":7971515,"username":"nhervas","name":"Nicole Hervas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971515/avatar.png","web_url":"https://gitlab.com/nhervas"},"type":"ISSUE","assignee":{"id":9094263,"username":"anna_vovchenko","name":"Anna Vovchenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9094263/avatar.png","web_url":"https://gitlab.com/anna_vovchenko"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361587","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361587","notes":"https://gitlab.com/api/v4/projects/278964/issues/361587/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361587/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361587","relative":"#361587","full":"gitlab-org/gitlab#361587"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8004,"epic":{"id":515754,"iid":8004,"title":"Adapt visibility settings to new structure after \"Operations\" was split into \"Deployments\", \"Infrastructure\" and \"Monitor\"","url":"/groups/gitlab-org/-/epics/8004","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108115905,"iid":361586,"project_id":278964,"title":"Control visibility of deployments-related functionalities","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\nIn 15.3, we are updating how the visibility Deployments features are controlled.\n\n### Background (Original issue description)\n\nAfter https://gitlab.com/gitlab-org/gitlab/-/issues/225307, https://gitlab.com/gitlab-org/gitlab/-/issues/322790 and https://gitlab.com/gitlab-org/gitlab/-/issues/246813 were implemented, the previous \"Operations\" menu became three separate top-level items (\"Deployments\", \"Infrastructure\" and \"Monitor\") in the left sidebar, as shown below.\n\nWe will need a separate visibility toggle for Monitor as seen in the `Visibility, project features, and permissions` settings. Currently, there is only one toggle for all of \"Operations\" when we need separate toggles for Deployments, Infrastructure, and Monitor.\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nAs a GitLab project admin, I want to control who has access to view and execute the Deployments-related functionality in GitLab projects.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* [Dakota (Application Development Director)](https://about.gitlab.com/handbook/product/personas/#dakota-application-development-director)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n\n--\u003e\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Ingrid (Infrastructure Operator)](https://about.gitlab.com/handbook/product/personas/#ingrid-infrastructure-operator)\n* Anyone who administers GitLab projects for their organisation/teams\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\nWithin the configuration settings, the user should be able to toggle on/off [CRUD](https://www.sumologic.com/glossary/crud/#:~:text=CRUD%20Meaning%3A%20CRUD%20is%20an,%2C%20read%2C%20update%20and%20delete.) operations related to the Deployments functionalities.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nWe should *not* make the top-level toggle \"Deployments\" as a *persistent setting* (i.e. not adding a database column to the \"deployments\"), because the setting values between \"Deployments\" and \"Releases\" will likely contradict. Instead we should dynamically compute the top-level toggle by aggregating sub toggle states. This way we can have the SSOT data source. So to summarize:\n\n* We add database columns for each \"Feature Flag\", \"Environments\" and \"Releases\" feature. We don't add a database column to the top-level \"Deployments\". [This is being discussed in the comments](https://gitlab.com/gitlab-org/gitlab/-/issues/361586#note_973385435)\n* We migrate current \"Operations\" [toggle value](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/concerns/featurable.rb#L26-29) into \"Feature Flag\" and \"Environments\" toggles. We set the default value `20 = ENABLED` to the \"Release\" toggle, so that [the projects](https://gitlab.com/gitlab-org/gitlab/-/issues/361586#note_970692987) won't be affected by this change.\n* Users can use the top-level \"Deployments\" toggle as a *utility* to apply the same setting to all of subsequent toggles in batch. (This could be a follow-up) =\u003e https://gitlab.com/gitlab-org/gitlab/-/issues/367013\n* The \"Deployments\" menu in the left-nav is hidden when `feature_flag_disabled? \u0026\u0026 environments_disabled? \u0026\u0026 releases_disabled?`. Otherwise, the menu is visible with enabled feature tabs. e.g. \"Deployments \u003e Releases\" is visible, but \"Deployments \u003e Feature Flags\" and \"Deployments \u003e Environments\" are hidden.\n\nThe good thing is that this approach is resilient against the left-navigation bar re-organization. We can flexibility move around the toggles at any time.\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n* [ ] Add expected impact to members with no access\n* [x] Add expected impact to Guest  - impacted by setting\n* [x] Add expected impact to Reporter  - impacted by setting\n* [x] Add expected impact to Developer - impacted by setting\n* [x] Add expected impact to Maintainer  - impacted by setting\n* [x] Add expected impact to Owner - **admin will set the config**\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members\n\nPlease consider performing a threat model for the code changes that are introduced as part of this feature. To get started, refer to our Threat Modeling handbook page https://about.gitlab.com/handbook/security/threat_modeling/#threat-modeling.\n\nDon't hesitate to reach out to the Application Security Team (`@gitlab-com/gl-security/appsec`) to discuss any security concerns.\n--\u003e\n\nOnly the roles that have access to configuration settings should be able to see and modify the toggle.\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\nYes, we will need an update to the documentation with screenshots, and clarify what features are toggled by the new setting.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n~\"GitLab Free\" \n\n### Feature Usage Metrics\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n- [Alex - the Application Development Manager\n](https://about.gitlab.com/handbook/marketing/strategic-marketing/roles-personas/buyer-persona/#alex---the-application-development-manager)\n- [Kennedy - the Infrastructure Engineering Director](https://about.gitlab.com/handbook/marketing/strategic-marketing/roles-personas/buyer-persona/#kennedy---the-infrastructure-engineering-director)\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\nYes, with ~\"devops::monitor\". This is part of a cross-stage update to configuration settings in https://gitlab.com/groups/gitlab-org/-/epics/8004\n\n### What is the competitive advantage or differentiation for this feature?\nn/a\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\n## Implementation plan\n\n### Implement feature toggles behind `split_operations_visibility_permissions` feature flag\n\n~backend \n\n- [x] Environments https://gitlab.com/gitlab-org/gitlab/-/merge_requests/93118\n- [x] Feature Flags https://gitlab.com/gitlab-org/gitlab/-/merge_requests/94102\n- [x] Releases https://gitlab.com/gitlab-org/gitlab/-/merge_requests/94413\n- [x] Monitor https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91337\n- [x] Add tests for Deployments Menu - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/95414\n\n~frontend \n\n- [x] Monitor https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91337\n- [x] Environments https://gitlab.com/gitlab-org/gitlab/-/merge_requests/94254\n- [x] Releases gitlab!96373\n- [x] Feature Flags gitlab-org/gitlab!95411\n\n### Remove `split_operations_visibility_permissions` feature flag\n\nRollout issue: https://gitlab.com/gitlab-org/gitlab/-/issues/364240\n\n- [ ] Update documentation and enable flag\n- [ ] Remove flag\n\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2022-05-05T23:09:22.964Z","updated_at":"2022-11-14T20:31:59.407Z","closed_at":"2022-09-20T14:21:19.114Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["Category:Environment Management","Deliverable","GitLab Free","GitLab Premium","GitLab Ultimate","Release::P1","UX","auto updated","backend","backend-weight::2","devops::release","documentation","frontend","frontend-weight::2","group::release","missed-deliverable","missed:15.3","release post item::in review","section::ops","type::feature","workflow::in dev"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"}],"author":{"id":7971515,"username":"nhervas","name":"Nicole Hervas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971515/avatar.png","web_url":"https://gitlab.com/nhervas"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":54,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361586","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":23,"completed_count":14},"weight":4,"blocking_issues_count":1,"has_tasks":true,"task_status":"14 of 23 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361586","notes":"https://gitlab.com/api/v4/projects/278964/issues/361586/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361586/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361586","relative":"#361586","full":"gitlab-org/gitlab#361586"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8004,"epic":{"id":515754,"iid":8004,"title":"Adapt visibility settings to new structure after \"Operations\" was split into \"Deployments\", \"Infrastructure\" and \"Monitor\"","url":"/groups/gitlab-org/-/epics/8004","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":108111956,"iid":361582,"project_id":278964,"title":"Webhook encrypted tokens: UX","description":"### Problem \nSee parent epic: https://gitlab.com/groups/gitlab-org/-/epics/7970\nWhen adding a webhook URL, the URL can contain pieces of information that are sensitive and should be encrypted and masked for security reasons. The user should be able to select those sensitive portions of a URL and mark them to be masked in the UI.\n\n### Historical design work\nThere was a proposal to allow for custom header fields where the user would input a key and value to be masked. However, that solution needed to be made more generic. See more information: https://gitlab.com/gitlab-org/gitlab/-/issues/361582#note_1033168001\n\n### Design proposal\n\nNote: the UI copy in the loom videos has been updated since the videos were made. For all UI copy, refer to the [Figma file](https://www.figma.com/file/8lUO1HYVDs9KOniwVm1PqA/Webhook-encrypted-tokens-(%23361582)?node-id=2207%3A13526). \n\n* :movie_camera: [25 second demo: setting up masking](https://www.loom.com/share/a1c9f714130841afa4253c441c04b7c9)\n* :movie_camera: [21 second demo: editing masking](https://www.loom.com/share/8a3b45a7e9ee4f5aa7c3386f720d68a0)\n* :art: [Figma prototype: setting up masking](https://www.figma.com/proto/8lUO1HYVDs9KOniwVm1PqA/Webhook-encrypted-tokens-(%23361582)?page-id=2207%3A13526\u0026node-id=2246%3A30522\u0026viewport=-496%2C-1327%2C0.2\u0026scaling=min-zoom\u0026starting-point-node-id=2246%3A30522)\n* :art: [Figma prototype: editing masking](https://www.figma.com/proto/8lUO1HYVDs9KOniwVm1PqA/Webhook-encrypted-tokens-(%23361582)?page-id=2207%3A13526\u0026node-id=2249%3A35329\u0026viewport=-496%2C-1327%2C0.2\u0026scaling=min-zoom\u0026starting-point-node-id=2249%3A35329\u0026show-proto-sidebar=1)\n* :paintbrush: [Figma file](https://www.figma.com/file/8lUO1HYVDs9KOniwVm1PqA/Webhook-encrypted-tokens-(%23361582)?node-id=2207%3A13526)\n\n### Logic\n* Leaving the right side of the form field blank indicates that the value does not need to be masked\n* User can add additional free text pieces of the URL should that should be masked\n* When the user enters something in the right column of the form, and then the input loses focus, the read-only preview of the URL updates\n* When editing, the previous masked values are hidden by ····· in disabled input.","state":"closed","created_at":"2022-05-05T21:56:26.519Z","updated_at":"2022-12-22T02:19:24.596Z","closed_at":"2022-11-14T21:22:58.292Z","closed_by":{"id":9608331,"username":"katiemacoy","name":"Katie Macoy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9608331/avatar.png","web_url":"https://gitlab.com/katiemacoy"},"labels":["Category:Integrations","Category:Webhooks","SUS::Impacting","Technical Writing","UI text","UX","devops::manage","feature::enhancement","group::integrations","missed:15.1","missed:15.2","missed:15.3","missed:15.4","missed:15.5","quad-planning::complete-no-action","section::dev","severity::4","type::feature","workflow::ready for development"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":9608331,"username":"katiemacoy","name":"Katie Macoy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9608331/avatar.png","web_url":"https://gitlab.com/katiemacoy"}],"author":{"id":5022246,"username":"lvanc","name":"Libor Vanc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5022246/avatar.png","web_url":"https://gitlab.com/lvanc"},"type":"ISSUE","assignee":{"id":9608331,"username":"katiemacoy","name":"Katie Macoy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9608331/avatar.png","web_url":"https://gitlab.com/katiemacoy"},"user_notes_count":69,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/361582","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/361582","notes":"https://gitlab.com/api/v4/projects/278964/issues/361582/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/361582/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#361582","relative":"#361582","full":"gitlab-org/gitlab#361582"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7970,"epic":{"id":512048,"iid":7970,"title":"Encrypt and mask sensitive data in webhook URLs","url":"/groups/gitlab-org/-/epics/7970","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]