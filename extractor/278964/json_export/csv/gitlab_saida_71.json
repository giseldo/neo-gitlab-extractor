[{"id":86239839,"iid":329550,"project_id":278964,"title":"CI_JOB_TOKEN bot authorization backend","description":"## Proposal \n\nIntroduce a mechanism (when enabled via project settings) that limits the use of CI_JOB_TOKEN to the project where it originated from. By default, with this setting on, the CI_JOB_TOKEN won't be used outside the project's scope. However, project maintainers can add other projects to the CI_JOB_TOKEN scope. This way the token can be used across a list of selected projects. For example, to trigger multi-project pipelines, etc.\n\n## Backend Proposal \n\n* Implement the PoC drafted in https://gitlab.com/gitlab-org/security/gitlab/-/merge_requests/1248 to restrict the scope of CI_JOB_TOKEN\n* GraphQL dependencies for ~frontend \n    * Queries: Get the list of projects in the allow list of a given project\n    * Mutations:\n        * Add a project to the allow list\n        * Remove a project from the allow list\n        * Change the state of the setting\n\n### Iteration plan\n\n1. ship the PoC which represents the skeleton for the entire feature\n1. introduce a new table to track associations between projects (token scope)\n1. introduce CI/CD project setting to enable/disable the feature \n1. ship the GraphQL endpoints in parallel","state":"closed","created_at":"2021-04-29T17:49:03.355Z","updated_at":"2022-10-04T19:10:09.819Z","closed_at":"2021-07-22T09:28:40.076Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["Category:Continuous Integration","Deliverable","GitLab Core","GraphQL","Verify::P1","backend","devops::verify","group::pipeline execution","missed:14.0","section::ops","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":49,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329550","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329550","notes":"https://gitlab.com/api/v4/projects/278964/issues/329550/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329550/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329550","relative":"#329550","full":"gitlab-org/gitlab#329550"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":86239418,"iid":329547,"project_id":278964,"title":"Code quality scan without codeclimate POC","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Problem(s) to solve\n\n1. The current engine (codeclimate) used for CodeQuality requires DinD or at least mounting a docker socket which is a non starter from a security standpoint for many customers and prospects.\n\n### Proposal \n\nTo validate we can replace codeclimate let's create a new template that runs only a scanner applicable to ruby development. This gives us the best internal customer feedback and can compare results between the existing and proposed replacement. This follows the pattern of SAST who utilizes open source scanners to power their features.\n\n1. Create a job that runs only a single scanner for the gitlab project (or a fork), rubocop maybe, without DinD.\n1. Transform the report into codeclimate.json and upload\n1. Show CodeQuality features work (full report, MR widget, MR Diff).\n\n### Documentation\n\n1. Document how GitLab did this for our own project for Ruby and JS scanners.\n1. Add documentation to tool referenced in [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/32294) that will let customers use other scanners to translate output to codeclimate.json formats.\n\n### Measures of success\n\nFor this to be successful as a plan we need to see:\n\n1. No DinD requirement for the runner\n2. Existing feature set works (the 3 features mentioned in the proposal) to display data found from the scanner.\n\n### Next steps\n\nIf this test proves successful we can move forward with a fully fleshed out proposal for a new template for non DinD code quality\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e","state":"closed","created_at":"2021-04-29T17:37:43.086Z","updated_at":"2022-05-24T21:58:16.671Z","closed_at":"2021-08-04T22:29:02.586Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["Category:Build Artifacts","Category:Code Quality","GitLab Core","code quality::scanning","customer","devops::verify","feature::enhancement","group::pipeline insights","missed:14.1","section::ops","type::feature","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"}],"author":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"type":"ISSUE","assignee":{"id":1758950,"username":"iamricecake","name":"Erick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1758950/avatar.png","web_url":"https://gitlab.com/iamricecake"},"user_notes_count":40,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329547","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329547","notes":"https://gitlab.com/api/v4/projects/278964/issues/329547/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329547/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329547","relative":"#329547","full":"gitlab-org/gitlab#329547"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86235722,"iid":329540,"project_id":278964,"title":"Review polymorphic associations with respect to int4 overflow problems","description":"As @ayufan pointed out, we should be reviewing polymorphic associations which don't have a database-level foreign key defined. We should find all occurrences of these that point to a table which we intend to migrate its primary key.\n\nExamples:\n* https://gitlab.com/gitlab-org/gitlab/-/issues/329536\n* https://gitlab.com/gitlab-org/gitlab/-/issues/329535","state":"closed","created_at":"2021-04-29T16:14:46.678Z","updated_at":"2022-05-30T15:31:12.061Z","closed_at":"2021-05-25T10:27:16.896Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement"],"milestone":null,"assignees":[],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329540","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329540","notes":"https://gitlab.com/api/v4/projects/278964/issues/329540/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329540/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329540","relative":"#329540","full":"gitlab-org/gitlab#329540"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4785,"epic":{"id":137319,"iid":4785,"title":"Address Primary Key overflow risk for tables with an integer PK","url":"/groups/gitlab-org/-/epics/4785","group_id":9970,"human_readable_end_date":"Oct 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86235533,"iid":329538,"project_id":278964,"title":"Enable re-use of Project path when a project is deleted","description":"## Problem to solve\n\nWhile a project is pending deletion, its url slug remains taken. This leads to a cumbersome workaround in order to make it available again. An owner or administator can either change the path or they can bypass the delay by deleting the project again.\n\nThings to consider:\n1. As this is a pre-requisite for #343577, if a project is deleted we need to make sure that the project is not accessible to the free users even when with the changed path as we mention that the project is deleted immediately.\n2. When a project is pending deletion, Premium+ users should have read-only access to the project at the URL. Free users should NOT have access.\n\n## Proposal\n\nThis comes from the need to support soft deletion, where the user wants to immediately re-use the same project name.\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/issues/255449#note_499630633:\n\n\u003e\u003e\u003e\n1. Once a project is marked for deletion, we also change the project path so that the current path can be reused. As suggested by @acroitor, it could be `\u003cproject_path\u003e-deleted-\u003cproject_id\u003e` or we could use a UUID.\n1. When we want to restore the project, we just rename the project path again, deleting the suffix, then mark the project as restored.\n1. If a project with that path already exists, we can prompt the user for a new path to restore to.\n\nPros:\n\n1. Renaming the project path is already something we support via the UI. So implementing this should be fairly straightforward.\n1. When the project path is changed, we create a redirect so that it is still accessible with the old URLs (read-only because it is marked for deletion). When a new project is created with the old path, the redirects are automatically removed. This is already done by our existing path rename logic.\n\nCons:\n\n1. Might be surprising to the user that the project has a different path\n\u003e\u003e\u003e\n\nThis is required for https://gitlab.com/gitlab-org/gitlab/-/issues/255449","state":"closed","created_at":"2021-04-29T16:10:52.014Z","updated_at":"2021-12-21T16:07:31.914Z","closed_at":"2021-12-21T09:09:53.673Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Technical Writing","backend","devops::manage","documentation","group::compliance","internal customer","missed:14.1","missed:14.2","missed:14.3","priority::2","section::dev","severity::2","tw-weight::3","workflow::verification"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329538","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329538","notes":"https://gitlab.com/api/v4/projects/278964/issues/329538/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329538/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329538","relative":"#329538","full":"gitlab-org/gitlab#329538"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3626,"epic":{"id":69474,"iid":3626,"title":"Improvements to delayed project deletion","url":"/groups/gitlab-org/-/epics/3626","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86234891,"iid":329536,"project_id":278964,"title":"Address the Primary Key Overflow risk for the taggings table - Step 1: Add new columns and sync data","description":"Today the `taggings` define a polymorphic association for `ci_runners` and `ci_builds`.\nThere are two polymorphic relations there `taggable_` and `tagger_`. From what I see only\n`taggable_*` is today used.\n\nWe need to migrate `taggable_id` as in majority of cases it relates to `ci_builds` via `taggable_id`.\n\nTODO:\n* [ ] Flesh out which columns/tables we're targeting here\n* [ ] Flesh out a plan how to incorporate this into the PK migration","state":"closed","created_at":"2021-04-29T16:00:06.767Z","updated_at":"2022-05-30T15:31:12.717Z","closed_at":"2021-05-27T07:16:24.668Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Category:Database","Engineering Allocation","auto updated","devops::data_stores","group::database","section::enablement","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329536","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329536","notes":"https://gitlab.com/api/v4/projects/278964/issues/329536/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329536/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329536","relative":"#329536","full":"gitlab-org/gitlab#329536"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5761,"epic":{"id":250084,"iid":5761,"title":"Address the Primary Key Overflow risk for the Family of CI tables","url":"/groups/gitlab-org/-/epics/5761","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86234722,"iid":329535,"project_id":278964,"title":"Address the Primary Key Overflow risk for the deployments table - Step 1: Add new columns and sync data","description":"Today the `deployments` table have `deployable_type` and `deployable_id`. These do currently refer only to `ci_builds` and should be migrated as well.\n\nI propose that we introduce `build_id` and later drop polymorphic association with `deployable_type` and `deployable_id`.\n\n\nTODO:\n* [ ] Flesh out which columns/tables we're targeting here\n* [ ] Flesh out a plan how to incorporate this into the PK migration","state":"closed","created_at":"2021-04-29T15:57:31.284Z","updated_at":"2022-05-30T15:31:13.472Z","closed_at":"2021-06-03T07:01:52.153Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Category:Database","Engineering Allocation","auto updated","devops::data_stores","group::database","section::enablement","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329535","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329535","notes":"https://gitlab.com/api/v4/projects/278964/issues/329535/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329535/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329535","relative":"#329535","full":"gitlab-org/gitlab#329535"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5761,"epic":{"id":250084,"iid":5761,"title":"Address the Primary Key Overflow risk for the Family of CI tables","url":"/groups/gitlab-org/-/epics/5761","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86233430,"iid":329530,"project_id":278964,"title":"Fix rows with invalid deployment_type in JiraTrackerData","description":"### Why are we doing this?\n\nIn order to close https://gitlab.com/gitlab-org/gitlab/-/issues/324251 we made changes to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58665. One of those changes was to `raise NotImplementedYet` in case the `deployment_type` is `unknown`. This, in turn, lead to a [customer report](https://gitlab.com/gitlab-org/gitlab/-/issues/324251#note_556438900) that their JIRA integration stopped working.\n\nIt turns out we have around 90k `JiraTrackerData` records where the `deployment_type` is `unknown`.\n\n### Proposed solution\n\nA background migration that will, based on the URL, set the `deployment_type` to either `cloud` or `server`. This should be done preferably by the time Atlassian rolls out custom domains for JIRA cloud.","state":"closed","created_at":"2021-04-29T15:36:03.937Z","updated_at":"2021-06-18T07:09:43.877Z","closed_at":"2021-06-14T12:16:37.544Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Deliverable","Integration::Jira","backend","devops::secure","feature::enhancement","group::threat insights","planning priority","section::sec","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329530","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329530","notes":"https://gitlab.com/api/v4/projects/278964/issues/329530/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329530/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329530","relative":"#329530","full":"gitlab-org/gitlab#329530"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5911,"epic":{"id":261934,"iid":5911,"title":"Prepare for JIRA custom domains","url":"/groups/gitlab-org/-/epics/5911","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":86231907,"iid":329527,"project_id":278964,"title":"Prevent unknown deployment_types in JiraTrackerData","description":"### Why are we doing this work?\n\nDiscussion on https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59902 went into several directions. One of those was the need to investigate where from and why the `unknown` values for `deployment_type` are coming from\n\nThis issue will capture all effort towards reducing the failure rate when determining the deployment type.\n\n### Implementation plan\n\n* ~backend Modify `JiraService` (`app/models/project_services/jira_service.rb`) to discover deployment type based on URL","state":"closed","created_at":"2021-04-29T15:18:38.400Z","updated_at":"2021-08-09T16:19:21.535Z","closed_at":"2021-06-14T12:16:41.352Z","closed_by":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"labels":["Deliverable","Integration::Jira","backend","devops::secure","feature::enhancement","group::threat insights","planning priority","section::sec","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[],"author":{"id":487608,"username":"Quintasan","name":"Michał Zając","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329527","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329527","notes":"https://gitlab.com/api/v4/projects/278964/issues/329527/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329527/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329527","relative":"#329527","full":"gitlab-org/gitlab#329527"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5911,"epic":{"id":261934,"iid":5911,"title":"Prepare for JIRA custom domains","url":"/groups/gitlab-org/-/epics/5911","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":86230342,"iid":329523,"project_id":278964,"title":"Rename FK columns referencing ci_builds.id to build_id","description":"For ci-related tables, there is a request to use the opportunity of this migration to rename columns referencing `ci_builds.id`. We would like to consistently use `build_id` going forward, instead of `job_id`.\n\nTODO:\n* [ ] Flesh out which columns/tables we're targeting here\n* [ ] Flesh out a plan how to incorporate this into the PK migration","state":"closed","created_at":"2021-04-29T14:58:38.211Z","updated_at":"2022-05-30T15:31:14.706Z","closed_at":"2021-11-01T22:36:01.465Z","closed_by":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement"],"milestone":null,"assignees":[],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329523","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329523","notes":"https://gitlab.com/api/v4/projects/278964/issues/329523/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329523/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329523","relative":"#329523","full":"gitlab-org/gitlab#329523"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5761,"epic":{"id":250084,"iid":5761,"title":"Address the Primary Key Overflow risk for the Family of CI tables","url":"/groups/gitlab-org/-/epics/5761","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86227454,"iid":329521,"project_id":278964,"title":"[DevOps Adoption] Store segment target group in DB","description":"## Summary\n\nAfter introduction of group-level DevOps Adoption pages a lot more user can create\\delete Segments for their groups\\subgroups. Currently we don't store segment author nor the place where we created the segment.\nFor example:\n\n* Given Group X is enabled in the table of root group R\n* When user visits adoption page for group X they see data for group X\n* When user visits adoption page for root group R they see data for group X\n\n* Given Group X is enabled in the table of root group R\n* When user visits adoption page for group X and deletes group X from the table\n* And user visits adoption page for root group R they won't see data for group X anymore\n\n\nI think it can be a source of confusion, and to handle that we need to store particular group where we enabled the feature for group X.\n\n## Proposal\n\nWhen user deletes a segment from a group X then it should disappear from group X page only and should keep any existing adoption tables of parent groups untouched.\n\n## Technical proposal\n\n1. Remove uniqueness check from \"namespace_id\" for Segment model\n1. Add \"display_namespace_id\" to Segment model. It should represent the group where segment should be displayed on.\n1. Add \"namespace_id\" to Snapshot model, namespace_id must be unique. Fill `namespace_id` with a namespace of segment_id\n1. For given group adoption table query should be something like `Segment.where(display_namespace: group)`\n1. `segment#snapshots` should be association on `segments.namespace_id == snapshot.namespace_id`\n1. Later on drop `segment_id` association on Snapshot.\n1. If a segment is deleted Snapshots should NOT be deleted. Basically snapshots should be never deleted.","state":"closed","created_at":"2021-04-29T14:24:17.719Z","updated_at":"2021-06-07T08:47:55.072Z","closed_at":"2021-06-04T10:31:41.521Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:DevOps Reports","backend","devops::manage","feature::enhancement","group::optimize","release post item","section::dev","type::feature"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329521","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329521","notes":"https://gitlab.com/api/v4/projects/278964/issues/329521/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329521/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329521","relative":"#329521","full":"gitlab-org/gitlab#329521"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86226439,"iid":329519,"project_id":278964,"title":"[DevOps Adoption] Add soft-delete for segments","description":"## Summary\n\nCurrently when user deletes a segment we actually delete a segment \u0026 all related snapshots from database. With introduction of group-level of DevOps adoption we allow to delete\\add segments to large group of users, so there will be \"occasional\" deletes for sure. To be on the safe side and avoid losing data we need to implement soft-delete so when user disables the feature for a group data gathering will stop, but all the data already calculated will remain in DB. When user enabled group back we should restore all the data which was available before. \n\nInspired by https://gitlab.com/gitlab-org/gitlab/-/issues/329437\n\n## Proposal\n\nAdd soft-delete to Segments model and mark a segment as \"archived\" or \"deleted\" when user deletes the segment. Restore it back to when user tries to create a segment for a group which has \"deleted\" segment already.\n\n## Technical note\n\nDon't forget to trigger immediate recalculation of current month when segment was \"restored from deleted\"","state":"closed","created_at":"2021-04-29T14:13:56.502Z","updated_at":"2021-05-04T16:37:21.801Z","closed_at":"2021-04-30T13:34:22.111Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:DevOps Reports","backend","devops::manage","feature::enhancement","group::optimize","type::feature","workflow::scheduling"],"milestone":null,"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329519","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329519","notes":"https://gitlab.com/api/v4/projects/278964/issues/329519/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329519/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329519","relative":"#329519","full":"gitlab-org/gitlab#329519"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86224718,"iid":329517,"project_id":278964,"title":"Document how to use status checks","description":"With the creation of the [status checks settings area](https://gitlab.com/gitlab-org/gitlab/-/issues/327638) and the render of the [outcomes in MR's](https://gitlab.com/gitlab-org/gitlab/-/issues/327634). We should make sure we document how this all works properly, with the correct screenshots and user guides.\n\nWe also need to make sure that the `Learn more` links in these new areas are connected to the new documentation:\n\n- [ ] `ee/app/views/projects/_merge_request_status_checks_settings.html.haml:4`","state":"closed","created_at":"2021-04-29T13:52:51.902Z","updated_at":"2021-06-16T05:34:15.093Z","closed_at":"2021-06-16T05:34:15.075Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","Enterprise Edition","GitLab Ultimate","devops::manage","documentation","frontend","group::compliance","priority::2","section::dev","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329517","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329517","notes":"https://gitlab.com/api/v4/projects/278964/issues/329517/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329517/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329517","relative":"#329517","full":"gitlab-org/gitlab#329517"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3869,"epic":{"id":79474,"iid":3869,"title":"Introduce capability to check external APIs for status in Merge Requests","url":"/groups/gitlab-org/-/epics/3869","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"at_risk"},{"id":86221852,"iid":329514,"project_id":278964,"title":"Audit Events: Add deletion of approval rules","description":"### Problem to solve\n\nThis audit is required because currently the changing of the approval rule  event is captured however by simply deleting the approval rule we can bypass the need for changing it with no audit log. \n\nThe use-case for this is to provide a trail in the case of the approval rules being deleted in order to get a merge through the review process without specific intervention. This can be abused by a bad-actor/disgruntled employee to promote change without a review process. By simply deleting the approval rule with no audit event being sent.  \n\n### Proposal\n\nAn audit event should be sent on the deletion of an approval rule.\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-04-29T13:20:25.342Z","updated_at":"2022-03-10T09:47:25.856Z","closed_at":"2022-03-10T09:47:25.836Z","closed_by":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"labels":["Category:Audit Events","GitLab Premium","Next Up","audit_events::settings_configuration","backend","customer","devops::manage","direction","group::compliance","section::dev","type::feature","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"}],"author":{"id":2306652,"username":"Hacky_Penguin","name":"HackyPenguin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0459c2f1d9d04b5a1880bf65b067d51?s=80\u0026d=identicon","web_url":"https://gitlab.com/Hacky_Penguin"},"type":"ISSUE","assignee":{"id":10467142,"username":"harsimarsandhu","name":"Harsimar Sandhu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10467142/avatar.png","web_url":"https://gitlab.com/harsimarsandhu"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329514","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329514","notes":"https://gitlab.com/api/v4/projects/278964/issues/329514/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329514/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329514","relative":"#329514","full":"gitlab-org/gitlab#329514"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7268,"epic":{"id":403566,"iid":7268,"title":"Comprehensive audit log: Merge Request Approval Auditing","url":"/groups/gitlab-org/-/epics/7268","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86219338,"iid":329511,"project_id":278964,"title":"Release primary key backfill migrations","description":"We have shipped backfilling migrations to .com. This issue is about releasing those migrations, so that also self-hosted installations execute those migrations.\n\n\n### Tasks\n* [x] %\"13.12\" Enable `execute_batched_migrations_on_schedule` feature flag by default (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61316)\n* [x] %\"13.12\" Enable `optimize_batched_migrations` feature flag by default (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61317)\n* [x] %\"14.0\" Start backfilling PK conversion for these tables (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61321):\n   * [x] events\n   * [x] push_event_payloads\n   * [x] ci_job_artifacts\n   * [x] ci_sources_pipelines\n   * [x] ci_build_needs\n   * [x] ci_builds\n   * [x] ci_builds_runner_session\n   * [x] ci_build_trace_chunks","state":"closed","created_at":"2021-04-29T12:51:06.699Z","updated_at":"2022-05-30T15:31:15.736Z","closed_at":"2021-05-27T05:07:54.637Z","closed_by":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":3170776,"username":"krasio","name":"Krasimir Angelov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3170776/avatar.png","web_url":"https://gitlab.com/krasio"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329511","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":11,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 11 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329511","notes":"https://gitlab.com/api/v4/projects/278964/issues/329511/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329511/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329511","relative":"#329511","full":"gitlab-org/gitlab#329511"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4785,"epic":{"id":137319,"iid":4785,"title":"Address Primary Key overflow risk for tables with an integer PK","url":"/groups/gitlab-org/-/epics/4785","group_id":9970,"human_readable_end_date":"Oct 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86215623,"iid":329492,"project_id":278964,"title":"Reorganize learn gitlab specs","description":"The following discussion from !58689 should be addressed:\n\n- [ ] @tancnle started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/58689#note_563625964): \n\n    \u003e **suggestion (non-blocking):** Should this context outside of the table?\n    \u003e \n    \u003e So instead of \n    \u003e \n    \u003e \u003cdetails\u003e\n    \u003e \u003csummary\u003e8 examples\u003c/summary\u003e\n    \u003e \n    \u003e ```\n    \u003e   .learn_gitlab_experiment_tracking_category\n    \u003e     experiment_a: true, experiment_b: true, result: \"Growth::Conversion::Experiment::LearnGitLabA\"\n    \u003e       when signed in\n    \u003e         is expected to eq \"Growth::Conversion::Experiment::LearnGitLabA\"\n    \u003e       when not signed in\n    \u003e         is expected to eq nil\n    \u003e     experiment_a: false, experiment_b: false, result: nil\n    \u003e       when not signed in\n    \u003e         is expected to eq nil\n    \u003e       when signed in\n    \u003e         is expected to eq nil\n    \u003e     experiment_a: false, experiment_b: true, result: \"Growth::Activation::Experiment::LearnGitLabB\"\n    \u003e       when signed in\n    \u003e         is expected to eq \"Growth::Activation::Experiment::LearnGitLabB\"\n    \u003e       when not signed in\n    \u003e         is expected to eq nil\n    \u003e     experiment_a: true, experiment_b: false, result: \"Growth::Conversion::Experiment::LearnGitLabA\"\n    \u003e       when not signed in\n    \u003e         is expected to eq nil\n    \u003e       when signed in\n    \u003e         is expected to eq \"Growth::Conversion::Experiment::LearnGitLabA\"\n    \u003e ```\n    \u003e \n    \u003e \u003c/details\u003e\n    \u003e \n    \u003e It should be only \n    \u003e \u003cdetails\u003e\n    \u003e \u003csummary\u003e5 examples\u003c/summary\u003e\n    \u003e \n    \u003e ```\n    \u003e   .learn_gitlab_experiment_tracking_category\n    \u003e     when signed in\n    \u003e       experiment_a: false, experiment_b: true, result: \"Growth::Activation::Experiment::LearnGitLabB\"\n    \u003e         is expected to eq \"Growth::Activation::Experiment::LearnGitLabB\"\n    \u003e       experiment_a: true, experiment_b: true, result: \"Growth::Conversion::Experiment::LearnGitLabA\"\n    \u003e         is expected to eq \"Growth::Conversion::Experiment::LearnGitLabA\"\n    \u003e       experiment_a: true, experiment_b: false, result: \"Growth::Conversion::Experiment::LearnGitLabA\"\n    \u003e         is expected to eq \"Growth::Conversion::Experiment::LearnGitLabA\"\n    \u003e       experiment_a: false, experiment_b: false, result: nil\n    \u003e         is expected to eq nil\n    \u003e     when not signed in\n    \u003e       is expected to eq nil\n    \u003e ```\n    \u003e \n    \u003e \u003c/details\u003e\n    \u003e \n    \u003e WDYT?","state":"closed","created_at":"2021-04-29T12:05:00.241Z","updated_at":"2021-05-11T07:10:27.727Z","closed_at":"2021-05-11T07:10:27.655Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["Category:Conversion Experiment","devops::growth","group::acquisition","section::growth"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329492","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329492","notes":"https://gitlab.com/api/v4/projects/278964/issues/329492/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329492/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329492","relative":"#329492","full":"gitlab-org/gitlab#329492"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86211641,"iid":329450,"project_id":278964,"title":"Under `Ci:: Namespace CI Worker `BuildFinishedWorker`","description":"### Proposal\n\n- [x] Add the new worker class,`BuildFinishedWorker` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64934\n- [x] Start enqueuing the new worker and stop enqueuing the old worker    \n    - [x] Toggle a `ci_build_finished_worker_namespace_changed` feature flag\n- [ ] Next release, [drain the queue](https://docs.gitlab.com/ee/development/sidekiq_style_guide.html#renaming-queues) for the old worker and delete its files.","state":"closed","created_at":"2021-04-29T11:14:25.186Z","updated_at":"2021-08-05T16:52:18.504Z","closed_at":"2021-08-05T15:44:03.928Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["Category:Continuous Integration","backend","devops::verify","group::pipeline execution","section::ops","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329450","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329450","notes":"https://gitlab.com/api/v4/projects/278964/issues/329450/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329450/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329450","relative":"#329450","full":"gitlab-org/gitlab#329450"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86210974,"iid":329446,"project_id":278964,"title":"WebIDE discloses information about private projects","description":"**[HackerOne report #1167218](https://hackerone.com/reports/1167218)** by `0xn3va` on 2021-04-17, assigned to GitLab Team:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nWhen you open a project in WebIDE at the `/-/ide/project/\u003cfull_project_path\u003e` path, the `IdeController` searches for the project using the following method:\n\n```ruby  \n  def project  \n    strong_memoize(:project) do  \n      next unless params[:project_id].present?\n\n      Project.find_by_full_path(params[:project_id])  \n    end  \n  end  \n```\n\nThe result of searching is used inside `IdeHelper.ide_data`:\n\n```ruby  \nmodule IdeHelper  \n  def ide_data  \n    {  \n      # ...  \n      'project' =\u003e convert_to_project_entity_json([@]project)  \n    }  \n  end  \n```\n\nThe 'project' value is gone to the `app/views/ide/_show.html.haml` template. Since the `IdeController.project` does not check permissions the `/-/ide/project/\u003cfull_project_path\u003e` discloses information about private projects.\n\n#####  Steps to reproduce\n\n1. Log in as a `user1`  \n2. Create and initialize a private project  \n3. Log in as a `user2`  \n4. Go to the following path: `/-/ide/project/\u003cuser1\u003e/\u003cprivate-project\u003e`  \n5. Open the page sources and find the project data by the `data-project=` keyword\n\n#####  Impact\n\nDisclosure information about private projects\n\n#####  What is the current *bug* behavior?\n\n`IdeController` does not check permissions when searching for a full path project and details of private projects are disclosed.\n\n#####  What is the expected *correct* behavior?\n\n`IdeController` implements checks when searching for a full path project.\n\n#####  Relevant logs and/or screenshots\n\nExample of disclosed information:\n\n```json  \n{\n  \"id\": 25957107,  \n  \"description\": \"A ready-to-go template for Swift-based iOS development.\",  \n  \"name\": \"private-ios-tmpl\",  \n  \"name_with_namespace\": \"Deep Heep / private-ios-tmpl\",  \n  \"path\": \"private-ios-tmpl\",  \n  \"path_with_namespace\": \"deeepheep/private-ios-tmpl\",  \n  \"created_at\": \"2021-04-17T11:12:17.964Z\",  \n  \"tag_list\": [],  \n  \"ssh_url_to_repo\": \"git@gitlab.com:deeepheep/private-ios-tmpl.git\",  \n  \"http_url_to_repo\": \"https://gitlab.com/deeepheep/private-ios-tmpl.git\",  \n  \"web_url\": \"https://gitlab.com/deeepheep/private-ios-tmpl\",  \n  \"readme_url\": \"https://gitlab.com/deeepheep/private-ios-tmpl/-/blob/master/README.md\",  \n  \"avatar_url\": null,  \n  \"forks_count\": 0,  \n  \"star_count\": 0,  \n  \"last_activity_at\": \"2021-04-17T11:12:17.964Z\",  \n  \"namespace\": {  \n    \"id\": 11748588,  \n    \"name\": \"Deep Heep\",  \n    \"path\": \"deeepheep\",  \n    \"kind\": \"user\",  \n    \"full_path\": \"deeepheep\",  \n    \"parent_id\": null,  \n    \"avatar_url\": \"https://secure.gravatar.com/avatar/96dbe4fc039d860eb9a66492e192f5fa?s=80\u0026d=identicon\",  \n    \"web_url\": \"https://gitlab.com/deeepheep\"  \n  },  \n  \"container_registry_image_prefix\": \"registry.gitlab.com/deeepheep/private-ios-tmpl\",  \n  \"_links\": {  \n    \"self\": \"https://gitlab.com/api/v4/projects/25957107\",  \n    \"issues\": \"https://gitlab.com/api/v4/projects/25957107/issues\",  \n    \"merge_requests\": \"https://gitlab.com/api/v4/projects/25957107/merge_requests\",  \n    \"repo_branches\": \"https://gitlab.com/api/v4/projects/25957107/repository/branches\",  \n    \"labels\": \"https://gitlab.com/api/v4/projects/25957107/labels\",  \n    \"events\": \"https://gitlab.com/api/v4/projects/25957107/events\",  \n    \"members\": \"https://gitlab.com/api/v4/projects/25957107/members\"  \n  },  \n  \"packages_enabled\": true,  \n  \"empty_repo\": false,  \n  \"archived\": false,  \n  \"visibility\": \"private\",  \n  \"owner\": {  \n    \"id\": 8693729,  \n    \"name\": \"Deep Heep\",  \n    \"username\": \"deeepheep\",  \n    \"state\": \"active\",  \n    \"avatar_url\": \"https://secure.gravatar.com/avatar/96dbe4fc039d860eb9a66492e192f5fa?s=80\u0026d=identicon\",  \n    \"web_url\": \"https://gitlab.com/deeepheep\"  \n  },  \n  \"resolve_outdated_diff_discussions\": false,  \n  \"container_registry_enabled\": true,  \n  \"container_expiration_policy\": {  \n    \"cadence\": \"1d\",  \n    \"enabled\": false,  \n    \"keep_n\": 10,  \n    \"older_than\": \"90d\",  \n    \"name_regex\": \".*\",  \n    \"name_regex_keep\": null,  \n    \"next_run_at\": \"2021-04-18T11:12:17.977Z\"  \n  },  \n  \"issues_enabled\": true,  \n  \"merge_requests_enabled\": true,  \n  \"wiki_enabled\": true,  \n  \"jobs_enabled\": true,  \n  \"snippets_enabled\": true,  \n  \"service_desk_enabled\": true,  \n  \"service_desk_address\": \"incoming deeepheep-private-ios-tmpl-25957107-issue-[@]incoming.gitlab.com\",  \n  \"can_create_merge_request_in\": false,  \n  \"issues_access_level\": \"enabled\",  \n  \"repository_access_level\": \"enabled\",  \n  \"merge_requests_access_level\": \"enabled\",  \n  \"forking_access_level\": \"enabled\",  \n  \"wiki_access_level\": \"enabled\",  \n  \"builds_access_level\": \"enabled\",  \n  \"snippets_access_level\": \"enabled\",  \n  \"pages_access_level\": \"enabled\",  \n  \"operations_access_level\": \"enabled\",  \n  \"analytics_access_level\": \"enabled\",  \n  \"emails_disabled\": null,  \n  \"shared_runners_enabled\": true,  \n  \"lfs_enabled\": true,  \n  \"creator_id\": 8693729,  \n  \"import_status\": \"finished\",  \n  \"open_issues_count\": 0,  \n  \"ci_default_git_depth\": 50,  \n  \"ci_forward_deployment_enabled\": true,  \n  \"public_jobs\": true,  \n  \"build_timeout\": 3600,  \n  \"auto_cancel_pending_pipelines\": \"enabled\",  \n  \"build_coverage_regex\": null,  \n  \"shared_with_groups\": [],  \n  \"only_allow_merge_if_pipeline_succeeds\": false,  \n  \"allow_merge_on_skipped_pipeline\": null,  \n  \"restrict_user_defined_variables\": false,  \n  \"request_access_enabled\": false,  \n  \"only_allow_merge_if_all_discussions_are_resolved\": false,  \n  \"remove_source_branch_after_merge\": true,  \n  \"printing_merge_request_link_enabled\": true,  \n  \"merge_method\": \"merge\",  \n  \"suggestion_commit_message\": null,  \n  \"auto_devops_enabled\": false,  \n  \"auto_devops_deploy_strategy\": \"continuous\",  \n  \"autoclose_referenced_issues\": true,  \n  \"external_authorization_classification_label\": \"\",  \n  \"requirements_enabled\": false,  \n  \"security_and_compliance_enabled\": null,  \n  \"compliance_frameworks\": []  \n}\n```\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n####  Impact\n\nDisclosure information about private projects\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2021-04-29T11:04:27.760Z","updated_at":"2022-01-10T13:27:34.071Z","closed_at":"2021-07-01T13:14:15.190Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Web IDE","Deliverable","HackerOne","Weakness::CWE-284","backend","devops::create","group::editor","priority::3","section::dev","security","severity::3","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-07-28","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329446","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329446","notes":"https://gitlab.com/api/v4/projects/278964/issues/329446/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329446/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329446","relative":"#329446","full":"gitlab-org/gitlab#329446"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86201508,"iid":329437,"project_id":278964,"title":"[DevopsAdoption] Using filters wipes out the table","description":"### Summary\n\nWhen you use filters to find a group and click to add it to the table it wipes out everything except that group. That makes filtering extremely harmful and not usable. See the video.\n![filtering_bug_devops_adoption](/uploads/4e3cc7650105712c984d025f0d97f0f1/filtering_bug_devops_adoption.mov)\n\n### Expected behaviour\n\nWhen you filter the group and add\\remove checkboxes for a group it shouldn't affect the state of other groups.\n\n### Actual behaviour\n\nIt seems like FE makes a call to delete all the segments from the table except those which are checked **in filtered group list**\n\n/cc @wortschi @blabuschagne @djensen","state":"closed","created_at":"2021-04-29T09:15:50.872Z","updated_at":"2021-05-10T06:43:54.273Z","closed_at":"2021-05-10T06:43:54.163Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Category:DevOps Reports","devops::manage","frontend","group::optimize","priority::1","section::dev","severity::1","type::bug","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329437","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329437","notes":"https://gitlab.com/api/v4/projects/278964/issues/329437/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329437/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329437","relative":"#329437","full":"gitlab-org/gitlab#329437"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86200671,"iid":329435,"project_id":278964,"title":"Allow to reference work  items (of requirements type) from test reports","description":"Currently users can [reference individual requirements](https://docs.gitlab.com/ee/user/project/requirements/#specifying-individual-requirements) from test reports by their `iid`.\n\nBefore we can deprecate and remove Requirements legacy object IID, users should be able to reference individual requirements independently on the requirement's `iid` (e.g. by work item's `iid` or something else).\n\nWe'll need to handle if the work item being referenced isn't a requirement (e.g. an epic or issue) similarly to how we handle if the work item's `iid` doesn't exist in that project.\n\nFrom @jprovaznik's comment in https://gitlab.com/groups/gitlab-org/-/epics/9203#note_1168819147:\n\n\u003e update TestReport to accept new references - extend https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/models/requirements_management/test_report.rb#L60 to check format of the reference provided from the CI job. Currently keys are djust IID integers - https://docs.gitlab.com/ee/user/project/requirements/#specifying-individual-requirements (or `*`), so we could check here if the keys is an integer, treat it as old requirement IID. If it's the new format (either issue reference prefixed with `#` or whatver else is used), then find the work item by this reference.","state":"closed","created_at":"2021-04-29T09:06:22.010Z","updated_at":"2023-01-10T04:43:09.962Z","closed_at":"2022-12-19T17:11:17.864Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Category:Requirements Management","Deliverable","[deprecated] Accepting merge requests","backend","devops::plan","group::certify","missed-deliverable","missed:14.1","section::dev","type::feature","workflow::verification"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329435","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329435","notes":"https://gitlab.com/api/v4/projects/278964/issues/329435/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329435/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329435","relative":"#329435","full":"gitlab-org/gitlab#329435"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9203,"epic":{"id":650273,"iid":9203,"title":"Deprecate and remove dedicated requirement object","url":"/groups/gitlab-org/-/epics/9203","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":86187146,"iid":329423,"project_id":278964,"title":"BE: Update GraphQL API to list Scan Execution Policies","description":"## Why are we doing this work\n\nWe want to be able to list Scan Execution Policies defined in the project through GraphQL API to allow users to manage  policies easily.\n\nThis new field in `project` should have fields:\n- `name` **string**,\n- `description` **string**,\n- `enabled` **boolean**,\n- `yaml` **string**\n- `updatedAt` **timestamp**\n\nAs we are currently storing all policies in YAML file in Security Policy Project, to present these fields we will have to prepare service that will read YAML file and commit information from the repository and then prepares entity to be presented in the API.\n\n## Relevant links\n\n- [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5362)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [x] Documentation: add GraphQL documentation for new fields, \n- [x] Feature flag: `security_orchestration_policies_configuration` the feature and new GraphQL API will be hidden behind feature flag,\n- [x] Performance: look for potential N+1 queries (similarly to https://gitlab.com/gitlab-org/gitlab/-/issues/324382)\n- [x] Testing:\n  - test if GraphQL API is available only when feature flag is enabled,\n  - test if GraphQL API is returning empty list when YAML files are not valid or missing,\n  - test if GraphQL API is returning all values properly from YAML file\n\n\n## Implementation plan\n\n- [x] ~backend ~~prepare new service to fetch list of policies from the repository of Security Policy Project `Security::SecurityOrchestrationPolicies::FindResourceService`~~, The logic could be done in the resolver itself\n- [x] ~backend prepare `ScanExecutionPolicyResolver` that will use mentioned service to fetch policies from repository and provide them in the format acceptable by GraphQL type,\n- [x] ~backend add new field to `ProjectType` (`ee` only): `scanExecutionPolicies` as `[ScanExecutionPolicyType]` (`null: false, resolver: ::Resolvers::ScanExecutionPolicyResolver`) with fields:\n  - [x] `name` `GraphQL::STRING_TYPE, null: false`,\n  - [x] `description` `GraphQL::STRING_TYPE, null: false`,\n  - [x] `enabled` GraphQL::BOOLEAN_TYPE, null: false,\n  - [x] `yaml` `GraphQL::STRING_TYPE, null: false`,\n  - [x] `updatedAt` `Types::TimeType, null: false`","state":"closed","created_at":"2021-04-29T06:33:00.993Z","updated_at":"2021-08-20T15:19:42.909Z","closed_at":"2021-05-31T09:45:26.610Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Security Policy Management","Enterprise Edition","GitLab Ultimate","backend","devops::govern","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":3696420,"username":"caneldem","name":"Can Eldem","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3696420/avatar.png","web_url":"https://gitlab.com/caneldem"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329423","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":12,"completed_count":12},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 12 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329423","notes":"https://gitlab.com/api/v4/projects/278964/issues/329423/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329423/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329423","relative":"#329423","full":"gitlab-org/gitlab#329423"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5362,"epic":{"id":198770,"iid":5362,"title":"Allow Users to Edit yaml-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5362","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86187127,"iid":329422,"project_id":278964,"title":"BE: Create GraphQL mutation to create Security Policy Project","description":"## Why are we doing this work\n\nWe want to be able to create new project to store Scan Execution Policies through GraphQL API mutation to allow project owners do that easily.\n\nNew mutation should accept 2 arguments: `projectId` (ID of the project for which we are creating Security Policy Project) and `name` (name of the desired project).\n\nNewly created project with policies should have permissions defined according to the requirement:\n\u003e The new project will be pre-configured with all Production Project maintainers added to the new Security Policy Project with Developer permissions\n\n## Relevant links\n\n- [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5362)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [x] Documentation: add GraphQL documentation for new mutation, \n- [x] Feature flag: `security_orchestration_policies_configuration` the feature and new GraphQL mutation will be hidden behind feature flag,\n- [-] Performance: \n- [x] Testing:\n  - test if GraphQL mutation is available only when feature flag is enabled,\n  - test if GraphQL mutation is properly creating new permissions to Maintainers,\n  - test if GraphQL mutation populates valid error message if there already exists a security policy project for the given project,\n  - ~~test if new project has protected default branch to not allow direct push to it,~~ : https://gitlab.com/gitlab-org/gitlab/-/issues/335661\n\n## Implementation plan\n\n- [x] ~backend prepare new service `Security::SecurityOrchestrationPolicies::ProjectCreateService` to create new project and setup authorization (get all maintainers from current project (in groups or individually) and assign them to new project with `Developer` max role),\n- [x] ~backend prepare new GraphQL mutation `securityPolicyProjectCreate` to create Security Policy Project, that accepts argument: `projectPath` (path of the project for which we are creating Security Policy Project)\n- [x] ~backend prepare a new GraphQL mutation `securityPolicyProjectAssign` to assign security policy project, that accepts argument: `projectPath` (path of the project for which we are assigning Security Policy Project) and `securityPolicyProjectPath` (path of the security policy project)","state":"closed","created_at":"2021-04-29T06:32:37.682Z","updated_at":"2021-07-20T14:45:48.059Z","closed_at":"2021-07-12T08:40:32.976Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Security Policy Management","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::govern","group::security policies","section::sec","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329422","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329422","notes":"https://gitlab.com/api/v4/projects/278964/issues/329422/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329422/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329422","relative":"#329422","full":"gitlab-org/gitlab#329422"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5362,"epic":{"id":198770,"iid":5362,"title":"Allow Users to Edit yaml-mode Scan Execution Policies in the Policy UI","url":"/groups/gitlab-org/-/epics/5362","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86174368,"iid":329406,"project_id":278964,"title":"Set up Sharding environment","description":"### Set up a minimal environment for sharding using decomposition\n\nShadow Infra Epic: https://gitlab.com/groups/gitlab-com/gl-infra/-/epics/515","state":"closed","created_at":"2021-04-29T02:24:07.188Z","updated_at":"2022-05-31T12:23:20.779Z","closed_at":"2021-09-30T11:48:45.971Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Pods","devops::data_stores","group::pods","section::enablement","wg_database-scalability"],"milestone":null,"assignees":[{"id":2759709,"username":"Finotto","name":"Jose Finotto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2759709/avatar.png","web_url":"https://gitlab.com/Finotto"}],"author":{"id":3753003,"username":"cdu1","name":"Chun Du","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3753003/avatar.png","web_url":"https://gitlab.com/cdu1"},"type":"ISSUE","assignee":{"id":2759709,"username":"Finotto","name":"Jose Finotto","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2759709/avatar.png","web_url":"https://gitlab.com/Finotto"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329406","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329406","notes":"https://gitlab.com/api/v4/projects/278964/issues/329406/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329406/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329406","relative":"#329406","full":"gitlab-org/gitlab#329406"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5840,"epic":{"id":255814,"iid":5840,"title":"Decomposition: Testing and validation strategy","url":"/groups/gitlab-org/-/epics/5840","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86173972,"iid":329405,"project_id":278964,"title":"Allow user to edit issue confidentiality on GraphQL boards","description":"Behind `:graphql_board_lists` feature flag, we want to add confidentiality widget in board sidebar for consistency with issue page and epic boards.\n\n![Screenshot_from_2021-04-29_12-09-37](/uploads/dea793fbe4df8d7fde96f3e0a7ffddd6/Screenshot_from_2021-04-29_12-09-37.png)","state":"closed","created_at":"2021-04-29T02:10:35.450Z","updated_at":"2021-05-04T01:46:16.467Z","closed_at":"2021-05-04T01:46:16.408Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["devops::plan","feature flag","feature::enhancement","frontend","group::product planning","section::dev","type::feature","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329405","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329405","notes":"https://gitlab.com/api/v4/projects/278964/issues/329405/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329405/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329405","relative":"#329405","full":"gitlab-org/gitlab#329405"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86173233,"iid":329403,"project_id":278964,"title":"Challenge: members table","description":"One of the very first tables that is a challenge to shard with top-level namespace is the `members` table.\n\n1. The join relationship from `Group` to `members`. With Rails 6.0, we have to do this manually. Might be easier with Rails 6.1\n1. The polymorphism might make sharding harder, though this is just a guess.\n1. We use this members table in various hard context that require scan across all shards, for example\n  - We should all the groups a user belongs to.\n  - We should show issues across all groups user can view.","state":"closed","created_at":"2021-04-29T01:31:39.930Z","updated_at":"2022-05-31T12:23:21.326Z","closed_at":"2021-06-04T17:28:45.992Z","closed_by":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"labels":["Category:Pods","automation:ml","automation:ml wrong","database","devops::data_stores","group::pods","section::enablement","wg_database-scalability"],"milestone":null,"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329403","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329403","notes":"https://gitlab.com/api/v4/projects/278964/issues/329403/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329403/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329403","relative":"#329403","full":"gitlab-org/gitlab#329403"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5948,"epic":{"id":265566,"iid":5948,"title":"Challenges identified with horizontal sharding","url":"/groups/gitlab-org/-/epics/5948","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86169595,"iid":329397,"project_id":278964,"title":"Address putting ES6 class in Vue reactive data for Content Editor","description":"## Context\n\nThe following discussion from !60006 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60006#note_563121485): \n\n    \u003e **issue (maintainability,non-blocking):** During a sync call with @ealcantara, we noted that we're passing an ES6 class around, expecting it to be reactive, which is a big assumption in Vue world.\n    \u003e \n    \u003e Typically we only have plain ol' objects, arrays, and primitives as reactive state in Vue.\n    \u003e \n    \u003e It's a bit out of scope here, but let's think about this problem holistically in a follow-up.","state":"closed","created_at":"2021-04-28T22:18:35.951Z","updated_at":"2021-10-28T13:57:10.748Z","closed_at":"2021-07-29T08:57:18.640Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Deliverable","Stretch","devops::create","frontend","group::editor","maintenance::refactor","quad-planning::complete-no-action","section::dev","type::maintenance","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329397","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329397","notes":"https://gitlab.com/api/v4/projects/278964/issues/329397/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329397/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329397","relative":"#329397","full":"gitlab-org/gitlab#329397"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86168326,"iid":329394,"project_id":278964,"title":"Create GraphQL mutations for the job actions cells","description":"As part of the overall epic to move the jobs view to Vue, we need to create mutations for the various job actions\n\n### Proposal \n\nCreate the mutations for the following job actions that can be performed on the jobs page\n\n- [x] Retry\n- [x] Unschedule\n- [x] Cancel\n- [x] Play","state":"closed","created_at":"2021-04-28T21:32:42.528Z","updated_at":"2021-08-19T15:22:07.383Z","closed_at":"2021-08-19T15:22:07.359Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","GraphQL","backend","devops::verify","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329394","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329394","notes":"https://gitlab.com/api/v4/projects/278964/issues/329394/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329394/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329394","relative":"#329394","full":"gitlab-org/gitlab#329394"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5604,"epic":{"id":226144,"iid":5604,"title":"Refactor jobs view to Vue/GraphQL","url":"/groups/gitlab-org/-/epics/5604","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":86164252,"iid":329386,"project_id":278964,"title":"Require reload to change diff settings","description":"## Problem to Solve\n\nIn cases where multiple merge request settings are changed (example: side-by-side to inline AND toggle for whitespace changes) the application processes each of those requests sequentially. This means that a user has to way for the page to teardown and rebuild multiple times when multiple settings are changed.\n\nIn large MRs this can be a source of delay or create situations where there is a significant lockup of the page and cause the browser to become completely unresponsive.\n\n## Proposal\n\nA button should be added to the bottom of this dropdown that prompts a user to reload the page in order to apply the changes. This buttons should only be click-able or visible if the user has adjusted any of the settings.\n\n![Screen_Shot_2021-04-28_at_2.32.53_PM](/uploads/1a344da863c9b660b289acdafc611736/Screen_Shot_2021-04-28_at_2.32.53_PM.png)","state":"closed","created_at":"2021-04-28T19:35:10.591Z","updated_at":"2021-09-13T15:05:08.189Z","closed_at":"2021-08-17T19:45:35.323Z","closed_by":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"labels":["OKR FY22 Q2::Large MR","UI text","UX","bug::performance","devops::create","documentation","feature::enhancement","frontend","group::code review","missed:14.0","section::dev","tw-weight::3","type::feature","workflow::planning breakdown"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329386","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329386","notes":"https://gitlab.com/api/v4/projects/278964/issues/329386/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329386/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329386","relative":"#329386","full":"gitlab-org/gitlab#329386"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86160917,"iid":329362,"project_id":278964,"title":"New Audit Event: Compliance framework label on project changed","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nUsers may change the compliance framework label on a project. This change could be potentially controversial or unintended, so organizations wish to be able to have a record of this happening. Today, there is no audit event created for any changes to this label.\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nCreate a new audit event in the audit log when a project's compliance framework label changes.\n\n### Implementation Plan\n\n* Add `Auditable` concern to `ComplianceManagement::ComplianceFramework::ProjectSetting`. \\\nAs the join table between `Project` and `ComplianceManagement::Framework`, the creation or destruction of a row represents when a framework is added or removed from a project.\n* Add specs to assert that the audit event is created when:\n  * A project has a new framework added to it.\n  * A project has a framework removed.\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e","state":"closed","created_at":"2021-04-28T18:11:57.886Z","updated_at":"2022-01-30T13:46:53.822Z","closed_at":"2021-07-12T08:02:32.141Z","closed_by":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"labels":["Category:Audit Events","GitLab Premium","audit_events::settings_configuration","devops::manage","direction","feature::addition","group::compliance","priority::1","section::dev","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"}],"author":{"id":4376883,"username":"stkerr","name":"Sam Kerr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/591c8b969464f7b4fb97b6f2f654f11a?s=80\u0026d=identicon","web_url":"https://gitlab.com/stkerr"},"type":"ISSUE","assignee":{"id":5833976,"username":"mwoolf","name":"Max Woolf","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c8af02fcb6678db41bd8d3a29f9c1d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/mwoolf"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329362","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329362","notes":"https://gitlab.com/api/v4/projects/278964/issues/329362/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329362/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329362","relative":"#329362","full":"gitlab-org/gitlab#329362"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":474,"epic":{"id":1502,"iid":474,"title":"Comprehensive audit log: project settings","url":"/groups/gitlab-org/-/epics/474","group_id":9970},"iteration":null,"health_status":"on_track"},{"id":86154067,"iid":329351,"project_id":278964,"title":"Documentation: Update Usage Ping metric implementation guidelines","description":"## Background \n\nRecently naming suggestion was introduced to help everyone select well defined name for their metric. Using name suggestion for metric should be included in to new metric implementation guide https://docs.gitlab.com/ee/development/usage_ping/index.html#developing-and-testing-usage-ping and also product intelligence reviewers should be advocated to suggest that during product intelligence reviews, therefore we should also update https://docs.gitlab.com/ee/development/usage_ping/product_intelligence_review.html \n\n## Goal\n\n1. Add instruction how to use name suggestion for naming metric at https://docs.gitlab.com/ee/development/usage_ping/index.html#developing-and-testing-usage-ping. Required steps that should be described:\n1. Update https://docs.gitlab.com/ee/development/usage_ping/product_intelligence_review.html with advise to suggest applying newly added guidance about naming during product intelligence reviews \n\n## How to use name suggestion \n\nRight now we have the an egg and a chicken problem. In order to generate metric name suggestion, metric has to be instrumented at provided `key_path` when generating metrics YAML, but we need to advise to retun back to instrumentation and update it, after getting metric name.\n\n1. Add metric instrumentation within `lib/gitalb/usage_data.rb` inside one of [top level keys](https://docs.gitlab.com/ee/development/usage_ping/index.html#1-naming-and-placing-the-metrics) with any name of developer chosing\n1. Run [metrics YAML generator](https://docs.gitlab.com/ee/development/usage_ping/metrics_dictionary.html#create-a-new-metric-definition)\n1. Using metric name suggestion to select correct metric name\n1. Updating instrumentation from 1st step and changing metric name to the one that follows suggestion\n1. Finally update metrics YAML with correct `key_path`","state":"closed","created_at":"2021-04-28T15:43:12.682Z","updated_at":"2021-07-26T16:22:47.405Z","closed_at":"2021-07-26T05:37:15.071Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["Community contribution","Documentation guidelines","Unplanned","backend","devops::growth","group::product intelligence","product intelligence","section::growth","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":6265352,"username":"edith007","name":"Siddharth Asthana","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6265352/avatar.png","web_url":"https://gitlab.com/edith007"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":6265352,"username":"edith007","name":"Siddharth Asthana","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6265352/avatar.png","web_url":"https://gitlab.com/edith007"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329351","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329351","notes":"https://gitlab.com/api/v4/projects/278964/issues/329351/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329351/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329351","relative":"#329351","full":"gitlab-org/gitlab#329351"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86151678,"iid":329343,"project_id":278964,"title":"Under `Ci::`Namespace CI Worker `ArchiveTraceWorker`","description":"### Proposal \n\n- [x] Add the new worker class, `Ci::ArchiveTraceWorker` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64934\n- [ ] Start enqueuing the new worker and stop enqueuing the old worker\n    - [ ] Toggle a `ci_build_finished_worker_namespace_changed` feature flag\n- [ ] Next release, [drain the queue](https://docs.gitlab.com/ee/development/sidekiq_style_guide.html#renaming-queues) for the old worker and delete its files.","state":"closed","created_at":"2021-04-28T14:59:46.821Z","updated_at":"2022-11-17T00:16:19.613Z","closed_at":"2022-11-16T16:18:07.858Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["Category:Continuous Integration","Hacktoberfest","Seeking community contributions","Verify candidate","[deprecated] Accepting merge requests","backend","devops::verify","group::pipeline execution","maintenance::refactor","section::ops","severity::3","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329343","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329343","notes":"https://gitlab.com/api/v4/projects/278964/issues/329343/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329343/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/366481"},"references":{"short":"#329343","relative":"#329343","full":"gitlab-org/gitlab#329343"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5906,"epic":{"id":261434,"iid":5906,"title":"CI Worker Namespacing","url":"/groups/gitlab-org/-/epics/5906","group_id":9970},"iteration":null,"health_status":null},{"id":86151506,"iid":329340,"project_id":278964,"title":"Add dynamic build link based on permissions","description":"In our HAML implementation we dynamically either show the `job.id` as a link or just a string based on permissions.\n\nHAML: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/views/projects/ci/builds/_build.html.haml#L16\n\nWe need to add this ability to the new Vue/GraphQL implementation before rolling out to our users.\n\nWe will have this data in GraphQL once https://gitlab.com/gitlab-org/gitlab/-/issues/329244 is complete.","state":"closed","created_at":"2021-04-28T14:55:49.447Z","updated_at":"2021-05-07T12:42:09.709Z","closed_at":"2021-05-07T12:42:09.554Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","devops::verify","frontend","group::pipeline execution","section::ops","workflow::in review"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329340","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329340","notes":"https://gitlab.com/api/v4/projects/278964/issues/329340/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329340/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329340","relative":"#329340","full":"gitlab-org/gitlab#329340"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5604,"epic":{"id":226144,"iid":5604,"title":"Refactor jobs view to Vue/GraphQL","url":"/groups/gitlab-org/-/epics/5604","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":86151295,"iid":329338,"project_id":278964,"title":"Update translations levels (May 2021)","description":"## Introduction\n\nWith the implementation of the feature to show the [translation coverage](https://gitlab.com/gitlab-org/gitlab/-/issues/328430) in the language selection dropdown, the translation levels need to be updated on a monthly cadence. \n\n## Proposal\n\nOnce the monthly merge of the new translations is complete, update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L40) from Crowdin.\n\n## Documentation\n\n* https://docs.gitlab.com/ee/development/i18n/merging_translations.html#manually-update-the-translation-levels\n\n#### ToDo\n* [x] Complete the [regular monthly merge](https://gitlab.com/groups/gitlab-org/-/epics/3571) of translations from Crowdin. \n* [x] Get the translation levels (% approved words) from [Crowdin](https://crowdin.com/project/gitlab-ee/settings#translations).\n* [x] Create an MR to update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L40).\n* [x] Associate that MR to this issue.\n* [x] Complete the MR.\n* [x] When done, clone this issue for the next milestone.","state":"closed","created_at":"2021-04-28T14:53:27.969Z","updated_at":"2022-03-28T19:16:58.731Z","closed_at":"2021-05-12T01:16:30.589Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-05-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329338","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329338","notes":"https://gitlab.com/api/v4/projects/278964/issues/329338/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329338/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329338","relative":"#329338","full":"gitlab-org/gitlab#329338"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":86149860,"iid":329330,"project_id":278964,"title":"Show merge request reviewer display name and username in sidebar","description":"## Problem to Solve\n\nThe merge request reviewers area does not display the users full name when looking at the sidebar. This is inconsistent with how the Assignee field of the sidebar is displayed and makes it challenging to know who might be reviewing your MR (outside of username):\n\n![Screen_Shot_2021-04-28_at_9.16.39_AM](/uploads/c64764b61ca06bbaff137aa70da14494/Screen_Shot_2021-04-28_at_9.16.39_AM.png)\n\n## Proposal\n\nThe sidebar area for reviewers should show the username and display name for the users reviewing your merge request.","state":"closed","created_at":"2021-04-28T14:29:50.035Z","updated_at":"2021-11-05T21:03:44.826Z","closed_at":"2021-11-05T21:03:44.810Z","closed_by":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"labels":["Deliverable","devops::create","feature::enhancement","frontend","group::code review","merge requests","reviewers","section::dev","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":4414431,"username":"thomasrandolph","name":"Thomas Randolph","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6462fcd577d8c957abd2dc23956cfbec?s=80\u0026d=identicon","web_url":"https://gitlab.com/thomasrandolph"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329330","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329330","notes":"https://gitlab.com/api/v4/projects/278964/issues/329330/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329330/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329330","relative":"#329330","full":"gitlab-org/gitlab#329330"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4560,"epic":{"id":123080,"iid":4560,"title":"👁 Merge request reviewers improvements","url":"/groups/gitlab-org/-/epics/4560","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86135382,"iid":329318,"project_id":278964,"title":"Validate URL before executing download","description":"All the current code paths that use `Gitlab::ImportExport::CommandLineUtil#download` helper already validates the URL before executing the download. But, since this method is a helper a new code path can be introduced without a validation. To avoid that, the validation will be done in the helper method itself.\n\nRelated to: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59033#note_557432133","state":"closed","created_at":"2021-04-28T12:38:49.782Z","updated_at":"2021-04-30T12:43:34.120Z","closed_at":"2021-04-30T12:43:33.662Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","backend","devops::manage","group::import","maintenance::refactor","section::dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329318","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329318","notes":"https://gitlab.com/api/v4/projects/278964/issues/329318/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329318/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329318","relative":"#329318","full":"gitlab-org/gitlab#329318"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86134767,"iid":329317,"project_id":278964,"title":"Identify the challenges of using `.preload`","description":"When sharding tables horizontally, we need to be able to preload data from a one or many shards depending of IDs used and context executed.\n\nToday we extensively use a code similar to this:\n\n```ruby\nproject.pipelines.preload(:stages)\n```\n\nWe need to be able to use this method of accessing data in a horizontally sharded data.","state":"closed","created_at":"2021-04-28T12:31:15.478Z","updated_at":"2021-06-01T15:52:22.350Z","closed_at":"2021-05-21T08:53:31.781Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["auto updated","pods::active"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329317","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329317","notes":"https://gitlab.com/api/v4/projects/278964/issues/329317/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329317/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329317","relative":"#329317","full":"gitlab-org/gitlab#329317"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5839,"epic":{"id":255812,"iid":5839,"title":"Manage logical database shards","url":"/groups/gitlab-org/-/epics/5839","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86133732,"iid":329313,"project_id":278964,"title":"Shard ci_builds and related tables, either horizontally or vertically","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/329311 we propose looking into sharding `web_hook_logs`, as this should be an easy starting point.\n\nOnce know more based on the outcome of that issue, we should look into sharding `ci_builds` and related tables. Currently `ci_builds` is our largest table (2.6 TB), has the 3rd most tuple writes (271/sec), and the 3rd most tuple reads (750142/sec). It's also a rather wide table, and crucial to various parts of GitLab. This makes it an excellent candidate to learn more about what sharding approaches we can apply to more complex tables. In addition, should we be able to shard it we can also move a lot of load away from the main database.\n\nNo due date yet for this issue as we probably won't be starting on this for a while.","state":"closed","created_at":"2021-04-28T12:18:04.528Z","updated_at":"2022-05-31T12:23:21.972Z","closed_at":"2021-05-19T12:10:00.667Z","closed_by":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"labels":["database","devops::data_stores","group::pods","section::enablement","wg_database-scalability","workflow::in dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329313","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329313","notes":"https://gitlab.com/api/v4/projects/278964/issues/329313/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329313/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329313","relative":"#329313","full":"gitlab-org/gitlab#329313"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6167,"epic":{"id":287358,"iid":6167,"title":"Decomposition: CI Tables","url":"/groups/gitlab-org/-/epics/6167","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86133625,"iid":329312,"project_id":278964,"title":"\"Create merge request\" button after pushing new branch misaligned","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nAfter pushing a new branch, the `Merge Requests` view shows a helpful shortcut to create a new MR for the branch.\n\nThe `Create merge request` button in this row is misaligned with the `New merge request` button directly below.\n\nThe `You pushed to $branch just now` is misaligned with the MR list tabs, but that is less jarring than the misaligned buttons.\n\n![Screenshot_2021-04-28_at_13.02.04](/uploads/90a7782b760f31688f5bc5a63333292a/Screenshot_2021-04-28_at_13.02.04.png)\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n* Push to new branch\n* Open `Merge Requests` list\n\n### What is the current *bug* behavior?\n\nMisalignment of buttons to create an MR after pushing to new branch.\n\n### What is the expected *correct* behavior?\n\nButtons are nicely aligned, like so:\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/d86844eb68f24857b01a574432672df8/Screenshot_2021-05-05_at_15.02.50.png)\n\nAs a **stretch** goal, consider applying the [alert component](https://design.gitlab.com/components/alert/) styles here, using the **success** variant:\n\n![image](/uploads/9ef64a5979a924de18e900e0d9dae36a/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2021-04-28T12:16:59.971Z","updated_at":"2021-11-03T17:02:20.141Z","closed_at":"2021-08-21T21:00:05.920Z","closed_by":{"id":1474048,"username":"gtsiolis","name":"George Tsiolis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1474048/avatar.png","web_url":"https://gitlab.com/gtsiolis"},"labels":["Category:Code Review Workflow","Stretch","UI polish","devops::create","frontend","group::code review","merge requests","missed:14.0","missed:14.1","missed:14.2","priority::4","section::dev","severity::4","type::bug"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1474048,"username":"gtsiolis","name":"George Tsiolis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1474048/avatar.png","web_url":"https://gitlab.com/gtsiolis"}],"author":{"id":4544656,"username":"mbruemmer","name":"Martin Brümmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4544656/avatar.png","web_url":"https://gitlab.com/mbruemmer"},"type":"ISSUE","assignee":{"id":1474048,"username":"gtsiolis","name":"George Tsiolis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1474048/avatar.png","web_url":"https://gitlab.com/gtsiolis"},"user_notes_count":12,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329312","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329312","notes":"https://gitlab.com/api/v4/projects/278964/issues/329312/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329312/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329312","relative":"#329312","full":"gitlab-org/gitlab#329312"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86133292,"iid":329311,"project_id":278964,"title":"Shard web_hook_logs, either vertically or horizontally","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/329105 I looked at our table sizes, and the number of reads/writes per table. The goal was to determine a few tables we could use to experiment with different sharding solutions.\n\nOne of these tables is `web_hook_logs`. This table is a logging table, meaning we write more than read from it, and that it's size can grow quickly. While the table is already partitioned, and work is under way to remove old partitions, this table may still grow to a large size (e.g. due to an increase in events that lead to logs being created).\n\nA benefit of this table is that it should be fairly easy to shard. For example, the only joinable column it has is `web_hook_id`, and we may not even need to use that column for JOINs.\n\nIn this issue we should look into how to shard this table, and what the benefits would be of sharding it horizontally versus sharding it vertically. We can then use that knowledge to look into more complicated tables, such as `ci_builds`.","state":"closed","created_at":"2021-04-28T12:12:48.274Z","updated_at":"2022-05-31T12:23:22.520Z","closed_at":"2021-06-11T09:29:23.473Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Pods","database","devops::data_stores","group::pods","section::enablement","wg_database-scalability","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329311","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329311","notes":"https://gitlab.com/api/v4/projects/278964/issues/329311/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329311/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329311","relative":"#329311","full":"gitlab-org/gitlab#329311"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5759,"epic":{"id":249564,"iid":5759,"title":"Sharding - Database Scalability","url":"/groups/gitlab-org/-/epics/5759","group_id":9970,"human_readable_end_date":"Jan 30, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86131600,"iid":329308,"project_id":278964,"title":"Identify how to (logically) replicate data to new shards, and when they are in sync","description":"Regardless of the type of sharding solution we pick, we need a way of replicating data from the old database to these new database(s). This likely requires the use of logical replication, as we only want to replicate a subset of our data. This comes with the challenge of determining when the hosts are in sync, and how to do a transparent switch to the new host. In this issue we should discuss the challenges and approaches we may take.\n\nFor now I've set the due date to Friday, but I suspect we may need more time than that.\n\n## Proposal\n\nThere are likely 2 paths with some overlapping details here. The 2 paths are:\n\n1. Using Postgres logical replication/decoding to sync the data =\u003e Preferred\n2. Using the application (ie. Rails code) to sync the data\n\n**The engineering team all thinks option (1) is the best option for meeting our needs as well as simplicity, performance, reliability and the details are as follows.**\n\n### (1) Postgres logical replication/decoding =\u003e Preferred\n\nThis algorithm is almost entirely described (but for MySQL) in https://www.usenix.org/conference/srecon19emea/presentation/li . Postgres specifics will be determined in https://gitlab.com/gitlab-org/gitlab/-/issues/329977 but we believe it's all feasible. \n\nUse Postgres logical replication/decoding. The logic for moving `group-1` from `shard-0` to `shard-1` will be:\n\n1. GitLab starts a `GroupShardMoveWorker`\n1. Configure Postgres to replicate all data belonging to `group-1` from `shard-0` to `shard-1`\n   1. Such data will be `WHERE namespace_id IN (...all subgroups of group-1 and group-1 ids) OR project_id IN (...all projects in group-1 and it's subgroups ids)` (see [universal sharding IDs](#universal-sharding-ids))\n1. Postgres will do an initial copy of all data plus a stream of all updates\n   1. Following https://paquier.xyz/postgresql-2/postgres-9-5-feature-highlight-pg-dump-snapshots/ our initial copy will need to first create a logical replication slot and get a snapshot ID\n   1. The snapshot ID will then need to be used to generate the initial data copy, carefully not losing the initial connection before starting the new transaction with this snapshot ID\n   1. The copy can use any `SELECT` or `pg_dump` or any other normal Postgres queries as it is just in a normal Postgres transaction\n1. GitLab waits until the stream is almost caught up (some threshold of 1s lag should be fine)\n1. `GroupShardMoveWorker` acquires an exclusive lock for `group-1` (see [Shared/Exclusive locking](#shared-exclusive-locking)\n1. `GroupShardMoveWorker` waits until the stream of updates is empty (writing is paused so this should take around 1s)\n1. (optional but advisable) `GroupShardMoveWorker` does a validation check (checksum of all rows/columns in single number to compare `shard-0` with `shard-1`)\n   1. As described in the linked presentation the most likely cause of validation failure will be schema changes that happened during the move. Given the frequency of GitLab deployments and migrations we may want an automated way to coordinate such that we never try moving a group while migrations are in progress. Or we abort a failed move and just retry it later.\n1. Sharding tables are updated to reflect `group-1` now belongs to `shard-1`\n1. `GroupShardMoveWorker` releases exclusive lock for `group-1`\n\n#### Pros\n\n1. Postgres replication is likely the fastest/cheapest/most reliable way to sync the databases\n2. Postgres replication skips any Rails code (eg. validations/hooks) that might possibly update the data and therefore make it impossible to validate the move is correct\n\n#### Cons\n\n1. There will be small write downtime for a group due to the use of an exclusive lock (should be under a few seconds and our backend could retry any writes that happened and therefore it is just 3s latency during this window)\n1. We are limited to the features available in Postgres and may therefore require to add extra columns (denormalized sharding IDs) or other data to make this work\n\n### (2) Using the application (ie. Rails code) to sync the data\n\nThe specifics here are left mostly vague since we don't believe this is a good option nor an easy option.\n\nThe easiest way to do this in Rails would be to do pretty much the same thing as described for Postgres logical replication/decoding above except we load all the data in Rails and write it to `shard-1` followed by creating a queue of updates that started after the initial load which are replayed to `shard-1` (these need to be played in order after the initial load so they need to be queued otherwise we'll try updating/deleting something that does not exist.\n\n#### Pros\n\n1. It's in Rails code so we can be more flexible with how our data is modelled\n1. There are theoretical ways to do dual writing that require no downtime at all but are possibly more complicated to implement\n\n#### Cons\n\n1. It will be very slow and very high CPU consuming (marshalling/unmarshalling via Ruby is hard on the CPU)\n2. There is basically no way to validate the move was successful as any number of Rails hooks or validations may change the resulting data to be different and we don't know if that different is actually broken or just a minor difference\n3. The \"queue\" mechanism described for buffering and replaying updates that happen during initial load does not exist and it would be expensive to implement and likely error prone given the complexity involved in all the data models being transformed here\n4. There is a high likelihood to make the solution correct we would have to extensively fix a lot of Rails hooks that are updating legacy data that we don't want updated in ways that create a poor UX. We also have almost no way to detect these ahead of time as we believe there may be no way to properly validate the update is complete\n5. This introduces an extra pattern for writing Rails data that bypasses our normally sharding mechanisms as we are writing to a different shard and thus more complex Rails code\n\n### (3) Using Import/Export features of GitLab\n\nThere was also a discussion about using **Import/Export** to do the move. We haven't explored this in detail. It could theoretically work but it will likely suffer from many of the problems of doing this in Rails code plus some more so we are ruling this out for now but could always consider this as a backup if all else fails.\n\n#### Cons\n\n1. Import/Export creates copies of each record meaning they will have a new DB ID generated. New DB ID means that any API calls will break for using expecting stable IDs before/after a migration\n2. Import/Export was never designed to copy everything and as such it skips a lot of different important records that a user would not want to lose. For example build logs, artifacts, container registry images\n3. Aside from creating new DB ids it also only works for a newly created group with a new path so this would be even less seamless for users\n4. Import/Export already does not scale to large groups and some take many hours to migrate and downtime for many hours would not be ideal and given the design of Import/Export it would be much slower than other Ruby based approaches\n\nBasically we could overcome all of the above by making changes to how Import/Export works but it would end up being the same as option (2) and would suffer from all of it's flaws and probably ends up being more work than option (1).\n\n\n### (4) Lots of write downtime moving with Ruby or Postgres whichever is easier\n\nBasically the problem starts to become quite a bit simpler if we're willing to accept a few hours of write downtime when moving a group. We don't need to worry about logical replication and transactions and so on. The algorithm is simply to:\n\n1. pause writes to a specific group (see [Shared/Exclusive locking](#shared-exclusive-locking))\n2. Copy all the data for the group across =\u003e the time taken may vary from minutes to hours for the largest groups\n   1. We'd definitely want to avoid using Ruby models here as they are slow but we may want to do as little in Ruby as possible to speed this up\n3. Change the sharding location of the group\n4. Unpause writes\n\n## Universal sharding IDs\n\nPer the above proposed solution we need a single database specific way of identifying all data that belongs to a top level group. The ideal solution (and most common for sharded databases) is that every record embeds the sharding key. In our case this would be the `top_level_namespace_id`. Since we have hundreds of tables it may be difficult to embed this `top_level_namespace_id` in every record. An alternative proposed is a rule that every sharded table at least has a `project_id` or `namespace_id` which gives us only at most 2 ways to query for every record that belongs to the group. Most records today do have a `project_id` but there are some project objects that are nested child objects that do not have this (eg. `award_emoji`). This concept of storing these IDs on deeply nested child objects is called \"de-normalization\". We should explore whether it's feasible to de-normalize project_id on everything (likely easiest) or even better `top_level_namespace_id` which will make a lot of sharding problems much simpler.\n\nSome related topics we can/should explore later:\n\n1. https://gitlab.com/gitlab-org/gitlab/-/issues/330304\n1. https://gitlab.com/gitlab-org/gitlab/-/issues/330305\n\n## Shared/Exclusive locking\n\nThis will be worked on further in https://gitlab.com/gitlab-org/gitlab/-/issues/329976\n\nDescribed in https://www.usenix.org/conference/srecon19emea/presentation/li this algorithm is useful for the kind of locking we need to block writes for a specific group.\n\nAs such there will be 2 types of locks for a group:\n\n1. Shared lock:\n   1. This will be acquired by any process that needs a \"write\" connection to a shard for a specific group\n   1. There can be multiple shared locks at a time\n   1. A process much release a shared lock once it's done writing\n   1. A process must not accidentally hold a shared lock forever if it crashes\n1. Exclusive lock\n   1. The process which moves group will need an exclusive lock for that group for a brief period of time\n   1. An exclusive lock can only be obtained when all shared locks are released\n   1. Once an exclusive lock is obtained for a group you can no longer acquire any shared locks for this group\n   1. The move worker should not accidentally hold the exclusive lock forever if it crashes\n\nWe will need to choose an appropriate technology to keep track of these locks in our distributed system.\n\nWe will evaluate at least the following options:\n\n1. Redis https://redis.io/topics/distlock\n2. Postgres dedicated lock table https://gitlab.com/gitlab-org/gitlab/-/issues/329308#note_568878329\n   1. Per the above thread we need to ensure that the Postgres locking is not used on our main database with massive amounts of writes as it will lead to huge amounts of dead tuples that cannot be cleaned up until the lock is freed. We could simply just move this locking to a dedicated logical database to mitigate this problem.\n\nFrom what I can tell neither of these will give us a guarantee of no writes happening (ie. like a proper read-only database would) but no such option seems possible given the specifics of our domain. Even the Postgres lock option does not give this guarantee since the dedicated lock table is not the table people will be writing to.\n\nWe should evaluate based on:\n\n1. We should build as much into our data access layers/verification/tooling as possible to make it very difficult for an application developer to forget to obtain the lock. Any mistakes in skipping the lock could lead to data loss/corruption.\n1. We need incredibly low latency since this will be requested for every action in GitLab that writes to the database (eg. dedicated Redis instance)\n1. We want it to be very difficult/impossible for a lock to be stuck forever if a process crashes after obtaining a lock. A usual pattern we have with Redis is lock timeouts. But timeouts can be wrong too if the process happens to take longer than the timeout so we may need something more sophisticated like heartbeats or persistent TCP connections to hold a lock.\n\nConfidence of due date May 7 =\u003e 100%","state":"closed","created_at":"2021-04-28T11:51:27.019Z","updated_at":"2022-10-20T10:10:57.350Z","closed_at":"2021-05-07T05:36:45.494Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["database","devops::data_stores","group::pods","wg_database-scalability"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"user_notes_count":29,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":"2021-05-07","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329308","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329308","notes":"https://gitlab.com/api/v4/projects/278964/issues/329308/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329308/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329308","relative":"#329308","full":"gitlab-org/gitlab#329308"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6234,"epic":{"id":293773,"iid":6234,"title":"Decomposition: Migration plan for moving CI tables on GitLab.com","url":"/groups/gitlab-org/-/epics/6234","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86131364,"iid":329305,"project_id":278964,"title":"Identify the challenges of maintaining foreign key constraints across shards","description":"When sharding, either horizontally or vertically, we want to maintain data integrity; ideally through foreign keys. We need to identify what challenges there are with doing this, and if we perhaps need to use a different approach for sharded tables.\n\nDue date set to Friday, as we should be able to get plenty of information before then.\n\n### Summary of findings\n\nForeign keys are feasible for vertical application-level sharding, but not feasible for horizontal application-level sharding. We can still retain foreign keys within one logical DB even for application-level sharding.","state":"closed","created_at":"2021-04-28T11:48:34.247Z","updated_at":"2022-05-31T12:23:23.776Z","closed_at":"2021-05-10T08:01:42.023Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["database","devops::data_stores","group::pods","wg_database-scalability"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-05-05","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329305","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329305","notes":"https://gitlab.com/api/v4/projects/278964/issues/329305/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329305/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329305","relative":"#329305","full":"gitlab-org/gitlab#329305"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5948,"epic":{"id":265566,"iid":5948,"title":"Challenges identified with horizontal sharding","url":"/groups/gitlab-org/-/epics/5948","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86130307,"iid":329300,"project_id":278964,"title":"Identify the challenges of maintaining ID sequences across shards","description":"When sharding tables horizontally, we need a way to maintain uniqueness of certain IDs (e.g primary keys). Doing so an prove challenging, especially in a setup where shards can be added at any point in time. \n\nWe need to look into the challenges and options for maintaining IDs across shards, and if we perhaps need an entirely different approach (e.g. UUIDs).\n\n**Conclusion:** it should be possible to implement a distributed ID sequence: https://gitlab.com/gitlab-org/gitlab/-/issues/329300#note_562872192","state":"closed","created_at":"2021-04-28T11:33:49.982Z","updated_at":"2022-05-31T12:23:24.362Z","closed_at":"2021-04-29T14:56:28.162Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["database","devops::data_stores","group::pods","wg_database-scalability"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"user_notes_count":30,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-04-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329300","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329300","notes":"https://gitlab.com/api/v4/projects/278964/issues/329300/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329300/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329300","relative":"#329300","full":"gitlab-org/gitlab#329300"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5839,"epic":{"id":255812,"iid":5839,"title":"Manage logical database shards","url":"/groups/gitlab-org/-/epics/5839","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86124619,"iid":329296,"project_id":278964,"title":"Evaluation: How many horizontal shards / connections can we have ?","description":"- How many shards can we create ? 56 ? 128 ? 256 ?\n- How many DB connections does Rails create\n\n## Links\n\n- https://guides.rubyonrails.org/active_record_multiple_databases.html#horizontal-sharding is silent on this","state":"closed","created_at":"2021-04-28T10:36:35.125Z","updated_at":"2022-05-31T12:23:24.869Z","closed_at":"2021-05-21T08:54:46.512Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["Category:Pods","auto updated","devops::data_stores","group::pods","section::enablement","wg_database-scalability"],"milestone":null,"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329296","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329296","notes":"https://gitlab.com/api/v4/projects/278964/issues/329296/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329296/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329296","relative":"#329296","full":"gitlab-org/gitlab#329296"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5839,"epic":{"id":255812,"iid":5839,"title":"Manage logical database shards","url":"/groups/gitlab-org/-/epics/5839","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86113366,"iid":329288,"project_id":278964,"title":"Add separate SLI to the api service for GraphQL","description":"Because of the [differences in request rate for GraphQL and REST](https://dashboards.gitlab.net/explore?orgId=1\u0026left=%5B%22now-12h%22,%22now%22,%22Global%22,%7B%22expr%22:%22sum(rate(gitlab_transaction_duration_seconds_count%7Benv%3D%5C%22gprd%5C%22,%20job%3D%5C%22gitlab-rails%5C%22,%20type%3D%5C%22api%5C%22,%20controller%3D%5C%22Grape%5C%22%7D%5B10m%5D))%5Cn%22,%22requestId%22:%22Q-98d9d268-611b-48e9-9aaf-c121b131f269-0Q-38acaaf3-4bfb-4628-bc5f-e70851116434-1A%22,%22format%22:%22time_series%22,%22instant%22:false%7D,%7B%22expr%22:%22sum(rate(gitlab_transaction_duration_seconds_count%7Benv%3D%5C%22gprd%5C%22,%20job%3D%5C%22gitlab-rails%5C%22,%20type%3D%5C%22api%5C%22,%20controller%3D%5C%22GraphqlController%5C%22%7D%5B10m%5D))%22,%22requestId%22:%22Q-98d9d268-611b-48e9-9aaf-c121b131f269-0Q-38acaaf3-4bfb-4628-bc5f-e70851116434-1B%22,%22format%22:%22time_series%22,%22instant%22:false%7D,%7B%22ui%22:%5Btrue,true,true,%22none%22%5D%7D%5D). A problem with GraphQL would not be noticed as long as the REST api is performing satisfactory.\n\nIn other words: we could introduce a very expensive thing to our schema, consume it on a popular page, and we wouldn't notice unless it affects another resource (Redis, postgres, Gitaly, puma-api saturation). If we had a dashboard, we would be able to see what's going on, but there wouldn't be anything triggering us to look at the new dashboard.\n\nIf we added a new SLI for this, these could be the first graphs on the new dashboard. They would also be part of the api-overview dashboard, and we'd have alerts specifically for GraphQL. I think using the histogram mentioned before, we should already be able to define an SLI with an Apdex and error rate. This SLI could be defined in the [`api.jsonnet`](https://gitlab.com/gitlab-com/runbooks/blob/47d398555a1e42072ba10fa9fa79f1e565b0ea95/metrics-catalog/services/api.jsonnet#L114), similar to the puma SLI that already exists.\n\nWe could then later look at what we need to build the graphs mentioned in the separate issues of this epic. After we've adjusted or added the metrics for those, we could look to see if we add them to the dashboard using tailored graphs we can use for a drill down when GraphQL-SLI notified us of a problem, or if we can define extra SLIs using those.","state":"closed","created_at":"2021-04-28T09:21:44.673Z","updated_at":"2022-01-19T15:46:29.242Z","closed_at":"2022-01-05T12:10:27.608Z","closed_by":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"labels":["group::scalability"],"milestone":null,"assignees":[{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},{"id":4124757,"username":"dsatcher","name":"Darva Satcher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4124757/avatar.png","web_url":"https://gitlab.com/dsatcher"}],"author":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"type":"ISSUE","assignee":{"id":171554,"username":"reprazent","name":"Bob Van Landuyt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/171554/avatar.png","web_url":"https://gitlab.com/reprazent"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-11-19","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329288","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329288","notes":"https://gitlab.com/api/v4/projects/278964/issues/329288/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329288/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329288","relative":"#329288","full":"gitlab-org/gitlab#329288"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5841,"epic":{"id":255818,"iid":5841,"title":"Grafana dashboard for GraphQL API","url":"/groups/gitlab-org/-/epics/5841","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":86100411,"iid":329284,"project_id":278964,"title":"Record a tutorial for how to use Usage Data Metrics Instrumentation","description":"Record a tutorial for how to use Usage Data Metrics Instrumentation\n\nAfter having the tooling in place we could have a short video to explain how to use it.\n\n* [ ] Show Metrics Guide\n* [ ] Generate the instrumentation files\n* [ ] Talk about the different type of metric` DatabaseMetric`, `RedisHLLMEtric`, `GenericMetric` \n* [ ] Add the tests using the shared example\n* [ ] Add implementation logic for the metric\n* [ ] Check Usage Ping.","state":"closed","created_at":"2021-04-28T07:25:29.319Z","updated_at":"2022-07-28T14:49:00.218Z","closed_at":"2022-07-28T13:50:48.189Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Category:Service Ping","[deprecated] Accepting merge requests","backend","devops::analytics","documentation","group::product intelligence","quad-planning::complete-no-action","section::analytics","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":null,"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329284","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329284","notes":"https://gitlab.com/api/v4/projects/278964/issues/329284/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329284/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329284","relative":"#329284","full":"gitlab-org/gitlab#329284"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7352,"epic":{"id":415908,"iid":7352,"title":"Improve documentation getting started experience for Product Intelligence at GitLab","url":"/groups/gitlab-org/-/epics/7352","group_id":9970,"human_readable_end_date":"Jun 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86091695,"iid":329280,"project_id":278964,"title":"Microsoft Perspective on GitLab outdated link","description":"## Problem Statement\n\nThe Microsoft Perspective on GitLab vs Azure link is outdated (redirects to another page). Consider removal: https://about.gitlab.com/devops-tools/azure-devops-vs-gitlab/\nLink which takes to general devops page, instead of comparison: [Azure vs GitLab](https://docs.microsoft.com/en-us/azure/devops/learn/compare/azure-devops-vs-gitlab)\n\n## Reach\n\nReaders, gitlab evaluators\n\n\n6.0 = Impacts a large percentage (~50% to ~80%) of the above.\n\n\n## Impact\n\n2.0 = High impact\n\n## Confidence\n\n100% = High confidence\nLink attached above.\n\n\n## Effort\n\n0.1","state":"closed","created_at":"2021-04-28T05:13:36.183Z","updated_at":"2021-04-28T06:59:06.249Z","closed_at":"2021-04-28T06:59:04.805Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["workflow::validation backlog"],"milestone":null,"assignees":[{"id":4261879,"username":"dzalbo","name":"Vladimir Dzalbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4261879/avatar.png","web_url":"https://gitlab.com/dzalbo"},{"id":5987682,"username":"cs.wang","name":"Christopher Wang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5987682/avatar.png","web_url":"https://gitlab.com/cs.wang"}],"author":{"id":8581597,"username":"emuradli","name":"Eltaj Muradli","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8581597/avatar.png","web_url":"https://gitlab.com/emuradli"},"type":"ISSUE","assignee":{"id":4261879,"username":"dzalbo","name":"Vladimir Dzalbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4261879/avatar.png","web_url":"https://gitlab.com/dzalbo"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329280","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329280","notes":"https://gitlab.com/api/v4/projects/278964/issues/329280/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329280/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329280","relative":"#329280","full":"gitlab-org/gitlab#329280"},"severity":"UNKNOWN","moved_to_id":86098656,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86083941,"iid":329269,"project_id":278964,"title":"Create development doc on audit event instrumentation","description":"## Problem to solve\n\nThere are (currently) three ways of instrumenting audit events.\n\n- Create a new class in `ee/lib/ee/audit/` extending `AuditEventService`\n- Call `AuditEventService` after a successful action\n- Call `Gitlab::Audit::Auditor.audit` passing an action block\n\nThis disparity leads to unexpected bugs, increased maintain effort and worsen developer experience.\n\n## Proposal\n\nDocument one recommended way to instrument new audit events. I propose promoting `Gitlab::Audit::Auditor.audit` as our preferred option and include some (code) examples.","state":"closed","created_at":"2021-04-28T00:22:33.242Z","updated_at":"2021-05-13T19:53:18.453Z","closed_at":"2021-05-12T21:47:07.433Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["Category:Audit Events","development guidelines","devops::manage","documentation","group::compliance","section::dev","workflow::in dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329269","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329269","notes":"https://gitlab.com/api/v4/projects/278964/issues/329269/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329269/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329269","relative":"#329269","full":"gitlab-org/gitlab#329269"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5899,"epic":{"id":260948,"iid":5899,"title":"Refactor Audit Event service","url":"/groups/gitlab-org/-/epics/5899","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":86083931,"iid":329268,"project_id":278964,"title":"Add support for standard method call interface on Auditor","description":"## Problem to solve\n\nThe existing `Gitlab::Audit::Auditor` currently requires Ruby block to support use cases where multiple events are emitted in the call stacks. However, the majority of the audit instrumentation does not require this support. To simplify audit service, we would like to add support for standard method call interface on `Gitlab::Audit::Auditor`.\n\n## Proposal\n\nTweak `Gitlab::Audit::Auditor` to support the following instrumentation\n\n```ruby\naudit_context = {\n  name: 'merge_approval_rule_updated'  # [String] the operation name to be audited, used for error tracking\n  author: current_user,                # [User] the user who authors the change\n  scope: project_alpha,                # [User, Project, Group] the scope which audit event belongs to\n  target: merge_approval_rule,         # [Object] the target object being audited\n  ip_address: request.remote_ip,       # [IPAddress] the request IP address\n  message: 'number of approvals has changed from 0 to 2'\n}\n\nmerge_approval_rule.save\nGitlab::Audit::Auditor.audit(audit_context)\n```","state":"closed","created_at":"2021-04-28T00:21:59.581Z","updated_at":"2021-06-01T20:10:22.075Z","closed_at":"2021-05-06T08:09:15.974Z","closed_by":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"labels":["Category:Audit Events","backend","devops::manage","group::compliance","section::dev","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329268","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329268","notes":"https://gitlab.com/api/v4/projects/278964/issues/329268/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329268/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329268","relative":"#329268","full":"gitlab-org/gitlab#329268"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5899,"epic":{"id":260948,"iid":5899,"title":"Refactor Audit Event service","url":"/groups/gitlab-org/-/epics/5899","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":86079200,"iid":329255,"project_id":278964,"title":"In epic boards, display current user on top on token dropdown for Author","description":"Currently in all other boards, when you search by an Author or Assignee, the current user is placed at the top of the token list\n\n![2021-04-27_14.36.35](/uploads/4cade063f5be9cbd9efbec3beed532e6/2021-04-27_14.36.35.gif)","state":"closed","created_at":"2021-04-27T21:30:49.951Z","updated_at":"2021-08-13T22:43:00.734Z","closed_at":"2021-08-13T17:58:18.973Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Enterprise Edition","devops::plan","feature::addition","frontend","group::product planning","missed:14.1","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329255","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329255","notes":"https://gitlab.com/api/v4/projects/278964/issues/329255/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329255/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329255","relative":"#329255","full":"gitlab-org/gitlab#329255"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5893,"epic":{"id":260927,"iid":5893,"title":"Epic Board Parity with existing boards","url":"/groups/gitlab-org/-/epics/5893","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86077518,"iid":329251,"project_id":278964,"title":"Focus project search box when Projects menu is open","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e\nThe Projects menu in the menu bar should focus the search input box when it is expanded. I consistently find myself typing after seeing it because I expect it to be active when visible.","state":"closed","created_at":"2021-04-27T20:53:09.073Z","updated_at":"2021-09-20T13:42:05.319Z","closed_at":"2021-09-20T13:42:05.312Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["[deprecated] Accepting merge requests","devops::create","group::editor","section::dev","severity::4","type::bug","workflow::scheduling"],"milestone":null,"assignees":[],"author":{"id":3387037,"username":"carlin-q-scott","name":"Carlin Scott","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3387037/avatar.png","web_url":"https://gitlab.com/carlin-q-scott"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329251","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329251","notes":"https://gitlab.com/api/v4/projects/278964/issues/329251/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329251/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329251","relative":"#329251","full":"gitlab-org/gitlab#329251"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86068935,"iid":329244,"project_id":278964,"title":"Expose userPermissions for jobs","description":"To ensure users cannot perform actions they are not permitted to we need to expose user permissions for a job.\n\nWe currently do this for [pipelines](app/graphql/types/ci/pipeline_type.rb), but not yet for jobs. \n\n### Proposal\n\n- Create `app/graphql/types/permission_types/ci/job.rb`\n- Expose to `app/graphql/types/ci/job_type.rb`\n`expose_permissions Types::PermissionTypes::Ci::Job`","state":"closed","created_at":"2021-04-27T18:25:58.869Z","updated_at":"2021-05-05T13:15:29.725Z","closed_at":"2021-05-05T13:15:29.648Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","GraphQL","backend","devops::verify","group::pipeline execution","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329244","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329244","notes":"https://gitlab.com/api/v4/projects/278964/issues/329244/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329244/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329244","relative":"#329244","full":"gitlab-org/gitlab#329244"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5604,"epic":{"id":226144,"iid":5604,"title":"Refactor jobs view to Vue/GraphQL","url":"/groups/gitlab-org/-/epics/5604","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":86068059,"iid":329243,"project_id":278964,"title":"Add description and roll_over to iteration cadences","description":"From https://gitlab.com/gitlab-org/gitlab/-/issues/322741#note_527641066 we need to add a `description` and `roll_over` field to the iteration cadence create and update mutation.","state":"closed","created_at":"2021-04-27T18:07:52.840Z","updated_at":"2021-05-13T16:08:48.802Z","closed_at":"2021-05-13T16:08:48.781Z","closed_by":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"labels":["backend","devops::plan","feature::addition","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"}],"author":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"type":"ISSUE","assignee":{"id":8110537,"username":"mcelicalderonG","name":"Mario Celi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110537/avatar.png","web_url":"https://gitlab.com/mcelicalderonG"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329243","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329243","notes":"https://gitlab.com/api/v4/projects/278964/issues/329243/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329243/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329243","relative":"#329243","full":"gitlab-org/gitlab#329243"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86066880,"iid":329240,"project_id":278964,"title":"Identify CODEOWNERS for merge requests","description":"## Problem to Solve\n\nThe merge request is a central point of integration inside of GitLab. Currently it's not easy to identify which areas of the application are sensitive to changes and who might be best equipped to provide expertise on these areas as part of the Code Review process.\n\n## Proposal\n\nThe [CODEOWNERS](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/CODEOWNERS) file for the GitLab project should be updated to specify which areas of the application are related to the merge request and which groups can help with reviews to that area.\n\n### Additional Details\n\nApprovals are not currently enforced on this, but it is a step to help make it more clear that the Code Review group would like to be informed of changes to this area.","state":"closed","created_at":"2021-04-27T17:34:38.488Z","updated_at":"2021-05-12T14:23:13.961Z","closed_at":"2021-05-12T14:23:13.123Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["backend","devops::create","frontend","group::code review","merge requests","section::dev"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329240","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329240","notes":"https://gitlab.com/api/v4/projects/278964/issues/329240/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329240/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329240","relative":"#329240","full":"gitlab-org/gitlab#329240"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86065736,"iid":329238,"project_id":278964,"title":"Instrument left sidebar for tracking","description":"## Problem to solve\n\nWe need to understand how people are using the left sidebar in order to make better decisions about the structure, organization, and interaction patterns. \n\n## Proposal\n\nWe should track the number of unique users who click on the menu item.\n\nOriginally we thought we should track click events on the sidebar along with properties about the presentation and destination. However tracking the individual click event could result in a lot of data that would not be leveraged for marking product decisions. \n\nExpected clicks to track is on the menu item then slice that data to learn whether the menu was clicked from a fly-out or expanded state. \n\nThe naming is rough here, but something like: \n\nEvent: `sidebar_item_clicked`\nDisplay: `collapsed` `flyout` or `expanded`\nSource: `issues_list`\n\n## Open questions\n\n- Is this event going to result in an unmanageably high volume of data? Is there a way to consolidate this?","state":"closed","created_at":"2021-04-27T17:14:52.685Z","updated_at":"2022-09-02T14:10:47.322Z","closed_at":"2021-06-07T05:43:20.146Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Navigation \u0026 Settings","Stretch","backend","devops::create","group::editor","quad-planning::complete-no-action","section::dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329238","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329238","notes":"https://gitlab.com/api/v4/projects/278964/issues/329238/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329238/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329238","relative":"#329238","full":"gitlab-org/gitlab#329238"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5647,"epic":{"id":229847,"iid":5647,"title":"Create:Editor -- 13.11 - 14.0 -- Update Left Sidebar","url":"/groups/gitlab-org/-/epics/5647","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86063743,"iid":329233,"project_id":278964,"title":"Rename Import Uploader extension allowlist constant","description":"The following discussion from !59976 should be addressed:\n\n- [ ] @arturoherrero started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59976#note_561726853): \n\n    \u003e We are inheriting here but we should create another merge request to change this:\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e     EXTENSION_ALLOWLIST = %w[ndjson.gz].freeze\n    \u003e ```\n    \u003e \n    \u003e https://docs.gitlab.com/ee/development/documentation/styleguide/#culturally-sensitive-language","state":"closed","created_at":"2021-04-27T16:39:31.116Z","updated_at":"2021-12-01T20:21:25.002Z","closed_at":"2021-12-01T11:08:34.915Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Category:Importers","Community contribution","auto updated","backend","devops::manage","good for new contributors","group::import","maintenance::refactor","section::dev","type::maintenance"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":2251494,"username":"charlessamdilip","name":"Charles Sam Dilip J","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0d2ea14605cdee94e5a50cd4065e4bac?s=80\u0026d=identicon","web_url":"https://gitlab.com/charlessamdilip"}],"author":{"id":674121,"username":"georgekoltsov","name":"George Koltsov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/674121/avatar.png","web_url":"https://gitlab.com/georgekoltsov"},"type":"ISSUE","assignee":{"id":2251494,"username":"charlessamdilip","name":"Charles Sam Dilip J","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0d2ea14605cdee94e5a50cd4065e4bac?s=80\u0026d=identicon","web_url":"https://gitlab.com/charlessamdilip"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329233","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329233","notes":"https://gitlab.com/api/v4/projects/278964/issues/329233/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329233/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329233","relative":"#329233","full":"gitlab-org/gitlab#329233"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5769,"epic":{"id":250839,"iid":5769,"title":"Use ndjson to migrate complex relations","url":"/groups/gitlab-org/-/epics/5769","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86059307,"iid":329228,"project_id":278964,"title":"Use a default included configuration file","description":"### Problem\n\nAPI Fuzzing and DAST API require the user to create a configuration file, even if it's not customized. This creates a few problems for us:\n\n1. By always including a configuration file, changes to the defaults are hard to make.\n1. Not backwards compatible with DAST/ZAP API testing\n1. Configuration could be easier\n\n### Proposal\n\nDuring the build, include the latest configuration file from it's published locations. Include both the API Fuzzing and DAST API configuration files.\n\n1. [x] Include configuration files as assets for `worker-entry`\n1. [x] If user doesn't include a configuration file, use embedded one\n1. [x] Update documentation to reflect change\n   1. [x] DAST API docs\n   1. [x] API Fuzzing docs","state":"closed","created_at":"2021-04-27T15:53:26.449Z","updated_at":"2021-05-17T02:47:45.945Z","closed_at":"2021-04-30T15:48:04.725Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","GitLab Ultimate","backend","devops::secure","feature::enhancement","group::dynamic analysis","type::feature","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329228","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329228","notes":"https://gitlab.com/api/v4/projects/278964/issues/329228/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329228/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329228","relative":"#329228","full":"gitlab-org/gitlab#329228"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86053866,"iid":329227,"project_id":278964,"title":"Distinguish between author and committer in merge request commits tab","description":"## Problem to Solve\n\nWith the introduction of https://gitlab.com/gitlab-org/gitlab/-/issues/29211, authors of suggested changes are now recognized as the author and the person who applies the suggestion is recognized as the committer.\n\nThis creates confusion on the commits tab of the merge request:\n\n![image](/uploads/9c653cc312dcbfba6d66e1ca94fc79ea/image.png)\n\nMarcel is listed as the author (correctly), but it's also shown in the commits tab which implies that they were also the committer of the change.\n\n## Proposal\n\nThe commits tab in the merge request should be extended to show both the author and committer of changes to the merge request. This would be consistent with how the [commit is viewed](https://gitlab.com/gitlab-com/www-gitlab-com/-/commit/586be805643d2f40d0fe1203a2c9dca196caac0e?merge_request_iid=80467) outside of the merge request:\n\n![Screen_Shot_2021-04-27_at_10.29.21_AM](/uploads/7554773522b65801b54cb1e16f7871e4/Screen_Shot_2021-04-27_at_10.29.21_AM.png)\n\n## Proposed design\n\n- [Design tab - Option D](https://gitlab.com/gitlab-org/gitlab/-/issues/329227/designs/OptionD.png)\n- [Spec - Figma 🔗](https://www.figma.com/file/AHpM0lRQBTzRNGu6WHfBhL/Author-Committer?node-id=1%3A25)","state":"closed","created_at":"2021-04-27T15:29:47.555Z","updated_at":"2021-10-18T07:00:58.713Z","closed_at":"2021-09-22T09:43:39.686Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Review Workflow","Deliverable","Technical Writing","UI text","UX","customer","design-weight::1","devops::create","feature::enhancement","frontend","group::code review","merge requests","section::dev","tw-weight::1","tw::doing","type::feature"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":4903414,"username":"sunjungp","name":"Sunjung Park","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a2c072c26031ffd81b676b43eeb7b781?s=80\u0026d=identicon","web_url":"https://gitlab.com/sunjungp"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":23,"merge_requests_count":0,"upvotes":6,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329227","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329227","notes":"https://gitlab.com/api/v4/projects/278964/issues/329227/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329227/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329227","relative":"#329227","full":"gitlab-org/gitlab#329227"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86053096,"iid":329223,"project_id":278964,"title":"SaaS Trial Lead Status Updates When Passing to SFDC","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nCan we update the code for when SaaS Trials sync to SFDC their `Lead Status` comes over as `null` instead of MQL?\n\nIn this [issue](https://gitlab.com/gitlab-com/marketing/marketing-operations/-/issues/4767) we updated scoring so that personal email domains are scored lower than business email domains, meaning that they will not auto-mql. However, the SaaS Trials leads are created as MQL by the product as they are created in SFDC, so their `MQL DateTime` updates, and are MQLs before they can be scored as such.\n\nUpdating their lead status as `null` allows Marketo to score and only true MQLs will be marked as such. [Here is the scoring documentation](https://about.gitlab.com/handbook/marketing/marketing-operations/marketo/#behavior-scoring).\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e","state":"closed","created_at":"2021-04-27T15:21:14.270Z","updated_at":"2021-10-08T19:01:50.354Z","closed_at":"2021-06-18T09:55:09.338Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Affects Salesforce","[deprecated] Category:Provision","backend","customer","devops::fulfillment","group::provision","section::fulfillment","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":5496531,"username":"amy.waller","name":"Amy Waller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d27bac4d466aa72739da4a61d4c98d40?s=80\u0026d=identicon","web_url":"https://gitlab.com/amy.waller"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329223","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329223","notes":"https://gitlab.com/api/v4/projects/278964/issues/329223/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329223/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329223","relative":"#329223","full":"gitlab-org/gitlab#329223"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86048473,"iid":329214,"project_id":278964,"title":"Codeowners approver list not showing correctly","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\u003c!-- Summarize the bug encountered concisely. --\u003e\nCode owners with section is being used on a project, with all groups properly added as member. Occasionally when an MR is created, the approval list for one group does not show complete. It only shows limited amount of users, and it seems to duplicate the previous section approvers list.\n\n\n### Steps to reproduce\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\nThe issue behaves intermittently. Here are the steps to reproduce.\n\n* Have two groups with some overlapping members.\n* Add CODEOWNERS file with sections to the project\n* Modify a set of file that is covered by 2 sections in the CODEOWNERS file.\n* Create an MR\n* Wait for approvers to populate. The approver list might show incomplete an it will be the same as previous approver \n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nThe approvers list on the MR are not always fully/correctly populated\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\nApprovers list should be properly as per group members\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\nNormal approvers should look like this \n![correct-approvers](/uploads/98aad798559aa18d1fb8db5dfa0a733b/correct-approvers.png)\n\nWhen bug happens, approvers in the list are show as below\n![wrong-approvers](/uploads/71d83c5efeb70434837cfd911877fe7d/wrong-approvers.png)\n\nThere is some overlap on the members between both groups. See below.\n\nProduction team members.\n![production_team_members](/uploads/9b6453655e064c1f2c046cf4e09f30f8/production_team_members.png)\n\nTradeops team members.\n![tradeos_team_members](/uploads/fe968d4dc740cbbd1f30290dbabd7fbe/tradeos_team_members.png)\n\n\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\nroot@gitlab ~]# gitlab-rake gitlab:env:info\n\nSystem information\nSystem:\t\tRedHatEnterpriseServer 7.9\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.7.2p137\nGem Version:\t3.1.4\nBundler Version:2.1.4\nRake Version:\t13.0.3\nRedis Version:\t6.0.10\nGit Version:\t2.29.0\nSidekiq Version:5.2.9\nGo Version:\tunknown\n\nGitLab information\nVersion:\t13.9.1-ee\nRevision:\t8ae438629fa\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t12.5\nURL:\t\thttps://gitlab.pr.edgelp.net\nHTTP Clone URL:\thttps://gitlab.pr.edgelp.net/some-group/some-project.git\nSSH Clone URL:\tgit@gitlab.pr.edgelp.net:some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tyes\nUsing Omniauth:\tyes\nOmniauth Providers:\n\nGitLab Shell\nVersion:\t13.16.1\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\nGit:\t\t/opt/gitlab/embedded/bin/git\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n[root@gitlab ~]# gitlab-rake gitlab:check SANITIZE=true\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.16.1 ? ... OK (13.16.1)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes ... 1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... Server: ldapmain\nLDAP authentication... Success\nLDAP users with access to your GitLab server (only showing the first 100 results)\n\tUser output sanitized. Found 100 users of 100 limit.\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... yes\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n39/3 ... yes\n39/8 ... yes\n39/15 ... yes\n12/23 ... yes\n5/25 ... yes\n12/28 ... yes\n39/31 ... yes\n39/32 ... yes\n39/33 ... yes\n39/34 ... yes\n39/35 ... yes\n39/37 ... yes\n11/42 ... yes\n11/43 ... yes\n11/44 ... yes\n11/45 ... yes\n39/52 ... yes\n12/55 ... yes\n39/60 ... yes\n39/61 ... yes\n39/64 ... yes\n12/65 ... yes\n5/67 ... yes\n39/69 ... yes\n39/70 ... yes\n39/72 ... yes\n39/73 ... yes\n12/76 ... yes\n39/77 ... yes\n12/78 ... yes\n39/83 ... yes\n39/87 ... yes\n39/89 ... yes\n32/90 ... yes\n39/91 ... yes\n34/92 ... yes\n34/93 ... yes\n34/94 ... yes\n34/96 ... yes\n34/97 ... yes\n33/99 ... yes\n39/106 ... yes\n32/116 ... yes\n33/117 ... yes\n39/133 ... yes\n12/136 ... yes\n34/139 ... yes\n11/142 ... yes\n32/143 ... yes\n34/145 ... yes\n16/146 ... yes\n37/147 ... yes\n37/148 ... yes\n12/149 ... yes\n37/150 ... yes\n37/151 ... yes\n42/152 ... yes\n39/153 ... yes\n41/154 ... yes\n21/155 ... yes\n11/156 ... yes\n11/157 ... yes\n42/158 ... yes\n33/159 ... yes\n33/160 ... yes\n42/161 ... yes\n42/162 ... yes\n43/163 ... yes\n11/164 ... yes\n31/165 ... yes\n18/166 ... yes\n41/167 ... yes\n43/168 ... yes\n43/169 ... yes\n46/170 ... yes\n46/171 ... yes\n46/172 ... yes\n46/173 ... yes\n46/174 ... yes\n46/175 ... yes\n46/176 ... yes\n39/177 ... yes\n46/178 ... yes\n47/179 ... yes\n47/180 ... yes\n47/181 ... yes\n39/182 ... yes\n5/183 ... yes\n39/184 ... yes\n39/185 ... yes\n39/186 ... yes\n39/187 ... yes\n42/188 ... yes\n47/189 ... yes\n11/190 ... yes\n51/191 ... yes\n51/192 ... yes\n48/193 ... yes\n51/194 ... yes\n42/195 ... yes\n48/196 ... yes\n12/197 ... yes\n48/198 ... yes\n47/199 ... yes\n43/200 ... yes\n55/201 ... yes\n55/202 ... yes\n56/203 ... yes\n56/204 ... yes\n57/205 ... yes\n48/206 ... yes\n51/207 ... yes\n55/208 ... yes\n56/209 ... yes\n59/210 ... yes\n60/211 ... yes\n60/212 ... yes\n56/213 ... yes\n59/215 ... yes\n56/216 ... yes\n5/217 ... yes\n56/218 ... yes\n81/219 ... yes\n81/221 ... yes\n51/222 ... yes\n48/223 ... yes\n39/224 ... yes\n5/225 ... yes\n11/226 ... yes\n51/227 ... yes\n46/228 ... yes\n81/229 ... yes\n81/230 ... yes\nRedis version \u003e= 4.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.2)\nGit version \u003e= 2.29.0 ? ... yes (2.29.0)\nGit user has default SSH configuration? ... no\n  Try fixing it:\n  mkdir ~/gitlab-check-backup-1619620197\n  sudo mv /var/opt/gitlab/.ssh/id_rsa ~/gitlab-check-backup-1619620197\n  sudo mv /var/opt/gitlab/.ssh/id_rsa.pub ~/gitlab-check-backup-1619620197\n  For more information see:\n  doc/ssh/README.md in section \"SSH on the GitLab server\"\n  Please fix the error above and rerun the checks.\nActive users: ... 33\nIs authorized keys file accessible? ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\nElasticsearch version 7.x (6.4 - 6.x deprecated to be removed in 13.8)? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-04-27T14:25:17.417Z","updated_at":"2022-10-21T12:01:15.652Z","closed_at":"2022-09-19T15:18:40.926Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Code Review Workflow","Category:Source Code Management","Code Owners","Deliverable","backend","backend-weight::3","bug::transient","customer","devops::create","group::source code","priority::2","section::dev","severity::2","spike","type::bug","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":7922794,"username":"gerardo","name":"Gerardo Gutierrez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/107f2254e95c85808cd44699e6f97616?s=80\u0026d=identicon","web_url":"https://gitlab.com/gerardo"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":42,"merge_requests_count":0,"upvotes":16,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329214","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329214","notes":"https://gitlab.com/api/v4/projects/278964/issues/329214/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329214/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329214","relative":"#329214","full":"gitlab-org/gitlab#329214"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86045712,"iid":329208,"project_id":278964,"title":"[VSA] Add support for project-level default value stream (BE)","description":"## Problem to solve\n\nFor project-level VSA, we need to support a default value stream.  However, we don't want to use the group-level endpoint because it may have non-default value streams.\n\n## Proposal\n\nIntroduce a dummy response for project-level VSA as a short term solution.\n\n## Related links\n\n- This issue was prompted by the discussion at https://gitlab.com/groups/gitlab-org/-/epics/5194#note_561537658","state":"closed","created_at":"2021-04-27T14:07:12.536Z","updated_at":"2021-06-30T08:15:25.389Z","closed_at":"2021-05-17T09:58:42.635Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["backend","devops::manage","group::optimize","section::dev","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329208","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329208","notes":"https://gitlab.com/api/v4/projects/278964/issues/329208/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329208/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329208","relative":"#329208","full":"gitlab-org/gitlab#329208"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86045071,"iid":329206,"project_id":278964,"title":"Unit Test Report is not showing when pipeline is blocked by manual action","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nThe Unit Test Report is not showing the results in Pipeline -\u003e Tests tab when the pipeline is blocked. \n\n### Steps to reproduce\n\n- Fork this test project: https://gitlab.com/gitlab-gold/kategrechishkinatestgroup/209005-rspecunittest\n- Run the pipeline for `master`. \n- The pipeline will have two jobs:\n1. ruby job which generates a junit report file\n2. manual_pack job which is a manual job and should be run only when the tests pass manually\n\nIf the manual job `manual_pack` is not started there is no way to view the Test results in the -\u003e pipeline -\u003e Tests tab: https://gitlab.com/gitlab-gold/kategrechishkinatestgroup/209005-rspecunittest/-/pipelines/293082707/test_report \n\nThe message we see in that tab is \"There are no test reports for this pipeline\", but the tooltip shows `5` tests found which is confusing.\n\n### Example Project\nhttps://gitlab.com/gitlab-gold/kategrechishkinatestgroup/209005-rspecunittest\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nThe test results in the `Tests` tab of the pipeline are not rendered after the test report was uploaded. They are only shown after the job was finished and is not blocked.\n\n### What is the expected *correct* behavior?\n\nShow test results in the `Tests` tab after the junit report was uploaded as an artifact. \n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\nThis bug happens on GitLab.com \n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n\n### Possible fixes\n\nNA \n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-04-27T13:59:10.562Z","updated_at":"2021-04-29T07:43:19.437Z","closed_at":"2021-04-28T18:13:38.007Z","closed_by":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"labels":["Category:Code Testing and Coverage","customer","devops::verify","follow-up","group::pipeline insights","priority::3","section::ops","severity::3","type::bug","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"}],"author":{"id":7272738,"username":"kategrechishkina","name":"Kate Grechishkina","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7272738/avatar.png","web_url":"https://gitlab.com/kategrechishkina"},"type":"ISSUE","assignee":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"user_notes_count":15,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329206","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329206","notes":"https://gitlab.com/api/v4/projects/278964/issues/329206/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329206/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329206","relative":"#329206","full":"gitlab-org/gitlab#329206"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":86039882,"iid":329196,"project_id":278964,"title":"Cleanup policies: move counts/metrics to the parent worker","description":"### Problem\n\nRight, when executing cleanup policies, the limited capacity worker is [computing](https://gitlab.com/gitlab-org/gitlab/-/blob/c0b13f15833117b692626015153057eb97dd3d97/app/workers/container_expiration_policies/cleanup_container_repository_worker.rb#L124-126) the counts of:\n\n* scheduled cleanups\n* unfinished cleanups\n\ncombined they represent the cleanups left to go through.\n\nThe limited capacity worker doing writes, it hits the primary database\n\n### Proposal \n\nMove these counts to the parent cron [worker](https://gitlab.com/gitlab-org/gitlab/-/blob/c0b13f15833117b692626015153057eb97dd3d97/app/workers/container_expiration_policy_worker.rb) and make it hit the replica.\n\n### Impacts\n\n* These metrics/counts will be computed in an hourly manner instead of many times per hour.","state":"closed","created_at":"2021-04-27T13:05:27.801Z","updated_at":"2021-07-12T08:35:50.036Z","closed_at":"2021-07-12T08:35:49.985Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Category:Package Registry","backend","devops::package","group::package registry","package:active","ruby","section::ops","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329196","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329196","notes":"https://gitlab.com/api/v4/projects/278964/issues/329196/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329196/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329196","relative":"#329196","full":"gitlab-org/gitlab#329196"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2270,"epic":{"id":15539,"iid":2270,"title":"Cleanup policy for tags","url":"/groups/gitlab-org/-/epics/2270","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":86038341,"iid":329194,"project_id":278964,"title":"[Feature flag] Rollout of `ci_reset_bridge_with_subsequent_jobs`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Feature\n\nThis feature uses the `:ci_reset_bridge_with_subsequent_jobs` feature flag!\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n- [Parent pipeline fails to proceed to next stage if job in child pipeline (strategy: depend) fails and then passes](https://gitlab.com/gitlab-org/gitlab/-/issues/297678)\n- Introduced in: !60376\n\nTODO: Remove the technical debt in `spec/models/ci/pipeline_spec.rb`.\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n- PM: @dhershkovitch \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with beta groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n**Beta Groups/Projects:**\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\nThis FF fixes a bug in #297678.\n\n\u003e When resetting an upstream bridge, we don't care about the subsequent skipped jobs that may be skipped because of the failed bridge.\n\nAs in [the example](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60376#screenshots-strongly-suggested), we are expecting that when a failed job of a downstream pipeline is retried, skipped subsequent jobs of the dependent upstream bridge job will be reset to created/pending.\n\n### What might happen if this goes wrong?\n\nRetrying a job/pipeline or playing a manual job may not work as expected.\n\n### What can we monitor to detect problems with this?\n\nWe should not see an increase of 500 statuses...\n\n- `Projects::PipelinesController#retry` =\u003e https://log.gprd.gitlab.net/goto/bac2a11bcfe899fe231cc1ead3715cea\n- `Projects::JobsController#retry` =\u003e https://log.gprd.gitlab.net/goto/b6ff8889b6f9ce43b3923e1057cd82e5\n- `Projects::JobsController#play` =\u003e https://log.gprd.gitlab.net/goto/ae7e1c66c95871772c3f02fe9ef8fbe3\n\n## Rollout Timeline\n\n\u003c!-- Please check which steps are needed and remove those which don't apply --\u003e\n\n**Initial Rollout**\n\n*Preparation Phase*\n- [x] Enable on staging (`/chatops run feature set ci_reset_bridge_with_subsequent_jobs true --staging`)\n\n- [x] Test on staging\n\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default))\n\n- [ ] Announce on the issue an estimated time this will be enabled on GitLab.com\n\n*Partial Rollout Phase*\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour (`/chatops run feature set --project=gitlab-org/gitlab ci_reset_bridge_with_subsequent_jobs true`)\n\n- [x] Verify behaviour (See Beta Groups) and add details with screenshots as a comment on this issue\n\n- [ ] If it is possible to perform an incremental rollout, this should be preferred. Proposed increments are: `10%`, `50%`, `100%`. Proposed minimum time between increments is 15 minutes.\n  - When setting percentages, make sure that the feature works correctly between feature checks. See https://gitlab.com/gitlab-org/gitlab/-/issues/327117 for more information\n  - For actor-based rollout: `/chatops run feature set ci_reset_bridge_with_subsequent_jobs 10 --actors`\n  - For time-based rollout: `/chatops run feature set ci_reset_bridge_with_subsequent_jobs 10`\n\n- [ ] Make the feature flag enabled by default i.e. Change `default_enabled` to `true`\n\n- [ ] Cross post chatops slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n\n\n**Cleanup**\n\nThis is an __important__ phase, that should be either done in the next Milestone or as soon as possible. For the cleanup phase, please follow our documentation on how to  [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up).\n\n\u003c!-- The checklist here is to keep track of it's status for stakeholders --\u003e\n- [ ] Announce on the issue that the flag has been enabled\n\n- [x] Remove `:ci_reset_bridge_with_subsequent_jobs` feature flag\n    - [ ] Remove all references to the feature flag from the codebase\n    - [ ] Remove the YAML definitions for the feature from the repository\n    - [ ] Create a Changelog Entry\n\n- [ ] Clean up the feature flag from all environments by running this chatops command in `#production` channel `/chatops run feature delete some_feature`.\n\n**Final Step**\n\n- [x] Close this rollout issue for the feature flag after the feature flag is removed from the codebase.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab ci_reset_bridge_with_subsequent_jobs false\n```","state":"closed","created_at":"2021-04-27T12:46:42.041Z","updated_at":"2021-10-28T13:57:14.559Z","closed_at":"2021-08-23T08:08:10.857Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature flag","group::pipeline authoring","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329194","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":17,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 17 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329194","notes":"https://gitlab.com/api/v4/projects/278964/issues/329194/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329194/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329194","relative":"#329194","full":"gitlab-org/gitlab#329194"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":86020196,"iid":329179,"project_id":278964,"title":"The elapsed time in jobs is rendered incorrectly if the time exceeds 60 minutes","description":"### Summary\n\ntime counters more than 1 hour are cut off in the pipeline console log. Notice the step that shows about 17m below, actually took 7h17m.\n\n### Steps to reproduce\n\n- Have a job run longer than 1 hour\n- Check the timer\n\n### Example Project\n\n\n### What is the current *bug* behavior?\n\nAny job over an hour renders only the remaining minutes. e.g. `1:23:45` would render as `23:45`\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/97d08729fe0371a4a339fa3bdd81cca7/image.png)\n\n### Possible fixes\n\nIn [`Gitlab::Ci::Ansi2json::Line::Segment#set_section_duration`](https://gitlab.com/gitlab-org/gitlab/-/blob/b93992b0e76b982df0b62d99c2881a37c37036de/lib/gitlab/ci/ansi2json/line.rb#L79-81) we're parsing the duration using `minutes:seconds` format. We should include the `hour` if the duration is longer than one hour.\n\n```diff\ndiff --git a/lib/gitlab/ci/ansi2json/line.rb b/lib/gitlab/ci/ansi2json/line.rb\nindex 466706384c0..528a3d18b16 100644\n--- a/lib/gitlab/ci/ansi2json/line.rb\n+++ b/lib/gitlab/ci/ansi2json/line.rb\n@@ -77,7 +77,8 @@ def set_as_section_header\n         end\n \n         def set_section_duration(duration)\n-          @section_duration = Time.at(duration.to_i).utc.strftime('%M:%S')\n+          time_format = duration.to_i \u003e= 60.minutes ? '%H:%M:%S' : '%M:%S'\n+          @section_duration = Time.at(duration.to_i).utc.strftime(time_format)\n         end\n \n         def flush_current_segment!\n\n```\n\nHow to create collapsible job sections: https://docs.gitlab.com/ee/ci/jobs/#expand-and-collapse-job-log-sections","state":"closed","created_at":"2021-04-27T09:36:14.942Z","updated_at":"2021-07-20T15:02:45.834Z","closed_at":"2021-07-20T15:02:45.818Z","closed_by":{"id":3714742,"username":"ck3g","name":"Vitali Tatarintev","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3714742/avatar.png","web_url":"https://gitlab.com/ck3g"},"labels":["Category:Continuous Integration","[deprecated] Accepting merge requests","backend","devops::verify","good for new contributors","group::pipeline execution","onboarding","priority::3","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3714742,"username":"ck3g","name":"Vitali Tatarintev","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3714742/avatar.png","web_url":"https://gitlab.com/ck3g"}],"author":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"type":"ISSUE","assignee":{"id":3714742,"username":"ck3g","name":"Vitali Tatarintev","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3714742/avatar.png","web_url":"https://gitlab.com/ck3g"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329179","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329179","notes":"https://gitlab.com/api/v4/projects/278964/issues/329179/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329179/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329179","relative":"#329179","full":"gitlab-org/gitlab#329179"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5206,"epic":{"id":181139,"iid":5206,"title":"Bugs: Pipelines","url":"/groups/gitlab-org/-/epics/5206","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":86018154,"iid":329177,"project_id":278964,"title":"[DevOps Adoption] should be available for Ultimate tier only","description":"## Summary\n\nThe DevOps Adoption features, which exist at both the instance and\ngroup levels, are intended to be Ultimate features (according to [epic](https://gitlab.com/groups/gitlab-org/-/epics/4169) and [documentation](https://docs.gitlab.com/ee/user/admin_area/analytics/dev_ops_report.html#devops-adoption)). This moves them\nout of the Starter list and into the Ultimate list.\n\nThis was prompted by @pshutsin's observation in https://gitlab.com/gitlab-org/gitlab/-/issues/326008#note_557625793.\n\n## Affected versions\n\n[13.6](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46879/diffs#e726cacea6395b713543cf9931902d24dc44eda9_22_22) to [13.12](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60032].\n\nNote: Feature flag defaulted to \"off\" during this period.  It was [enabled in %13.12](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60638) after the tiering was fixed.\n\n## Proposal\n\nchange the feature to be available for Ultimate tier only.\n\n/cc @ljlane","state":"closed","created_at":"2021-04-27T09:10:35.918Z","updated_at":"2021-09-17T17:02:54.420Z","closed_at":"2021-04-30T12:18:34.527Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:DevOps Reports","backend","group::optimize","section::dev","type::bug"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329177","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329177","notes":"https://gitlab.com/api/v4/projects/278964/issues/329177/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329177/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329177","relative":"#329177","full":"gitlab-org/gitlab#329177"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86001135,"iid":329162,"project_id":278964,"title":"Project will not delete if freeze periods are present","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nProject deletion will fail with the following error if [freeze periods](https://docs.gitlab.com/ee/user/project/releases/index.html#prevent-unintentional-releases-by-setting-a-deploy-freeze) are present.\n\napplication_json.log:\n\n```json\n{\"severity\":\"ERROR\",\"time\":\"2021-04-27T05:04:17.889Z\",\"correlation_id\":\"01F48VDD9693VSE1SMDC9S678M\",\"message\":\"Deletion failed on root/gitaly-test with the following message: PG::ForeignKeyViolation: ERROR:  update or delete on table \\\"projects\\\" violates foreign key constraint \\\"fk_rails_2e02bbd1a6\\\" on table \\\"ci_freeze_periods\\\"\\nDETAIL:  Key (id)=(15) is still referenced from table \\\"ci_freeze_periods\\\".\\n\"}\n```\n\nPostgres log:\n\n```\n2021-04-27_04:56:30.92921 ERROR:  update or delete on table \"projects\" violates foreign key constraint \"fk_rails_2e02bbd1a6\" on table \"ci_freeze_periods\"\n2021-04-27_04:56:30.92924 DETAIL:  Key (id)=(15) is still referenced from table \"ci_freeze_periods\".\n2021-04-27_04:56:30.92924 STATEMENT:  /*application:sidekiq,correlation_id:01F48TZ35WRWJ8N38KC23QMBQF,jid:d96ddef642782999c029e0b9,endpoint_id:ProjectDestroyWorker*/ DELETE FROM \"projects\" WHERE \"projects\".\"id\" = 15\n```\n\n**Workaround:**\n\n- [List freeze periods](https://docs.gitlab.com/ee/api/freeze_periods.html#list-freeze-periods) of the affected project using API: \n\n```bash\ncurl --header \"PRIVATE-TOKEN: \u003cyour_access_token\u003e\" \"https://gitlab.example.com/api/v4/projects/19/freeze_periods\"\n```\n\n- [Delete above freeze periods](https://docs.gitlab.com/ee/api/freeze_periods.html#delete-a-freeze-period) using API:\n\n```bash\ncurl --request DELETE --header \"PRIVATE-TOKEN: \u003cyour_access_token\u003e\" \"https://gitlab.example.com/api/v4/projects/19/freeze_periods/1\"\n```\n\n- Proceed to delete the Project through Admin area.\n\n### Steps to reproduce\n\n- Create a Project.\n- Add a freeze period through **Settings \u003e CI/CD \u003e Deploy freezes**\n- Try to `hard` delete the project. \n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nProject wont delete when freeze periods are present.\n\n### What is the expected *correct* behavior?\n\nProject should delete whether freeze periods are present or not.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\nSystem information\nSystem:\t\tUbuntu 18.04\nProxy:\t\tno\nCurrent User:\tgit\nUsing RVM:\tno\nRuby Version:\t2.7.2p137\nGem Version:\t3.1.4\nBundler Version:2.1.4\nRake Version:\t13.0.3\nRedis Version:\t6.0.10\nGit Version:\t2.31.1\nSidekiq Version:5.2.9\nGo Version:\tgo1.10.4 linux/amd64\n\nGitLab information\nVersion:\t13.11.0-ee\nRevision:\t47f41a4a74f\nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails\nDB Adapter:\tPostgreSQL\nDB Version:\t12.6\nURL:\t\thttps://ps-gitlab.sr.gitlab.support\nHTTP Clone URL:\thttps://ps-gitlab.sr.gitlab.support/some-group/some-project.git\nSSH Clone URL:\tgit@ps-gitlab.sr.gitlab.support:some-group/some-project.git\nElasticsearch:\tno\nGeo:\t\tno\nUsing LDAP:\tno\nUsing Omniauth:\tyes\nOmniauth Providers:\n\nGitLab Shell\nVersion:\t13.17.0\nRepository storage paths:\n- default: \t/var/opt/gitlab/git-data/repositories\nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell\nGit:\t\t/opt/gitlab/embedded/bin/git\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\nroot@ps-gitlab:~# sudo gitlab-rake gitlab:check SANITIZE=true\nChecking GitLab subtasks ...\n\nChecking GitLab Shell ...\n\nGitLab Shell: ... GitLab Shell version \u003e= 13.17.0 ? ... OK (13.17.0)\nRunning /opt/gitlab/embedded/service/gitlab-shell/bin/check\nInternal API available: OK\nRedis available via internal API: OK\ngitlab-shell self-check successful\n\nChecking GitLab Shell ... Finished\n\nChecking Gitaly ...\n\nGitaly: ... default ... OK\n\nChecking Gitaly ... Finished\n\nChecking Sidekiq ...\n\nSidekiq: ... Running? ... yes\nNumber of Sidekiq processes (cluster/worker) ... 1/1\n\nChecking Sidekiq ... Finished\n\nChecking Incoming Email ...\n\nIncoming Email: ... Reply by email is disabled in config/gitlab.yml\n\nChecking Incoming Email ... Finished\n\nChecking LDAP ...\n\nLDAP: ... LDAP is disabled in config/gitlab.yml\n\nChecking LDAP ... Finished\n\nChecking GitLab App ...\n\nGit configured correctly? ... yes\nDatabase config exists? ... yes\nAll migrations up? ... yes\nDatabase contains orphaned GroupMembers? ... no\nGitLab config exists? ... yes\nGitLab config up to date? ... yes\nLog directory writable? ... yes\nTmp directory writable? ... yes\nUploads directory exists? ... yes\nUploads directory has correct permissions? ... yes\nUploads directory tmp has correct permissions? ... no\n  Try fixing it:\n  sudo chown -R git /var/opt/gitlab/gitlab-rails/uploads\n  sudo find /var/opt/gitlab/gitlab-rails/uploads -type f -exec chmod 0644 {} \\;\n  sudo find /var/opt/gitlab/gitlab-rails/uploads -type d -not -path /var/opt/gitlab/gitlab-rails/uploads -exec chmod 0700 {} \\;\n  For more information see:\n  doc/install/installation.md in section \"GitLab\"\n  Please fix the error above and rerun the checks.\nInit script exists? ... skipped (omnibus-gitlab has no init script)\nInit script up-to-date? ... skipped (omnibus-gitlab has no init script)\nProjects have namespace: ...\n2/1 ... yes\n1/2 ... yes\n1/3 ... yes\n1/4 ... yes\n1/5 ... yes\n1/6 ... yes\n3/7 ... yes\n1/8 ... yes\n1/9 ... yes\n1/10 ... yes\n1/12 ... yes\n1/13 ... yes\n1/14 ... yes\n1/16 ... yes\nRedis version \u003e= 5.0.0? ... yes\nRuby version \u003e= 2.7.2 ? ... yes (2.7.2)\nGit version \u003e= 2.31.0 ? ... yes (2.31.1)\nGit user has default SSH configuration? ... yes\nActive users: ... 1\nIs authorized keys file accessible? ... yes\nGitLab configured to store new projects in hashed storage? ... yes\nAll projects are in hashed storage? ... yes\nElasticsearch version 7.x (6.4 - 6.x deprecated to be removed in 13.8)? ... skipped (elasticsearch is disabled)\n\nChecking GitLab App ... Finished\n\n\nChecking GitLab subtasks ... Finished\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\nMight have to fix constraints for `ci_freeze_periods` table.","state":"closed","created_at":"2021-04-27T06:02:43.762Z","updated_at":"2021-07-18T07:08:33.020Z","closed_at":"2021-06-21T20:07:22.852Z","closed_by":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"labels":["Category:Release Orchestration","Deliverable","Release::P1","backend","candidate::14.1","cicd::active","customer","devops::release","group::release","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":5287461,"username":"psureshbabu","name":"Priyan Sureshbabu","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cf2976ba76d1e6194fb48522cb9ca061?s=80\u0026d=identicon","web_url":"https://gitlab.com/psureshbabu"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329162","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329162","notes":"https://gitlab.com/api/v4/projects/278964/issues/329162/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329162/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329162","relative":"#329162","full":"gitlab-org/gitlab#329162"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":86000426,"iid":329160,"project_id":278964,"title":"Updates ruby version 2.5 to 3.0 (lib/gitlab/ci/templates/Ruby.gitlab-ci.yml)","description":"Updates ruby version 2.5 to the latest (3.0 or 3.0.1) since [Ruby 2.5 was just EOL'ed on 2021-03-31](https://www.ruby-lang.org/en/downloads/branches/).\n\nMost parts of code were already updated in #327579.\n\n### CI templates\n\n- [ ] CI template `lib/gitlab/ci/templates/Ruby.gitlab-ci.yml`\n\n### Note: Configuration of `GitLab.com` ~\"gitlab.com\" \n\nNote: Out of scope from ~\"Community contribution\" since these are NOT disclosed even for Core Team","state":"closed","created_at":"2021-04-27T05:47:01.809Z","updated_at":"2021-06-18T07:08:25.890Z","closed_at":"2021-06-15T22:19:34.105Z","closed_by":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"labels":["1st contribution","Category:Continuous Integration","Deliverable","automation:ml","breaking change","devops::verify","easy adoption","group::pipeline insights","maintenance::dependency","maintenance::refactor","section::ops","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"}],"author":{"id":100770,"username":"tnir","name":"Takuya Noguchi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/100770/canstock6553672_288.png","web_url":"https://gitlab.com/tnir"},"type":"ISSUE","assignee":{"id":730684,"username":"drew","name":"drew stachon","state":"active","avatar_url":"https://secure.gravatar.com/avatar/59b7f2c95acd4a085d964f745ead6bdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/drew"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-06-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329160","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329160","notes":"https://gitlab.com/api/v4/projects/278964/issues/329160/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329160/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329160","relative":"#329160","full":"gitlab-org/gitlab#329160"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":85992014,"iid":329156,"project_id":278964,"title":"Follow-up from \"Add method for enabling form event tracking\"","description":"The following discussion from !60036 should be addressed:\n\n- [ ] @agarciatesares started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60036#note_559395630):  (+2 comments)\n\n    \u003e Thanks a lot! Approving for ~\"product intelligence\"!\n    \u003e \n    \u003e I have a suggestion about adding this to our docs, I can help with that in a follow-up MR if you want.\n    \u003e \n    \u003e ---\n    \u003e \n    \u003e \u003e I don't think we should ever just add form tracking without being very intentional about it.\n    \u003e \n    \u003e Agree! And it would be great to talk about this subject in our upcoming [Snowplow 2.0 Workshop Q\u0026A](https://gitlab.com/gitlab-org/product-intelligence/-/issues/435).","state":"closed","created_at":"2021-04-27T01:58:31.058Z","updated_at":"2021-06-16T00:35:13.629Z","closed_at":"2021-06-16T00:35:13.604Z","closed_by":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"labels":["devops::growth","documentation","frontend","group::product intelligence","missed:13.12","section::growth","workflow::production"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"}],"author":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"type":"ISSUE","assignee":{"id":5412956,"username":"agarciatesares","name":"Axel García","state":"active","avatar_url":"https://secure.gravatar.com/avatar/11d24c6151c640aa435f8de30a01f5b8?s=80\u0026d=identicon","web_url":"https://gitlab.com/agarciatesares"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329156","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329156","notes":"https://gitlab.com/api/v4/projects/278964/issues/329156/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329156/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329156","relative":"#329156","full":"gitlab-org/gitlab#329156"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85991904,"iid":329155,"project_id":278964,"title":"Create DAST API Template","description":"### Problem \nThe dast template forces customers to chose between API scanning or web scanning. \n\n### Solution\n- [x] Introduce a dedicated `DAST-API.gitlab-ci.yml` template and \n- [x] Update documentation to refer to the new template. \n- [x] Deprecate the use of  `DAST.gitlab-ci.yml` for API scanning.","state":"closed","created_at":"2021-04-27T01:51:52.338Z","updated_at":"2021-05-17T02:47:45.885Z","closed_at":"2021-05-11T21:39:03.157Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329155","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329155","notes":"https://gitlab.com/api/v4/projects/278964/issues/329155/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329155/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329155","relative":"#329155","full":"gitlab-org/gitlab#329155"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5892,"epic":{"id":260281,"iid":5892,"title":"API Scanner for DAST should be separate from DAST","url":"/groups/gitlab-org/-/epics/5892","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85983181,"iid":329143,"project_id":278964,"title":"Add troubleshooting section about OpenAPI base url errors","description":"### Problem\n\nAdd a section to the docs troubleshooting on how to set target API for OpenAPI v2 and v3 when the application failed to determine it from the input document.\n\nThis is follow on work for https://gitlab.com/gitlab-org/gitlab/-/issues/328733. Error messages have been added that point users to the documentation troubleshooting section.\n\n### Proposal \n\n1. [X] Add troubleshoot entry for how to handle errors when computing Base URL for Target API.\n    1. [X] OpenAPI v2 possible error messages and their solutions (envar, document uri, document content)\n    1. [X] OpenAPI v3 possible error messages and their solutions (envar, document uri, document content)\n    1. [X] Add to API Fuzzing documentation\n1. [x] Add troubleshoot section in DAST making the proper adjustmens. \n\nRelates to:\n* https://gitlab.com/gitlab-org/gitlab/-/issues/328733\n* MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60679\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e","state":"closed","created_at":"2021-04-26T20:42:41.509Z","updated_at":"2021-05-18T20:33:46.291Z","closed_at":"2021-05-18T20:33:46.246Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:Fuzz Testing","GitLab Ultimate","devops::secure","documentation","group::dynamic analysis","section::sec","workflow::verification"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329143","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329143","notes":"https://gitlab.com/api/v4/projects/278964/issues/329143/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329143/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329143","relative":"#329143","full":"gitlab-org/gitlab#329143"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85979004,"iid":329135,"project_id":278964,"title":"Combine metrics, logs and tracing nav items into a single nav item","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Why have we created this issue? \n\n- As a team, we're currently focusing on building out incident management features, and are likely to continue doing so. Metrics, Logs and Tracing aren't being invested in at all right now. \n- In spite of these first two things, we still have Metrics, Logs and Tracing very prominently displayed as separate nav items, which buries the features we are actively investing in at the bottom of the list:\n\n![Screen_Shot_2021-04-26_at_12.11.54_PM](/uploads/0ad0f0c2e4c8f3e915377d20e0fba01d/Screen_Shot_2021-04-26_at_12.11.54_PM.png)\n\n### Proposal being evaluated\nConsider combining metrics, logs and tracing into a single, tabbed page, called `Performance monitoring` or `APM`.\n\nThis would have the dual benefits of simplifying our Monitor navigation and of linking together related features. A side bonus: if we had all of this content on a single page, we could figure out how to have filtering across all three features. So, for example, if someone wanted to know what happened at a specific point in time, they could enter that time into the filter, and then see all the metrics, logs and traces for that specific time.\n\n[Prototype of current nav](https://www.figma.com/proto/aRqRA4Fn20kOxpbmp6gX93/Combine-metrics-logs-and-tracing-nav-items-gitlab-com-and-329135?node-id=1390%3A66689\u0026scaling=min-zoom\u0026page-id=362%3A0)\n\n[Prototype of proposed nav](https://www.figma.com/proto/aRqRA4Fn20kOxpbmp6gX93/Combine-metrics-logs-and-tracing-nav-items-gitlab-com-and-329135?node-id=1390%3A70755\u0026scaling=min-zoom\u0026page-id=1390%3A70754)\n\n### Research results\n\nWe tested both Performance Monitoring and APM, and found that:\n\n- Discoverability for the Metrics nav item was higher in the combined navigation proposal\n- Discoverability for the Logs nav item was much lower\n\nGiven this, we decided that we don't have the evidence to proceed with updating the navigation at this time. \n\nNote, though, while our test showed the combined navigation made the individual items harder to find, it didn't necessarily negate the idea of combining these three items. It's also possible that the kind of powerful filtering we could theoretically do across metrics, logs and tracing would have such great benefits in terms of the APM experience that we're willing to sacrifice some initial feature discoverability. \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e\n\n[Figma file](https://www.figma.com/file/aRqRA4Fn20kOxpbmp6gX93/Combine-metrics-logs-and-tracing-nav-items-gitlab-com-and-329135?node-id=1390%3A70754)\n\n[Research plan](https://docs.google.com/document/d/1cifoa2zv3HUgAC1q8_yLP3NH4_ESU0Mu-EEuwZcR6z4/edit#heading=h.ekddkpwgy2r2)\n\n[Survey preview](https://gitlab.fra1.qualtrics.com/jfe/preview/SV_3lp7XeLWRSLglQG?Q_CHL=preview\u0026Q_SurveyVersionID=current)\n\n[Dovetail project](https://dovetailapp.com/projects/4f6e6cf5-d379-4c19-8284-56362f42e165/readme)","state":"closed","created_at":"2021-04-26T19:04:28.376Z","updated_at":"2023-01-04T21:04:30.816Z","closed_at":"2021-08-19T19:14:46.562Z","closed_by":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"labels":["UX","UX solution validation","devops::monitor","group::respond","section::ops","workflow::solution validation"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":80,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329135","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329135","notes":"https://gitlab.com/api/v4/projects/278964/issues/329135/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329135/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329135","relative":"#329135","full":"gitlab-org/gitlab#329135"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85976670,"iid":329133,"project_id":278964,"title":"Support sub-faults as distinct vulnerabilities","description":"### Problem\n\nAPI Security had the concept of sub-faults or sub-vulnerabilities. This concept doesn't directly map to vulnerabilities in GitLab security reports. The TLS check can report multiple findings per-vulnerability, as can CORS check.\n\nCurrently the security report doesn't include the sub-vulnerabilities, leading to confusing vulnerability entries.\n\n### Proposal\n\nTranslate sub-faults to individual vulnerabilities.\n\n1. [x] Update the sub-fault meta data to be stand alone. Titles, descriptions, and detection.\n   1. [x] TLS Configuration Check\n   1. [x] Known Vulnerabilities Check\n   1. [x] Session Cookie Check\n   1. [x] CORS Check\n1. [x] Update the report controller to generate individual vulnerability entries for each sub-fault\n1. [x] Add/update unit tests\n1. [ ] Verify reports for checks with sub-faults look correct\n1. [x] Publish new container","state":"closed","created_at":"2021-04-26T18:14:03.897Z","updated_at":"2021-10-28T13:57:16.100Z","closed_at":"2021-05-17T03:28:17.390Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","Deliverable","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329133","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":8},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329133","notes":"https://gitlab.com/api/v4/projects/278964/issues/329133/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329133/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329133","relative":"#329133","full":"gitlab-org/gitlab#329133"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85976666,"iid":329132,"project_id":278964,"title":"Safari line numbers on the blob viewer are misaligned when user enables \"Never use font sizes smaller than 14\"","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nLine numbers are misaligned with line content on blob views in Safari with the setting: \"Never use font sizes smaller than\" set to 14.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n1. Open safari\n1. Go to settings \u003e advanced.\n1. enable the \"Never use font sizes smaller than\" and set it to 14.\n1. Visit https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/onboarding_progress_service.rb\n\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/onboarding_progress_service.rb\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\n![Screenshot_2021-04-26_at_18.55.43](/uploads/eab5104aac7e413db70b7a0b6fa9c53c/Screenshot_2021-04-26_at_18.55.43.png)\n\n### What is the expected *correct* behavior?\n\n![Screenshot_2021-04-26_at_19.09.46](/uploads/8702396faf7d240983d49157af893cab/Screenshot_2021-04-26_at_19.09.46.png)\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\nMake the line-height and min-height calculations be based on `em` and not `rem`?","state":"closed","created_at":"2021-04-26T18:13:44.318Z","updated_at":"2021-06-17T07:17:04.067Z","closed_at":"2021-06-17T07:17:04.052Z","closed_by":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"labels":["Category:Source Code Management","Community contribution","Stretch","accessibility","devops::create","frontend","good for new contributors","group::source code","priority::3","section::dev","severity::4","type::bug"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":8985036,"username":"ooulwluoo","name":"ulwlu","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5b1bf2c87532233bd94be77735f4f19?s=80\u0026d=identicon","web_url":"https://gitlab.com/ooulwluoo"}],"author":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":8985036,"username":"ooulwluoo","name":"ulwlu","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5b1bf2c87532233bd94be77735f4f19?s=80\u0026d=identicon","web_url":"https://gitlab.com/ooulwluoo"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329132","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329132","notes":"https://gitlab.com/api/v4/projects/278964/issues/329132/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329132/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329132","relative":"#329132","full":"gitlab-org/gitlab#329132"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85976470,"iid":329131,"project_id":278964,"title":"Provide runner with the operating mode (dast/fuzzing)","description":"### Problem\n\nThe `runner` component of API Security is used by both API Fuzzing and DAST. When providing error message it's useful to know which mode we are in so the error can provide links to documentation and provide correct variable names.\n\n### Proposal \n\nPass the mode of operation to runner, allowing it to customize error messages.\n\n1. [x] Update runner to use dependency injection with `IApplicationOptions`. \n1. [x] Update runner to accept a parameter `--mode` and its possible values are `dast` or `fuzzing`. Case insensitive.\n1. [x] When working on `dast` it should provision default values from environmental variables using the prefix `DAST_API_`\n1. [x] When working on `fuzzing` it should providing default values from environmental variables using the prefix `FUZZAPI_` \n1. [x] When no value is provided, then the default value should be `fuzzing`\n1. [x] Update unit tests.\n1. [ ] Add runner integration tests using `dast` and `fuzzing` modes \n1. [ ] Apply specific messages \n    1. [ ] Update messages for OpenAPI reader [see comment](https://gitlab.com/gitlab-org/security-products/analyzers/api-fuzzing-src/-/merge_requests/502#note_559245647).\n    1. [ ] Update documentation troubleshoot section \n\nMR: https://gitlab.com/gitlab-org/security-products/analyzers/api-fuzzing-src/-/merge_requests/515\n\nRelates to:\n* https://gitlab.com/gitlab-org/gitlab/-/issues/328733\n \n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e","state":"closed","created_at":"2021-04-26T18:10:06.065Z","updated_at":"2021-08-18T07:06:22.236Z","closed_at":"2021-08-05T21:38:10.973Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","Deliverable","GitLab Ultimate","backend","devops::secure","documentation","feature::enhancement","group::dynamic analysis","section::sec","type::feature","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329131","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329131","notes":"https://gitlab.com/api/v4/projects/278964/issues/329131/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329131/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329131","relative":"#329131","full":"gitlab-org/gitlab#329131"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4254,"epic":{"id":98486,"iid":4254,"title":"API Security scanner for DAST","url":"/groups/gitlab-org/-/epics/4254","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85975169,"iid":329129,"project_id":278964,"title":"FE: Billing page not reachable if CustomersDot not running","description":"This is the frontend issue for https://gitlab.com/gitlab-org/gitlab/-/issues/320931\n\nDesigns: https://gitlab.com/gitlab-org/gitlab/-/issues/320931/designs/Billing_page_error_loading.png","state":"closed","created_at":"2021-04-26T17:38:36.026Z","updated_at":"2021-05-14T12:19:21.327Z","closed_at":"2021-05-05T22:06:04.278Z","closed_by":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"labels":["[deprecated] Accepting merge requests","[deprecated] Category:Utilization","devops::fulfillment","frontend","group::utilization","section::fulfillment","type::feature","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329129","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329129","notes":"https://gitlab.com/api/v4/projects/278964/issues/329129/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329129/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329129","relative":"#329129","full":"gitlab-org/gitlab#329129"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85974915,"iid":329128,"project_id":278964,"title":"Use SECURE_ANALYZERS_PREFIX prefix in DAST API CI template","description":"### Problem\n\nAnalyzers are using the `SECURE_ANALYZERS_PREFIX` in the image names to allow offline users to quickly change where all security analyzers pull containers. DAST API doesn't currently use the `SECURE_ANALYZERS_PREFIX` variable.\n\n### Proposal\n\nUse `SECURE_ANALYZERS_PREFIX` in `DAST_API_IMAGE`. This allows users of offline GitLab instances to quickly change where all security analyzers pull container images.\n\nTasks:\n\n1. [x] Update DAST API CI template\n   1. [x] Use `SECURE_ANALYZERS_PREFIX`\n   1. [x] Remove `-engine` suffix","state":"closed","created_at":"2021-04-26T17:33:15.119Z","updated_at":"2021-04-27T15:05:35.352Z","closed_at":"2021-04-27T15:05:35.195Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","GitLab Ultimate","backend","devops::secure","feature::enhancement","group::dynamic analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329128","notes":"https://gitlab.com/api/v4/projects/278964/issues/329128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329128","relative":"#329128","full":"gitlab-org/gitlab#329128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4254,"epic":{"id":98486,"iid":4254,"title":"API Security scanner for DAST","url":"/groups/gitlab-org/-/epics/4254","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85974633,"iid":329127,"project_id":278964,"title":"Add stuck icon for a job","description":"~frontend \n\nLocated in `app/views/projects/ci/builds/_build.html.haml` there is some logic that displays a stuck icon.\n\n- If the job is stuck, we display a warning icon with a tooltip.\n\nWe should add back in this logic and the icon during the refactor.\n\n~backend \n\nFor if the job is stuck we need to add a new `stuck` field to the `app/graphql/types/ci/job_type.rb`.\n\nA job is considered stuck if it is pending and has no runners online.\n\nSee `stuck?` method here: `app/models/ci/build.rb`","state":"closed","created_at":"2021-04-26T17:24:59.931Z","updated_at":"2021-06-02T22:54:05.280Z","closed_at":"2021-05-14T12:40:15.630Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","Deliverable","Verify::P1","backend","backend-weight::1","devops::verify","frontend","frontend-weight::1","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329127","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329127","notes":"https://gitlab.com/api/v4/projects/278964/issues/329127/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329127/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329127","relative":"#329127","full":"gitlab-org/gitlab#329127"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5604,"epic":{"id":226144,"iid":5604,"title":"Refactor jobs view to Vue/GraphQL","url":"/groups/gitlab-org/-/epics/5604","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":85965012,"iid":329110,"project_id":278964,"title":"Epic: Move confidentiality above ancestors in sidebar","description":"See https://gitlab.com/gitlab-org/gitlab/-/issues/231401/designs/Iteration_2.png for an example.","state":"closed","created_at":"2021-04-26T14:45:19.210Z","updated_at":"2021-07-14T02:43:19.124Z","closed_at":"2021-07-14T02:43:05.212Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["devops::plan","feature::enhancement","frontend","group::product planning","section::dev","type::feature","workflow::in review"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"}],"author":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"type":"ISSUE","assignee":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329110","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329110","notes":"https://gitlab.com/api/v4/projects/278964/issues/329110/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329110/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329110","relative":"#329110","full":"gitlab-org/gitlab#329110"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85961897,"iid":329105,"project_id":278964,"title":"Identify frequently updated database tables that may need a redesign or a sharding solution","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/328424#note_560525581 I'm taking a look at past database incidents to determine if there's any pattern, and if sharding (or any other solution for that matter) would help.\n\nRelated to that, I'll be looking at what tables are most frequently updated, and which ones are the largest. The idea is that such tables are probably tables we want to start taking a closer look at.","state":"closed","created_at":"2021-04-26T14:00:47.317Z","updated_at":"2022-05-31T12:23:25.469Z","closed_at":"2021-04-28T12:24:41.157Z","closed_by":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"labels":["database","devops::data_stores","group::pods","wg_database-scalability","workflow::in dev"],"milestone":null,"assignees":[{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"}],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"user_notes_count":27,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329105","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329105","notes":"https://gitlab.com/api/v4/projects/278964/issues/329105/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329105/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329105","relative":"#329105","full":"gitlab-org/gitlab#329105"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5759,"epic":{"id":249564,"iid":5759,"title":"Sharding - Database Scalability","url":"/groups/gitlab-org/-/epics/5759","group_id":9970,"human_readable_end_date":"Jan 30, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85961499,"iid":329103,"project_id":278964,"title":"Add Rubocop rule to make sure we inherit only allowed metric classes","description":"We have available a set of base metric classes\n\n* DatabaseMetric\n* GenericMetric\n* RedisHLLMetric\n\nWe could have a rule to make sure that one of this are used for metric instrumentations","state":"closed","created_at":"2021-04-26T13:54:14.489Z","updated_at":"2021-06-04T17:23:49.880Z","closed_at":"2021-05-24T17:45:54.480Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["devops::growth","group::product intelligence","milestone::p4","section::growth","workflow::verification"],"milestone":null,"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329103","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329103","notes":"https://gitlab.com/api/v4/projects/278964/issues/329103/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329103/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329103","relative":"#329103","full":"gitlab-org/gitlab#329103"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6115,"epic":{"id":283112,"iid":6115,"title":"Remove specific domain review for Product Intelligence","url":"/groups/gitlab-org/-/epics/6115","group_id":9970},"iteration":null,"health_status":null},{"id":85959464,"iid":329100,"project_id":278964,"title":"Default branch rename redirect","description":"### Release notes\n\nAs part of the larger effort to rename Git's default initial branch in a GitLab project from `master` to `main`, we are adding a automatic redirect to streamline the experience for you. Previously, when projects rename the default branch. e.g. from `master` to `main`, all current URLs including the default branch in the URL path, will result in `404s - not found`. This is a frustrating experience when you are trying to navigate between branches in a project. Now if you navigate to a file path whose ref branch got renamed, and you will be redirected to the new source file path automatically.\n\nhttps://docs.gitlab.com/ee/user/project/repository/branches/default.html#update-the-default-branch-name-in-your-repository\n\n### Problem to solve \n\nWhen projects rename the default branch, e.g. from `master` to `main`, all current URLs including the default branch in the URL path, will result in 404s - not found.\n\nDocumentation deep links might be more visibly affected, for example `https://gitlab.com/gitlab-org/gitlab-development-kit/-/blob/master/doc/howto/gitpod.md` which I had linked in a slide deck. \n\n`https://gitlab.com/gitlab-org/gitlab-development-kit/-/blob/main/doc/howto/gitpod.md` is the corrected path. \n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\nNavigate to a file path whose ref branch got renamed, and get redirected to the new source file path automatically.\n\nOptional: Add a note to update bookmarks, similar to the project move/rename redirect.\n\n### Proposal\n\nWhen addressing the immediate prior name of the default branch in a URL, automatically redirect to the current default branch. In the above example:\n\n`https://gitlab.com/gitlab-org/gitlab-development-kit/-/blob/master/doc/howto/gitpod.md`\n\nautomatically redirects to \n\n`https://gitlab.com/gitlab-org/gitlab-development-kit/-/blob/main/doc/howto/gitpod.md`\n\nFor MVC we will address it only for the prior name of the default branch (for example, if it has been renamed more than once, we won't redirect any versions prior to the immediate predecessor)\n\n\u003cdetails\u003e\n\u003csummary\u003eOriginal proposal\u003c/summary\u003e\n\nUse the project rename and redirect functionality, and track a change of the default branch name. \n\nAlternatively, add a config setting to enable this re-direct for projects.\n\nRough UX:\n\n```\n[ ] Redirect default branch names\n\nOld target: [ master ] New target: [ main ]\n```\n\u003c/details\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nThis may affect performance depending on how the redirect is matched.\n\n```\nhttps://gitlab.com/userorgroup/project/-/blob/[master]/path/to/file.md\nhttps://gitlab.com/userorgroup/project/-/blob/[main]/path/to/file.md\n```\n\nI'd suggest to use `redirect permanent`, making browsers cache the redirect on the client side. This removes stress on the server. \n\n\u003e For short term solutions for GitLab.com infra, we could use Nginx redirects in production.\n\nResources:\n\n- GitLab pages redirect: https://gitlab.com/gitlab-org/gitlab-pages/-/issues/24\n- Project rename redirects: https://gitlab.com/gitlab-org/gitlab-foss/-/issues/17361\n\nInspired by https://twitter.com/twitchih/status/1385597550237978626?s=27\n\n![image](/uploads/3f88358a0ca650bc4b703ff423cfbdeb/image.png)\n\n### Documentation\n\nIf this gets a project setting, corresponding docs with screenshots need to be added. A permission model update is required then too. \n\n### Availability \u0026 Testing\n\nAs a project setting, add rspec tests including permission checks.\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\nNo reports on URL 404s after renaming a branch.\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e","state":"closed","created_at":"2021-04-26T13:27:24.737Z","updated_at":"2022-05-04T09:38:53.267Z","closed_at":"2021-07-15T08:18:48.690Z","closed_by":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"labels":["CEO Interest","Category:Source Code Management","Deliverable","GitLab Core","Technical Writing","backend","devops::create","direction","documentation","group::source code","release post","release post item","section::dev","tw-weight::5","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"}],"author":{"id":5534214,"username":"dnsmichi","name":"Michael Friedrich","state":"active","avatar_url":"https://secure.gravatar.com/avatar/383a41b48a683b47432b15e8e86fd285?s=80\u0026d=identicon","web_url":"https://gitlab.com/dnsmichi"},"type":"ISSUE","assignee":{"id":572018,"username":"nick.thomas","name":"Nick Thomas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/572018/avatar.png","web_url":"https://gitlab.com/nick.thomas"},"user_notes_count":34,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329100","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329100","notes":"https://gitlab.com/api/v4/projects/278964/issues/329100/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329100/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329100","relative":"#329100","full":"gitlab-org/gitlab#329100"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6372,"epic":{"id":309421,"iid":6372,"title":"Helpful tools and processes with branch rename and migration","url":"/groups/gitlab-org/-/epics/6372","group_id":9970,"human_readable_end_date":"Jul 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85955144,"iid":329094,"project_id":278964,"title":"Deprecate and remove service template metrics","description":"### Description\n\nAs part of the removal of the service templates https://gitlab.com/gitlab-org/gitlab/-/issues/325659, we have to deprecate and finally remove the following line https://gitlab.com/gitlab-org/gitlab/-/blob/d6ab412b1964eb60e5e84c9a046397ea610ae250/lib/gitlab/usage_data.rb#L411.\n\nIn order to do that, we have to follow the process to deprecate and remove an usage ping metric:\n- https://docs.gitlab.com/ee/development/service_ping/metrics_lifecycle.html#deprecate-a-metric\n- https://docs.gitlab.com/ee/development/service_ping/metrics_lifecycle.html#remove-a-metric","state":"closed","created_at":"2021-04-26T12:29:48.978Z","updated_at":"2022-11-22T19:43:28.223Z","closed_at":"2021-10-11T12:08:34.627Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Community contribution","backend","devops::manage","group::integrations","product intelligence","section::dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":9588757,"username":"lenikadali","name":"Leni Kadali Mutungi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9588757/avatar.png","web_url":"https://gitlab.com/lenikadali"}],"author":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"type":"ISSUE","assignee":{"id":9588757,"username":"lenikadali","name":"Leni Kadali Mutungi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9588757/avatar.png","web_url":"https://gitlab.com/lenikadali"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329094","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329094","notes":"https://gitlab.com/api/v4/projects/278964/issues/329094/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329094/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329094","relative":"#329094","full":"gitlab-org/gitlab#329094"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5672,"epic":{"id":233591,"iid":5672,"title":"Deprecate and remove Service Templates feature","url":"/groups/gitlab-org/-/epics/5672","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85936287,"iid":329064,"project_id":278964,"title":"Order-dependent issue in ee/spec/lib/omni_auth/strategies/group_saml_spec.rb","description":"Running the following allows to reproduce (what I think is) an order-dependent issue in ee/spec/lib/omni_auth/strategies/group_saml_spec.rb:\n\n```\nbundle exec rspec -- ee/spec/features/groups/saml_providers_spec.rb:80 ee/spec/lib/omni_auth/strategies/group_saml_spec.rb:99\n```\n\nresults in\n\n```\n  1) OmniAuth::Strategies::GroupSaml POST /groups/:group_path/-/saml/callback with invalid SAMLResponse redirects somewhere so failure messages can be displayed\n     Failure/Error:\n       super.tap do\n         @response = ActionDispatch::TestResponse.from_response(last_response)\n       end\n     \n     OneLogin::RubySaml::ValidationError:\n       Current time is on or after NotOnOrAfter condition (2021-04-26 08:18:12 UTC \u003e= 2012-11-08 20:44:54 UTC)\n     # ./ee/lib/omni_auth/strategies/group_saml.rb:47:in `callback_phase'\n     # ./spec/support/omniauth_strategy.rb:10:in `post'\n     # ./ee/spec/lib/omni_auth/strategies/group_saml_spec.rb:100:in `block (4 levels) in \u003cmain\u003e'\n     # ./spec/spec_helper.rb:355:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/sidekiq_middleware.rb:9:in `with_sidekiq_server_middleware'\n     # ./spec/spec_helper.rb:346:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/spec_helper.rb:342:in `block (3 levels) in \u003ctop (required)\u003e'\n     # ./lib/gitlab/application_context.rb:31:in `with_raw_context'\n     # ./spec/spec_helper.rb:342:in `block (2 levels) in \u003ctop (required)\u003e'\n     # ./spec/support/omniauth_strategy.rb:38:in `block (3 levels) in \u003cmain\u003e'\n     # ./spec/support/omniauth_strategy.rb:26:in `without_test_mode'\n     # ./spec/support/omniauth_strategy.rb:37:in `block (2 levels) in \u003cmain\u003e'\n```\n\nI believe removing the `:js` metadata from the first test file makes the second test file pass so it's probably related. In our CI, we never run unit and system tests in the same jobs, except for the `rspec fail-fast` job which runs tests based on the files changed in the MR, regardless of their type. This might be the problem here (even though running a unit and a system test shouldn't fail in general).\n\nMaybe someone from the ~\"group::access\" group can investigate this?","state":"closed","created_at":"2021-04-26T08:20:29.275Z","updated_at":"2022-05-25T17:49:19.282Z","closed_at":"2021-06-29T17:54:46.818Z","closed_by":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"labels":["backend","devops::manage","group::authentication and authorization","section::dev","test","type::bug","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":13356,"username":"dblessing","name":"Drew Blessing","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b5bf44866b4eeafa2d8114bfe15da02f?s=80\u0026d=identicon","web_url":"https://gitlab.com/dblessing"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329064","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329064","notes":"https://gitlab.com/api/v4/projects/278964/issues/329064/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329064/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329064","relative":"#329064","full":"gitlab-org/gitlab#329064"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85918613,"iid":329053,"project_id":278964,"title":"ruby-saml security update breaks handling of large SAML responses","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nAfter commit https://gitlab.com/gitlab-org/gitlab/-/commit/da2e9f3a6f835d658dd678ff11f8e64a6f81328e that went in 13.10.3 / 13.11.0, certain organizations (self-managed users) with large SAML responses (likely due to content of groups, etc.) are unable to login successfully.\n\nThis is due to the arbitrary limit of 0.25 MB introduced by a security fix consumed through that upgrade: https://github.com/onelogin/ruby-saml/commit/533c84ebfc40f8cbac645b6c76ce4949f95d27d6\n\nCan the limit be made configurable for GitLab's use?\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\nAdding a SAML user to a lot of large named groups may be one way to get the size above 0.25 MB in the success response.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nAuthentication fails with message:\n\n```\nCould not authenticate you from SAML because \"Encoded saml message exceeds 250000 bytes, so was rejected\".\n```\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nAuthentication should succeed as it did in versions prior to the change.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nGitLab 13.10.3, or 13.11.0, maybe others - (any that include the above upgrade backports).\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-04-26T00:04:42.123Z","updated_at":"2022-03-28T19:27:34.667Z","closed_at":"2021-09-16T10:50:34.278Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["Category:Authentication and Authorization","Epic 6340","FY22::Q3","backend","customer","devops::manage","group::authentication and authorization","missed-SLO","missed-deliverable","missed:14.2","priority::2","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":7536567,"username":"hchouraria","name":"Harsh Chouraria","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7536567/avatar.png","web_url":"https://gitlab.com/hchouraria"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-09-11","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/329053","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/329053","notes":"https://gitlab.com/api/v4/projects/278964/issues/329053/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/329053/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#329053","relative":"#329053","full":"gitlab-org/gitlab#329053"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85847974,"iid":328889,"project_id":278964,"title":"Manual merge instructions don't escape special characters and might lead user to copy paste malicious commands","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIt's possible to create a branch name that causes the manual merge instructions to contain malicious commands.\n\nThe same thing is also possible with a malicious username with the instructions on the new project page but that's pretty much a self-attack. We should probably escape all \"command line instructions\" output anyway.\n\n### Steps to reproduce\n\nCreate a branch named `\";echo${IFS}\"you_shouldnt_run_this` and open an MR, click the `Check out branch` button and copy paste the instructions in a `bash` terminal (that specific branch name won't work in `zsh`)\n\n```shell\n$ git fetch origin\n$ git checkout -b \"\";echo${IFS}\"you_shouldnt_run_this\" \"origin/\";echo${IFS}\"you_shouldnt_run_this\"\nfatal: '' is not a valid branch name.\nyou_shouldnt_run_this origin/\nyou_shouldnt_run_this\n```\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nIt's possible to break out of the quotes with a malicious branch name\n\n### What is the expected *correct* behavior?\n\nThe command should be displayed using single quotes to avoid variable expansion and single quotes in branch names should be escaped.\n\n### Relevant logs and/or screenshots\n\n![image](/uploads/9f9e7152e1116caa945cfa9413c55e8e/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-04-23T21:50:12.231Z","updated_at":"2022-03-08T22:38:20.812Z","closed_at":"2021-12-02T15:30:00.705Z","closed_by":{"id":750946,"username":"dennis","name":"Dennis Tang","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/750946/avatar.png","web_url":"https://gitlab.com/dennis"},"labels":["devops::create","frontend","group::code review","priority::4","section::dev","security","security-backlog::review-complete","severity::4","type::bug","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":2190515,"username":"KevSlashNull","name":"Kev","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f3861b3746ee5f779cbdcf1efa4a2a1e?s=80\u0026d=identicon","web_url":"https://gitlab.com/KevSlashNull"}],"author":{"id":4992072,"username":"dcouture","name":"Dominic Couture","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4992072/avatar.png","web_url":"https://gitlab.com/dcouture"},"type":"ISSUE","assignee":{"id":2190515,"username":"KevSlashNull","name":"Kev","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f3861b3746ee5f779cbdcf1efa4a2a1e?s=80\u0026d=identicon","web_url":"https://gitlab.com/KevSlashNull"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-08-21","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328889","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328889","notes":"https://gitlab.com/api/v4/projects/278964/issues/328889/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328889/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328889","relative":"#328889","full":"gitlab-org/gitlab#328889"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85847844,"iid":328888,"project_id":278964,"title":"Follow-up from \"Use new `level?` methods for `Service`\"","description":"The following discussion from !60074 should be addressed:\n\n- [x] @arturoherrero started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/60074#note_559176326):  (+2 comments)\n\n    \u003e Non-blocking: I think we can go with the following\n    \u003e ```suggestion:-0+0\n    \u003e     project_level?\n    \u003e ```\n    \u003e Since %\"13.11\", users cannot create service templates and they are going to be removed completely https://gitlab.com/groups/gitlab-org/-/epics/5672.","state":"closed","created_at":"2021-04-23T21:44:34.157Z","updated_at":"2022-11-22T19:43:36.087Z","closed_at":"2021-06-30T07:29:23.770Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["backend","devops::manage","group::ecosystem [DEPRECATED]","maintenance::refactor","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328888","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328888","notes":"https://gitlab.com/api/v4/projects/278964/issues/328888/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328888/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328888","relative":"#328888","full":"gitlab-org/gitlab#328888"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5672,"epic":{"id":233591,"iid":5672,"title":"Deprecate and remove Service Templates feature","url":"/groups/gitlab-org/-/epics/5672","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85846602,"iid":328875,"project_id":278964,"title":"Epic count in epic boards does not account for filters","description":"When filtering epics on epic boards, epic list headers are not updated with the correct count.\n\nThis was brought to my attention here: https://gitlab.com/gitlab-org/gitlab/-/issues/324677#note_556675332\n\n![2021-04-22_15.48.43__1_](/uploads/bdeeedb17d177fb19993626824c65f6c/2021-04-22_15.48.43__1_.gif)\n\ncc @cdybenko could you please prioritize","state":"closed","created_at":"2021-04-23T20:54:36.645Z","updated_at":"2021-06-18T07:06:42.866Z","closed_at":"2021-06-10T20:53:30.147Z","closed_by":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"labels":["Deliverable","backend","devops::plan","frontend","group::product planning","section::dev","workflow::in dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},{"id":4669960,"username":"cdybenko","name":"Christen Dybenko","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4669960/avatar.png","web_url":"https://gitlab.com/cdybenko"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328875","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328875","notes":"https://gitlab.com/api/v4/projects/278964/issues/328875/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328875/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328875","relative":"#328875","full":"gitlab-org/gitlab#328875"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5079,"epic":{"id":163903,"iid":5079,"title":"🏗  Epic Boards - MVC 3 - Final polish and parity for final release","url":"/groups/gitlab-org/-/epics/5079","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85845970,"iid":328874,"project_id":278964,"title":"Design: Cognitive walk-through of current incident management workflow","description":"### Why a cognitive walk-through?\n\nIn the past year, we've introduced custom integrations, alerts, dedicated incidents and on-call scheduling. The work for this issue would be to do an analysis of the current workflow to find discover possible areas for improvement. The end result would be both the walk-through itself, and 2-3 areas for improvement. Ideally, we'd target these areas of improvement with usability tests in subsequent milestones.\n\n[Cognitive walkthrough research plan](https://docs.google.com/document/d/14jWJgPF0tmWEAZ1Wt_29943kFGWj7kRxWDtoxJEyTmU/edit?usp=sharing)\n\n### Alert integrations\nStep 1 of the workflow - getting all alerts sent to GitLab.\n\nRelevant JTBD: `I want all of my alerts from all of my monitoring tools to be visible in one location so that I don't have to check for alerts in multiple places.`\n\n**Steps to set up alert integration (most likely path)**\n1. Navigate to alerts page\n2. Click button in empty state to navigate to settings page\n3. Click button to add an integration\n4. Select integration type\n5. Complete fields in form \n6. Save and test integration.\n\nCognitive walk-through video: [Video link](https://drive.google.com/file/d/1KopY0tfSBr-V_lE49CpdtvfYEp9OV8Xx/view?usp=sharing)\n\n### Setting up an on-call schedule for your alerts\nStep 2 of the workflow - if you’re sending all your alerts to GitLab, you want to be sure that the appropriate people are receiving them. \n\nRelevant JTBD: `I want to set up on-call schedules to handle my alerts so I can be confident that, if an alert is firing, the appropriate people will be paged.`\n\n**Steps to set up on-call schedule (most likely path)**\n1. Navigate to on-call schedule page\n2. Click button to create a schedule\n3. Complete form to add a schedule\n4. Add a rotation\n\nCognitive walk-through video: [Video link](https://drive.google.com/file/d/1klrR9gxczbGKaMlp4gDy572qHuAB_-X1/view?usp=sharing)\n\n### Alert list and detail pages\nStep 3 of the workflow - when the alerts start coming in - displaying all of those alerts within GitLab so they can be properly triaged by the team.\n\nRelevant JTBD: `When an alert is triggered, I want to be able to triage it quickly, so I can decide if it's worth investigating further or not.`\n\n**Steps to triage an alert (most likely path)**\n1. Get alert, click link to alert page\n2. Acknowledge the alert\n3. Review alert details\n4. Escalate to an incident or mark as resolved\n\nCognitive walk-through video: [Video link](https://drive.google.com/file/d/1omomJSsPjj_SmuGY7_8cOh9XvmxVIjGK/view?usp=sharing)\n\n### Incident list and detail pages\nStep 4 of the workflow - for those alerts that are serious enough to be promoted to an incident - collaborating with your team on the incident to determine a resolution for it.\n\nRelevant JTBD: `During an active incident, I want to reduce the time to resolution, so I can get the things back up and running as quickly as possible.`\n\n1. View incident button\n2. Loop in colleagues\n3. Find resolution\n4. Close issue when resolved\n\nCognitive walk-through video: [Video link](https://drive.google.com/file/d/1_byDeXJEAkDsQn6ilHxEXmtsLig1VlIk/view?usp=sharing)","state":"closed","created_at":"2021-04-23T20:35:36.310Z","updated_at":"2021-07-16T16:44:12.503Z","closed_at":"2021-06-08T22:06:06.693Z","closed_by":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"labels":["UX","UX solution validation","devops::monitor","group::respond","section::ops"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328874","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328874","notes":"https://gitlab.com/api/v4/projects/278964/issues/328874/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328874/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328874","relative":"#328874","full":"gitlab-org/gitlab#328874"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85844466,"iid":328867,"project_id":278964,"title":"🎨 Design: Add \"Submit button identifier\" option to the Site profile authentication section","description":"# Description\nIn order to allow for users to specify submit buttons for authentication forms that might not contain a standard name, id, or type, we need to enable users to specify how to find the button to submit the form.\n\n## Requirements\n- Optional \"Submit button identifier\" text box added under the Username fields\n\n## Use of the Submit button field\nIf the submit button field is set, the browser will use that field name to submit the form. In the event that the browser can not find that button, the test should fail and provide a meaningful error to the user about why it failed. An error message such as `Submit button [specified id] not found. Authentication unsuccessful.` should be displayed in the console.\n\n## Design Proposal\n- Design file: https://www.figma.com/file/o6NoqgLnxv0KnK2y9Qum51/DAST-Configuration-UI?node-id=668%3A34679\n- Prototype: https://www.figma.com/proto/o6NoqgLnxv0KnK2y9Qum51/DAST-Configuration-UI?page-id=599%3A29312\u0026node-id=668%3A34679\u0026viewport=-758%2C581%2C0.125\u0026scaling=min-zoom","state":"closed","created_at":"2021-04-23T19:45:42.794Z","updated_at":"2021-11-01T15:55:35.321Z","closed_at":"2021-07-21T19:26:26.992Z","closed_by":{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"},"labels":["Category:DAST","authentication","devops::secure","group::dynamic analysis","section::sec"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"}],"author":{"id":4985194,"username":"derekferguson","name":"Derek Ferguson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4985194/avatar.png","web_url":"https://gitlab.com/derekferguson"},"type":"ISSUE","assignee":{"id":8655314,"username":"mfangman","name":"Michael Fangman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8655314/avatar.png","web_url":"https://gitlab.com/mfangman"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328867","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328867","notes":"https://gitlab.com/api/v4/projects/278964/issues/328867/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328867/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328867","relative":"#328867","full":"gitlab-org/gitlab#328867"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3323,"epic":{"id":54112,"iid":3323,"title":"DAST: UI configuration","url":"/groups/gitlab-org/-/epics/3323","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85842728,"iid":328865,"project_id":278964,"title":"🎨 Design: Redesign show a similar \"drawer\" view on alert select","description":"\u003e For the details of the issue please check out the [linked epic](https://gitlab.com/groups/gitlab-org/-/epics/5041) in this issue\n\n## Why are we doing this work\n- when a user is viewing alerts from the threat monitoring alert's tab, the table only gives them a limited amount of information\n- a user will be able to click on an alert row in the table and a drawer will appear, which will give them more information\n\n## Research done related with this:\n\nMain finding summary:\n\n* **Is our assumptions correct: the smaller drawer is not good enough for users to consume the content**\n  * Yes, this is confirmed, none of the users prefers the small drawer, 5 out of 6 think it is bad for reading and using\n* **Which layout do users prefer the most?**\n  * 4 out of 6 prefer the email layout, because they think it is easier to navigate, content is clear and bigger drawer is somehow feels unstable, easy to make mistakes, has extra steps etc.\n  * 2 out of 6 prefer the bigger drawer, the main reason they give is that this is similar to what they used to have, such as Microsoft defend or excel sheet\n\nIn my onion, the email layout is the best among the three, because most people prefer it and the reasons users give in on the layout/readability of the email layout itself instead of bigger drawer one is mainly a habit which could be changed if use a different product\n\n* **Is the information hierarchy good for scanning?**\n  * Yes, 6 out of 6 users think our detailed information in the email layout is easy to read and consume\n\nI observed one thing, that users are looking for detailed information in the pattern of what is the source and destination information, such as source IP and destination IP. I think we can group the information better to help users. I will explain it more in the [design issue](https://gitlab.com/gitlab-org/gitlab/-/issues/328865) update.\n\n* **Create incident, change status are the primary actions a user needs and they are easy to find**\n  1. Create an incident, change status or assign to someone are major actions after the user confirm the alert is not false-positive and need further investigation or work with another team.\n  1. The major action user does after confirming it is malicious is closing the network or activity and raising an incident at the same time or late\n\n\n\u003cdetails\u003e\u003csummary\u003e**Additional informative insights we found during the research**\u003c/summary\u003e\n\u003cp\u003e\n\n* Manage alerts are those people’s major tasks, time spend on it depends on the team size and amount of alerts that came in, which could be 1-8 hours pre day.\n* Most teams use status to track progress, they might use different terminology, such as close instead of dismissing, additional status such as engineer in review, testing etc.\n* Everyone mentioned IP during the process of investigation of the alert, especially source IP, where does the event started, and they looked for additional info, such as geolocation, is the IP address appeared before in other alter, connect directly from our platform towards a lookup system. I have an issue created for it.\n* Some users think integration is really necessary because they have a lot of other tools, they prefer to have one place to view everything.\n\n**Actionable insights please follow [this epic](https://gitlab.com/groups/gitlab-org/-/epics/7197) and below are the issues:**\n\n* [:art: Design: bulk action for alerts management in threat management](https://gitlab.com/gitlab-org/gitlab/-/issues/346930)\n* [:art: Design: provide more statistic info for users about alerts](https://gitlab.com/gitlab-org/gitlab/-/issues/346929)\n* [:art: Design: tell the user whether is alert has shown up before or not](https://gitlab.com/gitlab-org/gitlab/-/issues/346928)\n* [:art: Design: tell user which rules triggered particular research](https://gitlab.com/gitlab-org/gitlab/-/issues/346926)\n* [:art: Design: provide different download format for alert details](https://gitlab.com/gitlab-org/gitlab/-/issues/346925)\n* [:art: Design: More information about Source IP](https://gitlab.com/groups/gitlab-org/-/epics/7197#:\\~:text=%F0%9F%8E%A8%20Design%3A%20More%20information%20about%20Source%20IP)\n* [:art: Design: notify user about threat monitor alerts](https://gitlab.com/gitlab-org/gitlab/-/issues/346918)\n* [:art: Design: allow user switch table view and email view](https://gitlab.com/gitlab-org/gitlab/-/issues/347034)\n* [:art: Design: give more details in documentation how we give the severity to the alerts](https://gitlab.com/gitlab-org/gitlab/-/issues/347035)\n\n\n\u003c/p\u003e\n\u003c/details\u003e\n\n\n## Related pajama effort\n\nDetails, please see https://gitlab.com/groups/gitlab-org/gitlab-services/-/epics/9\n\n## Design:\n\n- Figma: https://www.figma.com/file/jgka6sTKTZOMRaszkd272C/Alerts-management?node-id=722%3A3274\n- Design screenshot see the area below","state":"closed","created_at":"2021-04-23T18:54:01.206Z","updated_at":"2022-01-18T11:43:00.904Z","closed_at":"2021-12-13T09:54:26.478Z","closed_by":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"labels":["Category:Container Network Security","UX","devops::govern","group::security policies","section::sec","workflow::design"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":4544240,"username":"cam.x","name":"Camellia X Yang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7ea4de9b3092f62013d2cfd0c340811a?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam.x"},"user_notes_count":56,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328865","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":7,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328865","notes":"https://gitlab.com/api/v4/projects/278964/issues/328865/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328865/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328865","relative":"#328865","full":"gitlab-org/gitlab#328865"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6939,"epic":{"id":372260,"iid":6939,"title":"Support Email Style Drawer for Alert Dashboard","url":"/groups/gitlab-org/-/epics/6939","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"needs_attention"},{"id":85839018,"iid":328848,"project_id":278964,"title":"At group level, an empty merge request search result view does not include the buttons, search bar, etc.","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIf you search for merge requests and there are no results, the search infrastructure isn't rendered on the page.\n\nIt states \"Sorry, your filter produced no results\" and \"To widen your search, change or remove filters above\" but the filters are gone.\n\n![image](/uploads/51b31e98384a15f1a6fc1b8e3717ab80/image.png)\n\n### Steps to reproduce\n\n[Search for an author with no MRs in gitlab.org](https://gitlab.com/groups/gitlab-org/-/merge_requests)\n\n![image](/uploads/2d3945a8f6b6c77e35196bc95c4edbd1/image.png)\n\nAlso:\n\n- Assignee with no results\n- Target branch with no results\n\n![image](/uploads/9ea53c95c75429c2f9f2148f0e90215b/image.png)\n\n![image](/uploads/17261c4ca7c811f85a776a3ec0701642/image.png)\n\nResult is the same for all three.\n\n### Example Project\n\nhttps://gitlab.com/groups/gitlab-org\n\n### What is the current *bug* behavior?\n\nAll the search components vanish\n\n![image](/uploads/76d78cb381b1a1518c9f5754aa65e3b6/image.png)\n\n### What is the expected *correct* behavior?\n\nThese components are rendered\n\n![image](/uploads/586ce5904af57818e499f31c9d4c237e/image.png)\n\nContrast, issues:\n\n![image](/uploads/6833f43c4ad6224f25861566bfcaea28/image.png)\n\n### Relevant logs and/or screenshots\n\nsee above\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n13.12.0-pre a4650301820\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-04-23T17:33:51.945Z","updated_at":"2022-09-14T18:08:22.127Z","closed_at":"2022-07-20T16:05:36.329Z","closed_by":{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"},"labels":["Deliverable","SUS::Impacting","UX","backend","devops::create","group::code review","missed-deliverable","missed:14.10","priority::3","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"}],"author":{"id":4624911,"username":"bprescott_","name":"Ben Prescott_","state":"active","avatar_url":"https://secure.gravatar.com/avatar/91aa28150f430ec564dc5af5952c35a0?s=80\u0026d=identicon","web_url":"https://gitlab.com/bprescott_"},"type":"ISSUE","assignee":{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328848","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328848","notes":"https://gitlab.com/api/v4/projects/278964/issues/328848/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328848/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328848","relative":"#328848","full":"gitlab-org/gitlab#328848"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85832538,"iid":328832,"project_id":278964,"title":"Acquire Exclusive lease on BatchedMigrationRunner..run_entire_migration","description":"This is a follow-up from gitlab-org/gitlab!60096:\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/60096#note_558680476\n\n\u003e\u003e\u003e\nThere is a complication here: We should also acquire the lease as we do in https://gitlab.com/gitlab-org/gitlab/blob/ab/inline-migrations/app/workers/database/batched_background_migration_worker.rb#L40.\n\nHow about we do the following:\n\n1. Add a `Gitlab::Database::BackgroundMigration#lease` to get the lease (global scope currently, we can later change this to per-migration, for example).\n1. Use this lease in `BatchedBackgroundMigrationWorker` and `BatchedMigrationRunner`\n\nGiven that we haven't acquired the lease before either (when inlining), I would leave this as a follow-up.\n\u003e\u003e\u003e\n\nIt will be useful if we want to propose using `db:execute_batched_migrations` in self hosted environment with the cron job active and potentially also running batched background migrations.","state":"closed","created_at":"2021-04-23T15:48:53.665Z","updated_at":"2022-07-18T12:41:10.773Z","closed_at":"2022-07-14T15:47:13.625Z","closed_by":{"id":480097,"username":"alexives","name":"Alex Ives","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480097/avatar.png","web_url":"https://gitlab.com/alexives"},"labels":["Category:Database","devops::data_stores","group::database","section::enablement","type::maintenance","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":1982738,"username":"iroussos","name":"Yannis Roussos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1982738/avatar.png","web_url":"https://gitlab.com/iroussos"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328832","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328832","notes":"https://gitlab.com/api/v4/projects/278964/issues/328832/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328832/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328832","relative":"#328832","full":"gitlab-org/gitlab#328832"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7454,"epic":{"id":428836,"iid":7454,"title":"Batched Background Migrations: improve developer experience","url":"/groups/gitlab-org/-/epics/7454","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":85829178,"iid":328825,"project_id":278964,"title":"Write jobs table app spec","description":"We need to write `spec/frontend/jobs/components/table/jobs_table_app_spec.js`\n\nWhere we test that\n\n- GraphQL query is fetched correctly\n- Fetching by status is working correctly\n- Loading state is displayed or table is displayed\n- GraphQL fetch error is shown","state":"closed","created_at":"2021-04-23T14:58:27.075Z","updated_at":"2021-05-03T19:02:12.949Z","closed_at":"2021-05-03T19:02:12.794Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","devops::verify","frontend","group::pipeline execution","section::ops","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328825","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328825","notes":"https://gitlab.com/api/v4/projects/278964/issues/328825/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328825/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328825","relative":"#328825","full":"gitlab-org/gitlab#328825"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5604,"epic":{"id":226144,"iid":5604,"title":"Refactor jobs view to Vue/GraphQL","url":"/groups/gitlab-org/-/epics/5604","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":85829173,"iid":328824,"project_id":278964,"title":"Allow Postman to look for files in additional file paths","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n### Problem\n\nPostman spec supports specifying file paths that can be used during the requests. It has been noticed that when a collection is exported in a JSON file, the file paths are full file paths. Thus, when the collection is consumed by the API Fuzz runner, it will use the full file path. The problem is that in the file system where the runner is executed, the user files might be located in a different absolute path.\n\n### Proposal \n\nIf the file is not available in the given file path, then the following rules can be used to obtain valid file paths to look up for the target file:\n\n1. [x] Given file path\n1. [x] Check for the file in the same location as the Postman Collection\n1. [x] Check for the file in our current working directory\n1. [x] Remove each path segment from left to right as we do this\n1. [x] If we find the file, log a warning indicating what file we found\n1. [x] Add tests combining:\n    1. document path using: relative path, absolute path, url\n    2. base directory: none or full path\n    3. (requested) file using full path\nSo for example, if the file is \"/home/user/stuff/thing.png\":\n\nFor example, the following can be a flow to look for file \"/home/user/stuff/thing.png\"\n\n* if file exists return true\n* if collection_path + \"/home/user/stuff/thing.png\" exists return true\n* if cwd + \"/home/user/stuff/thing.png\" exists return true\n* if collection_path + \"/user/stuff/thing.png\" exists return true\n* if cwd + \"/user/stuff/thing.png\" exists return true\n* if collection_path + \"/stuff/thing.png\" exists return true\n* if cwd + \"/stuff/thing.png\" exists return true\n* if collection_path + \"thing.png\" exists return true\n* if cwd + \"thing.png\" exists return true\n* return false, display error\n\nRemarks:\n- There are two locations in the Postman file that uses file path. Multipart requests and Post requests\n- The file paths provided by Postman are always full paths\n- If the Postman Collection was created in Windows OS, then file path may start with `/c:/home/users/stuff.png` as the first segment of the path where `c:` is the volume.  \n\n### Links\n* https://docs.gitlab.com/ee/ci/variables/predefined_variables.html\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e","state":"closed","created_at":"2021-04-23T14:58:21.688Z","updated_at":"2022-09-12T14:14:11.471Z","closed_at":"2022-09-12T14:14:11.393Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:API Security","GitLab Ultimate","devops::secure","feature::enhancement","group::dynamic analysis","milestone::p2","section::sec","type::feature","workflow::in review"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328824","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328824","notes":"https://gitlab.com/api/v4/projects/278964/issues/328824/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328824/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328824","relative":"#328824","full":"gitlab-org/gitlab#328824"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85826724,"iid":328821,"project_id":278964,"title":"Optimize batch sizes for migrations automatically","description":"This issue is about adjusting the `batch_size` for batched background migrations based on recent history of jobs. The goal is to increase throughput as much as possible without overloading the database.","state":"closed","created_at":"2021-04-23T14:27:36.644Z","updated_at":"2022-05-30T15:31:22.346Z","closed_at":"2021-04-30T09:57:48.965Z","closed_by":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"labels":["Category:Database","Engineering Allocation","devops::data_stores","group::database","section::enablement","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"}],"author":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"type":"ISSUE","assignee":{"id":1562869,"username":"abrandl","name":"Andreas Brandl","state":"active","avatar_url":"https://secure.gravatar.com/avatar/487c4c74f7e1714b5a270e00d4735e84?s=80\u0026d=identicon","web_url":"https://gitlab.com/abrandl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328821","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328821","notes":"https://gitlab.com/api/v4/projects/278964/issues/328821/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328821/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328821","relative":"#328821","full":"gitlab-org/gitlab#328821"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5654,"epic":{"id":231455,"iid":5654,"title":"Improve background migrations for primary key conversions","url":"/groups/gitlab-org/-/epics/5654","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85820336,"iid":328810,"project_id":278964,"title":"Add table empty state","description":"Add empty state when there are no jobs found. We should consider doing this outside of the actual table `app/assets/javascripts/jobs/components/table/jobs_table.vue`. The table is meant to be reusable at some point, and the empty states will most likely be tailored to the table location.\n\nLet's mimic the HAML implementation to keep things smooth. \n\n![Screen_Shot_2021-04-30_at_1.51.26_PM](/uploads/9642e816f5a15a2db48dc65f753c774e/Screen_Shot_2021-04-30_at_1.51.26_PM.png)","state":"closed","created_at":"2021-04-23T12:59:49.291Z","updated_at":"2021-05-05T13:15:43.433Z","closed_at":"2021-05-05T13:15:43.252Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","devops::verify","frontend","group::pipeline execution","section::ops","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328810","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328810","notes":"https://gitlab.com/api/v4/projects/278964/issues/328810/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328810/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328810","relative":"#328810","full":"gitlab-org/gitlab#328810"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5604,"epic":{"id":226144,"iid":5604,"title":"Refactor jobs view to Vue/GraphQL","url":"/groups/gitlab-org/-/epics/5604","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":"on_track"},{"id":85817182,"iid":328805,"project_id":278964,"title":"Extract the code that works for Rails 6.0 out of Rails 6.1 migration MR","description":"Rails 6.1 has been [released](https://guides.rubyonrails.org/6_1_release_notes.html) and introduced some breaking changes.\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59107 the version of the gem has been updated and the tests were fixed. Now our goal is to extract as much code as possible out of the merge request.\n\n- It's an iterative approach that allows us to catch earlier the things that might go wrong\n- A separate merge request would allow a more closer look to some specific changes\n\n## How to contribute\n\nExtract existing commit/commits/file/files with a fix that works both for Rails 6.0 and Rails 6.1  from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59107 into a separate merge request (like https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59861, https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59237, https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59867)\n\n`Due Date` confidence level 90%","state":"closed","created_at":"2021-04-23T12:17:22.130Z","updated_at":"2022-05-31T12:23:26.169Z","closed_at":"2021-05-10T18:08:15.129Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Engineering Productivity","automation:ml","database","devops::data_stores","group::pods","maintenance::dependency","rails6.1","wg_database-scalability"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328805","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328805","notes":"https://gitlab.com/api/v4/projects/278964/issues/328805/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328805/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328805","relative":"#328805","full":"gitlab-org/gitlab#328805"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5837,"epic":{"id":255779,"iid":5837,"title":"Upgrade to Rails 6.1","url":"/groups/gitlab-org/-/epics/5837","group_id":9970,"human_readable_end_date":"Jun 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":85814405,"iid":328802,"project_id":278964,"title":"Create graphQL query that returns a template content","description":"This issue is related to the [pipeline drawer](https://gitlab.com/gitlab-org/gitlab/-/issues/296547) and we want the ability for the frontend to load a template by path/name. There is some exploration to know what kind of data we need to get the template, so some collaboration between ~frontend and ~backend will be required to make sure the query serves our usecase.","state":"closed","created_at":"2021-04-23T11:46:23.750Z","updated_at":"2021-05-18T07:07:28.820Z","closed_at":"2021-05-07T14:17:39.967Z","closed_by":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"labels":["Category:Pipeline Authoring","Deliverable","backend","devops::verify","group::pipeline authoring","section::ops","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":5327378,"username":"f_caplette","name":"Frédéric Caplette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5327378/avatar.png","web_url":"https://gitlab.com/f_caplette"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328802","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328802","notes":"https://gitlab.com/api/v4/projects/278964/issues/328802/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328802/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328802","relative":"#328802","full":"gitlab-org/gitlab#328802"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":85790150,"iid":328783,"project_id":278964,"title":"Scheduled CI pipeline limit should be 50 for project under paid namespace on GitLab.com","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nNamespace on GitLab.com with Premium (formerly Silver) or Ultimate (formerly Gold) should have a Scheduled CI pipeline limit of 50 as mentioned in [GitLab.com Setting documentation](https://docs.gitlab.com/ee/user/gitlab_com/#gitlab-cicd). Currently, the limit is 10 even for paid namespace.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Create a namespace with either Premium (formerly Silver) or Ultimate (formerly Gold)\n1. Create a project within the namespace\n1. Add Scheduled CI pipeline to the project\n1. Observe that no more than 10 scheduled pipeline can be configured\n\n**Note**: this work as intended if the group has Silver or Gold subscription instead of Premium (formerly Silver) or Ultimate (formerly Gold).\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nhttps://gitlab.com/gitlab-silver/rabbit-hole-lvl1/rabbit-hole-lvl2/maintainer-1/-/pipeline_schedules\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nGroups that have Premium (formerly Silver) or Ultimate (formerly Gold) cannot create scheduled pipeline more than 10.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nGroups with paid subscription can create scheduled pipeline up to 50.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n![image](/uploads/6f40414acf3b9c1e8b606824f16d1714/image.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com; GitLab Enterprise Edition 13.12.0-pre f83afba5edc\n\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nThe limit is set correctly to 50 for the root namespace. The problem is related to the lookup method Project#actual_limits which delegates to the namespace rather than the root_namespace. Because the project https://gitlab.com/gitlab-silver/rabbit-hole-lvl1/rabbit-hole-lvl2/maintainer-1 is nested under a subgroup, the actual_limits looks up at the plan associated to rabbit-hole-lvl2 group which doesn't exist and returns the limit for Free plan by default.\n\nChanging that line to\n`delegate :actual_limits, :actual_plan_name, to: :root_namespace, allow_nil: true`\nand memoize root_namespace method should solve the problem.","state":"closed","created_at":"2021-04-23T06:19:16.364Z","updated_at":"2021-07-14T19:07:35.365Z","closed_at":"2021-07-14T19:07:35.343Z","closed_by":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"labels":["Category:Continuous Integration","Deliverable","approaching-SLO","backend","candidate::14.1","customer","devops::verify","group::configure","missed-SLO","priority::2","reproduced on GitLab.com","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"}],"author":{"id":786864,"username":"rotanak","name":"Sokunrotanak Srey (Rotanak)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9e138f6598fa362b95f725febc80087e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rotanak"},"type":"ISSUE","assignee":{"id":4088036,"username":"hfyngvason","name":"Hordur Freyr Yngvason","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4088036/avatar.png","web_url":"https://gitlab.com/hfyngvason"},"user_notes_count":40,"merge_requests_count":0,"upvotes":15,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328783","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328783","notes":"https://gitlab.com/api/v4/projects/278964/issues/328783/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328783/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328783","relative":"#328783","full":"gitlab-org/gitlab#328783"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":85771935,"iid":328761,"project_id":278964,"title":"Edit strikethrough text in the Content Editor","description":"Placeholder issue for editing ~~strikethrough~~ content in the Content Editor fenced by `~~`","state":"closed","created_at":"2021-04-22T20:27:49.057Z","updated_at":"2021-07-18T07:07:29.613Z","closed_at":"2021-06-19T11:03:35.146Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Content Editor","Deliverable","devops::create","frontend","group::editor","section::dev","workflow::in dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328761","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328761","notes":"https://gitlab.com/api/v4/projects/278964/issues/328761/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328761/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328761","relative":"#328761","full":"gitlab-org/gitlab#328761"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5438,"epic":{"id":209984,"iid":5438,"title":"GitLab Flavored Markdown extensions for Content Editor","url":"/groups/gitlab-org/-/epics/5438","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":85771908,"iid":328760,"project_id":278964,"title":"Render strikethrough text in the Content Editor","description":"Placeholder issue for rendering existing strikethrough content in the Content Editor.","state":"closed","created_at":"2021-04-22T20:27:35.168Z","updated_at":"2021-07-18T07:07:29.701Z","closed_at":"2021-06-19T11:03:28.085Z","closed_by":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"labels":["Content Editor","Deliverable","devops::create","frontend","group::editor","section::dev","workflow::in dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/328760","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/328760","notes":"https://gitlab.com/api/v4/projects/278964/issues/328760/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/328760/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#328760","relative":"#328760","full":"gitlab-org/gitlab#328760"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5438,"epic":{"id":209984,"iid":5438,"title":"GitLab Flavored Markdown extensions for Content Editor","url":"/groups/gitlab-org/-/epics/5438","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null}]