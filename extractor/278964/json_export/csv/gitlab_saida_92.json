[{"id":76201556,"iid":294293,"project_id":278964,"title":"Resolve the race-condition between ScanSecurityReportSecretsWorker and Security::StoreScansService","description":"According to this [comment](https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/issues/12181#note_468674798), there is a race-condition among `ScanSecurityReportSecretsWorker` and `Security::StoreScansService`. ScanSecurityReportSecretsWorker was invoked before the actual security report was stored. That is why we are seeing the non-deterministic value of true/false for this line: https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/workers/ee/build_finished_worker.rb#L25","state":"closed","created_at":"2020-12-17T18:12:01.329Z","updated_at":"2021-01-26T16:36:23.828Z","closed_at":"2021-01-06T16:56:12.735Z","closed_by":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"labels":["Category:Secret Detection","backend","devops::secure","group::static analysis","missed:13.7","section::sec","workflow::in review"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"}],"author":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"type":"ISSUE","assignee":{"id":5427309,"username":"ssarka","name":"Saikat Sarkar","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/097feebc1eb82b858a9046fe9b6d9176?s=80\u0026d=identicon","web_url":"https://gitlab.com/ssarka"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294293","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294293","notes":"https://gitlab.com/api/v4/projects/278964/issues/294293/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294293/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294293","relative":"#294293","full":"gitlab-org/gitlab#294293"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4639,"epic":{"id":127746,"iid":4639,"title":"Post-processing of leaked secrets","url":"/groups/gitlab-org/-/epics/4639","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76199105,"iid":294270,"project_id":278964,"title":"Update nodejs-scan analyzer to use v0.1.9 of njsscan","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \nUpdate the njsscan version in the [Dockerfile](https://gitlab.com/gitlab-org/security-products/analyzers/nodejs-scan/-/blob/master/Dockerfile#L16) to include changes from the most recent njsscan [release](https://github.com/ajinabraham/njsscan/releases/tag/0.1.9)\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n\n\n--\u003e","state":"closed","created_at":"2020-12-17T17:04:00.262Z","updated_at":"2020-12-28T15:55:13.763Z","closed_at":"2020-12-28T15:55:13.704Z","closed_by":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"labels":["Category:SAST","SAST: Scanner Update","[deprecated] Accepting merge requests","devops::secure","feature::enhancement","group::static analysis","section::sec","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5211947,"username":"zrice","name":"Zach Rice","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5211947/avatar.png","web_url":"https://gitlab.com/zrice"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294270","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294270","notes":"https://gitlab.com/api/v4/projects/278964/issues/294270/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294270/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294270","relative":"#294270","full":"gitlab-org/gitlab#294270"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76196516,"iid":294259,"project_id":278964,"title":"Remove temporary index from vulnerability_occurrences","description":"The following discussion from !49937 should be addressed:\n\n- [ ] @ahegyi started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49937#note_469311615):  (+1 comment)\n\n    \u003e We need a follow up issue to remove the temp index: `tmp_idx_deduplicate_vulnerability_occurrences`\n\n\n### Implementation plan\n\n1. ~database Create a migration that will remove `tmp_idx_deduplicate_vulnerability_occurrences` index","state":"closed","created_at":"2020-12-17T16:02:43.907Z","updated_at":"2022-03-21T13:41:04.158Z","closed_at":"2022-03-21T00:40:10.803Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","Enterprise Edition","GitLab Ultimate","automation:ml","automation:ml wrong","backend","database","devops::secure","follow-up","group::threat insights","missed:14.8","section::sec","workflow::in dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":487608,"username":"Quintasan","name":"Micha≈Ç ZajƒÖc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":487608,"username":"Quintasan","name":"Micha≈Ç ZajƒÖc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294259","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294259","notes":"https://gitlab.com/api/v4/projects/278964/issues/294259/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294259/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294259","relative":"#294259","full":"gitlab-org/gitlab#294259"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76194472,"iid":294254,"project_id":278964,"title":"Follow-up from \"Add filter to hide dismissed alerts\"","description":"The following discussion from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49975#note_468715622 should be addressed:\n\n- [ ] @ohoral \n\n\u003e `:checked` property on the checkbox does not automatically update whatever you give\n\nI do not find it intuitive as well\n\nit makes me think - what if the request for filters update failed - shall we revert the checkbox to the previous state?","state":"closed","created_at":"2020-12-17T15:27:48.633Z","updated_at":"2021-06-14T19:12:48.856Z","closed_at":"2021-06-14T18:41:52.246Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Network Security","devops::govern","follow-up","frontend","frontend-weight::3","group::security policies","section::sec","workflow::refinement"],"milestone":null,"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294254","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294254","notes":"https://gitlab.com/api/v4/projects/278964/issues/294254/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294254/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294254","relative":"#294254","full":"gitlab-org/gitlab#294254"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76192097,"iid":294249,"project_id":278964,"title":"Plan Free State code changed from null to string causing unwanted UI render","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nReproducible on staging and `.com`, when the feature flags are active for the `Renew` and `Add seats` button, they show even if the plan is a free one.\n\n(Thanks to @aalakkad for the great catch :eagle:)\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n### Steps to reproduce\n\n- create or to to a Group with Free Plan\n- visit the Billing page\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nWhen the respective FF are active, `Add Seats` and `Renew` buttons are showing (with the Free plan)\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\nWhen the respective FF are active, `Add Seats` and `Renew` buttons should not show\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2020-12-17T14:37:26.012Z","updated_at":"2021-01-04T08:46:23.383Z","closed_at":"2021-01-04T08:46:23.341Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:13.7","section::fulfillment","type::bug","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294249","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294249","notes":"https://gitlab.com/api/v4/projects/278964/issues/294249/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294249/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294249","relative":"#294249","full":"gitlab-org/gitlab#294249"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76189254,"iid":294242,"project_id":278964,"title":"Can not delete DAST profiles","description":"Deleting a DAST profile fails with the following error:\n\n```\n\"Variable $input of type DastScannerProfileDeleteInput! was provided invalid value for profileId (Field is not defined on DastScannerProfileDeleteInput), id (Expected value to not be null)\"\n```\n\nThis is most likely due to some changes done in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50086.","state":"closed","created_at":"2020-12-17T13:36:07.380Z","updated_at":"2020-12-21T17:12:41.899Z","closed_at":"2020-12-21T17:12:26.500Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","GraphQL","devops::secure","frontend","group::dynamic analysis","regression","regression:13.7","section::sec","type::bug","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294242","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294242","notes":"https://gitlab.com/api/v4/projects/278964/issues/294242/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294242/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294242","relative":"#294242","full":"gitlab-org/gitlab#294242"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":76183815,"iid":294232,"project_id":278964,"title":"Support `variables` for workflow `rules`","description":"This is a follow-up issue from #209864.\n\nCopied from that issue:\n\n### Release notes\n\nPreviously, the `rules` keyword was limited in scope and only determined if a job should be included or excluded from pipelines. Lately we've added the ability to override variables in a job, In this release, we've extended this ability so you can now decide if certain conditions are met and subsequently override pipeline variables, providing you with more flexibility when configuring your pipelines.\n\n### Problem to solve\n\nRules define when certain jobs can be run, but they could also provide overrides for configuration. This would be a handy way to set up rules for when certain policies or variables should be set. One example use case would be making cache-policy settable by ‚Äúrules‚Äù to say for example that you only want to update the cache pull-push on master and not on branches. Another could be setting `interruptible` using various rules.\n\n### Intended users\n\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n\n### Proposal\n\nIn this issue, we only add `variables` to the workflow `rules`.\n\nAdd `variables` to rules to specify variables. To use the example from the problem to solve section, this would look like:\n\n```yaml\nworkflow:\n  variables:\n    MY_VAR: \"initial value\"\n  rules:\n    - if: $CI_MERGE_REQUEST_TARGET_BRANCH_NAME == \"master\"\n      variables:\n        MY_VAR: \"hello\"\n```\n\n```yaml\njob1:\n  variables:\n    DEPLOY_VARIABLE: \"job1-default-deploy\"\n  rules:\n    - if: $CI_COMMIT_REF_NAME =~ /master/\n      variables:                                   # Override DEPLOY_VARIABLE defined\n        DEPLOY_VARIABLE: \"job1-deploy-production\"  # at the job level.\n    - when: on_success                             # Run the job in other cases\n```","state":"closed","created_at":"2020-12-17T11:54:44.850Z","updated_at":"2021-10-07T12:25:41.224Z","closed_at":"2021-04-22T08:33:41.235Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["CI rules","Category:Pipeline Authoring","Filler","GitLab Core","backend","customer","devops::verify","direction","group::pipeline authoring","internal customer","missed:13.10","missed:13.11","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":23,"merge_requests_count":0,"upvotes":15,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294232","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294232","notes":"https://gitlab.com/api/v4/projects/278964/issues/294232/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294232/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294232","relative":"#294232","full":"gitlab-org/gitlab#294232"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4400,"epic":{"id":112232,"iid":4400,"title":"Allow `rules` to control more kinds of configuration","url":"/groups/gitlab-org/-/epics/4400","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":76182505,"iid":294229,"project_id":278964,"title":"UX Improvements -  DAST Profiles Library","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nThis is to add ~UX improvements to DAST Profiles Library\n\n1. Site profiles table\n2. Scanner profiles table\n\n## Designs\n\nPlease follow the latest designs from the following issues\n\n1. Site Profile - https://gitlab.com/gitlab-org/gitlab/-/issues/293871\n1. Scanner Profile - https://gitlab.com/gitlab-org/gitlab/-/issues/294038\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [X] Documentation: Update relevant screenshots\n- [-] Feature flag:\n- [-] Performance:\n- [-] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n~frontend \n\n### Profile list component\n* [x] Add table headers support in [DastProfilesList](https://gitlab.com/gitlab-org/gitlab/blob/506a85f5ec8f1842aeb67c6b89b41cbaebfb2b33/ee%2Fapp%2Fassets%2Fjavascripts%2Fsecurity_configuration%2Fdast_profiles%2Fcomponents%2Fdast_profiles_list.vue#L114)\n* [x] Move `Edit` and `Delete` buttons to dropdown\n* [x] Update table rows\n  - [x] highlights on hover; \n  - [x] Navigate to `Edit` page upon click\n* [x] Use `GlTruncate` for ellipsing profile names\n\n### Site profile table\n* [x] Add table header labels in [profile settings](https://gitlab.com/gitlab-org/gitlab/blob/d926063f8daad9b096b75525964feae243817406/ee%2Fapp%2Fassets%2Fjavascripts%2Fsecurity_configuration%2Fdast_profiles%2Fsettings%2Fprofiles.js#L25)\n* [x] Add `Validation status` help icon;\n  * [x] link it to site validation [docs](https://docs.gitlab.com/ee/user/application_security/dast)\n* [x] Use tertiary buttons for `Validate` and `Revoke validation`\n* [x] Use GlBadges to denote status\n\n### Scanner profile table\n* [x] Add table header labels in [profile settings](https://gitlab.com/gitlab-org/gitlab/blob/d926063f8daad9b096b75525964feae243817406/ee%2Fapp%2Fassets%2Fjavascripts%2Fsecurity_configuration%2Fdast_profiles%2Fsettings%2Fprofiles.js#L54)\n* [x] Add scan mode column values using GlBadge\n  * [x] `Warning` variant for `active` mode\n  * [x] `Neutral` variant for `passive` mode","state":"closed","created_at":"2020-12-17T11:17:04.791Z","updated_at":"2021-01-22T05:26:50.389Z","closed_at":"2021-01-13T14:07:41.891Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","Stretch","UX","devops::secure","frontend","group::dynamic analysis","section::sec","workflow::production"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294229","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":16,"completed_count":16},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"16 of 16 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294229","notes":"https://gitlab.com/api/v4/projects/278964/issues/294229/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294229/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294229","relative":"#294229","full":"gitlab-org/gitlab#294229"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76181262,"iid":294226,"project_id":278964,"title":"Redmine integration should warn if issues_url is missing :id required parameter","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\nWhen setting up Redmine Integration, 3 fields are required: `Project url`, `Issues url`, `New issue url`.\n\nThe second one expects the `:id` parameter to be present so that `#32` can be transformed to `http://redmine-url/issues/32` for instance. I discovered that by [reading the documentation](https://docs.gitlab.com/ee/user/project/integrations/redmine.html) after my first failed test where I used `http://redmine-url/issues` as URL:\n\n\u003e Note that the issues_url requires :id in the URL. This ID is used by GitLab as a placeholder to replace the issue number. \n\nI think gitlab could raise a validation error (or warning?) when the required parameter is missing, this would avoid such error in the future. \n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n1. Configure Redmine integration on a project (https://gitlab.com/gitlab-org/gitlab/-/services/redmine/edit)\n2. Configure `issues_url` without `:id` parameter and validate.\n\n--\u003e Everything is OK but Gitlab will fail to link `#9494` to Redmine issue URL.\n \n### Example Project\n\nCf https://gitlab.com/bagage/redmine-integration-bug/-/merge_requests/1\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\nIt links to generic issues URL instead of pinpointing the exact reference.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\nIt should warn user that the URL is missing the required `:id` parameter.","state":"closed","created_at":"2020-12-17T10:48:32.792Z","updated_at":"2022-11-22T19:53:05.146Z","closed_at":"2022-10-24T03:03:43.741Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Integrations","Integration::Redmine","[deprecated] Accepting merge requests","auto closed","automation:ml","automation:ml wrong","backend","devops::manage","frontend","group::integrations","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":74682,"username":"bagage","name":"Gautier P","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0b5f319569a9842a2dca44e9be1ecba3?s=80\u0026d=identicon","web_url":"https://gitlab.com/bagage"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294226","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294226","notes":"https://gitlab.com/api/v4/projects/278964/issues/294226/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294226/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294226","relative":"#294226","full":"gitlab-org/gitlab#294226"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76180063,"iid":294222,"project_id":278964,"title":"Add new experiments to the experiments table for inactive experiments","description":"Add experiment id to experiments table before actively running the experiment\n\nThis will enable https://gitlab.com/gitlab-com/www-gitlab-com/-/issues/9621\n\nWe may also add an `author` field to the experimentation.rb, to allow some growth metrics to be calculated.\n\n/cc @pcalder  @gitlab-org/growth/experiment-devs","state":"closed","created_at":"2020-12-17T10:20:51.012Z","updated_at":"2020-12-22T10:19:51.876Z","closed_at":"2020-12-22T10:18:34.749Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","group::acquisition","section::growth"],"milestone":null,"assignees":[],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294222","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294222","notes":"https://gitlab.com/api/v4/projects/278964/issues/294222/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294222/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294222","relative":"#294222","full":"gitlab-org/gitlab#294222"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76171417,"iid":294214,"project_id":278964,"title":"Perceived performance on \"Run pipeline\" MR button is poor","description":"### Summary\n\nWhen a user clicks the `Run Pipeline` button a the Pipelines tab in a merge request, it takes a while before the new pipeline appears on the frontend and the user wonders whether the button has really been clicked or not due to lack of feedback. -- from [Slack conversation](https://gitlab.slack.com/archives/CJHPLRTRD/p1608114790308300)\n\n### Steps to reproduce\n\nClick `Run pipeline` in Pipelines tab in merge request page.\n\n![Screen_Shot_2021-05-06_at_9.48.50_AM](/uploads/83c0ff23f5339e3a4bf5d57a8d7b3099/Screen_Shot_2021-05-06_at_9.48.50_AM.png)\n\n### What is the current *bug* behavior?\n\n- Button does not provide any feedback whether the action has been submitted or not\n- Either the pipeline takes long time to be created or the frontend takes long time to display it.\n\n### What is the expected *correct* behavior?\n\n- User does not have to wait too long to see if they have really clicked the button or not. Feedback on the button should be immediate.\n- Pipeline creation should possibly be faster and new pipeline should appear on the frontend quickly.\n\n### Propsoal\n\nDisplay a toast message after `Run pipeline` has been clicked to let the user know a pipeline is in the process of being created.\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/294214#note_718680286","state":"closed","created_at":"2020-12-17T08:21:44.531Z","updated_at":"2022-01-11T11:27:13.056Z","closed_at":"2021-11-04T12:47:37.815Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","UX","bug::performance","devops::verify","frontend","group::pipeline execution","merge requests","section::ops","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":25,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294214","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294214","notes":"https://gitlab.com/api/v4/projects/278964/issues/294214/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294214/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294214","relative":"#294214","full":"gitlab-org/gitlab#294214"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76169921,"iid":294212,"project_id":278964,"title":"rspec geo minimal jobs are running non-geo tests","description":"Seen in at least a few jobs:\n\n- `rspec-ee unit geo minimal` https://gitlab.com/gitlab-org/gitlab/-/jobs/917091718\n- `rspec-ee system geo minimal` https://gitlab.com/gitlab-org/gitlab/-/jobs/916865368\n\n### Problem\n\nWhen there is no geo tests detected in `detect-tests` job, the rspec command flags `--tag geo` will not result in any tests. In [spec_helper](http://gitlab.com/gitlab-org/gitlab/blob/alberts-run-less-test-before-approval/spec/spec_helper.rb#L80), there is the following configuration:\n\n```rb\nconfig.run_all_when_everything_filtered = true\n```\n\nThese 2 conditions coupled together will result in `rspec` running all tests, as seen in the example below:\n\n```\n$ bundle exec rspec spec/lib/gitlab/ci/pipeline/expression/lexeme/and_spec.rb --tag foo\nRun options: include {:focus=\u003etrue, :foo=\u003etrue}\n\nAll examples were filtered out; ignoring {:focus=\u003etrue, :foo=\u003etrue}\n..........................\n\nFinished in 0.02526 seconds (files took 3.76 seconds to load)\n26 examples, 0 failures\n```\n\nWith the configuration set to false, it does not run any tests when nothing matches the tag:\n\n```\n$ bundle exec rspec spec/lib/gitlab/ci/pipeline/expression/lexeme/and_spec.rb --tag foo\nRun options: include {:focus=\u003etrue, :foo=\u003etrue}\n\nAll examples were filtered out\n\n\nFinished in 0.00024 seconds (files took 3.73 seconds to load)\n0 examples, 0 failures\n```\n\n### Potential fix\n\nDisable `run_all_when_everything_filtered` when running rspec in CI.","state":"closed","created_at":"2020-12-17T07:44:22.962Z","updated_at":"2022-03-16T11:47:03.168Z","closed_at":"2021-06-30T02:13:34.262Z","closed_by":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"labels":["Engineering Productivity","automation:ml","automation:ml wrong","ep::pipeline","group::geo","maintenance::pipelines","priority::3","section::enablement","type::maintenance","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"}],"author":{"id":461042,"username":"caalberts","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/461042/avatar.png","web_url":"https://gitlab.com/caalberts"},"type":"ISSUE","assignee":{"id":6354882,"username":"alberts-gitlab","name":"Albert Salim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6354882/avatar.png","web_url":"https://gitlab.com/alberts-gitlab"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294212","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294212","notes":"https://gitlab.com/api/v4/projects/278964/issues/294212/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294212/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294212","relative":"#294212","full":"gitlab-org/gitlab#294212"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76169645,"iid":294211,"project_id":278964,"title":"IDE incorrectly identifies new files as binary files","description":"## Description\n\nNoticed on `.com`. The Web IDE usually shows a download view when it detects a binary file. Unfortunately it looks like a user can stumble upon this situation when writing a new file, preventing the file from changing the file content.\n\n![20201217_ide_create_binary_file](/uploads/f789f0bd1242483b15c29748fcad3ce2/20201217_ide_create_binary_file.mp4)\n\n## Proposal\n\nMaybe we need to add a `tempFile` check somewhere. Any file that a user has created and entered content for, we probably shouldn't ever change that view... Of course, that'll make the post-commit situation interesting :thinking:\n\nMaybe we can use `Content-Type`?","state":"closed","created_at":"2020-12-17T07:39:41.571Z","updated_at":"2023-01-03T21:07:43.729Z","closed_at":"2023-01-03T17:10:39.264Z","closed_by":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"labels":["[deprecated] Accepting merge requests","auto closed","automation:ml","devops::create","frontend","group::editor","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294211","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294211","notes":"https://gitlab.com/api/v4/projects/278964/issues/294211/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294211/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294211","relative":"#294211","full":"gitlab-org/gitlab#294211"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76162045,"iid":294194,"project_id":278964,"title":"Remove deprecated RunDastScan GraphQL mutation","description":"`runDastScan` was added for the first iteration of dast on-demand scans. it was later superseded by another mutation (`DastOnDemandScanCreate`) when the concepts of `dast_scanner_profile` and `dast_site_profile` were introduced into the domain. as a result, `runDastScan` was deprecated in %13.4 and may be removed in %\"14.0\".\n\n## implementation plan\n\n- [x] remove mutation\n- [x] clean up tests\n- [x] regenerate ~GraphQL docs and schema","state":"closed","created_at":"2020-12-17T01:29:56.131Z","updated_at":"2021-04-30T02:32:25.353Z","closed_at":"2021-04-30T02:31:58.045Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","backend","deprecation","devops::secure","group::dynamic analysis","section::sec","workflow::in dev"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294194","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294194","notes":"https://gitlab.com/api/v4/projects/278964/issues/294194/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294194/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294194","relative":"#294194","full":"gitlab-org/gitlab#294194"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76160227,"iid":294187,"project_id":278964,"title":"TTL Policy for the Dependency Proxy","description":"### Problem to solve\nYou can use the GitLab Dependency Proxy to proxy and cache container images from Docker Hub. This can help you by decreasing your reliance on external dependencies and decrease your average build times. \n\nThe problem is that if you continue to use the feature the cache will begin to fill up with a lot of stale data. You can always clear the cache using the [API](https://docs.gitlab.com/ee/api/dependency_proxy.html). But GitLab should have a standard TTL and eviction policy for clearing the cache so that we don't waste money on storage. \n\n\n\n### Proposal\n\nAdd a daily job that will remove all artifacts from the Dependency Proxy that are more than 90 days old. \n\n#### Why this is important\n\nWe are actively discussing how to grow adoption of this feature, including expanding the scope to allow for pulling container images from Amazon (ECR) and Google's (GCR) container registries. This could result in many more images being added to the cache and object storage. \n\nWhen a new/unknown artifact is cached at time `T`, set its TTL to `T+90`. The artifact should be removed from the cache after 90 days. \n\n#### Why 90 days\n\nI chose 90 days because that is the most common setting for the Container Registry cleanup policy, as seen in the pie chart below. Also, the majority of policies are set up to run daily. \n\n![CleanuppoliciesCadenceusageping](/uploads/4e1835f70f83d7d91699bf3eebf240eb/CleanuppoliciesCadenceusageping.png)\n![Cleanuppoliciessettingsofdaystoremoveimagesusageping__2_](/uploads/0dda240bfc404fbd2273d92bde2b8ce6/Cleanuppoliciessettingsofdaystoremoveimagesusageping__2_.png)","state":"closed","created_at":"2020-12-16T23:35:27.069Z","updated_at":"2021-11-04T23:00:26.097Z","closed_at":"2021-10-01T19:43:53.190Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Dependency Proxy","Deliverable","Package:P1","backend","devops::package","frontend","group::package registry","reliability","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":37,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294187","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294187","notes":"https://gitlab.com/api/v4/projects/278964/issues/294187/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294187/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294187","relative":"#294187","full":"gitlab-org/gitlab#294187"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76159983,"iid":294185,"project_id":278964,"title":"Follow-up from \"Add filter to hide dismissed alerts\"","description":"The following discussion from !49975 should be addressed:\n\n- [ ] @ohoral started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49975#note_468500175): \n\n    \u003e it is advised against testing vm properties. Let's check the usage of it\n  - the usage of this is in the graphql query, which is not being properly tested\n  - migrate `ee/spec/frontend/threat_monitoring/components/alerts/alerts_list_spec.js` to [mock the apollo client](https://docs.gitlab.com/ee/development/fe_guide/graphql.html#testing-with-mocked-apollo-client) and test that the graphql query gets called with the proper variables\n  - similar to [this file](https://gitlab.com/gitlab-org/gitlab/blob/master/ee%2Fspec%2Ffrontend%2Fon_demand_scans%2Fcomponents%2Fon_demand_scans_form_spec.js)","state":"closed","created_at":"2020-12-16T23:22:00.822Z","updated_at":"2021-03-26T21:56:51.319Z","closed_at":"2021-03-26T21:56:50.934Z","closed_by":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"labels":["Category:Container Network Security","devops::govern","frontend","frontend-weight::3","group::security policies","missed:13.10","missed:13.9","section::sec"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"}],"author":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"type":"ISSUE","assignee":{"id":5537154,"username":"aturinske","name":"Alexander Turinske","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5537154/avatar.png","web_url":"https://gitlab.com/aturinske"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294185","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294185","notes":"https://gitlab.com/api/v4/projects/278964/issues/294185/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294185/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294185","relative":"#294185","full":"gitlab-org/gitlab#294185"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76159489,"iid":294180,"project_id":278964,"title":"Upgrade Docker image of License Compliance to Node.js 14 LTS","description":"Do the following docker images need node.js updates?\n\n- registry.gitlab.com/gitlab-org/security-products/analyzers/license-finder:latest\n\nunclear in - https://gitlab.com/gitlab-org/gitlab/-/issues/294180 if they were excluded because not needed\n\nThis is ~blocked by https://gitlab.com/gitlab-org/gitlab/-/issues/298720 (broken master).\n\n## Proposal\n\nUpdate `asdf` configuration of [license-finder](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder) to enable Node.js 14, and make it the default version.\n\n## Implementation plan\n\n- [x] open a MR that updates [license-finder](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder) to Node 14\n  - add Node 14.x to [config/software/asdf_nodejs.rb](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/blob/8b356e2feebb430a48b88f882f8bd9d352b32549/config/software/asdf_nodejs.rb)\n  - make that the default version of Node in [config/files/.tool-versions](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/blob/8b356e2feebb430a48b88f882f8bd9d352b32549/config/files/.tool-versions)\n\nOlder versions of Node.js are NOT removed from asdf configuration, to ensure backward compatibility.\n\nSee [comment](#note_469701994)\n\nSee https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/merge_requests/18 for a similar change to support a new version of Go.\n\n## Testing\n\nCurrently the `test` stage of license-finder doesn't check for compatibility with various versions of Node, Go, Java, etc. See [CI config](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/blob/main/.gitlab/test.yml).\n\n## Documentation\n\nThe [documentation](https://docs.gitlab.com/ee/user/compliance/license_compliance/) doesn't say what the default version of Node is, so it doesn't need to be updated. That said, it uses node 12.6.3 as an example, and we might want to change that to node 14.x.\n\nNode is not mentioned in the [supported languages and package managers](https://docs.gitlab.com/ee/user/compliance/license_compliance/#supported-languages-and-package-managers). TODO: create an issue about updating that list.","state":"closed","created_at":"2020-12-16T22:58:08.438Z","updated_at":"2021-10-28T14:02:13.108Z","closed_at":"2021-06-18T21:05:03.544Z","closed_by":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","documentation","group::composition analysis","missed-deliverable","missed:13.8","missed:13.9","quad-planning::complete-no-action","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294180","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294180","notes":"https://gitlab.com/api/v4/projects/278964/issues/294180/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294180/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294180","relative":"#294180","full":"gitlab-org/gitlab#294180"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1662,"epic":{"id":10152,"iid":1662,"title":"License Compliance (License Scanning) - Minimal to Viable (again)","url":"/groups/gitlab-org/-/epics/1662","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":"on_track"},{"id":76159024,"iid":294178,"project_id":278964,"title":"Unauthenticated CI lint API may lead to information disclosure and SSRF","description":"**[HackerOne report #1059596](https://hackerone.com/reports/1059596)** by `myster` on 2020-12-15:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\nHI!\n\nCI Lint API (https://docs.gitlab.com/ee/api/lint.html) allows anonymous access for anyone to validate yaml syntax which in itself is not really an issue however use of `remote` includes may result in an abuse of this unauthenticated API endpoint.\n\n**Scenario 1:**\n\n An administrator enables internal requests to use Webhooks with internal services assuming its safe to do because all users are part of the organization and can be trusted. \n\nThis would also allow an attacker to abuse the CI Lint Api with remote includes to perform internal network requests.\n\nPoC `.gitlab-ci.yml`:\n\n```  \ninclude:  \n  remote: \u0026#39;http://127.0.0.1:9100/b.yml\u0026#39;  \n```\n\ncurl request:\n\n```  \ncurl -s -H \u0026#39;Content-Type: application/json\u0026#39; https://redacted/api/v4/ci/lint --data \u0026#39;{ \u0026#34;include_merged_yaml\u0026#34;: true, \u0026#34;content\u0026#34;: \u0026#34;include:\\n  remote: \u0026#39;http://127.0.0.1:9100/b.yml\u0026#39;\u0026#34; }\u0026#39;  \n```\n\nresponse (if port is open):\n\n```  \n    \u0026#34;Included file `http://127.0.0.1:9100/b.yml` does not have valid YAML syntax!\u0026#34;  \n```\n\n**Scenario 2:**\n\nLet\u0026#39;s assume that internal requests are blocked. Even in such a scenario, following risks are present:\n\n1. Abuse of the Gitlab instance as a proxy to port scan remote targets (I know there are a lot of such proxies out there, but still there should at least be an option to disallow this)\n\n2. Disclosure of origin IP address + User agent of Gitlab instance when its running behind a load  balancer or services like Cloudflare for DDoS protection.\n\nTherefore, I think this endpoint should not be public by default and enforcing authentication might be a good idea allowing a toggle to disable it if one is aware of potential risks here.\n\nThanks!\n\n####  Impact\n\n- Origin IP address disclosure  \n- Unauthenticated SSRF when an admin whitelists internal endpoints for Authenticated users\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues\n\n## Proposal\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/294178#note_484606184","state":"closed","created_at":"2020-12-16T22:34:07.605Z","updated_at":"2022-02-21T01:17:45.358Z","closed_at":"2021-02-12T10:26:22.337Z","closed_by":{"id":4086191,"username":"cmaxim","name":"Costel Maxim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4086191/avatar.png","web_url":"https://gitlab.com/cmaxim"},"labels":["Category:Pipeline Authoring","Deliverable","HackerOne","Weakness::CWE-918","candidate::13.9","devops::verify","group::pipeline authoring","priority::2","section::dev","security","severity::2","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":40,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-01-28","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294178","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294178","notes":"https://gitlab.com/api/v4/projects/278964/issues/294178/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294178/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294178","relative":"#294178","full":"gitlab-org/gitlab#294178"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":76157564,"iid":294172,"project_id":278964,"title":"UX Feature Request: Ability to collapse list of environments a MR has deployed to in the pipeline","description":"**Feature request**: Ability to collapse the list of environments a merge request has deployed to in the pipeline.\n\nSee [example of very long list of environments](/uploads/56106b691f2a9a86ab9ef2fa34e024e6/image.png)\n\nLinks:\nhttps://gitlab.my.salesforce.com/0016100001VE9PH\n\n### Proposal \n\nCreate a collapsable interaction on the MR Widget to condense the list of deployments. \n\n| Collapsed View | Expanded View |\n|---|---|\n|![Deployment_Widget_Collapsed](/uploads/73be9f57c28c5cdd697051be725e0bff/Deployment_Widget_Collapsed.jpg)|![Deployment_Widget_Expanded](/uploads/ca3342284fc5ea3f3ed8f4011081293b/Deployment_Widget_Expanded.jpg)|\n\nAdditional Notes: \n\n- Final copy is: `## environments impacted` to account for deployments to environments having multiple states. \n- If there are 3 or less, the list should be expanded to show all the deployments (remove collapsable functionality). \n- If there are 4 or more, the list should be collapsed by default.","state":"closed","created_at":"2020-12-16T21:37:23.204Z","updated_at":"2021-09-30T10:38:49.958Z","closed_at":"2021-03-11T20:02:35.744Z","closed_by":{"id":5622641,"username":"nicolewilliams","name":"Nicole Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5622641/avatar.png","web_url":"https://gitlab.com/nicolewilliams"},"labels":["Category:Continuous Delivery","Deliverable","GitLab Core","Release::P3","UI polish","UX","cicd::active","customer","devops::release","direction","frontend-weight::1","group::release","release post item::in review","section::ops","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":4587928,"username":"cbazan1","name":"Carlos Bazan","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2911440d5bc1e7a7e64503059d04f518?s=80\u0026d=identicon","web_url":"https://gitlab.com/cbazan1"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":34,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294172","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294172","notes":"https://gitlab.com/api/v4/projects/278964/issues/294172/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294172/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294172","relative":"#294172","full":"gitlab-org/gitlab#294172"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76156603,"iid":294164,"project_id":278964,"title":"Refactor folder structure for GraphQL files in the security dashboards","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nGraphQL files located under `ee/app/assets/javascripts/security_dashboard/graphql` have grown a lot and it renders difficult to understand the file structure. We have a [similar issue](https://gitlab.com/gitlab-org/gitlab/-/issues/284894) for the `vue` files for the security dashboards and vulnerability reports.\n\n## Relevant links\n\n- [Similar Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/284894)\n\n## Implementation plan\n\nThis is the newly proposed folder structure:\n\n```\n// proposed structure:\n\n+ graphql\n  + mutations\n  + queries\n  + fragments\n```\n\nAs for the filenames, @aturinske made a good point in terms of consistency and discoverability. He suggested to keep using the `${name}.${type}.graphql` naming convention where `${type}` can be one of the followings: `query` | `mutation` | `fragment`.","state":"closed","created_at":"2020-12-16T20:52:29.396Z","updated_at":"2021-10-28T14:02:13.920Z","closed_at":"2021-02-19T08:39:10.306Z","closed_by":{"id":2190515,"username":"KevSlashNull","name":"Kev","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f3861b3746ee5f779cbdcf1efa4a2a1e?s=80\u0026d=identicon","web_url":"https://gitlab.com/KevSlashNull"},"labels":["Category:Vulnerability Management","devops::secure","frontend","group::threat insights","missed:13.9","section::sec","security dashboard","type::maintenance","workflow::in review"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":2190515,"username":"KevSlashNull","name":"Kev","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f3861b3746ee5f779cbdcf1efa4a2a1e?s=80\u0026d=identicon","web_url":"https://gitlab.com/KevSlashNull"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":2190515,"username":"KevSlashNull","name":"Kev","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f3861b3746ee5f779cbdcf1efa4a2a1e?s=80\u0026d=identicon","web_url":"https://gitlab.com/KevSlashNull"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294164","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294164","notes":"https://gitlab.com/api/v4/projects/278964/issues/294164/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294164/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294164","relative":"#294164","full":"gitlab-org/gitlab#294164"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76155477,"iid":294158,"project_id":278964,"title":"Follow-up from \"Improve response from Jira issue creation from vulnerability\"","description":"The following discussion from !50150 should be addressed:\n\n- [ ] @mparuszewski started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50150#note_467980965):  (+6 comments)\n\nWe seem to have missed a changelog entry for the initial feature. If so, please add one. Otherwise, close this with no action.","state":"closed","created_at":"2020-12-16T20:12:43.863Z","updated_at":"2021-01-20T06:07:47.279Z","closed_at":"2021-01-20T06:07:47.214Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","backend","devops::secure","follow-up","group::threat insights","section::sec","workflow::ready for development"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":5535431,"username":"mparuszewski","name":"Alan (Maciej) Paruszewski","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535431/avatar.png","web_url":"https://gitlab.com/mparuszewski"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294158","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294158","notes":"https://gitlab.com/api/v4/projects/278964/issues/294158/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294158/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294158","relative":"#294158","full":"gitlab-org/gitlab#294158"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76155073,"iid":294156,"project_id":278964,"title":"\"Go full screen\" comment button does not work in MR diffs","description":"## Description\n\nNoticed on `master`. When clicking the \"Go full screen\" button on a comment in MR diff, the result breaks the UI significantly.\n\n| Before press | After press |\n|--------------|-------------|\n| ![Screen_Shot_2020-12-16_at_1.59.14_PM](/uploads/82618d4cc233bea527cea94792017b4b/Screen_Shot_2020-12-16_at_1.59.14_PM.png) | ![Screen_Shot_2020-12-16_at_1.58.55_PM](/uploads/584809fcb305a2cb7a1b7552bb3a2bf7/Screen_Shot_2020-12-16_at_1.58.55_PM.png) |","state":"closed","created_at":"2020-12-16T20:01:59.453Z","updated_at":"2021-02-13T15:05:54.187Z","closed_at":"2021-02-13T15:05:54.127Z","closed_by":{"id":7814354,"username":"sim0","name":"Simon Stieger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7814354/avatar.png","web_url":"https://gitlab.com/sim0"},"labels":["Category:Code Review Workflow","Community contribution","devops::create","frontend","group::code review","priority::3","section::dev","severity::3","type::bug"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":7814354,"username":"sim0","name":"Simon Stieger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7814354/avatar.png","web_url":"https://gitlab.com/sim0"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":7814354,"username":"sim0","name":"Simon Stieger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7814354/avatar.png","web_url":"https://gitlab.com/sim0"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294156","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294156","notes":"https://gitlab.com/api/v4/projects/278964/issues/294156/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294156/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294156","relative":"#294156","full":"gitlab-org/gitlab#294156"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76155065,"iid":294155,"project_id":278964,"title":"BE: Retrieve details for individual Jira issues","description":"As a developer using the Jira issue list in GitLab, I want to be able to view the details of a specific issue in the list, so that I can get the full context of the work I'm doing.\n\nThis should be implemented using an individual's user credentials for Jira.\n\nThis MVP iteration is just adding the ability to fetch data from Jira for a single issue and translate the result into a format that can be used by the frontend to display the issue.","state":"closed","created_at":"2020-12-16T20:01:43.205Z","updated_at":"2022-11-22T19:53:06.409Z","closed_at":"2021-02-16T16:35:30.437Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Category:Integrations","Deliverable","Integration::Jira","atlassian","backend","customer","devops::manage","group::ecosystem [DEPRECATED]","section::dev","type::feature","workflow::in review"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294155","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294155","notes":"https://gitlab.com/api/v4/projects/278964/issues/294155/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294155/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294155","relative":"#294155","full":"gitlab-org/gitlab#294155"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5058,"epic":{"id":161857,"iid":5058,"title":"Add Issue Detail view from Jira Issue List","url":"/groups/gitlab-org/-/epics/5058","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76153887,"iid":294128,"project_id":278964,"title":"XSS on the blob viewer of notebooks","description":"**[HackerOne report #1060114](https://hackerone.com/reports/1060114)** by `yvvdwf` on 2020-12-16, assigned to @ankelly:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\nHello,\n\nGitlab recently [uses](https://gitlab.com/gitlab-org/gitlab/-/blob/899cc9b0a475fd247b3d9003f855df3876e853f1/app/assets/javascripts/notebook/cells/output/html.vue#L29) `Dompurify` to sanitize data. Dompurify allows `data-*` attributes by default. When using `data-*` attributes with the presence of  `rails-ujs`,   attackers might trick victims to execute any javascript.\n\nThe following attack scenario triggers an alert when you click anywhere on the blob viewer screen of notebooks. Since gitlab allows sending API requests via Javascript in Web browsers, attackers may perform arbitrary actions on behalf of victims, such as, escalate permissions, access to private objects, etc.\n\n#####  Steps to reproduce\n\n1. In a project, create a file `xss.ipynb` with the following content (**note** edited with a known safe payload):\n\n```JSON  \n{\n \u0026#34;cells\u0026#34;: [  \n  {  \n   \u0026#34;cell_type\u0026#34;: \u0026#34;markdown\u0026#34;,  \n   \u0026#34;source\u0026#34;: [  \n        \u0026#34;\u0026lt;a data-type=script data-remote=true href=\u0026#39;https://gitlab.com/ankelly/pipeline_payload/-/jobs/[REDACTED]/artifacts/raw/data/alert.js\u0026#39; style=\u0026#39;position:fixed;z-index:9999;top:0;left:0;right:0;bottom:0\u0026#39;\u0026gt;\u0026lt;/a\u0026gt;CLICK ANYWHERE TO SHOW POPUP\u0026#34;  \n   ]  \n  }]  \n}\n```\n\n2. When viewing this file, you might notice that there exists a transparent layer that is on the topmost. This layer intercepts any event clicks. Once you click *anywhere* you should see a popup.\n\n#####  Impact\n\nOnce victims click anywhere on the screen of notebook viewer, attackers might execute their javascript. Since gitlab allows sending API requests via Javascript in Web browsers, attackers may perform arbitrary actions on behalf of victims, such as, escalate permissions, access to private objects, etc.\n\n#####  Examples\n\nhttps://gitlab.com/yvvdwf/notebook/-/blob/master/xss.ipynb\n\n#####  What is the current *bug* behavior?\n\n`data-*` attributes  are not removed when sanitizing.\n\n#####  What is the expected *correct* behavior?\n\n`data-*` attributes  should be removed when sanitizing.\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n####  Impact\n\nOnce victims click anywhere on the screen of notebook viewer, attackers might execute their javascript. Since gitlab allows sending API requests via Javascript in Web browsers, attackers may perform arbitrary actions on behalf of victims, such as, escalate permissions, access to private objects, etc.\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2020-12-16T19:29:11.917Z","updated_at":"2022-07-07T12:38:30.160Z","closed_at":"2021-06-02T06:34:49.564Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","HackerOne","Weakness::CWE-79","devops::create","frontend","group::source code","priority::3","section::dev","security","severity::3"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-03-16","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294128","notes":"https://gitlab.com/api/v4/projects/278964/issues/294128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294128","relative":"#294128","full":"gitlab-org/gitlab#294128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76153786,"iid":294126,"project_id":278964,"title":"Encountering `Projects::UpdateRepositoryStorageService::SameFilesystemError` when excluding `destination_storage_name` parameter","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nNels update 2020-12-16:\n\nSearched for: https://gitlab.com/gitlab-org/gitlab/-/issues?scope=all\u0026utf8=%E2%9C%93\u0026state=all\u0026label_name[]=bug\u0026search=SameFilesystemError\n\nResults: 0\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nEncountering `Projects::UpdateRepositoryStorageService::SameFilesystemError` when excluding `destination_storage_name` parameter when invoking a `POST` request to the `projects/\u003cproject_id\u003e/repository_storage_moves` API.\n\nSource: [Sentry.gitlab.net](https://sentry.gitlab.net/gitlab/staginggitlabcom/issues/2407090/?query=is%3Aunresolved)\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\nIn the `staging.gitlab.com` environment, simply invoke a `POST` request to the `projects/\u003cproject_id\u003e/repository_storage_moves` API to move a repository without specifying the `destination_storage_name` parameter.  A new error will regularly show up in https://sentry.gitlab.net/gitlab/staginggitlabcom/issues.  It may take two or three attempts, due to the random nature of the selection routine.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nAny project will suffice.\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nWhen invoking the API to move a repository to another shard, if a destination is not specified, the `UpdateRepositoryStorageService` or `ProjectUpdateRepositoryStorageWorker` will select a destination shard automatically (based on assigned weights).\n\nThe algorithm which makes this selection has repeatedly demonstrated in the staging environment that it will randomly-ish select the origin or source shard if a repository is being moved from a shard which has sufficient weighting (`\u003e0`) to be considered as a destination.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nThe destination selection algorithm should simply exclude the pre-migration `project.repository_storage` from the shard pool from which a destination selection is made.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\nhttps://sentry.gitlab.net/gitlab/staginggitlabcom/issues/2407090/?query=is%3Aunresolved\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\nThis bug happens on GitLab.com.\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nThere might be a gotcha here, since `UpdateRepositoryStorageService#same_filesystem?` compares the `Gitlab::GitalyClient.filesystem_id` of the given storage shard parameters.  Care should be taken to ensure that the selection algorithm also use the `filesystem_id` for destination candidates when comparing them against the source shard.\n\nA simple filter ought to be sufficient.  Something like the following: `candidates_sans_source = candidate_destination_shards.reject_if { |destination_candidate_shard| Gitlab::GitalyClient.filesystem_id(destination_candidate_shard) == Gitlab::GitalyClient.filesystem_id(repository_storage_move.project.respository_storage) }`\n\n- https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/projects/update_repository_storage_service.rb#L22\n- https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/models/application_setting_implementation.rb#L329\n\nThe implementation found in the latter: `normalized_repository_storage_weights.max_by { |_, weight| rand**(1.0 / weight) }.first` appears to present a challenge to the approach of filtering by a normalization on `filesystem_id`, since the `pick_repository_storage` routine is ignoring the application setting key.  The filter operation may have to target the values for the `normalized_repository_storage_weights` mapping, but that could be complicated since the filtering apparatus described in the proposed above relies on methods (like `Gitlab::GitalyClient#filesystem_id`) and a `repository_storage_move.project.respository_storage` parameter which are not available to `ApplicationSettingImplementation#pick_repository_storage`.","state":"closed","created_at":"2020-12-16T19:23:48.877Z","updated_at":"2021-10-27T10:39:56.190Z","closed_at":"2021-02-04T21:25:18.761Z","closed_by":{"id":228150,"username":"proglottis","name":"James Fargher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/228150/avatar.png","web_url":"https://gitlab.com/proglottis"},"labels":["Category:API","Category:Gitaly","Category:Source Code Management","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","Sharding Working Group","automation:ml","blocker","devops::create","gitlab.com","group::source code","infradev","infrastructure","priority::3","section::dev","severity::4","type::bug"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":228150,"username":"proglottis","name":"James Fargher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/228150/avatar.png","web_url":"https://gitlab.com/proglottis"},{"id":4006601,"username":"nnelson","name":"Nels Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4006601/avatar.png","web_url":"https://gitlab.com/nnelson"}],"author":{"id":4006601,"username":"nnelson","name":"Nels Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4006601/avatar.png","web_url":"https://gitlab.com/nnelson"},"type":"ISSUE","assignee":{"id":228150,"username":"proglottis","name":"James Fargher","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/228150/avatar.png","web_url":"https://gitlab.com/proglottis"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294126","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294126","notes":"https://gitlab.com/api/v4/projects/278964/issues/294126/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294126/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294126","relative":"#294126","full":"gitlab-org/gitlab#294126"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76153089,"iid":294120,"project_id":278964,"title":"Migrate remaining occurrences of GlDeprecatedButton to GlButton","description":"We have a few remaining occurrences of `GlDeprecatedButton` in the codebase, let's migrate them to `GlButton` to complete the migration effort!\n\n- [x] `app/assets/javascripts/feature_flags/components/environments_dropdown.vue`\n- [x] `app/assets/javascripts/monitoring/components/dashboard_actions_menu.vue`\n- [x] `ee/app/assets/javascripts/dependencies/components/app.vue`\n- [x] `ee/app/assets/javascripts/vue_merge_request_widget/components/approvals/approvals_footer.vue`\n- [x] `ee/app/assets/javascripts/sidebar/components/status/status.vue`","state":"closed","created_at":"2020-12-16T18:57:03.229Z","updated_at":"2020-12-21T17:14:55.380Z","closed_at":"2020-12-21T17:14:52.150Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["component:button","devops::secure","frontend","group::release","pajamas::integrate","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294120","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294120","notes":"https://gitlab.com/api/v4/projects/278964/issues/294120/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294120/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294120","relative":"#294120","full":"gitlab-org/gitlab#294120"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3459,"epic":{"id":61417,"iid":3459,"title":"Buttons \u003e Vue \u003e Migrate GlDeprecatedButton instances to GlButton in GitLab","url":"/groups/gitlab-org/-/epics/3459","group_id":9970,"human_readable_end_date":"Aug 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":76149264,"iid":294084,"project_id":278964,"title":"[Feature flag] Remove secure_security_and_compliance_configuration_page_on_ce flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:secure_security_and_compliance_configuration_page_on_ce` feature flag, enabled by default by https://gitlab.com/gitlab-org/gitlab/-/issues/294076.\n\n## Owners\n\n* Team: ~\"group::static analysis\"\n* Most appropriate slack channel to reach out to: `#s_secure-frontend`\n* Best individual to reach out to: @markrian or @jannik_lehmann\n\n## Roll Out Steps\n\n- [ ] Remove feature flag and add changelog entry\n- [ ] Remove relevant code branches/tests\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel","state":"closed","created_at":"2020-12-16T16:56:30.768Z","updated_at":"2021-03-22T19:03:37.098Z","closed_at":"2021-03-22T19:03:37.054Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:SAST","backend","blocked","devops::secure","feature flag","frontend","group::static analysis","missed:13.10","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294084","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294084","notes":"https://gitlab.com/api/v4/projects/278964/issues/294084/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294084/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294084","relative":"#294084","full":"gitlab-org/gitlab#294084"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5087,"epic":{"id":164597,"iid":5087,"title":"Static Security \u0026 Compliance page for core users","url":"/groups/gitlab-org/-/epics/5087","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":76148945,"iid":294076,"project_id":278964,"title":"[Feature flag] Enable secure_security_and_compliance_configuration_page_on_ce in production","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nEnable the `:secure_security_and_compliance_configuration_page_on_ce` feature flag in production and add/update documentation.\n\n## Why not enable by default?\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/294076#note_525046038.\n\n## Owners\n\n- Team: ~\"group::static analysis\" \n- Most appropriate slack channel to reach out to: `#s_secure-frontend`\n- Best individual to reach out to: @markrian or @jannik_lehmann \n\n## Expectations\n\n### What are we expecting to happen?\n\nThe Security Configuration navbar entry and page would become available to non-Ultimate users.\n\n### What might happen if this goes wrong?\n\n- The existing Ultimate version of the page _might_ break;\n- The non-Ultimate version _might_ be displayed under the wrong circumstances.\n\n### What can we monitor to detect problems with this?\n\nEasy to verify manually; i.e., it's very low risk.\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- Any non-public project will do, so as it doesn't get Ultimate features (no point linking to one, since by definition you won't be able to access it unless explicitly given permission).\n\n## Roll Out Steps\n\n- [x] Confirm that QA tests pass with the feature flag enabled (if you're unsure how, contact the relevant [stable counterpart in the Quality department](https://about.gitlab.com/handbook/engineering/quality/#individual-contributors))\n- [x] Enable on staging (`/chatops run feature set secure_security_and_compliance_configuration_page_on_ce true --staging`) https://gitlab.slack.com/archives/C101F3796/p1613131618327600\n- [x] Test on staging (test once https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53919 has reached staging)\n- [x] Ensure that documentation has been updated: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54683\n- [ ] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab secure_security_and_compliance_configuration_page_on_ce true`)\n- [x] Wait for https://gitlab.com/gitlab-org/gitlab/-/merge_requests/53919 to reach GitLab.com\n- [x] Wait for https://gitlab.com/gitlab-org/gitlab/-/merge_requests/54250 to reach GitLab.com\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set secure_security_and_compliance_configuration_page_on_ce true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=FIXME secure_security_and_compliance_configuration_page_on_ce false\n```","state":"closed","created_at":"2020-12-16T16:46:44.475Z","updated_at":"2021-05-05T10:11:40.497Z","closed_at":"2021-03-09T11:01:54.440Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:SAST","Deliverable","backend","blocked","devops::secure","feature flag","frontend","group::static analysis","section::sec","type::feature","workflow::in review"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":24,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294076","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":10},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"10 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294076","notes":"https://gitlab.com/api/v4/projects/278964/issues/294076/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294076/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294076","relative":"#294076","full":"gitlab-org/gitlab#294076"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5087,"epic":{"id":164597,"iid":5087,"title":"Static Security \u0026 Compliance page for core users","url":"/groups/gitlab-org/-/epics/5087","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":76147918,"iid":294061,"project_id":278964,"title":"DAST Site profile - Add support for APIs - Documentation","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\nUpdate documentation for adding API support in DAST Site Profiles - https://gitlab.com/groups/gitlab-org/-/epics/5088 \n\n### Further details\n\n\u003c!--\n* Any concepts, procedures, reference info we could add to make it easier to successfully use GitLab?\n* Include use cases, benefits, and/or goals for this work.\n* If adding content: What audience is it intended for? (What roles and scenarios?)\n  For ideas, see personas at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/ or the persona labels at\n  https://gitlab.com/groups/gitlab-org/-/labels?utf8=%E2%9C%93\u0026subscribed=\u0026search=persona%3A\n--\u003e\n\n### Proposal\n\n\u003c!-- Further specifics for how can we solve the problem. --\u003e\n\n### Who can address the issue\n\n\u003c!-- What if any special expertise is required to resolve this issue? --\u003e\n\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e","state":"closed","created_at":"2020-12-16T16:20:41.682Z","updated_at":"2021-05-10T04:18:03.563Z","closed_at":"2021-05-10T00:40:34.330Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","Technical Writing","devops::secure","docs::feature","documentation","group::dynamic analysis","section::sec","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"},{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":3658061,"username":"rdickenson","name":"Russell Dickenson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3658061/avatar.png","web_url":"https://gitlab.com/rdickenson"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294061","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294061","notes":"https://gitlab.com/api/v4/projects/278964/issues/294061/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294061/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294061","relative":"#294061","full":"gitlab-org/gitlab#294061"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5088,"epic":{"id":164670,"iid":5088,"title":"DAST Site profile - Add support for APIs","url":"/groups/gitlab-org/-/epics/5088","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76147902,"iid":294060,"project_id":278964,"title":"DAST Site profile - Add support for APIs - Backend","description":"~frontend counterpart - https://gitlab.com/gitlab-org/gitlab/-/issues/294059\n\nEpic - https://gitlab.com/groups/gitlab-org/-/epics/5088\n\n## Why are we doing this work\nTo enable users to easily run API scans from web-based interfaces. \n\n## What\nThis issue is to add `API` support in On-demand Scans DAST site profile. Using this feature, users can run scans against their APIs.\n\n## Designs\n\n## Implementation plan\n  - [x] Understand how we should validate API specs with multiple hosts\n  - [x] Validate API specification using the existing method and use the same host as the target url using [host override](https://docs.gitlab.com/ee/user/application_security/dast/#host-override)\n  - [x] Update gitlab~4133451 queries / mutations as per https://gitlab.com/groups/gitlab-org/-/epics/5088#decisions\n  - [x] Add support for setting `DAST_API_SPECIFICATION` environment variable","state":"closed","created_at":"2020-12-16T16:20:10.697Z","updated_at":"2021-05-24T00:17:06.791Z","closed_at":"2021-04-26T07:24:51.779Z","closed_by":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"labels":["Category:DAST","backend","devops::secure","group::dynamic analysis","section::sec","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294060","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294060","notes":"https://gitlab.com/api/v4/projects/278964/issues/294060/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294060/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294060","relative":"#294060","full":"gitlab-org/gitlab#294060"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5088,"epic":{"id":164670,"iid":5088,"title":"DAST Site profile - Add support for APIs","url":"/groups/gitlab-org/-/epics/5088","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":76147892,"iid":294059,"project_id":278964,"title":"DAST Site profile - Add support for APIs - Frontend","description":"Backend counterpart - https://gitlab.com/gitlab-org/gitlab/-/issues/294060\n\nEpic - https://gitlab.com/groups/gitlab-org/-/epics/5088\n\n## Why are we doing this work\nTo enable users to easily run API scans from web-based interfaces. \n\n## What\nThis issue is to add `API` support in On-demand Scans DAST site profile. Using this feature, users can run scans against their APIs.\n\n## Designs\n\n## Implementation plan\n\n  - [x] Add the \"Site type\" section with `Website/API` options\n    - [x] DAST Site Profile Form\n    - [x] Profile summary\n  - [x] Hide username \u0026 password form fields when `API` option is selected\n    - [x] Make sure to not send auth related fields in mutation Payloads\n  - [x] Update gitlab~4133451 queries / mutations as per https://gitlab.com/groups/gitlab-org/-/epics/5088#decisions\n  - [x] Rollout changes behind the feature flag [`security_dast_site_profiles_api_option`](https://gitlab.com/gitlab-org/gitlab/-/issues/292897)\n  - [x] Add test coverage","state":"closed","created_at":"2020-12-16T16:19:34.138Z","updated_at":"2021-05-18T07:08:35.089Z","closed_at":"2021-05-04T02:08:57.736Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","Deliverable","devops::secure","frontend","group::dynamic analysis","section::sec","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294059","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":8},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"8 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294059","notes":"https://gitlab.com/api/v4/projects/278964/issues/294059/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294059/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294059","relative":"#294059","full":"gitlab-org/gitlab#294059"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5088,"epic":{"id":164670,"iid":5088,"title":"DAST Site profile - Add support for APIs","url":"/groups/gitlab-org/-/epics/5088","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76147472,"iid":294050,"project_id":278964,"title":"Implement static security scanners configuration table for Security \u0026 Compliance page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nThis is the initial simplest first step to creating a static Security \u0026 Compliance page for core users - writing the client-side rendering of the table.\n\n## Relevant links\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/241377)\n- [Technical Discovery](https://gitlab.com/gitlab-org/gitlab/-/issues/283978)\n- [Equivalent MR for original EE version](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/20185)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Testing\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n~frontend\n- [ ] Implement table using `GlTable`\n    - [ ] Have rows for each of the 9(!) scanner types\n- [ ] Implement \"Configure via Merge Request\" button component that uses `Mutation.configureSast` GraphQL mutation\n   - Use UX of https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/security_configuration/components/create_merge_request_button.vue as a guide (i.e., show loading spinner forever after success)\n- [~] ~~Use data structure that will support passing docs links from the ~backend in a future iteration~~ This is no longer relevant, thanks to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48106","state":"closed","created_at":"2020-12-16T16:10:20.547Z","updated_at":"2021-03-18T07:09:09.492Z","closed_at":"2021-03-01T11:36:36.230Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:SAST","Deliverable","backend","devops::secure","frontend","group::static analysis","missed-deliverable","missed:13.9","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294050","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294050","notes":"https://gitlab.com/api/v4/projects/278964/issues/294050/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294050/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294050","relative":"#294050","full":"gitlab-org/gitlab#294050"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5087,"epic":{"id":164597,"iid":5087,"title":"Static Security \u0026 Compliance page for core users","url":"/groups/gitlab-org/-/epics/5087","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":76147332,"iid":294048,"project_id":278964,"title":"Wikis: Rename \"Delete\" to \"Archive\", don't restrict to Maintainers","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nWe use \"Delete\" in the button and modal for deleting wiki pages:\n\n![image](/uploads/2455eeeaadbdeed046417813fc8573e6/image.png)\n\nBut this is a bit misleading, since the page is still available in the repository history.\n\nWe had the same issue with Design Management, and ended up renaming the action to \"Archive\": https://gitlab.com/gitlab-org/gitlab/-/merge_requests/38446\n\nIn addition, \"Delete\" is only available to Maintainers in the web UI, but Developers can still delete pages via Git.\n\n### Intended users\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\n- Different features should use consistent terminology.\n- Different access methods should use the same permission levels.\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n- Rename \"Delete\" to \"Archive\".\n- Relax the permissions to allow Developers to delete/archive pages through the web UI as well.\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n- https://docs.gitlab.com/ee/user/permissions.html\n- https://docs.gitlab.com/ee/user/project/wiki/#deleting-a-wiki-page\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2020-12-16T16:05:14.186Z","updated_at":"2021-10-25T06:14:16.064Z","closed_at":"2021-10-14T02:15:02.883Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Category:Wiki","Technical Writing","backend","devops::create","docs::feature","documentation","frontend","group::editor","missed:14.1","missed:14.2","missed:14.3","quad-planning::complete-no-action","section::dev","tw-weight::5","type::feature","workflow::ready for development"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"},{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":5133434,"username":"aqualls","name":"Amy Qualls","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5133434/avatar.png","web_url":"https://gitlab.com/aqualls"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294048","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294048","notes":"https://gitlab.com/api/v4/projects/278964/issues/294048/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294048/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294048","relative":"#294048","full":"gitlab-org/gitlab#294048"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5341,"epic":{"id":196798,"iid":5341,"title":"Improve the UX of the Wiki","url":"/groups/gitlab-org/-/epics/5341","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76147008,"iid":294043,"project_id":278964,"title":"Add an epics board index page","description":"Although epics board will use our GraphQL API for working with epic boards/epic lists, we still need a \"landing page\" which will take care of initializing FE components - for issue boards this is handled by `app/controllers/boards/lists_controller.rb`'s `index` action - we will need similar endpoint for epic boards too which:\n\n* automatically creates default epic board if there is not any board yet\n  * on BE side autocreation logic is part of app/services/boards/lists/list_service.rb - we can extract this logic into a concern shared both by issue and epic boards\n  * also then this service should be used to list epic board lists in graphql resolver - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49728#note_467780323\n* renders epic board html page with the code to initialize JS components\n* (can be done separately) expose this epic board's url in the GraphQL API same as we will expose `web_url` for issue boards (related to https://gitlab.com/gitlab-org/gitlab/-/issues/282299)","state":"closed","created_at":"2020-12-16T15:54:21.970Z","updated_at":"2021-03-05T01:22:03.179Z","closed_at":"2021-02-14T23:32:27.718Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Next Up","backend","devops::plan","frontend","group::product planning","missed:13.8","section::dev","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294043","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294043","notes":"https://gitlab.com/api/v4/projects/278964/issues/294043/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294043/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294043","relative":"#294043","full":"gitlab-org/gitlab#294043"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5067,"epic":{"id":163256,"iid":5067,"title":"üèó Epic Boards - MVC 1 - Create and View epic boards","url":"/groups/gitlab-org/-/epics/5067","group_id":9970,"human_readable_end_date":"Mar 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76146587,"iid":294040,"project_id":278964,"title":"Implement skeleton Vue app for static Security \u0026 Compliance page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nThis is the initial simplest first step to creating a static Security \u0026 Compliance page for core users - setting up the client-side scaffolding for a new page.\n\n## Relevant links\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/241377)\n- [Technical Discovery](https://gitlab.com/gitlab-org/gitlab/-/issues/283978)\n- [Equivalent MR for original EE version](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/20185)\n\n## Non-functional requirements\n\n- [ ] Testing\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n~frontend\n- [ ] Add skeleton Vue app (see EE version for equivalent location)\n    - [ ] Template can be hello world equivalent\n    - [ ] Basic spec(s)\n- [ ] Vue app entry point, e.g., see `index.js` file in EE version\n- [ ] Add page bundle entry point, e.g., like the [EE version](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/pages/projects/security/configuration/index.js)","state":"closed","created_at":"2020-12-16T15:43:47.653Z","updated_at":"2021-03-18T07:09:09.535Z","closed_at":"2021-03-01T11:36:05.719Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:SAST","Deliverable","backend","devops::secure","frontend","group::static analysis","missed-deliverable","missed:13.9","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294040","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294040","notes":"https://gitlab.com/api/v4/projects/278964/issues/294040/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294040/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294040","relative":"#294040","full":"gitlab-org/gitlab#294040"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5087,"epic":{"id":164597,"iid":5087,"title":"Static Security \u0026 Compliance page for core users","url":"/groups/gitlab-org/-/epics/5087","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":76146475,"iid":294039,"project_id":278964,"title":"üé® Design: Update saved scans table","description":"### Proposal\n\nDefault page:\n\n![manage-scans-SSOT](/uploads/dae670b8dd01dac2cb8843ef2969cab2/manage-scans-SSOT.png)\n\n\nWith hover/actions:\n\n![manage-scans--actions](/uploads/d37c5ec4a870cf8dd0120188c28bf16e/manage-scans--actions.png)\n\n\n### MVC\n\n- Remove `Schedule` column\n- Remove branch info\n- Remove filter\n\n**Figma:** https://www.figma.com/file/7CaJqOTOpPEOzkYkoU5bs5/DAST-Ondemand-Profile?node-id=5214%3A41015","state":"closed","created_at":"2020-12-16T15:42:05.777Z","updated_at":"2020-12-22T23:25:24.711Z","closed_at":"2020-12-21T14:22:25.407Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:DAST","UX","devops::secure","group::dynamic analysis","section::sec"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294039","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294039","notes":"https://gitlab.com/api/v4/projects/278964/issues/294039/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294039/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294039","relative":"#294039","full":"gitlab-org/gitlab#294039"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4876,"epic":{"id":142315,"iid":4876,"title":"On-demand DAST scan scheduler","url":"/groups/gitlab-org/-/epics/4876","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76146434,"iid":294038,"project_id":278964,"title":"üé® Design: Update scanner profile table","description":"#### Proposal\n\nDefault page:\n\n![manage-scanner-profiles--SSOT](/uploads/f8ed5bc4f8af50f09f0c9fb139cb28d2/manage-scanner-profiles--SSOT.png)\n\n\nWith hover/actions:\n\n![manage-scanner-profiles--actions](/uploads/66ce01416d6b9b0446e7cd5281297f05/manage-scanner-profiles--actions.png)\n\n**Figma:** https://www.figma.com/file/7CaJqOTOpPEOzkYkoU5bs5/DAST-Ondemand-Profile?node-id=5214%3A41015","state":"closed","created_at":"2020-12-16T15:41:11.161Z","updated_at":"2021-04-03T08:51:59.088Z","closed_at":"2020-12-22T15:28:11.675Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:DAST","UX","devops::secure","group::dynamic analysis","missed:13.7","section::sec"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294038","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294038","notes":"https://gitlab.com/api/v4/projects/278964/issues/294038/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294038/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294038","relative":"#294038","full":"gitlab-org/gitlab#294038"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76145501,"iid":294033,"project_id":278964,"title":"Implement Rails scaffolding for Core Security \u0026 Compliance page","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nThis is the initial simplest first step to creating a static Security \u0026 Compliance page for core users - setting up the scaffolding for a new page.\n\n## Open questions\n\n- How do we create a CE route that does not override the EE version of that same route?\n\n## Relevant links\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/241377)\n- [Technical Discovery](https://gitlab.com/gitlab-org/gitlab/-/issues/283978)\n- [Equivalent MR for original EE version](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/20185)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [-] Documentation: TBD\n- [x] Feature flag: `secure_security_and_compliance_configuration_page_on_ce`\n- [x] Testing\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n~frontend\n- [x] Define CE `configuration_controller.rb` controller, mirroring [EE version](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/controllers/projects/security/configuration_controller.rb)\n- [x] Guard controller behind `core_security_compliance_page` feature flag, disabled by default\n- [x] Define CE route for controller (be careful not to override EE route)\n- [x] Add HAML view entry point","state":"closed","created_at":"2020-12-16T15:22:51.167Z","updated_at":"2021-03-01T09:34:31.302Z","closed_at":"2021-03-01T09:34:31.259Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:SAST","Deliverable","backend","devops::secure","frontend","group::static analysis","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},{"id":7293390,"username":"jannik_lehmann","name":"Jannik Lehmann","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7293390/avatar.png","web_url":"https://gitlab.com/jannik_lehmann"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294033","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294033","notes":"https://gitlab.com/api/v4/projects/278964/issues/294033/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294033/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294033","relative":"#294033","full":"gitlab-org/gitlab#294033"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5087,"epic":{"id":164597,"iid":5087,"title":"Static Security \u0026 Compliance page for core users","url":"/groups/gitlab-org/-/epics/5087","group_id":9970,"human_readable_end_date":"Apr 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":76145044,"iid":294032,"project_id":278964,"title":"CoverageReportsController HTTP request malformated when ref_path is not provided","description":"Instead of manually forming the URL we might be able to use `setUrlParams` or one of the other utils from [`url_utility.js`](https://gitlab.com/gitlab-org/gitlab/blob/master/app/assets/javascripts/lib/utils/url_utility.js#L403). Failing that we should look around to see if we can avoid hand-rolling this path.\n\n\nThe following discussion from !50155 should be addressed:\n\n- [ ] @iamricecake started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50155#note_468069911):  (+1 comment)\n\n    \u003e This seems weird that we have to pass an empty string here for `ref_path`. It would make more sense to just not pass `ref_path` at all. So I feel like we may be doing something wrong on the frontend when building the request.\n    \u003e \n    \u003e I understand this is urgent though so let's address this on a follow-up.","state":"closed","created_at":"2020-12-16T15:12:14.779Z","updated_at":"2021-10-28T14:02:14.366Z","closed_at":"2021-02-04T14:48:02.934Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["Category:Code Testing and Coverage","devops::verify","frontend","group::pipeline insights","maintenance::refactor","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"}],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":{"id":3029776,"username":"shampton","name":"Scott Hampton","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3029776/avatar.png","web_url":"https://gitlab.com/shampton"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294032","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294032","notes":"https://gitlab.com/api/v4/projects/278964/issues/294032/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294032/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294032","relative":"#294032","full":"gitlab-org/gitlab#294032"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":76143420,"iid":294029,"project_id":278964,"title":"Clarify date range constraints in Audit Events","description":"### Status\n\nSee current workflow label for status.\n\nPreviously ~\"workflow::blocked\" due to pending action items\n- pattern documentation https://gitlab.com/gitlab-org/gitlab-services/design.gitlab.com/-/merge_requests/2438\n- improving the shared component https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65184\n\n\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n### Problem to solve\n\n[After limiting the date range picker to 31 days to a database performance restriction](https://gitlab.com/gitlab-org/gitlab/-/issues/223260), the date range picker leaves days outside of that range as read-only with no explanation as to why.\n\n[Example of confusion in Slack thread](https://gitlab.slack.com/archives/CN7C8029H/p1608104793181200)\n\n### Proposal \n\nUse the daterange indicator to clarify the constraints of the date range picker.\n\n![Frame_16](/uploads/998be59d3f8be3d7ea6c09b3c42044fb/Frame_16.png)\n\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e\n\n### Implementation plan\n\n~frontend - :three:\n\n1. Update the audit events date range filter to use the updated date range GitLab UI component created as part of https://gitlab.com/gitlab-org/gitlab/-/issues/335357\n1. Move the created dropdown next to the search bar to give room for the new indicator text\n1. Update specs and snapshots","state":"closed","created_at":"2020-12-16T14:38:56.036Z","updated_at":"2021-10-28T21:43:26.017Z","closed_at":"2021-10-22T10:32:20.866Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Category:Audit Events","Next Up","OKR","SUS::Impacting","UX","UX debt","UX scorecard-rec","devops::manage","frontend","group::compliance","learnability","priority::3","section::dev","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":6193108,"username":"aregnery","name":"Austin Regnery","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6193108/avatar.png","web_url":"https://gitlab.com/aregnery"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":40,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294029","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294029","notes":"https://gitlab.com/api/v4/projects/278964/issues/294029/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294029/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294029","relative":"#294029","full":"gitlab-org/gitlab#294029"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":418,"epic":{"id":1213,"iid":418,"title":"Expand audit event usability","url":"/groups/gitlab-org/-/epics/418","group_id":9970},"iteration":null,"health_status":"at_risk"},{"id":76137967,"iid":294018,"project_id":278964,"title":"Dependency proxy does not work when SSO is enabled","description":"### Summary\n\nIt appears when SSO is enabled on a private group you can not pull an image from Dependency Proxy.\n\n### Steps to reproduce\n\nCreate a new private group and enable sso (start a GitLab trial if needed)\nAttempt docker login and docker pull. The pull will fail.\n\n### Example Project\n\nhttps://gitlab.com/groups/acme-org-test/-/dependency_proxy\n\n### What is the current *bug* behavior?\n\nUsing username or `ouath2:\u003cpat-token\u003e` gives the same results. \nI expect ouath2:pat-token to work.\n\n```\n# docker login https://gitlab.com/acme-orgt-test/dependency_proxy/containers\nUsername: \u003cuser\u003e\nPassword:\nLogin Succeeded\n#\n# docker pull gitlab.com/acme-org-test/dependency_proxy/containersnode:latest\nTrying to pull repository gitlab.com/acme-org-test/dependency_proxy/containersnode ...\nPulling repository gitlab.com/acme-org-test/dependency_proxy/containersnode\nError: Status 503 trying to pull repository acme-org-test/dependency_proxy/containersnode: \"\u003c!DOCTYPE html\u003e\\n\u003chtml\u003e\\n\u003chead\u003e\\n  \u003cmeta content=\\\"width=device-width, initial-scale=1, maximum-scale=1\\\" name=\\\"viewport\\\"\u003e\\n  \u003ctitle\u003eChecking your Browser - GitLab\u003c/title\u003e\\n  \u003cstyle\u003ebody{color:#666;text-align:center;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;margin:auto;font-size:14px;display:flex;flex-direction:column;align-items:center;justify-content:center}hr{max-width:800px;margin:18px auto;border:0;border-top:1px solid #eee;border-bottom:1px solid #fff}img{max-width:40vw}.container{margin:auto 20px}.cferror_details{list-style-type:none}.cf-error-details h1{color:#456;font-size:20px;font-weight:400;line-height:28px}\u003c/style\u003e\\n\u003cmeta http-equiv=\\\"refresh\\\" content=\\\"12\\\"\u003e\\n\u003cscript type=\\\"text/javascript\\\"\u003e\\n  //\u003c![CDATA[\\n  (function(){\\n    \\n    window._cf_chl_opt={\\n      cvId: \\\"1\\\",\\n      cType: \\\"non-interactive\\\",\\n      cNounce: \\\"96553\\\",\\n      cRay: \\\"602875abe8bd7263\\\",\\n      cHash: \\\"d7bdfc9f8b75ff5\\\",\\n      cFPWv: \\\"b\\\",\\n      cRq: {\\n        ru: \\\"aHR0cHM6Ly9naXRsYWIuY29tL3VzZXJzL3NpZ25faW4=\\\",\\n        ra: \\\"ZG9ja2VyLzEuMTMuMSBnby9nbzEuMTAuMyBrZXJuZWwvMy4xMC4wLTExNjAuNi4xLmVsNy54ODZfNjQgb3MvbGludXggYXJjaC9hbWQ2NCBVcHN0cmVhbUNsaWVudChEb2NrZXItQ2xpZW50LzEuMTMuMSBcKGxpbnV4XCkp\\\",\\n        rm: \\\"R0VU\\\",\\n        d: \\\"F0N1U9r07nbL/h/78RUxl9m/hZ10IM32d15SymHkNt7UP9Y5EvlO0kt5y7KE8w1eQLN5+ESbCFerSvkSzSM2TSh9Zq+AYWNT4g4BV3OkrDjhb2PElwOnsuIPHrEH5ThtO5zZzjiLVevn46oWC7MxqlmQlLx3bekMB58dnwgWXKkjvgQE1E5uJxTXqu06uEvzpY4PkOmXJe2p9n0CkExzFC4kDjqpzbk32gmfC1r1V1jRrNesD29f7FvGBXr3CysjTtI4l4qwVDWryh7rWU2HmOdB3PHQNgyJdvdQylvvX4xbeuQ1Q7ujcAPvsbBHNh4rozg/n7GCXTR2KJOZhwDywNUDQK0krrYNi+v/SGaFTYREzbzC8U1uLt+KIox5YAHTDyq/srhZEM6b2jojOGgBTkH+vIpEjeKG0ELiZkhhP329BZCx5DkineWaDO/8hcT3lgPFI0yKGNceAuh6tdSSL0/J7AWMTYMURzTMlzPZ3RApfV++5qkkaZoA5fOrP4UQj29KzDR5Fsbs4AhbFzIKlU5L2rup1DFtC4voYflx25SDDV2bW2qeE00xjMt72MTeEpV84CJFUIo2wQvzVxVqgG5ODoAU6S92Shw+XCAKlcYIKlw6PDjgKcuGruf8RC6uPvesRpKHaAt6zCUGvLHrSxqqhV6Tb9DbA39+7P6Ghx3R5tKnPZEEh7IAPGUte/XZ6uID70fdVwk+lvsByovImh3UzoX4bnkAtguxIfP+pO4nTxylr7qHDGakxDihmfDBQTPBHvF76aopxe76GKjR5AQeL4ubq9YHEjSakwPUZxI=\\\",\\n        t: \\\"MTYwODEyMjI4OC4wMTEwMDA=\\\",\\n        m: \\\"GCgf1vgTufLfWOxui3OUsC+sHkrX5/waMfdCF9gIg7I=\\\",\\n        i1: \\\"HKWBeEXE9VKJ89cRqzTbZw==\\\",\\n        i2: \\\"dC2fBKiJjMTvquNLF4M9XA==\\\",\\n        uh: \\\"YsedfWLsbGQ/N0opLnpZpZSrKjZZK0o8xedBJ4rCudw=\\\",\\n        hh: \\\"lGQbzypQ55vDVgAzrKu7GNtEf1PrcZK3oqezycJ79vw=\\\",\\n      }\\n    }\\n    window._cf_chl_enter = function(){window._cf_chl_opt.p=1};\\n    \\n    var a = function() {try{return !!window.addEventListener} catch(e) {return !1} },\\n    b = function(b, c) {a() ? document.addEventListener(\\\"DOMContentLoaded\\\", b, c) : document.attachEvent(\\\"onreadystatechange\\\", b)};\\n    b(function(){\\n      var cookiesEnabled=(navigator.cookieEnabled)? true : false;\\n      var cookieSupportInfix=cookiesEnabled?'/nocookie':'/cookie';\\n      var a = document.getElementById('cf-content');a.style.display = 'block';\\n      var isIE = /(MSIE|Trident\\\\/|Edge\\\\/)/i.test(window.navigator.userAgent);\\n      var trkjs = isIE ? new Image() : document.createElement('img');\\n      trkjs.setAttribute(\\\"src\\\", \\\"/cdn-cgi/images/trace/jschal/js\\\"+cookieSupportInfix+\\\"/transparent.gif?ray=602875abe8bd7263\\\");\\n      trkjs.id = \\\"trk_jschal_js\\\";\\n      trkjs.setAttribute(\\\"alt\\\", \\\"\\\");\\n      document.body.appendChild(trkjs);\\n      \\n      var cpo = document.createElement('script');\\n      cpo.type = 'text/javascript';\\n      cpo.src = \\\"/cdn-cgi/challenge-platform/h/b/orchestrate/jsch/v1\\\";\\n      var done = false;\\n      cpo.onload = cpo.onreadystatechange = function() {\\n        if (!done \u0026\u0026 (!this.readyState || this.readyState === \\\"loaded\\\" || this.readyState === \\\"complete\\\")) {\\n          done = true;\\n          cpo.onload = cpo.onreadystatechange = null;\\n          window._cf_chl_enter()\\n        }\\n      };\\n      document.getElementsByTagName('head')[0].appendChild(cpo);\\n    \\n    }, false);\\n  })();\\n  //]]\u003e\\n\u003c/script\u003e\\n\\n\u003c/head\u003e\\n\\n\u003cbody\u003e\\n  \u003ch1\u003e\\n    \u003cimg src=\\\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEwIiBoZWlnaHQ9IjIxMCIgdmlld0JveD0iMCAwIDIxMCAyMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTEwNS4wNjE0IDIwMy42NTVsMzguNjQtMTE4LjkyMWgtNzcuMjhsMzguNjQgMTE4LjkyMXoiIGZpbGw9IiNlMjQzMjkiLz4KICA8cGF0aCBkPSJNMTA1LjA2MTQgMjAzLjY1NDhsLTM4LjY0LTExOC45MjFoLTU0LjE1M2w5Mi43OTMgMTE4LjkyMXoiIGZpbGw9IiNmYzZkMjYiLz4KICA8cGF0aCBkPSJNMTIuMjY4NSA4NC43MzQxbC0xMS43NDIgMzYuMTM5Yy0xLjA3MSAzLjI5Ni4xMDIgNi45MDcgMi45MDYgOC45NDRsMTAxLjYyOSA3My44MzgtOTIuNzkzLTExOC45MjF6IiBmaWxsPSIjZmNhMzI2Ii8+CiAgPHBhdGggZD0iTTEyLjI2ODUgODQuNzM0Mmg1NC4xNTNsLTIzLjI3My03MS42MjVjLTEuMTk3LTMuNjg2LTYuNDExLTMuNjg1LTcuNjA4IDBsLTIzLjI3MiA3MS42MjV6IiBmaWxsPSIjZTI0MzI5Ii8+CiAgPHBhdGggZD0iTTEwNS4wNjE0IDIwMy42NTQ4bDM4LjY0LTExOC45MjFoNTQuMTUzbC05Mi43OTMgMTE4LjkyMXoiIGZpbGw9IiNmYzZkMjYiLz4KICA8cGF0aCBkPSJNMTk3Ljg1NDQgODQuNzM0MWwxMS43NDIgMzYuMTM5YzEuMDcxIDMuMjk2LS4xMDIgNi45MDctMi45MDYgOC45NDRsLTEwMS42MjkgNzMuODM4IDkyLjc5My0xMTguOTIxeiIgZmlsbD0iI2ZjYTMyNiIvPgogIDxwYXRoIGQ9Ik0xOTcuODU0NCA4NC43MzQyaC01NC4xNTNsMjMuMjczLTcxLjYyNWMxLjE5Ny0zLjY4NiA2LjQxMS0zLjY4NSA3LjYwOCAwbDIzLjI3MiA3MS42MjV6IiBmaWxsPSIjZTI0MzI5Ii8+Cjwvc3ZnPgo=\\\" alt=\\\"GitLab Logo\\\" /\u003e\u003cbr /\u003e\\n  \u003c/h1\u003e\\n  \u003cdiv class=\\\"container\\\"\u003e\\n    \u003cdiv class=\\\"cf-browser-verification cf-im-under-attack\\\"\u003e\\n  \u003cnoscript\u003e\\n    \u003ch1 data-translate=\\\"turn_on_js\\\" style=\\\"color:#bd2426;\\\"\u003ePlease turn JavaScript on and reload the page.\u003c/h1\u003e\\n  \u003c/noscript\u003e\\n  \u003cdiv id=\\\"cf-content\\\" style=\\\"display:none\\\"\u003e\\n    \\n    \u003cdiv id=\\\"cf-bubbles\\\"\u003e\\n      \u003cdiv class=\\\"bubbles\\\"\u003e\u003c/div\u003e\\n      \u003cdiv class=\\\"bubbles\\\"\u003e\u003c/div\u003e\\n      \u003cdiv class=\\\"bubbles\\\"\u003e\u003c/div\u003e\\n    \u003c/div\u003e\\n    \u003ch1\u003e\u003cspan data-translate=\\\"checking_browser\\\"\u003eChecking your browser before accessing\u003c/span\u003e gitlab.com.\u003c/h1\u003e\\n    \\n    \u003cdiv id=\\\"no-cookie-warning\\\" class=\\\"cookie-warning\\\" data-translate=\\\"turn_on_cookies\\\" style=\\\"display:none\\\"\u003e\\n      \u003cp data-translate=\\\"turn_on_cookies\\\" style=\\\"color:#bd2426;\\\"\u003ePlease enable Cookies and reload the page.\u003c/p\u003e\\n    \u003c/div\u003e\\n    \u003cp data-translate=\\\"process_is_automatic\\\"\u003eThis process is automatic. Your browser will redirect to your requested content shortly.\u003c/p\u003e\\n    \u003cp data-translate=\\\"allow_5_secs\\\"\u003ePlease allow up to 5 seconds\u0026hellip;\u003c/p\u003e\\n  \u003c/div\u003e\\n   \\n  \u003cform class=\\\"challenge-form\\\" id=\\\"challenge-form\\\" action=\\\"/users/sign_in?__cf_chl_jschl_tk__=82fe7c8dfb049ee55eb4699e34e1ece2510ca3b1-1608122288-0-AVX7hYwD90lLUcvfyr6Uo7n1DqkexAJR0I3BZcL3SVWH4VP4nn-MG2yc4OS_IET0RYKm1qcWkSRHVi_mARLF17fyVYl2EjjVXkb57NnZ0lxO3n-knIoeAJ_1nLRzgHxfpAc5l-TbYsyU3xc_q--w3J9XqXFCcVduCXY1aQeQ0-xcREU21jC5pXsF7yJ_gWn520AMc4ey8B956g8Uf_jXjzDoC56jU4eGNeSFIuHZRMvIf5uDPEyQc04mUygs7Yp4AoxWCAiJ5etKX3fDnVcJixCTpXZuGrlmnNvBGUd__umg_G9HyYKTlBT4tBUIa7bz-MbZ2ryyDUp2YVenHP1Cn7hbu2Y4GScOKyP8vOEWSJq-XwPlskF-K8Nl7e-c15yw0A\\\" method=\\\"POST\\\" enctype=\\\"application/x-www-form-urlencoded\\\"\u003e\\n    \u003cinput type=\\\"hidden\\\" name=\\\"r\\\" value=\\\"d8c17961b9b9040774b52ae3618158f8ea61fcf3-1608122288-0-ARkFJuY1KiDUrKPQb8HBcF7AGKHJTunFp6Ja9D2yiORm3VzJYipILeGSCXiI6qflhYoYmSkpICweOaAAOQdWvZtJAj08PuHvCMiVze9EpKzhlKiUM4c9LRlBaFhuPSVbO3GSSiN4wzsqCBvoyRvXHw+3f66DpakpzObu+ka0S9BkNCGWAGW+YmkGr18NPwx+k/Vwd4vSqWjbORkmRmmdQN3X/zthmwFQjY7MLm1Oql9siYWD8H8xnlUBJ8c5+WsDfrC+9PrIhvugvmO/nDDN3JaxfA6iRaxx1YHfPw/xO8pwZI59xnhL+V1HtUJtS1z0t38L/TsjXObxmHkwfDsGyuaniA2sVBZStJz9n17hnDOazRq+JXu/41ydqdkRt1kzgMm/GHkPuV6+4pWsY3pMXlBZ75MiajtmA5GLSf0xkmhzb/oQ3KbBfgdwoVpxDrWM6UCH6INqhkFbOrdb0iJmklRjAdtkpmbENSuFK8jMJ2PAqOiI6NdJwJ9sBVLEvXj9N47xqZndFteV0fOxRdTnyZFylqVvw1FyPZXI/QuMn/S6CUNRv19gmB8M6JMW3jm2gsZBMFlyE4fpglwJEbb8D0N7krdJpPOJt1/sMHD9vzlaSZNilrhEGNcWgyyvlSHTNHlmnnnKpJCoMtqkDpGVL1mJ2SaR8nBVLKzQE+E9YuXFEBTysnWlVNtJrMWWO5OwB/cFY+Yq27wagqoOY9tbF1K2l6lzEVO653Zw07P3h2k54WXnzPszlDEUgLELMCyNWaMZMyo4Mm5I08FS+xy0UiAqg+fRcImlhfhFtt1KUrCygnBIoFdCm+nYgm6z19+GJnTjEDFQPnPligCTf66h0PLHP8Teiotokbqk9yTJEtIuvaq+EfiaNneGzTwLEsk9IBKHMTHfjnR87hitHOOFcWlSIEZpZg0ble5l7Ge+8OG1ROyh7byVUJFvs08ngvnMrtR+/yMHn8pILn1gNJMIn4tmmoPfjfvAMmttAz9NCOP6z97CSYYa6bGtyFS3y1Vzzc+dgk0iZIU/XiyFU3bnQtScGqHR6KzGbuZjwzfICKJPShggqHzyvF/wFW6yb3O0uO9MEqkV0H+2TLUcZ/t8Q5xJVeU1GRFJr3U3Mh5rZC75SOhGFgeRu46e15hD20UmEpvxaYy3NzpGadFdi+huSs8j1BIYBc9K5Fv2JHFuZqxNghPO/mIIe72r6c99rVYmz5vJbzu/jmltbege/yK3nyD2u+pgH6rLgAm3GcxceKHrVmc5NuCW++HYn6zjLpLNQ/vLShqKjBIFtsoeKda06ODzrmlC8V4ChNiGfE/SzDVqeBzp2GP/fwjRrtHN2+Utxhtjtc71Qda9qeWvdnCQcEq5VDNFWW0/onSCQx+gHyMXlzxaF2w/4ZXnEooX/obbpZpuBGGBCvpzNQVmkrsy0zDfJ7hay6pWA2K6qKVntQswufHKg2KUcStpNyMaBSEsm0g8arBojqXlmhEUO1Wc3g+wCr7TacSSMZL9QSVzxrqnlLsh3bPZ/LA/HPKmgJ/wCiqhjw2uKjubT17UC7WHyBrsY6NQybwYF1bIVPbjyTQpgdHFv9TUU1nBE2rmKVaPxOWSaidy/ebcCavZO3VYaTAPG7ABV71Wr5eN9NkUXd3u7Xzc9gxpT7AV+fB5bHmdZA==\\\"/\u003e\\n    \u003cinput type=\\\"hidden\\\" value=\\\"d74bab1a300e61b7b6f3da6d755c831b\\\" id=\\\"jschl-vc\\\" name=\\\"jschl_vc\\\"/\u003e\\n    \u003c!-- \u003cinput type=\\\"hidden\\\" value=\\\"\\\" id=\\\"jschl-vc\\\" name=\\\"jschl_vc\\\"/\u003e --\u003e\\n    \u003cinput type=\\\"hidden\\\" name=\\\"pass\\\" value=\\\"1608122292.011-JkJCEPrNi6\\\"/\u003e\\n    \u003cinput type=\\\"hidden\\\" id=\\\"jschl-answer\\\" name=\\\"jschl_answer\\\"/\u003e\\n  \u003c/form\u003e\\n  \\n  \u003cdiv id=\\\"trk_jschal_nojs\\\" style=\\\"background-image:url('/cdn-cgi/images/trace/jschal/nojs/transparent.gif?ray=602875abe8bd7263')\\\"\u003e \u003c/div\u003e\\n\u003c/div\u003e\\n\\n    \u003chr /\u003e\\n  \u003c/div\u003e\\n\u003c/body\u003e\\n\u003c/html\u003e\"\n```\n\n### What is the expected *correct* behavior?\n\nDocker pulls as expected (this is a non sso enabled private group)\n\n```# docker pull gitlab.com/acme-org-dependency-proxy/dependency_proxy/containers/node:latest\nTrying to pull repository gitlab.com/acme-org-dependency-proxy/dependency_proxy/containers/node ...\nlatest: Pulling from gitlab.com/acme-org-dependency-proxy/dependency_proxy/containers/node\n22f9b9782fc3: Pull complete\n2c75c9e56a8a: Pull complete\nb31d19b99daa: Pull complete\ne000cbf49b08: Pull complete\n892def1a6f88: Pull complete\n0581e893c9eb: Pull complete\n0ad0885e5e6f: Pull complete\nbdae7f78fe28: Pull complete\nf328a27cd263: Pull complete\nDigest: sha256:74026731a623413fbdb99552b3a17f806ca9c3b4c685e08aa21472024de403b0\nStatus: Downloaded newer image for gitlab.com/acme-org-dependency-proxy/dependency_proxy/containers/node:latest\n```\n\n\n#### Results of GitLab environment info\n\nGitLab.com\n\n@sabrams o/","state":"closed","created_at":"2020-12-16T12:56:14.324Z","updated_at":"2022-01-06T15:11:25.074Z","closed_at":"2021-09-02T15:04:07.396Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Dependency Proxy","Deliverable","GitLab Core","Package:P1","approaching-SLO","backend","customer","devops::package","group::package registry","missed-SLO","priority::2","reliability","ruby","section::ops","severity::2","type::bug","workaround available","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":3920181,"username":"bwhyte","name":"Bren Whyte","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3920181/avatar.png","web_url":"https://gitlab.com/bwhyte"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":60,"merge_requests_count":0,"upvotes":19,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294018","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294018","notes":"https://gitlab.com/api/v4/projects/278964/issues/294018/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294018/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294018","relative":"#294018","full":"gitlab-org/gitlab#294018"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":76134955,"iid":294012,"project_id":278964,"title":"Lint errors returned if  gitlab-api-fuzzing-config.yml  is not in the root folder","description":" \n### Summary\n\nIf the  gitlab-api-fuzzing-config.yml  is not added in the root folder a lint error is returned and the job fails. Everything works well if the config file is used in root folder. \n\n### Example Project\n\nExample of a job where the check fails can be found here: https://gitlab.com/gitlab-org/gitlab/-/jobs/912649764\n\n### Relevant logs and/or screenshots\n\nA screen shot with the errors: \n\n![Screenshot_2020-12-16_at_13.37.32](/uploads/481ab358092df9758646547e6b8d9265/Screenshot_2020-12-16_at_13.37.32.png)\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n\n/cc @stkerr @mikeeddington","state":"closed","created_at":"2020-12-16T11:43:20.797Z","updated_at":"2021-10-13T14:51:18.882Z","closed_at":"2021-01-15T03:12:35.641Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","Dogfooding","automation:ml","devops::secure","group::dynamic analysis","priority::3","section::sec","severity::4","type::bug","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":4086191,"username":"cmaxim","name":"Costel Maxim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4086191/avatar.png","web_url":"https://gitlab.com/cmaxim"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294012","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294012","notes":"https://gitlab.com/api/v4/projects/278964/issues/294012/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294012/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294012","relative":"#294012","full":"gitlab-org/gitlab#294012"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76133845,"iid":294007,"project_id":278964,"title":"Cloning a toplevel group wiki over HTTP fails with error 500 / JWT::DecodeError","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nThe Git support for group wikis added in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/45892 fails when trying to clone a toplevel group wiki over HTTP.\n\nOther cases (cloning a *child* group wiki over HTTP, or cloning a toplevel/child group wiki over *SSH*) work fine.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n```sh\n$ git clone https://staging.gitlab.com/group-wikis-testing.wiki.git\nfatal: unable to access 'https://staging.gitlab.com/group-wikis-testing.wiki.git/': The requested URL returned error: 500\n\n$ git clone https://staging.gitlab.com/group-wikis-testing/subgroup.wiki.git\nCloning into 'subgroup.wiki'...\nUsername for 'https://staging.gitlab.com':\n```\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nThe clone fails with a 500 error.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nThe clone should succeed without errors.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\nSee Sentry errors:\n\n- https://sentry.gitlab.net/gitlab/staginggitlabcom/issues/2418790/\n- https://sentry.gitlab.net/gitlab/gitlabcom/issues/2400244/\n\n### Output of checks\n\nThis bug happens on GitLab.com\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nGit HTTP requests are intercepted by Workhorse, which injects the JWT for authentication with the Rails app.\n\nThis currently only matches nested `.git` paths, but not toplevel paths: https://gitlab.com/gitlab-org/gitlab-workhorse/blob/38a07d72308788043c364f92fdf7bf570cbb000b/internal/upstream/routes.go#L58\n\nWe can probably just tweak this regex to only require a single path component. This would also align with the changes in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/45872.\n\nWe could also rename the variable to e.g. `gitRepositoryPattern`, since it's not exclusively for project repositories (this was already the case with personal snippets, before we added group wikis).","state":"closed","created_at":"2020-12-16T11:13:34.502Z","updated_at":"2021-02-25T10:59:05.217Z","closed_at":"2021-02-23T13:51:27.541Z","closed_by":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"labels":["Category:Wiki","backend","devops::create","group::editor","section::dev","severity::3","type::bug","workflow::verification","workhorse"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"user_notes_count":28,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294007","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294007","notes":"https://gitlab.com/api/v4/projects/278964/issues/294007/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294007/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294007","relative":"#294007","full":"gitlab-org/gitlab#294007"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76124200,"iid":294003,"project_id":278964,"title":"Move MIN and MAX calculation for estimate_batch_distinct_count in helper method","description":"We could improve the `estimate_batch_distinct_count` method to detect if we have a time_period send and have there the calculation of MIN and MAX.\n\n[MIN and MAX calculation cold become complex and repetitive](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49444/diffs#698e729e08eded1c0551919e7eddb666fecb0075_380_383) for counter with and without time_period.\n\nMaybe we could find a way yo calculate them in `estimate_batch_distinct_count`\n\ncc @gitlab-org/growth/product_analytics/engineers","state":"closed","created_at":"2020-12-16T09:27:51.322Z","updated_at":"2021-12-06T16:29:01.349Z","closed_at":"2021-12-06T16:29:00.925Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["[deprecated] Accepting merge requests","devops::growth","group::product intelligence","product intelligence","section::growth","type::maintenance","won't do","workflow::problem validation"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/294003","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/294003","notes":"https://gitlab.com/api/v4/projects/278964/issues/294003/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/294003/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#294003","relative":"#294003","full":"gitlab-org/gitlab#294003"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5931,"epic":{"id":264515,"iid":5931,"title":"Usage Ping Maintenance","url":"/groups/gitlab-org/-/epics/5931","group_id":9970,"human_readable_end_date":"Jan 31, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76117145,"iid":293975,"project_id":278964,"title":"Follow-up from \"Migrate vulnerability state management to GraphQL\"","description":"The following discussion from !50034 should be addressed:\n\n- [ ] @f_caplette started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/50034#note_467317746):  (+1 comment)\n\n    \u003e **Suggestion - non-blocking** I know `createFlash` is a valid thing to use, so keep in mind my comment is non-blocking :grimacing: But I do personally find using `glAlert` whenever possible better with a good error handling. In the catch, we could dispatch an error state, and then in our component, we check if there is an error state and fetch the right error message for each state.\n    \u003e \n    \u003e For example, you can check `app/assets/javascripts/pipeline_editor/pipeline_editor_app.vue` and see how we handle the computed prop `failure`. \n    \u003e \n    \u003e There is more overhead doing it this way, but it allow the component to scale well when there are more than 1 error states. Feel free to close if you don't agree!\n\n\n## Implementation plan\n\n- [ ] ~frontend Replace `createFlash` usages with `GlAlert` in `ee/app/assets/javascripts/vulnerabilities/components/header.vue`. \n- [ ] ~frontend Update tests accordingly","state":"closed","created_at":"2020-12-16T07:19:22.641Z","updated_at":"2021-10-28T14:02:15.494Z","closed_at":"2021-07-13T21:30:47.815Z","closed_by":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"labels":["Category:Vulnerability Management","Community contribution","devops::secure","follow-up","frontend","group::threat insights","section::sec","security dashboard","type::maintenance","workflow::in dev"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8749551,"username":"JeremyWuuuuu","name":"Wu Jeremy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8749551/avatar.png","web_url":"https://gitlab.com/JeremyWuuuuu"}],"author":{"id":5535246,"username":"svedova","name":"Savas Vedova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5535246/avatar.png","web_url":"https://gitlab.com/svedova"},"type":"ISSUE","assignee":{"id":8749551,"username":"JeremyWuuuuu","name":"Wu Jeremy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8749551/avatar.png","web_url":"https://gitlab.com/JeremyWuuuuu"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293975","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293975","notes":"https://gitlab.com/api/v4/projects/278964/issues/293975/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293975/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293975","relative":"#293975","full":"gitlab-org/gitlab#293975"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76113183,"iid":293972,"project_id":278964,"title":"Geo Framework: Persistent failures block/slow-down retries of transient failures","description":"\u003e\u003e\u003e\nA small proportion of failed registries have extremely high `retry_count`:\n\n```\nirb(main):085:0\u003e Geo::SnippetRepositoryRegistry.needs_sync_again.where('retry_count \u003e 40').count\n=\u003e 866\n```\n\nI think this is because:\n\n1. There are persistent failures in Geo staging\n1. We neglected to `ORDER BY` the relation used in `find_registries_needs_sync_again`. I assume the order defaults to ID ASC, which would give low IDs first priority.\n\nI think we need to order the `needs_sync_again` scope: https://gitlab.com/gitlab-org/gitlab/-/blob/v13.6.3-ee/ee/app/models/concerns/geo/replicable_registry.rb#L39\n\nI'll open a follow up issue for this. It's an existing issue for the whole Geo framework when there are persistent failures.\n\u003e\u003e\u003e\n\n## To do\n\n- [ ] Add `order()` to `needs_sync_again` or where it's used (`find_registries_needs_sync_again`) to get a batch\n- [ ] Generate query plan of impacted queries-- for *each impacted replicator* (package files, MR diffs, terraform state versions, and snippet repositories)\n- [ ] Add or modify indexes for bad query plans","state":"closed","created_at":"2020-12-16T05:12:42.584Z","updated_at":"2021-03-17T13:54:34.938Z","closed_at":"2021-03-11T12:53:19.941Z","closed_by":{"id":3944199,"username":"fzimmer","name":"Fabian Zimmer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3944199/avatar.png","web_url":"https://gitlab.com/fzimmer"},"labels":["approaching-SLO","devops::systems","group::geo","missed-SLO","missed:13.9","priority::2","section::enablement","severity::2","type::bug","workflow::in review"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"}],"author":{"id":1144264,"username":"mkozono","name":"Michael Kozono","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6243abba3cf112e6df4a5a644c5f86aa?s=80\u0026d=identicon","web_url":"https://gitlab.com/mkozono"},"type":"ISSUE","assignee":{"id":59678,"username":"vsizov","name":"Valery Sizov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/59678/avatar.png","web_url":"https://gitlab.com/vsizov"},"user_notes_count":6,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293972","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293972","notes":"https://gitlab.com/api/v4/projects/278964/issues/293972/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293972/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293972","relative":"#293972","full":"gitlab-org/gitlab#293972"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3761,"epic":{"id":74465,"iid":3761,"title":"Geo: Improve the self-service geo replication framework","url":"/groups/gitlab-org/-/epics/3761","group_id":9970,"human_readable_end_date":"Dec 31, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76112359,"iid":293968,"project_id":278964,"title":"Inncorect redirect path in snippet deletion","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nIn gitlab-ce 13.6.3. Operated in subdirectory, If you delete a snippet, you are redirected to no subdirectory path.\n\n### Steps to reproduce\n\n1. Modify /etc/gitlab.gitlab.rb\n~~~\n  external_url \"http://gitlab.example.com/gitlab\" \n~~~\n\n2. Reconfigure\n~~~\ngitlab-ctl reconfigure\n~~~\n\n3. Create a new snippet for a project\n\n3. Delete new snippet\n\n4. Redirect to http://gitlab.example.com/\u003cgroup_name\u003e/\u003cproject_name\u003e/-/snipets\n\n### What is the current *bug* behavior?\n\nRedirect to http://gitlab.example.com/\u003cgroup_name\u003e/\u003cproject_name\u003e/-/snipets\n\n### What is the expected *correct* behavior?\n\nRedirect to http://gitlab.example.com/gitlab/\u003cgroup_name\u003e/\u003cproject_name\u003e/-/snipets\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info","state":"closed","created_at":"2020-12-16T04:25:03.532Z","updated_at":"2022-01-31T03:05:40.792Z","closed_at":"2022-01-31T03:05:40.765Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Snippets","[deprecated] Accepting merge requests","auto closed","devops::create","frontend","group::editor","section::dev","severity::3","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":7344469,"username":"ikehiroki","name":"Hiroki IKEMOTO","state":"active","avatar_url":"https://secure.gravatar.com/avatar/24dbd0903ba68474c5ffdd97f0b1562f?s=80\u0026d=identicon","web_url":"https://gitlab.com/ikehiroki"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293968","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293968","notes":"https://gitlab.com/api/v4/projects/278964/issues/293968/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293968/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293968","relative":"#293968","full":"gitlab-org/gitlab#293968"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":690,"epic":{"id":2779,"iid":690,"title":"Snippets | Category Strategy","url":"/groups/gitlab-org/-/epics/690","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76108229,"iid":293952,"project_id":278964,"title":"Allow groups to be migrated as new top-level groups","description":"### Problem to solve\n\nWhen selecting groups to migrate from one instance of GitLab to another, the user is unable to select `\u003croot\u003e`, indicating that they want to migrate a group as a top-level group.\n\nMoreover, if the destination instance has no top-level groups, the UI fails. This scenario is exacerbated by the fact that having no top-level groups is a common situation for users who just set up their new GitLab instance and are looking to migrate their groups over.\n\n### Proposed solution\n\nThe user should be able to migrate their groups as new top-level groups in the new instance. A new `\u003croot\u003e` choice in the destination dropdown should always be available so that the users are not forced to migrate their top-level groups as subgroups.\n\n![No-Parent_v1](/uploads/19265208790f9e1fbb3885975a4dcc1f/No-Parent_v1.png)\n---\n#### [‚Üí Allow groups to be migrated as new top-level groups - Layout specs](https://www.figma.com/file/FTPGtI3P8KO2NuVbR3ndgL/293952-Create-a-top-level-group-during-migration?node-id=87%3A0)\n---\n#### [‚Üí Pajamas dropdown component specs (Figma file)](https://www.figma.com/file/qEddyqCrI7kPSBjGmwkZzQ/Component-library?node-id=425%3A14)\n---\n#### [‚Üí Pajamas forms component specs (Figma file)](https://www.figma.com/file/qEddyqCrI7kPSBjGmwkZzQ/Component-library?node-id=425%3A10)","state":"closed","created_at":"2020-12-15T23:56:26.434Z","updated_at":"2021-05-18T20:41:59.037Z","closed_at":"2021-03-02T09:57:15.202Z","closed_by":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"labels":["Category:Importers","GitLab Core","Importer:GitLab Migration","Next Up","UI text","UX","backend","devops::manage","direction","estimation::completed","frontend","group::import","milestone::p1","missed:13.9","section::dev","type::feature","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delaliƒá","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":1230286,"username":"xanf","name":"Illya Klymov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ce4d16557b46210fa57641531b570dd4?s=80\u0026d=identicon","web_url":"https://gitlab.com/xanf"},"user_notes_count":20,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293952","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293952","notes":"https://gitlab.com/api/v4/projects/278964/issues/293952/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293952/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293952","relative":"#293952","full":"gitlab-org/gitlab#293952"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4619,"epic":{"id":126564,"iid":4619,"title":"Group Migration - Parity with Group Export/Import","url":"/groups/gitlab-org/-/epics/4619","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76108131,"iid":293948,"project_id":278964,"title":"Spread CI minute reset workers over 8 hours instead of 3 hours","description":"As part of [Monthly run of `ClearSharedRunnersMinutesWorker` causes burden on gitlab.com database servers](https://gitlab.com/gitlab-org/gitlab/-/issues/260286), we've tried to [spread the CI minute reset workers over 3 hours](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/46927) for the 2020-12-01 run but as [this dashboard shows](https://dashboards.gitlab.net/d/general-incident-budget-explorer/general-incident-budget-explorer?orgId=1\u0026from=1606694400000\u0026to=1606867199000), we still have SLA drop to below 60% during the run.  This issue is to extend the existing code and spread the CI minute reset workers over **8 hours** instead of **3 hours (currently)**.\n\nThe 2020-12-01 run also caused another incident as documented: gitlab-com/gl-infra/production#3101\n\n**The goal of this issue to is to have this MR completed by the 2021-01-01 run**","state":"closed","created_at":"2020-12-15T23:48:24.772Z","updated_at":"2021-10-28T14:02:15.969Z","closed_at":"2020-12-28T20:02:15.902Z","closed_by":{"id":722076,"username":"matteeyah","name":"Matija ƒåupiƒá","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"labels":["Category:Continuous Integration","backend","bug::performance","corrective action","devops::verify","group::pipeline execution","section::ops","severity::2","type::maintenance","workflow::production"],"milestone":null,"assignees":[{"id":722076,"username":"matteeyah","name":"Matija ƒåupiƒá","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":5709468,"username":"cheryl.li","name":"Cheryl Li","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5709468/avatar.png","web_url":"https://gitlab.com/cheryl.li"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija ƒåupiƒá","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2020-12-31","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293948","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293948","notes":"https://gitlab.com/api/v4/projects/278964/issues/293948/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293948/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293948","relative":"#293948","full":"gitlab-org/gitlab#293948"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76107770,"iid":293946,"project_id":278964,"title":"Generic command Injections","description":"**[HackerOne report #1059557](https://hackerone.com/reports/1059557)** by `yvvdwf` on 2020-12-15, assigned to @rchan-gitlab:\n\n[Report](#report) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\nHello,\n\nThe descriptions of Feature flags are not sanitized enough. It currently use `Dompurify` to allow only `\u0026lt;strong\u0026gt;` tag and [*all DOM attributes*](https://gitlab.com/gitlab-org/gitlab/-/blob/a73629186ff0b6469a3c794f11c13bee7ae3b8e0/ee/app/assets/javascripts/audit_events/components/table_cells/html_table_cell.vue#L16) of this tag. This allows attackers to introduce any DOM attributes and when combining with other existing javascript functions on gitlab, attackers might trick victims to do any  PUT requests. \n\nThe following attack scenario allows setting a normal account as administrator.\n\n#####  Steps to reproduce\n\n**as Attackers**\n\n1.  In any existing project, or create a new project, go to `Operations/Feature Flags`, click `New feature flag` button.  \n2. Fill the form in `New feature flag` as the following:\n\n- Name: `XSS` (or anything, it is not important)  \n- Description: `\u0026lt;strong style=\u0026#34;position:absolute;top:0;left:0;right:0;bottom:0;z-index:99999\u0026#34; data-url=\u0026#34;/api/v4/users/USER_ID?admin=true\u0026#34; class=js-usage-consent-action\u0026gt;`. In the url above, please replace `USER_ID` by your user ID that is existing  in your gitlab instance.  \n- Click `Create feature flag` to save the flag\n\n**as Admin**  \n1. Go to `Admin area/Monitoring/Audit log`.  After opening the `Audit log`, you might notice that there exists a transparent layer on the topmost. That layer intercept any click events.  \n2. Click anywhere (to set the attacker as administrator)\n\n#####  Impact\n\nAttackers might use this vulnerable to escalate permission.\n\n#####  What is the current *bug* behavior?\n\nThe descriptions of feature flags are not sanitized correctly.\n\n#####  What is the expected *correct* behavior?\n\nAny DOM attributes of `\u0026lt;strong\u0026gt;` tags in the description of feature flags should be eliminated.\n\n#####  Output of checks\n\n######  Results of GitLab environment info\n\n(For installations with omnibus-gitlab package run and paste the output of:  \n`sudo gitlab-rake gitlab:env:info`)\n\n```  \nSystem information  \nSystem:\t\tUbuntu 18.04  \nProxy:\t\tno  \nCurrent User:\tgit  \nUsing RVM:\tno  \nRuby Version:\t2.7.2p137  \nGem Version:\t3.1.4  \nBundler Version:2.1.4  \nRake Version:\t13.0.1  \nRedis Version:\t5.0.9  \nGit Version:\t2.29.0  \nSidekiq Version:5.2.9  \nGo Version:\tunknown\n\nGitLab information  \nVersion:\t13.6.0-ee  \nRevision:\tc050e8fb184  \nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails  \nDB Adapter:\tPostgreSQL  \nDB Version:\t11.9  \nURL:\t\thttp://gl.local  \nHTTP Clone URL:\thttp://gl.local/some-group/some-project.git  \nSSH Clone URL:\tgit@gl.local:some-group/some-project.git  \nElasticsearch:\tno  \nGeo:\t\tno  \nUsing LDAP:\tno  \nUsing Omniauth:\tyes  \nOmniauth Providers: \n\nGitLab Shell  \nVersion:\t13.13.0  \nRepository storage paths:  \n- default: \t/var/opt/gitlab/git-data/repositories  \nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell  \nGit:\t\t/opt/gitlab/embedded/bin/git  \n```\n\n####  Impact\n\nAttackers might use this vulnerable to escalate permission.\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2020-12-15T23:27:59.278Z","updated_at":"2021-08-06T17:44:38.805Z","closed_at":"2021-07-02T09:39:20.918Z","closed_by":{"id":4086191,"username":"cmaxim","name":"Costel Maxim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4086191/avatar.png","web_url":"https://gitlab.com/cmaxim"},"labels":["Category:Feature Flags","HackerOne","Weakness::CWE-77","devops::manage","group::compliance","priority::1","section::ops","security","severity::2","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":398752,"username":"tancnle","name":"Tan Le","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/398752/avatar.png","web_url":"https://gitlab.com/tancnle"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293946","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293946","notes":"https://gitlab.com/api/v4/projects/278964/issues/293946/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293946/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293946","relative":"#293946","full":"gitlab-org/gitlab#293946"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":76105782,"iid":293933,"project_id":278964,"title":"Request re-review from already assigned reviewer","description":"## Problem to Solve\n\nAfter a reviewer has provided feedback on a merge request and an author has responded to that feedback, the reviewer needs to re-review the updates to make sure they meet the project standards and can be approved.\n\nCurrently, the only way to accomplish this would be requiring the reviewer to remove themselves and re-add them, or ping them in a comment inside of GitLab (or outside) to request this.\n\nThese are prone to error and unclear behavior on what the specific ask of the reviewer is.\n\n## Proposal\n\nWhen reviewers are assigned, authors should have the ability to request a re-review of their contribution. This would provide a notification to the reviewer(s) via email and To-Do so that they know they need to look at a Merge Request again.","state":"closed","created_at":"2020-12-15T21:57:00.331Z","updated_at":"2022-07-06T09:08:21.152Z","closed_at":"2021-02-09T08:33:52.533Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Category:Code Review Workflow","Deliverable","GitLab Core","Technical Writing","UX","devops::create","direction","docs::feature","documentation","feature::enhancement","frontend","frontend-weight::2","group::code review","section::dev","type::feature","workflow::in dev"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":626804,"username":"pedroms","name":"Pedro Moreira da Silva","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c306f087d191ac15549f3c11e3bed321?s=80\u0026d=identicon","web_url":"https://gitlab.com/pedroms"}],"author":{"id":2935693,"username":"phikai","name":"Kai Armstrong","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2c5d6a63b41cbeb3ea4cccda82e758e1?s=80\u0026d=identicon","web_url":"https://gitlab.com/phikai"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":10,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293933","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293933","notes":"https://gitlab.com/api/v4/projects/278964/issues/293933/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293933/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293933","relative":"#293933","full":"gitlab-org/gitlab#293933"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5074,"epic":{"id":163755,"iid":5074,"title":"MR Reviewer Handoff and Workflow","url":"/groups/gitlab-org/-/epics/5074","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76105566,"iid":293932,"project_id":278964,"title":"Update Cilium agent module to support L7 rules","description":"Implementation plan:\n - Based on what has been done in https://gitlab.com/gitlab-org/gitlab/-/issues/277156\n\nRelated code:\nFlow related: https://github.com/cilium/cilium/blob/v1.8/api/v1/flow/flow.pb.go#L288 and https://github.com/cilium/cilium/blob/v1.8/pkg/monitor/api/types.go\nRules related: https://github.com/cilium/cilium/blob/v1.8/pkg/policy/api/ingress.go#L69 and https://github.com/cilium/cilium/blob/v1.8/pkg/policy/api/egress.go#L71","state":"closed","created_at":"2020-12-15T21:46:02.762Z","updated_at":"2021-04-21T07:46:35.911Z","closed_at":"2021-04-21T07:46:35.798Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["auto updated","backend","backend-weight::3","devops::govern","group::security policies","missed:13.8","section::sec","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293932","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293932","notes":"https://gitlab.com/api/v4/projects/278964/issues/293932/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293932/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293932","relative":"#293932","full":"gitlab-org/gitlab#293932"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4595,"epic":{"id":125710,"iid":4595,"title":"Security Policy Management Minimal to Viable","url":"/groups/gitlab-org/-/epics/4595","group_id":9970,"human_readable_end_date":"May 22, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":76105553,"iid":293931,"project_id":278964,"title":"Update Cilium agent module to support L4 rules","description":"Implementation plan:\n - Based on what has been done in https://gitlab.com/gitlab-org/gitlab/-/issues/277156\n\nRelated code:\nFlow related: https://github.com/cilium/cilium/blob/v1.8/api/v1/flow/flow.pb.go#L277\nRules related: https://github.com/cilium/cilium/blob/v1.8/pkg/policy/api/ingress.go#L69 and https://github.com/cilium/cilium/blob/v1.8/pkg/policy/api/egress.go#L71","state":"closed","created_at":"2020-12-15T21:45:28.829Z","updated_at":"2021-02-09T21:19:46.213Z","closed_at":"2021-02-09T05:54:41.218Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["auto updated","backend","backend-weight::3","devops::govern","group::security policies","missed:13.8","section::sec","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293931","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293931","notes":"https://gitlab.com/api/v4/projects/278964/issues/293931/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293931/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293931","relative":"#293931","full":"gitlab-org/gitlab#293931"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3438,"epic":{"id":60085,"iid":3438,"title":"MVC: Initial Project Level Alert Dashboard","url":"/groups/gitlab-org/-/epics/3438","group_id":9970,"human_readable_end_date":"Dec 12, 2020","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76105511,"iid":293930,"project_id":278964,"title":"Add yamllint of configuration files to API Fuzzing linting job","description":"### Problem\n\nAPI Fuzzing has a configuration file in the YAML format. While the files are valid yaml, they do not pass the `yamllint` tool that is part of the GitLab toolchain. This happens during GitLab pipelines preventing use of API Fuzzing for GitLab dogfooding.\n\nThis only prevents use with GitLab monolith pipelines. A workaround is to manually resolve linting errors.\n\n### Proposal\n\n1. [x] Include `yamllint` as part of `linting` job for the `web/SDK/configs` folder\n1. [x] Fix any linting errors\n1. [x] Checking new config default to `api-fuzzing`","state":"closed","created_at":"2020-12-15T21:43:26.560Z","updated_at":"2021-10-13T14:51:19.435Z","closed_at":"2021-01-15T21:26:04.539Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","Dogfooding","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","priority::3","section::sec","severity::4","type::bug","workflow::scheduling"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293930","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293930","notes":"https://gitlab.com/api/v4/projects/278964/issues/293930/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293930/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293930","relative":"#293930","full":"gitlab-org/gitlab#293930"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76105217,"iid":293927,"project_id":278964,"title":"Package event counts are not aggregated correctly","description":"Following up the introduction of package event metrics, we ended up with metrics aggregated like so:\n\n```ruby\n\"nuget_packages\"=\u003e\n    {\"i_package_nuget_deploy_token_delete_weekly\"=\u003e0,\n     \"i_package_nuget_deploy_token_delete_monthly\"=\u003e0,\n     \"i_package_nuget_deploy_token_pull_weekly\"=\u003e72,\n     \"i_package_nuget_deploy_token_pull_monthly\"=\u003e72,\n     \"i_package_nuget_deploy_token_push_weekly\"=\u003e30,\n     \"i_package_nuget_deploy_token_push_monthly\"=\u003e30,\n     \"i_package_nuget_user_delete_weekly\"=\u003e0,\n     \"i_package_nuget_user_delete_monthly\"=\u003e0,\n     \"i_package_nuget_user_pull_weekly\"=\u003e112,\n     \"i_package_nuget_user_pull_monthly\"=\u003e112,\n     \"i_package_nuget_user_push_weekly\"=\u003e56,\n     \"i_package_nuget_user_push_monthly\"=\u003e56,\n     \"nuget_packages_total_unique_counts_weekly\"=\u003e227,\n     \"nuget_packages_total_unique_counts_monthly\"=\u003e227},\n```\n\nThe counts are grouped by package type, putting both `user` and `deploy` tokens in the same bucket.\nThis is inconsistent as they are separate types of events and the numbers don't make sense when added together.\n\nThe structure should be something like:\n\n\n```ruby\n\"user_packages\"=\u003e\n    {\n      \"i_package_user_nuget_montly\"=\u003e0,\n      \"i_package_user_composer_montly\"=\u003e0,\n      \"user_packages_total_unique_counts_monthly\" =\u003e 0\n     },\n\n\"deploy_token_packages\" =\u003e\n    {\n      \"i_package_deploy_token_nuget_montly\"=\u003e0,\n      \"i_package_deploy_token_composer_montly\"=\u003e0,\n      \"deploy_token_packages_total_unique_counts_monthly\" =\u003e 0\n     },\n```\n\n\nSee https://gitlab.com/gitlab-org/gitlab/-/issues/205578 for more.","state":"closed","created_at":"2020-12-15T21:28:21.868Z","updated_at":"2021-01-08T23:38:02.073Z","closed_at":"2021-01-08T23:38:02.022Z","closed_by":{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"},"labels":["Category:Package Registry","backend","devops::package","group::package registry","missed:13.7","ruby","section::ops","type::bug","workflow::in review"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"}],"author":{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"},"type":"ISSUE","assignee":{"id":4262651,"username":"ggelatti","name":"Giorgenes Gelatti","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4262651/avatar.png","web_url":"https://gitlab.com/ggelatti"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293927","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293927","notes":"https://gitlab.com/api/v4/projects/278964/issues/293927/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293927/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293927","relative":"#293927","full":"gitlab-org/gitlab#293927"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76104850,"iid":293925,"project_id":278964,"title":"fetch iterations from inherited cadences (sidebar, filter bar)","description":"This is a task as part of https://gitlab.com/groups/gitlab-org/-/epics/5077\n\nTo Do:\n\n- [x] fetch iterations from inherited cadences. There will be one cadence per group in this iteration\n- [x] we fetch iterations on Issues \u003e Iterations page\n- [x] we need to fetch iterations on Show Issue page\n- [ ] we need to fetch iterations on Filtering bar\n- [x] Show all fetched iterations grouped by their cadence in the relevant drop downs.\n  - [x] issue sidebar dropdown (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63643)\n  - [x] group and project board drawer dropdown (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63643)\n  - [x] group and project issue list bulk edit sidebar dropdown (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63643)\n  - [x] group and project issue list filtered search bar (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72796)\n  - [x] group and project board filtered search bar (https://gitlab.com/gitlab-org/gitlab/-/merge_requests/72341)","state":"closed","created_at":"2020-12-15T21:09:59.646Z","updated_at":"2022-03-16T13:13:05.403Z","closed_at":"2022-01-21T21:51:13.668Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["Deliverable","Technical Writing","devops::plan","documentation","frontend","group::project management","missed-deliverable","missed:13.11","missed:13.12","missed:13.9","missed:14.0","missed:14.2","missed:14.3","missed:14.4","missed:14.5","missed:14.6","missed:14.7","quad-planning::complete-no-action","section::dev","tw-weight::1","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293925","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":10,"completed_count":9},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"9 of 10 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293925","notes":"https://gitlab.com/api/v4/projects/278964/issues/293925/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293925/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293925","relative":"#293925","full":"gitlab-org/gitlab#293925"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5077,"epic":{"id":163847,"iid":5077,"title":"Support multiple, automated Iteration Cadences","url":"/groups/gitlab-org/-/epics/5077","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":38171,"iid":45,"sequence":6,"group_id":9970,"title":"Iteration 6: January 05, 2022 - January 18, 2022","description":null,"state":3,"created_at":"2021-10-22T17:12:40.556Z","updated_at":"2022-01-19T00:05:02.772Z","start_date":"2022-01-05","due_date":"2022-01-18","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/38171"},"health_status":null},{"id":76104798,"iid":293923,"project_id":278964,"title":"show cadences from ancestors","description":"This is a task as part of https://gitlab.com/groups/gitlab-org/-/epics/5077\n\nTo Do:\n\n- [ ] show all cadences from project ancestors within /-/iterations\n- [ ] show iterations from project ancestors grouped by cadences within\n   - [ ] dropdowns\n   - [ ] filters\n   - [ ] autocomplete lists","state":"closed","created_at":"2020-12-15T21:06:47.859Z","updated_at":"2021-06-18T07:06:43.452Z","closed_at":"2021-05-24T16:53:40.656Z","closed_by":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"labels":["Deliverable","[deprecated] Accepting merge requests","backend","devops::plan","frontend","group::project management","missed-deliverable","missed:13.12","missed:13.8","missed:13.9","quad-planning::complete-no-action","section::dev","workflow::ready for development"],"milestone":{"id":1850113,"iid":60,"group_id":9970,"title":"14.0","description":"","state":"closed","created_at":"2021-01-26T16:55:07.714Z","updated_at":"2022-04-21T07:25:17.749Z","due_date":"2021-06-17","start_date":"2021-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/60"},"assignees":[],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293923","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293923","notes":"https://gitlab.com/api/v4/projects/278964/issues/293923/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293923/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/293925"},"references":{"short":"#293923","relative":"#293923","full":"gitlab-org/gitlab#293923"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5077,"epic":{"id":163847,"iid":5077,"title":"Support multiple, automated Iteration Cadences","url":"/groups/gitlab-org/-/epics/5077","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76104775,"iid":293922,"project_id":278964,"title":"alter iteration validation rules so that it checks for overlapping dates within a single cadence","description":"This is a task as part of https://gitlab.com/groups/gitlab-org/-/epics/5077\n\nTo Do:\n\n- [x] alter iteration validation rules so that it checks for overlapping dates within a single cadence\n- [x] remove `iteration_start_and_due_daterange_group_id_constraint` and replace it with a constraint that will be using cadence_id","state":"closed","created_at":"2020-12-15T21:05:26.869Z","updated_at":"2021-03-18T07:06:11.313Z","closed_at":"2021-03-02T20:29:09.431Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["Deliverable","backend","devops::plan","group::project management","missed-deliverable","missed:13.9","quad-planning::complete-no-action","section::dev","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293922","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293922","notes":"https://gitlab.com/api/v4/projects/278964/issues/293922/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293922/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293922","relative":"#293922","full":"gitlab-org/gitlab#293922"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5077,"epic":{"id":163847,"iid":5077,"title":"Support multiple, automated Iteration Cadences","url":"/groups/gitlab-org/-/epics/5077","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76104732,"iid":293921,"project_id":278964,"title":"wrap current iterations at a group level into an iteration cadence","description":"This is a task as part of https://gitlab.com/groups/gitlab-org/-/epics/5077\n\nTo Do:\n\n- [x] DB migration to create an iteration on each group that has at least one iteration\n- [x] Wrap current iterations at a group level into an iteration cadence","state":"closed","created_at":"2020-12-15T21:03:17.570Z","updated_at":"2021-03-01T14:09:12.229Z","closed_at":"2021-03-01T14:09:12.145Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["backend","devops::plan","group::project management","missed:13.8","missed:13.9","quad-planning::complete-no-action","section::dev","workflow::in review"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Ko≈°anov√°","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293921","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293921","notes":"https://gitlab.com/api/v4/projects/278964/issues/293921/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293921/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293921","relative":"#293921","full":"gitlab-org/gitlab#293921"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5077,"epic":{"id":163847,"iid":5077,"title":"Support multiple, automated Iteration Cadences","url":"/groups/gitlab-org/-/epics/5077","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76101934,"iid":293905,"project_id":278964,"title":"[Group Templates] Fix an issue with file templates pulling same content for templates with same names from different paths","description":"This is a task for https://gitlab.com/groups/gitlab-org/-/epics/411.","state":"closed","created_at":"2020-12-15T19:26:56.563Z","updated_at":"2021-02-17T11:16:21.290Z","closed_at":"2021-02-17T11:16:20.907Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["backend","devops::plan","frontend","group::project management","missed:13.8","quad-planning::complete-no-action","section::dev","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293905","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293905","notes":"https://gitlab.com/api/v4/projects/278964/issues/293905/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293905/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293905","relative":"#293905","full":"gitlab-org/gitlab#293905"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":411,"epic":{"id":1193,"iid":411,"title":"Group templates for issues, issue boards, epics, and merge requests.","url":"/groups/gitlab-org/-/epics/411","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e633\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":76101437,"iid":293901,"project_id":278964,"title":"Deprecate/Remove pipeline total duration from the Analytics Page","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Problem to solve \n\nRemove the `Total duration` statistic from the `Project -\u003e Analytics -\u003e CI/CD` page\n\n![Screen_Shot_2020-12-15_at_11.53.51](/uploads/2a0f29bb437e986e387f501d92348c24/Screen_Shot_2020-12-15_at_11.53.51.png)\n\n\n### Further details\n\nAs part of our current efforts to reduce the LCP (Largest Content Paint) metrics across GitLab, the Analytics -\u003e CI/CD page current has among the highest LCP numbers, and while https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48267 has helped reduced this number a bit, on production the \"Total duration\" metric it's causing a 500 error due to significant amount of time that the query needs to run on the GitLab project. Smaller projects are unaffected if the number of pipelines are low but as the number of pipelines increases, the query will start taking significantly more time until it times out.\n\nThe proposed solution involves removing this metric from both the frontend and backend, since there's no easy way to calculate this metric even with optimizations to it. There are other ways to  access this information across the product\n\n### Links / references\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/285147","state":"closed","created_at":"2020-12-15T19:09:00.580Z","updated_at":"2021-10-28T14:02:16.415Z","closed_at":"2021-01-11T16:17:13.071Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","backend","devops::verify","frontend","group::pipeline execution","section::ops","type::maintenance","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293901","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293901","notes":"https://gitlab.com/api/v4/projects/278964/issues/293901/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293901/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293901","relative":"#293901","full":"gitlab-org/gitlab#293901"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76100517,"iid":293900,"project_id":278964,"title":"Project specific asdf version should not conflict with SAST image asdf versions","description":"### Summary\n\nThe SAST spotbug image used in the SAST gitlab pipeline declares a Java version using asdf [here](https://gitlab.com/gitlab-org/security-products/analyzers/spotbugs/-/blob/master/config/.tool-versions). This .tool-versions file is then placed under the /root directory in the docker image. When the analyzer is run for a project checked out as part of a pipeline, this may conflict with the project specific .tools-versions java version as the analyzer is run in the directory of the checked out project.\nThe pipeline or the image itself should account for this as the project's Java versions should not be beholden to the java version the spotbug image expects. \n\n### Steps to reproduce\n\n- Create a project with a .tool-version that declares a java version \n- Run the SAST pipeline\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nWhen the analyzer is run for a project checked out as part of a pipeline, this may conflict with the project specific .tools-versions java version as the analyzer is run in the directory of the checked out project.\n\n### What is the expected *correct* behavior?\n\nThe pipeline or the image itself should account for this as the project's Java versions should not be beholden to the java version the spotbug image expects.\n\n### Relevant logs and/or screenshots\n```\nResolving secrets\n00:00\nPreparing the \"docker+machine\" executor\n00:49\nUsing Docker executor with image registry.gitlab.com/gitlab-org/security-products/analyzers/spotbugs:2 ...\nAuthenticating with credentials from job payload (GitLab Registry)\nPulling docker image registry.gitlab.com/gitlab-org/security-products/analyzers/spotbugs:2 ...\nUsing docker image sha256:acc3e9767d6979e3ef9aefe46d43094eb31b2ced625ccbe482b4a08d34cab639 for registry.gitlab.com/gitlab-org/security-products/analyzers/spotbugs:2 with digest registry.gitlab.com/gitlab-org/security-products/analyzers/spotbugs@sha256:e8fc2099b17670e14e1fc024ca0413fd0dd7814eca802c4054293f99f585a9e4 ...\nPreparing environment\n00:07\nRunning on runner-j69qxpbf-project-22386562-concurrent-0 via runner-j69qxpbf-runner-1607722647-d148db37...\nGetting source from Git repository\n00:02\nFetching changes with git depth set to 50...\nInitialized empty Git repository in /builds/....\nCreated fresh repository.\nChecking out 81151eab as master...\nSkipping Git submodules setup\nExecuting \"step_script\" stage of the job script\n00:01\n$ /analyzer run\n[INFO] [Find Security Bugs] [2020-12-11T21:40:26Z] ‚ñ∂ GitLab Find Security Bugs analyzer v2.14.1\n[INFO] [Find Security Bugs] [2020-12-11T21:40:26Z] ‚ñ∂ Detecting project\n[INFO] [Find Security Bugs] [2020-12-11T21:40:26Z] ‚ñ∂ Found project in /builds/heb-engineering/teams/customer-experience-engineering/chiltepin-squad/heb-ecom-delivery-availability/das-admin-api\n[INFO] [Find Security Bugs] [2020-12-11T21:40:26Z] ‚ñ∂ Running analyzer\n[DEBU] [Find Security Bugs] [2020-12-11T21:40:26Z] ‚ñ∂ /bin/bash -c source /root/.bashrc \u0026\u0026 switch_to java 8\nNo preset version installed for command java\nPlease install a version by running one of the following:\nasdf install java openjdk-11.0.2\nor add one of the following versions in your config file at /builds/...\njava adoptopenjdk-8.0.275+1\njava adoptopenjdk-11.0.9+101\n[INFO] [Find Security Bugs] [2020-12-11T21:40:26Z] ‚ñ∂ Found Maven project in /builds/...\n[INFO] [Find Security Bugs] [2020-12-11T21:40:26Z] ‚ñ∂ Found 1 analyzable projects.\n[INFO] [Find Security Bugs] [2020-12-11T21:40:26Z] ‚ñ∂ Building Maven project at /builds/....\n[DEBU] [Find Security Bugs] [2020-12-11T21:40:27Z] ‚ñ∂ /opt/asdf/shims/mvn -Dmaven.repo.local=/root/.m2/repository --batch-mode -DskipTests=true install\nNo preset version installed for command java\nPlease install a version by running one of the following:\nasdf install java openjdk-11.0.2\nor add one of the following versions in your config file at ...\njava adoptopenjdk-8.0.275+1\njava adoptopenjdk-11.0.9+101\n[ERRO] [Find Security Bugs] [2020-12-11T21:40:27Z] ‚ñ∂ Project couldn't be built: exit status 126\n[FATA] [Find Security Bugs] [2020-12-11T21:40:27Z] ‚ñ∂ exit status 126\nUploading artifacts for failed job\n00:00\nUploading artifacts...\nWARNING: gl-sast-report.json: no matching files    \nERROR: No files to upload                          \nCleaning up file based variables\n00:01\nERROR: Job failed: exit code \n```\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Workarounds\n\n- add a before_script delete the .tool_versions of the project (This is our current work around)\n- add a before_script to run asdf install (pathing and installation of asdf on the spotbug image makes this a bit tedious/not obvious)\n\n### Possible Fixes\n\n- Specify `ASDF_DEFAULT_TOOL_VERSIONS_FILENAME` as alternate path for packaged `.tool-versions` within container.","state":"closed","created_at":"2020-12-15T18:34:18.190Z","updated_at":"2022-02-21T09:58:26.048Z","closed_at":"2022-02-16T01:38:17.438Z","closed_by":{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"},"labels":["Category:SAST","Deliverable","Eng-Consumer::Development","Eng-Producer::Development","Engineering Allocation","backend","devops::secure","group::static analysis","missed-deliverable","missed:14.6","missed:14.7","priority::3","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"}],"author":{"id":3362896,"username":"kang.sung","name":"Sung Kang","state":"active","avatar_url":"https://secure.gravatar.com/avatar/1ab647f0a621cb92ebfb5d9a302057ee?s=80\u0026d=identicon","web_url":"https://gitlab.com/kang.sung"},"type":"ISSUE","assignee":{"id":5057937,"username":"dsearles","name":"Daniel Paul Searles","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5057937/avatar.png","web_url":"https://gitlab.com/dsearles"},"user_notes_count":27,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293900","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293900","notes":"https://gitlab.com/api/v4/projects/278964/issues/293900/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293900/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293900","relative":"#293900","full":"gitlab-org/gitlab#293900"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76100333,"iid":293899,"project_id":278964,"title":"Support Java 15 for License Compliance","description":"### Release notes\n\nJava 15 is now supported for License Compliance based on customer requests. You can see the full list of supported package managers and languages here: https://docs.gitlab.com/ee/user/compliance/license_compliance/#supported-languages-and-package-managers\n\n### Problem to solve\n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nJava 15 came out, we know Java is a popular language choice by our users, we should seek to support it.\n\nPlease review current support and plan for what changes need to be made for this to be supported and tested\n\n\n### Implementation plan\n\n1. `.gitlab/deb.yml`: Add CI job for `deb` stage for Java 15 `.gitlab/deb.yml`\n1. ~~`config/files/.tool-versions`: change default java version to 15~~\n1. ~~`config/projects/java.rb`: change to default fetch version to 15~~\n1. `config/software/asdf_java.rb`: ~~change default version to 15~~ and add `version \"15\"` block\n1. Fix failed tests related to changing default version\n1. Add integration tests to `spec/integration/java/` to test behaviour with Java 15.\n1. Bump version of the analyser and add changelog entry.\n\n### Links / references\n\n\u003c!--  Label reminders - you should have one of each of the following labels if you can figure out the correct ones --\u003e","state":"closed","created_at":"2020-12-15T18:26:18.032Z","updated_at":"2021-08-18T07:06:10.840Z","closed_at":"2021-08-10T19:16:14.061Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:License Compliance","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","missed-deliverable","missed:14.1","release post item","release post item::in review","section::sec","type::feature","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":3913516,"username":"NicoleSchwartz","name":"Nicole Schwartz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3913516/avatar.png","web_url":"https://gitlab.com/NicoleSchwartz"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293899","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293899","notes":"https://gitlab.com/api/v4/projects/278964/issues/293899/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293899/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293899","relative":"#293899","full":"gitlab-org/gitlab#293899"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":1662,"epic":{"id":10152,"iid":1662,"title":"License Compliance (License Scanning) - Minimal to Viable (again)","url":"/groups/gitlab-org/-/epics/1662","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":"on_track"},{"id":76099691,"iid":293897,"project_id":278964,"title":"Leverage input types in DAST GraphQL queries","description":"Over the last few months, we've introduced several DAST-related GraphQL mutations. Up until now, we've always written their `input` explicitly in the client-side `.graphql` files. This could be improved by leveraging input types defined in [`doc/api/graphql/reference/gitlab_schema.graphql`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/api/graphql/reference/gitlab_schema.graphql).\n\nFor example, [`dast_site_profile_create.mutation.graphql`](https://gitlab.com/gitlab-org/gitlab/-/blob/9a9fbe7970ae7c06f19d4451794752335710ba69/ee/app/assets/javascripts/security_configuration/dast_site_profiles_form/graphql/dast_site_profile_create.mutation.graphql) could be cleaned up with a couple changes:\n\n```patch\ndiff --git a/ee/app/assets/javascripts/security_configuration/dast_site_profiles_form/components/dast_site_profile_form.vue b/ee/app/assets/javascripts/security_configuration/dast_site_profiles_form/components/dast_site_profile_form.vue\nindex 0450c96ab6d..1587423f08f 100644\n--- a/ee/app/assets/javascripts/security_configuration/dast_site_profiles_form/components/dast_site_profile_form.vue\n+++ b/ee/app/assets/javascripts/security_configuration/dast_site_profiles_form/components/dast_site_profile_form.vue\n@@ -105,9 +105,11 @@ export default {\n       const { errorMessage } = this.i18n;\n \n       const variables = {\n-        fullPath: this.fullPath,\n-        ...(this.isEdit ? { id: this.siteProfile.id } : {}),\n-        ...serializeFormObject(this.form.fields),\n+        input: {\n+          fullPath: this.fullPath,\n+          ...(this.isEdit ? { id: this.siteProfile.id } : {}),\n+          ...serializeFormObject(this.form.fields),\n+        }\n       };\n \n       this.$apollo\ndiff --git a/ee/app/assets/javascripts/security_configuration/dast_site_profiles_form/graphql/dast_site_profile_create.mutation.graphql b/ee/app/assets/javascripts/security_configuration/dast_site_profiles_form/graphql/dast_site_profile_create.mutation.graphql\nindex bb7d7f030b4..a49b0daa64f 100644\n--- a/ee/app/assets/javascripts/security_configuration/dast_site_profiles_form/graphql/dast_site_profile_create.mutation.graphql\n+++ b/ee/app/assets/javascripts/security_configuration/dast_site_profiles_form/graphql/dast_site_profile_create.mutation.graphql\n@@ -1,7 +1,5 @@\n-mutation dastSiteProfileCreate($fullPath: ID!, $profileName: String!, $targetUrl: String) {\n-  dastSiteProfileCreate(\n-    input: { fullPath: $fullPath, profileName: $profileName, targetUrl: $targetUrl }\n-  ) {\n+mutation dastSiteProfileCreate($input: DastSiteProfileCreateInput!) {\n+  dastSiteProfileCreate(input: $input) {\n     id\n     errors\n   }\n```\n\nLet's review our current mutations and replace their individual payload parameters by a single input type when possible.\n\n- [x] `dastOnDemandScanCreate`: `DastOnDemandScanCreateInput`\n- [x] `dastScannerProfileDelete`: `DastScannerProfileDeleteInput`\n- [x] `dastSiteProfileDelete`: `DastSiteProfileDeleteInput`\n- [x] `dastScannerProfileCreate`: `DastScannerProfileCreateInput`\n- [x] `dastScannerProfileUpdate`: `DastScannerProfileUpdateInput`\n- [x] `dastSiteProfileCreate`: `DastSiteProfileCreateInput`\n- [x] `dastSiteProfileUpdate`: `DastSiteProfileUpdateInput`","state":"closed","created_at":"2020-12-15T18:08:40.418Z","updated_at":"2020-12-17T14:14:45.751Z","closed_at":"2020-12-17T13:37:15.657Z","closed_by":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"labels":["Category:DAST","GraphQL","devops::secure","frontend","group::dynamic analysis","maintenance::refactor","section::sec","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"}],"author":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"type":"ISSUE","assignee":{"id":3732265,"username":"pgascouvaillancourt","name":"Paul Gascou-Vaillancourt","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a190c0b1ff5772c9230b4d9a38ac608?s=80\u0026d=identicon","web_url":"https://gitlab.com/pgascouvaillancourt"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293897","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":7,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 7 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293897","notes":"https://gitlab.com/api/v4/projects/278964/issues/293897/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293897/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293897","relative":"#293897","full":"gitlab-org/gitlab#293897"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76099690,"iid":293896,"project_id":278964,"title":"Follow-up from \"Added DAST path to display on vulnerabilities list\"","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/243569 we added the omitted DAST path to the security dashboard. There were a few callouts in the review that would simplify the code and bring us further to a standard approach for data types. \n\nThe following discussions from !49616 should be addressed:\n\n- [x] @markrian started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49616#note_467453801): \n\n    \u003e **thought**: We'll need to be careful here in future, if, say, Dependency Scanning, SAST or Secret Scanning end up adding a `path` to their `location` field as well, since in that case the path will be shown instead of the file. Still, that'd be a minor bug we may never have to deal with :slight_smile:\n\n- [x] @markrian started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49616#note_467455922): \n\n    \u003e **thought**: I feel like this is somewhat duplicating the logic/dependencies of the `createLocationString`, and that this should instead be something like:\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e       return Boolean(this.locationString);\n    \u003e ```\n    \u003e \n    \u003e and the `createLocationString` method should be turned into a `locationString` computed prop.\n\n\n### Implementation Plan\n\n- [x] Update `ee/app/assets/javascripts/security_dashboard/components/shared/vulnerability_list.vue`\n   - [x] [Give `file` path preference than `path` ](https://gitlab.com/gitlab-org/gitlab/blob/dde9f6e450fd91407accd3fb84f125a175250342/ee/app/assets/javascripts/security_dashboard/components/shared/vulnerability_list.vue#L206-210)\n   - [x] Move `Boolean(item.location.image || item.location.file || item.location.path);` to use `createLocationString` instead\n- [x] Update specs","state":"closed","created_at":"2020-12-15T18:08:37.882Z","updated_at":"2023-01-12T14:53:11.127Z","closed_at":"2023-01-12T14:53:11.105Z","closed_by":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"labels":["Category:DAST","Category:Vulnerability Management","devops::secure","follow-up","frontend","group::dynamic analysis","missed:14.6","missed:14.7","section::sec","security dashboard","type::maintenance","workflow::complete"],"milestone":null,"assignees":[{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"}],"author":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"type":"ISSUE","assignee":{"id":10762712,"username":"arfedoro","name":"Artur Fedorov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10762712/avatar.png","web_url":"https://gitlab.com/arfedoro"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293896","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293896","notes":"https://gitlab.com/api/v4/projects/278964/issues/293896/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293896/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293896","relative":"#293896","full":"gitlab-org/gitlab#293896"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76099119,"iid":293891,"project_id":278964,"title":"When replying to a Diff discussion (with a suggestion) the suggestions are not working properly in the reply box","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\n| header | header |\n| ------ | ------ |\n| When you add a comment on a line (top level), the suggestions work as expected: | \u003cimg src=\"/uploads/34aaa9fcb2f05e5a71b5bcc891db8a94/Screenshot_2020-12-15_at_17.40.52.png\" width=\"400\"\u003e |\n| When replying to an existing discussion, the suggestion comes up empty: | \u003cimg src=\"/uploads/92b3faa277280dfbff73d42cec63d386/Screenshot_2020-12-15_at_17.41.19.png\" width=\"400\"\u003e |\n| On some occasions, it picks up the wrong content (from a neighbouring line?): | \u003cimg src=\"/uploads/eee5b65c0722ef52fcd4b581d88d3eda/Capture_d_eÃÅcran_2020-12-15_aÃÄ_10.50.36.png\" width=\"500\"\u003e |\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n1. Go to an MR.\n1. Start a thread with a suggestion on any diff line\n1. Reply to that thread with a suggestion.\n\nSee that on step 3 suggestions are empty/wrong.\n\n**Transient behaviour:** Seems like it depends on whether the top level has a discussion or not. :thinking: \n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nTried here: https://gitlab.com/andr3/meet.andr3.net/-/merge_requests/24/diffs\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nThe wrong line populates the suggestion snippet added to the text area.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nThe correct line populates the suggestion snippet added to the text area.","state":"closed","created_at":"2020-12-15T17:50:24.114Z","updated_at":"2021-02-18T07:07:06.112Z","closed_at":"2021-01-22T08:42:30.871Z","closed_by":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"labels":["Deliverable","bug::transient","devops::create","frontend","group::code review","priority::2","section::dev","severity::2","type::bug"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"}],"author":{"id":853414,"username":"andr3","name":"Andr√© Lu√≠s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293891","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293891","notes":"https://gitlab.com/api/v4/projects/278964/issues/293891/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293891/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293891","relative":"#293891","full":"gitlab-org/gitlab#293891"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76098497,"iid":293871,"project_id":278964,"title":"üé® Design: Update site profile table","description":"### Proposal\n\n![manage-site-profiles--validated](/uploads/c8c45489bc302ac3f884f1c2d55bee0c/manage-site-profiles--validated.png)\n\n### Design notes\n\n- Add table header\n- `Validation status` help icon links to site validation docs\n- Tertiary button for `Validate` and `Revoke validation`\n- Use badges to denote status\n- Add `Edit` and `Delete` to dropdown\n- Entire row highlights on hover; click will go to `Edit` page\n\n**Figma:** https://www.figma.com/file/7CaJqOTOpPEOzkYkoU5bs5/DAST-Ondemand-Profile?node-id=5214%3A41015\n\n\n| Before | After |\n| ------ | ------ |\n| \u003cimg src=\"/uploads/950dc9507230f4379b132d8ab8d0b298/Screen_Shot_2020-12-15_at_6.14.52_AM.png\" width=\"800px\"\u003e | \u003cimg src=\"/uploads/711b369472bb59031b253771f9590ba2/manage-site-profiles--validated.png\" width=\"800px\"\u003e |","state":"closed","created_at":"2020-12-15T17:29:57.144Z","updated_at":"2021-04-03T08:51:59.058Z","closed_at":"2020-12-21T14:23:29.914Z","closed_by":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"labels":["Category:DAST","UX","devops::secure","group::dynamic analysis","section::sec","workflow::planning breakdown"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"}],"author":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"type":"ISSUE","assignee":{"id":201566,"username":"annabeldunstone","name":"Annabel Dunstone Gray","state":"active","avatar_url":"https://secure.gravatar.com/avatar/85c0203926134720f9a9aa8c6e264c78?s=80\u0026d=identicon","web_url":"https://gitlab.com/annabeldunstone"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293871","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293871","notes":"https://gitlab.com/api/v4/projects/278964/issues/293871/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293871/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293871","relative":"#293871","full":"gitlab-org/gitlab#293871"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76097949,"iid":293869,"project_id":278964,"title":"Improve ee/app/views/registrations/projects/new.html.haml","description":"\n\u003e I see we are merely following the current setup of the page here with the classes used and such... Would it be too far out of scope to utilize gitlab-ui classes here? or we could open a follow-up to handle converting the whole template/page?","state":"closed","created_at":"2020-12-15T17:13:26.437Z","updated_at":"2021-04-15T14:07:35.484Z","closed_at":"2021-04-15T14:07:35.388Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","frontend","group::acquisition","section::growth"],"milestone":{"id":1406669,"iid":59,"group_id":9970,"title":"13.11","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-08-13T14:23:09.688Z","updated_at":"2022-04-21T07:22:08.835Z","due_date":"2021-04-17","start_date":"2021-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/59"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293869","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293869","notes":"https://gitlab.com/api/v4/projects/278964/issues/293869/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293869/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293869","relative":"#293869","full":"gitlab-org/gitlab#293869"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76097116,"iid":293867,"project_id":278964,"title":"Automate an Iteration Cadence","description":"\u003c!--¬†The¬†first¬†four¬†sections:¬†\"Problem¬†to¬†solve\",¬†\"Intended¬†users\", \"User experience goal\",¬†and¬†\"Proposal\",¬†are¬†strongly¬†recommended,¬†while¬†the¬†rest¬†of¬†the¬†sections¬†can¬†be¬†filled¬†out¬†during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution.¬†--\u003e\n\n### Problem to solve\n\nThis is part of a workstream to automate iteration cadences and support more flexibility for teams that share projects. The full problem statement can be found here -- https://gitlab.com/groups/gitlab-org/-/epics/5077#problems-to-solve\n\n### Proposal\n\n- BE\n  - handle automatic creation of iterations within a cadences\n    - have a background job that generates future iterations based on future iterations setting\n  - when the option to automatically roll open issues from a closed iteration to the next iteration is enabled, automatically move open issues to the next iteration and ensure the `relative_position` of all issues rolling over is higher than the other issues that are also in the next iteration. \n   - background job tied to iteration close event to move issues to next iteration\n* FE\n  * handle iteration source change\n    * dropdown to pick new iterations source\n    * UI/UX to handle the change of the source, maybe some wizard to map iterations from one source to another to allow for issues migration ?\n\nThis is the third step towards https://gitlab.com/groups/gitlab-org/-/epics/5077#note_467401527\n\n### Further details\n\nAllows historical data to be migrated into the project from external services.\n\n### UX \u0026 Vertical Feature Slices\n\n![New_cadence_-_automated](https://gitlab.com/gitlab-org/gitlab/uploads/77ceb6ad6e77ea26c08ef7a93ed9d9df/New_cadence_-_automated.png)\n\n* [ ] I can disable `Automated Scheduling` (default to enabled)\n* [ ] If `Automated Scheduled` is disabled, I cannot change or interact with any other fields except `Description`, `Name`, and `Roll Over Issues`.\n* [ ] I can enter the start date for the first Iteration.\n* [ ] I can select the duration (in weeks) for each Iteration within my cadence from a drop down list with values of `1`, `2`, `3`, `4`, `5`, or `6`\n* [ ] I can select the number of future iterations i want to always have automatically scheduled from a list with the following values -- `2`, `4`, `6`, `8`, or `10`\n* [ ] All fields are required except `Description` and `Roll Over Issues`, when `Automated Scheduling` is enabled. When it is disabled, only `Name` is required. `Roll Over Issues` and `Automated Scheduling` is enabled by default for new cadences. For existing cadences, `Roll Over Issues` is enabled by default.  \n* [ ] When `Automated Scheduling` is enabled and the required fields are defined, I can either click a button to create the cadence or to cancel the creation process.\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/feature-change-workflow.html#documentation-requirements\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!-- Define both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. --\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What¬†is¬†the¬†buyer¬†persona¬†for¬†this¬†feature?¬†See¬†https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#four-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-12-15T17:02:05.949Z","updated_at":"2021-11-08T16:00:24.630Z","closed_at":"2021-10-22T12:21:45.502Z","closed_by":{"id":5965371,"username":"jlear","name":"Jake Lear","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5965371/avatar.png","web_url":"https://gitlab.com/jlear"},"labels":["Category:Issue Tracking","Category:Team Planning","GitLab Starter","Next Up","Technical Writing","backend","devops::plan","direction","documentation","frontend","group::project management","missed:13.11","missed:13.12","missed:14.0","missed:14.1","missed:14.3","missed:14.4","section::dev","tw-weight::5","type::feature","workflow::in dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":4303289,"username":"gweaver","name":"Gabe Weaver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4303289/avatar.png","web_url":"https://gitlab.com/gweaver"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":45,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293867","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":0},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293867","notes":"https://gitlab.com/api/v4/projects/278964/issues/293867/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293867/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293867","relative":"#293867","full":"gitlab-org/gitlab#293867"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5077,"epic":{"id":163847,"iid":5077,"title":"Support multiple, automated Iteration Cadences","url":"/groups/gitlab-org/-/epics/5077","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76097010,"iid":293865,"project_id":278964,"title":"Document docker-in-docker usage for API Fuzzing","description":"### Problem\n\nAPI Fuzzing CI Template supports a docker-in-docker usage model that has not been documented.\n\n### Proposal\n\nDocument the docker-in-docker variables and provide an example project.\n\nTasks:\n\n1. [ ] Document docker-in-docker variables\n1. [ ] Add section discussing usage\n1. [ ] Create example project","state":"closed","created_at":"2020-12-15T16:59:41.423Z","updated_at":"2021-10-13T14:51:20.067Z","closed_at":"2021-04-08T16:53:21.454Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","GitLab Ultimate","backend","devops::secure","feature::addition","group::dynamic analysis","section::sec","type::feature","workflow::scheduling"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293865","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293865","notes":"https://gitlab.com/api/v4/projects/278964/issues/293865/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293865/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293865","relative":"#293865","full":"gitlab-org/gitlab#293865"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4254,"epic":{"id":98486,"iid":4254,"title":"API Security scanner for DAST","url":"/groups/gitlab-org/-/epics/4254","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76096092,"iid":293862,"project_id":278964,"title":"Add filter to Jobs page for Job status","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\nWhen you are troubleshooting a pipeline that is behaving unexpectedly you may want to look at all the jobs with a particular status. That would require looking at the full list of jobs or using the GitLab API to get all the data and manipulate it outside the application which is a bad workflow and takes you out of GitLab where you can fix the issue.\n\nNow you can filter for Job Status directly on the Job Page so you can see all jobs with the same status in GitLab.\n\n### Problem to solve \n\nUsers are expecting the same experience as the [Pipelines page](https://gitlab.com/gitlab-org/gitlab/-/pipelines), where they can filter or search pipelines by: \n\n- User/Trigger \n- Branch name \n- Tag name \n- Status \n- Source  \n\nthe [Jobs page](https://gitlab.com/gitlab-org/gitlab/-/jobs) has no search or filtering capability, making it difficult to search for occurrences of a specific job in case of troubleshooting.\n\n### User experience goal\n\nAdd Job Status filtering capabilities in the Jobs index page.\n\n### Proposal\n\nAllow user filter by Job status on [Jobs page](https://gitlab.com/gitlab-org/gitlab/-/jobs):\n\n### Documentation\n\nYes, we will need additional documentation \n\n### Availability \u0026 Testing\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-12-15T16:41:32.050Z","updated_at":"2023-01-09T17:25:56.061Z","closed_at":"2022-04-07T15:07:32.661Z","closed_by":{"id":1125848,"username":"samdbeckham","name":"Sam Beckham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1125848/avatar.png","web_url":"https://gitlab.com/samdbeckham"},"labels":["CI jobs","Category:Continuous Integration","FY23::Q2","GitLab Free","UX","Verify::P3","customer","devops::verify","direction","frontend","group::pipeline execution","internal customer","release post item","release post item::in review","section::ops","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4828839,"username":"thaoyeager","name":"Thao Yeager","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4828839/avatar.png","web_url":"https://gitlab.com/thaoyeager"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":58,"merge_requests_count":0,"upvotes":22,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293862","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293862","notes":"https://gitlab.com/api/v4/projects/278964/issues/293862/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293862/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293862","relative":"#293862","full":"gitlab-org/gitlab#293862"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6690,"epic":{"id":342986,"iid":6690,"title":"Job Filter and Search","url":"/groups/gitlab-org/-/epics/6690","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76091975,"iid":293857,"project_id":278964,"title":"Move the initial Repository browser logs_tree request to StartupJS","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nAfter the investigation in https://gitlab.com/gitlab-org/gitlab/-/issues/281954 it seems like we could speed up the loading of the page by initiating this request sooner. Doesn't seem to have a lot of logic, so should be pretty straight forward.\n\n\nExample: \nhttps://gitlab.com/gitlab-org/gitlab/-/refs/master/logs_tree/?format=json\u0026offset=0\n\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n--\u003e","state":"closed","created_at":"2020-12-15T15:26:33.130Z","updated_at":"2021-02-18T07:06:54.666Z","closed_at":"2021-01-21T20:36:31.354Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Category:Source Code Management","Deliverable","bug::performance","devops::create","frontend","group::source code","repository","section::dev"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":853414,"username":"andr3","name":"Andr√© Lu√≠s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293857","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293857","notes":"https://gitlab.com/api/v4/projects/278964/issues/293857/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293857/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293857","relative":"#293857","full":"gitlab-org/gitlab#293857"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76091818,"iid":293855,"project_id":278964,"title":"Move the GraphQL pathLastCommit initial query to StartupJS","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nSince the investigation in https://gitlab.com/gitlab-org/gitlab/-/issues/281954 proved that the last commit well is slow and slowing down LCP, this seems like a great candidate to move up to StartupJS early request batch.\n\n![Screenshot_2020-12-15_at_15.22.44](/uploads/1e01edfe75c32511fbeca30b45b5f62d/Screenshot_2020-12-15_at_15.22.44.png)\n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\n\u003c!-- Consider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\n--\u003e","state":"closed","created_at":"2020-12-15T15:23:48.665Z","updated_at":"2021-01-26T00:46:08.577Z","closed_at":"2021-01-26T00:46:08.479Z","closed_by":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"labels":["Category:Source Code Management","Deliverable","bug::performance","devops::create","frontend","group::source code","section::dev","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":853414,"username":"andr3","name":"Andr√© Lu√≠s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293855","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293855","notes":"https://gitlab.com/api/v4/projects/278964/issues/293855/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293855/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293855","relative":"#293855","full":"gitlab-org/gitlab#293855"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76091563,"iid":293854,"project_id":278964,"title":"Issue to track implementation of description templates inheritance","description":"We have the `File Templates` feature, that can be setup at [group](https://docs.gitlab.com/ee/user/group/index.html#group-file-templates) or [instance](https://docs.gitlab.com/ee/user/admin_area/settings/instance_template_repository.html#instance-template-repository) level and be inherited by any project within given instance or group.\n\nWe also have issue and merge request [description templates](https://docs.gitlab.com/ee/user/project/description_templates.html#description-templates) that currently can only be applied at the level of the project that defines these templates in its repository.\n\nAlthough these are described as different features in our docs, both are basically templates, and more than that both sources of the templates leave within the project repository, with only difference that each lives within its own folder(s).\n\nI think it would make sense to combine file and description templates setting at the group level by reusing already existing file templates setting to define from which (single) templates repository should all the projects within the group pull both file and description templates. If the group hierarchy has multiple subgroups each of the subgroups, would be able to define its own templates repository which would add to the list to already existing templates.","state":"closed","created_at":"2020-12-15T15:18:25.306Z","updated_at":"2021-03-16T11:06:00.471Z","closed_at":"2021-03-16T11:06:00.334Z","closed_by":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"labels":["auto updated","automation:ml","automation:ml wrong","backend","devops::plan","group::project management","missed:13.8","missed:13.9","section::dev","workflow::in review"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"}],"author":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"type":"ISSUE","assignee":{"id":3483274,"username":"acroitor","name":"Alexandru Croitor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/461378ef52c26eec55e6c15ec09bb9ed?s=80\u0026d=identicon","web_url":"https://gitlab.com/acroitor"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293854","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293854","notes":"https://gitlab.com/api/v4/projects/278964/issues/293854/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293854/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293854","relative":"#293854","full":"gitlab-org/gitlab#293854"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76083862,"iid":293844,"project_id":278964,"title":"Persist On-demand Scans form values using localStorage","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nWe should persist the values of On-demand Scans form when user refreshes or navigates back.\n\n### Why\n\nThis should solves a UX improvement described at https://gitlab.com/groups/gitlab-org/-/epics/5037#note_463144758\n\n\u003e If a user is trying to create a scan with two brand new profiles, it would allow us to auto select the created profiles\n\n### Implementation Plan\n\n- [x] Persist On-demand scan form values using [`LocalStorageSync`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/vue_shared/components/local_storage_sync.vue)\n- [x] Clean storage on `Save` / `Save \u0026 run`\n- [x] Skip edit flow for first iteration\n- [x] Add specs\n\n### Related links\n\n- https://gitlab.com/gitlab-org/gitlab/-/issues/287579","state":"closed","created_at":"2020-12-15T12:57:51.226Z","updated_at":"2021-03-31T15:47:54.135Z","closed_at":"2021-02-17T08:13:13.587Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","GitLab Ultimate","SUS::FY22 Q1 - Done","devops::secure","feature::enhancement","frontend","group::dynamic analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":9,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293844","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293844","notes":"https://gitlab.com/api/v4/projects/278964/issues/293844/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293844/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293844","relative":"#293844","full":"gitlab-org/gitlab#293844"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5090,"epic":{"id":164679,"iid":5090,"title":"DAST Profiles \u0026 On-demand Scans - Technical Debt","url":"/groups/gitlab-org/-/epics/5090","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76081675,"iid":293843,"project_id":278964,"title":"Expand filtering functionality of vulnerabilities GraphQL endpoint to support scanner ID","description":"## Why are we doing this work\n\n### Background\n\nOn the Vulnerability Report, there are filters that lets you filter the vulnerability list:\n\n||\n|-|\n|![ksnip_20201215-012839](/uploads/b9b04fc5484da11e997005ffd3c74ce8/ksnip_20201215-012839.png)|\n\nThe filtered vulnerability list can be retrieved through 1 of 3 GraphQL endpoints:\n\n- [`ee/app/assets/javascripts/security_dashboard/graphql/instance_vulnerabilities.graphql`](https://gitlab.com/gitlab-org/gitlab/blob/fa30bd7b77bdc313ddaabd6ffaead2b16f1d93b2/ee/app/assets/javascripts/security_dashboard/graphql/instance_vulnerabilities.graphql)\n- [`ee/app/assets/javascripts/security_dashboard/graphql/group_vulnerabilities.graphql`](https://gitlab.com/gitlab-org/gitlab/blob/fa30bd7b77bdc313ddaabd6ffaead2b16f1d93b2/ee/app/assets/javascripts/security_dashboard/graphql/group_vulnerabilities.graphql)\n- [`ee/app/assets/javascripts/security_dashboard/graphql/project_vulnerabilities.query.graphql`](https://gitlab.com/gitlab-org/gitlab/blob/fa30bd7b77bdc313ddaabd6ffaead2b16f1d93b2/ee/app/assets/javascripts/security_dashboard/graphql/project_vulnerabilities.query.graphql)\n\nCurrently, these endpoints only supports filtering by AND'ing each property and OR'ing the property values. For example, this filter selection:\n\n||\n|-|\n|![ksnip_20201215-014107](/uploads/95f260e54625087c71cd6f1c513b1272/ksnip_20201215-014107.png)|\n\nwill pass these variables to the query:\n\n||\n|-|\n|![ksnip_20201215-014611](/uploads/89d56c666ccea673785ec0635030e7ca/ksnip_20201215-014611.png)|\n\nwhich is run as the following pseudo-SQL:\n\n```sql\nSELECT * FROM vulnerabilities\nWHERE reportType IN ('DAST', 'SAST')\nAND severity IN ('CRITICAL', 'HIGH', 'MEDIUM')\nAND state IN ('DETECTED', 'CONFIRMED')\n```\n\n## Problem\n\nThe [custom scanner filter feature](https://gitlab.com/gitlab-org/gitlab/-/issues/229661) needs to filter by a vendor - report type combination. This selection:\n\n||\n|-|\n|![ksnip_20201215-015618](/uploads/d0443801afd9a62e5cb04f393bf8c291/ksnip_20201215-015618.png)|\n\nneeds this SQL query:\n\n```sql\nSELECT * FROM vulnerabilities\nWHERE (\n  (vendor = 'GitLab' AND reportType IN ('DAST', 'Secret Detection'))\n  OR (vendor = 'Custom Scanner' AND reportType IN ('SAST'))\n)\nAND other filters here\n```\n\n### Proposal\n\nExpand the `scanners` variable that allows us to pass a `vendor` and `reportTypes`:\n\n```json\n{\n  \"scanners\": [\n    {\n      \"vendor\": \"GitLab\",\n      \"reportTypes\": [\"DAST\", \"Secret Detection\"]\n    },\n    {\n      \"vendor\": \"Custom Scanner\",\n      \"reportTypes\": [\"SAST\"]\n    }\n  ]\n}\n```\n\n`scanners` will have implicit `OR` between items and each property in a scanner will be implicit `AND`:\n\n```sql\n(scanner[0].vendor AND scanner[0].reportTypes)\nOR\n(scanner[1].vendor AND scanner[1].reportTypes)\nOR\n-- more scanners here\n```\n\n__UPDATE__: This change will rely on the front end to pull the scanner ID for searching, due to the complexity of searching by vendor and report type combinations. The resulting query is too slow.\n\n### Relevant links\n\n- [Related Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/229661)\n\n## Non-functional requirements\n\n- [ ] Documentation: Update GraphQL documentation\n- [ ] Performance: Ensure database performance with new filters\n- [ ] Testing: Add specs for new queries\n\n## Implementation plan\n\n- [x] ~backend Add `scanner_id` field of `VulnerabilityScannerType` for vulnerability GraphQL queries\n  - [x] [`ee/app/assets/javascripts/security_dashboard/graphql/instance_vulnerabilities.graphql`](https://gitlab.com/gitlab-org/gitlab/blob/fa30bd7b77bdc313ddaabd6ffaead2b16f1d93b2/ee/app/assets/javascripts/security_dashboard/graphql/instance_vulnerabilities.graphql)\n  - [x] [`ee/app/assets/javascripts/security_dashboard/graphql/group_vulnerabilities.graphql`](https://gitlab.com/gitlab-org/gitlab/blob/fa30bd7b77bdc313ddaabd6ffaead2b16f1d93b2/ee/app/assets/javascripts/security_dashboard/graphql/group_vulnerabilities.graphql)\n  - [x] [`ee/app/assets/javascripts/security_dashboard/graphql/project_vulnerabilities.query.graphql`](https://gitlab.com/gitlab-org/gitlab/blob/fa30bd7b77bdc313ddaabd6ffaead2b16f1d93b2/ee/app/assets/javascripts/security_dashboard/graphql/project_vulnerabilities.query.graphql)\n- [x] ~backend Update `VulnerabilitiesResolver` to take `scanner_id` as an argument\n- [x] ~backend Update `VulnerabilitiesFinder` to search for vulnerabilities based on `scanner_id` filters","state":"closed","created_at":"2020-12-15T12:16:22.038Z","updated_at":"2021-09-22T03:49:20.591Z","closed_at":"2021-04-27T18:37:47.544Z","closed_by":{"id":4473655,"username":"jschafer","name":"Jonathan Schafer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c9a0dad78ff350f1f7fffd44514269a?s=80\u0026d=identicon","web_url":"https://gitlab.com/jschafer"},"labels":["Category:Vulnerability Management","Deliverable","backend","backend-weight::3","devops::secure","group::threat insights","missed-deliverable","missed:13.11","section::sec","security dashboard","workflow::verification"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":35,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293843","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":6},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293843","notes":"https://gitlab.com/api/v4/projects/278964/issues/293843/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293843/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293843","relative":"#293843","full":"gitlab-org/gitlab#293843"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76081527,"iid":293842,"project_id":278964,"title":"Add support for `/child_epic` quick action when creating a new epic","description":"This is related to:\n* https://gitlab.com/gitlab-org/gitlab/-/issues/288811#note_462357792\n\nAs part of https://gitlab.com/gitlab-org/gitlab/-/issues/288811 fix we disabled epic-related quick actions when creating new epic (as these quick actions didn't work properly and as a side-effect caused internal_id sync issue). It would be nice to add \"proper\" support for `/child_epic` quick action for new epics because this seems to be handy feature.\n\nThis is related to https://gitlab.com/gitlab-org/gitlab/-/issues/292506 which tracks addition of `/parent_epic` quick action, but solutions in both cases might be differet.\n\nWe should also make sure that a system note about newly added epic is created on parent epic.","state":"closed","created_at":"2020-12-15T12:12:41.856Z","updated_at":"2021-11-08T16:51:31.171Z","closed_at":"2021-03-16T13:54:44.034Z","closed_by":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"labels":["Category:Portfolio Management","Deliverable","backend","devops::plan","epics","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"}],"author":{"id":1642716,"username":"jprovaznik","name":"Jan Provaznik","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4577c0b60b7640100030d7ab267aba95?s=80\u0026d=identicon","web_url":"https://gitlab.com/jprovaznik"},"type":"ISSUE","assignee":{"id":426128,"username":"felipe_artur","name":"Felipe Artur","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dbad92659914f56621cbdd726e283e60?s=80\u0026d=identicon","web_url":"https://gitlab.com/felipe_artur"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293842","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293842","notes":"https://gitlab.com/api/v4/projects/278964/issues/293842/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293842/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293842","relative":"#293842","full":"gitlab-org/gitlab#293842"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76075644,"iid":293825,"project_id":278964,"title":"Refactor DailyBuildGroupReportResultsFinder","description":"### Summary\n\nFollowing up https://gitlab.com/gitlab-org/gitlab/-/issues/270102 where we fixed a ~bug for Users who have default branch names that aren't `master` and were not getting any data in the .csv download for [group code coverage](https://docs.gitlab.com/ee/user/group/#repositories-analytics).\n\n### Problem\n\nWe fixed our existing ~bug by fetching our daily coverage for the default branch.\n\nThis is quite slow today according to our [SQL query](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49630#query-2-default_branch-true-new).\n\n### Solution\n\nWe have an [existing index](https://gitlab.com/gitlab-org/gitlab/-/blob/master/db/structure.sql#L20931) which will improve the ~performance of this ~feature that we **must use**.\n\nI think this is the time to refactor our [DailyBuildGroupReportResultsFinder](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/finders/ci/daily_build_group_report_results_finder.rb) by making it more flexible:\n\nThis will help us to get rid of [DailyBuildGroupReportResultsByGroupFinder](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/finders/ci/daily_build_group_report_results_by_group_finder.rb) and unify our business logic at a central place by following existing patterns we have today ([ProjectsFinder](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/finders/projects_finder.rb)).\n\nHere a proposal for it:\n\n```ruby\ndef initialize(params: {}, current_user: nil)\n  @params = params\n  @current_user = current_user\nend\n\ndef execute\n  return none unless query_allowed?\n\n  collection = Ci::DailyBuildGroupReportResult.recent_results(query_params, limit: params[:limit])\n  collection = filter_report_results(collection)\nend\n\nprivate\n\ndef filter_report_results(collection)\n  collection = by_coverage(collection)\n  collection = by_projects_ids(collection)\n  collection = by_ref_path(collection)\n  collection = by_date(collection)\n  collection\nend\n\ndef by_coverage(items)\n  items.with_coverage\nend\n\ndef by_projects_ids(items)\n  params[:project_ids].present? ? items.by_projects(params[:project_ids]) : items\nend\n\ndef by_ref_path(items)\n  params[:ref_path].present? ? items.where(ref_path: params[:ref_path]) : items.with_default_branch\nend\n\ndef by_date(items)\n  params[:start_date].present? ? items.by_date(params[:start_date]) : items\nend\n\ndef query_allowed?\n  can?(current_user, :read_build_report_results, params[:project])\nend\n```\n\n- [x] @drewcimino @iamricecake could you provide feedback on this please üôá‚Äç‚ôÇÔ∏è\n- [x] @jheimbuck_gl @rickywiens could you help to schedule the work for this issue please?","state":"closed","created_at":"2020-12-15T10:46:18.674Z","updated_at":"2021-10-28T14:02:17.520Z","closed_at":"2021-03-01T14:57:46.145Z","closed_by":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"labels":["Category:Code Testing and Coverage","Deliverable","backend","bug::performance","devops::verify","follow-up","group::pipeline insights","maintenance::refactor","missed-deliverable","missed:13.9","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"}],"author":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"type":"ISSUE","assignee":{"id":5251734,"username":"morefice","name":"Max Orefice","state":"active","avatar_url":"https://secure.gravatar.com/avatar/0a910912e24727d7eef579cd047f7651?s=80\u0026d=identicon","web_url":"https://gitlab.com/morefice"},"user_notes_count":43,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293825","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293825","notes":"https://gitlab.com/api/v4/projects/278964/issues/293825/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293825/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293825","relative":"#293825","full":"gitlab-org/gitlab#293825"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"at_risk"},{"id":76070437,"iid":293819,"project_id":278964,"title":"[sort_diffs] Enable sorting of merge request diffs","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nEnable `sort_diffs` feature flag.\n\n## Owners\n\n- Team: ~\"group::code review\" \n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: @patrickbajao\n\n## Expectations\n\n### What are we expecting to happen?\n\nMR diffs are sorted by directory name, depth and file name. List/tree view should be consistent.\n\n### What might happen if this goes wrong?\n\nMR diffs are not sorted as expected.\n\n### What can we monitor to detect problems with this?\n\nThis [rails web controller dashboard for Projects::MergeRequests::DiffsController](https://dashboards.gitlab.net/d/web-rails-controller/web-rails-controller?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-controller=Projects::MergeRequests::DiffsController\u0026var-action=diffs_batch.json\u0026var-action=diffs_metadata.json\u0026from=now-1h\u0026to=now) specifically `diffs_metadata` and `diffs_batch` actions.\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-com/www-gitlab-com` project\n\n## Roll Out Steps\n\n- [x] Enable on staging (`/chatops run feature set sort_diffs true --staging`)\n- [x] Test on staging\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab sort_diffs true` and `/chatops run feature set --project=gitlab-com/www-gitlab-com sort_diffs true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set sort_diffs true`)\n- [x] Announce on the issue that the flag has been enabled\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab sort_diffs false\n```","state":"closed","created_at":"2020-12-15T08:59:49.832Z","updated_at":"2021-05-01T08:07:02.503Z","closed_at":"2021-02-18T01:57:26.938Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["backend","devops::create","feature flag","group::code review","missed:13.8","section::dev"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293819","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293819","notes":"https://gitlab.com/api/v4/projects/278964/issues/293819/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293819/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293819","relative":"#293819","full":"gitlab-org/gitlab#293819"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76066844,"iid":293812,"project_id":278964,"title":"Handle MergeRequest list API request with large results set better","description":"It was discovered when @leipert tried to use `reviewer_username` and `reviewer_id` filter before the reviewer filtering feature via API got merged.\n\n\u003e Lukas 'Eipi' Eipert\n\u003e When querying the API with reviewer_username or reviewer_id, I am hitting 500 internal server errors:\n\u003e - https://gitlab.com/api/v4/merge_requests?reviewer_username=psimyn\u0026scope=all\u0026state=opened\n\u003e - https://gitlab.com/api/v4/merge_requests?reviewer_id=832471\u0026scope=all\u0026state=opened\n\nIt was effectively making them to return the same results as below request and timed out while trying to return every open merge requests. It could be replicated by replacing reviewer filter params with any unknown query string as well.\n\n`https://gitlab.com/api/v4/merge_requests?scope=all\u0026state=opened`\n\nWe do that within Merge Request list via UI, but we don't seem to do that for API requests.\n![Screen_Shot_2020-12-15_at_6.18.34_pm](/uploads/22901f38168bfca32bc14128fce6a909/Screen_Shot_2020-12-15_at_6.18.34_pm.png)\n\nI suppose we could return an error message using the same logic as how we do in the UI.","state":"closed","created_at":"2020-12-15T07:56:40.743Z","updated_at":"2022-01-05T01:16:26.048Z","closed_at":"2021-12-27T03:02:33.216Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ü§ñ GitLab Bot ü§ñ","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Accepting merge requests","api","auto closed","devops::create","group::code review","priority::4","section::dev","severity::4","stale","type::bug","vintage"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293812","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293812","notes":"https://gitlab.com/api/v4/projects/278964/issues/293812/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293812/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293812","relative":"#293812","full":"gitlab-org/gitlab#293812"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76061192,"iid":293807,"project_id":278964,"title":"Test for issue state persistence","description":"This is the description","state":"closed","created_at":"2020-12-15T04:20:45.243Z","updated_at":"2020-12-15T05:19:55.845Z","closed_at":"2020-12-15T05:19:55.809Z","closed_by":{"id":4945780,"username":"ebanks","name":"Erick Banks","state":"active","avatar_url":"https://secure.gravatar.com/avatar/80fec5512e3a226d9fd734eb8875d4e5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ebanks"},"labels":["test"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":4945780,"username":"ebanks","name":"Erick Banks","state":"active","avatar_url":"https://secure.gravatar.com/avatar/80fec5512e3a226d9fd734eb8875d4e5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ebanks"}],"author":{"id":4945780,"username":"ebanks","name":"Erick Banks","state":"active","avatar_url":"https://secure.gravatar.com/avatar/80fec5512e3a226d9fd734eb8875d4e5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ebanks"},"type":"ISSUE","assignee":{"id":4945780,"username":"ebanks","name":"Erick Banks","state":"active","avatar_url":"https://secure.gravatar.com/avatar/80fec5512e3a226d9fd734eb8875d4e5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ebanks"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293807","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293807","notes":"https://gitlab.com/api/v4/projects/278964/issues/293807/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293807/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293807","relative":"#293807","full":"gitlab-org/gitlab#293807"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76057925,"iid":293758,"project_id":278964,"title":"Update secure analyzer projects to use consistent QA expectation location","description":"### Problem to solve \n\nSecure analyzers currently store expectation files in `qa/expect/\u003cproject-name\u003e-\u003cbranch-name\u003e`, for example:\n\n[`qa/expect/typescript-yarn-tsx`](https://gitlab.com/gitlab-org/security-products/analyzers/eslint/-/blob/8a7698b6baf5f8a521e59de84531233161e195d0/.gitlab-ci.yml#L57)\n\nThe above expectation is located in `typescript-yarn-tsx`, where `typescript-yarn` is the test project name and the branch is `tsx-FREEZE`.\n\nThe purpose of this issue is to formally document a naming convention in the `README.md` for the [tests/common](https://gitlab.com/gitlab-org/security-products/tests/common/#secure-analyzers) project, as well as update all existing dependency scanning and SAST analyzers to use this pattern.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### Proposal\n\nDetermine the best location pattern to use. Currently we're using `qa/expect/\u003cproject-name\u003e-\u003cbranch-name\u003e`, however, this naming convention is ambiguous. For example, if we consider the path `java-maven-cli-opts`, it's not possible to know if the project name is `java-maven-cli` and the branch name is `opts` or if the project is `java-maven` and the branch is `cli-opts`. For this reason, I would prefer to use the pattern `\u003cproject-name\u003e/\u003cbranch-name\u003e`, which in this case would result in the unambiguous pattern `java-maven/cli-opts`.\n\n### Implementation Plan\n\nUse the following expectation location pattern:\n\n* `qa/expect/\u003cproject-name\u003e/gl-\u003creport_type\u003e-report.json` for the default branch and default test case\n* `qa/expect/\u003cproject-name\u003e/\u003cbranch-name|test-case\u003e/gl-\u003creport_type\u003e-report.json` for a specific branch and/or a specific test case\n\nEnsure the QA tests of the following projects use the provided expectation location pattern:\n\n- [ ] ~~SAST~~\n   - [ ] ~~[security-code-scan](https://gitlab.com/gitlab-org/security-products/analyzers/security-code-scan)~~\n   - [ ] ~~[flawfinder](https://gitlab.com/gitlab-org/security-products/analyzers/flawfinder)~~\n   - [ ] ~~[brakeman](https://gitlab.com/gitlab-org/security-products/analyzers/brakeman)~~\n   - [ ] ~~[eslint](https://gitlab.com/gitlab-org/security-products/analyzers/eslint)~~\n   - [ ] ~~[spotbugs](https://gitlab.com/gitlab-org/security-products/analyzers/spotbugs)~~\n   - [ ] ~~[gosec](https://gitlab.com/gitlab-org/security-products/analyzers/gosec)~~\n   - [ ] ~~[bandit](https://gitlab.com/gitlab-org/security-products/analyzers/bandit)~~\n   - [ ] ~~[phpcs-security-audit](https://gitlab.com/gitlab-org/security-products/analyzers/phpcs-security-audit)~~\n   - [ ] ~~[sobelow](https://gitlab.com/gitlab-org/security-products/analyzers/sobelow)~~\n   - [ ] ~~[pmd-apex](https://gitlab.com/gitlab-org/security-products/analyzers/pmd-apex)~~\n   - [ ] ~~[kubesec](https://gitlab.com/gitlab-org/security-products/analyzers/kubesec)~~\n   - [ ] ~~[java-gradle](https://gitlab.com/gitlab-org/security-products/tests/java-gradle)~~\n   - [ ] ~~[secrets](https://gitlab.com/gitlab-org/security-products/analyzers/secrets)~~\n   - [ ] ~~[nodejs-scan](https://gitlab.com/gitlab-org/security-products/analyzers/nodejs-scan)~~\n- [x] Dependency Scanning\n   - [ ] ~~[bundler-audit](https://gitlab.com/gitlab-org/security-products/analyzers/bundler-audit)~~\n   - [ ] ~~[retire.js](https://gitlab.com/gitlab-org/security-products/analyzers/retire.js)~~\n   - [ ] ~~[gemnasium-python](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python)~~\n   - [ ] ~~[gemnasium-maven](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven)~~\n   - [ ] ~~[gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium)~~\n\n   See [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/293758#note_937235249) for a list of complete merge requests for moving the expectation files.\n\n### Further details\n\nSee discussion [here](https://gitlab.com/gitlab-org/security-products/analyzers/retire.js/-/merge_requests/61#note_465855265)\n\n### Documentation\n\nDocumentation will be added to [tests/common/README.md](https://gitlab.com/gitlab-org/security-products/tests/common/-/blob/66a72bf0798649ca00d67f52648d2364aaee5ded/README.md)\n\n### What does success look like, and how can we measure that?\n\nSecure analyzer qa expectation location pattern is documented and consistently enforced throughout our analyzers.\n\n### What is the type of buyer?\n\n~\"Enterprise Edition\" ~\"GitLab Ultimate\" \n\n### Is this a cross-stage feature?\n\nYes, this affects ~\"Category:Dependency Scanning\" and ~\"Category:SAST\"\n\n/cc @NicoleSchwartz @gonzoyumo @fcatteau @theoretick","state":"closed","created_at":"2020-12-15T00:43:34.329Z","updated_at":"2022-05-24T04:21:53.828Z","closed_at":"2022-05-06T03:39:56.845Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","documentation","group::composition analysis","priority::1","section::sec","test","type::maintenance","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293758","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":21,"completed_count":1},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 21 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293758","notes":"https://gitlab.com/api/v4/projects/278964/issues/293758/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293758/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293758","relative":"#293758","full":"gitlab-org/gitlab#293758"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3276,"epic":{"id":52489,"iid":3276,"title":"Technical work - backstage - Secure Composition Analysis","url":"/groups/gitlab-org/-/epics/3276","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76057788,"iid":293755,"project_id":278964,"title":"Add a setting for allowing/disallowing duplicate generic package uploads","description":"### Problem to solve\n\nWhen using the GitLab Package Registry to publish generic packages, a duplicate package name/version can be uploaded. This may be great in some cases but not if the package should be immutable. \n\n### Proposal\n\nAdd a setting that will allow you to define (at the group level) whether or not duplicate generic packages are allowed and allot for exceptions.\n\n#### Testing\n\nAdd an end to end level test similar to [the one done for Maven](https://gitlab.com/gitlab-org/gitlab/-/blob/master/qa/qa/specs/features/browser_ui/5_package/maven_repository_spec.rb#L226)","state":"closed","created_at":"2020-12-15T00:38:22.206Z","updated_at":"2021-08-06T02:13:01.776Z","closed_at":"2021-05-14T08:54:59.539Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Package Registry","Deliverable","Generic Package Repository","Package:P1","backend","backend-weight::2","customer","devops::package","frontend","frontend-weight::1","group::package registry","quad-planning::complete-action","ruby","section::ops","type::feature","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicol√≤ Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":19,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293755","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293755","notes":"https://gitlab.com/api/v4/projects/278964/issues/293755/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293755/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293755","relative":"#293755","full":"gitlab-org/gitlab#293755"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5070,"epic":{"id":163365,"iid":5070,"title":"Add a setting to allow/disallow duplicate package uploads","url":"/groups/gitlab-org/-/epics/5070","group_id":9970,"human_readable_end_date":"May 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76057162,"iid":293742,"project_id":278964,"title":"[Feature flag] Rollout of `reviewer_approval_rules`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## What\n\nRemove the `:reviewer_approval_rules` feature flag ...\n\n## Owners\n\n- Team: Code Review\n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: @sming-gitlab @dskim_gitlab \n\n## Expectations\n\n### What are we expecting to happen?\n\nThe approval rules will be displayed in the `reviewer` dropdown\n\n### What might happen if this goes wrong?\n\nThe approval rules will not be displayed in the `reviewer` dropdown\n\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can alse be useful to review --\u003e\n\n\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n## Roll Out Steps\n\n- [x] Confirm that QA tests pass with the feature flag enabled (if you're unsure how, contact the relevant [stable counterpart in the Quality department](https://about.gitlab.com/handbook/engineering/quality/#individual-contributors))\n- [x] Enable on staging (`/chatops run feature set feature_name true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [x] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [x] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [x] Announce on the issue that the flag has been enabled\n- [x] Remove feature flag and add changelog entry\n- [x] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set --project=gitlab-org/gitlab feature_name false\n```","state":"closed","created_at":"2020-12-14T23:56:52.324Z","updated_at":"2021-02-10T06:57:57.131Z","closed_at":"2021-02-10T06:57:57.088Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Stretch","backend","devops::create","docs-missing","feature flag","frontend","group::code review","section::dev","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":236961,"username":"marcia","name":"Marcia Ramos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/236961/avatar.png","web_url":"https://gitlab.com/marcia"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293742","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":12},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293742","notes":"https://gitlab.com/api/v4/projects/278964/issues/293742/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293742/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293742","relative":"#293742","full":"gitlab-org/gitlab#293742"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76055875,"iid":293740,"project_id":278964,"title":"Update Global Search scopes to be vertical navigation","description":"### Problem to solve\nThe current content type tabs on the Global Search results page can sometimes be missed, which is problematic for exploring search results as well as understanding when a content type/scope has been pre-selected based off where a search is made from. Also, since the addition of filters/facets for some of these content types (ex: Issues/MRs) in a left sidebar, this has caused a shift in page layout based on which content type is selected (when no filters exist for a content type the layout goes full width). It would also be ideal to have all filters/facets (including content types) in a shared region of the page.\n\n### Proposal\nTransition the current content type tabs to be navigation elements within the left sidebar. Locating them at the top of the sidebar will help showcase the cascading effect that these options will have on the filters/facets below them when selected. Moving these content type filters will also result in every page in Global Search results to have a left sidebar, creating a consistent layout for the page.\n\n### Implementation Guide\n[Figma Link](https://www.figma.com/file/ED1K2c6HoXNr4he9DSRGj6/Scopes-Vertical-Navigation?node-id=1506%3A48343)\n\n- [x] Change the existing content types semantically from being Tabs to being a list of links in the left sidebar of the results page\n- [x] Match the styling of the list of links to what is provided in the design\n- [x] Include hover and active states for the links (see design)\n- [x] Verify the mobile layout/spacing reflects the provided mobile design\n\nA follow-up issue has been created to cover the Results Information overview/bar updates: https://gitlab.com/gitlab-org/gitlab/-/issues/361579\n\n### Release notes\n\nThe content scope tabs on the global search result page were moved to be navigation elements within the left sidebar. This transition will help showcase the cascading effect that these options will have on the filters and facets below them when selected. Moving these content type filters will also result in every page in Global Search results having a left sidebar, creating a consistent layout for the page.\n\n![vertical_navigation](https://gitlab.com/gitlab-org/gitlab/uploads/0065f1996641723770f92208cdd48753/Screen_Shot_2022-12-09_at_2.36.48_PM.png)\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2020-12-14T23:36:38.235Z","updated_at":"2023-01-11T01:16:49.388Z","closed_at":"2022-12-20T22:52:26.339Z","closed_by":{"id":4888751,"username":"changzhengliu","name":"Changzheng Liu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4888751/avatar.png","web_url":"https://gitlab.com/changzhengliu"},"labels":["Actionable Insight::Product change","Category:Global Search","Deliverable","GitLab Core","advanced search","closed::duplicate","devops::data_stores","direction","group::global search","missed-deliverable","missed:15.6","release post item","release post item::in review","section::enablement","severity::4","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"}],"author":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"type":"ISSUE","assignee":{"id":10776513,"username":"tbulva","name":"Tomas Bulva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10776513/avatar.png","web_url":"https://gitlab.com/tbulva"},"user_notes_count":25,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293740","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293740","notes":"https://gitlab.com/api/v4/projects/278964/issues/293740/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293740/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293740","relative":"#293740","full":"gitlab-org/gitlab#293740"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8269,"epic":{"id":549143,"iid":8269,"title":"Search controls are too disorganized","url":"/groups/gitlab-org/-/epics/8269","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76054778,"iid":293733,"project_id":278964,"title":"SSRF: DNS rebinding protection bypass when allowing an IP address in Outbound Requests setting","description":"**[HackerOne report #1055816](https://hackerone.com/reports/1055816)** by `yvvdwf` on 2020-12-10, assigned to @rchan-gitlab:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\nHi,\n\nWhile examining [validate!](https://gitlab.com/gitlab-org/gitlab/-/blob/f6ffe2d82963643d4f7b360a9eb1c59dd181ad63/lib/gitlab/url_blocker.rb) function, I found that this implementation contradicts the specification of `Ountbound Requests` in administrator setting area. This contradiction leads to disabling DNS rebinding attack protection, thus exposing local networks. Let\u0026#39;s me detail.\n\n`Outbound Requests` setting allows requests to certain domains and local IP addresses that hooks and services may access while maintain DNS rebinding attack protection with the others. For example, in the following setting, we want to allow to access to only `192.168.0.120` and prohibit from accessing the other local IP addresses.\n\n{{Image: Please see `outbound-requests-setting.png`}}\n\nHowever this is not the case in the implementation of `validate!` function: Once the admin allows a local IP address, attackers may access any other local IPs.\n\n\n#####  Steps to reproduce\n\n_As Administrator_:\n\n Go to `Admin Area/Settings/Network`, then `Outbound Requests` section. Set the parameters in this section as in the image, Ex:\n\n- Allow requests to the local network from web hooks and services: No  \n- Allow requests to the local network from system hooks: No  \n- Local IP addresses and domain names that hooks and services may access:  `192.168.0.120`  \n- Enforce DNS rebinding attack protection: **YES**  \n- Click `Save changes`\n\n_As attacker_\n\nIn an existing project, or create a new project, go to `Settings/Webhooks`. Set the parameters in Webhooks as the following:\n\n- URL: `http://a.192.168.0.120.3times.127.0.0.1.1time.repeat.gitlab.dyn.yvvdwf.me:9121/scrape?target=unix:///var/opt/gitlab/redis/redis.socket\u0026amp;check-keys=*`  \n- The other parameters are not important, you can ignore them.  \n- Click `Add webhook`  \n- After being saved, in the `Project Hooks (1)` area, click `Test/Push events`.  \n- You should see the entire Redis content as result, otherwise, if you got errors, click `Test/Push events`again to retry.   \n- The interval between success and fail tests depends on DNS cache. You should change the local default DNS resolver to `8.8.8.8`, for example, set `nameserver 8.8.8.8` as content of `/etc/resolve.conf`\n\n{{Image: Please see `retry-rquests-when-fail.png `}}\n\n_Note_\n\nAttacker can be aware about local IP `192.168.0.120` by automatically trying one by one. There are [about](https://en.wikipedia.org/wiki/Private_network) 18M local IP addresses. If he can probe 3 IPs per seconds, he needs 18M/3/3600/24 = ~70 days. He can easily reduce this since nothing prevents him from creating 10 different accounts and 10 checking threads running in parallel for each account. This probing time increases if administrator add a port number together with IP addresses.\n\n#####  Impact\n\nOnce administrator allows *only* one local IP address, attackers may have **full** access to any other local IP addresses. \n\n#####  What is the current *bug* behavior?\n\nI think that the bug is in [validate!](https://gitlab.com/gitlab-org/gitlab/-/blob/f6ffe2d82963643d4f7b360a9eb1c59dd181ad63/lib/gitlab/url_blocker.rb) function:\n\n```ruby  \naddress_info = get_address_info(uri, dns_rebind_protection)  \nreturn [uri, nil] unless address_info\n\nip_address = ip_address(address_info)  \nreturn [uri, nil] if domain_allowed?(uri) || ip_allowed?(ip_address, port: get_port(uri))\n\nprotected_uri_with_hostname = enforce_uri_hostname(ip_address, uri, dns_rebind_protection)  \n```\n\nThe checking `ip_allowed?` should be done after `enforce_uri_hostname`\n\n\n#####  What is the expected *correct* behavior?\n\nI think that the expected implementation could be as the following:\n\n```diff  \naddress_info = get_address_info(uri, dns_rebind_protection)  \nreturn [uri, nil] unless address_info\n\nip_address = ip_address(address_info)  \n-return [uri, nil] if domain_allowed?(uri) || ip_allowed?(ip_address, port: get_port(uri))  \n+return [uri, nil] if domain_allowed?(uri)\n\nprotected_uri_with_hostname = enforce_uri_hostname(ip_address, uri, dns_rebind_protection)\n\n+return protected_uri_with_hostname if ip_allowed?(ip_address, port: get_port(uri))  \n```\n\n#####  Output of checks\n\n######  Results of GitLab environment info\n\n(For installations with omnibus-gitlab package run and paste the output of:  \n`sudo gitlab-rake gitlab:env:info`)\n\n```  \nSystem information  \nSystem:\t\t  \nProxy:\t\tno  \nCurrent User:\tgit  \nUsing RVM:\tno  \nRuby Version:\t2.7.2p137  \nGem Version:\t3.1.4  \nBundler Version:2.1.4  \nRake Version:\t13.0.1  \nRedis Version:\t5.0.9  \nGit Version:\t2.29.0  \nSidekiq Version:5.2.9  \nGo Version:\tunknown\n\nGitLab information  \nVersion:\t13.6.2-ee  \nRevision:\t98aab73cbd5  \nDirectory:\t/opt/gitlab/embedded/service/gitlab-rails  \nDB Adapter:\tPostgreSQL  \nDB Version:\t11.9  \nURL:\t\thttp://gitlab.example.com  \nHTTP Clone URL:\thttp://gitlab.example.com/some-group/some-project.git  \nSSH Clone URL:\tgit@gitlab.example.com:some-group/some-project.git  \nElasticsearch:\tno  \nGeo:\t\tno  \nUsing LDAP:\tno  \nUsing Omniauth:\tyes  \nOmniauth Providers: \n\nGitLab Shell  \nVersion:\t13.13.0  \nRepository storage paths:  \n- default: \t/var/opt/gitlab/git-data/repositories  \nGitLab Shell path:\t\t/opt/gitlab/embedded/service/gitlab-shell  \nGit:\t\t/opt/gitlab/embedded/bin/git  \n```\n\n####  Impact\n\nOnce administrator allows *only* one local IP address, attackers  have **full** access to any other local IP addresses.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [outbound-requests-setting.png](https://h1.sec.gitlab.net/a/3aabb9b1-675c-4943-8e07-1d348884fc9f/outbound-requests-setting.png)\n* [retry-rquests-when-fail.png](https://h1.sec.gitlab.net/a/be495ed5-b665-4890-941f-3ae318854bd8/retry-rquests-when-fail.png)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2020-12-14T22:41:49.738Z","updated_at":"2022-11-22T19:53:12.472Z","closed_at":"2021-02-02T10:05:54.091Z","closed_by":{"id":4086191,"username":"cmaxim","name":"Costel Maxim","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4086191/avatar.png","web_url":"https://gitlab.com/cmaxim"},"labels":["HackerOne","Weakness::CWE-918","backend","devops::manage","group::integrations","priority::2","section::dev","security","severity::2","workflow::in review"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-02-12","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293733","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293733","notes":"https://gitlab.com/api/v4/projects/278964/issues/293733/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293733/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293733","relative":"#293733","full":"gitlab-org/gitlab#293733"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76053826,"iid":293729,"project_id":278964,"title":"Convert Approval Rules to use `gl-accordion`","description":"Once the `gl-accordion` has been merged \u003e https://gitlab.com/gitlab-org/gitlab-ui/-/merge_requests/1879. We should convert the approval rules dropdown that was introduced in this MR \u003e https://gitlab.com/gitlab-org/gitlab/-/merge_requests/47475#note_446724128 to use the accordion component üëç\n\n![image](/uploads/4e19d283fc60ec36db527f2389aea219/image.png)","state":"closed","created_at":"2020-12-14T22:04:11.562Z","updated_at":"2021-10-28T14:02:18.382Z","closed_at":"2021-02-19T15:34:28.609Z","closed_by":{"id":853414,"username":"andr3","name":"Andr√© Lu√≠s","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Deliverable","devops::create","frontend","group::code review","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293729","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293729","notes":"https://gitlab.com/api/v4/projects/278964/issues/293729/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293729/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293729","relative":"#293729","full":"gitlab-org/gitlab#293729"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76052723,"iid":293722,"project_id":278964,"title":"Re-name \"DevOps Report\" as \"DevOps Reports\"","description":"### Problem to solve\n\nCurrently there is a page called \"DevOps Report\" that has tabs for \"Score\" and \"Adoption\" (these tabs were introduced under https://gitlab.com/gitlab-org/gitlab/-/issues/247112, previously there were no tabs).  It is a bit difficult to explain \"DevOps Report\" (singular) clearly when it is basically made of multiple reports.  Also, it is difficult to explain to \"DevOps Report\" when it is a different thing depending on what tier you are in.\n\n### Proposal\n\nRe-name \"DevOps Report\" as \"DevOps Reports\".  This way it will be clear that it is a feature composed of sub-features, which may or may not be available in a given tier.\n\n- [x] Rename in the code: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73585\n- [x] Rename in the UI: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/73319\n- [x] Rename routes (feature and documentation): TBD","state":"closed","created_at":"2020-12-14T21:17:35.876Z","updated_at":"2022-03-29T09:49:57.148Z","closed_at":"2022-03-23T14:00:22.061Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Hackathon","backend","devops::manage","good for new contributors","group::optimize","missed:14.9","section::dev","type::feature","workflow::canary"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":10409869,"username":"anshulriyal","name":"Anshul Riyal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10409869/avatar.png","web_url":"https://gitlab.com/anshulriyal"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293722","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293722","notes":"https://gitlab.com/api/v4/projects/278964/issues/293722/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293722/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293722","relative":"#293722","full":"gitlab-org/gitlab#293722"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76050794,"iid":293719,"project_id":278964,"title":"JIRA Integration - (FE) On the pipeline security tab's vulnerability list, create Jira issue when Jira issue creation is enabled in integration settings","description":"Customers can create issues directly from the Pipeline Security tab's Vulnerability list by selecting the following icon associated with each record in-line on the table. \n\n\u003e ![image](/uploads/382c8baa5dd71f25f5e8ccedda21cc3b/image.png)\n\nWhen the \"Enable Jira issue creation from vulnerabilities\" is selected (see #289810), this button should create an issue in JIRA instead of in GitLab. \n\n## Links\n\n## Vulnerability List \n\n![image](/uploads/8846dbec7f2aa23115263b49f93c24a8/image.png)\n\nThis change should check if the data for the given vulnerability-finding contains a jira-ticket-creation link and in case if it does trigger the JIRA issue creation flow. \n\n\nAnd change the button's link to the URL provided by the ~backend.\n\n## Design Issue\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/8942/\n\n## Implementation Plan\n\n* [x] Within `ee/app/assets/javascripts/security_dashboard/components/vulnerability_action_buttons.vue`\n  * [x] Add logic to `handleCreateIssue` method:\n    * [x] If `vulnerability.create_jira_issue_url` is not an empty string then open new browser tap with the url\n    * [x] Display a different tooltip for the `create issue` button\n* [x] Add specs","state":"closed","created_at":"2020-12-14T19:59:04.569Z","updated_at":"2021-02-22T03:00:22.523Z","closed_at":"2021-02-22T03:00:22.472Z","closed_by":{"id":4155411,"username":"dpisek","name":"David Pisek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155411/avatar.png","web_url":"https://gitlab.com/dpisek"},"labels":["Category:Vulnerability Management","Enterprise Edition","Integration::Jira","customer","devops::secure","feature::addition","frontend","group::threat insights","issues","section::sec","type::feature","workflow::verification"],"milestone":{"id":1233760,"iid":56,"group_id":9970,"title":"13.9","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.334Z","updated_at":"2022-04-21T07:21:28.468Z","due_date":"2021-02-17","start_date":"2021-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/56"},"assignees":[],"author":{"id":4906978,"username":"lkerr","name":"Lindsay Kerr","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906978/avatar.png","web_url":"https://gitlab.com/lkerr"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293719","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293719","notes":"https://gitlab.com/api/v4/projects/278964/issues/293719/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293719/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293719","relative":"#293719","full":"gitlab-org/gitlab#293719"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4710,"epic":{"id":134714,"iid":4710,"title":"Vulnerability Jira Issue Creation","url":"/groups/gitlab-org/-/epics/4710","group_id":9970,"human_readable_end_date":"Feb 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76048661,"iid":293714,"project_id":278964,"title":"[DevOps Adoption] Clear previously-selected groups when creating a new segment","description":"### Problem to solve\n\nOn the DevOps Report page, if you add multiple segments in a row, the groups selected for the previous segment will appear when you click to create the next segment.  You must either manually un-select these pre-selected groups, or reload the page to clear them.\n\n### Proposal\n\nWhen you click to \"Add new segment\", all groups in the dialog are un-selected and the name input field should be cleared.","state":"closed","created_at":"2020-12-14T18:53:20.982Z","updated_at":"2021-01-25T12:28:45.441Z","closed_at":"2021-01-22T06:15:25.076Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["devops::manage","frontend","group::optimize","priority::4","section::dev","type::feature","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293714","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293714","notes":"https://gitlab.com/api/v4/projects/278964/issues/293714/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293714/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293714","relative":"#293714","full":"gitlab-org/gitlab#293714"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76047589,"iid":293709,"project_id":278964,"title":"Convert quick actions autocomplete from at.js to tribute","description":"Convert quick actions autocomplete from `at.js` to `tribute`.\n\nThis change is behind a feature flag `:tribute_autocomplete`, defaulted to off.","state":"closed","created_at":"2020-12-14T18:11:56.016Z","updated_at":"2021-01-05T15:39:44.256Z","closed_at":"2021-01-05T15:39:44.207Z","closed_by":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"labels":["devops::plan","feature flag","feature::addition","frontend","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"}],"author":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"type":"ISSUE","assignee":{"id":4545397,"username":"cngo","name":"Coung Ngo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4545397/avatar.png","web_url":"https://gitlab.com/cngo"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293709","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293709","notes":"https://gitlab.com/api/v4/projects/278964/issues/293709/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293709/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293709","relative":"#293709","full":"gitlab-org/gitlab#293709"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4002,"epic":{"id":84549,"iid":4002,"title":"Replace jquery.caret / jquery.atwho / At.js for autocompletion","url":"/groups/gitlab-org/-/epics/4002","group_id":9970,"human_readable_end_date":"Feb 22, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":76045163,"iid":293700,"project_id":278964,"title":"When creating a pipeline manually with Empty Variable, Variable is not assigned to pipeline as of 13.6.2","description":"### Summary\n\nWhen manually creating a pipeline on the pipelines page, you can add variables to that pipeline run. In version previous to 13.6.2, variables could be set with a null value. Now, in 13.6.2, variables added with no value assigned appear to no get applied to the pipeline. I have conditions for some jobs that simply check:\n\n```\nrules:\n    - if: '$RUN_ALL_CHECKS != null'\n```\n\nIf variables are applied with a value, then they appear in the pipeline.\n\n### Steps to reproduce\n\nManually create a pipeline, add a variable with no value. Variable does not appear applied to pipeline or the jobs.\n\n### What is the current *bug* behavior?\n\nNo variable applied\n\n### What is the expected *correct* behavior?\n\nVariable applied with no value\n\n### Proposal \n\nI would change the filter function to not filter out variables that do not have a value. Since it seems some users rely on that.","state":"closed","created_at":"2020-12-14T17:07:30.272Z","updated_at":"2021-05-18T07:07:23.431Z","closed_at":"2021-04-30T13:22:49.019Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["CI variables","Category:Continuous Integration","Deliverable","approaching-SLO","automation:ml","automation:ml wrong","devops::verify","frontend","group::pipeline execution","missed-SLO","priority::3","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":1233762,"iid":58,"group_id":9970,"title":"13.12","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.948Z","updated_at":"2022-04-21T07:22:18.898Z","due_date":"2021-05-17","start_date":"2021-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/58"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4125953,"username":"trickyhead","name":"Richard Head","state":"active","avatar_url":"https://secure.gravatar.com/avatar/51ced0e20428ba797cbd434724dc2e83?s=80\u0026d=identicon","web_url":"https://gitlab.com/trickyhead"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293700","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293700","notes":"https://gitlab.com/api/v4/projects/278964/issues/293700/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293700/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293700","relative":"#293700","full":"gitlab-org/gitlab#293700"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5124,"epic":{"id":175714,"iid":5124,"title":"Bugs: Variables","url":"/groups/gitlab-org/-/epics/5124","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":76044859,"iid":293697,"project_id":278964,"title":"x.509-signed commits to not display as \"Verified\"/\"Unverified\" as do GPG-signed commits","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What is the user problem you are trying to solve with this issue? --\u003e\n\nCurrently, using [x.509](https://docs.gitlab.com/ee/user/project/repository/x509_signed_commits/) as the signing method for commits does not result in either a \"Verified\" or \"Unverified\" png image being displayed next to the commit hash.  Ex.\n\n![Screen_Shot_2020-12-11_at_5.30.47_PM](/uploads/cd0991a4cb2563791c69b4d6e07cc421/Screen_Shot_2020-12-11_at_5.30.47_PM.png)\n\nThis feature is implemented for [GPG signing](https://docs.gitlab.com/13.4/ee/user/project/repository/gpg_signed_commits/index.html). Ex.\n\n![Screen_Shot_2020-12-11_at_5.28.13_PM](/uploads/2670f9470801a53617acda180481a0c6/Screen_Shot_2020-12-11_at_5.28.13_PM.png)\n\n### Proposal \n\n\u003c!-- Use this section to explain the feature and how it will work. It can be helpful to add technical details, design proposals, and links to related epics or issues. --\u003e\n\nThis unverified/verified status should be displayed for x.509-signed commits.  Failing this, the [documentation for configuration x.509-signed commits](https://docs.gitlab.com/ee/user/project/repository/x509_signed_commits/) should be updated to clearly indicate this absence of this feature for this method of commit signing.\n\n### User experience goal\n\nUsers who utilize the x.509 key pairs on their smart cards could easily sign and visually verify their commits without having to do so via something like `git log --show-signatures`.\n\n### Additional details\n\nGitlab EE version: v13.5.4\n\nGitlab Helm Chart version: 4.5.4\n\nCustom Root CAs have been imported using the [method supplied by the helm chart](https://gitlab.com/gitlab-org/charts/gitlab/-/blob/master/doc/charts/globals.md#custom-certificate-authorities)","state":"closed","created_at":"2020-12-14T16:58:33.055Z","updated_at":"2022-12-26T19:27:58.104Z","closed_at":"2021-02-23T09:20:36.059Z","closed_by":{"id":4391348,"username":"sean_carroll","name":"Sean Carroll","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4391348/avatar.png","web_url":"https://gitlab.com/sean_carroll"},"labels":["Category:Source Code Management","Deliverable","backend","backend-weight::2","customer","devops::create","group::source code","priority::3","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":1233761,"iid":57,"group_id":9970,"title":"13.10","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:14.646Z","updated_at":"2022-04-21T07:22:00.171Z","due_date":"2021-03-17","start_date":"2021-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/57"},"assignees":[{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"}],"author":{"id":2464127,"username":"chaospuppy","name":"Tim Seagren","state":"active","avatar_url":"https://secure.gravatar.com/avatar/6b0b5a3c80dcebf4291ba7e7105599a3?s=80\u0026d=identicon","web_url":"https://gitlab.com/chaospuppy"},"type":"ISSUE","assignee":{"id":2167502,"username":"robotmay_gitlab","name":"Robert May","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2167502/avatar.png","web_url":"https://gitlab.com/robotmay_gitlab"},"user_notes_count":79,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293697","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293697","notes":"https://gitlab.com/api/v4/projects/278964/issues/293697/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293697/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293697","relative":"#293697","full":"gitlab-org/gitlab#293697"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76044238,"iid":293693,"project_id":278964,"title":"Add connection_type to stages and jobs in ci_config_lint","description":"## What does this MR do?\n\nThis is an issue for the backend for: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49983\n\nWe need to change the response structure for `Ci::ConfigResolver`, so it can include `nodes` via `connection_type`. This change is needed to clean up some technical debt in how the frontend consumes data, as we currently have two different approaches for dealing the same data.\n\n#### Current State:\n\n\u003cdetails\u003e\n\u003csummary\u003eExample query\u003c/summary\u003e  \n\n```\nquery ($content: String!) {\n  ciConfig(content: $content) {\n    stages {\n      name\n      groups {\n        size\n        name\n        jobs {\n          name\n          needs {\n            name\n          }\n        }\n      }\n    }\n  }\n}\n```  \n\n`{\n  \"content\": \"rspec 0 1:\\n  stage: build\\n  script: \\\"rake spec\\\"\\n  needs: []\\n\\nrspec 0 2:\\n  stage: build\\n  script: \\\"rake spec\\\"\\n  needs: []\\n\\nspinach:\\n  stage: build\\n  script: \\\"rake spinach\\\"\\n  needs: []\\n\\ndocker:\\n  stage: test\\n  script: \\\"curl http://dockerhub/URL\\\"\\n  needs: [spinach, rspec 0 1]\\n\"\n}`\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eResponse: \u003c/summary\u003e  \n\n```\n{\n  \"data\": {\n    \"ciConfig\": {\n      \"stages\": [\n        {\n          \"name\": \"build\",\n          \"groups\": [\n            {\n              \"size\": 2,\n              \"name\": \"rspec\",\n              \"jobs\": [\n                {\n                  \"name\": \"rspec 0 1\",\n                  \"needs\": []\n                },\n                {\n                  \"name\": \"rspec 0 2\",\n                  \"needs\": []\n                }\n              ]\n            },\n            {\n              \"size\": 1,\n              \"name\": \"spinach\",\n              \"jobs\": [\n                {\n                  \"name\": \"spinach\",\n                  \"needs\": []\n                }\n              ]\n            }\n          ]\n        },\n        {\n          \"name\": \"test\",\n          \"groups\": [\n            {\n              \"size\": 1,\n              \"name\": \"docker\",\n              \"jobs\": [\n                {\n                  \"name\": \"docker\",\n                  \"needs\": [\n                    {\n                      \"name\": \"spinach\"\n                    },\n                    {\n                      \"name\": \"rspec 0 1\"\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n```\n\n\u003c/details\u003e  \n\n#### What is needed:\n\n\u003cdetails\u003e\n\u003csummary\u003eExample query\u003c/summary\u003e  \n\n```\nquery ($content: String!) {\n  ciConfig(content: $content) {\n    stages {\n      nodes {\n        name\n        groups {\n          nodes {\n            size\n            name\n            jobs {\n              nodes {\n                name\n                needs {\n                  nodes {\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n```  \n\n`{\n  \"content\": \"rspec 0 1:\\n  stage: build\\n  script: \\\"rake spec\\\"\\n  needs: []\\n\\nrspec 0 2:\\n  stage: build\\n  script: \\\"rake spec\\\"\\n  needs: []\\n\\nspinach:\\n  stage: build\\n  script: \\\"rake spinach\\\"\\n  needs: []\\n\\ndocker:\\n  stage: test\\n  script: \\\"curl http://dockerhub/URL\\\"\\n  needs: [spinach, rspec 0 1]\\n\"\n}`\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eThis should be the response: \u003c/summary\u003e  \n\n```\n{\n  \"data\": {\n    \"ciConfig\": {\n      \"stages\": {\n        \"nodes\": [\n          {\n            \"name\": \"build\",\n            \"groups\": {\n              \"nodes\": [\n                {\n                  \"size\": 2,\n                  \"name\": \"rspec\",\n                  \"jobs\": {\n                    \"nodes\": [\n                      {\n                        \"name\": \"rspec 0 1\",\n                        \"needs\": {\n                          \"nodes\": []\n                        }\n                      },\n                      {\n                        \"name\": \"rspec 0 2\",\n                        \"needs\": {\n                          \"nodes\": []\n                        }\n                      }\n                    ]\n                  }\n                },\n                {\n                  \"size\": 1,\n                  \"name\": \"spinach\",\n                  \"jobs\": {\n                    \"nodes\": [\n                      {\n                        \"name\": \"spinach\",\n                        \"needs\": {\n                          \"nodes\": []\n                        }\n                      }\n                    ]\n                  }\n                }\n              ]\n            }\n          },\n          {\n            \"name\": \"test\",\n            \"groups\": {\n              \"nodes\": [\n                {\n                  \"size\": 1,\n                  \"name\": \"docker\",\n                  \"jobs\": {\n                    \"nodes\": [\n                      {\n                        \"name\": \"docker\",\n                        \"needs\": {\n                          \"nodes\": [\n                            {\n                              \"name\": \"spinach\"\n                            },\n                            {\n                              \"name\": \"rspec 0 1\"\n                            }\n                          ]\n                        }\n                      }\n                    ]\n                  }\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  }\n}\n```\n\n\u003c/details\u003e\n\n## Does this MR meet the acceptance criteria?\n\n### Conformity\n\n- [X] [Changelog entry](https://docs.gitlab.com/ee/development/changelog.html) \n- [X] [Documentation](https://docs.gitlab.com/ee/development/documentation/workflow.html) ([if required](https://docs.gitlab.com/ee/development/documentation/workflow.html#when-documentation-is-required))\n- [X] [Code review guidelines](https://docs.gitlab.com/ee/development/code_review.html)\n- [X] [Merge request performance guidelines](https://docs.gitlab.com/ee/development/merge_request_performance_guidelines.html)\n- [X] [Style guides](https://gitlab.com/gitlab-org/gitlab-ee/blob/master/doc/development/contributing/style_guides.md)\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/293693","state":"closed","created_at":"2020-12-14T16:40:12.117Z","updated_at":"2021-01-18T07:07:12.864Z","closed_at":"2020-12-30T14:38:58.273Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Category:Pipeline Authoring","Deliverable","backend","devops::verify","direction","group::pipeline authoring","section::ops","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293693","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"5 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293693","notes":"https://gitlab.com/api/v4/projects/278964/issues/293693/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293693/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293693","relative":"#293693","full":"gitlab-org/gitlab#293693"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76041016,"iid":293689,"project_id":278964,"title":"Group Analytics side bar link and -/analytics redirect don't match","description":"### Summary\n\nOn a Group page, clicking the **Analytics** link in the sidebar navigates to the **Value Stream Analytics** page (for example: https://gitlab.com/groups/gitlab-org/-/analytics/value_stream_analytics?created_after=2020-11-14\u0026created_before=2020-12-13\u0026value_stream_id=531).\n\nHowever, navigating directly to `https://gitlab.com/groups/gitlab-org/-/analytics` redirects to the **Contribution Analytics** page (for example: https://gitlab.com/groups/gitlab-org/-/contribution_analytics).\n\nIntuitively, the sidebar link and the `-/analytics` redirect should point to the same page.\n\n### Steps to reproduce\n\n- Navigate to https://gitlab.com/gitlab-org and click the **Analytics** sidebar link\n   - This will navigate you to the **Value Stream Analytics** page: https://gitlab.com/groups/gitlab-org/-/analytics/value_stream_analytics?created_after=2020-11-14\u0026created_before=2020-12-13\u0026value_stream_id=531\n- Paste `https://gitlab.com/groups/gitlab-org/-/analytics/` into your browser's address bar\n   - This will navigate you to the **Contribution Analytics** page: https://gitlab.com/groups/gitlab-org/-/contribution_analytics\n\n### Possible fixes\n\nA few possible fixes:\n\n1. Update the `-/analytics` redirect to instead point to the **Value Stream Analytics**\n   - **Pros:** Very easy. Consistent with the decision made in https://gitlab.com/gitlab-org/gitlab/-/issues/210317 (and implemented in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27277)\n   - **Cons:** Reinforces an inconsistency. Currently, all other sidebar links point to the _first_ sub-item. The **Analytics** sidebar item is the only exception.\n1. Update the **Analytics** sidebar item to point to the **Contribution Analytics** page\n   - **Pros:** Consistent with the rest of the sidebar design\n   - **Cons:** Undoes the decision made in https://gitlab.com/gitlab-org/gitlab/-/issues/210317 (and implemented in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/27277)\n1. Do \u003cspan\u003e#\u003c/span\u003e1, and also move the **Value Stream Analytics** subitem to the top of the list.\n   - **Pros:** Consistent with current sidebar design, and doesn't undo https://gitlab.com/gitlab-org/gitlab/-/issues/210317\n   - **Cons:** This option seems to have already been considered in https://gitlab.com/gitlab-org/gitlab/-/issues/210317#note_306326669, and decided against for some reason :thinking:","state":"closed","created_at":"2020-12-14T15:24:43.524Z","updated_at":"2021-03-04T21:02:54.632Z","closed_at":"2021-03-04T20:38:45.959Z","closed_by":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"labels":["Category:Value Stream Management","backend","devops::manage","group::optimize","priority::4","section::dev","severity::4","type::bug","workflow::ready for development"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"}],"author":{"id":493585,"username":"nfriend","name":"Nathan Friend","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cd23f74a33fc7d8dfe081948696551a5?s=80\u0026d=identicon","web_url":"https://gitlab.com/nfriend"},"type":"ISSUE","assignee":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293689","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293689","notes":"https://gitlab.com/api/v4/projects/278964/issues/293689/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293689/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293689","relative":"#293689","full":"gitlab-org/gitlab#293689"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76039601,"iid":293685,"project_id":278964,"title":"Many environments strategies break the row","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nReproducible on `.com` When adding many long environment strategies to a Feature Flag the tokens are displayed weirdly.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n- go to a Project Feature Flags section\n- create or update a Feature Flagh\n- add \u003e 7 environments to one strategy with a name like `customers-development`\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\nCan be viewed [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags).\n\n### What is the current *bug* behavior?\n\nThe tokens break into 2 lines and have a bigger size that what they should have\n\n\u003c!-- Describe what actually happens. --\u003e\n\n### What is the expected *correct* behavior?\n\nThe tokens should flow into a second row\n\n\u003c!-- Describe what you should see instead. --\u003e\n\n### Relevant logs and/or screenshots\n\n|Desktop|Mobile|\n|-|-|\n|![Screenshot_2020-12-14_at_14.53.45](/uploads/d9449449d9b6301b45ee4e05bbff26f6/Screenshot_2020-12-14_at_14.53.45.png)|![Screenshot_2020-12-14_at_15.46.10](/uploads/7fd510a87f9d265bd6d1bc0c9a157ea6/Screenshot_2020-12-14_at_15.46.10.png)|\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2020-12-14T14:52:18.707Z","updated_at":"2021-10-28T14:02:19.289Z","closed_at":"2020-12-16T14:29:27.681Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["Category:Feature Flags","Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","type::bug","type::maintenance","workflow::production"],"milestone":{"id":1233757,"iid":54,"group_id":9970,"title":"13.7","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:43:14.893Z","updated_at":"2022-04-13T14:51:12.240Z","due_date":"2020-12-17","start_date":"2020-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/54"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293685","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293685","notes":"https://gitlab.com/api/v4/projects/278964/issues/293685/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293685/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293685","relative":"#293685","full":"gitlab-org/gitlab#293685"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":76038408,"iid":293680,"project_id":278964,"title":"Add `dismissal_reason` argument to `Mutations::Vulnerabilities::Dismiss`","description":"## Why are we doing this work\n\nAs outlined in the [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/227284) customers would like to be able to bulk \ndismiss vulnerabilities with a reason. To do this, our GraphQL mutation needs to support `reason` argument.\n\n## Relevant links\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/227284)\n\n## Implementation plan\n\n* [x] ~backend Add `dismissal_reason` argument to `Mutations::Vulnerabilities::Dismiss` (`ee/app/graphql/mutations/vulnerabilities/dismiss.rb`)\n* [x] ~backend Adjust `Vulnerabilities::DismissService` (`ee/app/services/vulnerabilities/dismiss_service.rb`) to account for `dismissal_reason` argument passed from the GraphQL mutation\n* [x] ~backend Adjust `VulnerabilityFeedback::CreateService` (`ee/app/services/vulnerability_feedback/create_service.rb`) to account for `dismissal_reason` argument","state":"closed","created_at":"2020-12-14T14:27:21.736Z","updated_at":"2021-01-08T00:52:02.301Z","closed_at":"2021-01-05T03:18:54.850Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueir√≥","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","backend","customer","devops::secure","feature::addition","group::threat insights","section::sec","security dashboard","type::feature","workflow::production"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":487608,"username":"Quintasan","name":"Micha≈Ç ZajƒÖc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293680","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293680","notes":"https://gitlab.com/api/v4/projects/278964/issues/293680/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293680/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293680","relative":"#293680","full":"gitlab-org/gitlab#293680"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4649,"epic":{"id":129180,"iid":4649,"title":"Vulnerability bulk status updates","url":"/groups/gitlab-org/-/epics/4649","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e788\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":76038102,"iid":293679,"project_id":278964,"title":"Add `dismissal_reason` field to Vulnerabilites::Feedback model","description":"## Why are we doing this work?\n\nAs outlined in the [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/227284) customers would like to be able to bulk dismiss vulnerabilities with a reason.\n\n## Relevant links\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/227284)\n\n## Implementation plan\n\n* [x] ~database Add `dismissal_reason` column to `vulnerability_feedback` table. Column should be `smallint NULL`\n* [x] ~backend Add `dismissal_reason` enum to `Vulnerabilities::Feedback` (`ee/app/models/vulnerabilities/feedback.rb`) model with values outlined in [Design: Dismissal types / reasons](https://gitlab.com/gitlab-org/gitlab/-/issues/196976)","state":"closed","created_at":"2020-12-14T14:20:20.661Z","updated_at":"2021-01-04T08:45:53.527Z","closed_at":"2020-12-31T18:30:28.732Z","closed_by":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"labels":["Category:Vulnerability Management","backend","customer","database","devops::secure","feature::addition","group::threat insights","section::sec","security dashboard","type::feature","workflow::verification"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"}],"author":{"id":487608,"username":"Quintasan","name":"Micha≈Ç ZajƒÖc","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/487608/avatar.png","web_url":"https://gitlab.com/Quintasan"},"type":"ISSUE","assignee":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"user_notes_count":15,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293679","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293679","notes":"https://gitlab.com/api/v4/projects/278964/issues/293679/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293679/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293679","relative":"#293679","full":"gitlab-org/gitlab#293679"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4649,"epic":{"id":129180,"iid":4649,"title":"Vulnerability bulk status updates","url":"/groups/gitlab-org/-/epics/4649","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e788\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":76035225,"iid":293675,"project_id":278964,"title":"Job log is not show immediately after cancel/retry job action","description":"### Problem\n\nWe recently stopped unnecessary polling on the job trace endpoint. Trace polling was kicked off before a job was started and if visibility was hidden. This caused a great deal of strain on Redis. This has now been fixed. Although it introduced a UI regression where if you cancel a job and then retry it, the job trace is not fetched immediately. The user will have to refresh the UI one time to get the job trace and kick off polling. This can be seen in the below video.\n\n![cancel-retry-trace-bug](/uploads/b9b8e4b0ec5f6e58befa3aaa1fe0781f/cancel-retry-trace-bug.mov)\n\n### Bug Theory\n\nWe now check a jobs state before kicking off trace polling. Meaning if the job has not started or does not have a trace, we do not start trace polling. When you cancel a job then retry a job you are redirected to the same view (current implementation). Most likely on that redirect your job will be in a pending state, which means we will not kick off trace polling (because the job has not started). I suspect the previous implementation of always trace polling no matter the jobs state was to prevent issues like this but we don't want to do that because of the server resources it will eat up.\n\n### Related MRs up to this point\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/48516\n\nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/49752\n\n### Potential solution\n\nLet's revert the work done in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48516 \u0026\u0026 https://gitlab.com/gitlab-org/gitlab/-/merge_requests/49752 and move back to polling the trace endpoint all the time to prevent race conditions. Let's make the trace endpoint return a `204` if the job has not started or does not have a trace.","state":"closed","created_at":"2020-12-14T13:46:29.854Z","updated_at":"2021-01-07T13:46:36.321Z","closed_at":"2021-01-07T13:46:36.274Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","[deprecated] Accepting merge requests","backend","bug::performance","devops::verify","frontend","group::pipeline execution","priority::3","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":1233759,"iid":55,"group_id":9970,"title":"13.8","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2020-04-09T17:44:13.983Z","updated_at":"2022-04-13T14:51:23.220Z","due_date":"2021-01-17","start_date":"2020-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/55"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":18,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293675","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293675","notes":"https://gitlab.com/api/v4/projects/278964/issues/293675/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293675/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293675","relative":"#293675","full":"gitlab-org/gitlab#293675"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":76032784,"iid":293674,"project_id":278964,"title":"Backend: Expand ENVIRONMENT variables before sending it to the runner","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n\n### Release notes\n\nYou can now use variables as part of the ENVIRONMENT field in `.gitlab-ci.yml` files. These variables can be instance, group, or project CI/CD variables. This improvement provides you with more flexibility to define pipelines. You can copy the same `.gitlab-ci.yml` file to multiple projects and use variables to alter its behavior. This allows for less duplication in the `.gitlab-ci.yml` file and reduces the need for complicated per-project configuration. \n\n\n### Problem\nCurrently we don't expand some variables before sending them to the runner\ne.g. An environment URL that uses multi-level variable dependencies. E.g. in the example below, `environment.url` currently resolves to `https://${STACK_NAME}.example.com` instead of `https://appname-my-test-branch.example.com` when `CI_COMMIT_REF_SLUG=my-test-branch`:\n\n```yaml\n.deploy:\n  environment:\n    name: ${ENVIRONMENT_NAME}\n    url: https://${MAIN_DOMAIN}\n  variables:\n    MAIN_DOMAIN: ${STACK_NAME}.example.com\n    STACK_NAME: appname-${ENVIRONMENT_NAME}\n\nproduction:\n  extends: .deploy\n  variables:\n    ENVIRONMENT_NAME: ${CI_COMMIT_REF_SLUG}\n```\n\n\u003cdetails\u003e\u003csummary\u003eClick to expand\u003c/summary\u003e\n\n\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nOnce we merge https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48627 and https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69653 which will ensure we sort and correctly expand all known variables recursively before sending them in a job response to the Runner, there is still a missing scenario of variables that we'd want to expand on the GitLab app side. For instance, an environment URL that uses multi-level variable dependencies. E.g. in the example below, `environment.url` currently resolves to `https://${STACK_NAME}.example.com` instead of `https://appname-my-test-branch.example.com` when `CI_COMMIT_REF_SLUG=my-test-branch`:\n\n```yaml\n.deploy:\n  environment:\n    name: ${ENVIRONMENT_NAME}\n    url: https://${MAIN_DOMAIN}\n  variables:\n    MAIN_DOMAIN: ${STACK_NAME}.example.com\n    STACK_NAME: appname-${ENVIRONMENT_NAME}\n\nproduction:\n  extends: .deploy\n  variables:\n    ENVIRONMENT_NAME: ${CI_COMMIT_REF_SLUG}\n```\n\nor  `only: changes: `block\n\n```yaml\nvariables:\n  SERVICE_PATH: \"services/gitlab-builder-k8s\"\n\ngitlab-builder-k8s:\n  image: $DOCKER_REGISTRY/gitlab-builder-docker:0.0.5\n  script:\n    - docker build -t $DOCKER_REGISTRY/$SERVICE_NAME:$SERVICE_VERSION -t $DOCKER_REGISTRY/$SERVICE_NAME:latest -f $SERVICE_PATH/Dockerfile $SERVICE_PATH\n  only:\n    changes:\n      # - services/gitlab-builder-k8s/* works\n      - $SERVICE_PATH/* # does not work\n```\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n--\u003e\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab-runner/-/issues/26345)\n- [Preceding MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/48627)\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Testing:\n\n\u003c/details\u003e\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n--\u003e\n\n- [ ] Replace usages of `ExpandVariables.expand` and `ExpandVariables.expand_existing` with `Gitlab::Ci::Variables::Collection#sort_and_expand_all` to perform a topological sort and multi-level expansion.\n\nWe should have a unified approach to expanding the values from the YAML files, instead of performing ad-hoc calls to `ExpandVariables` in only selected YAML elements. This would make things work more in line with user expectations and would avoid the need to document each of the YAML elements where we support variable expansion.\n\n## Technical note\n\nAs far as I understand from the implementation plan, in `app/services/deployments/update_environment_service.rb`, `variables` of `expanded_environment_url` should be expanded with `sort_and_expand_all`.\n\n\u003c!--\nWorkflow and other relevant labels\n\n~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\n--\u003e\n\u003c!--\nOther settings you might want to include when creating the issue.\n\n--\u003e","state":"closed","created_at":"2020-12-14T13:30:49.983Z","updated_at":"2022-08-25T12:57:52.940Z","closed_at":"2022-04-27T12:55:43.835Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["CI variables","Category:Pipeline Authoring","[Deprecated] Category:Runner","backend","customer","customer+","devops::verify","group::pipeline authoring","missed:14.0","priority::2","release post item::in review","section::ops","severity::2","type::bug","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":1388762,"username":"pedropombeiro","name":"Pedro Pombeiro","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1388762/avatar.png","web_url":"https://gitlab.com/pedropombeiro"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":71,"merge_requests_count":0,"upvotes":39,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/293674","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/293674","notes":"https://gitlab.com/api/v4/projects/278964/issues/293674/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/293674/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#293674","relative":"#293674","full":"gitlab-org/gitlab#293674"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3589,"epic":{"id":68280,"iid":3589,"title":"Expand variable handling capabilities in GitLab CI","url":"/groups/gitlab-org/-/epics/3589","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e944\u003c/strong\u003e days elapsed"},"iteration":{"id":47581,"iid":59,"sequence":14,"group_id":9970,"title":"Pipeline Authoring: April 18, 2022 - May 1, 2022","description":"Target milestone `15.0`","state":3,"created_at":"2022-02-06T00:05:01.693Z","updated_at":"2022-05-02T00:05:02.688Z","start_date":"2022-04-18","due_date":"2022-05-01","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/47581"},"health_status":"on_track"}]