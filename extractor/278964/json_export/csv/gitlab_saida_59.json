[{"id":90301079,"iid":336170,"project_id":278964,"title":"Fix Security features tables cross-joining `ci_builds` -\u003e Remove `[analyzer]_scans` metrics join to ci_builds","description":"From https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092#note_626027123 we see that [Security::Scan.latest_successful_by_build](https://gitlab.com/gitlab-org/gitlab/-/blob/8338073a97eacf576a063d5fa818effc4b5393a1/ee/app/models/security/scan.rb#L41) requires joining from non `ci_*` tables to `ci_*` tables. There is also a [similar join happening in `UsageData#count_secure_scans`](https://gitlab.com/gitlab-org/gitlab/-/blob/e20771af6d0516ddcf99a12a464582b22189fe89/ee/lib/ee/gitlab/usage_data.rb#L417). When we extract `ci_*` tables to a new database this will not be possible.\n\nAs such we need to find an alternative approach. \n\n### UsageData metrics\n\nThe specific metrics are:\n\n```\nconfig/metrics/counts_28d/20210216183832_dast_scans.yml\n3:key_path: usage_activity_by_stage_monthly.secure.dast_scans\n\nconfig/metrics/counts_28d/20210216183836_coverage_fuzzing_scans.yml\n3:key_path: usage_activity_by_stage_monthly.secure.coverage_fuzzing_scans\n\nconfig/metrics/counts_28d/20210216183830_container_scanning_scans.yml\n3:key_path: usage_activity_by_stage_monthly.secure.container_scanning_scans\n\nconfig/metrics/counts_28d/20210216183826_sast_scans.yml\n3:key_path: usage_activity_by_stage_monthly.secure.sast_scans\n\nconfig/metrics/counts_28d/20210216183834_secret_detection_scans.yml\n3:key_path: usage_activity_by_stage_monthly.secure.secret_detection_scans\n\nconfig/metrics/counts_28d/20210216183838_api_fuzzing_scans.yml\n3:key_path: usage_activity_by_stage_monthly.secure.api_fuzzing_scans\n```\n\n### Options\n\n1. Is it possible to remove or somehow refactor this code so that this isn't necessary?\n2. Is it possible to de-normalize the `ci_builds.status` column onto the `security_scans` model so that no join is necessary? This may be an issue if the status changes after we create `security_scans` record as we'll also have to keep this up to date.\n3. Is there a performant way for us to do this in 2 separate queries and join in memory?\n4. Is there a new table we could create to store the relevant data we need to construct these queries? It will be de-normalized and storing redundant info that is on the other tables, can be written to only after the data needs to be stored (eg. after a build finishes) and can be written in sidekiq and then it will allow much faster querying for the specific data we need for the feature.\n\n### Sharding team recommendation\n\nIt appears to me these 2 joins are only used for `UsageData` and it's only used to avoid double counting for retried CI builds. It appears we should just replace this with the double-counted version which isn't necessarily a worse metric anyway.\n\nAlso I think using `count distinct by build_id` could also solve the double counting problem except it will count in-progress or failed jobs. \n\nIn any case the recommended approach will be simplify the metrics even if it means losing some level of detail and approach the metric again considering the limitations of the 2 separate databases.\n\n### Proposal \n\nThese metrics should report for all scans independent of build status or build retried status. This will remove the required join on the `ci_builds` table.","state":"closed","created_at":"2021-07-14T22:53:24.168Z","updated_at":"2022-11-15T16:17:28.434Z","closed_at":"2021-08-20T09:25:23.515Z","closed_by":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"labels":["devops::secure","feature::enhancement","group::dynamic analysis","pods::active","section::sec"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":35,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336170","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336170","notes":"https://gitlab.com/api/v4/projects/278964/issues/336170/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336170/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336170","relative":"#336170","full":"gitlab-org/gitlab#336170"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6373,"epic":{"id":309455,"iid":6373,"title":"Decomposition: Make Secure features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6373","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90301055,"iid":336169,"project_id":278964,"title":"Email invited members can join projects even after the member lock has been enabled","description":"**[HackerOne report #1256967](https://hackerone.com/reports/1256967)** by `justas_b` on 2021-07-10, assigned to GitLab Team:\n\n[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)\n\n## Report\n\n\u003e NOTE! Thanks for submitting a report! Please replace *all* the (parenthesized) sections below with the pertinent details. Remember, the more detail you provide, the easier it is for us to triage and respond quickly, so be sure to take your time filling out the report!\n\n#####  Summary\n\nEmail invites don't get revoked after the **Member lock** option has been turned on at group settings. More info: https://docs.gitlab.com/ee/user/group/#prevent-members-from-being-added-to-a-group\n\n#####  Steps to reproduce\n\n1. Create a group  \n2. Create a project  \n3. Send an invite to an email you own but haven't yet created a Gitlab account with\n\n![bandicam_2021-07-10_18-29-56-026.jpg](https://h1.sec.gitlab.net/a/f185614b-0409-4fa9-8df2-53f8b379fae8/bandicam_2021-07-10_18-29-56-026.jpg)\n\n4. Go to **Settings** -\u003e **General** -\u003e **Permissions** and turn on the **Member lock** option\n\n![bandicam_2021-07-10_18-29-34-279.jpg](https://h1.sec.gitlab.net/a/ea906441-2143-4361-9ff7-deae42cbc711/bandicam_2021-07-10_18-29-34-279.jpg)\n\n5. Create a Gitlab account with the email you've sent an invitation to  \n6. When the account is created, it joins the project automatically\n\n![bandicam_2021-07-10_18-35-39-621.jpg](https://h1.sec.gitlab.net/a/cd442668-1ad9-4bdc-96c5-7e8fe0e922fa/bandicam_2021-07-10_18-35-39-621.jpg)\n\n![bandicam_2021-07-10_18-36-02-456.jpg](https://h1.sec.gitlab.net/a/ff084ebb-8989-406e-9299-f6bfc12f8882/bandicam_2021-07-10_18-36-02-456.jpg)\n\n#####  Examples\n\n(If the bug is project related, please create an example project and export it using the project export feature)\n\n(If you are using an older version of GitLab, this will also help determine whether the bug has been fixed in a more recent version)\n\n(If the bug can be reproduced on GitLab.com without violating the `Rules of Engagement` as outlined in the program policy, please provide the full path to the project.)\n\n#####  What is the current *bug* behavior?\n\nNew members can join projects when member lock is enabled\n\n#####  What is the expected *correct* behavior?\n\nAll email invites should be revoked when member lock is enabled\n\n#####  Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,  \nlogs, and code as it's very hard to read otherwise.)\n\n#####  Output of checks\n\nThis bug happens on GitLab.com\n\n######  Results of GitLab environment info\n\n(For installations with omnibus-gitlab package run and paste the output of:  \n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:  \n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n####  Impact\n\nNew members can join projects when the member lock option is enabled\n\n## Attachments\n\n**Warning:** Attachments received through HackerOne, please exercise caution!\n\n* [bandicam_2021-07-10_18-29-34-279.jpg](https://h1.sec.gitlab.net/a/ea906441-2143-4361-9ff7-deae42cbc711/bandicam_2021-07-10_18-29-34-279.jpg)\n* [bandicam_2021-07-10_18-29-56-026.jpg](https://h1.sec.gitlab.net/a/f185614b-0409-4fa9-8df2-53f8b379fae8/bandicam_2021-07-10_18-29-56-026.jpg)\n* [bandicam_2021-07-10_18-35-39-621.jpg](https://h1.sec.gitlab.net/a/cd442668-1ad9-4bdc-96c5-7e8fe0e922fa/bandicam_2021-07-10_18-35-39-621.jpg)\n* [bandicam_2021-07-10_18-36-02-456.jpg](https://h1.sec.gitlab.net/a/ff084ebb-8989-406e-9299-f6bfc12f8882/bandicam_2021-07-10_18-36-02-456.jpg)","state":"closed","created_at":"2021-07-14T22:50:54.001Z","updated_at":"2022-08-29T05:39:15.666Z","closed_at":"2022-07-29T08:54:28.875Z","closed_by":{"id":9043659,"username":"rshambhuni","name":"Rohit Shambhuni","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9043659/avatar.png","web_url":"https://gitlab.com/rshambhuni"},"labels":["Category:Authentication and Authorization","Deliverable","HackerOne","backend","bug::vulnerability","devops::manage","group::organization","priority::3","section::dev","security","severity::4","type::bug","workflow::awaiting security release"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"}],"author":{"id":2741139,"username":"gitlab-securitybot","name":"GitLab SecurityBot","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2741139/avatar.png","web_url":"https://gitlab.com/gitlab-securitybot"},"type":"ISSUE","assignee":{"id":2982208,"username":"mksionek","name":"Gosia Ksionek","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2982208/avatar.png","web_url":"https://gitlab.com/mksionek"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2022-07-26","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336169","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336169","notes":"https://gitlab.com/api/v4/projects/278964/issues/336169/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336169/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336169","relative":"#336169","full":"gitlab-org/gitlab#336169"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90297216,"iid":336167,"project_id":278964,"title":"Adjust trial registration page heading for experiment","description":"The following discussion from !61639 should be addressed:\n\n- [ ] @kcomoli started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61639#note_621549321):  (+2 comments)\n\n    \u003e @dreedy Thanks for the ping. I left a non-blocking suggestion. I think we should get rid of the `Start a ultimate trial` title in the experiment ([example](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/61639#note_621540174)). Other than that all good here 👍\n\n## Examples from design spec\n\n| Breakpoint | Design\n|---|---\n| Desktop | ![Trial-register-desktop-1200-V1](/uploads/49037191633cbf48c5249a00ce0c66ac/Trial-register-desktop-1200-V1.png)\n| Tablet | ![Tablet-768](/uploads/178f4c136dd7dc1ca60369ca5e816d27/Tablet-768.png)\n| Mobile | ![Mobile-375](/uploads/aa9b6423293b31d268302500c1c43bab/Mobile-375.png)","state":"closed","created_at":"2021-07-14T22:24:18.046Z","updated_at":"2021-10-28T13:55:08.262Z","closed_at":"2021-07-21T21:48:10.512Z","closed_by":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"labels":["devops::growth","experiment::clean up","group::acquisition","section::growth","type::maintenance"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"}],"author":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"type":"ISSUE","assignee":{"id":5755274,"username":"dreedy","name":"Dallas Reedy","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5755274/avatar.png","web_url":"https://gitlab.com/dreedy"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336167","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336167","notes":"https://gitlab.com/api/v4/projects/278964/issues/336167/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336167/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336167","relative":"#336167","full":"gitlab-org/gitlab#336167"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6300,"epic":{"id":302692,"iid":6300,"title":"[Engineering] Add reassurance to the trial flow – design 1","url":"/groups/gitlab-org/-/epics/6300","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90297125,"iid":336166,"project_id":278964,"title":"Package: Evaluate impact of database decomposition","description":"From https://gitlab.com/groups/gitlab-org/-/epics/6289\n\n### Background\nThe main goal of the gitlab~19419036 decomposition efforts is to split the database into two, for the first iteration, to address database scalability concerns. The first iteration focuses on a database for CI and a database for the rest of the functionality. There are likely customers that depend on all of the data coming from a single database. This issue is to gather information, determine the impact of decomposing the database and create issues to resolve those dependencies to work with the new architecture. \n\n#### Implementation\n1. Architecture overview https://gitlab.com/groups/gitlab-org/-/epics/6168#solution.\n1. For the first iteration -\n   1. All `ci_*` tables will be moved into a second logical database.\n   1. All the other tables remain in one logical database.\n   1. [Migration plan of `ci_*` tables](https://about.gitlab.com/handbook/engineering/development/enablement/sharding/migrate-ci-tables-to-new-database-plan.html).\n1. The most part of implementation is based on [Rails 6 multi DB support](https://guides.rubyonrails.org/active_record_multiple_databases.html) so in simple terms we configure Rails to know which DB to use for each Rails model.\n1. [Remove all foreign keys that cross-join from/to CI](https://gitlab.com/gitlab-org/gitlab/-/issues/333412).\n1. [Make schema migrations aware of multiple databases](https://gitlab.com/gitlab-org/gitlab/-/issues/334232).\n\n### Request\n\n1. Determine whether the impact is on the critical path of the first iteration.\n1. Find a solution as the details become clear.\n\nExamine how data is extracted from the database then think about how decomposed databases could impact your features.\n\n1. Do you see potential impacts from the decomposition PoC https://gitlab.com/gitlab-org/gitlab/-/merge_requests/62092?\n1. Do you connect to the database directly?\n1. Does your feature require data joins from the two logical databases?\n1. Does your ActiveRecord query span tables in the two logical databases?\n\n/cc @sgoldstein @trizzi","state":"closed","created_at":"2021-07-14T22:19:06.937Z","updated_at":"2021-08-19T15:02:22.568Z","closed_at":"2021-08-19T07:23:48.438Z","closed_by":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"labels":["Category:Container Registry","Category:Package Registry","Category:Pods","Package:P1","devops::package","feature::addition","group::package registry","package:active","section::ops","type::feature","workflow::in dev"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"}],"author":{"id":3913904,"username":"dcroft","name":"Daniel Croft","state":"active","avatar_url":"https://secure.gravatar.com/avatar/2af6159fa5cd9659356041c6a9b9ce62?s=80\u0026d=identicon","web_url":"https://gitlab.com/dcroft"},"type":"ISSUE","assignee":{"id":3983112,"username":"10io","name":"David Fernandez","state":"active","avatar_url":"https://secure.gravatar.com/avatar/4c42a43361e29bf7ed36cf8e54cb54bb?s=80\u0026d=identicon","web_url":"https://gitlab.com/10io"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-07-30","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336166","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336166","notes":"https://gitlab.com/api/v4/projects/278964/issues/336166/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336166/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336166","relative":"#336166","full":"gitlab-org/gitlab#336166"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6379,"epic":{"id":309971,"iid":6379,"title":"Decomposition: Make Ops features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6379","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90285606,"iid":336138,"project_id":278964,"title":"Prevent CSP bypass that use Rails' ujs data links","description":"### Summary\n\nRails data links (probably not really how they're called, please correct me on the terminology) allow fetching a JavaScript file and inserting it into the DOM with the correct `nonce` attribute, bypassing the CSP\n\nSee https://github.com/rails/rails/blob/ac86921b2e9e4ebec125c250f13677019a5539a0/actionview/app/assets/javascripts/rails-ujs/utils/ajax.coffee#L72\n\n~~I opened an issue in the Rails project but I don't understand enough in what context this is legitimately used and need to do more homework on this. https://github.com/rails/rails/issues/42164~~ I closed it, I need more understanding of this to make a good suggestion\n\n### Steps to reproduce\n\nAssuming an XSS vulnerability, inject\n\n```html\n\u003ca data-remote=\"true\" data-method=\"get\" data-type=\"script\" href=\"https://gitlab.com/path/to/raw/evil.js\"\u003eXSS\u003c/a\u003e\n```\n\n### Example Project\n\nUsed in https://gitlab.com/gitlab-org/gitlab/-/issues/213273\n\nThe attacker can use CSS to make the link take the full page and make it transparent so the victim is definitely going to click on it and trigger the vulnerability.\n\n### What is the current *bug* behavior?\n\nIt's possible to load a malicious script with the correct nonce\n\n### What is the expected *correct* behavior?\n\nIt shouldn't be possible to inject arbitrary scripts with the correct nonce\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-07-14T17:15:49.901Z","updated_at":"2022-11-22T19:37:45.773Z","closed_at":"2022-06-10T13:56:47.069Z","closed_by":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"labels":["Category:Design System","Next Up","devops::manage","frontend","group::foundations","priority::3","section::dev","security","security-issue-escalated","severity::4","type::bug","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"}],"author":{"id":4992072,"username":"dcouture","name":"Dominic Couture","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4992072/avatar.png","web_url":"https://gitlab.com/dcouture"},"type":"ISSUE","assignee":{"id":553096,"username":"markrian","name":"Mark Florian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/553096/avatar.png","web_url":"https://gitlab.com/markrian"},"user_notes_count":37,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-10-12","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336138","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336138","notes":"https://gitlab.com/api/v4/projects/278964/issues/336138/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336138/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336138","relative":"#336138","full":"gitlab-org/gitlab#336138"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6363,"epic":{"id":308713,"iid":6363,"title":"Content Security Policy improvements","url":"/groups/gitlab-org/-/epics/6363","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":90285417,"iid":336137,"project_id":278964,"title":"Add Snowplow tracking to environment actions","description":"### Problem\n\nBased on #335228, we want to track usage of the action buttons on the environments page:\n\n![image](/uploads/4b733c8d4354e7e88fbf693f4c59bdf7/image.png)\n\n### Proposal \n\nAdd snowplow events to track each one of the available actions, with the following structure:\n\n```\ncategory: [projects:environments:index]\nlabel: environment_stop\naction: click_button\n```\n\nIn paralell, it would also be good to capture (either in Snowplow or Sisense)\n\n* Number of sessions on environments page\n* Number of sessions on environment page with events\n\nThat way we can understand relative usage between actions, but also how often users are taking actions relative to their visits on the page.","state":"closed","created_at":"2021-07-14T17:10:35.174Z","updated_at":"2021-08-18T07:05:24.161Z","closed_at":"2021-08-04T19:58:21.839Z","closed_by":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"labels":["Category:Release Orchestration","Deliverable","Release::P1","UX","candidate::14.2","devops::release","environments","frontend","group::release","section::ops","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"}],"author":{"id":8059235,"username":"dfosco","name":"Daniel Fosco","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8059235/avatar.png","web_url":"https://gitlab.com/dfosco"},"type":"ISSUE","assignee":{"id":262533,"username":"afontaine","name":"Andrew Fontaine","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/262533/avatar.png","web_url":"https://gitlab.com/afontaine"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336137","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336137","notes":"https://gitlab.com/api/v4/projects/278964/issues/336137/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336137/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336137","relative":"#336137","full":"gitlab-org/gitlab#336137"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90280891,"iid":336128,"project_id":278964,"title":"sbt dependency scanning missing certain dependency paths","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nCertain paths in a multiproject `sbt` dependency scanning report are not represented.\n\n### Details\n\nSee this thread for more context: https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/merge_requests/107#note_531211070\n\nThe [dependencies-compile.dot files](https://gitlab.com/gitlab-org/security-products/tests/scala-sbt-multiproject/-/tree/336128-reproduce-bug) of the test project can be used to compare to [this attached report](/uploads/a9312517f664e06e4cde12545b512727/gl-dependency-scanning-report.json).\n\nThe dot file contents show that `jackson-annotations` and `jackson-core` are children of `jackson-databind`:\n```dot\n    \"com.example:proj2_2.12:0.1.0-SNAPSHOT\" -\u003e \"com.fasterxml.jackson.core:jackson-databind:2.9.2\"\n    \"com.fasterxml.jackson.core:jackson-databind:2.9.4\" -\u003e \"com.fasterxml.jackson.core:jackson-core:2.9.4\"\n    \"com.fasterxml.jackson.core:jackson-databind:2.9.4\" -\u003e \"com.fasterxml.jackson.core:jackson-annotations:2.9.0\"\n    \"com.fasterxml.jackson.core:jackson-databind:2.9.2\" -\u003e \"com.fasterxml.jackson.core:jackson-databind:2.9.4\" [label=\"Evicted By\" style=\"stroke-dasharray: 5,5\"]\n}\n```\n\nThe DS report shows that they are top-level dependencies (i.e. `dependency_path` set):\n\n```json\n{\n  \"path\": \"proj2/build.sbt\",\n  \"package_manager\": \"sbt\",\n  \"dependencies\": [\n    {\n      \"iid\": 1,\n      \"package\": {\n        \"name\": \"com.example/proj2_2.12\"\n      },\n      \"version\": \"0.1.0-SNAPSHOT\"\n    },\n    {\n      \"iid\": 4,\n      \"package\": {\n        \"name\": \"com.fasterxml.jackson.core/jackson-annotations\"\n      },\n      \"version\": \"2.9.0\"\n    },\n    {\n      \"iid\": 3,\n      \"package\": {\n        \"name\": \"com.fasterxml.jackson.core/jackson-core\"\n      },\n      \"version\": \"2.9.4\"\n    },\n    {\n      \"iid\": 2,\n      \"dependency_path\": [\n        {\n          \"iid\": 1\n        }\n      ],\n      \"package\": {\n        \"name\": \"com.fasterxml.jackson.core/jackson-databind\"\n      },\n      \"version\": \"2.9.4\"\n    }\n  ]\n}\n```\n\n\n### What is the current *bug* behavior?\n\nCertain paths in the `dot graph` are not represented in the final dependency scanning report.\n\n### What is the expected *correct* behavior?\n\nThese paths ought to show up.\n\n### Possible fixes\n\nThis is likely occurring in the `sbt` parser module of `gemnasium` where some uniqueness check causes an already seen dependency to be missing from the graph.\n\n### Implementation plan\n\nThe issue seems to stem from using a pointer in the edge between two dependencies here: https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/scanner/parser/parser.go#L59\n\nBecause the object gets re-used, its `From` field is also re-used.\n\n- [ ] Update `parser.Dependency` to make `To` and `From` non-pointer fields\n- [ ] Modify `sbt`, `nuget`, and `yarn` to properly pass object copies rather than references\n- [ ] Release `gemnasium`\n- [ ] Release `gemnasium-maven` and `gemnasium-python` pointing to this new version\n\n### Testing\n\n- [ ] create `gemnasium` test that reproduces this bug and ensure it fails before and passes after fix\n- [ ] `gemnasium` integration tests continue to work\n- [ ] `gemnasium-python` integration tests continue to work\n- [ ] `gemnasium-maven` integration tests continue to work","state":"closed","created_at":"2021-07-14T15:41:51.038Z","updated_at":"2021-09-18T07:02:59.635Z","closed_at":"2021-09-03T17:20:42.506Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:Dependency Scanning","Deliverable","GitLab Ultimate","backend","devops::secure","group::composition analysis","priority::2","section::sec","severity::2","type::bug","won't do","wontfix","workflow::in dev"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336128","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336128","notes":"https://gitlab.com/api/v4/projects/278964/issues/336128/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336128/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336128","relative":"#336128","full":"gitlab-org/gitlab#336128"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90280747,"iid":336127,"project_id":278964,"title":"sbt dependency scanning shouldn't list the project itself as a dependency","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nReports generated for `sbt` projects by `gemnasium-maven` list the project itself as a dependency. This is unlike other package managers and frameworks.\n\n### Example Project\n\nExpectation: https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/blob/master/qa/expect/scala-sbt/gl-dependency-scanning-report.json#L2695\n\nProject: https://gitlab.com/gitlab-org/security-products/tests/scala-sbt\n\n### What is the current *bug* behavior?\n\nProject in which `build.sbt` exists is listed as a dependency in the dependency scanning report.\n\n### What is the expected *correct* behavior?\n\nProject shouldn't be listed.\n\n### Relevant logs and/or screenshots\n\nhttps://gitlab.com/gitlab-org/security-products/analyzers/gemnasium-maven/-/blob/master/qa/expect/scala-sbt/gl-dependency-scanning-report.json#L2695\n\n### Possible fixes\n\nFind top-level package when parsing the `dot file` graph and remove.\n\n### Implementation plan\n\nUpdate `gemnasium` `sbt` parser to remove the first node in the parsed dot graph via `g.RemoveNode(0)`: https://gitlab.com/gitlab-org/security-products/analyzers/gemnasium/-/blob/master/scanner/parser/sbt/sbt.go#L63","state":"closed","created_at":"2021-07-14T15:39:54.154Z","updated_at":"2022-02-18T07:03:18.664Z","closed_at":"2022-01-25T15:56:38.499Z","closed_by":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"labels":["Category:Dependency Scanning","Deliverable","GitLab Ultimate","backend","devops::secure","group::composition analysis","priority::2","release post item","section::sec","severity::3","type::bug","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"}],"author":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"type":"ISSUE","assignee":{"id":4668304,"username":"ifrenkel","name":"Igor Frenkel","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a73e8113c53ac25297ce751e59bbb1d3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ifrenkel"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336127","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336127","notes":"https://gitlab.com/api/v4/projects/278964/issues/336127/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336127/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336127","relative":"#336127","full":"gitlab-org/gitlab#336127"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":90277954,"iid":336116,"project_id":278964,"title":"Inline code quality: use popovers instead of tooltips","description":"## Proposal\n\nWe should use popovers instead of tooltips for the hover state of our inline code quality annotations feature (#2526) because: \n- it allows us to have more control over text formatting inside of the popover (vs tooltips)\n- it might be less invasive than the tooltip/modal combo approach that we started with\n- it could allow us to [get rid of the modal](https://modalzmodalzmodalz.com/) altogether :tada:\n\n## Documentation\n\n* Update [documentation](https://docs.gitlab.com/ee/user/project/merge_requests/code_quality.html#code-quality-in-diff-view) for feature with new image.","state":"closed","created_at":"2021-07-14T14:55:25.543Z","updated_at":"2021-08-09T18:24:15.537Z","closed_at":"2021-08-09T18:24:15.522Z","closed_by":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"labels":["Category:Build Artifacts","Category:Code Quality","GitLab Ultimate","UX","devops::verify","feature::enhancement","frontend","group::pipeline insights","section::ops","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"}],"author":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"type":"ISSUE","assignee":{"id":3374280,"username":"mfluharty","name":"Miranda Fluharty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3374280/avatar.png","web_url":"https://gitlab.com/mfluharty"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336116","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336116","notes":"https://gitlab.com/api/v4/projects/278964/issues/336116/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336116/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336116","relative":"#336116","full":"gitlab-org/gitlab#336116"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":"on_track"},{"id":90272958,"iid":336099,"project_id":278964,"title":"Remove after_save callback to create integration webhooks","description":"### Background\n\nThe following discussion from !65577 should be addressed:\n\n- [ ] @toupeira started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65577#note_620630651):  (+2 comments)\n\n    \u003e **question:** Should we validate the presence of `service_hook`? This would give us another safeguard, but might also cause some other problems / surface other bugs.\n\n### Proposal\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65577 we ended up automatically creating the webhook records when they're needed, so with that behaviour we could actually remove the `after_save` callback in `HasWebHook` and rely on the automatic behaviour exclusively.\n\nSo we can either:\n\n- Remove the `after_save` callback.\n- Add a presence validation, and change the callback to be `before_save` so the validation can actually pass.","state":"closed","created_at":"2021-07-14T13:30:55.486Z","updated_at":"2022-11-22T19:37:47.561Z","closed_at":"2022-09-12T07:57:31.015Z","closed_by":{"id":6115756,"username":"joseph","name":"Joseph Wambua","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97a2e7dc3273d27e993f35de226a0ed6?s=80\u0026d=identicon","web_url":"https://gitlab.com/joseph"},"labels":["Category:Integrations","backend","devops::manage","group::integrations","maintenance::refactor","missed:15.3","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":6115756,"username":"joseph","name":"Joseph Wambua","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97a2e7dc3273d27e993f35de226a0ed6?s=80\u0026d=identicon","web_url":"https://gitlab.com/joseph"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":6115756,"username":"joseph","name":"Joseph Wambua","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97a2e7dc3273d27e993f35de226a0ed6?s=80\u0026d=identicon","web_url":"https://gitlab.com/joseph"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336099","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336099","notes":"https://gitlab.com/api/v4/projects/278964/issues/336099/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336099/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336099","relative":"#336099","full":"gitlab-org/gitlab#336099"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90272768,"iid":336098,"project_id":278964,"title":"Move webhook association from Integration model into HasWebHook concern","description":"The following discussion from !65577 should be addressed:\n\n- [ ] @toupeira started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65577#note_620629972):  (+2 comments)\n\n    \u003e **question:** Should we move the association from the `Integration` model into this concern while we're at it? It would require some minor refactoring in a few places, basically doing `integration.try(:service_hook)` instead of `integration.service_hook`.\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e       has_one :service_hook, inverse_of: :integration, foreign_key: :service_id\n    \u003e \n    \u003e       after_save :compose_web_hook, if: :activated?\n    \u003e ```","state":"closed","created_at":"2021-07-14T13:27:16.484Z","updated_at":"2022-11-22T19:37:48.163Z","closed_at":"2022-08-20T07:52:43.013Z","closed_by":{"id":6115756,"username":"joseph","name":"Joseph Wambua","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97a2e7dc3273d27e993f35de226a0ed6?s=80\u0026d=identicon","web_url":"https://gitlab.com/joseph"},"labels":["Category:Integrations","backend","devops::manage","group::integrations","maintenance::refactor","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":6115756,"username":"joseph","name":"Joseph Wambua","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97a2e7dc3273d27e993f35de226a0ed6?s=80\u0026d=identicon","web_url":"https://gitlab.com/joseph"}],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":{"id":6115756,"username":"joseph","name":"Joseph Wambua","state":"active","avatar_url":"https://secure.gravatar.com/avatar/97a2e7dc3273d27e993f35de226a0ed6?s=80\u0026d=identicon","web_url":"https://gitlab.com/joseph"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336098","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336098","notes":"https://gitlab.com/api/v4/projects/278964/issues/336098/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336098/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336098","relative":"#336098","full":"gitlab-org/gitlab#336098"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90271692,"iid":336094,"project_id":278964,"title":"Upgrade version-app ruby version to 2.7.2","description":"We should upgrade version-app ruby version to 2.7.2\n\nThis could require a spike issue to check what changes are required","state":"closed","created_at":"2021-07-14T13:09:19.119Z","updated_at":"2022-03-16T11:41:08.115Z","closed_at":"2021-08-03T14:15:17.230Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["backend","devops::growth","group::product intelligence","maintenance::workflow","section::growth","type::maintenance","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336094","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336094","notes":"https://gitlab.com/api/v4/projects/278964/issues/336094/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336094/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336094","relative":"#336094","full":"gitlab-org/gitlab#336094"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6371,"epic":{"id":309188,"iid":6371,"title":"Version-App maintenance","url":"/groups/gitlab-org/-/epics/6371","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":90271598,"iid":336093,"project_id":278964,"title":"Upgrade rails version to 6.0.4.1 in version-app","description":"We should upgrade rails version to 6.0.4.1. Same as we have in GitLab app\n\nMight be a spike issue to check if any changes are required. \n\nMight be we take smaller steps with different rails versions in between","state":"closed","created_at":"2021-07-14T13:07:50.886Z","updated_at":"2022-03-16T11:41:08.998Z","closed_at":"2021-09-01T04:11:26.355Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["backend","devops::growth","group::product intelligence","maintenance::workflow","missed:14.2","section::growth","spike","type::maintenance","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336093","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336093","notes":"https://gitlab.com/api/v4/projects/278964/issues/336093/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336093/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336093","relative":"#336093","full":"gitlab-org/gitlab#336093"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6371,"epic":{"id":309188,"iid":6371,"title":"Version-App maintenance","url":"/groups/gitlab-org/-/epics/6371","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":90269868,"iid":336088,"project_id":278964,"title":"Documentation: Explain Jira app self-managed setup","description":"We have a section in the [docs](https://docs.gitlab.com/ee/integration/jira/connect-app.html#install-the-gitlabcom-for-jira-cloud-app-for-self-managed-instances) about installing the GitLab for Jira app for self-managed instances. It explains two workarounds. With the [proxy solution](https://gitlab.com/groups/gitlab-org/-/epics/5650) in place, we need to explain this too. We should also mention that using the proxy means that Jira secrets are shared with GitLab.com.\n\nThe setup will look like this:\n\n1. On the self-managed instance, go to `admin/applications`\n2. Click **New Application**\n3. Fill the fields\n    - **Name**: 'GitLab for Jira App'\n    - **Redirect URI**: `https://gitlab.com/-/jira_connect/oauth_callbacks`\n    - **Scopes**: `api`\n    - Make sure **Trusted** and **Confidential** are not selected\n4. Click **Save Application**\n5. Copy **Application ID**\n6. Go to `admin/application_settings/general`\n7. Expand **GitLab for Jira App**\n8. Paste the **Application ID**\n9. Set **Jira Connect Proxy URL** to `https://gitlab.com`\n10. Click **Save changes**\n12. Go to the app [marketplace listing](`https://marketplace.atlassian.com/apps/1221011/gitlab-com-for-jira-cloud`) and install the app\n12. Select **Self-managed**\n13. Insert the URL of your GitLab instance\n\nOnce the documentation is in place, it should be linked [here](https://gitlab.com/gitlab-org/gitlab/-/blob/53158cf5da7c8cd51baee0b8ba76998424b6ab7c/app/views/admin/application_settings/_jira_connect_application_key.html.haml#L11) instead of the marketplace listing","state":"closed","created_at":"2021-07-14T12:41:07.212Z","updated_at":"2023-01-06T11:15:35.790Z","closed_at":"2022-11-25T09:28:13.518Z","closed_by":{"id":1315742,"username":"arturoherrero","name":"Arturo Herrero","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1315742/avatar.png","web_url":"https://gitlab.com/arturoherrero"},"labels":["Category:Integrations","Deliverable","Jira::ConnectApp","Technical Writing","backend","customer","devops::manage","docs::feature","documentation","feature::addition","group::integrations","missed-deliverable","missed:14.1","missed:14.10","missed:14.2","missed:15.1","missed:15.2","missed:15.4","missed:15.5","missed:15.6","quad-planning::complete-no-action","section::dev","tw-weight::5","type::feature","workflow::production"],"milestone":{"id":2717597,"iid":82,"group_id":9970,"title":"15.7","description":"","state":"active","created_at":"2022-07-29T14:48:31.199Z","updated_at":"2022-07-29T14:48:31.199Z","due_date":"2022-12-17","start_date":"2022-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/82"},"assignees":[{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},{"id":11980591,"username":"ashrafkhamis","name":"Ashraf Khamis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11980591/avatar.png","web_url":"https://gitlab.com/ashrafkhamis"}],"author":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"type":"ISSUE","assignee":{"id":16943,"username":"Andysoiron","name":"Andy Soiron","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/16943/avatar.png","web_url":"https://gitlab.com/Andysoiron"},"user_notes_count":21,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336088","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336088","notes":"https://gitlab.com/api/v4/projects/278964/issues/336088/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336088/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336088","relative":"#336088","full":"gitlab-org/gitlab#336088"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5650,"epic":{"id":230344,"iid":5650,"title":"Self-managed support extended to GitLab for Jira app","url":"/groups/gitlab-org/-/epics/5650","group_id":9970,"human_readable_end_date":"May 17, 2023","human_readable_timestamp":"\u003cstrong\u003e4\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":90243393,"iid":336069,"project_id":278964,"title":"Move CostFactor#for_visibility to private","description":"**NOTE: This issue is blocked by an epic: https://gitlab.com/groups/gitlab-org/-/epics/5909** \n\nThe following discussion from !65155 should be addressed:\n\n- [ ] @fabiopitino started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65155#note_625968210): \n\n    \u003e @avielle We need to follow up on this after https://gitlab.com/groups/gitlab-org/-/epics/5909 is done. Will open an issue.\n\n## Proposal\n\nOnce https://gitlab.com/groups/gitlab-org/-/epics/5909 is done we need to cleanup some code in `Ci::Minutes::CostFactor` to avoid that `for_visibility` method will be used in the future.","state":"closed","created_at":"2021-07-14T08:35:56.838Z","updated_at":"2022-09-10T12:07:29.195Z","closed_at":"2022-09-06T07:40:38.100Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["CI minutes","Category:Continuous Integration","[deprecated] Accepting merge requests","backend","devops::verify","good for new contributors","group::pipeline execution","maintenance::refactor","onboarding","section::ops","severity::2","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336069","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336069","notes":"https://gitlab.com/api/v4/projects/278964/issues/336069/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336069/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/278964/issues/370144"},"references":{"short":"#336069","relative":"#336069","full":"gitlab-org/gitlab#336069"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90241553,"iid":336065,"project_id":278964,"title":"Recommended installation instructions for container scanning creates dashboard noise","description":"The [documentation for container scanning encourages scanning a container](https://docs.gitlab.com/ee/user/application_security/container_scanning/#configuration) built with each unique SHA. This means that any vulnerabilities found will be resolved when a new commit is added to a branch. This will cause a lot of noise on the dashboard.\n\nExample of this problem is shown in this video. \n\nhttps://www.loom.com/share/25c2c04c930447e9843325e489bdfa32\n\n### Implementation Plan\n\n- [x] ~documentation Update the Configuration section in [doc/user/application_security/container_scanning/index.md](https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/user/application_security/container_scanning/index.md) to follow the script in [Jobs/Build.gitlab-ci.yml](https://gitlab.com/gitlab-org/manage/import/gitlab/-/blob/master/lib/gitlab/ci/templates/Jobs/Build.gitlab-ci.yml) or to use:\n\n```yaml\ninclude:\n  - template: Jobs/Build.gitlab-ci.yml\n```\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e","state":"closed","created_at":"2021-07-14T08:13:03.170Z","updated_at":"2022-01-07T15:28:27.193Z","closed_at":"2021-12-09T13:41:15.475Z","closed_by":{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"},"labels":["Category:Container Scanning","GitLab Ultimate","backend","devops::govern","direction","documentation","group::security policies","missed:14.5","section::sec","workflow::in dev"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"}],"author":{"id":4310743,"username":"sethgitlab","name":"Seth Berger","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4310743/avatar.png","web_url":"https://gitlab.com/sethgitlab"},"type":"ISSUE","assignee":{"id":9878214,"username":"bauerdominic","name":"Dominic Bauer","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9878214/avatar.png","web_url":"https://gitlab.com/bauerdominic"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336065","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336065","notes":"https://gitlab.com/api/v4/projects/278964/issues/336065/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336065/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336065","relative":"#336065","full":"gitlab-org/gitlab#336065"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5577,"epic":{"id":223714,"iid":5577,"title":"Custom Container Scanning Vulnerability Deduplication","url":"/groups/gitlab-org/-/epics/5577","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90240286,"iid":336061,"project_id":278964,"title":"Test different payloads on version-app","description":"With %\"14.1\" we're shipping a new metric data_category to Service Ping and will have `Standard`, `Operational`, `Optional`, and `Subscription` metrics. These metrics can be combined in different ways (see different scenarios here: https://gitlab.com/gitlab-org/gitlab/-/issues/333681#scenarios).\n\nAs not every instance will update to %\"14.1\" we want to make sure that the previous JSON payload is supported, as well as the new one.\n\n## Requirements\n\n1. Add a test on version-app that checks if the JSON payload pre %\"14.1\" succeeds\n1. Add a test for the different JSON payloads that can be submitted with %\"14.1\"","state":"closed","created_at":"2021-07-14T07:56:55.126Z","updated_at":"2022-03-16T11:41:09.582Z","closed_at":"2021-07-19T14:53:44.273Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Unplanned","backend","devops::growth","group::product intelligence","maintenance::workflow","missed:14.1","section::growth","type::maintenance","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336061","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336061","notes":"https://gitlab.com/api/v4/projects/278964/issues/336061/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336061/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336061","relative":"#336061","full":"gitlab-org/gitlab#336061"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6191,"epic":{"id":289512,"iid":6191,"title":"MVC Service Ping","url":"/groups/gitlab-org/-/epics/6191","group_id":9970,"human_readable_end_date":"Jul 18, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90238677,"iid":336059,"project_id":278964,"title":"Wrong color of the header in fly-out-menus in Dark mode","description":"The header of the fly-out-menus in the Dark mode is dark instead of the white that makes it unreadable.\n\n![Screenshot_2021-07-14_at_09.19.30](/uploads/f15683f87a2edccea6803c6b0aa70eb4/Screenshot_2021-07-14_at_09.19.30.png)","state":"closed","created_at":"2021-07-14T07:32:46.087Z","updated_at":"2021-07-19T06:38:00.441Z","closed_at":"2021-07-19T06:38:00.149Z","closed_by":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"labels":["devops::create","frontend","group::editor","section::dev","type::bug"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"}],"author":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"type":"ISSUE","assignee":{"id":3199302,"username":"dmishunov","name":"Denys Mishunov","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d85e45af29611ac2c1395e3c3d6ec5d6?s=80\u0026d=identicon","web_url":"https://gitlab.com/dmishunov"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336059","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336059","notes":"https://gitlab.com/api/v4/projects/278964/issues/336059/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336059/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336059","relative":"#336059","full":"gitlab-org/gitlab#336059"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90236606,"iid":336056,"project_id":278964,"title":"Create a client-side solution for _csv.html.haml blob viewer","description":"\n## Summary\n\nAs part of the effort of [refactoring the repository browser into a Vue app](https://gitlab.com/groups/gitlab-org/-/epics/5531), we need to add client-side blob viewers for our [haml-based blob viewers](https://gitlab.com/gitlab-org/gitlab/-/tree/master/app/views/projects/blob/viewers).\n\n**Note:** Since this effort is behind a feature flag, do not remove the haml-based blob viewer as part of this issue, we will remove the unused code in a separate issue.\n\n## Improvements\n\n* Performance:\n  * One Vue App for File viewing\n  * Much better caching as we cache in memory\n* Offload the Code Highlighting/rendering to the Frontend (through Monaco)\n* Potentially easier to incorporate more interactive viewers for each type of content\n\n## Risks\n\nBlob viewers are an important part of the frontend and in some cases shared between multiple parts of the codebase. We need to be mindful of how the changes we make affect other parts of the frontend, it is advisable to gradually rollout this refactor behind a feature flag.\n\nWe should also be mindful of how this effort affects the overall performance of the repository browser.\n\n## Involved components\n\n[_csv.html.haml](https://gitlab.com/gitlab-org/gitlab/-/tree/master/app/views/projects/blob/viewers/_csv.html.haml)\n\n## Guidelines\n\n- [example](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69078/diffs)\n\n### Creating the component\n\n:warning: Replace `{viewer-name}` in the examples below with the name of the blob viewer.\n\n1. Create a new Vue component for the blob viewer:\n    - e.g. `app/assets/javascripts/repository/components/blob_viewers/{viewer-name}_viewer.vue` \n1. Ensure that the newly created component is imported:\n    - e.g. [`{file-type}: () =\u003e import('./{viewer-name}_viewer.vue'),`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/repository/components/blob_viewers/index.js)\n    - `{file-type}` is the fileType that is passed from the backend.\n1. Add tests for the Vue component added in the Step 1:\n    - e.g. `spec/frontend/repository/components/blob_viewers/{viewer-name}_viewer_spec.js`\n\n### How to setup and validate locally (strongly suggested before assigning a reviewer)\n\nThis feature is behind the `:refactor_blob_viewer` feature flag.\n\n1. Run `rails c` in the project root.\n1. Run `Feature.enable(:refactor_blob_viewer)` in the rails console.\n1. Upload the appropriate file type.\n1. View the newly uploaded file and ensure that it works as expected.","state":"closed","created_at":"2021-07-14T06:52:27.233Z","updated_at":"2022-03-01T07:46:46.601Z","closed_at":"2022-03-01T07:46:46.586Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Hackathon","devops::create","feature::enhancement","frontend","group::source code","repository","section::dev","type::feature","workflow::verification"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":1196950,"username":"kimuraz","name":"Jose Eduardo Kimura Reis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1196950/avatar.png","web_url":"https://gitlab.com/kimuraz"},{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"type":"ISSUE","assignee":{"id":1196950,"username":"kimuraz","name":"Jose Eduardo Kimura Reis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1196950/avatar.png","web_url":"https://gitlab.com/kimuraz"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336056","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336056","notes":"https://gitlab.com/api/v4/projects/278964/issues/336056/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336056/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336056","relative":"#336056","full":"gitlab-org/gitlab#336056"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":90232390,"iid":336054,"project_id":278964,"title":"Diff note can possibly not show after a file has been changed","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen an existing diff note gets added on a line on a file and the file changes after and the changes didn't touch the same line, the diff note won't get displayed anymore.\n\n### Steps to reproduce\n\n1. Add a comment on a line.\n1. Update a line on the file that is not the commented line.\n1. Push the changes.\n1. The comment added on step 1 won't be displayed on refresh.\n\nThis can also be replicated by just applying a suggestion made on a different line.\n\n### Example Project\n\nhttps://gitlab.com/patrickbajao/verification/-/merge_requests/41\n\n### What is the current *bug* behavior?\n\nThe diff note that should still be displayed is no longer displayed on \"Changes\" tab.\n\n### What is the expected *correct* behavior?\n\nThe diff note that should still be displayed should still be shown on \"Changes\" tab.\n\n### Possible fixes\n\nInclude the position of the diff note in the cache key of discussion. If that does not work, look into bumping the diff note when position changes.","state":"closed","created_at":"2021-07-14T05:05:28.876Z","updated_at":"2021-08-05T09:12:47.923Z","closed_at":"2021-07-19T06:32:15.435Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["backend","devops::create","group::code review","section::dev","type::bug"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336054","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336054","notes":"https://gitlab.com/api/v4/projects/278964/issues/336054/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336054/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336054","relative":"#336054","full":"gitlab-org/gitlab#336054"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6142,"epic":{"id":285495,"iid":6142,"title":"Cache responses of endpoints used in merge request page","url":"/groups/gitlab-org/-/epics/6142","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90231669,"iid":336052,"project_id":278964,"title":"Warning when not allowed to edit files is not shown when the refactor_blob_viewer feature flag is enabled","description":"There is a warning that appears when a user with minimal access to a project tries to edit a file. When the `refactor_blob_viewer` feature flag is enabled that warning isn't displayed.\n\nThis fails the QA test `qa/specs/features/ee/browser_ui/1_manage/user/minimal_access_user_spec.rb` and `qa/specs/features/browser_ui/1_manage/user/user_access_termination_spec.rb`.\n\n| Feature flag disabled (expected behavior) | Feature flag enabled (incorrect behavior) |\n|---|---|\n| ![edit-fork-warning](/uploads/626b891628f70010ae9079cf7d8a15ef/edit-fork-warning.png) | ![no-warning](/uploads/fb4bb16e810429b312b1347af0749a5d/no-warning.png) |\n\n### To reproduce\n\n1. Add a user to a group with [minimal access](https://docs.gitlab.com/ee/user/permissions.html#users-with-minimal-access).\n1. Create a project in the group.\n1. Enable the `refactor_blob_viewer` feature flag.\n1. Sign in as the user with minimal access.\n1. Try to edit a file.","state":"closed","created_at":"2021-07-14T04:28:32.183Z","updated_at":"2021-11-04T04:02:44.682Z","closed_at":"2021-10-12T12:16:57.217Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","repository","section::dev","workflow::verification"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":655908,"username":"mlapierre","name":"Mark Lapierre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/655908/avatar.png","web_url":"https://gitlab.com/mlapierre"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336052","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336052","notes":"https://gitlab.com/api/v4/projects/278964/issues/336052/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336052/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336052","relative":"#336052","full":"gitlab-org/gitlab#336052"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":90229379,"iid":336045,"project_id":278964,"title":"Remove duplication from Security::CiConfiguration GraphQL mutations","description":"\u003c!-- This template is a great use for issues that are feature::additions or technical tasks for larger issues.--\u003e\n\n### Proposal \n\nThe purpose of this issue is to remove the duplication from the Security::CiConfiguration GraphQL mutations, since the following files all contain similar logic:\n\n- [ConfigureSecretDetection](https://gitlab.com/gitlab-org/gitlab/blob/da16dc67647/app/graphql/mutations/security/ci_configuration/configure_secret_detection.rb)\n- [ConfigureDependencyScanning](https://gitlab.com/gitlab-org/gitlab/blob/da16dc67647/ee/app/graphql/mutations/security/ci_configuration/configure_dependency_scanning.rb)\n- [ConfigureSast](https://gitlab.com/gitlab-org/gitlab/blob/da16dc67647/app/graphql/mutations/security/ci_configuration/configure_sast.rb)\n\nThis can be achieved by creating a new superclass for the above classes to inherit from, or it could be implemented using modules which are included in each of the above classes.","state":"closed","created_at":"2021-07-14T03:01:27.269Z","updated_at":"2022-02-09T15:22:18.413Z","closed_at":"2021-07-20T06:11:38.677Z","closed_by":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"labels":["AST Leadership","Category:Dependency Scanning","Deliverable","Enterprise Edition","GitLab Ultimate","backend","devops::secure","feature::addition","group::composition analysis","section::sec","type::feature","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"}],"author":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"type":"ISSUE","assignee":{"id":1674572,"username":"adamcohen","name":"Adam Cohen","state":"active","avatar_url":"https://secure.gravatar.com/avatar/68fe8da9d9dfc88d0d150808cd364825?s=80\u0026d=identicon","web_url":"https://gitlab.com/adamcohen"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336045","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336045","notes":"https://gitlab.com/api/v4/projects/278964/issues/336045/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336045/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336045","relative":"#336045","full":"gitlab-org/gitlab#336045"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90226342,"iid":336041,"project_id":278964,"title":"Remove Clair deprecation warning","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nClair/klar was deprecated in %14.0. We'll give customers 3 milestones to see the [deprecation warning in the docs](https://docs.gitlab.com/ee/user/application_security/container_scanning/) before removing it.\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\n- [Slack discussion](https://gitlab.slack.com/archives/CU9V380HW/p1625725044494700) (internal link)\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation: https://docs.gitlab.com/ee/user/application_security/container_scanning/\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n- [x] ~documentation remove warning at top of page\n\u003c!--\nSteps and the parts of the code that will need to get updated. The plan can also\ncall-out responsibilities for other team members or teams.\n\ne.g.:\n\n- [ ] ~frontend Step 1\n  - [ ] `@person` Step 1a\n- [ ] ~frontend Step 2\n\n--\u003e\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e\n\n/cc @ngaskill","state":"closed","created_at":"2021-07-14T00:50:27.226Z","updated_at":"2021-09-02T10:27:35.341Z","closed_at":"2021-09-02T10:27:35.279Z","closed_by":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"labels":["Category:Container Scanning","Technical Writing","automation:ml","automation:ml wrong","backend","documentation","group::security policies","section::sec","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":8401507,"username":"sashi_kumar","name":"Sashi Kumar Kumaresan","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8401507/avatar.png","web_url":"https://gitlab.com/sashi_kumar"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336041","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":8,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 8 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336041","notes":"https://gitlab.com/api/v4/projects/278964/issues/336041/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336041/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336041","relative":"#336041","full":"gitlab-org/gitlab#336041"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90225514,"iid":336040,"project_id":278964,"title":"Migrate CI tables to gitlab_ci shema","description":"## Proposal\n\nMigrate CI tables to `gitlab_ci` schema. Add `gitlab_ci` to schema_search_path so that this tables are visible\n\n### Risks\n\nThese tables will lock when we move them to a new schema. Needs `with_lock_retries`\n\nNote (`ahegyi`): we cannot move the tables at once because we wouldn't be able to acquire the locks. Each individual `ALTER TABLE xyz SET SCHEMA gitlab_shared` statement should be wrapped with `with_lock_retries`.\n\n/cc @ahegyi @pbair","state":"closed","created_at":"2021-07-14T00:09:04.070Z","updated_at":"2022-05-31T12:22:21.679Z","closed_at":"2022-04-12T02:33:26.715Z","closed_by":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"labels":["Category:Pods","Stretch","[deprecated] Accepting merge requests","ci-decomposition-followup","devops::data_stores","group::pods","section::enablement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336040","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336040","notes":"https://gitlab.com/api/v4/projects/278964/issues/336040/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336040/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336040","relative":"#336040","full":"gitlab-org/gitlab#336040"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6451,"epic":{"id":314946,"iid":6451,"title":"Use database SCHEMAs to better isolated CI decomposed features","url":"/groups/gitlab-org/-/epics/6451","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e546\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":90223647,"iid":336038,"project_id":278964,"title":"Uniform database configuration","description":"Extracted from https://gitlab.com/gitlab-org/gitlab/-/issues/332453#note_600822773\n\n## Uniform database configuration\n\nI think we need to consider a design that allows us in a central place describe many databases, and their relation. Make GDK/GCK/Omnibus/CNG consume that and provide a best good configuration where we point to the same database server, but with auto generated logical database names. Of course, allow to overwrite params for each of such.\n\nMaybe we need some JSON/YAML that would in a high-level detail describe different database purposes which would be consumed by each product and transformed into `config/database.yml` with relevant configs, replicas, and `migrations_paths `? Ex. `db/configurations.yaml`\n\n```yaml\nlogical_databases:\n  primary:\n    ...\n    migrations_paths: db/migrate\n    post_migrations_paths: db/post_migrate\n    replicas: true\n    pool_size: :threads # set pool size to number of threads\n  geo:\n    ...\n    migrations_paths: db/migrate\n    post_migrations_paths: db/post_migrate\n    optional: true # it means that it needs to be explicitly enabled in order to be used\n    replicas: false # this does not support replicas\n    pool_size: :threads # set pool size to number of threads\n  ci:\n    migrations_paths: db/migrate\n    post_migrations_paths: db/post_migrate\n    optional: false # initially not optional, but later automatically provision it\n    replicas: false # initially does not support replicas, but later enable it by default to true\n    pool_size: 4 # a fixed count\n```\n\nNow. We can make GCK/GDK/Omnibus/CNG provide a configuration to automatically configure DB connection details for each `key`. This would be joined/merged to provide `config/database.yml`.","state":"closed","created_at":"2021-07-13T22:52:08.753Z","updated_at":"2022-05-31T12:22:22.553Z","closed_at":"2022-04-13T06:08:40.124Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Pods","[deprecated] Accepting merge requests","ci-decomposition-followup","devops::data_stores","group::pods","section::enablement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336038","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336038","notes":"https://gitlab.com/api/v4/projects/278964/issues/336038/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336038/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336038","relative":"#336038","full":"gitlab-org/gitlab#336038"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6718,"epic":{"id":345707,"iid":6718,"title":"Decomposition: Follow-ups after the first iteration","url":"/groups/gitlab-org/-/epics/6718","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90223105,"iid":336037,"project_id":278964,"title":"Update translations levels (August 2021)","description":"## Introduction\n\nWith the implementation of the feature to show the [translation coverage](https://gitlab.com/gitlab-org/gitlab/-/issues/328430) in the language selection dropdown, the translation levels need to be updated on a monthly cadence. \n\n## Proposal\n\nOnce the monthly merge of the new translations is complete, update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L40) from Crowdin.\n\n## Documentation\n\n* https://docs.gitlab.com/ee/development/i18n/merging_translations.html#manually-update-the-translation-levels\n\n#### ToDo\n* [x] Complete the [regular monthly merge](https://gitlab.com/groups/gitlab-org/-/epics/3571) of translations from Crowdin. https://gitlab.com/gitlab-org/gitlab/-/issues/336036\n* [x] Get the translation levels (% approved words) from [Crowdin](https://crowdin.com/project/gitlab-ee/settings#translations).\n* [x] Create an MR to update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L40).\n* [x] Associate that MR to this issue.\n* [x] Complete the MR.\n* [x] When done, clone this issue for the next milestone.","state":"closed","created_at":"2021-07-13T22:25:30.989Z","updated_at":"2022-03-28T19:16:53.515Z","closed_at":"2021-08-13T23:42:27.604Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-08-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336037","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336037","notes":"https://gitlab.com/api/v4/projects/278964/issues/336037/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336037/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336037","relative":"#336037","full":"gitlab-org/gitlab#336037"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":90222941,"iid":336036,"project_id":278964,"title":"Merge i18n translations (August 2021)","description":"Merge the latest i18n translations from Crowdin on a monthly cadence.\n\nDocumentation available here: https://docs.gitlab.com/ee/development/i18n/merging_translations.html\n\n#### ToDo\n* [x] If needed, configure the [GitLab-Crowdin integration](https://docs.gitlab.com/ee/development/i18n/merging_translations.html#recreate-the-gitlab-integration-in-crowdin)\n* [x] Kick off an import from [Crowdin](https://crowdin.com/project/gitlab-ee/settings#integration-gitlab) (after August 1)\n* [x] Find the [MR](https://gitlab.com/gitlab-org/gitlab/-/merge_requests?scope=all\u0026utf8=%E2%9C%93\u0026state=opened\u0026author_username=gitlab-crowdin-bot) created by @gitlab-crowdin-bot and associate it with this issue\n* [x] Complete the MR\n* [x] Update the translation levels [data](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/i18n.rb#L40) with the latest numbers. https://gitlab.com/gitlab-org/gitlab/-/issues/336037\n* [x] When done, clone this issue for the next milestone.","state":"closed","created_at":"2021-07-13T22:23:26.541Z","updated_at":"2022-03-28T19:16:53.579Z","closed_at":"2021-08-13T23:47:32.785Z","closed_by":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"labels":["Category:Internationalization","Deliverable","Next Up","backend","devops::manage","estimation::completed","group::import","milestone::p2","section::dev","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"}],"author":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"type":"ISSUE","assignee":{"id":5247073,"username":"hdelalic","name":"Haris Delalić","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5247073/avatar.png","web_url":"https://gitlab.com/hdelalic"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-08-15","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336036","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":6},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"6 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336036","notes":"https://gitlab.com/api/v4/projects/278964/issues/336036/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336036/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336036","relative":"#336036","full":"gitlab-org/gitlab#336036"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3571,"epic":{"id":67045,"iid":3571,"title":"Regular i18n translation merges","url":"/groups/gitlab-org/-/epics/3571","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e1033\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":90220738,"iid":336032,"project_id":278964,"title":"Basic formatting of selected text in the Content Editor","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nFormatting text in the new WYSIWYG content editor can be tedious when you have to move your cursor up to the toolbar for every formatting action.\n\n### Proposal \n\nUse a tooltip or similar UI treatment that is displayed above selected text and provide basic formatting options.\n\nWe should start with: \n\n- Bold\n- Italic\n- Code\n- Strikethrough\n\nLater iterations will be added to the parent epic and include additional actions you might want to perform on selected text (like creating a link) and other contextual actions on different element types (like images or tables).\n\n## Implementation Proposal\n\n- Use [bubble menu extension](https://www.tiptap.dev/api/extensions/bubble-menu) to position context menu next to the text.\n- We can’t use the GitLab UI tooltip component directly to style the Bubble Menu. We should use the CSS classes to do that. \n- [Button groups](https://design.gitlab.com/components/button#group) work very well to organize the available formatting options in the menu. \n\n![image](/uploads/8066cce375770d4dc716a031b35e4940/image.png)\n\n\n\u003c!--- Use the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n\nConsider adding related issues and epics to this issue. You can also reference the Feature Proposal Template (https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Feature%20proposal%20-%20detailed.md) for additional details to consider adding to this issue. Additionally, as a data oriented organization, when your feature exits planning breakdown, consider adding the `What does success look like, and how can we measure that?` section.\n\nOther sections to consider adding: \n\n### Intended users\n\nWho will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager) \n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops) \n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n\n\n### User experience goal\n\nWhat is the single user experience workflow this problem addresses? \nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ \n\n\n### Further details\n\nInclude use cases, benefits, goals, or any other details that will help us understand the problem better. \n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members \n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members \n\n### Documentation\n\n See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html \n\n### Availability \u0026 Testing\n\nThis section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning \n\n### What does success look like, and how can we measure that?\n\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this. \n\n### What is the type of buyer?\n\nWhat is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers\n\n### Is this a cross-stage feature?\n\nCommunicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e","state":"closed","created_at":"2021-07-13T21:00:06.226Z","updated_at":"2021-08-10T17:18:32.607Z","closed_at":"2021-08-10T15:57:49.892Z","closed_by":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"labels":["Content Editor","GitLab Free","devops::create","direction","documentation","group::editor","section::dev","type::feature","workflow::design"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":5212466,"username":"ericschurter","name":"Eric Schurter","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5212466/avatar.png","web_url":"https://gitlab.com/ericschurter"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336032","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336032","notes":"https://gitlab.com/api/v4/projects/278964/issues/336032/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336032/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336032","relative":"#336032","full":"gitlab-org/gitlab#336032"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6353,"epic":{"id":307961,"iid":6353,"title":"Introduce contextual formatting UI in the Content Editor","url":"/groups/gitlab-org/-/epics/6353","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90218745,"iid":336026,"project_id":278964,"title":"Incident Tag MVC","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nAs an incident responder, I want to capture relevant incident timestamps, so that I can construct an accurate incident timeline and provide reporting for learning and improvement.\n\nRight now, the only timestamps we capture for incidents are issue creation time or closure. Unfortunately, issue creation or closure may or may not correspond to the actual incident start or end time.\n\nAccurately capturing the incident start and end time is important because it allows teams to more accurately track metrics for ongoing efficiency reporting. Capturing these metrics also allows for potentially interesting analysis further down the line, such as a scatter plot of `impact start` by time of day, or avg response time by day of week. \n\n### Intended users\n\n* Incident responders\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\nEnsure that the systems we're putting in place will result in accurate incident reporting\n\n### Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\nFor a first iteration, we will allow incident responders to define the incident `start` and `end time`. Additional timestamp categories will be added in future, as part of https://gitlab.com/gitlab-org/gitlab/-/issues/360315.\n\nTo allow users to define a tag, we'll utilize the existing \"add timeline event\" form, introducing a new \"event type\" dropdown. As a first pass, the options in this dropdown will include `start time` and `end time`.\n\nIf someone selects a timestamp from the event type dropdown, the comment field will pre-populate with either `Incident start time` or `Incident end time`, depending on what's selected. That text can be edited by the user before saving.\n\nHere's how that would look:\n\n| New event tag field - default view | Help popover |  Event tag options | Default event text supplied in the comment section | User may edit default comment text | Event tag indicated with badge on the timeline | Editing event tags | \n| ------ | ------ | ------ | ------ |------ | ------ | ------ | \n|![1](/uploads/627bc5cc8c12f26051042e763bae55e1/1.png) | ![2](/uploads/df86fefb6c78cb59c1428c2678909c7b/2.png) |![3](/uploads/a529b25351e173e7f0c2aaa653c72100/3.png) |  ![4](/uploads/411628d5d11a2e398d6445f5537c0a50/4.png)| ![5](/uploads/666481d974834c228381df4884d21bd7/5.png) |![6](/uploads/6d98d46bb14fddae94a85d76b5d62119/6.png) |![7](/uploads/5f3f391258b3031af41e8894127b82d0/7.png)|\n\n[Figma file](https://www.figma.com/file/3k2HPBkWJPTTM90BAOe2cm/Capture-incident-timestamps-gitlab-com%26336026?node-id=1916%3A34069)\n\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\nMore discussion in https://gitlab.com/gitlab-org/gitlab/-/issues/241730#note_605624766\n\n#### Vocabulary/definitions\n\n1. Every timeline record is an `event`\n1. An event may or may not have a `tag` (to differentiate from labels)\n1. A tag is something with a specific definition that may be reused across incidents\n1. There are GitLab defined `tags` - in the future, there may be customer defined `tags` and calculation based on custom tags.\n1. A comment is a user provided input associated to an event\n1. An event must have 1 comment. If a tag is selected we will pre-populate the comment field for users to edit.\n1. An event can have 0 or more tags\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-07-13T19:43:59.100Z","updated_at":"2022-09-14T16:49:53.295Z","closed_at":"2022-09-14T16:49:52.789Z","closed_by":{"id":9304687,"username":"abellucci","name":"Alana Bellucci","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9304687/avatar.png","web_url":"https://gitlab.com/abellucci"},"labels":["Category:Incident Management","SUS::Non-impacting","UI text","UX","[deprecated] Accepting merge requests","automation:ux-missing-labels","devops::monitor","group::respond","missed:15.2","missed:15.3","section::ops","type::feature","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":null,"user_notes_count":110,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336026","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336026","notes":"https://gitlab.com/api/v4/projects/278964/issues/336026/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336026/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336026","relative":"#336026","full":"gitlab-org/gitlab#336026"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7024,"epic":{"id":378351,"iid":7024,"title":"Incidents: Ideas for future consideration","url":"/groups/gitlab-org/-/epics/7024","group_id":9970,"human_readable_end_date":"Feb 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":90217494,"iid":336022,"project_id":278964,"title":"Improve incident permissions","description":"\u003c!-- The first section \"Release notes\" is required if you want to have your release post blog MR auto generated. Currently in BETA, details on the **release post item generator** can be found in the handbook:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator and this video: https://www.youtube.com/watch?v=rfn9ebgTwKg. The next four sections: \"Problem to solve\", \"Intended users\", \"User experience goal\", and \"Proposal\", are strongly recommended in your first draft, while the rest of the sections can be filled out during the problem validation or breakdown phase. However, keep in mind that providing complete and relevant information early helps our product team validate the problem and start working on a solution. --\u003e\n\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\n\u003c!-- What problem do we solve? Try to define the who/what/why of the opportunity as a user story. For example, \"As a (who), I want (what), so I can (why/value).\" --\u003e\n\nWe've introduced incidents as an issue type. For a first pass, permissions were set to the same level as for issues, meaning any guests in a project can create an incident. While this is useful for certain projects/applications, it can also cause problems for others. Primarily, we're finding that guest users are creating incidents that project owners don't actually think should be incidents.\n\n### Intended users\n\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n\n\u003c!-- Who will use this feature? If known, include any of the following: types of users (e.g. Developer), personas, or specific company roles (e.g. Release Manager). It's okay to write \"Unknown\" and fill this field in later.\n\nPersonas are described at https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/\n\n* [Cameron (Compliance Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#cameron-compliance-manager)\n* [Parker (Product Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#parker-product-manager)\n* [Delaney (Development Team Lead)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#delaney-development-team-lead)\n* [Presley (Product Designer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#presley-product-designer)\n* [Sasha (Software Developer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sasha-software-developer)\n* [Devon (DevOps Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#devon-devops-engineer)\n* [Sidney (Systems Administrator)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sidney-systems-administrator)\n* [Sam (Security Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#sam-security-analyst)\n* [Rachel (Release Manager)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#rachel-release-manager)\n* [Alex (Security Operations Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#alex-security-operations-engineer)\n* [Simone (Software Engineer in Test)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#simone-software-engineer-in-test)\n* [Allison (Application Ops)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#allison-application-ops)\n* [Priyanka (Platform Engineer)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#priyanka-platform-engineer)\n* [Dana (Data Analyst)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#dana-data-analyst)\n* [Eddie (Content Editor)](https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/#eddie-content-editor)\n--\u003e\n\n### User experience goal\n\n\u003c!-- What is the single user experience workflow this problem addresses?\nFor example, \"The user should be able to use the UI/API/.gitlab-ci.yml with GitLab to \u003cperform a specific task\u003e\"\nhttps://about.gitlab.com/handbook/engineering/ux/ux-research-training/user-story-mapping/ --\u003e\n\n- Short-term: define a more acceptable permissions level for incident creation\n- Longer-term: explore more flexible ways for people to set permissions for certain actions in the incident management workflow, including for creating incidents.\n\n### WIP Proposal\n\n\u003c!-- How are we going to solve the problem? Try to include the user journey! https://about.gitlab.com/handbook/journeys/#user-journey --\u003e\n\n**Short-term**\n\nIn the near-future, we've decided to increase the permissions level for creating an incident to `Reporter`. This will hopefully limit the number of \"false incidents\" that are being created for those teams using incidents. That work will happen in: https://gitlab.com/gitlab-org/gitlab/-/issues/336624.\n\n**Longer-term**\n\nIt's likely that, whichever permissions level we set incidents to (and the other incident management features generally), a single, hard-coded permissions level won't work for all teams. So, we should start working towards allowing people to define the permissions levels that work for them. \n\nWhile it might be nice to introduce a fully flexible way for people to [define permissions by role](https://gitlab.com/gitlab-org/gitlab/uploads/62f9b74a692093a59027fcc1c736d242/Permissions_by_role.png) or [by feature](https://gitlab.com/gitlab-org/gitlab/uploads/bd298c43ae5467b77fed4a4a43081083/Edit_feature_access.png), introducing that concept within GitLab would likely require a very large re-working of our current model for handling roles/permissions. \n\nWith that in mind, we're exploring more of a MVC way of tying permissions for interacting with specific feature sets to targeted groups of users, called `Teams`. That could look like this:\n\n| Team page | Editing team members | Adding new team members |\n| ------ | ------ | ------ |\n| ![Permissions_by_team](/uploads/f34d28a74f3c7dbcb8cfa5895372e1f0/Permissions_by_team.png) | ![Edit_team](/uploads/07ba7f59d66054dfb65f6798f2c865a7/Edit_team.png) |  ![Add_team_member](/uploads/486146183a84bb1ce55fdaf2f263733c/Add_team_member.png) | \n\nFor the MVC:\n- We would introduce the concept of teams. People can add members to these pre-defined teams. Team members would have the ability to interact at a pre-defined permissions level with a designated feature set. (For example, the incident responders team would have a default role of `developer` and they would have that role for the incident management features _only_).\n- We would also introduce the ability to restrict access to those features to that team _only_ (ie, everyone who isn't a team member would have read-only access to those features _only_).\n- The \"teams\" would initially be defined by us, not by the users. That would allow us to tie the permissions to specific feature sets. In the future, we could allow people to create their own teams, and tie those teams to specific features.\n- The permissions level assigned to team members would also not be editable for the first pass. But, in future, we could allow those permissions to be editable, as well. (Which could, perhaps, look like [this](https://gitlab.com/gitlab-org/gitlab/uploads/732f0f91e6bf57b1cfb8c17ef0c023bb/Edit_team.png).)\n- The functionality would live at the group level, and would cascade down to all projects within the group. \n\nThis approach would allow us to start iterating towards a more granular permissions model without needing to jump directly to a full re-working of our current roles/permissions models.\n\n### Further details\n\n\u003c!-- Include use cases, benefits, goals, or any other details that will help us understand the problem better. --\u003e\n\n### Permissions and Security\n\n\u003c!-- What permissions are required to perform the described actions? Are they consistent with the existing permissions as documented for users, groups, and projects as appropriate? Is the proposed behavior consistent between the UI, API, and other access methods (e.g. email replies)?\nConsider adding checkboxes and expectations of users with certain levels of membership https://docs.gitlab.com/ee/user/permissions.html\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [ ] Add expected impact to Reporter (20) members\n* [ ] Add expected impact to Developer (30) members\n* [ ] Add expected impact to Maintainer (40) members\n* [ ] Add expected impact to Owner (50) members --\u003e\n\n### Documentation\n\n\u003c!-- See the Feature Change Documentation Workflow https://docs.gitlab.com/ee/development/documentation/workflow.html#for-a-product-change\n\n* Add all known Documentation Requirements in this section. See https://docs.gitlab.com/ee/development/documentation/workflow.html\n* If this feature requires changing permissions, update the permissions document. See https://docs.gitlab.com/ee/user/permissions.html --\u003e\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\n### Available Tier\n\n\u003c!-- This section should be used for setting the appropriate tier that this feature will belong to. Pricing can be found here: https://about.gitlab.com/pricing/\n\n* Free\n* Premium/Silver\n* Ultimate/Gold\n--\u003e\n\n### What does success look like, and how can we measure that?\n\n\u003c!--\nDefine both the success metrics and acceptance criteria. Note that success metrics indicate the desired business outcomes, while acceptance criteria indicate when the solution is working correctly. If there is no way to measure success, link to an issue that will implement a way to measure this.\n\nCreate tracking issue using the the Snowplow event tracking template. See https://gitlab.com/gitlab-org/gitlab/-/blob/master/.gitlab/issue_templates/Snowplow%20event%20tracking.md\n--\u003e\n\n### What is the type of buyer?\n\n\u003c!-- What is the buyer persona for this feature? See https://about.gitlab.com/handbook/marketing/product-marketing/roles-personas/buyer-persona/\nIn which enterprise tier should this feature go? See https://about.gitlab.com/handbook/product/pricing/#three-tiers --\u003e\n\n### Is this a cross-stage feature?\n\n\u003c!-- Communicate if this change will affect multiple Stage Groups or product areas. We recommend always start with the assumption that a feature request will have an impact into another Group. Loop in the most relevant PM and Product Designer from that Group to provide strategic support to help align the Group's broader plan and vision, as well as to avoid UX and technical debt. https://about.gitlab.com/handbook/product/#cross-stage-features --\u003e\n\n### Links / references\n\n[Figma file](https://www.figma.com/file/Gj2tY10jvTYkZpwgkusBy1/Incident-permissions-gitlab-com-and-336022?node-id=63%3A342) for exploring more granular permissions model\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e","state":"closed","created_at":"2021-07-13T19:08:27.969Z","updated_at":"2022-01-21T19:35:48.561Z","closed_at":"2021-08-16T23:19:30.859Z","closed_by":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"labels":["Category:Incident Management","UX","devops::monitor","group::respond","section::ops","type::feature","workflow::design"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"}],"author":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"type":"ISSUE","assignee":{"id":2799498,"username":"ameliabauerly","name":"Amelia Bauerly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2799498/avatar.png","web_url":"https://gitlab.com/ameliabauerly"},"user_notes_count":45,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336022","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":0},"weight":7,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336022","notes":"https://gitlab.com/api/v4/projects/278964/issues/336022/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336022/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336022","relative":"#336022","full":"gitlab-org/gitlab#336022"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90216788,"iid":336020,"project_id":278964,"title":"Improve CI runner minutes cost factor docs","description":"The following discussion from !65155 should be addressed:\n\n- [ ] @fabiopitino started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65155#note_624737131): \n\n    \u003e @marcel.amirault @avielle  I would find this table ambiguous if I didn't know anything about CI minutes.\n    \u003e \n    \u003e - Can I use 400 minutes on each private project?\n    \u003e - Can I use 50,000 minutes on each public project?\n    \u003e \n    \u003e The answer, also according to https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65155/diffs#note_621597776, is instead:\n    \u003e \n    \u003e - Your limit is still 400 CI minutes for Free plan and it's enforced at root namespace level\n    \u003e - You can use up to 400 minutes using only private projects\n    \u003e - You can use up to 50,000 using only public projects\n    \u003e - You can use somewhere in between depending on the consumption of private and public projects.\n    \u003e \n    \u003e We could specify perhaps that \n    \u003e - for private projects, each minute consumed is equal to `1` CI minute.\n    \u003e - for public projects, each minute consumed is equal to `0.008` CI minute.","state":"closed","created_at":"2021-07-13T18:44:36.833Z","updated_at":"2021-07-27T12:02:09.347Z","closed_at":"2021-07-27T07:18:09.292Z","closed_by":{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"},"labels":["CI minutes","Category:Continuous Integration","Technical Writing","auto updated","devops::verify","docs::improvement","documentation","group::pipeline execution","missed:14.1","section::ops","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},{"id":4155490,"username":"marcel.amirault","name":"Marcel Amirault","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4155490/avatar.png","web_url":"https://gitlab.com/marcel.amirault"}],"author":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"type":"ISSUE","assignee":{"id":4059128,"username":"avielle","name":"Avielle Wolfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4059128/avatar.png","web_url":"https://gitlab.com/avielle"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336020","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336020","notes":"https://gitlab.com/api/v4/projects/278964/issues/336020/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336020/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336020","relative":"#336020","full":"gitlab-org/gitlab#336020"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90216323,"iid":336019,"project_id":278964,"title":"Backend: Blocked manual jobs does not indicate blockage is due to protected environment","description":"\u003c!-- This issue template can be used a great starting point for feature requests. The last section \"Release notes\" can be used as a summary of the feature and is also required if you want to have your release post blog MR auto generated using the release post item generator:  https://about.gitlab.com/handbook/marketing/blog/release-posts/#release-post-item-generator. The remaining sections are the backbone for every feature in GitLab. --\u003e\n\n### Release notes \n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n\nWhen a pipeline has a `when:manual` job deploying to a protected environment, the job detail page shows the image below. ![image](/uploads/29bd0e096c177478b36fd98369278302/image.png)\n```\nThis job requires a manual action\nThis job requires manual intervention to start. Before starting this job, you can add variables below for last-minute configuration changes.\n```\nHowever the UI to actually run the job is not present. The UI also does not tell the user why they cannot run the job. On the pipeline page there is a `play` button for for the manual job, but it does not do anything.\n\nAfter checking, this is because of the feature in ~~https://docs.gitlab.com/ee/ci/yaml/#protecting-manual-jobs~~ -\u003e https://docs.gitlab.com/ee/ci/jobs/job_control.html#protect-manual-jobs\n\n### Proposal \n \n For ~backend, consider adding the permissions check response in the API and a reason for not being able to start the job: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/69560#note_669055323 \n\nUI should indicate why the manual job cannot run. Ex: link to docs or plainly stating it is because of xyz.\nAlso UI should reflect the issue. Image above still says that there is supposed to be an area to add CI variables when there isn't.\n\n1. Update empty state to link to \"[More information about configuring Manual Jobs](https://docs.gitlab.com/ee/ci/yaml/#whenmanual)\" and consider adding, \"if you are a Premium user deploying to a protected environment consider [Protecting a Manual Job](https://docs.gitlab.com/ee/ci/yaml/#protecting-manual-jobs)\"\n1. Remove language about variables\n\n### Testing\n#### Unit Test\nHave tests to cover for cases around authorized and unauthorized users.\n\n#### Integration Test\nAs this has to do with permissioning, I'd err on the safe side and would recommend introducing a test specifically for the unauthorized user use case. With protected environments, we want to have the peace of mind that unauthorized users remain unable to trigger jobs.","state":"closed","created_at":"2021-07-13T18:30:10.848Z","updated_at":"2022-03-18T07:02:03.742Z","closed_at":"2022-03-16T14:09:55.987Z","closed_by":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"labels":["Category:Continuous Integration","Deliverable","FY23::Q1","OKR","Verify::P2","approaching-SLO","backend","customer","devops::verify","group::pipeline execution","missed-SLO","missed-deliverable","missed:14.6","missed:14.7","priority::2","quad-planning::complete-action","section::ops","severity::1","type::bug","workflow::in dev"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"}],"author":{"id":8606767,"username":"CBergon2","name":"Cyprian Bergonia","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8606767/avatar.png","web_url":"https://gitlab.com/CBergon2"},"type":"ISSUE","assignee":{"id":731181,"username":"mbobin","name":"Marius Bobin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c0a726d6aa37d780309f7b3ea3555a14?s=80\u0026d=identicon","web_url":"https://gitlab.com/mbobin"},"user_notes_count":49,"merge_requests_count":0,"upvotes":5,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336019","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336019","notes":"https://gitlab.com/api/v4/projects/278964/issues/336019/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336019/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336019","relative":"#336019","full":"gitlab-org/gitlab#336019"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90214989,"iid":336015,"project_id":278964,"title":"Don't include the wwwroot folder in the production container","description":"### Problem\n\nThe `wwwroot` folder is not used by the production container, only when debugging locally. The folder includes copies of boostrap and jquery that have known CVEs in them. This causes the containers to fail customer scanning.\n\n### Proposal\n\nRemove `wwwroot` during the container build process.\n\nTasks:\n\n1. [x] Don't copy `wwwroot` into the container during build\n1. [x] Validate all tests pass\n1. [x] Publish new container\n1. [x] Notify Michael Leopard via slack that issue has been resolved","state":"closed","created_at":"2021-07-13T18:00:28.620Z","updated_at":"2021-07-14T19:16:53.704Z","closed_at":"2021-07-14T19:16:53.677Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:Fuzz Testing","GitLab Ultimate","devops::secure","group::dynamic analysis","priority::3","section::sec","severity::3","type::bug","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336015","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336015","notes":"https://gitlab.com/api/v4/projects/278964/issues/336015/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336015/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336015","relative":"#336015","full":"gitlab-org/gitlab#336015"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90214578,"iid":336014,"project_id":278964,"title":"Add namespace to webhook models","description":"## Summary\n\nThis is part of https://gitlab.com/gitlab-org/gitlab/-/issues/321982, specifically about the models in `app/models/hooks`.\n\nThese currently don't use a namespace even though they're inside a directory. We could go with the `WebHooks::` namespace since we're already using that in `app/workers/web_hooks`.\n\n## Improvements\n\n\u003c!--\nExplain the benefits of refactoring this code.\nSee also https://about.gitlab.com/handbook/values/index.html#say-why-not-just-what\n--\u003e\n\nThese models are STI models. A rename of `ServiceHook` and related classes will look like the work in:\n\n* https://gitlab.com/gitlab-org/gitlab/-/issues/201855\n* https://gitlab.com/groups/gitlab-org/-/epics/6177\n\n- [ ] Setup STI compatibility layer.\n- [ ] Rename model classes.\n- [ ] Migrate `type` columns.\n- [ ] Remove STI compatibility layer.\n- [ ] Remove `app/models/hooks` from `config.eager_load_paths` in `config/application.rb`.","state":"closed","created_at":"2021-07-13T17:50:04.707Z","updated_at":"2022-11-24T18:22:27.824Z","closed_at":"2022-08-09T01:39:25.350Z","closed_by":{"id":2702368,"username":".luke","name":"Luke Duncalfe","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2702368/avatar.png","web_url":"https://gitlab.com/.luke"},"labels":["Category:Integrations","Category:Webhooks","backend","devops::manage","group::integrations","section::dev","type::maintenance","won't do","workflow::planning breakdown"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":423116,"username":"toupeira","name":"Markus Koller","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7585ed50675c4febe7619f25b44f7fe0?s=80\u0026d=identicon","web_url":"https://gitlab.com/toupeira"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336014","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":0},"weight":5,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336014","notes":"https://gitlab.com/api/v4/projects/278964/issues/336014/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336014/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336014","relative":"#336014","full":"gitlab-org/gitlab#336014"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90214198,"iid":336013,"project_id":278964,"title":"Geo: Multi-arch containers not properly replicating non-primary architectures to secondary Geo nodes, UI shows replication successful","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nMulti-architecture images show as replicated in UI, but non-primary architectures are not available from the secondary node when trying to stat or inspect images.  \n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\nThis behavior was reported by a US federal customer in [federal ticket 1050](https://gitlab-federal-support.zendesk.com/agent/tickets/1050) (GitLab internal, US citizenship required), but I have been able to reproduce the described behavior.\n\n**Initial setup**  \n\n1. Have Geo instances with container registry replication enabled. I have two instances in GCP, customer has more\n1. Build and push a multi-architecture image to the primary node (I used `docker buildx` to build a [BusyBox](https://github.com/docker-library/busybox) image for `amd64` and `arm64`)\n1. Wait for sync and verification to complete\n1. Compare GUI output between primary and secondary nodes. Both of my nodes report synchronized, and container size and hashes are shown to be the same between nodes.\n\n\n**Comparison and troubleshooting**  \n\n1. Using `skopeo`, inspect remote images, I observe that my primary node identifies both architectures in the container but the second does **not** identify any arch at all. Also note that hashes mismatch:  \n\n```\nbrad@DebianRulez:~$ skopeo inspect --raw docker://geo1.bradsevy.online:5050/root/busybox-multi\n{\n   \"mediaType\": \"application/vnd.docker.distribution.manifest.list.v2+json\",\n   \"schemaVersion\": 2,\n   \"manifests\": [\n      {\n         \"mediaType\": \"application/vnd.docker.distribution.manifest.v2+json\",\n         \"digest\": \"sha256:ac3408ba45f5038129cefd401d3828bca2a32e54dc0bf6ff44056936457bf1c5\",\n         \"size\": 740,\n         \"platform\": {\n            \"architecture\": \"amd64\",    \u003c-----------------------------------------------------------\n            \"os\": \"linux\"\n         }\n      },\n      {\n         \"mediaType\": \"application/vnd.docker.distribution.manifest.v2+json\",\n         \"digest\": \"sha256:1e21fbd67772efeb971f0b97be99572219823216b6b1c47a1308fc27e5076335\",\n         \"size\": 740,\n         \"platform\": {\n            \"architecture\": \"arm64\",   \u003c-----------------------------------------------------------\n            \"os\": \"linux\"\n         }\n      }\n   ]\n}\n\n---\n\nbrad@DebianRulez:~$ skopeo inspect --raw docker://geo2.bradsevy.online:5050/root/busybox-multi\n{\n   \"mediaType\": \"application/vnd.docker.distribution.manifest.v2+json\",\n   \"schemaVersion\": 2,\n   \"config\": {\n      \"mediaType\": \"application/vnd.docker.container.image.v1+json\",\n      \"digest\": \"sha256:27f909e5658cb519e5175bc681d5c605f01b613503ce8dcf3fe3c1847d37f8c7\",\n      \"size\": 844\n   },\n   \"layers\": [\n      {\n         \"mediaType\": \"application/vnd.docker.image.rootfs.diff.tar.gzip\",\n         \"digest\": \"sha256:0bc3020d05f1e08b41f1c5d54650a157b1690cde7fedb1fafbc9cda70ee2ec5c\",\n         \"size\": 50435617\n      },\n      {\n         \"mediaType\": \"application/vnd.docker.image.rootfs.diff.tar.gzip\",\n         \"digest\": \"sha256:f875f728594f35a040e0e4b122c67fe6b05592c71912a6ad4a3136a907fe3eaa\",\n         \"size\": 14124231\n      }\n   ]\n}\n```\n\n2. File sizes and checksums mismatch: \n\nPrimary:\n\n```\nroot@brad-geo1:~# du -sh /var/opt/gitlab/gitlab-rails/shared/registry/docker/registry/v2/repositories/root/busybox-multi\n148K    /var/opt/gitlab/gitlab-rails/shared/registry/docker/registry/v2/repositories/root/busybox-multi\n\nroot@brad-geo1:~# find /var/opt/gitlab/gitlab-rails/shared/registry/docker/registry/v2/repositories/root/busybox-multi -type f -exec md5sum {} \\; | sort -k 2 | md5sum\nca6f7edcd95ade00548dc258e2b40af1  -\n```\n\nSecondary:\n\n```\nroot@brad-geo2:~# du -sh /var/opt/gitlab/gitlab-rails/shared/registry/docker/registry/v2/repositories/root/busybox-multi\n92K /var/opt/gitlab/gitlab-rails/shared/registry/docker/registry/v2/repositories/root/busybox-multi\n\nroot@brad-geo2:~# find /var/opt/gitlab/gitlab-rails/shared/registry/docker/registry/v2/repositories/root/busybox-multi -type f -exec md5sum {} \\; | sort -k 2 | md5sum\ne4d0a98fd71c3a6b7ec3f2b62e3bc64d  -\n```\n\n3. Specifying architecture to pull with `--platform=arm64`, then inspecting the pulled image with `docker image inspect \u003cid\u003e` results in successfully pulling the `arm64` image from the primary node, but still pulling `amd64` on the secondary node: \n\nPrimary node:\n\n```\nbrad@DebianRulez:~$ docker pull geo1.bradsevy.online:5050/root/busybox-multi --platform=arm64\nUsing default tag: latest\nlatest: Pulling from root/busybox-multi\n310b368da982: Pull complete \ndc96c5f90a6f: Pull complete \nDigest: sha256:eaf1fdf80669e7338ab1edfeabd8b96f2fac673eaa971f8480d4006e29ec7a72\nStatus: Downloaded newer image for geo1.bradsevy.online:5050/root/busybox-multi:latest\ngeo1.bradsevy.online:5050/root/busybox-multi:latest\n\nbrad@DebianRulez:~$ docker images -a\nREPOSITORY                                     TAG       IMAGE ID       CREATED       SIZE\ngeo1.bradsevy.online:5050/root/busybox-multi   latest    798012f55906   12 days ago   126MB\n\nbrad@DebianRulez:~$ docker image inspect 798012f55906\n[\n    {\n        \"Id\": \"sha256:798012f55906d247c79ea2e9acfbc6d53593b7751c5d851bf1f41eaff4237f52\",\n        \"RepoTags\": [\n            \"geo1.bradsevy.online:5050/root/busybox-multi:latest\"\n        ],\n        \"RepoDigests\": [\n            \"geo1.bradsevy.online:5050/root/busybox-multi@sha256:eaf1fdf80669e7338ab1edfeabd8b96f2fac673eaa971f8480d4006e29ec7a72\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"buildkit.dockerfile.v0\",\n        \"Created\": \"2021-06-30T18:46:37.189300648Z\",\n        \"Container\": \"\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": null,\n            \"Cmd\": null,\n            \"Image\": \"\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": null\n        },\n        \"DockerVersion\": \"\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\n            ],\n            \"Cmd\": [\n                \"bash\"\n            ],\n            \"Image\": \"\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": null\n        },\n        \"Architecture\": \"arm64\",          \u003c------------------------------------------------------------------------------\n        \"Os\": \"linux\",\n        \"Size\": 126480503,\n        \"VirtualSize\": 126480503,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/bcfca43187e0079723d6fdc91b17d003bbd2789ebfc1838909a79f30b9aa99ef/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/fe35f24b09d6f2af2fb39807d7f11531b24f5e445edb9452370a5fcfd32e58de/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/fe35f24b09d6f2af2fb39807d7f11531b24f5e445edb9452370a5fcfd32e58de/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/fe35f24b09d6f2af2fb39807d7f11531b24f5e445edb9452370a5fcfd32e58de/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:bee1275ae7ac87065d84e2e06aec6254579ac19d9b84e325cbbe03d46e8730e7\",\n                \"sha256:f48735d31fdcbfb2125502fd4530a17b53d373e61bb8683cb6be9a1c8e1edea3\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]\n```  \n\nSecondary node:\n\n```\nbrad@DebianRulez:~$ docker pull geo2.bradsevy.online:5050/root/busybox-multi --platform=arm64\nUsing default tag: latest\nlatest: Pulling from root/busybox-multi\n0bc3020d05f1: Pull complete \nf875f728594f: Pull complete \nDigest: sha256:ac3408ba45f5038129cefd401d3828bca2a32e54dc0bf6ff44056936457bf1c5\nStatus: Downloaded newer image for geo2.bradsevy.online:5050/root/busybox-multi:latest\ngeo2.bradsevy.online:5050/root/busybox-multi:latest\n\nbrad@DebianRulez:~$ docker images -a\nREPOSITORY                                     TAG       IMAGE ID       CREATED       SIZE\ngeo2.bradsevy.online:5050/root/busybox-multi   latest    27f909e5658c   12 days ago   133MB\n\nbrad@DebianRulez:~$ docker image inspect 27f909e5658c\n[\n    {\n        \"Id\": \"sha256:27f909e5658cb519e5175bc681d5c605f01b613503ce8dcf3fe3c1847d37f8c7\",\n        \"RepoTags\": [\n            \"geo2.bradsevy.online:5050/root/busybox-multi:latest\"\n        ],\n        \"RepoDigests\": [\n            \"geo2.bradsevy.online:5050/root/busybox-multi@sha256:ac3408ba45f5038129cefd401d3828bca2a32e54dc0bf6ff44056936457bf1c5\"\n        ],\n        \"Parent\": \"\",\n        \"Comment\": \"buildkit.dockerfile.v0\",\n        \"Created\": \"2021-06-30T18:46:21.646255956Z\",\n        \"Container\": \"\",\n        \"ContainerConfig\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": null,\n            \"Cmd\": null,\n            \"Image\": \"\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": null\n        },\n        \"DockerVersion\": \"\",\n        \"Author\": \"\",\n        \"Config\": {\n            \"Hostname\": \"\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\n            ],\n            \"Cmd\": [\n                \"bash\"\n            ],\n            \"Image\": \"\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": null\n        },\n        \"Architecture\": \"amd64\"        \u003c----------------------------------------------------------------------------------\n        \"Os\": \"linux\",\n        \"Size\": 132681348,\n        \"VirtualSize\": 132681348,\n        \"GraphDriver\": {\n            \"Data\": {\n                \"LowerDir\": \"/var/lib/docker/overlay2/07930508f682b867663201ea759fc6e2d01ed9283ce0f07e3068397aff530388/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/5b0d1d456fd34ecfbee0096491eb81c0f01f67f4e5564bf23e2b1a5847c036fa/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/5b0d1d456fd34ecfbee0096491eb81c0f01f67f4e5564bf23e2b1a5847c036fa/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/5b0d1d456fd34ecfbee0096491eb81c0f01f67f4e5564bf23e2b1a5847c036fa/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"RootFS\": {\n            \"Type\": \"layers\",\n            \"Layers\": [\n                \"sha256:4e006334a6fdea37622f72b21eb75fe1484fc4f20ce8b8526187d6f7bd90a6fe\",\n                \"sha256:51ea4e37f486d3064055a010939db3384b70e33240ff478cb09cf4d3858ca709\"\n            ]\n        },\n        \"Metadata\": {\n            \"LastTagTime\": \"0001-01-01T00:00:00Z\"\n        }\n    }\n]\n```  \n\n### Internal discussions  \n\nI engaged the Registry and Geo teams in their respective internal Slack channels. Messages available until approximately 10 October 2021. Relevant messages are copied into the internal ticket for posterity.\n\nRegistry: https://gitlab.slack.com/archives/CRD4A8HG8/p1625686073105400  \nGeo: https://gitlab.slack.com/archives/CRD4A8HG8/p1625686073105400\n\n### Example Project\n\n\u003c!-- If possible, please create an example project here on GitLab.com that exhibits the problematic \nbehavior, and link to it here in the bug report. If you are using an older version of GitLab, this \nwill also determine whether the bug is fixed in a more recent version. --\u003e\n\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nOnly `amd64` is made available on secondary node.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nSecondary architectures (`arm64` in this case) should be available on all secondary nodes.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n404 errors every few seconds on from `gitlab-ctl tail registry` on primary node:\n\n```\n2021-07-12_21:03:13.63310 time=\"2021-07-12T21:03:13Z\" level=warning msg=\"httpSink{http://geo1.bradsevy.online/api/v4/container_registry_event/events} encountered too many errors, backing off\"\n2021-07-12_21:03:14.66027 time=\"2021-07-12T21:03:14Z\" level=error msg=\"retryingsink: error writing events: httpSink{http://geo1.bradsevy.online/api/v4/container_registry_event/events}: response status 404 Not Found unaccepted, retrying\"\n2021-07-12_21:03:14.66032 time=\"2021-07-12T21:03:14Z\" level=warning msg=\"httpSink{http://geo1.bradsevy.online/api/v4/container_registry_event/events} encountered too many errors, backing off\"\n2021-07-12_21:03:15.68155 time=\"2021-07-12T21:03:15Z\" level=error msg=\"retryingsink: error writing events: httpSink{http://geo1.bradsevy.online/api/v4/container_registry_event/events}: response status 404 Not Found unaccepted, retrying\"\n2021-07-12_21:03:15.68158 time=\"2021-07-12T21:03:15Z\" level=warning msg=\"httpSink{http://geo1.bradsevy.online/api/v4/container_registry_event/events} encountered too many errors, backing off\"\n2021-07-12_21:03:16.70599 time=\"2021-07-12T21:03:16Z\" level=error msg=\"retryingsink: error writing events: httpSink{http://geo1.bradsevy.online/api/v4/container_registry_event/events}: response status 404 Not Found unaccepted, retrying\"\n```\n\n### Output of checks\n\n\u003c!-- If you are reporting a bug on GitLab.com, write: This bug happens on GitLab.com --\u003e\n\n#### Results of GitLab environment info\n\n\u003c!--  Input any relevant GitLab environment information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to GitLab environment info\u003c/summary\u003e\n\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:env:info`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:env:info RAILS_ENV=production`)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n#### Results of GitLab application Check\n\n\u003c!--  Input any relevant GitLab application check information if needed. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eExpand for output related to the GitLab application check\u003c/summary\u003e\n\u003cpre\u003e\n\n(For installations with omnibus-gitlab package run and paste the output of:\n`sudo gitlab-rake gitlab:check SANITIZE=true`)\n\n(For installations from source run and paste the output of:\n`sudo -u git -H bundle exec rake gitlab:check RAILS_ENV=production SANITIZE=true`)\n\n(we will only investigate if the tests are passing)\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n### Possible fixes\n\n\u003c!-- If you can, link to the line of code that might be responsible for the problem. --\u003e","state":"closed","created_at":"2021-07-13T17:46:50.218Z","updated_at":"2022-06-13T09:06:09.177Z","closed_at":"2021-09-10T16:13:24.256Z","closed_by":{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"},"labels":["customer","data loss","devops::systems","group::geo","priority::2","section::enablement","severity::2","type::bug","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"}],"author":{"id":7611428,"username":"brad","name":"Brad Sevy","state":"active","avatar_url":"https://secure.gravatar.com/avatar/56a374794573a90dc6d72661de97adfb?s=80\u0026d=identicon","web_url":"https://gitlab.com/brad"},"type":"ISSUE","assignee":{"id":787914,"username":"ibaum","name":"Ian Baum","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7c508dc85ddd5049564a95662311543b?s=80\u0026d=identicon","web_url":"https://gitlab.com/ibaum"},"user_notes_count":34,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336013","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336013","notes":"https://gitlab.com/api/v4/projects/278964/issues/336013/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336013/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336013","relative":"#336013","full":"gitlab-org/gitlab#336013"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90208367,"iid":336001,"project_id":278964,"title":"Global Search - Track Recent Groups/Projects searches made from Group/Project pages","description":"## Why/Why\n\nFollow up from comments made on this mr: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65881#note_625132615\u003cbr /\u003e\nFollow up to the feature being added as part of this issue: https://gitlab.com/gitlab-org/gitlab/-/issues/239384/\n\nBased on the functionality added as part of the above MR we only track Recent groups/projects when they are interacted with via the Global Search dropdowns.  We would like to expand this functionality to also track searches made from project/group pages (where the group/project is then prefilled on the global search page).  This will give us a better picture of what groups/projects the user is likely going to be searching.\n\n## UI\n\n![Screen_Shot_2021-07-13_at_11.09.44_AM](/uploads/2bd13b5f1a1f5312dd8e83c2b46f2935/Screen_Shot_2021-07-13_at_11.09.44_AM.png)","state":"closed","created_at":"2021-07-13T16:10:49.348Z","updated_at":"2022-05-30T16:31:20.474Z","closed_at":"2021-08-05T14:10:23.137Z","closed_by":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"labels":["Category:Global Search","GitLab Free","UX","advanced search","devops::data_stores","frontend","group::global search","section::enablement","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"}],"author":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"type":"ISSUE","assignee":{"id":4748809,"username":"zcuddy","name":"Zack Cuddy","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4748809/avatar.png","web_url":"https://gitlab.com/zcuddy"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/336001","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/336001","notes":"https://gitlab.com/api/v4/projects/278964/issues/336001/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/336001/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#336001","relative":"#336001","full":"gitlab-org/gitlab#336001"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6040,"epic":{"id":274289,"iid":6040,"title":"Improve the sorting and search experience for the project and group dropdowns in global search","url":"/groups/gitlab-org/-/epics/6040","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90207091,"iid":335993,"project_id":278964,"title":"Follow-up from \"Allow jobs need to refer to a job in the same stage [RUN ALL RSPEC] [RUN AS-IF-FOSS]\"","description":"The following discussions from !59668 should be addressed:\n\n- [ ] @grzesiek started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59668#note_607991913):  (+4 comments)\n\n    \u003e I wonder if a build seed really needs to know about previous stages. This seems to be handled on the wrong abstraction layer. I don't have immediate better idea, though.\n\n- [ ] @fabiopitino started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59668#note_625115254): \n\n    \u003e Why do we need to disable the FF here?\n\n------------------------------------------------------------------\n\nThis is a follow-up for [Allow jobs needs to refer to a job in the same stage](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59668#note_609251950)\n\n### Summary\n\nThere shouldn't be a difference between stage / DAG scheduling types, so we need to redefine the mechanism to finding them, like used below:\n\n```ruby\n    def skipped_jobs(processable)\n      processable.pipeline.processables.skipped\n    end\n\n    def stage_dependent_jobs(processable)\n      skipped_jobs(processable).scheduling_type_stage.after_stage(processable.stage_idx)\n    end\n\n    def needs_dependent_jobs(processable)\n      skipped_jobs(processable).scheduling_type_dag.with_needs([processable.name])\n    end\n  end\nend\n```\n\n### Discussion points\n\nFrom Fabio:\n\n\u003e @grzesiek With the recent `optional: true` parameter for `needs` I believe that in theory we should be able to consider stage jobs as having\n\n```yaml\ntest_job:\n  stage: test\n  needs:\n    - name: build_job_1 # from previous stage\n      optional: true\n    - name: build_job_2 # from previous stage\n      optional: true\n```\n\n\u003e This because with stage approach we don't expect certain jobs to be present but we expect the \"whole group\" to be completed, regardless what's inside.\n\n\u003e But to do that we need to translate a stage syntax into a DAG syntax or data structure in the background. If we manage to do that we should be able to remove all the stage-type methods such as `stage_dependent_jobs` because `needs_dependent_jobs` should cover for that.\n\n### Possible MVC solution\n\n\u003e One step towards unifying DAG and stages could be to generate a big DAG graph out of `needs` and `stage` and validate that:\n\n```ruby\ndef self.fabricate_from_config(config)\n  config.jobs.values.to_h do |job|\n    name = job[:name].to_s\n                  \n            # equivalent of `job.dig(:needs, :job)` but filtering out all jobs in subsequent stages\n    needs = config.scoped_needs_for(name) ||                \n      config.jobs_in_previous_non_empty_stage(name)\n\n    [name, needs.map { |need| need[:name].to_s }]\n  end\nend\n```\n\nThat would build the following DAG:\n\n* `build -\u003e test`\n* `test -\u003e build` (because of the stage)\n* `deploy -\u003e test` (because of the stage)\n\n\u003e This should also raise `MissingNodeError` if `needs` contains jobs in subsequent stages. This means that we could remove `YamlProcessor#validate_job_needs!` since it would be covered here.\n\n\u003e The DAG object would be validated even if we have a pure stage approach even though we should never see an error but it's a good sanity check.\n\n#### Caveats\n\n\u003e I think you cannot do that because `build` cannot depend on `test` since `test` is in a later stage. We don't allow that.","state":"closed","created_at":"2021-07-13T15:44:43.120Z","updated_at":"2021-11-18T07:01:55.132Z","closed_at":"2021-11-02T14:43:11.628Z","closed_by":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"labels":["Category:Pipeline Authoring","DEPRECATE_pipeline authoring","Deliverable","backend","candidate::14.4","devops::verify","group::pipeline authoring","maintenance::refactor","missed-deliverable","missed:14.4","section::ops","severity::2","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":695467,"username":"fabiopitino","name":"Fabio Pitino","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f0db032076c54065b10b3efdfd175e6c?s=80\u0026d=identicon","web_url":"https://gitlab.com/fabiopitino"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335993","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335993","notes":"https://gitlab.com/api/v4/projects/278964/issues/335993/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335993/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335993","relative":"#335993","full":"gitlab-org/gitlab#335993"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":{"id":36606,"iid":35,"sequence":2,"group_id":9970,"title":"Pipeline Authoring: November 01, 2021 - November 14, 2021","description":"Target milestone `14.5`","state":3,"created_at":"2021-10-05T20:42:58.372Z","updated_at":"2021-12-21T15:27:22.624Z","start_date":"2021-11-01","due_date":"2021-11-14","web_url":"https://gitlab.com/groups/gitlab-org/-/iterations/36606"},"health_status":"at_risk"},{"id":90200975,"iid":335982,"project_id":278964,"title":"Add loading state and form hiding on error to group-level merge request settings","description":"The following discussion from !59887 should be addressed:\n\n- [ ] @jiaan started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/59887#note_624842480): \n\n    \u003e **Suggestion (non-blocking):** This is outside of this merge request's scope so feel free to create a follow-up, but WDYT displaying a spinner or skeleton while the form is loading instead of nothing? Also WDYT about only displaying the form if the data was successfully loaded? Right now we're showing all the settings as unchecked when there was an error. :thinking:\n\n### Implementation plan\n\n~frontend - :one: \n\n1. Update `ee/app/assets/javascripts/approvals/components/approval_settings.vue:42` to not allow the form to load if an error occurs\n1. Update `ee/app/assets/javascripts/approvals/components/approval_settings.vue:65` to show a loading icon until `hasFormLoaded` is `true`\n1. Update `ee/spec/frontend/approvals/components/approval_settings_spec.js` with new specs for the new behavior","state":"closed","created_at":"2021-07-13T14:08:11.971Z","updated_at":"2021-07-28T11:55:25.215Z","closed_at":"2021-07-28T11:55:25.197Z","closed_by":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"labels":["Category:Compliance Management","devops::manage","feature flag","feature::enhancement","frontend","group::compliance","missed:14.1","priority::4","section::dev","type::feature","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"}],"author":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"type":"ISSUE","assignee":{"id":5209897,"username":"rob.hunt","name":"Robert Hunt","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5209897/avatar.png","web_url":"https://gitlab.com/rob.hunt"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335982","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335982","notes":"https://gitlab.com/api/v4/projects/278964/issues/335982/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335982/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335982","relative":"#335982","full":"gitlab-org/gitlab#335982"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90197205,"iid":335974,"project_id":278964,"title":"[VSA][FE] Add sorting and pagination to the project level stage table","description":"In https://gitlab.com/gitlab-org/gitlab/-/issues/326704 we've migrated the project-level VSA stage table to the new layout but [decided to exclude sorting](https://gitlab.com/gitlab-org/gitlab/-/issues/326704#note_624959870) in the first place.\n\nWith https://gitlab.com/gitlab-org/gitlab/-/issues/335953, we now have dedicated endpoints for project VSA that respect the same filters and options as group VSA. The VSA stage table is shared between Project and Group level VSA, so already supports a pagination object, it will need to be [provided via props](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/assets/javascripts/cycle_analytics/components/stage_table.vue#L84)\n\nWe should\n* [x] Add support for sorting the stage table\n* [x] Add pagination support for the stage table\n* [x] Remove the limit of 20 items displayed in the stage table\n\nThis would also resolve https://gitlab.com/gitlab-org/gitlab/-/issues/338552#note_652577035","state":"closed","created_at":"2021-07-13T13:06:21.190Z","updated_at":"2021-10-13T13:30:49.469Z","closed_at":"2021-10-12T22:56:00.129Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","devops::manage","frontend","group::optimize","priority::2","release post item::in review","section::dev","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335974","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335974","notes":"https://gitlab.com/api/v4/projects/278964/issues/335974/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335974/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335974","relative":"#335974","full":"gitlab-org/gitlab#335974"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5194,"epic":{"id":180134,"iid":5194,"title":"[VSA] Refactor project-level feature to use group-level code","url":"/groups/gitlab-org/-/epics/5194","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90194947,"iid":335968,"project_id":278964,"title":"Frontend: Show year in CI minutes usage graph","description":"\n### Release notes\n\n\u003c!-- What is the problem and solution you're proposing? This content sets the overall vision for the feature and serves as the release notes that will populate in various places, including the [release post blog](https://about.gitlab.com/releases/categories/releases/) and [Gitlab project releases](https://gitlab.com/gitlab-org/gitlab/-/releases). \" --\u003e\n\n### Problem to solve \n## 🧩 Background\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/246844 we introduced graphs for CI usage historical data by month/project on the CI/CD Analytics page. Today, we capture year by mentioning month and year together on the chart, such as `Feb 2022`. \n\u003c!-- ![image](https://gitlab.com/gitlab-org/gitlab/uploads/67d68c5fa8afa2767af78ee6dea42e0e/image.png) --\u003e\n\nAlso, We received an internal bug report that `CI minutes usage by project` bar chart does not consider the year and it's showing usage from February 2021 instead.\n\n### Intended users\n\nDevelopers, Dev Team Lead\n\n### User experience goal\n\nUsers should be able to filter the chart information by year and display data for 24 months of data (if they have data that far back).\n    - Today (April 2022) If I had pipelines that far back I would expect to see data from as far back as April 2020.\n    - This data range is dependent on performance, if the query to get data \u003e 12 months old is deemed two long for this iteration the available data in the UI may be less than what is available from the API.\n\n## 💭 Proposal\n\nGo to the design management section for detailed specifications of the proposal\n\n|Image |\n|------|\n|![Show-year-in-CI-minutes-usage-graph](/uploads/6a2f7f1c28637cbc7f1db969da27a782/Show-year-in-CI-minutes-usage-graph.png)|\n\n- Add a provision in the UI for including the year with the month\n- Define how the data from previous years can be accessed\n    - See the technical proposal in [this comment](https://gitlab.com/gitlab-org/gitlab/-/issues/335968#note_910322865).\n\n### Permissions and Security\n\n* [ ] Add expected impact to members with no access (0)\n* [ ] Add expected impact to Guest (10) members\n* [x] Add expected impact to Reporter (20) members\n* [x] Add expected impact to Developer (30) members\n* [x] Add expected impact to Maintainer (40) members\n* [x] Add expected impact to Owner (50) members \n\n### Documentation\n\nNone.\n\n### Availability \u0026 Testing\n\n#### Integration Tests\n* With the fix made in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/78006 for the \"CI minutes usage by month\" graph, beyond just ensuring `month_iso8601` is returned in the response, let's also look into adding some FE tests for the component to ensure the months are displayed in the correct order.\n* Ensure we create test data in the same month but with different years to ensure that they are being displayed properly on the \"CI minutes usage by project\" graph.\n\n### Available Tier\n\n* Free\n* Premium\n* Ultimate\n\n### What does success look like, and how can we measure that?\n\nWe will not track any metrics on usage of this specific feature.\n\n#### Acceptance Criteria\n\n- A user can choose a year with data and the months with data\n- Upon a valid choice the graph/table should update with data\n- A user can't choose a year / month combo without data\n\n### Is this a cross-stage feature?\n\nNo.\n\n### Links / references\n\n\u003c!-- Label reminders - you should have one of each of the following labels.\nUse the following resources to find the appropriate labels:\n- https://gitlab.com/gitlab-org/gitlab/-/labels\n- https://about.gitlab.com/handbook/product/categories/features/\n--\u003e\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n*This page may contain information related to upcoming products, features and functionality.\nIt is important to note that the information presented is for informational purposes only, so please do not rely on the information for purchasing or planning purposes.\nJust like with all projects, the items mentioned on the page are subject to change or delay, and the development, release, and timing of any products, features, or functionality remain at the sole discretion of GitLab Inc.*\n\u003c!-- triage-serverless v3 PLEASE DO NOT REMOVE THIS SECTION --\u003e\n\n### Technical Proposal (Front end only)\n\nA first iteration will be ~frontend only.\n\nSince we only need data going back to 2020 or so, use the `monthIso8601` field that contains the year and month data. On the ~frontend populate the dropdown by parsing out the years and ensuring uniqueness.","state":"closed","created_at":"2021-07-13T12:26:37.596Z","updated_at":"2022-05-10T11:10:25.721Z","closed_at":"2022-05-04T13:25:14.744Z","closed_by":{"id":6115425,"username":"v_mishra","name":"Veethika M","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f09a3a0badac17a57e28b4e18a45c1c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/v_mishra"},"labels":["CI minutes","Category:Continuous Integration","GitLab Free","UX","Verify::P3","[deprecated] Accepting merge requests","devops::verify","frontend","group::pipeline execution","internal customer","section::ops","type::feature","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":6115425,"username":"v_mishra","name":"Veethika M","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f09a3a0badac17a57e28b4e18a45c1c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/v_mishra"},"type":"ISSUE","assignee":null,"user_notes_count":56,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335968","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335968","notes":"https://gitlab.com/api/v4/projects/278964/issues/335968/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335968/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335968","relative":"#335968","full":"gitlab-org/gitlab#335968"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90193230,"iid":335966,"project_id":278964,"title":"Test container registry with AWS S3","description":"Documentation: https://docs.gitlab.com/ee/administration/packages/container_registry.html#configure-storage-for-the-container-registry","state":"closed","created_at":"2021-07-13T12:01:02.085Z","updated_at":"2022-11-09T17:18:52.499Z","closed_at":"2021-11-04T15:00:31.629Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Container Registry","Quality","auto updated","devops::package","group::container registry","section::ops","workflow::in review"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335966","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335966","notes":"https://gitlab.com/api/v4/projects/278964/issues/335966/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335966/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335966","relative":"#335966","full":"gitlab-org/gitlab#335966"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6344,"epic":{"id":307278,"iid":6344,"title":"Explore object-storage QA opportunities for package stage features","url":"/groups/gitlab-org/-/epics/6344","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90192650,"iid":335964,"project_id":278964,"title":"Update the project approval settings section to use Vue instead of HAML","description":"## Problem to solve\n\nThe approval settings for projects is currently a HAML view, in order to implement https://gitlab.com/gitlab-org/gitlab/-/issues/332548 we need to update it to use Vue so that we can reuse the `ApprovalSettings` component.\n\n## Suggested solution\n\nUpdate the project settings page to use the `ApprovalSettings` component instead of HAML like we do for [group settings](https://gitlab.com/gitlab-org/gitlab/blob/5b4c4ce4045b4f963b3755e81ace1fed6f14c5bc/ee/app/assets/javascripts/approvals/components/group_settings/app.vue) \n\n## Implementation plan\n\n~frontend weight :two: \n\n1. Remove the old HAML view\n1. Create a new application that mounts the `ApprovalSettings` component\n1. Update the specs","state":"closed","created_at":"2021-07-13T11:49:52.105Z","updated_at":"2021-08-11T09:15:25.504Z","closed_at":"2021-08-11T09:15:25.490Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Enterprise Edition","devops::manage","frontend","group::compliance","priority::1","section::dev","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335964","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335964","notes":"https://gitlab.com/api/v4/projects/278964/issues/335964/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335964/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335964","relative":"#335964","full":"gitlab-org/gitlab#335964"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90192257,"iid":335962,"project_id":278964,"title":"Add a locked state to approval settings checkbox","description":"## Problem to solve\n\nBoth approval settings changes #332549 \u0026 #332548 require a locked state, thus it would make sense to combine the work in one issue.\n\n## Suggested solution\n\nUpdate the `ApprovalSettingsCheckbox` component with a locked state so that both #325620 \u0026 #332548 can use it.\n\n## Implementation plan\n\n~frontend weight :two: \n\n1. Add a `locked` property, when truthy disable the input and display a [lock icon](https://gitlab-org.gitlab.io/gitlab-svgs/?q=lock).\n1. When `locked` is a string, display the message as a [GlPopover](https://gitlab-org.gitlab.io/gitlab-ui/?path=/story/base-popover--default) on the lock icon.\n1. Update component specs.","state":"closed","created_at":"2021-07-13T11:40:14.498Z","updated_at":"2021-07-22T08:39:02.398Z","closed_at":"2021-07-22T08:39:02.384Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["Enterprise Edition","devops::manage","frontend","group::compliance","priority::1","section::dev","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335962","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335962","notes":"https://gitlab.com/api/v4/projects/278964/issues/335962/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335962/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335962","relative":"#335962","full":"gitlab-org/gitlab#335962"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5957,"epic":{"id":266916,"iid":5957,"title":"Group-level settings for merge request approval SETTINGS in child projects","url":"/groups/gitlab-org/-/epics/5957","group_id":9970,"human_readable_end_date":"Jan 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90191899,"iid":335961,"project_id":278964,"title":"Update schema with missing/undefined keywords.","description":"In `app/assets/javascripts/editor/schema/ci.json`. Update the schema with the missing keywords\n\n- [x] Remove `test` default for `stage` keyword: https://gitlab.com/gitlab-org/gitlab/-/issues/341600\n- [x] Update `start_in` keyword: https://gitlab.com/gitlab-org/gitlab/-/issues/335961#note_709797939","state":"closed","created_at":"2021-07-13T11:32:05.382Z","updated_at":"2021-11-18T07:01:55.186Z","closed_at":"2021-10-29T07:40:24.673Z","closed_by":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"labels":["Category:Pipeline Authoring","Deliverable","FY22::Q2","UX","devops::verify","feature::enhancement","frontend","group::pipeline authoring","missed-deliverable","missed:14.4","section::ops","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":7598233,"username":"mgandres","name":"Mireya Andres","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c96bce45a06f2dd722144db3f52456bf?s=80\u0026d=identicon","web_url":"https://gitlab.com/mgandres"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335961","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"2 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335961","notes":"https://gitlab.com/api/v4/projects/278964/issues/335961/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335961/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335961","relative":"#335961","full":"gitlab-org/gitlab#335961"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5246,"epic":{"id":185171,"iid":5246,"title":"Pipeline Editor Auto-complete","url":"/groups/gitlab-org/-/epics/5246","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":90189201,"iid":335957,"project_id":278964,"title":"Re-run stuck merge request cleanup schedules","description":"## Problem to solve\n\nIt is possible that when a `MergeRequest::CleanupSchedule` record get started (have the `status` set to `running`) and the sidekiq job that was working on it got killed (Sidekiq deploy, OOM killer, or an unhandled exception), it won't be worked on again.\n\n## Proposal\n\nThis was discussed in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65647/diffs#note_622356631.\n\nThe following ideas were suggested:\n1. Enqueue a scheduled job to set it back to `unstarted` after 6 hours (or whatever the highest execution time will be from the data we get when we enable this on production).\n1. Have another cron scheduled job that updates stuck `running` cleanup schedules to `unstarted`.\n1. Have the same mechanism as repo mirroring with jid...\n1. Do the cleanup in `ScheduleMergeRequestCleanupRefsWorker`.\n\nEach idea has its own pros/cons so they need to be weighed in first and choose the most appropriate one.","state":"closed","created_at":"2021-07-13T10:40:31.802Z","updated_at":"2022-06-21T12:01:44.706Z","closed_at":"2022-06-06T01:18:12.709Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Deliverable","backend","devops::create","feature::enhancement","group::code review","section::dev","type::feature"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335957","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":1,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335957","notes":"https://gitlab.com/api/v4/projects/278964/issues/335957/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335957/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335957","relative":"#335957","full":"gitlab-org/gitlab#335957"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90188065,"iid":335956,"project_id":278964,"title":"Extract `product_intelligence_enabled?` check out of ServicePing::PermitDataCategoriesService class into new module","description":"## Goal\n\nHaving `#product_intelligence_enabled` as instance method of `ServicePing::PermitDataCategoriesService` creates wrong impression that this method response depends on internal state of the object, or even that it depends on `ServicePing::PermitDataCategoriesService` while it is the other way around. To address that we should extract this method to `ServicePing` module or any other dedicated class\n\nThis is follow up issue from https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65998#note_624720138 \n\n~\"product intelligence\" ~\"group::product intelligence\" ~backend ~\"technical debt\" ~\"devops::growth\" ~\"section::growth\" ~\"workflow::solution validation\"","state":"closed","created_at":"2021-07-13T10:23:08.788Z","updated_at":"2021-07-23T08:57:16.729Z","closed_at":"2021-07-23T08:57:12.456Z","closed_by":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"labels":["Unplanned","backend","devops::growth","group::product intelligence","maintenance::refactor","section::growth","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335956","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335956","notes":"https://gitlab.com/api/v4/projects/278964/issues/335956/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335956/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335956","relative":"#335956","full":"gitlab-org/gitlab#335956"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90187105,"iid":335955,"project_id":278964,"title":"Drop sorting vulnerabilities by title functionality on GraphQL API","description":"## Why are we doing this work\n\nAs we have deprecated the functionality of sorting the vulnerabilities by title on GraphQL API, we are going to remove the functionality with this issue.\n\n## Relevant links\n\n- Deprecation issue: https://gitlab.com/gitlab-org/gitlab/-/issues/335800\n\n## Implementation plan\n\n- [ ] ~backend Remove the `title_desc` and `title_asc` sorting parameters for the `VulnerabilitySort` GraphQL type.\n\n## Testing\n\n- [ ] Create a graphql spec to test that it is not sortable by title?","state":"closed","created_at":"2021-07-13T10:06:32.021Z","updated_at":"2022-05-18T12:29:16.795Z","closed_at":"2022-05-18T03:35:25.523Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","GraphQL","backend","breaking change","devops::secure","group::threat insights","quad-planning::complete-action","section::sec","workflow::verification"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11164960,"username":"ghavenga","name":"Gregory Havenga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11164960/avatar.png","web_url":"https://gitlab.com/ghavenga"}],"author":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"type":"ISSUE","assignee":{"id":11164960,"username":"ghavenga","name":"Gregory Havenga","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11164960/avatar.png","web_url":"https://gitlab.com/ghavenga"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335955","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 2 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335955","notes":"https://gitlab.com/api/v4/projects/278964/issues/335955/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335955/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335955","relative":"#335955","full":"gitlab-org/gitlab#335955"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90186781,"iid":335954,"project_id":278964,"title":"Improve browser Largest Contentful Paint (LCP) performance of View File (source) page into S3 tier","description":"Thanks to a [recent fix](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65859) the [Largest Contentful Paint (LCP) performance of the View File (source) page's was significantly improved](https://gitlab.com/gitlab-org/gitlab/-/issues/328220#note_624743053) from ~25s to ~5s:\n\n```\n* Environment:                10k\n* Environment Version:        14.1.0-pre `11188b24f48`\n* Date:                       2021-07-13\nNAME                                  | FCP (ms) | LCP (ms)        | TBT (ms)         | SI (ms) | LVC (ms) | TFR SIZE (kb) | SCORE | RESULT\n--------------------------------------|----------|-----------------|------------------|---------|----------|---------------|-------|-------\nweb_project_file_source               | 1067     | ✓ 4964 (\u003c47000) | ✓ 20846 (\u003c44000) | 1309    | 4950     | 1477.8        | 72    | Passed\n```\n\n![image](/uploads/3bcd3afbfe98e40754f4ee062ee1b1ea/image.png)\n\nThe page is now comfortably performing within the ~\"severity::2\" tier. The next task is to improve it further into the ~\"severity::3\" tier.\n\n[The View File (source) page being tested can be seen here on Staging](https://staging.gitlab.com/gpt/large_projects/gitlabhq1/blob/master/fixtures/emojis/index.json). This page is specifically one loading in a large source file.\n\n### Test Details\n\nTesting was done on our [10k Reference Architecture](https://docs.gitlab.com/ee/administration/reference_architectures/10k_users.html) environment with [our lab condition SiteSpeed pipeline](https://gitlab.com/gitlab-org/quality/performance-sitespeed) (named GitLab Browser Performance Tool internally). The project being tested is a copy of [gitlabhq](https://staging.gitlab.com/gpt/large_projects/gitlabhq1/) (tarball can be found [here](https://gitlab.com/gitlab-org/quality/performance-data/-/blob/master/projects_export/gitlabhq_export_13.0.0.tar.gz)). GitLab Browser Performance Tool tests information is listed at [Current test details](https://gitlab.com/gitlab-org/quality/performance-sitespeed/-/wikis/Current-Test-Details) page.\n\nThe latest GitLab Browser Performance pipeline results can always be found [here](https://gitlab.com/gitlab-org/quality/performance/-/wikis/Benchmarks/SiteSpeed/10k). Through this page the full SiteSpeed report can be found via the `SiteSpeed Report` link on that page.\n\nAs per our [performance targets](https://about.gitlab.com/handbook/engineering/quality/issue-triage/#severity) this page's LCP metrics is within the ~\"severity::2\" tier. Task is to improve the page's browser performance into~\"severity::3\" tier (\u003c4000ms).","state":"closed","created_at":"2021-07-13T10:02:16.400Z","updated_at":"2022-07-21T12:01:10.593Z","closed_at":"2022-07-05T15:28:28.804Z","closed_by":{"id":3769272,"username":"grantyoung","name":"Grant Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3769272/avatar.png","web_url":"https://gitlab.com/grantyoung"},"labels":["Category:Source Code Management","Deliverable","Quality:performance-issues","bug::performance","devops::create","frontend","group::source code","missed-SLO","missed-deliverable","missed:14.3","missed:14.4","performance-refinement","priority::2","section::dev","severity::1","type::bug"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":3769272,"username":"grantyoung","name":"Grant Young","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3769272/avatar.png","web_url":"https://gitlab.com/grantyoung"},"type":"ISSUE","assignee":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"user_notes_count":29,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335954","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335954","notes":"https://gitlab.com/api/v4/projects/278964/issues/335954/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335954/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335954","relative":"#335954","full":"gitlab-org/gitlab#335954"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90186355,"iid":335953,"project_id":278964,"title":"[VSA] Dedicated Project VSA endpoints for stage medians, records and stage counts","description":"## Background\nThe following discussion from !65918 should be addressed:\n\n- [ ] @ekigbo started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65918#note_624509620):  (+6 comments)\n\n    \u003e Hey @ahegyi to use the group level stage median API request, i'm passing in the group path and also checking the `cycle_analytics_for_groups` license (so for FOSS we dont send api request to the group level), but this doesnt work for projects are not FOSS and fall under the user's namespace instead of a group.\n    \u003e \n    \u003e I tried passing the parent id/name instead, but stage median request fails. This wasnt a problem with the old endpoint since the median was embedded in the [`stats` object](https://gitlab.com/gitlab-org/gitlab/-/blob/master/app/controllers/projects/cycle_analytics_controller.rb#L36).\n    \u003e \n    \u003e In the short term i could check if the `groupPath` is empty and use the old API request if it is, but it wouldnt be great if we still need to do that.\n\n## TODO\n* [x] Provide an endpoint to expose stage `medians` for project value streams\n* [x] Provide an endpoint to expose `stage count`s for project value streams\n* [x] Provide an endpoint to expose stage `records` (each event that occured) for project value streams\n* [x] All endpoints should:\n  - Work for Projects in a group, projects in a personal namespace and FOSS projects (tbc)\n  - Accept the same filters we use on a group level","state":"closed","created_at":"2021-07-13T09:53:33.724Z","updated_at":"2021-08-18T01:08:31.750Z","closed_at":"2021-08-03T11:14:33.632Z","closed_by":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"labels":["Category:Value Stream Management","GitLab Free","devops::manage","documentation","frontend","group::optimize","priority::2","section::dev","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"user_notes_count":17,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335953","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":4},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 5 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335953","notes":"https://gitlab.com/api/v4/projects/278964/issues/335953/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335953/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335953","relative":"#335953","full":"gitlab-org/gitlab#335953"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5194,"epic":{"id":180134,"iid":5194,"title":"[VSA] Refactor project-level feature to use group-level code","url":"/groups/gitlab-org/-/epics/5194","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90185107,"iid":335952,"project_id":278964,"title":"Expand - Instrument how often CI templates are included- to all templates","description":"in https://gitlab.com/gitlab-org/gitlab/-/issues/219457 we measure how many templates are included in a CI pipeline, however, we limit the scope for the following templates.\n\n### What is tracked now?\n\n\u003cdetails\u003e\n\u003csummary\u003e\u003cstrong\u003eTemplates already measured\u003c/strong\u003e\u003c/summary\u003e\n\n* Auto-DevOps.gitlab-ci.yml\n* Jobs/Build.gitlab-ci.yml\n* Jobs/Deploy.gitlab-ci.yml\n* Security/SAST.gitlab-ci.yml\n* Security/Secret-Detection.gitlab-ci.yml\n* Terraform/Base.latest.gitlab-ci.yml\n* `Deploy-ECS.giltab-ci.yml`\n* `CF-Provision-and-Deploy-EC2.gitlab-ci.yml`\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003e\u003cstrong\u003eThis is how we track it in Sisense \u003c/strong\u003e\u003c/summary\u003e\n![image](/uploads/7c38fd38e844797df4f49cf2145a1fab/image.png)\n\u003c/details\u003e\n\nWe want to increase the scope to measure all available [templates](https://gitlab.com/gitlab-org/gitlab-foss/tree/master/lib/gitlab/ci/templates)\n\n### Implementation Details\n\n**Previous MR for reference**:  \nhttps://gitlab.com/gitlab-org/gitlab/-/merge_requests/50481\n\n**Rollout**: \nThis change should be made under one single feature flag. We should use a percentage of time rollout, rather than a percentage of actors. \n\n**Note of caution**:\n\n\u003e To avoid loss of data collection there will be some complexity to continue tracking the templates already counted, and only feature-flag tracking \"the rest\", but that shouldn't be too difficult. \n\nWe need to make sure when the FF is turned on that there is some collaboration so the tracking data is accurate.","state":"closed","created_at":"2021-07-13T09:32:53.715Z","updated_at":"2022-01-10T08:35:43.664Z","closed_at":"2021-09-20T13:04:00.233Z","closed_by":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"labels":["Category:Pipeline Authoring","Deliverable","backend","candidate::14.3","ci::templates","devops::verify","group::pipeline authoring","quad-planning::complete-no-action","section::ops","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"}],"author":{"id":4509877,"username":"dhershkovitch","name":"Dov Hershkovitch","state":"active","avatar_url":"https://secure.gravatar.com/avatar/7daa3113f0359f08a217fa800d9cc1d2?s=80\u0026d=identicon","web_url":"https://gitlab.com/dhershkovitch"},"type":"ISSUE","assignee":{"id":722076,"username":"matteeyah","name":"Matija Čupić","state":"active","avatar_url":"https://secure.gravatar.com/avatar/8bc04cc15e0adba406cf56fecd9d910a?s=80\u0026d=identicon","web_url":"https://gitlab.com/matteeyah"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335952","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335952","notes":"https://gitlab.com/api/v4/projects/278964/issues/335952/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335952/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335952","relative":"#335952","full":"gitlab-org/gitlab#335952"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90184857,"iid":335951,"project_id":278964,"title":"Ensure GlSingleStat animates when data is changed","description":"### Problem\n\nWith the introduction of `animateOnMount` being `false` for the animated number utility in gitlab-ui, an animation is only triggered on the `GlSingleStat` component when the value prop is changed, after the component has been mounted. \n\nOur current implementations of `GlSingleStat` conditionally render and remove the component based on the loading states of API requests, which instead of resulting in a simple prop update, results in an entire component remount. This causes the animation to never be triggered. \n\n### Solution\n\nWe can refactor our implementations of `GlSingleStat` from using `v-if` to `v-show`. This will ensure that the component only mounts once and each subsequent update triggers a prop update instead of a component remount. \n\n### Steps\n\n- Inspect each instance of `GlSingleStat`\n- Where updates to data can occur, i.e. filters available etc, replace `v-if` with `v-show`\n- Update tests as these will break on `exists`\n\n#### Notes\n\nThere are 6 instances of `GlSingleStat` looks like 3 or 4 instances are subject to data changes requiring animation.","state":"closed","created_at":"2021-07-13T09:17:10.691Z","updated_at":"2021-11-03T00:26:35.744Z","closed_at":"2021-11-02T07:45:15.378Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Epic 6459","devops::manage","estimation::completed","frontend","group::optimize","priority::4","section::dev","severity::4","type::bug","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335951","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335951","notes":"https://gitlab.com/api/v4/projects/278964/issues/335951/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335951/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335951","relative":"#335951","full":"gitlab-org/gitlab#335951"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6050,"epic":{"id":274617,"iid":6050,"title":"[DevOps Adoption] Usability improvements","url":"/groups/gitlab-org/-/epics/6050","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90181871,"iid":335946,"project_id":278964,"title":"Change Project to not use the `acts_as_taggable` gem","description":"The `tags` and `taggings` tables are going to be moved to the CI database as part of the DB decomposition effort.\n\nFrom https://gitlab.com/gitlab-org/gitlab/-/issues/333413, we decided that the easiest path forward would be to just change `Project` to use a dedicated `topics` table so that we don't have to change the gem to make it work for multiple databases.","state":"closed","created_at":"2021-07-13T08:50:50.955Z","updated_at":"2021-11-10T13:48:52.426Z","closed_at":"2021-09-28T13:04:51.908Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["Sharding Working Group","[deprecated] Accepting merge requests","backend","ci-decomposition","devops::plan","group::project management","pods::active","priority::2","section::dev","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[],"author":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"type":"ISSUE","assignee":null,"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335946","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335946","notes":"https://gitlab.com/api/v4/projects/278964/issues/335946/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335946/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335946","relative":"#335946","full":"gitlab-org/gitlab#335946"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6374,"epic":{"id":309456,"iid":6374,"title":"Decomposition: Make Dev features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6374","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90179927,"iid":335942,"project_id":278964,"title":"For the instance-level vulnerability report, use an alias to rename the GraphQL query resource name from \"instanceLevelDashboard\" to \"instance\"","description":"For the instance-level vulnerability report, the GraphQL query to get the projects has the root property `instanceSecurityDashboard`, whereas for the group-level report, it's `group`:\n\n||\n|-|\n|![ksnip_20210712-213506](/uploads/ee7f8852cb5a203a924d27d8f60dda31/ksnip_20210712-213506.png)|\n\nThis complicates the frontend code because the `dashboardType` that we get in Vue is `group` or `instance`. For the `group` dashboard type the root property has the same name:\n\n||\n|-|\n|![ksnip_20210712-221735](/uploads/a970d721415176503a6c9cdeba4cfa0a/ksnip_20210712-221735.png)|\n\nbut for the `instance` dashboard type the root property is different:\n\n||\n|-|\n|![ksnip_20210712-221345](/uploads/d0a8bfe8005e6fe4fb7139081b9b6fcf/ksnip_20210712-221345.png)|\n\nThis means that instead of being able to write code like this to cover both root properties:\n\n```js\nconst projects = data[this.dashboardType].projects.nodes\n```\n\nwe need to treat the instance-level as a special case:\n\n```js\nlet propertyName\n\nif (this.dashboardType === 'group') {\n  propertyName === 'group'\n} else if (this.dashboardType === 'instance') {\n  propertyName === 'instanceSecurityDashboard'\n}\n\nconst projects = data[propertyName].projects.nodes\n```\n\nThis issue is to use a GraphQL alias to rename `instanceSecurityDashboard` in the GraphQL query to `instance`, so that we can use the simpler code given above:\n\n||\n|-|\n|![ksnip_20210712-222129](/uploads/f806155a499ab1723f6eb5c7425f3da6/ksnip_20210712-222129.png)|\n\n## Implementation Plan\n\n- [ ] In `ee/app/assets/javascripts/security_dashboard/graphql/queries/instance_projects.query.graphql`, add the `instance` alias to `instanceSecurityDashboard`\n- [ ] In every place that uses `instance_projects.query.graphql`, change the code to use the `instance` property instead of `instanceSecurityDashboard`\n- [ ] Also update any failing tests","state":"closed","created_at":"2021-07-13T08:24:02.263Z","updated_at":"2021-10-28T13:55:12.092Z","closed_at":"2021-08-18T15:15:34.906Z","closed_by":{"id":829774,"username":"jivanvl","name":"Jose Ivan Vargas","state":"active","avatar_url":"https://secure.gravatar.com/avatar/730cc1b85a20f2a3891829f7aa198972?s=80\u0026d=identicon","web_url":"https://gitlab.com/jivanvl"},"labels":["Category:Vulnerability Management","Community contribution","devops::secure","frontend","group::threat insights","maintenance::refactor","section::sec","type::maintenance","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":6265352,"username":"edith007","name":"Siddharth Asthana","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6265352/avatar.png","web_url":"https://gitlab.com/edith007"}],"author":{"id":4907528,"username":"dftian","name":"Daniel Tian","state":"active","avatar_url":"https://secure.gravatar.com/avatar/5d7186a64c42708833291afd7749c7b5?s=80\u0026d=identicon","web_url":"https://gitlab.com/dftian"},"type":"ISSUE","assignee":{"id":6265352,"username":"edith007","name":"Siddharth Asthana","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6265352/avatar.png","web_url":"https://gitlab.com/edith007"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335942","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335942","notes":"https://gitlab.com/api/v4/projects/278964/issues/335942/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335942/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335942","relative":"#335942","full":"gitlab-org/gitlab#335942"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90169367,"iid":335938,"project_id":278964,"title":"[Feature flag] Rollout of `merge_request_show_render_cached`","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n## Summary\n\nThis issue is to rollout [the feature](ISSUE LINK) on production,\nthat is currently behind the `\u003cfeature-flag-name\u003e` feature flag.\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\n## Owners\n\n- Team: ~\"group::code review\" \n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: @dskim_gitlab \n- PM: @phikai \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing projects\n- Rollout on GitLab.com for a week\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab` project\n- `gitlab-com/www-gitlab-com` project\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe expect the response time on MergeRequeest#show.json would improve.\n\n### What might happen if this goes wrong?\n\nIt might use up too much of the available cache storage which might affect overall application performance.\n\n### What can we monitor to detect problems with this?\n\n* [show.json Rails Conroller](https://dashboards.gitlab.net/d/web-rails-controller/web-rails-controller?from=now-7d\u0026orgId=1\u0026to=now\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-controller=Projects::MergeRequestsController\u0026var-action=show.json)\n* [Redis cache dashboard](https://dashboards.gitlab.net/d/redis-cache-main/redis-cache-overview?orgId=1)\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --dev`\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [x] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [x] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [x] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [x] `/chatops run feature set --\u003cactor-type\u003e=\u003cactor\u003e \u003cfeature-flag-name\u003e true`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e --actors`\n  - If the feature flag in code does **NOT** have [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform time-based rollout (**random** rollout).\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e \u003crollout-percentage\u003e`\n  - Enable the feature globally on production environment.\n    - [ ] `/chatops run feature set \u003cfeature-flag-name\u003e true`\n- [x] Announce on [the feature issue](ISSUE LINK) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [ ] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [ ] Remove all references to the feature flag from the codebase.\n    - [ ] Remove the YAML definitions for the feature from the repository.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [ ] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [ ] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set merge_request_show_render_cached false\n```","state":"closed","created_at":"2021-07-13T04:38:47.184Z","updated_at":"2021-10-28T13:55:13.710Z","closed_at":"2021-09-08T02:06:02.074Z","closed_by":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"labels":["Deliverable","OKR FY22 Q2::Large MR","backend","bug::performance","devops::create","feature flag","group::code review","missed:14.2","section::dev","type::maintenance"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"type":"ISSUE","assignee":{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335938","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":47,"completed_count":19},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"19 of 47 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335938","notes":"https://gitlab.com/api/v4/projects/278964/issues/335938/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335938/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335938","relative":"#335938","full":"gitlab-org/gitlab#335938"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6142,"epic":{"id":285495,"iid":6142,"title":"Cache responses of endpoints used in merge request page","url":"/groups/gitlab-org/-/epics/6142","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90160217,"iid":335931,"project_id":278964,"title":"Speed: Process work items in parallel (WebRunnerMachine)","description":"### Problem\n\nThe `WebRunnerCheckStrategy` generates `IWebRunnerWorkItem`s which are currently processed in series. To improve speed and allow taking advantage of a larger testing machine with multiple CPUs, the work items should be processed in parallel up to some reasonable max parallelism based on CPU/Core counts.\n\n### Proposal\n\nUse the .NET Dataflow objects to process work items generated by `WebRunnerCheckStrategy` in parallel. The existing `344864-threaded-runner` branch will be used as a reference only. The refactoring of `WebRunnerCheckStrategy` should provide a much better foundation than existed in the prior working branch for threading.\n\n**NOTE:** Please keep the `344864-threaded-runner` until @mikeeddington returns. Some hotpath methods were optimized in this branch.\n\nOne issue found in the existing branch was the minimum workers count on `ThreadPool` should not match the vCPU, it should be higher by at least 1. On single vCPU runners, such as the GitLab shared runners, increasing the worker thread count improved performance.\n\nTo determine the correct levels for `ThreadPool` `MinThreads WorkerThreads` and also `MaxDegreeOfParallelism` for the `TransformBlock`. It's recommended to build a 4 vCPU runner in GPC to use with a custom label, and also use the shared runners with a single vCPU. Do not expose any new variables for configuring parallelism at this time.\n\n- At start of job run each operation record to generate work items\n  - https://gitlab.com/gitlab-org/gitlab/-/issues/353293\n- Work items added to `TransformBlock` for processing\n- Automatically check CPU/core count and update max parallelization and task limits accordingly\n   - Override task minimums to prevent major slow down on 1 vCPU runners\n- Work Items\n  - Active checks\n  - Mutational checks\n    - Parameter + Check\n- Documentation update for how to increase testing speed using a larger instance\n\n### Implementation\n\n1. [x] Remove benchmark stage from gitlab ci file\n1. [x] Verify no use of custom runners left, move everything to `gitlab-org,high-cpu`\n1. [x] If the CPU count is 1, and the job time is \u003e 10min, call out our parallel documentation on the console\n1. ~~Getting occasional failures on ShouldReturnRequestCountAndSumResponseSize test~~\n   - https://gitlab.com/gitlab-org/security-products/analyzers/api-fuzzing-src/-/jobs/2810807453\n   - Does this test really work? What about when we test path parameters?\n   - https://gitlab.com/gitlab-org/gitlab/-/issues/371086\n1. [x] `tests_int_config_fuzzing-headers-quick` \n   - failing due to two missing response analysis with \"Internal server error\" response (500)\n   - Need to make these two vulnerabilities optional in nature, so changes to the checkreportfaultcounts.sh needed\n1. [x] Rename tuning variable `API_SECURITY_WORKER_MAX_THREADS` to `DAST_API_TUNE_MAX_CONCURRENCY`\n1. [x] Using a `Dataflow` block from the Task Parallel Library, parallelize the work items produced by the strategy.\n1. [x] Automatically check CPU/core count and update max parallelization and task limits accordingly\n   1. [x] Good enough is - Shared runner (1 vCPU) is not allot slower. And multi-cpu gets allot faster.\n   1. [x] Allow override via configuration as a potential workaround\n1. [x] Fix any concurrency issues caused by parallelization of the work items\n   1. [x] Wait for record to complete before starting other work items\n      - Prevent issues with Resources, EndPoints in terms of adding PathTrie's and recorded operations\n   1. [x] WebRunnerCheckStrategy.PerformMutationCheckWork -- Re-check configurations, I think we are safe, but..\n      1. [x] Create a new instance of check for each work item to avoid concurrency issues\n      1. [x] Fix broken tests that mock Repository.LoadCheck causing them to never return\n      - To be safe we could request a new instance of a check in the strategy work item. This would also make checks safer to implement. Maybe this is follow on work?\n      - Goes away with this `FrameworkDebugModeCheck` -- private FrameworkChecks\n      - Goes away with this `FuzzingCheck` -- LOTS OF STUFF HERE!! All sorts of private storage that changes between uses\n      - Any issues with Assertion/Check initialization goes away\n   1. [x] PathTrie\u003cT\u003e -- Used by EndPoint, has Dictionary\n      - Mikes branch commit: 8c1d027836fc57a537e2ee993732fe41f4371961\n   1. [x] WebApiService -- Has several Dictionary types that will be used cross-thread\n      - Mikes branch commit: 8c1d027836fc57a537e2ee993732fe41f4371961\n   1. [x] Resource -- List\u003cOperation\u003e -\u003e ConcurrentBag\u003cOperation\u003e\n      - Mikes branch commit: 8c1d027836fc57a537e2ee993732fe41f4371961\n   1. [x] FaultCollector -- Add a new FaultDetectedThreadSafe method with locking\n      - Mikes branch commit: 8c1d027836fc57a537e2ee993732fe41f4371961\n   1. [x] `BlindInjectionAssertion` -- associated checks are also still stateful.\n      1. [x] `OsCommandInjectionCheck`\n      1. [x] `ShellShockCheck`\n      1. [x] `SqlInjectionCheck`\n   1. [x] `ResponseAnalysisAssertion`\n      1. [x] Cache needs locking\n      2. [ ] ~~_entries needs a solution, changes based on config~~\n   1. [x] `Repository.FindOrCreateFinding` -- Needs lock to avoid duplicate findings\n   1. [x] `XmlExternalEntityCheck` -- Cached XML document on local private variable\n      1. [x] Put a fix in place\n      1. [x] Have herb review fix for perf\n   1. [x] `CustomBodyContainsAssertionConfig`\n      1. [x] IsMatch needs locking on setting _searchStringRegex?\n      1. [ ] ~~Can we cache the regex and still work w/concurrency~~\n   1. [x] `CustomParameterContainsAssertionConfig`\n      1. [x] IsMatch needs locking on setting _matchRegex?\n      1. [ ] ~~Can we cache the regex and still work w/concurrency~~\n   1. [x] `LogAnalysisAssertionConfigEntry`\n      1. [x] ~~Do we need locking in Regex property? Mike: No we do not.~~\n   1. [x] `ResponseAnalysisAssertionConfigEntry`\n      1. [x] ~~Do we need locking in Regex property? Mike: No we do not.~~\n   1. [x] `SessionCookieCheckConfigEntry`\n      1. [x] ~~Do we need locking in Regex property? Mike: No we do not.~~\n   1. [x] `InsecureHttpMethodsCheck`\n      1. [ ] ~~Has configuration dependent internal state~~\n   1. [x] `TlsConfigurationCheck` -- Caches configuration, if we test two hosts at once, could collide\n   1. [x] `XmlExternalEntityCheck` -- Looks like it has some internal state\n   1. [x] RegexCache -- Can we move to a concurrent dictionary and remove locking? Lots of calls to this class.\n   1. [x] Issues exposed through test failures\n1. [x] Perform concurrency audit\n   1. [x] RegexCache\n   1. [x] ~~Assertion initialization~~ Not needed if we use a new check instance in WebRunnerCheckStrategy\n   1. [x] ~~Check initialization~~ Not needed if we use a new check instance in WebRunnerCheckStrategy\n      1. [x] ~~Make sure `Initialize` is only called once~~\n   1. [x] Assertions - Check assertion and also configurations, look for private variables in configs\n   1. [x] Checks - Check main check and also configurations, look for private variables in configs\n      1. [x] Review check configurations\n      1. [x] Checks include base classes\n   1. [x] Fault reporting flow (just lock all of it)\n   1. [x] Send request networking flow\n   1. [x] Review Mike's old work branch to identify other concurrency issues\n   1. [x] If check/assert configurations can change by route, that's a concurrency problem because each work item could be a different route operating in parallel.\n      - Checks and Assertions are `InstancePerDependency` for autofac. Always new instances.\n      - Check instances created by Repository always have a unique instance\n      - It looks like we are safe here, but...\n      - To be safe we could request a new instance of a check in the strategy work item\n1. [x] Update tests and add any new tests needed.\n   1. [x] Set max concurrent requests in integration tests and confirm that multiple requests are made to the target concurrently\n   1. [x] Set max concurrent requests in worker-entry tests and confirm that scanner receives the setting\n1. [x] ~~HttpConnectionSettings - This can change with the route (external proxy)! Will need a unique instance per-operation to use.~~\n   - https://gitlab.com/gitlab-org/gitlab/-/issues/369501\n1. [x] Optimizations\n   1. [x] ~~Benchmark if making _faultCollector.FaultDetectedThreadSafe call a background task improves perf~~\n          - This is a can of worms. The variables we pass in change if tasked off.\n   1. ~~Modify Repository.LoadCheck to not get new instances of all checks, just the one check~~ https://gitlab.com/gitlab-org/gitlab/-/issues/371088\n   1. ~~Http11Connection -- Could remove locking if we used thread safe bool pattern already in use~~ https://gitlab.com/gitlab-org/gitlab/-/issues/371089\n      - https://stackoverflow.com/questions/29411961/c-sharp-and-thread-safety-of-a-bool\n   1. [x] Request.WriteHeaders -- Use stringbuffers append over string interpolation\n1. ~~Documentation~~ https://gitlab.com/gitlab-org/gitlab/-/issues/371085\n\n#### David's transition notes as of 7/17:\n\n1. [x] Configuration via environment variable is implemented and tested\n   1. During testing it was found that setting the value to 0 causes worker-entry to not serialize the value in the create session request (presumably because it is a default value, but I was not able to track down specifically where this determination was made). This effectively makes 0 equal to not setting it at all, which causes the DOP setting to be calculated based on CPUs. That seemed like a reasonable meaning for 0 - particularly because actually setting MaxDop to 0 in the Dataflow blocks disables them - so it is documented and tested that way. Although it cannot be set from worker-entry, if a 0 does show up in the runner options (because .NET integration tests do not strip the 0 value for example), it is explicitly recognized as being equivalent to null. See this [code comment](https://gitlab.com/gitlab-org/security-products/analyzers/api-fuzzing-src/-/blob/ded7f30b4cf486518f513e42dcd9161980588a97/web/Test/Integration/Runner/ParallelTests.cs#L89-92).\n   1. Setting the value to -1 means \"Unbounded\" to Dataflow. While initially it seemed like it might be a good idea to support this value, integration testing with unbounded DOP showed that it can easily overwhelm the target. Since it seemed likely to cause more problems than it solves, I decided not to support it. See this [code comment](https://gitlab.com/gitlab-org/security-products/analyzers/api-fuzzing-src/-/blob/ded7f30b4cf486518f513e42dcd9161980588a97/web/Test/Integration/Runner/ParallelTests.cs#L73-77) and [this one](https://gitlab.com/gitlab-org/security-products/analyzers/api-fuzzing-src/-/blob/ded7f30b4cf486518f513e42dcd9161980588a97/web/SDK/worker-entry/tests/test_int_parallel.py#L31-32).\n   1. Initially I named this `MAX_CONCURRENT_REQUESTS`, trying to tie it to something the user would understand. However, while I _think_ it is accurate for now (though hard to prove), I realized that might be a stronger commitment than we are willing to make. So I changed it to `MAX_CONCURRENCY` as recommended in the task list.\n1. Testing  \n   1. A few tests are not passing:\n      1. `tests_int_config_fuzzing-headers-quick` and `tests_int_config_fuzzing-quick` need to have expectations updated. StatusCode-based vulnerabilities coming from our Flask target are now unreliable, since they depend on the order of the incoming requests. The solution (for now) is to ignore status code vulnerabilities in our integration tests.  \n      1. `ShouldFindVulnerabilityRemoteFileInclusionInJsonBodyWithEmbeddedXml` integration test is failing intermittently because `XmlExternalEntityCheck` is stateful and not safe for concurrent execution[^1].\n      1. There is a `Debug.Assert` in `BlindInjectionAssertion` that is causing multiple integration tests to fail because `BlindInjectionAssertion` is stateful and not safe for concurrent execution[^1]. The `Debug.Assert` is currently commented out to prevent it from masking other issues.\n   1. [x] New integration tests specifically for concurrent execution have been added\n      1. These tests use a `RunnerOptions` property which is not intended to be exposed to consumers which waits to run checks until after all recording is done. We could make this the default behavior instead, which would simplify the code slightly; but since we previously talked about keeping the current behavior, I made it an option for now. See this [code comment](https://gitlab.com/gitlab-org/security-products/analyzers/api-fuzzing-src/-/blob/ded7f30b4cf486518f513e42dcd9161980588a97/web/Test/Integration/Runner/ParallelTests.cs#L257-263).\n      1. These tests are sending more requests than necessary, and could be faster if the requests could be reduced. See this [code comment](https://gitlab.com/gitlab-org/security-products/analyzers/api-fuzzing-src/-/blob/ded7f30b4cf486518f513e42dcd9161980588a97/web/Test/Integration/Runner/ParallelTests.cs#L208-211).\n   1. [x] Worker-entry tests for configuration of concurrent execution have been added\n      1.  Testing that parallel execution is actually happening at this level would be quite difficult, as well as redundant with the integration tests. So these tests do as little as possible and focus on confirming that the setting is passed correctly from worker-entry to the scanner.\n\n[^1]: The spike branch created a MutationContext which could hold the state from these checks in order to make them safe for concurrent execution. However that solution caused large changes throughout the entire architecture. Instead we discussed creating concurrency-safe caches inside the checks, keyed to each work item, to store the needed state.","state":"closed","created_at":"2021-07-13T00:49:41.972Z","updated_at":"2022-08-22T12:14:46.995Z","closed_at":"2022-08-17T22:42:22.942Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:API Security","GitLab Ultimate","backend","devops::secure","feature::enhancement","group::dynamic analysis","milestone::p1","section::sec","type::feature","workflow::production"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"},{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":1523140,"username":"DavidNelsonGL","name":"David Nelson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1523140/avatar.png","web_url":"https://gitlab.com/DavidNelsonGL"},"user_notes_count":25,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335931","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":70,"completed_count":66},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"66 of 70 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335931","notes":"https://gitlab.com/api/v4/projects/278964/issues/335931/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335931/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335931","relative":"#335931","full":"gitlab-org/gitlab#335931"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6502,"epic":{"id":317541,"iid":6502,"title":"API Security scanner speed improvements","url":"/groups/gitlab-org/-/epics/6502","group_id":9970,"human_readable_end_date":"Aug 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90156778,"iid":335927,"project_id":278964,"title":"Geo: Group Geo CLI commands under the `geo` namespace","description":"### Problem to solve\n\nThe Geo CLI commands do not follow a pattern, and most of them are required during a critical situation, e.g., during a disaster. To make it easier for customers to know which command to use, we should group them under a common namespace.\n\n### Proposal\n\nGroup Geo CLI commands under `geo` namespace.\n\n```\nUsage:\n  gitlab-ctl geo [options] command [options]\n\nGLOBAL OPTIONS:\n  -h, --help      Usage help\n  -q, --quiet     Silent or quiet mode\n  -v, --verbose   Verbose or debug mode\n\nCOMMANDS:\n  check                 Check Geo configuration and dependencies\n  promote               Promote the current Geo node\n  ...\n  status                Show current Geo site status\n```\n\n\n@geo-team WDYT?","state":"closed","created_at":"2021-07-12T22:43:31.054Z","updated_at":"2021-07-20T13:42:33.485Z","closed_at":"2021-07-20T13:41:28.742Z","closed_by":{"id":4554077,"username":"nhxnguyen","name":"Nick Nguyen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4554077/avatar.png","web_url":"https://gitlab.com/nhxnguyen"},"labels":["Category:Disaster Recovery","Enterprise Edition","GitLab Premium","[deprecated] Accepting merge requests","devops::systems","group::geo","section::enablement"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":283999,"username":"dbalexandre","name":"Douglas Barbosa Alexandre","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/283999/avatar.png","web_url":"https://gitlab.com/dbalexandre"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":3,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335927","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335927","notes":"https://gitlab.com/api/v4/projects/278964/issues/335927/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335927/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335927","relative":"#335927","full":"gitlab-org/gitlab#335927"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5424,"epic":{"id":207141,"iid":5424,"title":"🌍 Geo","url":"/groups/gitlab-org/-/epics/5424","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003e2\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":90154262,"iid":335916,"project_id":278964,"title":"Test package uploads using MinIO","description":"### Context\n\nFeatures in the [package stage](https://about.gitlab.com/handbook/product/categories/#package-stage) make heavy use of uploads. There are two major ways [uploads](https://docs.gitlab.com/ee/administration/uploads.html) can be configured:\n\n1. Local storage\n1. Object storage\n\nWith the object storage option, you can use Minio.\n\n### Problem to solve\n\nThere are different configurations of Minio that could impact how packages are uploaded that are not currently tested. \n\n### Proposal\n\nAdd QA tests for package uploads to Minio with the below [settings](https://docs.gitlab.com/ee/administration/uploads.html#object-storage-settings) that can be used when using object storage:\n\n1. `background_upload`\n1. `proxy_upload`\n1. `direct_upload`\n\n#### Beyond this issue\n\n- Test other object storage settings.","state":"closed","created_at":"2021-07-12T21:47:28.398Z","updated_at":"2021-08-18T07:05:31.591Z","closed_at":"2021-08-09T13:43:05.472Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Package Registry","Deliverable","Package:P1","Quality","WorkingGroup::ImproveOpsQuality","devops::package","group::package registry","reliability","section::ops"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335916","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335916","notes":"https://gitlab.com/api/v4/projects/278964/issues/335916/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335916/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335916","relative":"#335916","full":"gitlab-org/gitlab#335916"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6344,"epic":{"id":307278,"iid":6344,"title":"Explore object-storage QA opportunities for package stage features","url":"/groups/gitlab-org/-/epics/6344","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90154104,"iid":335914,"project_id":278964,"title":"Test package uploads using AWS S3","description":"### Context\n\nFeatures in the [package stage](https://about.gitlab.com/handbook/product/categories/#package-stage) make heavy use of uploads. There are two major ways [uploads](https://docs.gitlab.com/ee/administration/uploads.html) can be configured:\n\n1. Local storage\n1. Object storage\n\nWith the object storage option, you can use AWS S3. S3 is the most frequently used option.\n\n### Problem to solve\n\nThere are different configurations of S3 that could impact how packages are uploaded that are not currently tested. There are also S3 compatible providers that are not tested. \n\n### Proposal\n\nAdd QA tests for package uploads to S3 with the below [settings](https://docs.gitlab.com/ee/administration/uploads.html#object-storage-settings) that can be used when using object storage:\n\n1. `background_upload`\n1. `proxy_upload`\n1. `direct_upload`\n\n#### Beyond this issue\n\n- As a first iteration, add tests for S3. Open issues for AWS compatible services and add them to the epic. \n- Test other object storage settings.","state":"closed","created_at":"2021-07-12T21:43:46.403Z","updated_at":"2021-08-18T07:05:31.645Z","closed_at":"2021-08-11T08:51:46.900Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Package Registry","Deliverable","Package:P1","Quality","WorkingGroup::ImproveOpsQuality","devops::package","group::package registry","section::ops","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"}],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335914","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335914","notes":"https://gitlab.com/api/v4/projects/278964/issues/335914/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335914/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335914","relative":"#335914","full":"gitlab-org/gitlab#335914"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6344,"epic":{"id":307278,"iid":6344,"title":"Explore object-storage QA opportunities for package stage features","url":"/groups/gitlab-org/-/epics/6344","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90154069,"iid":335913,"project_id":278964,"title":"Test package uploads using GCP Storage","description":"### Context\n\nFeatures in the [package stage](https://about.gitlab.com/handbook/product/categories/#package-stage) make heavy use of uploads. There are two major ways [uploads](https://docs.gitlab.com/ee/administration/uploads.html) can be configured:\n\n1. Local storage\n1. Object storage\n\nWith the object storage option, you can use Google, the second most common provider.\n\n### Problem to solve\n\nThere are different configurations of GCP that could impact how packages are uploaded that are not currently tested. \n\n### Proposal\n\nAdd QA tests for package uploads to GCP with the below [settings](https://docs.gitlab.com/ee/administration/uploads.html#object-storage-settings) that can be used when using object storage. For the first iteration, they should test using the consolidated approach.","state":"closed","created_at":"2021-07-12T21:43:18.462Z","updated_at":"2021-11-18T07:02:14.030Z","closed_at":"2021-11-08T11:39:02.369Z","closed_by":{"id":4763342,"username":"svistas","name":"Sofia Vistas","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4763342/avatar.png","web_url":"https://gitlab.com/svistas"},"labels":["Category:Package Registry","Deliverable","Package:P1","Quality","WorkingGroup::ImproveOpsQuality","[deprecated] Accepting merge requests","devops::package","group::package registry","missed-deliverable","missed:14.3","package:cross-group-dependency","reliability","section::ops","workflow::ready for development"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[],"author":{"id":3799560,"username":"trizzi","name":"Tim Rizzi","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3799560/avatar.png","web_url":"https://gitlab.com/trizzi"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335913","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335913","notes":"https://gitlab.com/api/v4/projects/278964/issues/335913/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335913/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335913","relative":"#335913","full":"gitlab-org/gitlab#335913"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6344,"epic":{"id":307278,"iid":6344,"title":"Explore object-storage QA opportunities for package stage features","url":"/groups/gitlab-org/-/epics/6344","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90150865,"iid":335907,"project_id":278964,"title":"Don't report the OPTIONS method as a vulnerability","description":"### Problem\n\nAPI Security considers the `OPTIONS` method being available as a security issue. However, Vulnerability Research doesn't. VR is classifying it as a false positive.\n\n### Proposal\n\nRemove the `OPTIONS` method from the list of dangerous HTTP methods.\n\nTasks:\n\n1. [x] Update check to remove `OPTIONS` method\n1. [x] Verify benchmark results\n1. [x] Publish new version of image","state":"closed","created_at":"2021-07-12T20:55:43.542Z","updated_at":"2021-07-15T14:55:31.682Z","closed_at":"2021-07-15T14:55:31.664Z","closed_by":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"labels":["Category:DAST","GitLab Ultimate","backend","devops::secure","group::dynamic analysis","priority::3","section::sec","severity::3","type::bug","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335907","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335907","notes":"https://gitlab.com/api/v4/projects/278964/issues/335907/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335907/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335907","relative":"#335907","full":"gitlab-org/gitlab#335907"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90148686,"iid":335900,"project_id":278964,"title":"Confirm user button in admin area only works on \"Account\" tab","description":"### Summary\n\nIn https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64812 we moved the `Confirm user` button to the header which made it available on all the tabs. Due to some missing JavaScript the `Confirm user` currently only works on the `Account` page.\n\n### Steps to reproduce\n\n1. Login as an Admin (`root` user in GDK)\n1. Navigate to `Menu` -\u003e `Admin` -\u003e `Users` and note the username of one of the users\n1. In your terminal in the `gdk/gitlab` directory run `bin/rails console`\n1. Run the following commands\n   * `user = User.find_by_username('\u003cuser name\u003e')`\n   * `user.confirmed_at = nil`\n   * `user.save`\n1. Navigate to `Menu` -\u003e `Admin` -\u003e `Users` and choose that user\n1. There should be a `Confirm user` button in the header\n1. Navigate to any tab other than the `Account` tab and click the `Confirm user` button\n\n### What is the current *bug* behavior?\n\n`Confirm user` button only works on `Account` tab\n\n### What is the expected *correct* behavior?\n\n`Confirm user` button should work on all tabs\n\n### Relevant logs and/or screenshots\n\n![Screen_Shot_2021-07-12_at_1.11.05_PM](/uploads/56edb2cf7766eee0efcfbe1b198ee12b/Screen_Shot_2021-07-12_at_1.11.05_PM.png)\n\n### Possible fixes\n\nLoad required JavaScript for confirmation modal to work","state":"closed","created_at":"2021-07-12T20:12:22.143Z","updated_at":"2021-07-15T16:04:31.676Z","closed_at":"2021-07-15T16:04:31.656Z","closed_by":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"labels":["UX","devops::manage","frontend","group::authentication and authorization","section::dev","severity::3","type::bug","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"}],"author":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"type":"ISSUE","assignee":{"id":5413811,"username":"peterhegman","name":"Peter Hegman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/459d8635e9ab17a052c00ead1d7bf1e6?s=80\u0026d=identicon","web_url":"https://gitlab.com/peterhegman"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335900","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335900","notes":"https://gitlab.com/api/v4/projects/278964/issues/335900/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335900/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335900","relative":"#335900","full":"gitlab-org/gitlab#335900"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90146954,"iid":335895,"project_id":278964,"title":"Document development guidelines for implementing and testing Content Editor extensions","description":"\u003c!--\n\n* Use this issue template for suggesting new docs or updates to existing docs.\n  Note: Doc work as part of feature development is covered in the Feature Request template.\n\n* For issues related to features of the docs.gitlab.com site, see\n     https://gitlab.com/gitlab-org/gitlab-docs/issues/\n\n* For information about documentation content and process, see\n     https://docs.gitlab.com/ee/development/documentation/ --\u003e\n\n### Problem to solve\n\nWe’ve made significant progress in the [development of the Content Editor](https://docs.gitlab.com/ee/development/fe_guide/content_editor.html) over the last four milestones.  This progress also brings technical complexity in the form of many components interacting with each other, coming up with testing techniques for new editor features, etc.\n\nThis complexity will increase over time, and we need to invest in providing clear guidelines that to navigate it. That ensures the maintainability of the Content Editor over time and the onboarding of new Engineers into the project.  \n\n### Proposal\n\nAdd development guidelines that instruct engineers in how to:\n\n- Create a new Content Editor extension.\n- Test a Content Editor extension.\n- Ensure that new features are always instrumented.\n- Styling guides.\n\n### Who can address the issue\n\nA frontend engineer of the Editor team with collaboration from a technical writing counter part. \n\n\n### Other links/references\n\n\u003c!-- E.g. related GitLab issues/MRs --\u003e","state":"closed","created_at":"2021-07-12T19:36:41.697Z","updated_at":"2021-09-18T07:01:06.332Z","closed_at":"2021-09-09T18:34:34.898Z","closed_by":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"labels":["Deliverable","Technical Writing","development guidelines","devops::create","docs::improvement","documentation","frontend","group::editor","quad-planning::complete-no-action","section::dev","tw-weight::8","workflow::ready for development"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"}],"author":{"id":3540517,"username":"ealcantara","name":"Enrique Alcántara","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3540517/avatar.png","web_url":"https://gitlab.com/ealcantara"},"type":"ISSUE","assignee":{"id":2398164,"username":"himkp","name":"Himanshu Kapoor","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2398164/avatar.png","web_url":"https://gitlab.com/himkp"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335895","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335895","notes":"https://gitlab.com/api/v4/projects/278964/issues/335895/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335895/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335895","relative":"#335895","full":"gitlab-org/gitlab#335895"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90145866,"iid":335893,"project_id":278964,"title":"Specify expected counts in gitlab-ci.yml file","description":"### Problem\n\nAPI Security has a number of end-to-end (e2e) test projects. Each e2e test verified an expected number of vulnerabilities and validates all assets are accessible. Currently the expected test counts are specified in the e2e projects themselves. This causes a problem when making changes in a feature branch that modify the count numbers.\n\n### Proposal\n\nPass the expected test count values from the `.gitlab-ci.yml` file so the counts can differ between branches.\n\nExample:\n\n```yaml\ne2e_p_postman_v2.1_vars_tls:\n    extends: .e2e_p_base\n    variables:\n        \u003c\u003c : *e2e_p_base_variables\n        EXPECT_REPORT_COUNT_MIN: 9\n        EXPECT_REPORT_COUNT_MAX: 9\n    trigger:\n        project: gitlab-org/security-products/tests/api-fuzzing-e2e/postman-v2.1-vars-tls\n        strategy: depend\n```\n\nNOTE: Make sure to update the `\u003c\u003c : *e2e_p_base_variables` line to reflect the correct e2e test section (s, sm, p).\n\n### Tasks\n\n1. [x] Update all e2e test entries in `.gitlab-ci.yml`\n1. [x] Remove expected test counts from individual e2e project's `.gitlab-ci.yml`.\n1. [x] Manually verify new configuration is working\n1. [x] Update readme in [base image project](https://gitlab.com/gitlab-org/security-products/tests/api-fuzzing-e2e/e2e-image) to reflect this change","state":"closed","created_at":"2021-07-12T19:05:02.912Z","updated_at":"2022-03-16T11:41:15.335Z","closed_at":"2021-07-23T16:09:09.307Z","closed_by":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"labels":["Category:Fuzz Testing","GitLab Ultimate","devops::secure","group::dynamic analysis","section::sec","type::maintenance","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"}],"author":{"id":6121997,"username":"mikeeddington","name":"Michael Eddington","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/6121997/avatar.png","web_url":"https://gitlab.com/mikeeddington"},"type":"ISSUE","assignee":{"id":7488329,"username":"herbmadrigal","name":"Herber Madrigal","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7488329/avatar.png","web_url":"https://gitlab.com/herbmadrigal"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335893","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"4 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335893","notes":"https://gitlab.com/api/v4/projects/278964/issues/335893/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335893/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335893","relative":"#335893","full":"gitlab-org/gitlab#335893"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90141467,"iid":335880,"project_id":278964,"title":"Replace `UniqueVisits` with `HLLRedisCounter`","description":"## Problem to solve\n\nUnder https://gitlab.com/gitlab-org/gitlab/-/issues/325517, usage of `UniqueVisitsHelper` was replaced by usage of `RedisTracking`.  During code review, it was [suggested that `Analytics::Analytics::UniqueVisits` should be eliminated too](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65594#note_623506433).\n\n## Proposal\n\nReplace `Analytics::Analytics::UniqueVisits` with `Gitlab::UsageDataCounters::HLLRedisCounter`.","state":"closed","created_at":"2021-07-12T17:37:21.631Z","updated_at":"2022-07-07T12:49:35.951Z","closed_at":"2022-07-07T12:49:35.944Z","closed_by":{"id":4826728,"username":"m_frankiewicz","name":"Magdalena Frankiewicz","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ca314fa77051f58ced6e3e5bf7f0dd48?s=80\u0026d=identicon","web_url":"https://gitlab.com/m_frankiewicz"},"labels":["Hackathon","Seeking community contributions","backend","devops::manage","good for new contributors","group::optimize","maintenance::refactor","section::dev","type::maintenance","workflow::scheduling"],"milestone":null,"assignees":[],"author":{"id":4512390,"username":"djensen","name":"Dan Jensen","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4512390/avatar.png","web_url":"https://gitlab.com/djensen"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335880","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335880","notes":"https://gitlab.com/api/v4/projects/278964/issues/335880/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335880/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335880","relative":"#335880","full":"gitlab-org/gitlab#335880"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90141212,"iid":335879,"project_id":278964,"title":"Slack Application - \"Save Changes\" button spinning endlessly","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\nWhen attempting to [edit the project alias](https://docs.gitlab.com/ee/user/project/integrations/gitlab_slack_application.html#create-a-project-alias-for-slack) for the Slack Application, the `Save Changes` button is endlessly spinning.\n\n**Workaround:** This behavior appears to be benign.  If you edit the Project Alias and click `Save Changes`, the Project Alias is successfully updated and slash commands work for the new alias.\n\n### Steps to reproduce\n\n1.  Go to your project’s home page.\n2.  Navigate to **Settings \u003e Integrations** (only visible on GitLab.com)\n3.  On the **Integrations** page, click **Slack application**.\n4.  Click **Edit**. \n5.  Observe spinner icon on `Save Changes` button spinning endlessly.\n\n### What is the current *bug* behavior?\n\nWhen attempting to [edit the project alias](https://docs.gitlab.com/ee/user/project/integrations/gitlab_slack_application.html#create-a-project-alias-for-slack) for the Slack Application, the `Save Changes` button is spinning endlessly.\n\n### What is the expected *correct* behavior?\n\nThere should be no spinning icon next to `Save Changes`.  This is misleading and leads users to believe that the functionality is broken in regards to updating the project alias.\n\n### Relevant logs and/or screenshots\n\nRoute: `/:user/:project/-/settings/slack/edit`\n\n\u003cdetails\u003e\u003csummary\u003eClick to expand image\u003c/summary\u003e\n\n![Screen_Shot_2021-07-12_at_1.28.07_PM](/uploads/7922e347ad021eff3f7f96de717e1c12/Screen_Shot_2021-07-12_at_1.28.07_PM.png)\n\n\u003c/details\u003e\n\n### Output of checks\n\nThis bug happens on GitLab.com","state":"closed","created_at":"2021-07-12T17:31:45.507Z","updated_at":"2022-11-22T19:37:57.474Z","closed_at":"2021-10-14T07:08:18.497Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Community contribution","Deliverable","Integration::Slack","customer","devops::manage","frontend","gitlab.com","group::integrations","priority::4","section::dev","severity::4","type::bug","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},{"id":5223956,"username":"imrishabh18","name":"Rishabh Gupta","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5223956/avatar.png","web_url":"https://gitlab.com/imrishabh18"}],"author":{"id":7077441,"username":"rkelly","name":"Ryan Kelly","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7077441/avatar.png","web_url":"https://gitlab.com/rkelly"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":14,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335879","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335879","notes":"https://gitlab.com/api/v4/projects/278964/issues/335879/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335879/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335879","relative":"#335879","full":"gitlab-org/gitlab#335879"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90137324,"iid":335868,"project_id":278964,"title":"Use new License compliance approval_status [frontend]","description":"this is a corresponding issue for and that can be done after https://gitlab.com/gitlab-org/gitlab/-/issues/333578\n\nWe use legacy license compliance approval statuses `blacklisted` and `approved` and we need to change them to a new pair of names `denied` and `applied` \n\nOn backend, we'll follow next plan:\n\n1. https://gitlab.com/gitlab-org/gitlab/-/issues/333578 - hide changes under feature flag `lc_remove_legacy_approval_status` and update the usage of approval status names everywhere except [public API endpoints](https://gitlab.com/gitlab-org/gitlab/blob/8ea9b0e2a15db8c9e8728d79c2df4db431efca41/ee/lib/api/managed_licenses.rb#L4)\n1. https://gitlab.com/gitlab-org/gitlab/-/issues/335707 - fix usage of these names in [public API endpoints](https://gitlab.com/gitlab-org/gitlab/blob/8ea9b0e2a15db8c9e8728d79c2df4db431efca41/ee/lib/api/managed_licenses.rb#L4)\n\n## Implementation Plan\n\nWe need to plan correspondent changes for the frontend:\n\nAction: (This is the UI terminology for selecting an action to take when changing the state from the management screen, behind the scenes backend is sent the `state` value, not the `action`)\n\n\"Approve\" -\u003e \"Allow\"\n\n\"Blacklist\" -\u003e \"Deny\"\n\nState: (This is what we match with backend)\n\n\"Approved\" -\u003e \"Allowed\"\n\n\"Blacklisted\" -\u003e \"Denied\"\n\n### Inject feature flag\n\n- Inject feature flag from rails controller for the `show` action to make available via GON. \n\n- Consume flag in constants, to toggle constants value\n\n### Usage in [constants](http://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/assets/javascripts/vue_shared/license_compliance/constants.js#L19-L19)\n\n### Update all usages/references in unit tests:\n\nee/app/assets/javascripts/vue_merge_request_widget/extensions/license_compliance/index.js\n\nee/app/assets/javascripts/vue_shared/license_compliance/constants.js\n\nee/spec/frontend/license_compliance/components/app_spec.js\n\nee/spec/frontend/vue_shared/license_compliance/license_management_spec.js\n\nee/spec/frontend/vue_shared/license_compliance/mock_data.js\n\nee/spec/frontend/vue_shared/license_compliance/mr_widget_license_report_spec.js\n\nee/spec/frontend/vue_shared/license_compliance/components/admin_license_management_row_spec.js\n\nee/spec/frontend/vue_shared/license_compliance/components/license_management_row_spec.js\n\nee/spec/frontend/vue_shared/license_compliance/store/actions_spec.js\n\nee/spec/frontend/vue_shared/license_compliance/store/getters_spec.js\n\nee/spec/frontend/vue_shared/license_compliance/store/utils_spec.js\n\n## Additional locations (as mentioned in https://gitlab.com/gitlab-org/gitlab/-/issues/212484#note_875980273)\n\n* ee/spec/frontend/license_compliance/components/app_spec.js\n* ee/spec/frontend/vue_shared/license_compliance/\n* ee/spec/frontend/vue_shared/license_compliance/components/\n* ee/spec/frontend/vue_shared/license_compliance/components/store/\n* qa/qa/ee/page/project/secure/license_compliance.rb\n\n## Testing\n- [ ] Remove changes to `qa/qa/specs/features/ee/browser_ui/13_secure/merge_request_license_widget_spec.rb` in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/79266/diffs#eb408ec0ffbeb809d5e6230cd5cad0e873d3ee3b","state":"closed","created_at":"2021-07-12T16:05:41.719Z","updated_at":"2022-04-04T03:21:46.491Z","closed_at":"2022-03-30T19:21:24.579Z","closed_by":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"labels":["Category:License Compliance","GitLab Ultimate","Stretch","devops::secure","feature::enhancement","frontend","group::composition analysis","missed:14.9","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"}],"author":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"type":"ISSUE","assignee":{"id":3252080,"username":"farias-gl","name":"Fernando.A","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3252080/avatar.png","web_url":"https://gitlab.com/farias-gl"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335868","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335868","notes":"https://gitlab.com/api/v4/projects/278964/issues/335868/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335868/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335868","relative":"#335868","full":"gitlab-org/gitlab#335868"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7393,"epic":{"id":421331,"iid":7393,"title":"License Compliance terminology migration","url":"/groups/gitlab-org/-/epics/7393","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":90135731,"iid":335864,"project_id":278964,"title":"Switch button style on License Compliance page to confirm to Pajamas updates","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nPajamas deprecated the following GlButton variants - success (green button), info, \u0026 warning. And should be replaced by the `confirm` variant (blue button).\n\nOur license compliance page has one instances of the success style on the 'Add a license` button.\n\nReference epic at https://gitlab.com/groups/gitlab-org/-/epics/2964\n\n![image](/uploads/b45d5c91d7f72b8189727669daf67746/image.png)\n\n## Relevant links\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation:\n- [ ] Feature flag:\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n1. Switch btn-success to btn-confirm on the `Add a license` button.\n\n\n\n\n\u003c!--\nWorkflow and other relevant labels\n\n# ~\"group::\" ~\"Category:\" ~\"GitLab Ultimate\"\nOther settings you might want to include when creating the issue.\n\n# /assign @\n# /epic \u0026\n--\u003e","state":"closed","created_at":"2021-07-12T15:35:09.166Z","updated_at":"2021-08-02T18:32:53.249Z","closed_at":"2021-08-02T18:32:53.232Z","closed_by":{"id":5412787,"username":"nmccorrison","name":"Neil McCorrison","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5412787/avatar.png","web_url":"https://gitlab.com/nmccorrison"},"labels":["[deprecated] Accepting merge requests","devops::secure","frontend","group::analyzer frontend","section::sec","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":5412787,"username":"nmccorrison","name":"Neil McCorrison","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5412787/avatar.png","web_url":"https://gitlab.com/nmccorrison"}],"author":{"id":5412787,"username":"nmccorrison","name":"Neil McCorrison","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5412787/avatar.png","web_url":"https://gitlab.com/nmccorrison"},"type":"ISSUE","assignee":{"id":5412787,"username":"nmccorrison","name":"Neil McCorrison","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5412787/avatar.png","web_url":"https://gitlab.com/nmccorrison"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335864","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335864","notes":"https://gitlab.com/api/v4/projects/278964/issues/335864/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335864/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335864","relative":"#335864","full":"gitlab-org/gitlab#335864"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90126973,"iid":335837,"project_id":278964,"title":"Add focus ring style to project requirement import modal","description":"## Problem to solve\n\nThe file input on the project requirement import modal does not have a focus ring style and uses the browser default.\n\n## Proposed solution\n\nUse the GitLab utility classes from https://gitlab.com/gitlab-org/gitlab-ui/-/issues/1496 to style the input.","state":"closed","created_at":"2021-07-12T13:17:18.742Z","updated_at":"2021-10-25T12:14:46.070Z","closed_at":"2021-10-25T12:14:46.057Z","closed_by":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"labels":["UI polish","devops::manage","frontend","group::compliance","section::dev"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"}],"author":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"type":"ISSUE","assignee":{"id":3468028,"username":"jiaan","name":"Jiaan Louw","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3468028/avatar.png","web_url":"https://gitlab.com/jiaan"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335837","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335837","notes":"https://gitlab.com/api/v4/projects/278964/issues/335837/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335837/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335837","relative":"#335837","full":"gitlab-org/gitlab#335837"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90115708,"iid":335829,"project_id":278964,"title":"Ensure TestReport build association is compatible with DB decomposition","description":"The [`RequirementsManagement::TestReport`](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/models/requirements_management/test_report.rb) model has a foreign key to the `ci_builds` table, which will move to a new database as part of https://gitlab.com/groups/gitlab-org/-/epics/6167.\n\nWe should review this and ensure that it is compatible with a Rails multi-database configuration. It may be necessary to manually implement the existing `belongs_to` association.\n\n```ruby\nmodule RequirementsManagement\n  class TestReport \u003c ApplicationRecord\n\n    #... associations and scopes\n    # belongs_to :build, class_name: 'Ci::Build'\n\n    def build\n      Ci::Build.where(id: build_id).last\n    end\n```\n\nIf nothing joins the `ci_builds` table through test reports then there may be no action to take here, the association may work by default. If there is, the scope will need to be manually created using a method or, if we upgrade to Rails 7, the [`disable_joins`](https://edgeguides.rubyonrails.org/active_record_multiple_databases.html#handling-associations-with-joins-across-databases) argument can be used.","state":"closed","created_at":"2021-07-12T12:02:12.988Z","updated_at":"2021-08-18T07:00:39.951Z","closed_at":"2021-08-16T02:39:17.809Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Deliverable","backend","database","devops::plan","group::product planning","section::dev","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"}],"author":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"type":"ISSUE","assignee":{"id":4418630,"username":"johnhope","name":"John Hope","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4418630/avatar.png","web_url":"https://gitlab.com/johnhope"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335829","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335829","notes":"https://gitlab.com/api/v4/projects/278964/issues/335829/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335829/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335829","relative":"#335829","full":"gitlab-org/gitlab#335829"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6374,"epic":{"id":309456,"iid":6374,"title":"Decomposition: Make Dev features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6374","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90111894,"iid":335825,"project_id":278964,"title":"Advanced Search: Optimize group-level searches for Issue Scope","description":"## Proposal\n\nIf you take a look at [this group search](https://gitlab.com/search?group_id=9970\u0026repository_ref=\u0026scope=issues\u0026search=test\u0026snippets=false), you can see that we pass a lot of project ids to elasticsearch query, which makes it slow. I believe that we should start thinking about optimizing group-level searches by introducing group hierarchy into our documents in order to allow efficient filtering.\n\n\u003cdetails\u003e\n\u003csummary\u003eclick to see the query\u003c/summary\u003e\n\n```json\n{\n   \"query\":{\n      \"bool\":{\n         \"must\":[\n            {\n               \"simple_query_string\":{\n                  \"_name\":\"issue:match:search_terms\",\n                  \"fields\":[\n                     \"iid^3\",\n                     \"title^2\",\n                     \"description\"\n                  ],\n                  \"query\":\"test\",\n                  \"lenient\":true,\n                  \"default_operator\":\"and\"\n               }\n            }\n         ],\n         \"filter\":[\n            {\n               \"term\":{\n                  \"type\":{\n                     \"_name\":\"doc:is_a:issue\",\n                     \"value\":\"issue\"\n                  }\n               }\n            },\n            {\n               \"terms\":{\n                  \"_name\":\"issue:authorized:project\",\n                  \"project_id\":[\n                     13083,\n                     13764,\n                     14022,\n                     14289,\n                     19776,\n                     20086,\n                     20699,\n                     23081,\n                     27468,\n                     27470,\n                     32732,\n                     36743,\n                     74823,\n                     83282,\n                     95156,\n                     116212,\n                     145205,\n                     150440,\n                     227582,\n                     250324,\n                     250833,\n                     278964,\n                     387896,\n                     430285,\n                     443787,\n                     444821,\n                     554859,\n                     593728,\n                     684698,\n                     730448,\n                     734943,\n                     766015,\n                     818896,\n                     876090,\n                     928825,\n                     931715,\n                     998792,\n                     1075790,\n                     1254421,\n                     1265999,\n                     1329047,\n                     1379171,\n                     1441932,\n                     1470839,\n                     1507906,\n                     1777822,\n                     1794617,\n                     1911766,\n                     1990920,\n                     2009901,\n                     2127625,\n                     2317465,\n                     2337675,\n                     2383700,\n                     2651596,\n                     2670515,\n                     2725567,\n                     2890326,\n                     2903741,\n                     2953390,\n                     3010986,\n                     3010998,\n                     3094319,\n                     3362933,\n                     3395064,\n                     3430480,\n                     3466815,\n                     3588247,\n                     3605985,\n                     3631141,\n                     3651684,\n                     3662668,\n                     3698388,\n                     3828396,\n                     3842996,\n                     3843116,\n                     3844141,\n                     3871132,\n                     3871556,\n                     3885956,\n                     3885980,\n                     3933206,\n                     3933372,\n                     3991945,\n                     4108541,\n                     4149988,\n                     4157550,\n                     4176070,\n                     4262096,\n                     4456656,\n                     4492386,\n                     4534254,\n                     4542834,\n                     4562632,\n                     4685354,\n                     4793514,\n                     4870361,\n                     4875494,\n                     4904157,\n                     4921652,\n                     4949400,\n                     5019307,\n                     5064907,\n                     5191294,\n                     5261717,\n                     5279538,\n                     5351075,\n                     5408708,\n                     5417931,\n                     5420758,\n                     5444181,\n                     5456231,\n                     5457651,\n                     5457755,\n                     5465687,\n                     5467143,\n                     5467277,\n                     5474112,\n                     5509547,\n                     5635189,\n                     5647182,\n                     5677844,\n                     5727416,\n                     5737157,\n                     5772881,\n                     5777179,\n                     5777819,\n                     5777853,\n                     5777918,\n                     5777939,\n                     5777952,\n                     5777954,\n                     5777976,\n                     5778037,\n                     5778044,\n                     5778056,\n                     5778074,\n                     5778093,\n                     5778095,\n                     5828233,\n                     5849726,\n                     5851774,\n                     5945915,\n                     5981322,\n                     5994307,\n                     5996549,\n                     6043227,\n                     6057676,\n                     6143038,\n                     6185025,\n                     6237085,\n                     6237088,\n                     6237091,\n                     6250233,\n                     6329679,\n                     6374580,\n                     6374588,\n                     6374596,\n                     6388398,\n                     6392811,\n                     6457868,\n                     6523803,\n                     6523862,\n                     6535935,\n                     6578235,\n                     7071043,\n                     7071551,\n                     7145793,\n                     7243435,\n                     7453181,\n                     7523614,\n                     7524061,\n                     7540679,\n                     7560116,\n                     7560137,\n                     7602162,\n                     7660893,\n                     7688358,\n                     7745145,\n                     7750063,\n                     7776928,\n                     7783667,\n                     7792567,\n                     7937396,\n                     7951712,\n                     7963964,\n                     8057910,\n                     8262564,\n                     8343284,\n                     8362868,\n                     8368695,\n                     8368700,\n                     8377576,\n                     8671969,\n                     8987255,\n                     9049889,\n                     9134345,\n                     9149724,\n                     9172481,\n                     9184510,\n                     9223256,\n                     9223291,\n                     9237774,\n                     9353893,\n                     9359704,\n                     9438583,\n                     9492132,\n                     9870184,\n                     9927571,\n                     10024275,\n                     10071001,\n                     10071132,\n                     10304488,\n                     10400718,\n                     10476326,\n                     10506825,\n                     10523039,\n                     10586771,\n                     10614162,\n                     10619765,\n                     10633620,\n                     10747057,\n                     10748426,\n                     10833541,\n                     10861561,\n                     10947320,\n                     10947578,\n                     10953870,\n                     10973541,\n                     11015994,\n                     11047304,\n                     11067315,\n                     11080193,\n                     11139665,\n                     11173751,\n                     11196060,\n                     11203076,\n                     11229385,\n                     11261137,\n                     11316755,\n                     11317506,\n                     11322136,\n                     11373038,\n                     11380952,\n                     11432834,\n                     11446522,\n                     11449672,\n                     11511606,\n                     11520423,\n                     11533294,\n                     11574953,\n                     11625232,\n                     11688089,\n                     11745002,\n                     11758351,\n                     11869718,\n                     11880131,\n                     11915984,\n                     11925674,\n                     11925677,\n                     11925682,\n                     11925685,\n                     11925689,\n                     11925692,\n                     11925695,\n                     11925697,\n                     11925699,\n                     11925701,\n                     11925704,\n                     11925705,\n                     11925708,\n                     11925710,\n                     11925713,\n                     11997420,\n                     12006272,\n                     12051824,\n                     12075545,\n                     12104213,\n                     12106293,\n                     12138769,\n                     12193672,\n                     12193723,\n                     12233892,\n                     12270872,\n                     12271982,\n                     12271993,\n                     12271995,\n                     12271997,\n                     12272000,\n                     12272001,\n                     12272002,\n                     12272003,\n                     12272004,\n                     12272005,\n                     12272006,\n                     12272007,\n                     12272008,\n                     12272009,\n                     12272010,\n                     12272011,\n                     12272014,\n                     12272015,\n                     12272016,\n                     12272018,\n                     12272019,\n                     12272024,\n                     12272025,\n                     12272030,\n                     12272032,\n                     12272040,\n                     12272049,\n                     12272051,\n                     12272053,\n                     12272056,\n                     12272064,\n                     12272066,\n                     12272071,\n                     12272093,\n                     12272095,\n                     12272119,\n                     12272164,\n                     12272174,\n                     12272200,\n                     12272586,\n                     12272605,\n                     12273972,\n                     12273973,\n                     12273975,\n                     12273978,\n                     12273983,\n                     12273988,\n                     12273995,\n                     12273999,\n                     12274019,\n                     12274036,\n                     12274047,\n                     12274048,\n                     12274049,\n                     12274053,\n                     12274058,\n                     12274059,\n                     12274061,\n                     12274062,\n                     12274065,\n                     12274066,\n                     12274067,\n                     12274068,\n                     12274070,\n                     12274076,\n                     12274078,\n                     12274079,\n                     12274081,\n                     12274089,\n                     12274094,\n                     12274099,\n                     12274104,\n                     12274109,\n                     12274122,\n                     12274127,\n                     12274139,\n                     12274166,\n                     12274192,\n                     12274200,\n                     12274218,\n                     12274295,\n                     12425329,\n                     12446167,\n                     12450931,\n                     12483816,\n                     12507547,\n                     12558964,\n                     12690061,\n                     12959103,\n                     13015884,\n                     13017629,\n                     13017904,\n                     13017938,\n                     13017951,\n                     13017970,\n                     13017973,\n                     13017990,\n                     13018004,\n                     13018017,\n                     13053017,\n                     13084505,\n                     13130853,\n                     13142177,\n                     13284652,\n                     13327609,\n                     13331704,\n                     13348998,\n                     13362575,\n                     13368043,\n                     13437682,\n                     13453461,\n                     13454093,\n                     13467157,\n                     13473820,\n                     13490286,\n                     13584096,\n                     13589474,\n                     13589490,\n                     13590021,\n                     13626558,\n                     13664986,\n                     13672316,\n                     13672681,\n                     13673582,\n                     13673632,\n                     13673686,\n                     13673757,\n                     13673934,\n                     13674085,\n                     13674136,\n                     13675927,\n                     13675979,\n                     13676002,\n                     13676032,\n                     13676096,\n                     13676142,\n                     13676188,\n                     13676249,\n                     13676309,\n                     13676350,\n                     13682597,\n                     13683636,\n                     13740954,\n                     13798059,\n                     13815397,\n                     13822214,\n                     13823180,\n                     13824926,\n                     13831684,\n                     13842214,\n                     13842876,\n                     13942461,\n                     13954053,\n                     13997108,\n                     14018700,\n                     14071101,\n                     14097509,\n                     14130725,\n                     14132361,\n                     14146123,\n                     14158369,\n                     14213955,\n                     14217204,\n                     14235835,\n                     14290884,\n                     14292404,\n                     14356474,\n                     14372596,\n                     14378900,\n                     14392833,\n                     14399034,\n                     14402567,\n                     14404642,\n                     14442567,\n                     14446830,\n                     14477200,\n                     14520336,\n                     14579026,\n                     14645774,\n                     14694517,\n                     14707715,\n                     14720460,\n                     14771920,\n                     14785608,\n                     14810991,\n                     14853550,\n                     14921629,\n                     15019630,\n                     15032634,\n                     15065439,\n                     15101703,\n                     15112583,\n                     15114652,\n                     15126989,\n                     15158038,\n                     15161313,\n                     15182494,\n                     15191824,\n                     15206937,\n                     15207036,\n                     15208888,\n                     15232184,\n                     15291320,\n                     15297693,\n                     15363819,\n                     15393051,\n                     15412762,\n                     15420077,\n                     15445353,\n                     15445883,\n                     15447440,\n                     15461649,\n                     15486630,\n                     15499610,\n                     15502498,\n                     15572444,\n                     15642544,\n                     15662771,\n                     15665075,\n                     15667093,\n                     15677708,\n                     15685819,\n                     15685912,\n                     15704782,\n                     15710326,\n                     15720150,\n                     15769471,\n                     15769622,\n                     15769659,\n                     15815706,\n                     15816248,\n                     15821588,\n                     15822964,\n                     15828516,\n                     15841984,\n                     15844807,\n                     15875037,\n                     15926775,\n                     15943672,\n                     15962657,\n                     16110032,\n                     16233736,\n                     16239404,\n                     16240616,\n                     16247504,\n                     16257114,\n                     16288111,\n                     16297627,\n                     16302012,\n                     16379995,\n                     16466244,\n                     16470734,\n                     16488249,\n                     16505341,\n                     16549277,\n                     16552062,\n                     16573099,\n                     16590122,\n                     16597098,\n                     16603968,\n                     16613287,\n                     16613296,\n                     16622651,\n                     16683102,\n                     16694332,\n                     16700143,\n                     16706750,\n                     16732333,\n                     16816732,\n                     16819118,\n                     16819125,\n                     16819131,\n                     16819134,\n                     16819140,\n                     16819151,\n                     16819248,\n                     16842968,\n                     16863027,\n                     16873105,\n                     16913647,\n                     17019611,\n                     17022380,\n                     17023897,\n                     17031626,\n                     17035255,\n                     17039597,\n                     17043690,\n                     17050975,\n                     17113313,\n                     17120026,\n                     17130955,\n                     17133307,\n                     17134833,\n                     17136273,\n                     17151529,\n                     17166102,\n                     17169260,\n                     17176376,\n                     17177253,\n                     17192985,\n                     17245095,\n                     17253921,\n                     17257555,\n                     17271570,\n                     17281958,\n                     17311004,\n                     17325482,\n                     17334694,\n                     17345914,\n                     17349153,\n                     17370206,\n                     17370850,\n                     17370917,\n                     17371314,\n                     17372321,\n                     17373998,\n                     17375753,\n                     17392353,\n                     17407852,\n                     17410444,\n                     17421565,\n                     17429946,\n                     17433833,\n                     17450826,\n                     17471714,\n                     17522813,\n                     17523881,\n                     17530059,\n                     17545989,\n                     17584993,\n                     17616536,\n                     17657269,\n                     17661412,\n                     17661947,\n                     17719928,\n                     17720083,\n                     17738687,\n                     17743501,\n                     17747896,\n                     17753367,\n                     17802074,\n                     17816825,\n                     17821569,\n                     17823896,\n                     17842971,\n                     17843116,\n                     17863546,\n                     17875927,\n                     17882005,\n                     17885954,\n                     17894202,\n                     17930014,\n                     17960932,\n                     17966464,\n                     17967450,\n                     17967459,\n                     17971433,\n                     17978213,\n                     17987891,\n                     17990319,\n                     17992812,\n                     17994706,\n                     18021647,\n                     18026144,\n                     18042963,\n                     18060348,\n                     18113582,\n                     18140840,\n                     18147276,\n                     18147374,\n                     18147399,\n                     18156681,\n                     18157270,\n                     18161573,\n                     18163072,\n                     18163099,\n                     18179066,\n                     18208929,\n                     18250019,\n                     18256369,\n                     18256375,\n                     18256379,\n                     18256394,\n                     18283598,\n                     18284159,\n                     18298876,\n                     18305763,\n                     18307741,\n                     18307889,\n                     18308312,\n                     18313773,\n                     18315938,\n                     18321485,\n                     18331927,\n                     18342819,\n                     18346158,\n                     18347703,\n                     18347716,\n                     18347753,\n                     18347757,\n                     18347776,\n                     18347780,\n                     18347796,\n                     18347808,\n                     18347809,\n                     18347819,\n                     18347820,\n                     18347830,\n                     18347831,\n                     18347833,\n                     18347834,\n                     18347835,\n                     18347836,\n                     18347837,\n                     18347844,\n                     18347848,\n                     18347863,\n                     18347890,\n                     18347935,\n                     18347953,\n                     18348379,\n                     18348449,\n                     18374998,\n                     18406509,\n                     18439881,\n                     18464659,\n                     18464813,\n                     18466096,\n                     18480370,\n                     18594323,\n                     18594390,\n                     18641703,\n                     18650560,\n                     18663049,\n                     18668507,\n                     18716754,\n                     18719477,\n                     18741849,\n                     18759998,\n                     18760252,\n                     18766720,\n                     18766749,\n                     18770944,\n                     18776356,\n                     18789638,\n                     18792504,\n                     18847064,\n                     18855948,\n                     18860383,\n                     18863350,\n                     18875792,\n                     18877555,\n                     18880248,\n                     18893322,\n                     18897919,\n                     18899486,\n                     18899500,\n                     18905432,\n                     18912995,\n                     18922546,\n                     18925373,\n                     18943563,\n                     18943607,\n                     18976211,\n                     18977208,\n                     18991900,\n                     19019153,\n                     19028203,\n                     19031064,\n                     19042106,\n                     19043830,\n                     19047934,\n                     19145311,\n                     19155669,\n                     19192813,\n                     19209142,\n                     19245461,\n                     19253018,\n                     19253326,\n                     19256834,\n                     19265543,\n                     19279270,\n                     19290493,\n                     19290857,\n                     19310217,\n                     19315261,\n                     19402176,\n                     19413101,\n                     19416940,\n                     19438691,\n                     19461377,\n                     19483656,\n                     19486292,\n                     19533665,\n                     19536993,\n                     19551890,\n                     19568296,\n                     19586313,\n                     19594758,\n                     19611351,\n                     19617580,\n                     19655424,\n                     19657914,\n                     19666238,\n                     19668251,\n                     19716327,\n                     19720958,\n                     19722963,\n                     19797387,\n                     19800404,\n                     19815415,\n                     19843335,\n                     19861191,\n                     19871264,\n                     19871573,\n                     19890267,\n                     19904939,\n                     19922160,\n                     19926831,\n                     19928869,\n                     19935960,\n                     19936172,\n                     19936363,\n                     19936368,\n                     19941935,\n                     19969997,\n                     19971311,\n                     19974437,\n                     19985677,\n                     19993243,\n                     20009186,\n                     20014237,\n                     20017176,\n                     20059805,\n                     20081132,\n                     20083979,\n                     20084708,\n                     20085049,\n                     20102452,\n                     20107267,\n                     20110067,\n                     20140116,\n                     20145500,\n                     20172887,\n                     20172997,\n                     20190582,\n                     20204282,\n                     20209910,\n                     20233854,\n                     20234539,\n                     20307753,\n                     20326496,\n                     20352787,\n                     20360386,\n                     20376798,\n                     20466430,\n                     20468480,\n                     20498312,\n                     20510065,\n                     20516845,\n                     20623750,\n                     20630561,\n                     20662496,\n                     20666273,\n                     20744986,\n                     20747799,\n                     20773921,\n                     20776072,\n                     20778930,\n                     20785013,\n                     20791019,\n                     20802859,\n                     20803052,\n                     20839085,\n                     20850906,\n                     20867992,\n                     20904766,\n                     20916876,\n                     20921195,\n                     20973262,\n                     21005471,\n                     21029182,\n                     21055344,\n                     21055409,\n                     21055520,\n                     21055609,\n                     21055767,\n                     21138460,\n                     21146917,\n                     21186073,\n                     21198535,\n                     21250701,\n                     21286161,\n                     21297458,\n                     21324924,\n                     21332563,\n                     21333175,\n                     21368827,\n                     21375917,\n                     21426890,\n                     21439066,\n                     21454570,\n                     21479276,\n                     21479995,\n                     21483460,\n                     21486653,\n                     21501997,\n                     21503580,\n                     21513228,\n                     21525059,\n                     21531004,\n                     21565866,\n                     21573444,\n                     21582428,\n                     21607123,\n                     21628863,\n                     21635031,\n                     21649753,\n                     21731412,\n                     21731462,\n                     21733688,\n                     21740473,\n                     21751536,\n                     21751817,\n                     21764500,\n                     21796485,\n                     21808150,\n                     21819002,\n                     21824450,\n                     21877506,\n                     21877574,\n                     21939352,\n                     21949381,\n                     21958988,\n                     21967079,\n                     21967100,\n                     22024501,\n                     22031371,\n                     22046463,\n                     22057235,\n                     22070439,\n                     22111360,\n                     22130851,\n                     22133520,\n                     22200396,\n                     22200599,\n                     22201268,\n                     22201414,\n                     22249364,\n                     22304113,\n                     22342780,\n                     22351703,\n                     22363055,\n                     22382594,\n                     22408078,\n                     22409005,\n                     22413016,\n                     22413375,\n                     22414284,\n                     22418898,\n                     22432227,\n                     22433156,\n                     22438483,\n                     22487050,\n                     22488218,\n                     22488569,\n                     22517790,\n                     22540162,\n                     22564042,\n                     22568832,\n                     22574075,\n                     22592843,\n                     22637103,\n                     22679171,\n                     22734535,\n                     22785135,\n                     22795840,\n                     22806496,\n                     22807429,\n                     22810929,\n                     22810940,\n                     22811022,\n                     22847718,\n                     22848448,\n                     22850480,\n                     22874770,\n                     22877515,\n                     22899058,\n                     22907418,\n                     22954041,\n                     22955441,\n                     22956868,\n                     22958987,\n                     22963764,\n                     22971355,\n                     22975621,\n                     22976387,\n                     22976557,\n                     22978009,\n                     22978925,\n                     22979053,\n                     22979589,\n                     22979778,\n                     22979980,\n                     22980130,\n                     22991406,\n                     23011180,\n                     23022199,\n                     23036920,\n                     23043633,\n                     23105702,\n                     23125600,\n                     23141735,\n                     23156104,\n                     23171098,\n                     23174714,\n                     23176166,\n                     23203100,\n                     23203118,\n                     23221705,\n                     23221789,\n                     23344605,\n                     23345837,\n                     23365123,\n                     23455079,\n                     23457285,\n                     23465101,\n                     23492503,\n                     23494511,\n                     23495190,\n                     23508645,\n                     23510942,\n                     23511999,\n                     23512541,\n                     23517830,\n                     23526204,\n                     23544263,\n                     23545481,\n                     23586678,\n                     23591572,\n                     23597027,\n                     23597850,\n                     23599364,\n                     23601234,\n                     23617987,\n                     23627092,\n                     23690656,\n                     23698027,\n                     23729229,\n                     23730491,\n                     23740056,\n                     23772241,\n                     23809347,\n                     23821898,\n                     23854438,\n                     23858731,\n                     23862566,\n                     23916841,\n                     23928229,\n                     23944319,\n                     23966461,\n                     23992030,\n                     23992434,\n                     23992616,\n                     23995504,\n                     23996573,\n                     23999955,\n                     24007929,\n                     24015272,\n                     24055623,\n                     24075172,\n                     24111720,\n                     24112267,\n                     24112430,\n                     24124293,\n                     24127174,\n                     24134396,\n                     24189018,\n                     24189296,\n                     24200638,\n                     24225194,\n                     24249085,\n                     24257614,\n                     24296909,\n                     24297895,\n                     24300893,\n                     24339834,\n                     24345542,\n                     24349523,\n                     24351182,\n                     24351793,\n                     24386141,\n                     24434775,\n                     24436506,\n                     24451242,\n                     24467497,\n                     24470059,\n                     24501533,\n                     24519238,\n                     24615307,\n                     24671550,\n                     24673064,\n                     24693199,\n                     24703104,\n                     24703162,\n                     24763979,\n                     24800312,\n                     24873101,\n                     24907469,\n                     24964122,\n                     24964171,\n                     25031023,\n                     25033712,\n                     25036868,\n                     25037358,\n                     25049492,\n                     25158783,\n                     25162318,\n                     25205782,\n                     25208804,\n                     25215287,\n                     25216298,\n                     25247374,\n                     25252998,\n                     25312761,\n                     25336653,\n                     25338304,\n                     25375648,\n                     25386283,\n                     25398815,\n                     25402115,\n                     25415323,\n                     25416006,\n                     25417540,\n                     25418438,\n                     25425413,\n                     25429985,\n                     25443214,\n                     25495696,\n                     25527940,\n                     25534115,\n                     25545088,\n                     25560556,\n                     25567144,\n                     25582529,\n                     25582530,\n                     25582531,\n                     25582532,\n                     25582534,\n                     25582535,\n                     25582562,\n                     25691329,\n                     25837735,\n                     25838334,\n                     25839455,\n                     25840330,\n                     25840667,\n                     25843190,\n                     25847700,\n                     25851920,\n                     25861038,\n                     25891188,\n                     25896760,\n                     25944737,\n                     25969582,\n                     25981420,\n                     25995980,\n                     26045778,\n                     26074395,\n                     26074460,\n                     26074605,\n                     26074844,\n                     26076251,\n                     26077297,\n                     26079419,\n                     26130408,\n                     26220949,\n                     26250592,\n                     26394287,\n                     26421322,\n                     26434779,\n                     26435679,\n                     26438354,\n                     26543618,\n                     26555236,\n                     26566881,\n                     26573787,\n                     26576566,\n                     26579657,\n                     26584477,\n                     26615930,\n                     26615960,\n                     26616051,\n                     26616061,\n                     26616069,\n                     26630862,\n                     26638991,\n                     26698878,\n                     26699071,\n                     26699200,\n                     26710947,\n                     26723025,\n                     26815390,\n                     26821765,\n                     26853758,\n                     26893673,\n                     26903700,\n                     26903728,\n                     26909873,\n                     26913409,\n                     27038823,\n                     27040581,\n                     27051800,\n                     27060148,\n                     27069846,\n                     27079314,\n                     27097450,\n                     27209445,\n                     27209463,\n                     27213646,\n                     27214210,\n                     27219974,\n                     27220296,\n                     27221011,\n                     27226337,\n                     27227767,\n                     27229445,\n                     27244047,\n                     27260823,\n                     27261025,\n                     27269145,\n                     27269166,\n                     27286937,\n                     27326269,\n                     27327788,\n                     27424635,\n                     27428957,\n                     27455878,\n                     27456355,\n                     27456679,\n                     27456706,\n                     27456810,\n                     27457647,\n                     27484836,\n                     27484846,\n                     27484871,\n                     27490309,\n                     27494514,\n                     27517755,\n                     27520435,\n                     27523122,\n                     27526487,\n                     27540367,\n                     27540387,\n                     27540393,\n                     27540443,\n                     27540450,\n                     27540464,\n                     27545927,\n                     27546552,\n                     27577530,\n                     27605238,\n                     27622671,\n                     27650153,\n                     27651631,\n                     27656943,\n                     27668507,\n                     27681689,\n                     27686541,\n                     27779007,\n                     27792539,\n                     27812280,\n                     27819859,\n                     27821122,\n                     27821148,\n                     27822211,\n                     27831771,\n                     27918529,\n                     27919014,\n                     27945995,\n                     27958807,\n                     27973277,\n                     27987151,\n                     28003746,\n                     28011075,\n                     28022549,\n                     28024541,\n                     28025891\n                  ]\n               }\n            }\n         ]\n      }\n   },\n   \"highlight\":{\n      \"fields\":{\n         \"iid\":{\n            \n         },\n         \"title\":{\n            \n         },\n         \"description\":{\n            \n         }\n      },\n      \"number_of_fragments\":0,\n      \"pre_tags\":[\n         \"gitlabelasticsearch→\"\n      ],\n      \"post_tags\":[\n         \"←gitlabelasticsearch\"\n      ]\n   }\n}\n```\n\n\u003c/details\u003e\n\nI think we can take inspiration from the [ancestry gem](https://github.com/stefankroes/ancestry) and from [Rapid Action: Linear namespace queries](https://gitlab.com/groups/gitlab-org/-/epics/5296). Ideally, we should be able to filter documents by a group of any level of inheritance, not only by top level ones.\n\n## Downsides\n\nThe downside of this approach is that we'd need to update documents if the project they belong to is moved\n\n\n---\n\ncc @terrichu @JohnMcGuire @changzhengliu\n\n\n### Release Notes\n\nSearching across groups that have a large number of projects can be slow. This is because there was a check for each project individually. \n\nInitially enabled in Gitlab 14.6, we now use inheritance to make these searches perform twice as fast. \n\n\nhttps://docs.gitlab.com/ee/user/search/advanced_search.html#global-search-scopes","state":"closed","created_at":"2021-07-12T10:45:39.908Z","updated_at":"2022-09-02T14:43:13.439Z","closed_at":"2022-02-17T18:57:18.368Z","closed_by":{"id":5724558,"username":"JohnMcGuire","name":"John McGuire","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5724558/avatar.png","web_url":"https://gitlab.com/JohnMcGuire"},"labels":["Category:Global Search","GitLab Premium","advanced search","bug::performance","devops::data_stores","documentation","group::global search","release post item","release post item::in review","section::enablement","type::maintenance","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"}],"author":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"type":"ISSUE","assignee":{"id":5054237,"username":"dgruzd","name":"Dmitry Gruzd","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5054237/avatar.png","web_url":"https://gitlab.com/dgruzd"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335825","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335825","notes":"https://gitlab.com/api/v4/projects/278964/issues/335825/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335825/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335825","relative":"#335825","full":"gitlab-org/gitlab#335825"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7460,"epic":{"id":429077,"iid":7460,"title":"Advanced Search: Optimize group-level searches","url":"/groups/gitlab-org/-/epics/7460","group_id":9970,"human_readable_end_date":"Nov 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90111574,"iid":335824,"project_id":278964,"title":"[Experiment Rollout] Redirect in-app trial users to the feature that they requested the trial from","description":"\u003c!-- Title suggestion: [Experiment Tracking] experiment-key - description of experiment --\u003e\n\n## What\n\nTrack the status of an experiment through to removal.\n\n1. Experiment key: `redirect_trial_user_to_feature`\n1. Framework: `gitlab_experiment`\n1. Feature flag name: `redirect_trial_user_to_feature`\n\nThis is an experiment tracking issue for: https://gitlab.com/gitlab-org/gitlab/-/issues/273634\nusing the scoped [experiment label](https://about.gitlab.com/handbook/engineering/development/growth/#experiment-tracking-issue).\n\nAs well as defining the experiment rollout and cleanup, this issue incorporates the relevant \n[`Feature Flag Roll Out`](https://gitlab.com/gitlab-org/gitlab/-/edit/master/.gitlab/issue_templates/Feature%20Flag%20Roll%20Out.md) steps. \n\n\nVideo https://www.youtube.com/watch?v=florK4Igff0\n\n## Owners\n\n- Team: `group::conversion`\n- Most appropriate slack channel to reach out to: `#conversion`\n- Best individual to reach out to: @a_akgun \n\n## Expectations\n\n### What are we expecting to happen?\n\n### What might happen if this goes wrong?\n\n### What can we monitor to detect problems with this?\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n### Tracked data\n\u003c!-- brief description or link to issue or Sisense dashboard --\u003e\n \n Note: you can utilize [CXL calculator](https://cxl.com/ab-test-calculator/) to determine if your experiment has reached signifigance, it also includes an estimate for how much longer an experiment will need to run for before reaching signifigance.\n\n### Staging Test\n\u003c!-- For experiments using `experimentation.rb`: To force this experiment on staging use `?force_experiment=\u003cexperiment-key\u003e` --\u003e\n\u003c!-- list any steps required to setup this experiment, and link to a separate Staging environment test issue is applicable --\u003e\n\n\u003c!-- uncomment if testing with specific groups/projects on GitLab.com\n## Beta groups/projects\n\nIf applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example.\n\n- `gitlab-org/gitlab` project\n- `gitlab-org`/`gitlab-com` groups\n- ...\n--\u003e\n\n### Experiment tracking log\n\u003c!-- Add an overview and method for modifying the feature flag\n\n* Runtime: 30 days or until we reach statistical significance\n* We will roll this out behind a feature flag and expose this to 20% of users to start then ramp it up from there.\n* feature flag based on experiment key `\u003cexperiment-key\u003e` (see `experimentation.rb` in GitLab, append '_experiment_percentage')\n\n`/chatops run feature set redirect_trial_user_to_feature 50`\n--\u003e\n\u003c!-- Add bullet points to track changes to the rollout of this experiment (feature flag changes) \n\n* YYYY-MM-DD UTC - initial rollout to 20% of users\n* TBD - review - increase to 50% of users\n--\u003e\n \n## Experiment Tracking Dashboard\n\n[Live experiment track - Sisense dashboard](https://app.periscopedata.com/app/gitlab:safe-dashboard/919211/Conversion-Experiment:-redirect-trial-users-to-requested-feature)\n \n\n\n### Experiment Results\n\u003c!-- update when experiment in/validated, set the scoped `~experiment::` status accordingly --\u003e\nTBD\n \n## Roll Out Steps\n\n- [x] Confirm that QA tests pass with the feature flag enabled (if you're unsure how, contact the relevant [stable counterpart in the Quality department](https://about.gitlab.com/handbook/engineering/quality/#individual-contributors))\n- [x] Enable on staging (`/chatops run feature set redirect_trial_user_to_feature true --staging`)\n- [x] Test on staging\n- [x] Ensure that documentation has been updated\n- [x] Enable on GitLab.com for individual groups/projects listed above and verify behaviour  (`/chatops run feature set --project=gitlab-org/gitlab feature_name true`)\n- [x] Coordinate a time to enable the flag with the SRE oncall and release managers\n  - In `#production` mention `@sre-oncall` and `@release-managers`. Once an SRE on call and Release Manager on call confirm, you can proceed with the rollout\n- [x] Announce on the issue an estimated time this will be enabled on GitLab.com\n- [ ] Enable on GitLab.com by running chatops command in `#production` (`/chatops run feature set feature_name true`)\n- [ ] Cross post chatops Slack command to `#support_gitlab-com` ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#where-to-run-commands)) and in your team channel\n- [ ] Announce on the issue that the flag has been enabled\n- [ ] Remove experiment code and feature flag and add changelog entry - a separate [cleanup issue](https://gitlab.com/gitlab-org/gitlab/-/issues/new?issuable_template=Experiment%20Successful%20Cleanup) might be required\n- [ ] After the flag removal is deployed, [clean up the feature flag](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) by running chatops command in `#production` channel\n- [ ] Assign to the product manager to update the [knowledge base](https://about.gitlab.com/direction/growth/#growth-insights-knowledge-base) (if applicable)\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set redirect_trial_user_to_feature false\n```","state":"closed","created_at":"2021-07-12T10:39:35.664Z","updated_at":"2022-02-18T11:15:47.713Z","closed_at":"2022-02-18T11:15:47.697Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["Engineering","devops::growth","experiment-rollout","experiment::active","feature flag","group::acquisition","growth experiment","missed:14.6","missed:14.7","section::growth","workflow::scheduling"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},{"id":4413992,"username":"s_awezec","name":"Sam Awezec","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4413992/avatar.png","web_url":"https://gitlab.com/s_awezec"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-09-14","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335824","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":7},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"7 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335824","notes":"https://gitlab.com/api/v4/projects/278964/issues/335824/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335824/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335824","relative":"#335824","full":"gitlab-org/gitlab#335824"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90106879,"iid":335814,"project_id":278964,"title":"`internal_ids` for pipelines causes CrossDatabaseModificationAcrossUnsupportedTablesError","description":"Per https://docs.gitlab.com/ee/development/database/multiple_databases.html#removing-cross-database-transactions we do not allow you to write to 2 different databases within the context of a single transaction. When creating pipelines we're opening a transaction and writing to `internal_ids` as well as other CI tables which violates this rule:\n\n```\n$ bin/rspec ./spec/lib/gitlab/ci/pipeline/seed/build_spec.rb                                                                     \n                                                                                                                                                                                              \nFailures:                                                                                                                                                                                                \n                                                                                                                                                                                                         \n  1) Gitlab::Ci::Pipeline::Seed::Build#to_resource can not be persisted without explicit assignment                                                                                                      \n     Failure/Error: raise CrossDatabaseModificationAcrossUnsupportedTablesError, message                                                                                                                 \n                           Gitlab::Database::QueryAnalyzers::PreventCrossDatabaseModification::CrossDatabaseModificationAcrossUnsupportedTablesError:                                                                          \n       Cross-database data modification of 'gitlab_main, gitlab_ci' were detected within a transaction modifying the 'internal_ids, ci_pipelines' tables.Please refer to https://docs.gitlab.com/ee/development/database/multiple_databases.html#removing-cross-database-transactions for details on how to resolve this exception.      \n\n```\n\nFor now we have added this violation to the allowlist https://gitlab.com/gitlab-org/gitlab/-/blob/master/spec/support/database/cross-database-modification-allowlist.yml .\n\nThis `internal_ids` is actually the cause for quite a few of the violations in the allowlist.\n\n## Possible solutions\n\nSee https://docs.gitlab.com/ee/development/database/multiple_databases.html#removing-cross-database-transactions .\n\nPossibly we need to consider this `internal_ids` table shared. Below is some more detail and there are some discussion threads on this issue already.\n\n## More context\n\nThe `internal_ids` table is used by many models to generate scoped, auto-incremented ids. The `ci_pipelines` uses the `internal_ids` table to populate the `ci_pipelines.iid` column.\n\nIdea: Keep `internal_ids` on both the main and the CI database servers\n\nWhen migrating to the new database server, all tables will be replicated via streaming replication, so the `internal_ids` table will be available on the CI database. After the cutover, the table can stay there as is. With a data migration, we can clean up the unwanted records that are not associated with `ci_pipelines`. Models that are using `internal_ids` can be found here: `Enums::InternalId.usage_resources`.\n\n\nThe table:\n\n\n```\n                                                   Table \"public.internal_ids\"\n    Column    |  Type   | Collation | Nullable |                 Default                  | Storage | Stats target | Description\n--------------+---------+-----------+----------+------------------------------------------+---------+--------------+-------------\n id           | bigint  |           | not null | nextval('internal_ids_id_seq'::regclass) | plain   |              |\n project_id   | integer |           |          |                                          | plain   |              |\n usage        | integer |           | not null |                                          | plain   |              |\n last_value   | integer |           | not null |                                          | plain   |              |\n namespace_id | integer |           |          |                                          | plain   |              |\nIndexes:\n    \"internal_ids_pkey\" PRIMARY KEY, btree (id)\n    \"index_internal_ids_on_usage_and_namespace_id\" UNIQUE, btree (usage, namespace_id) WHERE namespace_id IS NOT NULL\n    \"index_internal_ids_on_usage_and_project_id\" UNIQUE, btree (usage, project_id) WHERE project_id IS NOT NULL\n    \"index_internal_ids_on_namespace_id\" btree (namespace_id)\n    \"index_internal_ids_on_project_id\" btree (project_id)\nForeign-key constraints:\n    \"fk_162941d509\" FOREIGN KEY (namespace_id) REFERENCES namespaces(id) ON DELETE CASCADE\n    \"fk_rails_f7d46b66c6\" FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE\nAccess method: heap\n\n```\n\nConcern: the CI database will not know about the `projects` and `namespaces` tables, so the foreign keys need to be dropped. We'll need a way to keep this table consistent, for example cleaning up items with non-existing `project_id` or `namespace_id` periodically.","state":"closed","created_at":"2021-07-12T09:24:23.962Z","updated_at":"2022-07-29T21:37:14.841Z","closed_at":"2021-12-05T21:54:56.014Z","closed_by":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"labels":["Category:Pods","Engineering Allocation","ci-decomposition","ci-decomposition::phase4","devops::data_stores","group::pods","section::enablement","type::maintenance"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":120073,"username":"DylanGriffith","name":"Dylan Griffith","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/120073/avatar.png","web_url":"https://gitlab.com/DylanGriffith"},"user_notes_count":16,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335814","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335814","notes":"https://gitlab.com/api/v4/projects/278964/issues/335814/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335814/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335814","relative":"#335814","full":"gitlab-org/gitlab#335814"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6379,"epic":{"id":309971,"iid":6379,"title":"Decomposition: Make Ops features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6379","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90105193,"iid":335810,"project_id":278964,"title":"FE - VSA Exclude stages a user does not have permissions for","description":"## Summary\n\nRelated to #257830, in project VSA we currently query the ~backend for the current user's permissions for each stage in the value stream, instead, we should look to [filter the list of stages on the ~backend](https://gitlab.com/gitlab-org/gitlab/-/issues/257830#note_622358243) so we can remove this additional API request.\n\nOnce this is complete, on the ~frontend we can remove the related query and also remove the `permissions` key from the vuex store.\n\n## Improvements\n\nPreviously the endpoint we query for the `permissions` also included additional data for the value stream, but with the move towards re-using the group level endpoints, [we no longer need the additional data from this endpoint](https://gitlab.com/gitlab-org/gitlab/-/issues/257830#note_622270336). Filtering the VSA stages on the ~backend will mean we can remove this API request entirely.\n\n## TODO\n### ~backend \n* [x] https://gitlab.com/gitlab-org/gitlab/-/issues/367308+\n### ~frontend \n* [x] Remove `permissions` from the ~frontend vuex store\n* [x] Remove the `cycle_analytics` endpoint used to retrieve stats and summary\n\n\u003c!--\nPlease select the appropriate label from the following:\n    ~\"feature::addition\"\n    ~\"feature::maintenance\"\n    ~\"tooling::pipelines\"\n    ~\"tooling::workflow\"\n--\u003e","state":"closed","created_at":"2021-07-12T09:00:22.134Z","updated_at":"2022-08-11T01:47:22.886Z","closed_at":"2022-08-11T01:47:22.870Z","closed_by":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"labels":["Category:Value Stream Management","Stretch","devops::manage","frontend","group::optimize","maintenance::refactor","priority::3","section::dev","type::maintenance","workflow::verification"],"milestone":{"id":2453025,"iid":75,"group_id":9970,"title":"15.3","description":"","state":"active","created_at":"2022-02-03T22:28:50.229Z","updated_at":"2022-02-03T22:28:50.229Z","due_date":"2022-08-17","start_date":"2022-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/75"},"assignees":[{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"}],"author":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"type":"ISSUE","assignee":{"id":3397881,"username":"ekigbo","name":"Ezekiel Kigbo","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3397881/avatar.png","web_url":"https://gitlab.com/ekigbo"},"user_notes_count":28,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335810","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335810","notes":"https://gitlab.com/api/v4/projects/278964/issues/335810/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335810/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335810","relative":"#335810","full":"gitlab-org/gitlab#335810"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5194,"epic":{"id":180134,"iid":5194,"title":"[VSA] Refactor project-level feature to use group-level code","url":"/groups/gitlab-org/-/epics/5194","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90100153,"iid":335808,"project_id":278964,"title":"Fix problematic Database/MultipleDatabases offenses","description":"We have quite a few places where the `ActiveRecord::Base.connection` is used. Using the wrong DB connection when executing DB queries can lead to application failures or to data corruption.\n\nTodo:\n\n- Check the [rubocop todo](https://gitlab.com/gitlab-org/gitlab/-/blob/master/.rubocop_todo/database/multiple_databases.yml) file and fix  the files under the `Database/MultipleDatabases` rule.\n  - The `ActiveRecord::Base.connection` calls should be turned into `ApplicationRecord.connection` or `Ci::ApplicationRecord.connection` calls.\n- Check the rubocop ignore rules in `.rubocop.yml` and adjust them if needed.\n  - We're not running this rule for migration and background migration tests.","state":"closed","created_at":"2021-07-12T07:53:40.138Z","updated_at":"2022-05-30T15:01:44.509Z","closed_at":"2022-01-12T17:23:31.101Z","closed_by":{"id":5297955,"username":"pbair","name":"Patrick Bair","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5297955/avatar.png","web_url":"https://gitlab.com/pbair"},"labels":["Category:Database","Category:Pods","ci-decomposition","ci-decomposition::phase5","devops::data_stores","group::database","missed:14.6","section::enablement","type::maintenance","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazão","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"}],"author":{"id":4156052,"username":"ahegyi","name":"Adam Hegyi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ff7cdaff6b98fba9b977f1885578b8b3?s=80\u0026d=identicon","web_url":"https://gitlab.com/ahegyi"},"type":"ISSUE","assignee":{"id":9231122,"username":"dfrazao-gitlab","name":"Diogo Frazão","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9231122/avatar.png","web_url":"https://gitlab.com/dfrazao-gitlab"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335808","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335808","notes":"https://gitlab.com/api/v4/projects/278964/issues/335808/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335808/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335808","relative":"#335808","full":"gitlab-org/gitlab#335808"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6841,"epic":{"id":360537,"iid":6841,"title":"Decomposition: Update database tooling to support multiple databases","url":"/groups/gitlab-org/-/epics/6841","group_id":9970,"human_readable_end_date":"May 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90092447,"iid":335800,"project_id":278964,"title":"Deprecate sorting vulnerabilities by title on GraphQL API","description":"## Why are we doing this work\n\nAs we are trying to improve the performance and user experience of our vulnerability report pages, we've decided to remove the functionality of sorting the list by the title of the vulnerabilities to make it easier to apply performance improvements. Therefore, we are going to remove the support of sorting by title on our GraphQL API for the vulnerabilities type.\n\nIn this issue, we will announce the deprecation of the `title_desc`, and `title_asc` sort parameters per our deprecation policy.\n\nDeprecating this functionality will not improve the performance on its own but will be a supportive action for the https://gitlab.com/gitlab-org/gitlab/-/issues/335326.\n\nThe importance of this feature has been discussed with the PM here: https://gitlab.com/gitlab-org/gitlab/-/issues/335326#note_620039533.\n\nFor more information about the performance issues we are facing, you can check https://gitlab.com/gitlab-org/gitlab/-/issues/327607.\n\n## Relevant links\n\n- [Deprecation policy](https://docs.gitlab.com/ee/api/graphql/#deprecation-and-removal-process)\n\n## Implementation plan\n\n- [x] ~backend Deprecate the `title_desc` and `title_asc` sorting parameters for the `VulnerabilitySort` GraphQL type.","state":"closed","created_at":"2021-07-12T05:12:23.353Z","updated_at":"2022-05-18T12:29:16.728Z","closed_at":"2021-08-14T04:12:08.984Z","closed_by":{"id":7333052,"username":"rukkykofi","name":"Oghenerukevwe Kofi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dceb5fa86ba02449837868fc9dc6808e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rukkykofi"},"labels":["Category:Vulnerability Management","GraphQL","backend","devops::secure","group::threat insights","section::sec","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":7333052,"username":"rukkykofi","name":"Oghenerukevwe Kofi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dceb5fa86ba02449837868fc9dc6808e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rukkykofi"}],"author":{"id":5721376,"username":"minac","name":"Mehmet Emin INAC","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d8bdee790902422e3554e411a173c7c0?s=80\u0026d=identicon","web_url":"https://gitlab.com/minac"},"type":"ISSUE","assignee":{"id":7333052,"username":"rukkykofi","name":"Oghenerukevwe Kofi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/dceb5fa86ba02449837868fc9dc6808e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rukkykofi"},"user_notes_count":16,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335800","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335800","notes":"https://gitlab.com/api/v4/projects/278964/issues/335800/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335800/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335800","relative":"#335800","full":"gitlab-org/gitlab#335800"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90090998,"iid":335799,"project_id":278964,"title":"[Feature flag] Rollout merge_request_discussion_cache feature flag","description":"## Summary\n\nThis issue is to rollout [the feature](https://gitlab.com/gitlab-org/gitlab/-/issues/332967) on production, that is currently behind the `merge_request_discussion_cache` feature flag.\n\nThis will cache the serialize response of merge request discussions. This is a performance improvement to improve response times of discussions.json endpoint.\n\n## Owners\n\n- Team: ~\"group::code review\" \n- Most appropriate slack channel to reach out to: `#g_create_code-review`\n- Best individual to reach out to: @patrickbajao \n- PM: @phikai \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- Name of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Partial Rollout on GitLab.com with testing groups\n- Percentage Rollout on GitLab.com\n- Rollout Feature for everyone as soon as it's ready\n\n## Testing Groups/Projects/Users\n\n\u003c!-- If applicable, any groups/projects that are happy to have this feature turned on early. Some organizations may wish to test big changes they are interested in with a small subset of users ahead of time for example. --\u003e\n\n- `gitlab-org/gitlab-foss` project\n- `gitlab-org/gitlab` project\n\n## Expectations\n\n### What are we expecting to happen?\n\nImproved response time on `discussions.json` and cache hit/miss ratio isn't affected negatively.\n\n### What might happen if this goes wrong?\n\nCache hit/miss ratio gets affected negatively and the endpoint (and other endpoints dependent on caching) slowing down instead of improving.\n\n### What can we monitor to detect problems with this?\n\n- [Sitespeed dashboard for large MR](https://dashboards.gitlab.net/d/000000043/sitespeed-page-summary?orgId=1\u0026var-base=sitespeed_io\u0026var-path=desktop\u0026var-group=gitlab_com\u0026var-page=_gitlab-org_gitlab-foss_merge_requests_9546\u0026var-browser=chrome\u0026var-connectivity=cable\u0026var-function=median) especially the TTFB.\n- [discussions.json Rails Conroller](https://dashboards.gitlab.net/d/web-rails-controller/web-rails-controller?orgId=1\u0026var-PROMETHEUS_DS=Global\u0026var-environment=gprd\u0026var-stage=main\u0026var-controller=Projects::MergeRequestsController\u0026var-action=discussions.json\u0026from=now-7d\u0026to=now)\n- [Redis cache dashboard](https://dashboards.gitlab.net/d/redis-cache-main/redis-cache-overview?orgId=1)\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [x] Enable the feature globally on non-production environments.\n    - [x] `/chatops run feature set merge_request_discussion_cache true --dev`\n    - [x] `/chatops run feature set merge_request_discussion_cache true --staging`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to both production and canary.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-your-feature\u003e`\n- [ ] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [ ] Ensure that you or a representative in development can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the oncall SRE by using the `@sre-oncall` Slack alias.\n- [ ] Ensure that documentation has been updated ([More info](https://docs.gitlab.com/ee/development/documentation/feature_flags.html#features-that-became-enabled-by-default)).\n- [ ] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on GitLab.com.\n- [ ] If the feature might impact the user experience, notify `#support_gitlab-com` and your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n- [x] If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), enable it on GitLab.com for [testing groups/projects](#testing-groupsprojectsusers).\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab-foss merge_request_discussion_cache true`\n    - [ ] `/chatops run feature set --project=gitlab-org/gitlab merge_request_discussion_cache true`\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Global rollout on production\n\n- [x] [Incrementally roll out](https://docs.gitlab.com/ee/development/feature_flags/controls.html#process) the feature.\n  - If the feature flag in code has [an actor](https://docs.gitlab.com/ee/development/feature_flags/#feature-actors), perform **actor-based** rollout.\n    - [x] `/chatops run feature set merge_request_discussion_cache 25 --actors`\n    - [x] `/chatops run feature set merge_request_discussion_cache 50 --actors`\n    - [x] `/chatops run feature set merge_request_discussion_cache 75 --actors`\n    - [x] `/chatops run feature set merge_request_discussion_cache 100 --actors`\n  - Enable the feature globally on production environment.\n    - [x] `/chatops run feature set merge_request_discussion_cache true`\n- [x] Announce on [the feature issue](https://gitlab.com/gitlab-org/gitlab/-/issues/335799) that the feature has been globally enabled.\n- [ ] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### (Optional) Release the feature with the feature flag\n\nIf you're still unsure whether the feature is [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release)\nbut want to release it in the current milestone, you can change the default state of the feature flag to be enabled.\nTo do so, follow these steps:\n\n- [ ] Create a merge request with the following changes. Ask for review and merge it.\n    - [ ] Set the `default_enabled` attribute in [the feature flag definition](https://docs.gitlab.com/ee/development/feature_flags/#feature-flag-definition-and-validation) to `true`.\n    - [ ] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [ ] Ensure that the default-enabling MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [ ] `/chatops run auto_deploy status \u003cmerge-commit-of-default-enabling-mr\u003e`\n- [ ] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [ ] Set the next milestone to this rollout issue for scheduling [the flag removal](#release-the-feature).\n- [ ] (Optional) You can create a separate issue for scheduling the steps below to [Release the feature](#release-the-feature).\n    - [ ] Set the title to \"[Feature flag] Cleanup `\u003cfeature-flag-name\u003e`\".\n    - [ ] Execute the `/copy_metadata \u003cthis-rollout-issue-link\u003e` quick action to copy the labels from this rollout issue.\n    - [ ] Link this rollout issue as a related issue.\n    - [ ] Close this rollout issue.\n\n**WARNING:** This approach has the downside that it makes it difficult for us to\n[clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up) the flag.\nFor example, on-premise users could disable the feature on their GitLab instance. But when you\nremove the flag at some point, they suddenly see the feature as enabled and they can't roll it back\nto the previous behavior. To avoid this potential breaking change, use this approach only for urgent\nmatters.\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe [clean up](https://docs.gitlab.com/ee/development/feature_flags/controls.html#cleaning-up)\nshould be done as soon as possible to permanently enable the feature and reduce complexity in the\ncodebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `\u003cfeature-flag-name\u003e` feature flag. Ask for review and merge it.\n    - [x] Remove all references to the feature flag from the codebase.\n    - [x] Remove the YAML definitions for the feature from the repository.\n    - [x] Create [a changelog entry](https://docs.gitlab.com/ee/development/feature_flags/#changelog).\n- [x] Ensure that the cleanup MR has been deployed to both production and canary.\n      If the merge request was deployed before [the code cutoff](https://about.gitlab.com/handbook/engineering/releases/#self-managed-releases-1),\n      the feature can be officially announced in a release blog post.\n    - [x] `/chatops run auto_deploy status \u003cmerge-commit-of-cleanup-mr\u003e`\n- [x] Close [the feature issue](ISSUE LINK) to indicate the feature will be released in the current milestone.\n- [x] Clean up the feature flag from all environments by running these chatops command in `#production` channel:\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --dev`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e --staging`\n    - [x] `/chatops run feature delete \u003cfeature-flag-name\u003e`\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by running the following Chatops command:\n\n```\n/chatops run feature set merge_request_discussion_cache false\n```","state":"closed","created_at":"2021-07-12T04:18:21.254Z","updated_at":"2021-10-28T13:55:16.240Z","closed_at":"2021-10-05T04:58:40.587Z","closed_by":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"labels":["Deliverable","backend","bug::performance","devops::create","feature flag","group::code review","missed:14.2","missed:14.3","section::dev","type::maintenance"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335799","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":50,"completed_count":29},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"29 of 50 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335799","notes":"https://gitlab.com/api/v4/projects/278964/issues/335799/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335799/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335799","relative":"#335799","full":"gitlab-org/gitlab#335799"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6142,"epic":{"id":285495,"iid":6142,"title":"Cache responses of endpoints used in merge request page","url":"/groups/gitlab-org/-/epics/6142","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90089673,"iid":335796,"project_id":278964,"title":"Delete app/assets/javascripts/vue_shared/components/identicon.vue","description":"Once https://gitlab.com/groups/gitlab-org/-/epics/6295 is completed, and https://gitlab.com/gitlab-org/gitlab/-/issues/335364 and https://gitlab.com/gitlab-org/gitlab/-/issues/335362 are closed, this component is no longer used and can therefore be removed!","state":"closed","created_at":"2021-07-12T03:24:40.125Z","updated_at":"2022-03-30T04:56:58.843Z","closed_at":"2022-03-30T04:56:58.828Z","closed_by":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"labels":["Category:Package Registry","automation:ml","devops::package","frontend","group::package registry","maintenance::refactor","section::ops","type::maintenance","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335796","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335796","notes":"https://gitlab.com/api/v4/projects/278964/issues/335796/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335796/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335796","relative":"#335796","full":"gitlab-org/gitlab#335796"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6294,"epic":{"id":302277,"iid":6294,"title":"Use GlAvatar for all project and group avatars in Vue","url":"/groups/gitlab-org/-/epics/6294","group_id":9970,"human_readable_timestamp":"\u003cstrong\u003e576\u003c/strong\u003e days elapsed"},"iteration":null,"health_status":null},{"id":90089501,"iid":335794,"project_id":278964,"title":"Clean up data for un-used tags / taggings for Issues and MergeRequests","description":"In d45a6b2941f30d71f828e0fc8adaeab19f87b1a0, we removed `acts_as_taggable_on` in `Issue` and `MergeRequest`, however it seems that we still have data in these tables :\n\n- tags\n- taggings\n\nLooks like the data has long been migrated to `labels` in `db/migrate/20140729152420_migrate_taggable_labels.rb`\n\nSee also https://gitlab.com/gitlab-org/gitlab/-/issues/21399","state":"closed","created_at":"2021-07-12T03:17:41.288Z","updated_at":"2021-11-02T02:50:19.195Z","closed_at":"2021-11-02T02:50:19.173Z","closed_by":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"labels":["automation:ml","automation:ml wrong","ci-decomposition","ci-decomposition::phase6","database","devops::plan","group::project management","missed:14.3","missed:14.4","pods::active","section::dev","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"}],"author":{"id":2535118,"username":"tkuah","name":"Thong Kuah","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f7b51bdd49a4914d29504d7ff4c3f7b9?s=80\u0026d=identicon","web_url":"https://gitlab.com/tkuah"},"type":"ISSUE","assignee":{"id":2880930,"username":"engwan","name":"Heinrich Lee Yu","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2880930/avatar.png","web_url":"https://gitlab.com/engwan"},"user_notes_count":13,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335794","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335794","notes":"https://gitlab.com/api/v4/projects/278964/issues/335794/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335794/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335794","relative":"#335794","full":"gitlab-org/gitlab#335794"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6374,"epic":{"id":309456,"iid":6374,"title":"Decomposition: Make Dev features compatible with Decomposed CI database","url":"/groups/gitlab-org/-/epics/6374","group_id":9970,"human_readable_end_date":"Mar 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90088551,"iid":335793,"project_id":278964,"title":"Remove disabled eslint rules from `frequent_items_list_item.vue`\"","description":"The following discussion from !65857 should be addressed:\n\n- [x] @tomquirk started a [discussion](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65857#note_623442326): \n\n    \u003e These eslint-disables look like the might be easy to remove.","state":"closed","created_at":"2021-07-12T02:42:20.119Z","updated_at":"2022-11-22T19:38:00.792Z","closed_at":"2021-10-26T17:43:33.187Z","closed_by":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"labels":["Community contribution","automation:ml","devops::manage","frontend","good for new contributors","group::integrations","maintenance::refactor","section::dev","type::maintenance","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":5223956,"username":"imrishabh18","name":"Rishabh Gupta","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5223956/avatar.png","web_url":"https://gitlab.com/imrishabh18"}],"author":{"id":259327,"username":"tomquirk","name":"Tom Quirk","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/259327/avatar.png","web_url":"https://gitlab.com/tomquirk"},"type":"ISSUE","assignee":{"id":5223956,"username":"imrishabh18","name":"Rishabh Gupta","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5223956/avatar.png","web_url":"https://gitlab.com/imrishabh18"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335793","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335793","notes":"https://gitlab.com/api/v4/projects/278964/issues/335793/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335793/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335793","relative":"#335793","full":"gitlab-org/gitlab#335793"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90086451,"iid":335789,"project_id":278964,"title":"Validate security report artifact against vendored versions","description":"## Why are we doing this work\n\nWe want to clearly communicate to users whenever a [security report](https://docs.gitlab.com/ee/development/integrations/secure.html#report) artifact does not validate against a [supported schema](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/tree/master/dist) or has other parsing errors.\n\nIn order to do this, all supported schemas will be vendored into the GitLab rails application, as discussed as part of https://gitlab.com/gitlab-org/gitlab/-/issues/322681.\n\n## Relevant links\n\n- [Wording for alert](#note_672853791)\n\n## Non-functional requirements\n\n- [ ] Documentation: update accordingly https://docs.gitlab.com/ee/development/integrations/secure.html#enable-report-validation\n- [ ] Feature flag: `enforce_security_report_validation` this needs a FF so we can give analyzer teams a chance to comply with the schemas before breaking ingestion\n- [ ] Performance:\n- [ ] Testing:\n\n\n## Implementation plan\n\n* ~backend Create `enforce_security_report_validation` feature flag definition\n* ~backend Adjust `ee/app/models/ee/ci/build.rb` so that `validate_schema?` returns `true` if `enforce_security_report_validation` is enabled\n* ~backend Adjust `lib/gitlab/ci/parsers/security/validators/schema_validator.rb` so it adds a warning/error if the schema used is deprecated/not found\n* ~backend Adjust specs","state":"closed","created_at":"2021-07-12T01:11:00.590Z","updated_at":"2022-04-18T07:03:31.072Z","closed_at":"2022-04-05T23:25:58.791Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Deliverable","backend","devops::secure","feature::enhancement","group::threat insights","section::sec","type::feature","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":null,"user_notes_count":71,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335789","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":0},"weight":2,"blocking_issues_count":1,"has_tasks":true,"task_status":"0 of 4 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335789","notes":"https://gitlab.com/api/v4/projects/278964/issues/335789/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335789/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335789","relative":"#335789","full":"gitlab-org/gitlab#335789"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6968,"epic":{"id":374803,"iid":6968,"title":"Enforce validation of security reports","url":"/groups/gitlab-org/-/epics/6968","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90086247,"iid":335788,"project_id":278964,"title":"Automate vendoring of security report schemas","description":"\u003c!--\nImplementation issues are used break-up a large piece of work into small, discrete tasks that can\nmove independently through the build workflow steps. They're typically used to populate a Feature\nEpic. Once created, an implementation issue is usually refined in order to populate and review the\nimplementation plan and weight.\nExample workflow: https://about.gitlab.com/handbook/engineering/development/threat-management/planning/diagram.html#plan\n--\u003e\n\n## Why are we doing this work\n\nIn order to validate security reports using the [security report schemas](https://gitlab.com/gitlab-org/security-products/security-report-schemas/) in `gitlab-org/gitlab`, the schemas must be vendored with the GitLab rails application.\n\nAutomating the process ensures that the required schemas can be added correctly and consistently by anyone.\n\n\u003c!--\nA brief explanation of the why, not the what or how. Assume the reader doesn't know the\nbackground and won't have time to dig-up information from comment threads.\n--\u003e\n\n\n## Relevant links\n\n- [Release Policy](https://gitlab.com/gitlab-org/gitlab/-/issues/322681#proposal)\n- [Example scenarios](https://docs.google.com/document/d/1QbGlcHf9_DMoGb7d8juuWhFIBjxNVVHgl8o5of-_SrY/edit#bookmark=id.7vmadat4hqil) (internal link)\n\u003c!--\nInformation that the developer might need to refer to when implementing the issue.\n\n- [Design Issue](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e)\n  - [Design 1](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n  - [Design 2](https://gitlab.com/gitlab-org/gitlab/-/issues/\u003cid\u003e/designs/\u003cimage\u003e.png)\n- [Similar implementation](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/\u003cid\u003e)\n--\u003e\n\n\n## Non-functional requirements\n\u003c!--\nAdd details for required items and delete others.\n--\u003e\n\n- [ ] Documentation: Update [how-to-release-a-new-version-of-the-schema](https://gitlab.com/gitlab-org/security-products/security-report-schemas/-/blob/master/README.md#how-to-release-a-new-version-of-the-schema) with information about how to release the schemas to GitLab Rails.\n- [ ] Testing: This will have to be manually tested using a fork of the schemas and a project other than GitLab Rails.\n\n\n## Implementation plan\n\n- [ ] Add a new CI job, `deploy-gitlab-rails` to the `deploy` stage of the Secure schemas CI pipeline. This should be setup similar to `deploy-npm`, such that it runs automatically once the job `release` has been manually triggered and has completed successfully. The `deploy-gitlab-rails` should only run on the default project branch `master`.\n- [ ] Introduce a GitLab token that will give the script permission to push a branch to GitLab Rails, and create an MR using the API\n- [ ] When the new CI job runs, it should create and push a new branch to the [GitLab Rails](https://gitlab.com/gitlab-org/gitlab) code base:\n  - [ ] Check out the code\n  - [ ] Create a new branch named `add-secure-schemas-[version]`\n  - [ ] Copy all of the files in the `dist` schemas folder into a new folder in GitLab Rails, `ee/lib/gitlab/ci/parsers/security/validators/schemas/[version]`\n  - [ ] Commit the change\n  - [ ] Push the branch to the origin remote\n- [ ] Create an MR on the GitLab Rails project using the [API](https://docs.gitlab.com/ee/api/merge_requests.html#create-mr)\n  - [ ] Assign the MR to the nominated MR person who will ensure the MR is merged (initially, `@cam_swords`)\n  - [ ] Add a sensible description\n  - [ ] The MR should merge the new branch `add-secure-schemas-[version]` into the default GitLab Rails branch `master`.\n\nSteps following this to get the MR merged into Rails will be manually completed by the nominated MR person. \n\nGiving this issue a weight of `2`.","state":"closed","created_at":"2021-07-12T01:03:59.839Z","updated_at":"2021-10-05T13:02:00.027Z","closed_at":"2021-08-16T05:40:11.438Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","backend","devops::secure","group::threat insights","section::sec","type::feature","workflow::in review"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":4312863,"username":"cam_swords","name":"Cameron Swords","state":"active","avatar_url":"https://secure.gravatar.com/avatar/3b729cf96bcced6384ebb94f0362bd4b?s=80\u0026d=identicon","web_url":"https://gitlab.com/cam_swords"},"user_notes_count":5,"merge_requests_count":1,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335788","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":14,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 14 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335788","notes":"https://gitlab.com/api/v4/projects/278964/issues/335788/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335788/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335788","relative":"#335788","full":"gitlab-org/gitlab#335788"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5709,"epic":{"id":244001,"iid":5709,"title":"Unified security report schema (Generic schema follow up)","url":"/groups/gitlab-org/-/epics/5709","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90075481,"iid":335776,"project_id":278964,"title":"Hide copy/open buttons when on download blob view","description":"When in the blob viewer of a \"download\" file type, the \"copy\" and \"open\" button shouldn't be available. Please remove these.\n\n\n| ❌ Current | ✅ Correct |\n| ------ | ------ |\n| ![image](/uploads/b3f69ebb0bd653d12cb69ff466205fdc/image.png) | ![image](/uploads/c16e941dc251aed71c853d6ff2a0665e/image.png) |","state":"closed","created_at":"2021-07-11T12:09:18.750Z","updated_at":"2021-08-19T19:00:15.161Z","closed_at":"2021-08-19T19:00:15.139Z","closed_by":{"id":853414,"username":"andr3","name":"André Luís","state":"active","avatar_url":"https://secure.gravatar.com/avatar/241e39726efb512a29621070ccf26a90?s=80\u0026d=identicon","web_url":"https://gitlab.com/andr3"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","frontend-weight::2","group::source code","section::dev","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335776","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335776","notes":"https://gitlab.com/api/v4/projects/278964/issues/335776/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335776/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335776","relative":"#335776","full":"gitlab-org/gitlab#335776"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90040890,"iid":335722,"project_id":278964,"title":"Replace `issue_type` with a `work_item_types` table","description":"#### Steps\n\n- [x] create `work_item_types` table - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55705\n- [x] add `work_item_type_id` to `issues` table - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/55705\n- [x] create initial base types in table - `issue`, `incident`, `test_case`, `requirement` - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67434\n- [ ] make sure new issues are created with both an `issue_type` and a `work_item_type_id` - https://gitlab.com/gitlab-org/gitlab/-/merge_requests/67638\n- [ ] populate each issue with corresponding `work_item_type_id` related to it's `issue_type` - https://gitlab.com/gitlab-org/gitlab/-/issues/338004\n- [ ] replace use of `issue_type` with `work_item_type_id` throughout code - https://gitlab.com/gitlab-org/gitlab/-/issues/338005\n\nProposed schema changes\n\n```plantuml\nhide circle\nhide empty members\n\nentity issues {\n  used for WorkItem/Issue model\n  -- normal attributes --\n  + id\n  + project_id\n  + milestone_id\n  + etc...\n  ---\n  + issue_type\n  + work_item_type_id\n}\n\nentity work_item_types {\n  + id\n  + type\n  + namespace_id\n  + title\n  + description\n  + description_html\n  + cached_markdown_version\n  + icon_name\n  -- has_many --  \n  - work_items\n}\n\nentity work_item_type_enum {\n  * issue\n  * incident\n  * test_case\n  * requirement\n}\n\nissues::work_item_type_id \u003c-- work_item_types::work_items\nissues::issue_type -[dashed]- work_item_type_enum\nwork_item_types::type -[dashed]- work_item_type_enum\n```\n\n_Note: the `issue_type` on the `issues` table is mostly for the transition.  If it has any performance value (such as reducing a query to the type table), then we might consider kepping it.  Otherwise, the plan is to remove it and rely only on the `type` field in the `work_item_types` table._","state":"closed","created_at":"2021-07-09T19:02:03.143Z","updated_at":"2021-08-09T23:59:56.095Z","closed_at":"2021-08-09T23:58:50.553Z","closed_by":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"labels":["backend","devops::plan","group::project management","missed:14.1","section::dev","type::feature"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"}],"author":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"type":"ISSUE","assignee":{"id":194645,"username":"digitalmoksha","name":"Brett Walker","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/194645/avatar.png","web_url":"https://gitlab.com/digitalmoksha"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335722","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":6,"completed_count":3},"weight":4,"blocking_issues_count":0,"has_tasks":true,"task_status":"3 of 6 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335722","notes":"https://gitlab.com/api/v4/projects/278964/issues/335722/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335722/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335722","relative":"#335722","full":"gitlab-org/gitlab#335722"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6536,"epic":{"id":322870,"iid":6536,"title":"Creation and use of `work_item_types` table","url":"/groups/gitlab-org/-/epics/6536","group_id":9970,"human_readable_end_date":"Dec 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90040443,"iid":335721,"project_id":278964,"title":"Implement the winner scenario of the empty_repo_upload_experiment","description":"This is a follow-up issue to MR https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65293, where we introduced the \"Delete\" blob functionality in Vue.\n\nHowever, we run into a missing info that is not currently provided in GraphQL for the query `empty_repo_upload_experiment`. This information is required to add the appropriate class name `js-branch-name`.\n\n![image](/uploads/b2fa8e7215ccce1945fd7fbc1ebebb4b/image.png)\n\n## Important!!!\n\nNow, there is a chance that we won't need to create this value at all 🤞 From this discussion \u003e https://gitlab.com/groups/gitlab-org/-/epics/4742#note_578744366, it seems like the \"experiment\" is \"close to be declared a winner\". In which case, only ~frontend needs to be done, and no ~backend work will be required.\n\n```diff\n- \u003cinput type=\"hidden\" name=\"branch_name\" :value=\"originalBranch\" /\u003e\n+ \u003cinput type=\"hidden\" name=\"branch_name\" :value=\"originalBranch\" class=\"js-branch-name\" /\u003e\n```\n\n## Proposal\n\n### ~backend \n\nCan we please create the `can_current_user_push_to_branch` via GraphQL 😀\n\n### ~frontend \n\nInclude this new field in the frontend query and use it for the `branch_name` input\n\nExample\n\n```diff\n- \u003cinput type=\"hidden\" name=\"branch_name\" :value=\"originalBranch\" /\u003e\n+ \u003cinput type=\"hidden\" name=\"branch_name\" :value=\"originalBranch\" :class=\"{'js-branch-name': emptyRepoUploadExperiment }\" /\u003e\n```","state":"closed","created_at":"2021-07-09T18:50:34.810Z","updated_at":"2021-11-18T07:00:47.207Z","closed_at":"2021-11-10T08:59:28.547Z","closed_by":{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"},"labels":["Category:Source Code Management","Deliverable","devops::create","frontend","group::source code","missed:14.4","section::dev","workflow::in dev"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},{"id":2819375,"username":"jerasmus","name":"Jacques Erasmus","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/2819375/avatar.png","web_url":"https://gitlab.com/jerasmus"}],"author":{"id":3993566,"username":"sming-gitlab","name":"Samantha Ming","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3993566/avatar.png","web_url":"https://gitlab.com/sming-gitlab"},"type":"ISSUE","assignee":{"id":2709171,"username":"jayswain","name":"Jay","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9425e277e593759683640b83676c911c?s=80\u0026d=identicon","web_url":"https://gitlab.com/jayswain"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335721","notes":"https://gitlab.com/api/v4/projects/278964/issues/335721/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335721/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335721","relative":"#335721","full":"gitlab-org/gitlab#335721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5531,"epic":{"id":217419,"iid":5531,"title":"Refactor Repository Browser to 1 Vue Application","url":"/groups/gitlab-org/-/epics/5531","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":90037763,"iid":335710,"project_id":278964,"title":"[DevOps Adoption] Page constantly refreshes","description":"### Summary\n\nThe DevOps Adoption page constantly refreshes every 60 seconds.\n\n### Steps to reproduce\n\nGo to https://gitlab.com/groups/gitlab-org/-/analytics/devops_adoption?tab=dev and let the page sit there for a while. Observe that it continuously refreshes every 60 seconds.\n\n### Proposed solution\n\nRefactor the logic of the ~frontend data polling to refresh the data i**f the data is from the previous month** (currently previous day) or there is pending data.","state":"closed","created_at":"2021-07-09T17:14:05.893Z","updated_at":"2021-09-07T03:36:21.349Z","closed_at":"2021-09-07T03:36:21.328Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Epic 6459","devops::manage","estimation::completed","frontend","group::optimize","priority::2","section::dev","severity::3","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":4447217,"username":"ljlane","name":"Larissa Lane","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/ac4027d3a4e3bd62740ea1443a42f6c5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ljlane"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335710","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335710","notes":"https://gitlab.com/api/v4/projects/278964/issues/335710/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335710/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335710","relative":"#335710","full":"gitlab-org/gitlab#335710"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6050,"epic":{"id":274617,"iid":6050,"title":"[DevOps Adoption] Usability improvements","url":"/groups/gitlab-org/-/epics/6050","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90037334,"iid":335707,"project_id":278964,"title":"Deprecate legacy approval status names from `managed_licenses` API","description":"### RP\n\nhttps://docs.google.com/document/d/1_PCNLq3csXN1S0jm5qsIkZjvgB7y_RIW-kuRF7Hmifo/edit\n\n### Proposal \n\nWe deprecated legacy names for approval status of license policy (`blacklisted`, `approved`) but they are still used in our API queries and responses. We need to fix it.\n\n### Implementation plan\n\n1. In [managed_licenses](https://gitlab.com/gitlab-org/gitlab/blob/8ea9b0e2a15db8c9e8728d79c2df4db431efca41/ee/lib/api/managed_licenses.rb#L64) api file add new statuses `denied` and `allowed` to list of params and add mention in the description that `blacklisted` and `approved` are deprecated.\n1. Update [documentation](https://docs.gitlab.com/ee/api/managed_licenses.html) and mention that `“approved” or “blacklisted”` are deprecated and are scheduled to be removed. New names are `denied` and `allowed`.\n\n### Testing\n\n- Update relevant API unit tests https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/spec/requests/api/managed_licenses_spec.rb#L223\n- Check that documentation https://gitlab.com/gitlab-org/gitlab/-/blob/master/doc/api/managed_licenses.md and https://docs.gitlab.com/ee/api/managed_licenses.html has been updated","state":"closed","created_at":"2021-07-09T17:00:50.432Z","updated_at":"2022-04-28T17:18:31.666Z","closed_at":"2021-12-08T14:51:13.727Z","closed_by":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"labels":["Category:License Compliance","Deliverable","GitLab Ultimate","api","backend","deprecation","devops::secure","group::composition analysis","quad-planning::complete-action","release post item","release post item::in review","section::sec","type::feature","workflow::verification"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"}],"author":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"type":"ISSUE","assignee":{"id":1378158,"username":"brytannia","name":"Tetiana Chupryna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1378158/avatar.png","web_url":"https://gitlab.com/brytannia"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335707","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335707","notes":"https://gitlab.com/api/v4/projects/278964/issues/335707/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335707/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335707","relative":"#335707","full":"gitlab-org/gitlab#335707"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7393,"epic":{"id":421331,"iid":7393,"title":"License Compliance terminology migration","url":"/groups/gitlab-org/-/epics/7393","group_id":9970,"human_readable_end_date":"Jun 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":"on_track"},{"id":90036856,"iid":335704,"project_id":278964,"title":"Submit new Service Ping with fallback solution","description":"We want to submit the new Service Ping instead of the legacy Usage Ping. However, to make sure that this works without any issues when rolling it out, we want to use the previous Usage Ping payload as a fallback.\n\nRelated MRs:\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/64500\n- https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65336\n\n## Requirements\n\n- Use new `BuildPayloadService` to submit new service ping data\n- If building the new payload, or submitting the new payload to the Version app fails (anything except HTTP `200 OK`) , we want to rescue and use the \"legacy\" Usage Ping data instead\n\n## Open Question\n\n- Do we have logs for the version-app to track errors?","state":"closed","created_at":"2021-07-09T16:48:17.722Z","updated_at":"2021-07-17T05:41:52.899Z","closed_at":"2021-07-15T18:29:55.347Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["Unplanned","backend","devops::growth","group::product intelligence","section::growth","type::feature","workflow::production"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"}],"author":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"type":"ISSUE","assignee":{"id":8198564,"username":"rkadam3","name":"Rajendra Kadam","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8198564/avatar.png","web_url":"https://gitlab.com/rkadam3"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335704","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335704","notes":"https://gitlab.com/api/v4/projects/278964/issues/335704/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335704/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335704","relative":"#335704","full":"gitlab-org/gitlab#335704"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6191,"epic":{"id":289512,"iid":6191,"title":"MVC Service Ping","url":"/groups/gitlab-org/-/epics/6191","group_id":9970,"human_readable_end_date":"Jul 18, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90035335,"iid":335700,"project_id":278964,"title":"Remove `NOT NULL` constraint for `security_findings` on `project_fingerprint` column","description":"## Why are we doing this work\n\nWe are in the process of deprecating the usage of the `project_fingerprint` attribute of the findings. As there is a null constraint associated to `project_fingerprint`, it will be difficult to remove the use of `project_fingerprint` from code without removing this constraint.  \n\n## Implementation plan\n\n* [x] ~backend Create a migration to remove `NOT NULL` constraint on `project_fingerprint` column of the `security_findings` table","state":"closed","created_at":"2021-07-09T16:05:12.029Z","updated_at":"2021-09-27T18:51:39.958Z","closed_at":"2021-08-13T03:30:34.684Z","closed_by":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"labels":["Category:Vulnerability Management","backend","database","devops::secure","group::threat insights","missed:14.1","section::sec","workflow::verification"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"}],"author":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"type":"ISSUE","assignee":{"id":7825316,"username":"subashis","name":"Subashis  Chakraborty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7825316/avatar.png","web_url":"https://gitlab.com/subashis"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335700","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":1},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"1 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335700","notes":"https://gitlab.com/api/v4/projects/278964/issues/335700/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335700/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335700","relative":"#335700","full":"gitlab-org/gitlab#335700"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":2791,"epic":{"id":27148,"iid":2791,"title":"Deprecate and remove project_fingerprint","url":"/groups/gitlab-org/-/epics/2791","group_id":9970},"iteration":null,"health_status":null},{"id":90034382,"iid":335698,"project_id":278964,"title":"Create Playbook for Snowplow Incidents","description":"Let's gather the learnings we had from https://gitlab.com/gitlab-org/gitlab/-/issues/335206 so everyone can investigate snowplow incidents to know at which point in the flow an issue appeared","state":"closed","created_at":"2021-07-09T15:41:07.264Z","updated_at":"2021-07-29T12:24:00.020Z","closed_at":"2021-07-29T12:23:59.994Z","closed_by":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"labels":["backend","devops::growth","group::product intelligence","section::growth","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"}],"author":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"type":"ISSUE","assignee":{"id":4807002,"username":"mikolaj_wawrzyniak","name":"Mikołaj Wawrzyniak","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4807002/avatar.png","web_url":"https://gitlab.com/mikolaj_wawrzyniak"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335698","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335698","notes":"https://gitlab.com/api/v4/projects/278964/issues/335698/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335698/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335698","relative":"#335698","full":"gitlab-org/gitlab#335698"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6321,"epic":{"id":305777,"iid":6321,"title":"Gather learnings about Snowplow investigation","url":"/groups/gitlab-org/-/epics/6321","group_id":9970,"human_readable_end_date":"Aug 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90025495,"iid":335684,"project_id":278964,"title":"Remove attribute sanitization from DOMPurify configuration","description":"### Proposal\n\nThis issue is a follow-up to https://gitlab.com/gitlab-org/gitlab-ui/-/merge_requests/2295.\n\n1. Remove sanitization of `data-*` attributes implemented in https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65301\n1. Add forbidden `data-*` attributes in DOMPurify config.\n\n### Why\n\nDue to a bug in [DOMPurify](https://github.com/cure53/DOMPurify/issues/548), we had to implement potentially dangerous `data-*` attribute sanitization using hooks. These checks can be removed now as they are no longer needed.\n\n### Implementation\n\n- [ ] Remove [`sanitizeHTMLAttributes`](https://gitlab.com/gitlab-org/gitlab/blob/d9604942f0cd2b1bd592a5a73ba1da66868d243a/app/assets/javascripts/lib/dompurify.js#L61) and it's definition\n- [ ] Add `FORBID_ATTR` to [`defaultConfig`](https://gitlab.com/gitlab-org/gitlab/blob/d9604942f0cd2b1bd592a5a73ba1da66868d243a/app/assets/javascripts/lib/dompurify.js#L6)\n- [ ] See if we can reuse [`forbiddenDataAttrs`](https://gitlab.com/gitlab-org/gitlab-ui/-/merge_requests/2295/diffs#a5929e7ac381936e3d5c6ee7450e94873e3a350d_0_3)","state":"closed","created_at":"2021-07-09T12:44:37.744Z","updated_at":"2021-10-28T13:55:17.173Z","closed_at":"2021-07-27T09:01:29.009Z","closed_by":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"labels":["frontend","group::analyzer frontend","security","type::maintenance","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"}],"author":{"id":4019091,"username":"djadmin","name":"Dheeraj Joshi","state":"active","avatar_url":"https://secure.gravatar.com/avatar/57dccb416bfcfac947a69c53c5585128?s=80\u0026d=identicon","web_url":"https://gitlab.com/djadmin"},"type":"ISSUE","assignee":{"id":4704683,"username":"justin_ho","name":"Justin Ho Tuan Duong","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4704683/avatar.png","web_url":"https://gitlab.com/justin_ho"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 3 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335684","notes":"https://gitlab.com/api/v4/projects/278964/issues/335684/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335684/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335684","relative":"#335684","full":"gitlab-org/gitlab#335684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90022582,"iid":335683,"project_id":278964,"title":"Update version-app rails version to 5.2.5.","description":"In order to be able to deploy any changes to version-app we should update rails to version 5.2.5.\n\nTo fix problems with mimemagick","state":"closed","created_at":"2021-07-09T11:52:04.253Z","updated_at":"2021-07-14T18:10:14.442Z","closed_at":"2021-07-14T11:55:56.367Z","closed_by":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"labels":["Unplanned","backend","devops::growth","group::product intelligence","maintenance::refactor","section::growth","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335683","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335683","notes":"https://gitlab.com/api/v4/projects/278964/issues/335683/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335683/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335683","relative":"#335683","full":"gitlab-org/gitlab#335683"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90018124,"iid":335675,"project_id":278964,"title":"Consider storing/retrieving tests metadata in/from pages instead of artifacts","description":"Currently, we store and retrieve the Knapsack report, Flaky tests report, and Test mappings in/from artifacts: https://gitlab.com/gitlab-org/gitlab/-/blob/1c737e466e7336e6ca1111e8fe96034126e09b13/scripts/rspec_helpers.sh#L3-70\n\nWe may use Pages instead to expose these files for the following reasons:\n\n- We're only interested in the latest state of these files, so using Pages makes sense here\n- That would simplify the logic to retrieve these files (currently, we first look for the job ID, and then download its artifacts)\n- That would reduce the load on GitLab.com's infrastructure as serving static files from Pages is much cheaper than performing multiple API calls to retrieve the job and artifacts\n- That would make https://gitlab.com/gitlab-org/quality/team-tasks/-/issues/943 not needed as requests to Pages don't need to be authenticated (as long as the pages are public)","state":"closed","created_at":"2021-07-09T10:14:43.631Z","updated_at":"2022-10-10T09:13:29.898Z","closed_at":"2021-07-29T08:50:58.408Z","closed_by":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"labels":["Engineering Productivity","bug::performance","ep::pipeline","maintenance::pipelines","type::maintenance","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"}],"author":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"type":"ISSUE","assignee":{"id":128633,"username":"rymai","name":"Rémy Coutable","state":"active","avatar_url":"https://secure.gravatar.com/avatar/263da227929cc0035cb0eba512bcf81a?s=80\u0026d=identicon","web_url":"https://gitlab.com/rymai"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335675","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335675","notes":"https://gitlab.com/api/v4/projects/278964/issues/335675/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335675/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335675","relative":"#335675","full":"gitlab-org/gitlab#335675"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":90017389,"iid":335674,"project_id":278964,"title":"Track events with Redis HLL if usage ping enabled or if license usage ping is enabled","description":"When tracking events using Redis HLL we check if [usage ping setting is enabled ](https://gitlab.com/gitlab-org/gitlab/-/blob/master/lib/gitlab/usage_data_counters/hll_redis_counter.rb#L120)\n\nThe check should be updated with the corresponding new logic for ee.\n\nWe can use the [`PermitDataCategoriesService `](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/65336/diffs#9fa0e3f06fb038e36addc5798d841af161f5ed5b_0_3) service\n\nIf there is no category then we should not track any events using redis hll\n\n```ruby\n def track(values, event_name, context: '', time: Time.zone.now)\n          return unless ServicePing.PermitDataCategoriesService.new.execute.present?\n\n          event = event_for(event_name)\n          Gitlab::ErrorTracking.track_and_raise_for_dev_exception(UnknownEvent.new(\"Unknown event #{event_name}\")) unless event.present?\n\n          return unless feature_enabled?(event)\n\n          Gitlab::Redis::HLL.add(key: redis_key(event, time, context), value: values, expiry: expiry(event))\n        rescue StandardError =\u003e e\n          # Ignore any exceptions unless is dev or test env\n          # The application flow should not be blocked by erros in tracking\n          Gitlab::ErrorTracking.track_and_raise_for_dev_exception(e)\n        end\n```","state":"closed","created_at":"2021-07-09T10:02:29.518Z","updated_at":"2021-07-15T17:37:51.399Z","closed_at":"2021-07-15T17:37:51.384Z","closed_by":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"labels":["Unplanned","backend","devops::growth","group::product intelligence","section::growth","type::feature","workflow::verification"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"}],"author":{"id":5365921,"username":"alinamihaila","name":"Alina Mihaila","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/5365921/avatar.png","web_url":"https://gitlab.com/alinamihaila"},"type":"ISSUE","assignee":{"id":8013274,"username":"pskorupa","name":"Piotr Skorupa","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8013274/avatar.png","web_url":"https://gitlab.com/pskorupa"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335674","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335674","notes":"https://gitlab.com/api/v4/projects/278964/issues/335674/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335674/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335674","relative":"#335674","full":"gitlab-org/gitlab#335674"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6191,"epic":{"id":289512,"iid":6191,"title":"MVC Service Ping","url":"/groups/gitlab-org/-/epics/6191","group_id":9970,"human_readable_end_date":"Jul 18, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90011134,"iid":335665,"project_id":278964,"title":"Add trial experiment group menu","description":"In this issue we need to do two things:\n- add more functionality to menus, allowing them to render their content using a partial\n- add the new Trial Experiment menu to groups","state":"closed","created_at":"2021-07-09T08:22:34.921Z","updated_at":"2021-10-28T13:55:18.149Z","closed_at":"2021-07-22T05:12:48.483Z","closed_by":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"labels":["Category:Navigation \u0026 Settings","backend","devops::create","group::editor","section::dev","type::maintenance","workflow::in review"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"}],"author":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"type":"ISSUE","assignee":{"id":955795,"username":"fjsanpedro","name":"Francisco Javier López","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/955795/avatar.png","web_url":"https://gitlab.com/fjsanpedro"},"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335665","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335665","notes":"https://gitlab.com/api/v4/projects/278964/issues/335665/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335665/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335665","relative":"#335665","full":"gitlab-org/gitlab#335665"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5819,"epic":{"id":254641,"iid":5819,"title":"Group sidebar code refactor","url":"/groups/gitlab-org/-/epics/5819","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":90002927,"iid":335660,"project_id":278964,"title":"Github importer stuck in progress when failing to import repository","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"regression\" or \"bug\" label:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=regression\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n---\u003e\n\n### Summary\n\n\u003c!-- Summarize the bug encountered concisely. --\u003e\n\nWhen trying to import `rails/rails` repository from Github, `ImportRepositoryWorker` will fail, but import will be stuck in progress indefinitely.\n\n### Steps to reproduce\n\n\u003c!-- Describe how one can reproduce the issue - this is very important. Please use an ordered list. --\u003e\n\nTry to import `rails/rails` project from Github.\n\n### What is the current *bug* behavior?\n\n\u003c!-- Describe what actually happens. --\u003e\n\nImport stuck as in progress indefinitely.\n\n### What is the expected *correct* behavior?\n\n\u003c!-- Describe what you should see instead. --\u003e\n\nThe exception should be registered in `ImportFailures` and the `ImportState` should be updated to failed after exceptions that block the import.\n\n### Relevant logs and/or screenshots\n\n\u003c!-- Paste any relevant logs - please use code blocks (```) to format console output, logs, and code\n as it's tough to read otherwise. --\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eimporter.log\u003c/summary\u003e\n\u003cpre\u003e\n\n```json\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:44:21.141Z\",\"correlation_id\":\"01FA32BGXJKF46C2269KB1JCKF\",\"message\":\"starting stage\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:44:21.154Z\",\"correlation_id\":\"01FA32BGXJKF46C2269KB1JCKF\",\"message\":\"starting importer\",\"importer\":\"Importer::RepositoryImporter\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"ERROR\",\"time\":\"2021-07-08T12:44:30.036Z\",\"correlation_id\":\"01FA32BGXJKF46C2269KB1JCKF\",\"message\":\"stage failed\",\"error.message\":\"2:fetch remote: \\\"error: object 3b1316b37e444cb7378f09193f556ebee2541cb7: zeroPaddedFilemode: contains zero-padded file modes\\\\nfatal: fsck error in packed object\\\\nfatal: fetch-pack: invalid index-pack output\\\\n\\\": exit status 128.\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:44:52.620Z\",\"correlation_id\":\"12088d3c4cf03dd9db4f42ae47ac8a99\",\"message\":\"starting stage\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:44:52.630Z\",\"correlation_id\":\"12088d3c4cf03dd9db4f42ae47ac8a99\",\"message\":\"starting importer\",\"importer\":\"Importer::RepositoryImporter\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"ERROR\",\"time\":\"2021-07-08T12:45:00.356Z\",\"correlation_id\":\"12088d3c4cf03dd9db4f42ae47ac8a99\",\"message\":\"stage failed\",\"error.message\":\"2:fetch remote: \\\"error: object 3b1316b37e444cb7378f09193f556ebee2541cb7: zeroPaddedFilemode: contains zero-padded file modes\\\\nfatal: fsck error in packed object\\\\nfatal: fetch-pack: invalid index-pack output\\\\n\\\": exit status 128.\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:45:45.655Z\",\"correlation_id\":\"57903cb93b9f7056662e31c8d2c769ea\",\"message\":\"starting stage\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:45:45.665Z\",\"correlation_id\":\"57903cb93b9f7056662e31c8d2c769ea\",\"message\":\"starting importer\",\"importer\":\"Importer::RepositoryImporter\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"ERROR\",\"time\":\"2021-07-08T12:45:54.108Z\",\"correlation_id\":\"57903cb93b9f7056662e31c8d2c769ea\",\"message\":\"stage failed\",\"error.message\":\"2:fetch remote: \\\"error: object 3b1316b37e444cb7378f09193f556ebee2541cb7: zeroPaddedFilemode: contains zero-padded file modes\\\\nfatal: fsck error in packed object\\\\nfatal: fetch-pack: invalid index-pack output\\\\n\\\": exit status 128.\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:46:43.370Z\",\"correlation_id\":\"cf1314c4138bd9afcb1ad48eb907c5b3\",\"message\":\"starting stage\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:46:43.379Z\",\"correlation_id\":\"cf1314c4138bd9afcb1ad48eb907c5b3\",\"message\":\"starting importer\",\"importer\":\"Importer::RepositoryImporter\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"ERROR\",\"time\":\"2021-07-08T12:46:51.158Z\",\"correlation_id\":\"cf1314c4138bd9afcb1ad48eb907c5b3\",\"message\":\"stage failed\",\"error.message\":\"2:fetch remote: \\\"error: object 3b1316b37e444cb7378f09193f556ebee2541cb7: zeroPaddedFilemode: contains zero-padded file modes\\\\nfatal: fsck error in packed object\\\\nfatal: fetch-pack: invalid index-pack output\\\\n\\\": exit status 128.\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:49:39.248Z\",\"correlation_id\":\"62ef8bf8f7423b29dd6df7d4b5e63c68\",\"message\":\"starting stage\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:49:39.259Z\",\"correlation_id\":\"62ef8bf8f7423b29dd6df7d4b5e63c68\",\"message\":\"starting importer\",\"importer\":\"Importer::RepositoryImporter\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"ERROR\",\"time\":\"2021-07-08T12:49:47.146Z\",\"correlation_id\":\"62ef8bf8f7423b29dd6df7d4b5e63c68\",\"message\":\"stage failed\",\"error.message\":\"2:fetch remote: \\\"error: object 3b1316b37e444cb7378f09193f556ebee2541cb7: zeroPaddedFilemode: contains zero-padded file modes\\\\nfatal: fsck error in packed object\\\\nfatal: fetch-pack: invalid index-pack output\\\\n\\\": exit status 128.\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:55:53.664Z\",\"correlation_id\":\"eb8dcd03758482f0f54dcab2192330a4\",\"message\":\"starting stage\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"INFO\",\"time\":\"2021-07-08T12:55:53.680Z\",\"correlation_id\":\"eb8dcd03758482f0f54dcab2192330a4\",\"message\":\"starting importer\",\"importer\":\"Importer::RepositoryImporter\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"ERROR\",\"time\":\"2021-07-08T12:56:01.458Z\",\"correlation_id\":\"eb8dcd03758482f0f54dcab2192330a4\",\"message\":\"stage failed\",\"error.message\":\"2:fetch remote: \\\"error: object 3b1316b37e444cb7378f09193f556ebee2541cb7: zeroPaddedFilemode: contains zero-padded file modes\\\\nfatal: fsck error in packed object\\\\nfatal: fetch-pack: invalid index-pack output\\\\n\\\": exit status 128.\",\"import_source\":\"github\",\"project_id\":644,\"import_stage\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\"}\n{\"severity\":\"ERROR\",\"time\":\"2021-07-08T12:56:01.460Z\",\"correlation_id\":null,\"event\":\"github_importer_exhausted\",\"message\":\"2:fetch remote: \\\"error: object 3b1316b37e444cb7378f09193f556ebee2541cb7: zeroPaddedFilemode: contains zero-padded file modes\\\\nfatal: fsck error in packed object\\\\nfatal: fetch-pack: invalid index-pack output\\\\n\\\": exit status 128.\",\"class\":\"Gitlab::GithubImport::Stage::ImportRepositoryWorker\",\"args\":[644],\"exception_message\":\"2:fetch remote: \\\"error: object 3b1316b37e444cb7378f09193f556ebee2541cb7: zeroPaddedFilemode: contains zero-padded file modes\\\\nfatal: fsck error in packed object\\\\nfatal: fetch-pack: invalid index-pack output\\\\n\\\": exit status 128.\",\"exception_backtrace\":[\"/srv/gitlab/lib/gitlab/git/wraps_gitaly_errors.rb:15:in `rescue in wrapped_gitaly_errors'\",\"/srv/gitlab/lib/gitlab/git/wraps_gitaly_errors.rb:6:in `wrapped_gitaly_errors'\",\"/srv/gitlab/lib/gitlab/metrics/instrumentation.rb:162:in `wrapped_gitaly_errors'\",\"/srv/gitlab/lib/gitlab/git/repository.rb:820:in `fetch_remote'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/activesupport-6.1.3.2/lib/active_support/core_ext/module/delegation.rb:310:in `public_send'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/activesupport-6.1.3.2/lib/active_support/core_ext/module/delegation.rb:310:in `method_missing'\",\"/srv/gitlab/lib/gitlab/metrics/instrumentation.rb:162:in `method_missing'\",\"/srv/gitlab/app/models/repository.rb:941:in `fetch_as_mirror'\",\"/srv/gitlab/lib/gitlab/metrics/instrumentation.rb:162:in `fetch_as_mirror'\",\"/srv/gitlab/lib/gitlab/github_import/importer/repository_importer.rb:53:in `import_repository'\",\"/srv/gitlab/lib/gitlab/github_import/importer/repository_importer.rb:37:in `execute'\",\"/srv/gitlab/app/workers/gitlab/github_import/stage/import_repository_worker.rb:29:in `import'\",\"/srv/gitlab/app/workers/concerns/gitlab/github_import/stage_methods.rb:24:in `try_import'\",\"/srv/gitlab/app/workers/concerns/gitlab/github_import/stage_methods.rb:14:in `perform'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:192:in `execute_job'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:165:in `block (2 levels) in process'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/duplicate_jobs/strategies/until_executing.rb:16:in `perform'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/duplicate_jobs/duplicate_job.rb:41:in `perform'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/duplicate_jobs/server.rb:8:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/worker_context.rb:9:in `wrap_in_optional_context'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/worker_context/server.rb:17:in `block in call'\",\"/srv/gitlab/lib/gitlab/application_context.rb:74:in `block in use'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/gitlab-labkit-0.18.0/lib/labkit/context.rb:36:in `with_context'\",\"/srv/gitlab/lib/gitlab/application_context.rb:74:in `use'\",\"/srv/gitlab/lib/gitlab/application_context.rb:27:in `with_context'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/worker_context/server.rb:15:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_status/server_middleware.rb:7:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_versioning/middleware.rb:9:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/admin_mode/server.rb:14:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/instrumentation_logger.rb:9:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/gitlab-labkit-0.18.0/lib/labkit/middleware/sidekiq/server.rb:21:in `block in call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/gitlab-labkit-0.18.0/lib/labkit/middleware/sidekiq/context/server.rb:15:in `block in call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/gitlab-labkit-0.18.0/lib/labkit/context.rb:36:in `with_context'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/gitlab-labkit-0.18.0/lib/labkit/middleware/sidekiq/context/server.rb:14:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/gitlab-labkit-0.18.0/lib/labkit/middleware/sidekiq/server.rb:20:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/batch_loader.rb:7:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/extra_done_log_metadata.rb:7:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/request_store_middleware.rb:10:in `block in call'\",\"/srv/gitlab/lib/gitlab/with_request_store.rb:17:in `enabling_request_store'\",\"/srv/gitlab/lib/gitlab/with_request_store.rb:10:in `with_request_store'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/request_store_middleware.rb:9:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/arguments_logger.rb:8:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/server_metrics.rb:69:in `block in call'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/server_metrics.rb:92:in `block in instrument'\",\"/srv/gitlab/lib/gitlab/metrics/background_transaction.rb:30:in `run'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/server_metrics.rb:92:in `instrument'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/server_metrics.rb:68:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/monitor.rb:8:in `block in call'\",\"/srv/gitlab/lib/gitlab/sidekiq_daemon/monitor.rb:49:in `within_job'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/monitor.rb:7:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/lib/gitlab/sidekiq_middleware/size_limiter/server.rb:13:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/marginalia-1.10.0/lib/marginalia/sidekiq_instrumentation.rb:10:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sentry-raven-3.1.2/lib/raven/integrations/sidekiq/cleanup_middleware.rb:7:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/middleware/chain.rb:133:in `invoke'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:164:in `block in process'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:137:in `block (6 levels) in dispatch'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/job_retry.rb:109:in `local'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:136:in `block (5 levels) in dispatch'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/rails.rb:43:in `block in call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/activesupport-6.1.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/activesupport-6.1.3.2/lib/active_support/reloader.rb:72:in `block in wrap'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/activesupport-6.1.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/activesupport-6.1.3.2/lib/active_support/reloader.rb:71:in `wrap'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/rails.rb:42:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:132:in `block (4 levels) in dispatch'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:250:in `stats'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:127:in `block (3 levels) in dispatch'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/job_logger.rb:8:in `call'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:126:in `block (2 levels) in dispatch'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/job_retry.rb:74:in `global'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:125:in `block in dispatch'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/logging.rb:48:in `with_context'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/logging.rb:42:in `with_job_hash_context'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:124:in `dispatch'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:163:in `process'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:83:in `process_one'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/processor.rb:71:in `run'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/util.rb:16:in `watchdog'\",\"/srv/gitlab/vendor/bundle/ruby/2.7.0/gems/sidekiq-5.2.9/lib/sidekiq/util.rb:25:in `block in safe_thread'\"]}\n```\n\n\u003c/pre\u003e\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eStatus check via curl\u003c/summary\u003e\n\u003cpre\u003e\n\n```\n❯ curl -s --header \"PRIVATE-TOKEN: ******\" \"https://gitlab-review-acunskis-t-br5urk.gitlab-review.app/api/v4/projects/644/import\" | jq\n{\n  \"id\": 644,\n  \"description\": \"Ruby on Rails\",\n  \"name\": \"imported-project-dfee691315204bfb\",\n  \"name_with_namespace\": \"gitlab-qa-sandbox-group / qa-test-2021-07-08-15-44-13-0cade871bb0fb87c / imported-project-dfee691315204bfb\",\n  \"path\": \"imported-project-dfee691315204bfb\",\n  \"path_with_namespace\": \"gitlab-qa-sandbox-group/qa-test-2021-07-08-15-44-13-0cade871bb0fb87c/imported-project-dfee691315204bfb\",\n  \"created_at\": \"2021-07-08T12:44:20.463Z\",\n  \"import_status\": \"started\",\n  \"correlation_id\": \"01FA32BGXJKF46C2269KB1JCKF\",\n  \"failed_relations\": [],\n  \"import_error\": null\n}\n```\n\n\u003c/pre\u003e\n\u003c/details\u003e","state":"closed","created_at":"2021-07-09T06:03:27.796Z","updated_at":"2021-10-22T10:22:44.401Z","closed_at":"2021-08-16T10:47:12.182Z","closed_by":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"labels":["Category:Importers","Importer:GitHub","Next Up","backend","customer","devops::manage","direction","group::import","priority::2","section::dev","severity::2","type::bug","workflow::production"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"}],"author":{"id":8551613,"username":"acunskis","name":"Andrejs Cunskis","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8551613/avatar.png","web_url":"https://gitlab.com/acunskis"},"type":"ISSUE","assignee":{"id":696751,"username":"kassio","name":"Kassio Borges","state":"active","avatar_url":"https://secure.gravatar.com/avatar/be7919dfa5d1e8b8826bf51bfc747055?s=80\u0026d=identicon","web_url":"https://gitlab.com/kassio"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335660","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335660","notes":"https://gitlab.com/api/v4/projects/278964/issues/335660/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335660/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335660","relative":"#335660","full":"gitlab-org/gitlab#335660"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":3050,"epic":{"id":39430,"iid":3050,"title":"🐞 GitHub Importer bugs","url":"/groups/gitlab-org/-/epics/3050","group_id":9970},"iteration":null,"health_status":null},{"id":89995395,"iid":335640,"project_id":278964,"title":"[DevOps Adoption] Indicate when the next update will be made","description":"### Overview\n\nThere is a message above the adoption table that shows when the data was last updated. I see that it was updated a little over a week ago, but it leaves me wondering when the next update will happen. \n\n### Proposal\n\nAdd a note explaining when updates are made:\n\n`Feature adoption is based on usage in the previous calendar month. Data is updated at the beginning of each month. Last updated: xxxx-xx-xx`","state":"closed","created_at":"2021-07-09T00:06:26.409Z","updated_at":"2021-08-12T13:48:11.800Z","closed_at":"2021-08-12T13:26:36.529Z","closed_by":{"id":2083197,"username":"stingrayza","name":"Raimund Hook","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d08742197137b787019dbe69131fa5f5?s=80\u0026d=identicon","web_url":"https://gitlab.com/stingrayza"},"labels":["Category:DevOps Reports","Technical Writing","UI text","[deprecated] Accepting merge requests","devops::manage","documentation","frontend","group::optimize","priority::3","section::dev","tw-weight::1","workflow::ready for development"],"milestone":{"id":1850126,"iid":62,"group_id":9970,"title":"14.2","description":"","state":"active","created_at":"2021-01-26T16:57:35.404Z","updated_at":"2021-07-22T19:45:42.498Z","due_date":"2021-08-17","start_date":"2021-07-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/62"},"assignees":[{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"}],"author":{"id":4447217,"username":"ljlane","name":"Larissa Lane","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/ac4027d3a4e3bd62740ea1443a42f6c5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ljlane"},"type":"ISSUE","assignee":{"id":1749038,"username":"wortschi","name":"Martin Wortschack","state":"active","avatar_url":"https://secure.gravatar.com/avatar/81f1a88935a2a512aa14db650ed37fdb?s=80\u0026d=identicon","web_url":"https://gitlab.com/wortschi"},"user_notes_count":21,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335640","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335640","notes":"https://gitlab.com/api/v4/projects/278964/issues/335640/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335640/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335640","relative":"#335640","full":"gitlab-org/gitlab#335640"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6050,"epic":{"id":274617,"iid":6050,"title":"[DevOps Adoption] Usability improvements","url":"/groups/gitlab-org/-/epics/6050","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89994711,"iid":335638,"project_id":278964,"title":"[DevOps Adoption] Add an adoption table in the Overview tab","description":"### Overview\n\nWith https://gitlab.com/gitlab-org/gitlab/-/issues/330401/ we now have an Overview tab in DevOps Adoption but there are a couple of issues with how the table is being displayed. \n\n### Problems to solve\n\n1. The \"Add sub-group to table\" selector is displayed in the Overview tab even though there is no table on that page. \n\n     ![Screen_Shot_2021-07-08_at_4.15.26_PM](/uploads/996c2f2f24fb00a924eeb420ea4a0eae/Screen_Shot_2021-07-08_at_4.15.26_PM.png)\n\n1. If I can't see the list of groups in the Overview tab, I can't easily see which groups are being considered in the adoption progress bar.\n\n1. The \"Add sub-group to table\" selector is displayed in each of the Dev, Sec, and Ops tabs. Adding a sub group to the table in one tab adds it to the table in all tabs. This might not be intuitive with the current design.\n\n### Proposal\n\n1. Include a table in the Overview page so that users can easily see which groups are being considered for the progress bar data\n1. The table on the Overview page looks like ![Screen_Shot_2021-08-03_at_1.30.51_PM](/uploads/b89561b2cfc472b8c68ff11a4a927563/Screen_Shot_2021-08-03_at_1.30.51_PM.png)\n1. The table has the delete icon in each row\n\n### Requirements\n1. The \"Add or remove subgroup\" selector works to add or remove groups from the table in the Overview tab. \n1. When subgroups are added or removed from the Overview tab, they are also added/removed from the Dev, Sec, and Ops tabs","state":"closed","created_at":"2021-07-08T23:25:46.875Z","updated_at":"2021-09-15T06:51:32.520Z","closed_at":"2021-09-15T06:51:32.501Z","closed_by":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"labels":["Category:DevOps Reports","devops::manage","direction","documentation","frontend","group::optimize","priority::2","section::dev","tw-weight::3","type::feature","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"}],"author":{"id":4447217,"username":"ljlane","name":"Larissa Lane","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/ac4027d3a4e3bd62740ea1443a42f6c5?s=80\u0026d=identicon","web_url":"https://gitlab.com/ljlane"},"type":"ISSUE","assignee":{"id":3101551,"username":"blabuschagne","name":"Brandon Labuschagne","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3101551/avatar.png","web_url":"https://gitlab.com/blabuschagne"},"user_notes_count":21,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335638","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335638","notes":"https://gitlab.com/api/v4/projects/278964/issues/335638/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335638/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335638","relative":"#335638","full":"gitlab-org/gitlab#335638"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5805,"epic":{"id":254296,"iid":5805,"title":"[DevOps Adoption] Show high-level overview of GitLab adoption","url":"/groups/gitlab-org/-/epics/5805","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89994360,"iid":335635,"project_id":278964,"title":"Follow-up from \"Fix trivy template license\"","description":"The following discussion from gitlab-org/security-products/analyzers/container-scanning!2528 should be addressed:\n\n- [ ] @zmartins started a [discussion](https://gitlab.com/gitlab-org/security-products/analyzers/container-scanning/-/merge_requests/2528#note_622040094):  (+1 comment)\n\n    \u003e WDYT about using the permalink?\n    \u003e \n    \u003e ```suggestion:-0+0\n    \u003e Template copied from https://github.com/aquasecurity/trivy/blob/712f9eba35999cfa6ba982a620bdd4866e8f40a2/contrib/gitlab.tpl\n    \u003e ```","state":"closed","created_at":"2021-07-08T23:08:52.553Z","updated_at":"2021-10-28T13:55:19.338Z","closed_at":"2021-07-12T14:41:58.653Z","closed_by":{"id":4906322,"username":"zmartins","name":"Zamir Martins","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4906322/avatar.png","web_url":"https://gitlab.com/zmartins"},"labels":["Category:Container Scanning","backend","devops::govern","follow-up","group::security policies","section::sec","type::maintenance","workflow::in review"],"milestone":{"id":1850118,"iid":61,"group_id":9970,"title":"14.1","description":"","state":"closed","created_at":"2021-01-26T16:56:41.887Z","updated_at":"2022-04-21T07:25:22.879Z","due_date":"2021-07-17","start_date":"2021-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/61"},"assignees":[{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"}],"author":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"type":"ISSUE","assignee":{"id":480804,"username":"thiagocsf","name":"Thiago Figueiró","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/480804/avatar.png","web_url":"https://gitlab.com/thiagocsf"},"user_notes_count":1,"merge_requests_count":1,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335635","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 1 checklist item completed","_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335635","notes":"https://gitlab.com/api/v4/projects/278964/issues/335635/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335635/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335635","relative":"#335635","full":"gitlab-org/gitlab#335635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":89987481,"iid":335566,"project_id":278964,"title":"Investigate performance of Projects::MergeRequestsController#discussions","description":"Reported as slow in https://gitlab.com/gitlab-org/gitlab/-/issues/335329#note_620405174\n\nDashboard: https://log.gprd.gitlab.net/goto/1228b988e958de29d5a90264dcf7bffb\n\n| json.meta.caller_id.keyword: Descending              | Count      | Operations over threshold |\n|------------------------------------------------------|------------|---------------------------|\n| Projects::MergeRequestsController#discussions        | 4,674,131  | 121,601                   |\n\n\nPotentially related to \n\n+ https://gitlab.com/gitlab-org/gitlab/-/issues/335236\n+ https://gitlab.com/gitlab-org/gitlab/-/issues/209784\n+ https://gitlab.com/gitlab-org/gitlab/-/issues/332967","state":"closed","created_at":"2021-07-08T19:43:42.599Z","updated_at":"2021-09-18T07:00:59.032Z","closed_at":"2021-09-13T16:20:44.150Z","closed_by":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"labels":["Deliverable","Engineering Allocation","OKR FY22 Q2::Large MR","api","backend","bug::performance","devops::create","group::code review","section::dev","workflow::in dev"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":1884221,"username":"patrickbajao","name":"Patrick Bajao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1884221/avatar.png","web_url":"https://gitlab.com/patrickbajao"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335566","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335566","notes":"https://gitlab.com/api/v4/projects/278964/issues/335566/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335566/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335566","relative":"#335566","full":"gitlab-org/gitlab#335566"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6292,"epic":{"id":302092,"iid":6292,"title":"Create:Code Review Error Budget Improvement","url":"/groups/gitlab-org/-/epics/6292","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":89987297,"iid":335565,"project_id":278964,"title":"Investigate performance of Projects::MergeRequestsController#show","description":"Reported as slow in https://gitlab.com/gitlab-org/gitlab/-/issues/335329#note_620405174\n\nDashboard: https://log.gprd.gitlab.net/goto/1228b988e958de29d5a90264dcf7bffb\n\n| json.meta.caller_id.keyword: Descending              | Count      | Operations over threshold |\n|------------------------------------------------------|------------|---------------------------|\n| Projects::MergeRequestsController#show               | 11,526,985 | 183,969                   |\n\n\n\nPossibly related to \n+ https://gitlab.com/gitlab-org/gitlab/-/issues/331421\n+ https://gitlab.com/gitlab-org/gitlab/-/issues/19471\n+ https://gitlab.com/gitlab-org/gitlab/-/issues/332966","state":"closed","created_at":"2021-07-08T19:38:08.189Z","updated_at":"2021-09-18T07:00:59.077Z","closed_at":"2021-09-14T18:56:36.999Z","closed_by":{"id":4058309,"username":"mnohr","name":"Matt Nohr","state":"active","avatar_url":"https://secure.gravatar.com/avatar/f2b70c7a75fd0a15ef789d4b1e620449?s=80\u0026d=identicon","web_url":"https://gitlab.com/mnohr"},"labels":["Deliverable","Engineering Allocation","OKR FY22 Q2::Large MR","api","backend","backend-weight::2","bug::performance","devops::create","frontend","frontend-weight::1","group::code review","section::dev","workflow::in dev"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},{"id":4901936,"username":"dskim_gitlab","name":"Sincheol (David) Kim","state":"active","avatar_url":"https://secure.gravatar.com/avatar/84a984a56c54d1d31338678421cecc32?s=80\u0026d=identicon","web_url":"https://gitlab.com/dskim_gitlab"}],"author":{"id":40375,"username":"kerrizor","name":"Kerri Miller","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/40375/avatar.png","web_url":"https://gitlab.com/kerrizor"},"type":"ISSUE","assignee":{"id":113870,"username":"iamphill","name":"Phil Hughes","state":"active","avatar_url":"https://secure.gravatar.com/avatar/533a51534470a11062df393543eab649?s=80\u0026d=identicon","web_url":"https://gitlab.com/iamphill"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/gitlab/-/issues/335565","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/278964/issues/335565","notes":"https://gitlab.com/api/v4/projects/278964/issues/335565/notes","award_emoji":"https://gitlab.com/api/v4/projects/278964/issues/335565/award_emoji","project":"https://gitlab.com/api/v4/projects/278964","closed_as_duplicate_of":null},"references":{"short":"#335565","relative":"#335565","full":"gitlab-org/gitlab#335565"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6292,"epic":{"id":302092,"iid":6292,"title":"Create:Code Review Error Budget Improvement","url":"/groups/gitlab-org/-/epics/6292","group_id":9970,"human_readable_end_date":"Sep 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null}]